{"version":3,"sources":["app3/system/healingSys.cljs"],"mappings":"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","names":["model","event","pred__36293","cljs.core/=","expr__36294","cljs.core/first","G__36296","G__36297","vec__36301","cljs.core/rest","players","cljs.core.filter.cljs$core$IFn$_invoke$arity$2","cljs.core.partial.cljs$core$IFn$_invoke$arity$2","app3.tool/checkProperty","enemies","others","collides","cljs.core.map.cljs$core$IFn$_invoke$arity$2","p__36304","vec__36305","_","cljs.core.nth.cljs$core$IFn$_invoke$arity$3","isCollide","iter__4523__auto__","s__36309","cljs.core/LazySeq","temp__5735__auto__","cljs.core/seq","xs__6292__auto__","o1","iterys__4519__auto__","s__36311","cljs.core/chunked-seq?","c__4521__auto__","size__4522__auto__","cljs.core/count","b__36313","cljs.core/chunk-buffer","i__36312","o2","cljs.core._nth.cljs$core$IFn$_invoke$arity$2","cljs.core/chunk-append","app3.tool/checkCollide","cljs.core/chunk-cons","cljs.core/chunk","iter__36310","cljs.core/chunk-rest","cljs.core/cons","fs__4520__auto__","cljs.core.concat.cljs$core$IFn$_invoke$arity$2","iter__36308","vec__36314","plyr","other","app3.emitter/send","fexpr__36318","cljs.core.update.cljs$core$IFn$_invoke$arity$3","origin","cljs.core.comp.cljs$core$IFn$_invoke$arity$2","cljs.core/not","cljs.core.replace.cljs$core$IFn$_invoke$arity$2","fexpr__36319","app3.system.healingSys/playerCollideHealing","cljs.core.merge.cljs$core$IFn$_invoke$arity$variadic","x__4222__auto__","y__4223__auto__","pred__36320","expr__36321","G__36323","G__36324","vec__36325","app3.system.healingSys/spawnHealing","what","cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2","healings","cljs.core/rand-int","cljs.core/chunk-first"],"sourcesContent":["(ns app3.system.healingSys\r\n  (:require-macros [app3.macros :as m]))\r\n\r\n(m/defPlayerCollide playerCollideHealing :healing \r\n  (fn [plyr other] \r\n    (merge plyr {:hp (min 100 (+ 50 (:hp plyr)))})))\r\n\r\n\r\n(m/defsys spawnHealing\r\n  :spawn [what]\r\n  (if (= :healing what)\r\n    (m/lete [healings [:healing]]\r\n      (if (< (count healings) 3)\r\n        (update model :entities (partial cons {:position [(rand-int 600) (rand-int 600)] :size [4 4] :healing 0}))\r\n        model))\r\n    model))"]}