{"version":3,"sources":["app3/weapon/meleeGun.cljs"],"mappings":";;;AAIA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAKA;AAEL,AAAA,AAAMC,AAAWC,AAAQC;AAAzB,AACE,AAAMC,AAAK,AAACC,AAAiB,AAAAC,AAAA,AAAW,AAACC,AAAMJ,AAAK,AAACK,AAAOL;AACtDM,AAAK,AAASL,AAAKF,AAAQQ;AADjC,AAAA,AAEG,AAAA,AAAM,AAAAD,AAAiB,AAAA,AAAM,AAAAA;;AAElC,AAAA,AAAME,AAAcC,AAAKC,AAAKC;AAA9B,AACE,AAAMX,AAAI,AAACY,AAAe,AAAA,AAAWF,AAAM,AAAA,AAAWC;AAAtD,AACE,AAAAE,AAAA;AAAAC;AAAA,AAAA,AAAAC,AAAA,AAAA;;AAAA,AAAA,AAAAD,AAAAA;;AAAA,AAAA,AAAAE,AAAA,AAAAC,AAAAH;AAAA,AAAA,AAAAE;AAAA,AAAA,AAAAF,AAAAE;AAAA,AAAA,AAAA,AAAAE,AAAAJ;AAAA,AAAAK,AAs5E+C,AAAAqB,AAAA1B;AAt5E/CM,AAAA,AAAAC,AAAAF;AAAAG,AAAA,AAAAC,AAAAH;AAAA,AAAA,AAAA,AAAA,AAAAI,AAAA;;AAAA,AAAA,AAAA,AAAAA,AAAAJ;AAAA,AAAA,AAAAK,AAAAN,AAAAK,AAAMS;AAAN,AAAA,AAAA,AAAAP,AAAAJ,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACa,AAAA,AAAWZ,AACX,AAAA,AAAC4B,AAAwB,AAACxC,AAAUmC,AAAEjC,AAE1CU;;AAJT,AAAA,AAAAc,AAAA;;;;AAAA;;;;;AAAA,AAAAG,AAAA,AAAAC,AAAAN,AAAA,AAAAO,AAAA,AAAAC,AAAAhB;;AAAA,AAAAa,AAAA,AAAAC,AAAAN,AAAA;;;AAAA,AAAA,AAAAlB,AAAAU,AAAMmB;AAAN,AAAA,AAAAF,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAF,AAAA,AAAAG,AAAAlB,AACa,AAAA,AAAWJ,AACX,AAAA,AAAC4B,AAAwB,AAACxC,AAAUmC,AAAEjC,AAE1CU;;;AAJT;;;;;AAAA,AAAA;;;AAAA,AAAA,AAAAG,AAAQ,AAAA,AAACqB,AAAO,AAAA,AAACC,AAAQ,AAAA,AAACC,AAAQC;;AAQtC,AAAAE,AAAA,AAAA,AAAyD9B,AAAKC,AAAKC;AAAnE,AACE,AAACH,AAAaC,AAAKC,AAAKC","names":["app3.weapon.meleeGun/meleeGun","app3.weapon.meleeGun/rotateDir","radians","dir","dirV","js/Vector.create","js/Array","cljs.core/first","cljs.core/second","rotV","js/Line.Z","app3.weapon.meleeGun/createBullet","self","plyr","target","app3.tool/seek","iter__4523__auto__","s__36184","cljs.core/LazySeq","temp__5735__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__4521__auto__","size__4522__auto__","cljs.core/count","b__36186","cljs.core/chunk-buffer","i__36185","cljs.core._nth.cljs$core$IFn$_invoke$arity$2","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__36183","cljs.core/chunk-rest","cljs.core/cons","cljs.core/rest","a","cljs.core.take.cljs$core$IFn$_invoke$arity$2","cljs.core/iterate","cljs.core.partial.cljs$core$IFn$_invoke$arity$2","cljs.core/+","app3.tool/makeLength","app3.interface.weapon/createBullet","cljs.core/chunk-first"],"sourcesContent":["(ns app3.weapon.meleeGun\r\n  (:require [app3.interface.weapon]))\r\n\r\n\r\n(def meleeGun {:id nil :weapon :meleeGun :hot 0 :bulletCount 10 :position [0 0]})\r\n\r\n(defn rotateDir [radians dir]\r\n  (let [dirV (js/Vector.create (js/Array. (first dir) (second dir) 0))\r\n        rotV (.rotate dirV radians js/Line.Z)]\r\n    [(aget rotV.elements 0) (aget rotV.elements 1)]))\r\n\r\n(defn createBullet [self plyr target] \r\n  (let [dir (app3.tool/seek (:position plyr) (:position target))]\r\n    (for [a (take 5 (iterate (partial + 0.2) -0.4))]\r\n      {:position (:position plyr)\r\n       :velocity (app3.tool/makeLength 15 (rotateDir a dir))\r\n       :size [5 5]\r\n       :from plyr\r\n       :bullet 0\r\n       :flyLength 100})))\r\n\r\n(defmethod app3.interface.weapon/createBullet :meleeGun [self plyr target]\r\n  (createBullet self plyr target))\r\n"]}