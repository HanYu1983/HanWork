{"version":3,"sources":["app3/system/input.cljs"],"mappings":";;AAGA,AAAA,AAAAA,AAAAC,AAAUa;AAAV,AAAA,AAAAZ,AAAAC;AAAAC,AAAA,AAAAC,AAAAJ;AAAA,AAAA,AAAA,AAAAK,AAAA;AAAAC,AAAAH;AAAA,AAAA,AAAAF,AAAAA,AAAAI,AAAAC,AAAAL,AAAAI,AAAAC;;AAAA,AAAAC,AAAA,AAAAC,AAAAR;AAAA,AAAAS,AAAAF,AAAA,AAAA,AACYO;AADZ,AAEE,AAAAC,AAAA,AAAA,AAAAhB;AAAAiB,AAAA,AAAAC,AAAA,AAAAC,AAAAC,AAAA,AAAA,AAAAJ;AAAAK,AAAA,AAAAC,AAAA;AAAAC;AAAA,AAAA,AAAAC,AAAAD;AAAAC,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAAC,AAAA,AAAAD,AAAA,AAAA,AAAA,AAAA,AAAAE,AAAAC,AAAAH,AAAAA;AAAAI,AAAAJ;AAAA,AAAAK,AAAAL,AAAA,AAAUS;AAAV,AACE,AAAMC,AAAW,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAACF,AACD,AAACH,AAAId;AADtB,AAEE,AAAA,AAACe,AAAOF,AAAe,AAAA,AAACT,AAAQgB,AAAoBD;;AAHxDjB;AAAA,AAAA,AAAAa,AAAA9B,AAAA,AAAA,AAAAmB,AAAAY,AAAA,AAAAC,AAAAf,AAAAI;;AAFF,AAAA,AAAAV,AAAA;AAAAC,AAAAR;AAAA,AAAA,AAAAF,AAAAA,AAAAS,AAAAC,AAAAV,AAAAS,AAAAC;;AAAA,AAAAC,AAAA,AAAAJ,AAAAR;AAAA,AAAAS,AAAAG,AAAA,AAAA,AAOUE;AAPV,AAQE,AAAAC,AAAA,AAAA,AAAAhB;AAAAiB,AAAA,AAAAC,AAAA,AAAAC,AAAAC,AAAA,AAAA,AAAAJ;AAAAK,AAAA,AAAAC,AAAA;AAAAc;AAAA,AAAA,AAAAC,AAAAD;AAAAC,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAAZ,AAAA,AAAAY,AAAA,AAAA,AAAA,AAAA,AAAAX,AAAAC,AAAAU,AAAAA;AAAAT,AAAAS;AAAA,AAAAR,AAAAQ,AAAA,AAAUJ;AAAV,AACE,AAAMC,AAAW,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAACF,AACD,AAACH,AAAId;AADtB,AAEE,AAAA,AAACe,AAAOF,AAAe;AAAKX;AAAL,AAAa,AAAA,AAACqB,AAAuBrB,AAASiB;;;;AAHzEjB;AAAA,AAAA,AAAAa,AAAA9B,AAAA,AAAA,AAAAmB,AAAAY,AAAA,AAAAC,AAAAf,AAAAI;;AARFrB","names":["model","event","pred__36255","cljs.core/=","expr__36256","cljs.core/first","G__36258","G__36259","vec__36260","cljs.core/rest","cljs.core.nth.cljs$core$IFn$_invoke$arity$3","G__36278","G__36279","vec__36280","app3.system.input/playerController","key","entities","origin","cljs.core.filter.cljs$core$IFn$_invoke$arity$2","cljs.core.partial.cljs$core$IFn$_invoke$arity$2","app3.tool/checkProperty","next","cljs.core.map.cljs$core$IFn$_invoke$arity$2","p__36275","map__36276","cljs.core/PROTOCOL_SENTINEL","cljs.core.apply.cljs$core$IFn$_invoke$arity$2","cljs.core/hash-map","entity","cljs.core.get.cljs$core$IFn$_invoke$arity$2","cljs.core.update.cljs$core$IFn$_invoke$arity$3","cljs.core/replace","cljs.core/zipmap","player","action","clojure.set/union","p__36283","map__36284","clojure.set.difference.cljs$core$IFn$_invoke$arity$2"],"sourcesContent":["(ns app3.system.input\n  (:require-macros [app3.macros :as m]))\n\n(m/defsys playerController\n  :keydown [key]\n  (m/docom {player :player}\n    (let [action (-> (zipmap [\"w\" \"a\" \"s\" \"d\" \" \"] [:up :left :down :right :fire])\n                     (get key))]\n      (update entity :action (partial clojure.set/union #{action}))))\n  \n  :keyup [key]\n  (m/docom {player :player}\n    (let [action (-> (zipmap [\"w\" \"a\" \"s\" \"d\" \" \"] [:up :left :down :right :fire])\n                     (get key))]\n      (update entity :action (fn [origin] (clojure.set/difference origin #{action}))))))\n"]}