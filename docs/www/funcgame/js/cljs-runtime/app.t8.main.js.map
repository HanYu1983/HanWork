{"version":3,"sources":["app/t8/main.cljs"],"mappings":"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","names":["app.t8.main/train","qmodel","n","ctx","app.t8.board/board","cljs.core.println.cljs$core$IFn$_invoke$arity$variadic","cljs.core/select-keys","map__25506","cljs.core/PROTOCOL_SENTINEL","cljs.core.apply.cljs$core$IFn$_invoke$arity$2","cljs.core/hash-map","cljs.core.get.cljs$core$IFn$_invoke$arity$2","brain","board","activePlayer","win","draw","lose","self","possibleActions","app.t8.board/possibleActions","isSelf","cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2","cljs.core/count","cljs.core.merge.cljs$core$IFn$_invoke$arity$variadic","isWin","app.t8.board/checkWin","isLose","cljs.core/not","reward","and__4120__auto__","app.t8.qlearning/learn","or__4131__auto__","selectAction","app.t8.qlearning/selectAction","nextBoard","cljs.core.update_in.cljs$core$IFn$_invoke$arity$3","cljs.core/constantly","cljs.core.nth.cljs$core$IFn$_invoke$arity$2","cljs.core/rand-int","app.t8.main/background-train","atomModel","c__25042__auto__","cljs.core.async.chan.cljs$core$IFn$_invoke$arity$1","cljs.core.async.impl.dispatch/run","f__25043__auto__","switch__25019__auto__","state_25520","state_val_25521","inst_25508","cljs.core/deref","inst_25509","statearr-25522","statearr-25523","inst_25511","cljs.core.async.impl.ioc-helpers/take!","inst_25518","cljs.core.async.impl.ioc-helpers/return-chan","inst_25513","inst_25514","inst_25515","statearr-25524","statearr-25525","statearr-25526","state-machine__25020__auto__","ret-value__25021__auto__","result__25022__auto__","cljs.core/keyword-identical?","e25527","js/Object","ex__25023__auto__","statearr-25528","cljs.core.async.impl.ioc-helpers/process-exception","state__25044__auto__","statearr-25529","cljs.core.async.impl.ioc-helpers/USER-START-IDX","cljs.core.async.impl.ioc-helpers/run-state-machine-wrapped","cljs.core.async/timeout","cljs.core/reset!","app.t8.main/background-test","state_25577","state_val_25578","statearr-25579","inst_25531","inst_25575","inst_25533","inst_25534","inst_25535","cljs.core/PersistentVector","inst_25536","inst_25537","inst_25538","inst_25539","inst_25540","inst_25541","inst_25542","inst_25543","inst_25544","inst_25545","inst_25546","inst_25547","inst_25552","s__25549","cljs.core/LazySeq","temp__5735__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__4521__auto__","size__4522__auto__","b__25551","cljs.core/chunk-buffer","i__25550","vec__25580","cljs.core._nth.cljs$core$IFn$_invoke$arity$2","cljs.core.nth.cljs$core$IFn$_invoke$arity$3","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__25548","cljs.core/chunk-rest","vec__25583","cljs.core/first","cljs.core/cons","cljs.core/rest","inst_25553","inst_25554","inst_25555","inst_25556","inst_25557","inst_25558","inst_25559","inst_25560","inst_25561","inst_25562","inst_25563","inst_25564","inst_25565","inst_25566","inst_25567","inst_25568","inst_25569","inst_25570","inst_25571","inst_25572","statearr-25586","statearr-25587","statearr-25588","e25589","statearr-25590","statearr-25591","cljs.core.print.cljs$core$IFn$_invoke$arity$variadic","action","value","cljs.core.get_in.cljs$core$IFn$_invoke$arity$2","app.t8.qlearning/bestAction","app.t8.main/render-board","state","reagent.core.atom.cljs$core$IFn$_invoke$arity$1","active","result","state_25640","state_val_25641","inst_25603","inst_25609","inst_25601","inst_25599","inst_25596","inst_25613","pred__25593","expr__25594","inst_25614","inst_25615","inst_25616","statearr-25642","statearr-25643","statearr-25644","statearr-25645","inst_25600","inst_25602","inst_25604","inst_25605","inst_25606","inst_25607","inst_25608","inst_25610","inst_25611","statearr-25646","statearr-25647","statearr-25648","inst_25626","statearr-25649","statearr-25650","inst_25636","statearr-25651","inst_25638","inst_25620","inst_25621","statearr-25652","statearr-25653","inst_25597","statearr-25654","statearr-25655","statearr-25656","statearr-25657","inst_25629","statearr-25658","inst_25631","inst_25633","statearr-25659","statearr-25660","statearr-25661","inst_25624","statearr-25662","e25663","statearr-25664","statearr-25665","cljs.core/=","actions","bestAction","_","cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$2","origin","app.t8.main/drawPlayground","s","ac","r","drawValue","y","x","v","pred__25666","expr__25667","G__25669","G__25670","G__25671","G__25672","iter__4523__auto__","s__25674","b__25676","i__25675","iter__25673","cljs.core.range.cljs$core$IFn$_invoke$arity$1","reagent.core.render.cljs$core$IFn$_invoke$arity$2","js/document","app.t8.main/main","state_25685","state_val_25686","inst_25677","inst_25678","inst_25679","cljs.core/PersistentHashMap","inst_25680","inst_25681","inst_25682","inst_25683","statearr-25687","statearr-25688","e25689","statearr-25690","statearr-25691","cljs.core.atom.cljs$core$IFn$_invoke$arity$1","app.t8.qlearning/model","cljs.core/chunk-first"],"sourcesContent":["(ns app.t8.main\r\n  (:require [clojure.core.async :as a]\r\n            [reagent.core :as r])\r\n  (:require [app.t8.qlearning :as q]\r\n            [app.t8.board :as b]))\r\n\r\n(defn train [qmodel n]\r\n  (loop [ctx {:brain qmodel\r\n              :board b/board\r\n              :activePlayer :o\r\n              :win 0\r\n              :draw 0\r\n              :lose 0\r\n              :self {:state nil :action nil}}\r\n         n n]\r\n    (if (zero? n)\r\n      (do\r\n        (println (select-keys ctx [:win :draw :lose]))\r\n        (:brain ctx))\r\n      (let [{:keys [brain board activePlayer win draw lose self]} ctx\r\n            possibleActions (b/possibleActions board)\r\n            isSelf (= activePlayer :o)]\r\n        (if (zero? (count possibleActions))\r\n          (recur (merge ctx {:board b/board\r\n                             :activePlayer :o\r\n                             :draw (inc draw)\r\n                             :self {:action nil :state nil}})\r\n                 (dec n))\r\n          (if isSelf\r\n            (let [isWin (b/checkWin board :o)\r\n                  isLose (if (not isWin)\r\n                           (b/checkWin board :x)\r\n                           false)\r\n                  reward (cond\r\n                           isWin 1\r\n                           isLose 0\r\n                           :else 0)\r\n                  brain (if (and (:state self) (:action self))\r\n                          (q/learn brain (:state self) (:action self) reward board)\r\n                          brain)]\r\n              (if (or isWin isLose)\r\n                (recur (merge ctx {:brain brain\r\n                                   :board b/board\r\n                                   :win (if isWin (inc win) win)\r\n                                   :lose (if isLose (inc lose) lose)\r\n                                   :activePlayer :o\r\n                                   :self {:action nil :state nil}})\r\n                       (dec n))\r\n                (let [selectAction (q/selectAction brain board possibleActions)\r\n                      nextBoard (update-in board selectAction (constantly activePlayer))]\r\n                  (recur (merge ctx {:brain brain\r\n                                     :board nextBoard\r\n                                     :activePlayer (if (= :o activePlayer) :x :o)\r\n                                     :self (merge self {:state board\r\n                                                        :action selectAction})})\r\n                         (dec n)))))\r\n\r\n            (let [selectAction (nth possibleActions (rand-int (count possibleActions)))\r\n                  nextBoard (update-in board selectAction (constantly activePlayer))]\r\n              (recur (merge ctx {:brain brain\r\n                                 :board nextBoard\r\n                                 :activePlayer (if (= :o activePlayer) :x :o)})\r\n                     (dec n)))))))))\r\n\r\n(defn background-train [atomModel]\r\n  (a/go\r\n    (loop [qmodel @atomModel]\r\n      (a/<! (a/timeout 1000))\r\n      (let [qmodel (train qmodel 50)\r\n            _ (reset! atomModel qmodel)]\r\n        (recur qmodel)))))\r\n\r\n(defn background-test [atomModel]\r\n  (a/go\r\n    (loop []\r\n      (a/<! (a/timeout 1000))\r\n      (let [qmodel @atomModel\r\n            board [[:o :o nil] [:x :x nil] [nil nil nil]]\r\n            possibleActions (b/possibleActions board)]\r\n        (print (for [;[state actions] (get-in qmodel [:qtable])\r\n              [action value] (get-in qmodel [:qtable [[nil nil nil] [nil nil nil] [nil nil nil]]])]\r\n          (println action value)))\r\n        (println \"best:\" (q/bestAction qmodel board possibleActions))\r\n        \r\n        (recur)))))\r\n\r\n(defn render-board [atomModel]\r\n   ; \u548c\u8a13\u7df4\u4e2d\u7684\u982d\u8166\u5c0d\u4e0b\u7684\u4e92\u52d5\u4ecb\u9762\r\n  (let [state (r/atom b/board)\r\n        active (r/atom :enemy)\r\n        result (r/atom nil)]\r\n      ; \u96fb\u8166\u884c\u70ba\r\n      ; \u7b49\u5f85\u73a9\u5bb6\u4e0b\u5b50\u5f8c\u4e0b\u5b50\r\n    (a/go-loop []\r\n      (condp = @active\r\n        :enemy\r\n        (let [brain @atomModel\r\n              actions (b/possibleActions @state)\r\n              bestAction (q/bestAction brain @state actions)\r\n              _ (reset! result (get-in brain [:qtable @state]))]\r\n          (if (> (count actions) 0)\r\n              ; \u9084\u6709\u4e0b\u5b50\u7a7a\u9593, \u4e0b\u5b50\u4e26\u5207\u63db\u73a9\u5bb6\r\n            (do (swap! state (fn [origin]\r\n                               (update-in origin bestAction (constantly :o))))\r\n                (reset! active (if (= :player @active) :enemy :player))\r\n                (recur))\r\n              ; \u6c92\u6709\u4e0b\u5b50\u7a7a\u9593, \u7b49\u5f85\r\n            (do\r\n              (a/<! (a/timeout 1000))\r\n              (recur))))\r\n\r\n          ; \u9592\u7f6e\u6642\u66f4\u65b0\u8a13\u7df4\u8cc7\u6599\u7684\u986f\u793a\r\n        (do\r\n          (a/<! (a/timeout 300))\r\n          (recur))))\r\n\r\n      ; \u76e4\u9762\r\n    (defn drawPlayground []\r\n      (let [s @state\r\n            ac @active\r\n            r @result\r\n            drawValue (fn [y x]\r\n                        (let [v (get-in s [y x])]\r\n                          (condp = v\r\n                            :o \"O\"\r\n                            :x \"X\"\r\n                            [:button\r\n                             {:on-click #(do\r\n                                           (swap! state (fn [origin]\r\n                                                          (update-in origin [y x] (constantly :x))))\r\n                                           (reset! active (if (= :player @active) :enemy :player)))}\r\n                             \"O\"])))]\r\n        [:div\r\n         [:button {:on-click #(do (reset! state b/board)\r\n                                  (reset! active :enemy))} \"clear\"]\r\n         [:div (str s)]\r\n         [:div (str \"active \" ac)]\r\n         [:div (str \"actions \" r)]\r\n         [:table {:border 1}\r\n          [:tbody\r\n           (for [y (range 3)]\r\n             ^{:key (str y)}\r\n             [:tr\r\n              [:td (drawValue y 0)]\r\n              [:td (drawValue y 1)]\r\n              [:td (drawValue y 2)]])]]]))\r\n\r\n    (r/render [drawPlayground]\r\n              (.getElementById js/document \"playground\"))))\r\n\r\n(defn main []\r\n  (a/go\r\n    (let [model (atom (merge q/model\r\n                             {:learningRate 0.7\r\n                              :discountFactor 1}))\r\n          _ (background-train model)\r\n          ;_ (background-test model)\r\n          _ (render-board model)])))\r\n\r\n\r\n(main)"]}