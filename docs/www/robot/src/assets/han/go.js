"use strict";(function(root){var exports=undefined,module=undefined,require=undefined;var define=undefined;(function(){(function(){Error.stackTraceLimit=Infinity;var $global,$module;if(typeof window!=="undefined"){/* web page */$global=window;}else if(typeof self!=="undefined"){/* web worker */$global=self;}else if(typeof global!=="undefined"){/* Node.js */$global=global;$global.require=require;}else{/* others (e.g. Nashorn) */$global=this;}if($global===undefined||$global.Array===undefined){throw new Error("no global object found");}if(typeof module!=="undefined"){$module=module;}var $packages={},$idCounter=0;var $keys=function(m){return m?Object.keys(m):[];};var $flushConsole=function(){};var $throwRuntimeError;/* set by package "runtime" */var $throwNilPointerError=function(){$throwRuntimeError("invalid memory address or nil pointer dereference");};var $call=function(fn,rcvr,args){return fn.apply(rcvr,args);};var $makeFunc=function(fn){return function(){return $externalize(fn(this,new($sliceType($jsObjectPtr))($global.Array.prototype.slice.call(arguments,[]))),$emptyInterface);};};var $unused=function(v){};var $mapArray=function(array,f){var newArray=new array.constructor(array.length);for(var i=0;i<array.length;i++){newArray[i]=f(array[i]);}return newArray;};var $methodVal=function(recv,name){var vals=recv.$methodVals||{};recv.$methodVals=vals;/* noop for primitives */var f=vals[name];if(f!==undefined){return f;}var method=recv[name];f=function(){$stackDepthOffset--;try{return method.apply(recv,arguments);}finally{$stackDepthOffset++;}};vals[name]=f;return f;};var $methodExpr=function(typ,name){var method=typ.prototype[name];if(method.$expr===undefined){method.$expr=function(){$stackDepthOffset--;try{if(typ.wrapped){arguments[0]=new typ(arguments[0]);}return Function.call.apply(method,arguments);}finally{$stackDepthOffset++;}};}return method.$expr;};var $ifaceMethodExprs={};var $ifaceMethodExpr=function(name){var expr=$ifaceMethodExprs["$"+name];if(expr===undefined){expr=$ifaceMethodExprs["$"+name]=function(){$stackDepthOffset--;try{return Function.call.apply(arguments[0][name],arguments);}finally{$stackDepthOffset++;}};}return expr;};var $subslice=function(slice,low,high,max){if(high===undefined){high=slice.$length;}if(max===undefined){max=slice.$capacity;}if(low<0||high<low||max<high||high>slice.$capacity||max>slice.$capacity){$throwRuntimeError("slice bounds out of range");}if(slice===slice.constructor.nil){return slice;}var s=new slice.constructor(slice.$array);s.$offset=slice.$offset+low;s.$length=high-low;s.$capacity=max-low;return s;};var $substring=function(str,low,high){if(low<0||high<low||high>str.length){$throwRuntimeError("slice bounds out of range");}return str.substring(low,high);};var $sliceToArray=function(slice){if(slice.$array.constructor!==Array){return slice.$array.subarray(slice.$offset,slice.$offset+slice.$length);}return slice.$array.slice(slice.$offset,slice.$offset+slice.$length);};var $decodeRune=function(str,pos){var c0=str.charCodeAt(pos);if(c0<0x80){return[c0,1];}if(c0!==c0||c0<0xC0){return[0xFFFD,1];}var c1=str.charCodeAt(pos+1);if(c1!==c1||c1<0x80||0xC0<=c1){return[0xFFFD,1];}if(c0<0xE0){var r=(c0&0x1F)<<6|c1&0x3F;if(r<=0x7F){return[0xFFFD,1];}return[r,2];}var c2=str.charCodeAt(pos+2);if(c2!==c2||c2<0x80||0xC0<=c2){return[0xFFFD,1];}if(c0<0xF0){var r=(c0&0x0F)<<12|(c1&0x3F)<<6|c2&0x3F;if(r<=0x7FF){return[0xFFFD,1];}if(0xD800<=r&&r<=0xDFFF){return[0xFFFD,1];}return[r,3];}var c3=str.charCodeAt(pos+3);if(c3!==c3||c3<0x80||0xC0<=c3){return[0xFFFD,1];}if(c0<0xF8){var r=(c0&0x07)<<18|(c1&0x3F)<<12|(c2&0x3F)<<6|c3&0x3F;if(r<=0xFFFF||0x10FFFF<r){return[0xFFFD,1];}return[r,4];}return[0xFFFD,1];};var $encodeRune=function(r){if(r<0||r>0x10FFFF||0xD800<=r&&r<=0xDFFF){r=0xFFFD;}if(r<=0x7F){return String.fromCharCode(r);}if(r<=0x7FF){return String.fromCharCode(0xC0|r>>6,0x80|r&0x3F);}if(r<=0xFFFF){return String.fromCharCode(0xE0|r>>12,0x80|r>>6&0x3F,0x80|r&0x3F);}return String.fromCharCode(0xF0|r>>18,0x80|r>>12&0x3F,0x80|r>>6&0x3F,0x80|r&0x3F);};var $stringToBytes=function(str){var array=new Uint8Array(str.length);for(var i=0;i<str.length;i++){array[i]=str.charCodeAt(i);}return array;};var $bytesToString=function(slice){if(slice.$length===0){return"";}var str="";for(var i=0;i<slice.$length;i+=10000){str+=String.fromCharCode.apply(undefined,slice.$array.subarray(slice.$offset+i,slice.$offset+Math.min(slice.$length,i+10000)));}return str;};var $stringToRunes=function(str){var array=new Int32Array(str.length);var rune,j=0;for(var i=0;i<str.length;i+=rune[1],j++){rune=$decodeRune(str,i);array[j]=rune[0];}return array.subarray(0,j);};var $runesToString=function(slice){if(slice.$length===0){return"";}var str="";for(var i=0;i<slice.$length;i++){str+=$encodeRune(slice.$array[slice.$offset+i]);}return str;};var $copyString=function(dst,src){var n=Math.min(src.length,dst.$length);for(var i=0;i<n;i++){dst.$array[dst.$offset+i]=src.charCodeAt(i);}return n;};var $copySlice=function(dst,src){var n=Math.min(src.$length,dst.$length);$copyArray(dst.$array,src.$array,dst.$offset,src.$offset,n,dst.constructor.elem);return n;};var $copyArray=function(dst,src,dstOffset,srcOffset,n,elem){if(n===0||dst===src&&dstOffset===srcOffset){return;}if(src.subarray){dst.set(src.subarray(srcOffset,srcOffset+n),dstOffset);return;}switch(elem.kind){case $kindArray:case $kindStruct:if(dst===src&&dstOffset>srcOffset){for(var i=n-1;i>=0;i--){elem.copy(dst[dstOffset+i],src[srcOffset+i]);}return;}for(var i=0;i<n;i++){elem.copy(dst[dstOffset+i],src[srcOffset+i]);}return;}if(dst===src&&dstOffset>srcOffset){for(var i=n-1;i>=0;i--){dst[dstOffset+i]=src[srcOffset+i];}return;}for(var i=0;i<n;i++){dst[dstOffset+i]=src[srcOffset+i];}};var $clone=function(src,type){var clone=type.zero();type.copy(clone,src);return clone;};var $pointerOfStructConversion=function(obj,type){if(obj.$proxies===undefined){obj.$proxies={};obj.$proxies[obj.constructor.string]=obj;}var proxy=obj.$proxies[type.string];if(proxy===undefined){var properties={};for(var i=0;i<type.elem.fields.length;i++){(function(fieldProp){properties[fieldProp]={get:function(){return obj[fieldProp];},set:function(value){obj[fieldProp]=value;}};})(type.elem.fields[i].prop);}proxy=Object.create(type.prototype,properties);proxy.$val=proxy;obj.$proxies[type.string]=proxy;proxy.$proxies=obj.$proxies;}return proxy;};var $append=function(slice){return $internalAppend(slice,arguments,1,arguments.length-1);};var $appendSlice=function(slice,toAppend){if(toAppend.constructor===String){var bytes=$stringToBytes(toAppend);return $internalAppend(slice,bytes,0,bytes.length);}return $internalAppend(slice,toAppend.$array,toAppend.$offset,toAppend.$length);};var $internalAppend=function(slice,array,offset,length){if(length===0){return slice;}var newArray=slice.$array;var newOffset=slice.$offset;var newLength=slice.$length+length;var newCapacity=slice.$capacity;if(newLength>newCapacity){newOffset=0;newCapacity=Math.max(newLength,slice.$capacity<1024?slice.$capacity*2:Math.floor(slice.$capacity*5/4));if(slice.$array.constructor===Array){newArray=slice.$array.slice(slice.$offset,slice.$offset+slice.$length);newArray.length=newCapacity;var zero=slice.constructor.elem.zero;for(var i=slice.$length;i<newCapacity;i++){newArray[i]=zero();}}else{newArray=new slice.$array.constructor(newCapacity);newArray.set(slice.$array.subarray(slice.$offset,slice.$offset+slice.$length));}}$copyArray(newArray,array,newOffset+slice.$length,offset,length,slice.constructor.elem);var newSlice=new slice.constructor(newArray);newSlice.$offset=newOffset;newSlice.$length=newLength;newSlice.$capacity=newCapacity;return newSlice;};var $equal=function(a,b,type){if(type===$jsObjectPtr){return a===b;}switch(type.kind){case $kindComplex64:case $kindComplex128:return a.$real===b.$real&&a.$imag===b.$imag;case $kindInt64:case $kindUint64:return a.$high===b.$high&&a.$low===b.$low;case $kindArray:if(a.length!==b.length){return false;}for(var i=0;i<a.length;i++){if(!$equal(a[i],b[i],type.elem)){return false;}}return true;case $kindStruct:for(var i=0;i<type.fields.length;i++){var f=type.fields[i];if(!$equal(a[f.prop],b[f.prop],f.typ)){return false;}}return true;case $kindInterface:return $interfaceIsEqual(a,b);default:return a===b;}};var $interfaceIsEqual=function(a,b){if(a===$ifaceNil||b===$ifaceNil){return a===b;}if(a.constructor!==b.constructor){return false;}if(a.constructor===$jsObjectPtr){return a.object===b.object;}if(!a.constructor.comparable){$throwRuntimeError("comparing uncomparable type "+a.constructor.string);}return $equal(a.$val,b.$val,a.constructor);};var $min=Math.min;var $mod=function(x,y){return x%y;};var $parseInt=parseInt;var $parseFloat=function(f){if(f!==undefined&&f!==null&&f.constructor===Number){return f;}return parseFloat(f);};var $froundBuf=new Float32Array(1);var $fround=Math.fround||function(f){$froundBuf[0]=f;return $froundBuf[0];};var $imul=Math.imul||function(a,b){var ah=a>>>16&0xffff;var al=a&0xffff;var bh=b>>>16&0xffff;var bl=b&0xffff;return al*bl+(ah*bl+al*bh<<16>>>0)>>0;};var $floatKey=function(f){if(f!==f){$idCounter++;return"NaN$"+$idCounter;}return String(f);};var $flatten64=function(x){return x.$high*4294967296+x.$low;};var $shiftLeft64=function(x,y){if(y===0){return x;}if(y<32){return new x.constructor(x.$high<<y|x.$low>>>32-y,x.$low<<y>>>0);}if(y<64){return new x.constructor(x.$low<<y-32,0);}return new x.constructor(0,0);};var $shiftRightInt64=function(x,y){if(y===0){return x;}if(y<32){return new x.constructor(x.$high>>y,(x.$low>>>y|x.$high<<32-y)>>>0);}if(y<64){return new x.constructor(x.$high>>31,x.$high>>y-32>>>0);}if(x.$high<0){return new x.constructor(-1,4294967295);}return new x.constructor(0,0);};var $shiftRightUint64=function(x,y){if(y===0){return x;}if(y<32){return new x.constructor(x.$high>>>y,(x.$low>>>y|x.$high<<32-y)>>>0);}if(y<64){return new x.constructor(0,x.$high>>>y-32);}return new x.constructor(0,0);};var $mul64=function(x,y){var high=0,low=0;if((y.$low&1)!==0){high=x.$high;low=x.$low;}for(var i=1;i<32;i++){if((y.$low&1<<i)!==0){high+=x.$high<<i|x.$low>>>32-i;low+=x.$low<<i>>>0;}}for(var i=0;i<32;i++){if((y.$high&1<<i)!==0){high+=x.$low<<i;}}return new x.constructor(high,low);};var $div64=function(x,y,returnRemainder){if(y.$high===0&&y.$low===0){$throwRuntimeError("integer divide by zero");}var s=1;var rs=1;var xHigh=x.$high;var xLow=x.$low;if(xHigh<0){s=-1;rs=-1;xHigh=-xHigh;if(xLow!==0){xHigh--;xLow=4294967296-xLow;}}var yHigh=y.$high;var yLow=y.$low;if(y.$high<0){s*=-1;yHigh=-yHigh;if(yLow!==0){yHigh--;yLow=4294967296-yLow;}}var high=0,low=0,n=0;while(yHigh<2147483648&&(xHigh>yHigh||xHigh===yHigh&&xLow>yLow)){yHigh=(yHigh<<1|yLow>>>31)>>>0;yLow=yLow<<1>>>0;n++;}for(var i=0;i<=n;i++){high=high<<1|low>>>31;low=low<<1>>>0;if(xHigh>yHigh||xHigh===yHigh&&xLow>=yLow){xHigh=xHigh-yHigh;xLow=xLow-yLow;if(xLow<0){xHigh--;xLow+=4294967296;}low++;if(low===4294967296){high++;low=0;}}yLow=(yLow>>>1|yHigh<<32-1)>>>0;yHigh=yHigh>>>1;}if(returnRemainder){return new x.constructor(xHigh*rs,xLow*rs);}return new x.constructor(high*s,low*s);};var $divComplex=function(n,d){var ninf=n.$real===Infinity||n.$real===-Infinity||n.$imag===Infinity||n.$imag===-Infinity;var dinf=d.$real===Infinity||d.$real===-Infinity||d.$imag===Infinity||d.$imag===-Infinity;var nnan=!ninf&&(n.$real!==n.$real||n.$imag!==n.$imag);var dnan=!dinf&&(d.$real!==d.$real||d.$imag!==d.$imag);if(nnan||dnan){return new n.constructor(NaN,NaN);}if(ninf&&!dinf){return new n.constructor(Infinity,Infinity);}if(!ninf&&dinf){return new n.constructor(0,0);}if(d.$real===0&&d.$imag===0){if(n.$real===0&&n.$imag===0){return new n.constructor(NaN,NaN);}return new n.constructor(Infinity,Infinity);}var a=Math.abs(d.$real);var b=Math.abs(d.$imag);if(a<=b){var ratio=d.$real/d.$imag;var denom=d.$real*ratio+d.$imag;return new n.constructor((n.$real*ratio+n.$imag)/denom,(n.$imag*ratio-n.$real)/denom);}var ratio=d.$imag/d.$real;var denom=d.$imag*ratio+d.$real;return new n.constructor((n.$imag*ratio+n.$real)/denom,(n.$imag-n.$real*ratio)/denom);};var $kindBool=1;var $kindInt=2;var $kindInt8=3;var $kindInt16=4;var $kindInt32=5;var $kindInt64=6;var $kindUint=7;var $kindUint8=8;var $kindUint16=9;var $kindUint32=10;var $kindUint64=11;var $kindUintptr=12;var $kindFloat32=13;var $kindFloat64=14;var $kindComplex64=15;var $kindComplex128=16;var $kindArray=17;var $kindChan=18;var $kindFunc=19;var $kindInterface=20;var $kindMap=21;var $kindPtr=22;var $kindSlice=23;var $kindString=24;var $kindStruct=25;var $kindUnsafePointer=26;var $methodSynthesizers=[];var $addMethodSynthesizer=function(f){if($methodSynthesizers===null){f();return;}$methodSynthesizers.push(f);};var $synthesizeMethods=function(){$methodSynthesizers.forEach(function(f){f();});$methodSynthesizers=null;};var $ifaceKeyFor=function(x){if(x===$ifaceNil){return'nil';}var c=x.constructor;return c.string+'$'+c.keyFor(x.$val);};var $identity=function(x){return x;};var $typeIDCounter=0;var $idKey=function(x){if(x.$id===undefined){$idCounter++;x.$id=$idCounter;}return String(x.$id);};var $newType=function(size,kind,string,named,pkg,exported,constructor){var typ;switch(kind){case $kindBool:case $kindInt:case $kindInt8:case $kindInt16:case $kindInt32:case $kindUint:case $kindUint8:case $kindUint16:case $kindUint32:case $kindUintptr:case $kindUnsafePointer:typ=function(v){this.$val=v;};typ.wrapped=true;typ.keyFor=$identity;break;case $kindString:typ=function(v){this.$val=v;};typ.wrapped=true;typ.keyFor=function(x){return"$"+x;};break;case $kindFloat32:case $kindFloat64:typ=function(v){this.$val=v;};typ.wrapped=true;typ.keyFor=function(x){return $floatKey(x);};break;case $kindInt64:typ=function(high,low){this.$high=high+Math.floor(Math.ceil(low)/4294967296)>>0;this.$low=low>>>0;this.$val=this;};typ.keyFor=function(x){return x.$high+"$"+x.$low;};break;case $kindUint64:typ=function(high,low){this.$high=high+Math.floor(Math.ceil(low)/4294967296)>>>0;this.$low=low>>>0;this.$val=this;};typ.keyFor=function(x){return x.$high+"$"+x.$low;};break;case $kindComplex64:typ=function(real,imag){this.$real=$fround(real);this.$imag=$fround(imag);this.$val=this;};typ.keyFor=function(x){return x.$real+"$"+x.$imag;};break;case $kindComplex128:typ=function(real,imag){this.$real=real;this.$imag=imag;this.$val=this;};typ.keyFor=function(x){return x.$real+"$"+x.$imag;};break;case $kindArray:typ=function(v){this.$val=v;};typ.wrapped=true;typ.ptr=$newType(4,$kindPtr,"*"+string,false,"",false,function(array){this.$get=function(){return array;};this.$set=function(v){typ.copy(this,v);};this.$val=array;});typ.init=function(elem,len){typ.elem=elem;typ.len=len;typ.comparable=elem.comparable;typ.keyFor=function(x){return Array.prototype.join.call($mapArray(x,function(e){return String(elem.keyFor(e)).replace(/\\/g,"\\\\").replace(/\$/g,"\\$");}),"$");};typ.copy=function(dst,src){$copyArray(dst,src,0,0,src.length,elem);};typ.ptr.init(typ);Object.defineProperty(typ.ptr.nil,"nilCheck",{get:$throwNilPointerError});};break;case $kindChan:typ=function(v){this.$val=v;};typ.wrapped=true;typ.keyFor=$idKey;typ.init=function(elem,sendOnly,recvOnly){typ.elem=elem;typ.sendOnly=sendOnly;typ.recvOnly=recvOnly;};break;case $kindFunc:typ=function(v){this.$val=v;};typ.wrapped=true;typ.init=function(params,results,variadic){typ.params=params;typ.results=results;typ.variadic=variadic;typ.comparable=false;};break;case $kindInterface:typ={implementedBy:{},missingMethodFor:{}};typ.keyFor=$ifaceKeyFor;typ.init=function(methods){typ.methods=methods;methods.forEach(function(m){$ifaceNil[m.prop]=$throwNilPointerError;});};break;case $kindMap:typ=function(v){this.$val=v;};typ.wrapped=true;typ.init=function(key,elem){typ.key=key;typ.elem=elem;typ.comparable=false;};break;case $kindPtr:typ=constructor||function(getter,setter,target){this.$get=getter;this.$set=setter;this.$target=target;this.$val=this;};typ.keyFor=$idKey;typ.init=function(elem){typ.elem=elem;typ.wrapped=elem.kind===$kindArray;typ.nil=new typ($throwNilPointerError,$throwNilPointerError);};break;case $kindSlice:typ=function(array){if(array.constructor!==typ.nativeArray){array=new typ.nativeArray(array);}this.$array=array;this.$offset=0;this.$length=array.length;this.$capacity=array.length;this.$val=this;};typ.init=function(elem){typ.elem=elem;typ.comparable=false;typ.nativeArray=$nativeArray(elem.kind);typ.nil=new typ([]);};break;case $kindStruct:typ=function(v){this.$val=v;};typ.wrapped=true;typ.ptr=$newType(4,$kindPtr,"*"+string,false,pkg,exported,constructor);typ.ptr.elem=typ;typ.ptr.prototype.$get=function(){return this;};typ.ptr.prototype.$set=function(v){typ.copy(this,v);};typ.init=function(pkgPath,fields){typ.pkgPath=pkgPath;typ.fields=fields;fields.forEach(function(f){if(!f.typ.comparable){typ.comparable=false;}});typ.keyFor=function(x){var val=x.$val;return $mapArray(fields,function(f){return String(f.typ.keyFor(val[f.prop])).replace(/\\/g,"\\\\").replace(/\$/g,"\\$");}).join("$");};typ.copy=function(dst,src){for(var i=0;i<fields.length;i++){var f=fields[i];switch(f.typ.kind){case $kindArray:case $kindStruct:f.typ.copy(dst[f.prop],src[f.prop]);continue;default:dst[f.prop]=src[f.prop];continue;}}};/* nil value */var properties={};fields.forEach(function(f){properties[f.prop]={get:$throwNilPointerError,set:$throwNilPointerError};});typ.ptr.nil=Object.create(constructor.prototype,properties);typ.ptr.nil.$val=typ.ptr.nil;/* methods for embedded fields */$addMethodSynthesizer(function(){var synthesizeMethod=function(target,m,f){if(target.prototype[m.prop]!==undefined){return;}target.prototype[m.prop]=function(){var v=this.$val[f.prop];if(f.typ===$jsObjectPtr){v=new $jsObjectPtr(v);}if(v.$val===undefined){v=new f.typ(v);}return v[m.prop].apply(v,arguments);};};fields.forEach(function(f){if(f.embedded){$methodSet(f.typ).forEach(function(m){synthesizeMethod(typ,m,f);synthesizeMethod(typ.ptr,m,f);});$methodSet($ptrType(f.typ)).forEach(function(m){synthesizeMethod(typ.ptr,m,f);});}});});};break;default:$panic(new $String("invalid kind: "+kind));}switch(kind){case $kindBool:case $kindMap:typ.zero=function(){return false;};break;case $kindInt:case $kindInt8:case $kindInt16:case $kindInt32:case $kindUint:case $kindUint8:case $kindUint16:case $kindUint32:case $kindUintptr:case $kindUnsafePointer:case $kindFloat32:case $kindFloat64:typ.zero=function(){return 0;};break;case $kindString:typ.zero=function(){return"";};break;case $kindInt64:case $kindUint64:case $kindComplex64:case $kindComplex128:var zero=new typ(0,0);typ.zero=function(){return zero;};break;case $kindPtr:case $kindSlice:typ.zero=function(){return typ.nil;};break;case $kindChan:typ.zero=function(){return $chanNil;};break;case $kindFunc:typ.zero=function(){return $throwNilPointerError;};break;case $kindInterface:typ.zero=function(){return $ifaceNil;};break;case $kindArray:typ.zero=function(){var arrayClass=$nativeArray(typ.elem.kind);if(arrayClass!==Array){return new arrayClass(typ.len);}var array=new Array(typ.len);for(var i=0;i<typ.len;i++){array[i]=typ.elem.zero();}return array;};break;case $kindStruct:typ.zero=function(){return new typ.ptr();};break;default:$panic(new $String("invalid kind: "+kind));}typ.id=$typeIDCounter;$typeIDCounter++;typ.size=size;typ.kind=kind;typ.string=string;typ.named=named;typ.pkg=pkg;typ.exported=exported;typ.methods=[];typ.methodSetCache=null;typ.comparable=true;return typ;};var $methodSet=function(typ){if(typ.methodSetCache!==null){return typ.methodSetCache;}var base={};var isPtr=typ.kind===$kindPtr;if(isPtr&&typ.elem.kind===$kindInterface){typ.methodSetCache=[];return[];}var current=[{typ:isPtr?typ.elem:typ,indirect:isPtr}];var seen={};while(current.length>0){var next=[];var mset=[];current.forEach(function(e){if(seen[e.typ.string]){return;}seen[e.typ.string]=true;if(e.typ.named){mset=mset.concat(e.typ.methods);if(e.indirect){mset=mset.concat($ptrType(e.typ).methods);}}switch(e.typ.kind){case $kindStruct:e.typ.fields.forEach(function(f){if(f.embedded){var fTyp=f.typ;var fIsPtr=fTyp.kind===$kindPtr;next.push({typ:fIsPtr?fTyp.elem:fTyp,indirect:e.indirect||fIsPtr});}});break;case $kindInterface:mset=mset.concat(e.typ.methods);break;}});mset.forEach(function(m){if(base[m.name]===undefined){base[m.name]=m;}});current=next;}typ.methodSetCache=[];Object.keys(base).sort().forEach(function(name){typ.methodSetCache.push(base[name]);});return typ.methodSetCache;};var $Bool=$newType(1,$kindBool,"bool",true,"",false,null);var $Int=$newType(4,$kindInt,"int",true,"",false,null);var $Int8=$newType(1,$kindInt8,"int8",true,"",false,null);var $Int16=$newType(2,$kindInt16,"int16",true,"",false,null);var $Int32=$newType(4,$kindInt32,"int32",true,"",false,null);var $Int64=$newType(8,$kindInt64,"int64",true,"",false,null);var $Uint=$newType(4,$kindUint,"uint",true,"",false,null);var $Uint8=$newType(1,$kindUint8,"uint8",true,"",false,null);var $Uint16=$newType(2,$kindUint16,"uint16",true,"",false,null);var $Uint32=$newType(4,$kindUint32,"uint32",true,"",false,null);var $Uint64=$newType(8,$kindUint64,"uint64",true,"",false,null);var $Uintptr=$newType(4,$kindUintptr,"uintptr",true,"",false,null);var $Float32=$newType(4,$kindFloat32,"float32",true,"",false,null);var $Float64=$newType(8,$kindFloat64,"float64",true,"",false,null);var $Complex64=$newType(8,$kindComplex64,"complex64",true,"",false,null);var $Complex128=$newType(16,$kindComplex128,"complex128",true,"",false,null);var $String=$newType(8,$kindString,"string",true,"",false,null);var $UnsafePointer=$newType(4,$kindUnsafePointer,"unsafe.Pointer",true,"",false,null);var $nativeArray=function(elemKind){switch(elemKind){case $kindInt:return Int32Array;case $kindInt8:return Int8Array;case $kindInt16:return Int16Array;case $kindInt32:return Int32Array;case $kindUint:return Uint32Array;case $kindUint8:return Uint8Array;case $kindUint16:return Uint16Array;case $kindUint32:return Uint32Array;case $kindUintptr:return Uint32Array;case $kindFloat32:return Float32Array;case $kindFloat64:return Float64Array;default:return Array;}};var $toNativeArray=function(elemKind,array){var nativeArray=$nativeArray(elemKind);if(nativeArray===Array){return array;}return new nativeArray(array);};var $arrayTypes={};var $arrayType=function(elem,len){var typeKey=elem.id+"$"+len;var typ=$arrayTypes[typeKey];if(typ===undefined){typ=$newType(12,$kindArray,"["+len+"]"+elem.string,false,"",false,null);$arrayTypes[typeKey]=typ;typ.init(elem,len);}return typ;};var $chanType=function(elem,sendOnly,recvOnly){var string=(recvOnly?"<-":"")+"chan"+(sendOnly?"<- ":" ")+elem.string;var field=sendOnly?"SendChan":recvOnly?"RecvChan":"Chan";var typ=elem[field];if(typ===undefined){typ=$newType(4,$kindChan,string,false,"",false,null);elem[field]=typ;typ.init(elem,sendOnly,recvOnly);}return typ;};var $Chan=function(elem,capacity){if(capacity<0||capacity>2147483647){$throwRuntimeError("makechan: size out of range");}this.$elem=elem;this.$capacity=capacity;this.$buffer=[];this.$sendQueue=[];this.$recvQueue=[];this.$closed=false;};var $chanNil=new $Chan(null,0);$chanNil.$sendQueue=$chanNil.$recvQueue={length:0,push:function(){},shift:function(){return undefined;},indexOf:function(){return-1;}};var $funcTypes={};var $funcType=function(params,results,variadic){var typeKey=$mapArray(params,function(p){return p.id;}).join(",")+"$"+$mapArray(results,function(r){return r.id;}).join(",")+"$"+variadic;var typ=$funcTypes[typeKey];if(typ===undefined){var paramTypes=$mapArray(params,function(p){return p.string;});if(variadic){paramTypes[paramTypes.length-1]="..."+paramTypes[paramTypes.length-1].substr(2);}var string="func("+paramTypes.join(", ")+")";if(results.length===1){string+=" "+results[0].string;}else if(results.length>1){string+=" ("+$mapArray(results,function(r){return r.string;}).join(", ")+")";}typ=$newType(4,$kindFunc,string,false,"",false,null);$funcTypes[typeKey]=typ;typ.init(params,results,variadic);}return typ;};var $interfaceTypes={};var $interfaceType=function(methods){var typeKey=$mapArray(methods,function(m){return m.pkg+","+m.name+","+m.typ.id;}).join("$");var typ=$interfaceTypes[typeKey];if(typ===undefined){var string="interface {}";if(methods.length!==0){string="interface { "+$mapArray(methods,function(m){return(m.pkg!==""?m.pkg+".":"")+m.name+m.typ.string.substr(4);}).join("; ")+" }";}typ=$newType(8,$kindInterface,string,false,"",false,null);$interfaceTypes[typeKey]=typ;typ.init(methods);}return typ;};var $emptyInterface=$interfaceType([]);var $ifaceNil={};var $error=$newType(8,$kindInterface,"error",true,"",false,null);$error.init([{prop:"Error",name:"Error",pkg:"",typ:$funcType([],[$String],false)}]);var $mapTypes={};var $mapType=function(key,elem){var typeKey=key.id+"$"+elem.id;var typ=$mapTypes[typeKey];if(typ===undefined){typ=$newType(4,$kindMap,"map["+key.string+"]"+elem.string,false,"",false,null);$mapTypes[typeKey]=typ;typ.init(key,elem);}return typ;};var $makeMap=function(keyForFunc,entries){var m={};for(var i=0;i<entries.length;i++){var e=entries[i];m[keyForFunc(e.k)]=e;}return m;};var $ptrType=function(elem){var typ=elem.ptr;if(typ===undefined){typ=$newType(4,$kindPtr,"*"+elem.string,false,"",elem.exported,null);elem.ptr=typ;typ.init(elem);}return typ;};var $newDataPointer=function(data,constructor){if(constructor.elem.kind===$kindStruct){return data;}return new constructor(function(){return data;},function(v){data=v;});};var $indexPtr=function(array,index,constructor){array.$ptr=array.$ptr||{};return array.$ptr[index]||(array.$ptr[index]=new constructor(function(){return array[index];},function(v){array[index]=v;}));};var $sliceType=function(elem){var typ=elem.slice;if(typ===undefined){typ=$newType(12,$kindSlice,"[]"+elem.string,false,"",false,null);elem.slice=typ;typ.init(elem);}return typ;};var $makeSlice=function(typ,length,capacity){capacity=capacity||length;if(length<0||length>2147483647){$throwRuntimeError("makeslice: len out of range");}if(capacity<0||capacity<length||capacity>2147483647){$throwRuntimeError("makeslice: cap out of range");}var array=new typ.nativeArray(capacity);if(typ.nativeArray===Array){for(var i=0;i<capacity;i++){array[i]=typ.elem.zero();}}var slice=new typ(array);slice.$length=length;return slice;};var $structTypes={};var $structType=function(pkgPath,fields){var typeKey=$mapArray(fields,function(f){return f.name+","+f.typ.id+","+f.tag;}).join("$");var typ=$structTypes[typeKey];if(typ===undefined){var string="struct { "+$mapArray(fields,function(f){return f.name+" "+f.typ.string+(f.tag!==""?" \""+f.tag.replace(/\\/g,"\\\\").replace(/"/g,"\\\"")+"\"":"");}).join("; ")+" }";if(fields.length===0){string="struct {}";}typ=$newType(0,$kindStruct,string,false,"",false,function(){this.$val=this;for(var i=0;i<fields.length;i++){var f=fields[i];var arg=arguments[i];this[f.prop]=arg!==undefined?arg:f.typ.zero();}});$structTypes[typeKey]=typ;typ.init(pkgPath,fields);}return typ;};var $assertType=function(value,type,returnTuple){var isInterface=type.kind===$kindInterface,ok,missingMethod="";if(value===$ifaceNil){ok=false;}else if(!isInterface){ok=value.constructor===type;}else{var valueTypeString=value.constructor.string;ok=type.implementedBy[valueTypeString];if(ok===undefined){ok=true;var valueMethodSet=$methodSet(value.constructor);var interfaceMethods=type.methods;for(var i=0;i<interfaceMethods.length;i++){var tm=interfaceMethods[i];var found=false;for(var j=0;j<valueMethodSet.length;j++){var vm=valueMethodSet[j];if(vm.name===tm.name&&vm.pkg===tm.pkg&&vm.typ===tm.typ){found=true;break;}}if(!found){ok=false;type.missingMethodFor[valueTypeString]=tm.name;break;}}type.implementedBy[valueTypeString]=ok;}if(!ok){missingMethod=type.missingMethodFor[valueTypeString];}}if(!ok){if(returnTuple){return[type.zero(),false];}$panic(new $packages["runtime"].TypeAssertionError.ptr($packages["runtime"]._type.ptr.nil,value===$ifaceNil?$packages["runtime"]._type.ptr.nil:new $packages["runtime"]._type.ptr(value.constructor.string),new $packages["runtime"]._type.ptr(type.string),missingMethod));}if(!isInterface){value=value.$val;}if(type===$jsObjectPtr){value=value.object;}return returnTuple?[value,true]:value;};var $stackDepthOffset=0;var $getStackDepth=function(){var err=new Error();if(err.stack===undefined){return undefined;}return $stackDepthOffset+err.stack.split("\n").length;};var $panicStackDepth=null,$panicValue;var $callDeferred=function(deferred,jsErr,fromPanic){if(!fromPanic&&deferred!==null&&deferred.index>=$curGoroutine.deferStack.length){throw jsErr;}if(jsErr!==null){var newErr=null;try{$curGoroutine.deferStack.push(deferred);$panic(new $jsErrorPtr(jsErr));}catch(err){newErr=err;}$curGoroutine.deferStack.pop();$callDeferred(deferred,newErr);return;}if($curGoroutine.asleep){return;}$stackDepthOffset--;var outerPanicStackDepth=$panicStackDepth;var outerPanicValue=$panicValue;var localPanicValue=$curGoroutine.panicStack.pop();if(localPanicValue!==undefined){$panicStackDepth=$getStackDepth();$panicValue=localPanicValue;}try{while(true){if(deferred===null){deferred=$curGoroutine.deferStack[$curGoroutine.deferStack.length-1];if(deferred===undefined){/* The panic reached the top of the stack. Clear it and throw it as a JavaScript error. */$panicStackDepth=null;if(localPanicValue.Object instanceof Error){throw localPanicValue.Object;}var msg;if(localPanicValue.constructor===$String){msg=localPanicValue.$val;}else if(localPanicValue.Error!==undefined){msg=localPanicValue.Error();}else if(localPanicValue.String!==undefined){msg=localPanicValue.String();}else{msg=localPanicValue;}throw new Error(msg);}}var call=deferred.pop();if(call===undefined){$curGoroutine.deferStack.pop();if(localPanicValue!==undefined){deferred=null;continue;}return;}var r=call[0].apply(call[2],call[1]);if(r&&r.$blk!==undefined){deferred.push([r.$blk,[],r]);if(fromPanic){throw null;}return;}if(localPanicValue!==undefined&&$panicStackDepth===null){throw null;/* error was recovered */}}}finally{if(localPanicValue!==undefined){if($panicStackDepth!==null){$curGoroutine.panicStack.push(localPanicValue);}$panicStackDepth=outerPanicStackDepth;$panicValue=outerPanicValue;}$stackDepthOffset++;}};var $panic=function(value){$curGoroutine.panicStack.push(value);$callDeferred(null,null,true);};var $recover=function(){if($panicStackDepth===null||$panicStackDepth!==undefined&&$panicStackDepth!==$getStackDepth()-2){return $ifaceNil;}$panicStackDepth=null;return $panicValue;};var $throw=function(err){throw err;};var $noGoroutine={asleep:false,exit:false,deferStack:[],panicStack:[]};var $curGoroutine=$noGoroutine,$totalGoroutines=0,$awakeGoroutines=0,$checkForDeadlock=true;var $mainFinished=false;var $go=function(fun,args){$totalGoroutines++;$awakeGoroutines++;var $goroutine=function(){try{$curGoroutine=$goroutine;var r=fun.apply(undefined,args);if(r&&r.$blk!==undefined){fun=function(){return r.$blk();};args=[];return;}$goroutine.exit=true;}catch(err){if(!$goroutine.exit){throw err;}}finally{$curGoroutine=$noGoroutine;if($goroutine.exit){/* also set by runtime.Goexit() */$totalGoroutines--;$goroutine.asleep=true;}if($goroutine.asleep){$awakeGoroutines--;if(!$mainFinished&&$awakeGoroutines===0&&$checkForDeadlock){console.error("fatal error: all goroutines are asleep - deadlock!");if($global.process!==undefined){$global.process.exit(2);}}}}};$goroutine.asleep=false;$goroutine.exit=false;$goroutine.deferStack=[];$goroutine.panicStack=[];$schedule($goroutine);};var $scheduled=[];var $runScheduled=function(){try{var r;while((r=$scheduled.shift())!==undefined){r();}}finally{if($scheduled.length>0){setTimeout($runScheduled,0);}}};var $schedule=function(goroutine){if(goroutine.asleep){goroutine.asleep=false;$awakeGoroutines++;}$scheduled.push(goroutine);if($curGoroutine===$noGoroutine){$runScheduled();}};var $setTimeout=function(f,t){$awakeGoroutines++;return setTimeout(function(){$awakeGoroutines--;f();},t);};var $block=function(){if($curGoroutine===$noGoroutine){$throwRuntimeError("cannot block in JavaScript callback, fix by wrapping code in goroutine");}$curGoroutine.asleep=true;};var $send=function(chan,value){if(chan.$closed){$throwRuntimeError("send on closed channel");}var queuedRecv=chan.$recvQueue.shift();if(queuedRecv!==undefined){queuedRecv([value,true]);return;}if(chan.$buffer.length<chan.$capacity){chan.$buffer.push(value);return;}var thisGoroutine=$curGoroutine;var closedDuringSend;chan.$sendQueue.push(function(closed){closedDuringSend=closed;$schedule(thisGoroutine);return value;});$block();return{$blk:function(){if(closedDuringSend){$throwRuntimeError("send on closed channel");}}};};var $recv=function(chan){var queuedSend=chan.$sendQueue.shift();if(queuedSend!==undefined){chan.$buffer.push(queuedSend(false));}var bufferedValue=chan.$buffer.shift();if(bufferedValue!==undefined){return[bufferedValue,true];}if(chan.$closed){return[chan.$elem.zero(),false];}var thisGoroutine=$curGoroutine;var f={$blk:function(){return this.value;}};var queueEntry=function(v){f.value=v;$schedule(thisGoroutine);};chan.$recvQueue.push(queueEntry);$block();return f;};var $close=function(chan){if(chan.$closed){$throwRuntimeError("close of closed channel");}chan.$closed=true;while(true){var queuedSend=chan.$sendQueue.shift();if(queuedSend===undefined){break;}queuedSend(true);/* will panic */}while(true){var queuedRecv=chan.$recvQueue.shift();if(queuedRecv===undefined){break;}queuedRecv([chan.$elem.zero(),false]);}};var $select=function(comms){var ready=[];var selection=-1;for(var i=0;i<comms.length;i++){var comm=comms[i];var chan=comm[0];switch(comm.length){case 0:/* default */selection=i;break;case 1:/* recv */if(chan.$sendQueue.length!==0||chan.$buffer.length!==0||chan.$closed){ready.push(i);}break;case 2:/* send */if(chan.$closed){$throwRuntimeError("send on closed channel");}if(chan.$recvQueue.length!==0||chan.$buffer.length<chan.$capacity){ready.push(i);}break;}}if(ready.length!==0){selection=ready[Math.floor(Math.random()*ready.length)];}if(selection!==-1){var comm=comms[selection];switch(comm.length){case 0:/* default */return[selection];case 1:/* recv */return[selection,$recv(comm[0])];case 2:/* send */$send(comm[0],comm[1]);return[selection];}}var entries=[];var thisGoroutine=$curGoroutine;var f={$blk:function(){return this.selection;}};var removeFromQueues=function(){for(var i=0;i<entries.length;i++){var entry=entries[i];var queue=entry[0];var index=queue.indexOf(entry[1]);if(index!==-1){queue.splice(index,1);}}};for(var i=0;i<comms.length;i++){(function(i){var comm=comms[i];switch(comm.length){case 1:/* recv */var queueEntry=function(value){f.selection=[i,value];removeFromQueues();$schedule(thisGoroutine);};entries.push([comm[0].$recvQueue,queueEntry]);comm[0].$recvQueue.push(queueEntry);break;case 2:/* send */var queueEntry=function(){if(comm[0].$closed){$throwRuntimeError("send on closed channel");}f.selection=[i];removeFromQueues();$schedule(thisGoroutine);return comm[1];};entries.push([comm[0].$sendQueue,queueEntry]);comm[0].$sendQueue.push(queueEntry);break;}})(i);}$block();return f;};var $jsObjectPtr,$jsErrorPtr;var $needsExternalization=function(t){switch(t.kind){case $kindBool:case $kindInt:case $kindInt8:case $kindInt16:case $kindInt32:case $kindUint:case $kindUint8:case $kindUint16:case $kindUint32:case $kindUintptr:case $kindFloat32:case $kindFloat64:return false;default:return t!==$jsObjectPtr;}};var $externalize=function(v,t){if(t===$jsObjectPtr){return v;}switch(t.kind){case $kindBool:case $kindInt:case $kindInt8:case $kindInt16:case $kindInt32:case $kindUint:case $kindUint8:case $kindUint16:case $kindUint32:case $kindUintptr:case $kindFloat32:case $kindFloat64:return v;case $kindInt64:case $kindUint64:return $flatten64(v);case $kindArray:if($needsExternalization(t.elem)){return $mapArray(v,function(e){return $externalize(e,t.elem);});}return v;case $kindFunc:return $externalizeFunction(v,t,false);case $kindInterface:if(v===$ifaceNil){return null;}if(v.constructor===$jsObjectPtr){return v.$val.object;}return $externalize(v.$val,v.constructor);case $kindMap:var m={};var keys=$keys(v);for(var i=0;i<keys.length;i++){var entry=v[keys[i]];m[$externalize(entry.k,t.key)]=$externalize(entry.v,t.elem);}return m;case $kindPtr:if(v===t.nil){return null;}return $externalize(v.$get(),t.elem);case $kindSlice:if($needsExternalization(t.elem)){return $mapArray($sliceToArray(v),function(e){return $externalize(e,t.elem);});}return $sliceToArray(v);case $kindString:if($isASCII(v)){return v;}var s="",r;for(var i=0;i<v.length;i+=r[1]){r=$decodeRune(v,i);var c=r[0];if(c>0xFFFF){var h=Math.floor((c-0x10000)/0x400)+0xD800;var l=(c-0x10000)%0x400+0xDC00;s+=String.fromCharCode(h,l);continue;}s+=String.fromCharCode(c);}return s;case $kindStruct:var timePkg=$packages["time"];if(timePkg!==undefined&&v.constructor===timePkg.Time.ptr){var milli=$div64(v.UnixNano(),new $Int64(0,1000000));return new Date($flatten64(milli));}var noJsObject={};var searchJsObject=function(v,t){if(t===$jsObjectPtr){return v;}switch(t.kind){case $kindPtr:if(v===t.nil){return noJsObject;}return searchJsObject(v.$get(),t.elem);case $kindStruct:var f=t.fields[0];return searchJsObject(v[f.prop],f.typ);case $kindInterface:return searchJsObject(v.$val,v.constructor);default:return noJsObject;}};var o=searchJsObject(v,t);if(o!==noJsObject){return o;}o={};for(var i=0;i<t.fields.length;i++){var f=t.fields[i];if(!f.exported){continue;}o[f.name]=$externalize(v[f.prop],f.typ);}return o;}$throwRuntimeError("cannot externalize "+t.string);};var $externalizeFunction=function(v,t,passThis){if(v===$throwNilPointerError){return null;}if(v.$externalizeWrapper===undefined){$checkForDeadlock=false;v.$externalizeWrapper=function(){var args=[];for(var i=0;i<t.params.length;i++){if(t.variadic&&i===t.params.length-1){var vt=t.params[i].elem,varargs=[];for(var j=i;j<arguments.length;j++){varargs.push($internalize(arguments[j],vt));}args.push(new t.params[i](varargs));break;}args.push($internalize(arguments[i],t.params[i]));}var result=v.apply(passThis?this:undefined,args);switch(t.results.length){case 0:return;case 1:return $externalize(result,t.results[0]);default:for(var i=0;i<t.results.length;i++){result[i]=$externalize(result[i],t.results[i]);}return result;}};}return v.$externalizeWrapper;};var $internalize=function(v,t,recv){if(t===$jsObjectPtr){return v;}if(t===$jsObjectPtr.elem){$throwRuntimeError("cannot internalize js.Object, use *js.Object instead");}if(v&&v.__internal_object__!==undefined){return $assertType(v.__internal_object__,t,false);}var timePkg=$packages["time"];if(timePkg!==undefined&&t===timePkg.Time){if(!(v!==null&&v!==undefined&&v.constructor===Date)){$throwRuntimeError("cannot internalize time.Time from "+typeof v+", must be Date");}return timePkg.Unix(new $Int64(0,0),new $Int64(0,v.getTime()*1000000));}switch(t.kind){case $kindBool:return!!v;case $kindInt:return parseInt(v);case $kindInt8:return parseInt(v)<<24>>24;case $kindInt16:return parseInt(v)<<16>>16;case $kindInt32:return parseInt(v)>>0;case $kindUint:return parseInt(v);case $kindUint8:return parseInt(v)<<24>>>24;case $kindUint16:return parseInt(v)<<16>>>16;case $kindUint32:case $kindUintptr:return parseInt(v)>>>0;case $kindInt64:case $kindUint64:return new t(0,v);case $kindFloat32:case $kindFloat64:return parseFloat(v);case $kindArray:if(v.length!==t.len){$throwRuntimeError("got array with wrong size from JavaScript native");}return $mapArray(v,function(e){return $internalize(e,t.elem);});case $kindFunc:return function(){var args=[];for(var i=0;i<t.params.length;i++){if(t.variadic&&i===t.params.length-1){var vt=t.params[i].elem,varargs=arguments[i];for(var j=0;j<varargs.$length;j++){args.push($externalize(varargs.$array[varargs.$offset+j],vt));}break;}args.push($externalize(arguments[i],t.params[i]));}var result=v.apply(recv,args);switch(t.results.length){case 0:return;case 1:return $internalize(result,t.results[0]);default:for(var i=0;i<t.results.length;i++){result[i]=$internalize(result[i],t.results[i]);}return result;}};case $kindInterface:if(t.methods.length!==0){$throwRuntimeError("cannot internalize "+t.string);}if(v===null){return $ifaceNil;}if(v===undefined){return new $jsObjectPtr(undefined);}switch(v.constructor){case Int8Array:return new($sliceType($Int8))(v);case Int16Array:return new($sliceType($Int16))(v);case Int32Array:return new($sliceType($Int))(v);case Uint8Array:return new($sliceType($Uint8))(v);case Uint16Array:return new($sliceType($Uint16))(v);case Uint32Array:return new($sliceType($Uint))(v);case Float32Array:return new($sliceType($Float32))(v);case Float64Array:return new($sliceType($Float64))(v);case Array:return $internalize(v,$sliceType($emptyInterface));case Boolean:return new $Bool(!!v);case Date:if(timePkg===undefined){/* time package is not present, internalize as &js.Object{Date} so it can be externalized into original Date. */return new $jsObjectPtr(v);}return new timePkg.Time($internalize(v,timePkg.Time));case Function:var funcType=$funcType([$sliceType($emptyInterface)],[$jsObjectPtr],true);return new funcType($internalize(v,funcType));case Number:return new $Float64(parseFloat(v));case String:return new $String($internalize(v,$String));default:if($global.Node&&v instanceof $global.Node){return new $jsObjectPtr(v);}var mapType=$mapType($String,$emptyInterface);return new mapType($internalize(v,mapType));}case $kindMap:var m={};var keys=$keys(v);for(var i=0;i<keys.length;i++){var k=$internalize(keys[i],t.key);m[t.key.keyFor(k)]={k:k,v:$internalize(v[keys[i]],t.elem)};}return m;case $kindPtr:if(t.elem.kind===$kindStruct){return $internalize(v,t.elem);}case $kindSlice:return new t($mapArray(v,function(e){return $internalize(e,t.elem);}));case $kindString:v=String(v);if($isASCII(v)){return v;}var s="";var i=0;while(i<v.length){var h=v.charCodeAt(i);if(0xD800<=h&&h<=0xDBFF){var l=v.charCodeAt(i+1);var c=(h-0xD800)*0x400+l-0xDC00+0x10000;s+=$encodeRune(c);i+=2;continue;}s+=$encodeRune(h);i++;}return s;case $kindStruct:var noJsObject={};var searchJsObject=function(t){if(t===$jsObjectPtr){return v;}if(t===$jsObjectPtr.elem){$throwRuntimeError("cannot internalize js.Object, use *js.Object instead");}switch(t.kind){case $kindPtr:return searchJsObject(t.elem);case $kindStruct:var f=t.fields[0];var o=searchJsObject(f.typ);if(o!==noJsObject){var n=new t.ptr();n[f.prop]=o;return n;}return noJsObject;default:return noJsObject;}};var o=searchJsObject(t);if(o!==noJsObject){return o;}}$throwRuntimeError("cannot internalize "+t.string);};/* $isASCII reports whether string s contains only ASCII characters. */var $isASCII=function(s){for(var i=0;i<s.length;i++){if(s.charCodeAt(i)>=128){return false;}}return true;};$packages["github.com/gopherjs/gopherjs/js"]=function(){var $pkg={},$init,Object,Error,sliceType,ptrType,ptrType$1,MakeFunc,init;Object=$pkg.Object=$newType(0,$kindStruct,"js.Object",true,"github.com/gopherjs/gopherjs/js",true,function(object_){this.$val=this;if(arguments.length===0){this.object=null;return;}this.object=object_;});Error=$pkg.Error=$newType(0,$kindStruct,"js.Error",true,"github.com/gopherjs/gopherjs/js",true,function(Object_){this.$val=this;if(arguments.length===0){this.Object=null;return;}this.Object=Object_;});sliceType=$sliceType($emptyInterface);ptrType=$ptrType(Object);ptrType$1=$ptrType(Error);Object.ptr.prototype.Get=function(key){var key,o;o=this;return o.object[$externalize(key,$String)];};Object.prototype.Get=function(key){return this.$val.Get(key);};Object.ptr.prototype.Set=function(key,value){var key,o,value;o=this;o.object[$externalize(key,$String)]=$externalize(value,$emptyInterface);};Object.prototype.Set=function(key,value){return this.$val.Set(key,value);};Object.ptr.prototype.Delete=function(key){var key,o;o=this;delete o.object[$externalize(key,$String)];};Object.prototype.Delete=function(key){return this.$val.Delete(key);};Object.ptr.prototype.Length=function(){var o;o=this;return $parseInt(o.object.length);};Object.prototype.Length=function(){return this.$val.Length();};Object.ptr.prototype.Index=function(i){var i,o;o=this;return o.object[i];};Object.prototype.Index=function(i){return this.$val.Index(i);};Object.ptr.prototype.SetIndex=function(i,value){var i,o,value;o=this;o.object[i]=$externalize(value,$emptyInterface);};Object.prototype.SetIndex=function(i,value){return this.$val.SetIndex(i,value);};Object.ptr.prototype.Call=function(name,args){var args,name,o,obj;o=this;return obj=o.object,obj[$externalize(name,$String)].apply(obj,$externalize(args,sliceType));};Object.prototype.Call=function(name,args){return this.$val.Call(name,args);};Object.ptr.prototype.Invoke=function(args){var args,o;o=this;return o.object.apply(undefined,$externalize(args,sliceType));};Object.prototype.Invoke=function(args){return this.$val.Invoke(args);};Object.ptr.prototype.New=function(args){var args,o;o=this;return new($global.Function.prototype.bind.apply(o.object,[undefined].concat($externalize(args,sliceType))))();};Object.prototype.New=function(args){return this.$val.New(args);};Object.ptr.prototype.Bool=function(){var o;o=this;return!!o.object;};Object.prototype.Bool=function(){return this.$val.Bool();};Object.ptr.prototype.String=function(){var o;o=this;return $internalize(o.object,$String);};Object.prototype.String=function(){return this.$val.String();};Object.ptr.prototype.Int=function(){var o;o=this;return $parseInt(o.object)>>0;};Object.prototype.Int=function(){return this.$val.Int();};Object.ptr.prototype.Int64=function(){var o;o=this;return $internalize(o.object,$Int64);};Object.prototype.Int64=function(){return this.$val.Int64();};Object.ptr.prototype.Uint64=function(){var o;o=this;return $internalize(o.object,$Uint64);};Object.prototype.Uint64=function(){return this.$val.Uint64();};Object.ptr.prototype.Float=function(){var o;o=this;return $parseFloat(o.object);};Object.prototype.Float=function(){return this.$val.Float();};Object.ptr.prototype.Interface=function(){var o;o=this;return $internalize(o.object,$emptyInterface);};Object.prototype.Interface=function(){return this.$val.Interface();};Object.ptr.prototype.Unsafe=function(){var o;o=this;return o.object;};Object.prototype.Unsafe=function(){return this.$val.Unsafe();};Error.ptr.prototype.Error=function(){var err;err=this;return"JavaScript error: "+$internalize(err.Object.message,$String);};Error.prototype.Error=function(){return this.$val.Error();};Error.ptr.prototype.Stack=function(){var err;err=this;return $internalize(err.Object.stack,$String);};Error.prototype.Stack=function(){return this.$val.Stack();};MakeFunc=function(fn){var fn;return $makeFunc(fn);};$pkg.MakeFunc=MakeFunc;init=function(){var e;e=new Error.ptr(null);$unused(e);};ptrType.methods=[{prop:"Get",name:"Get",pkg:"",typ:$funcType([$String],[ptrType],false)},{prop:"Set",name:"Set",pkg:"",typ:$funcType([$String,$emptyInterface],[],false)},{prop:"Delete",name:"Delete",pkg:"",typ:$funcType([$String],[],false)},{prop:"Length",name:"Length",pkg:"",typ:$funcType([],[$Int],false)},{prop:"Index",name:"Index",pkg:"",typ:$funcType([$Int],[ptrType],false)},{prop:"SetIndex",name:"SetIndex",pkg:"",typ:$funcType([$Int,$emptyInterface],[],false)},{prop:"Call",name:"Call",pkg:"",typ:$funcType([$String,sliceType],[ptrType],true)},{prop:"Invoke",name:"Invoke",pkg:"",typ:$funcType([sliceType],[ptrType],true)},{prop:"New",name:"New",pkg:"",typ:$funcType([sliceType],[ptrType],true)},{prop:"Bool",name:"Bool",pkg:"",typ:$funcType([],[$Bool],false)},{prop:"String",name:"String",pkg:"",typ:$funcType([],[$String],false)},{prop:"Int",name:"Int",pkg:"",typ:$funcType([],[$Int],false)},{prop:"Int64",name:"Int64",pkg:"",typ:$funcType([],[$Int64],false)},{prop:"Uint64",name:"Uint64",pkg:"",typ:$funcType([],[$Uint64],false)},{prop:"Float",name:"Float",pkg:"",typ:$funcType([],[$Float64],false)},{prop:"Interface",name:"Interface",pkg:"",typ:$funcType([],[$emptyInterface],false)},{prop:"Unsafe",name:"Unsafe",pkg:"",typ:$funcType([],[$Uintptr],false)}];ptrType$1.methods=[{prop:"Error",name:"Error",pkg:"",typ:$funcType([],[$String],false)},{prop:"Stack",name:"Stack",pkg:"",typ:$funcType([],[$String],false)}];Object.init("github.com/gopherjs/gopherjs/js",[{prop:"object",name:"object",embedded:false,exported:false,typ:ptrType,tag:""}]);Error.init("",[{prop:"Object",name:"Object",embedded:true,exported:true,typ:ptrType,tag:""}]);$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:init();/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["internal/cpu"]=function(){var $pkg={},$init;$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["internal/bytealg"]=function(){var $pkg={},$init,cpu,IndexByteString;cpu=$packages["internal/cpu"];IndexByteString=function(s,c){var c,i,s;i=0;while(true){if(!(i<s.length)){break;}if(s.charCodeAt(i)===c){return i;}i=i+1>>0;}return-1;};$pkg.IndexByteString=IndexByteString;$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=cpu.$init();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["runtime/internal/sys"]=function(){var $pkg={},$init;$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["runtime"]=function(){var $pkg={},$init,js,bytealg,sys,_type,TypeAssertionError,errorString,ptrType,ptrType$4,init,GOROOT,Goexit,SetFinalizer,KeepAlive,throw$1;js=$packages["github.com/gopherjs/gopherjs/js"];bytealg=$packages["internal/bytealg"];sys=$packages["runtime/internal/sys"];_type=$pkg._type=$newType(0,$kindStruct,"runtime._type",true,"runtime",false,function(str_){this.$val=this;if(arguments.length===0){this.str="";return;}this.str=str_;});TypeAssertionError=$pkg.TypeAssertionError=$newType(0,$kindStruct,"runtime.TypeAssertionError",true,"runtime",true,function(_interface_,concrete_,asserted_,missingMethod_){this.$val=this;if(arguments.length===0){this._interface=ptrType.nil;this.concrete=ptrType.nil;this.asserted=ptrType.nil;this.missingMethod="";return;}this._interface=_interface_;this.concrete=concrete_;this.asserted=asserted_;this.missingMethod=missingMethod_;});errorString=$pkg.errorString=$newType(8,$kindString,"runtime.errorString",true,"runtime",false,null);ptrType=$ptrType(_type);ptrType$4=$ptrType(TypeAssertionError);_type.ptr.prototype.string=function(){var t;t=this;return t.str;};_type.prototype.string=function(){return this.$val.string();};_type.ptr.prototype.pkgpath=function(){var t;t=this;return"";};_type.prototype.pkgpath=function(){return this.$val.pkgpath();};init=function(){var e,jsPkg;jsPkg=$packages[$externalize("github.com/gopherjs/gopherjs/js",$String)];$jsObjectPtr=jsPkg.Object.ptr;$jsErrorPtr=jsPkg.Error.ptr;$throwRuntimeError=throw$1;e=$ifaceNil;e=new TypeAssertionError.ptr(ptrType.nil,ptrType.nil,ptrType.nil,"");$unused(e);};GOROOT=function(){var process,v,v$1;process=$global.process;if(process===undefined){return"/";}v=process.env.GOPHERJS_GOROOT;if(!(v===undefined)){return $internalize(v,$String);}else{v$1=process.env.GOROOT;if(!(v$1===undefined)){return $internalize(v$1,$String);}}return"/usr/local/go";};$pkg.GOROOT=GOROOT;Goexit=function(){$curGoroutine.exit=$externalize(true,$Bool);$throw(null);};$pkg.Goexit=Goexit;SetFinalizer=function(x,f){var f,x;};$pkg.SetFinalizer=SetFinalizer;KeepAlive=function(param){var param;};$pkg.KeepAlive=KeepAlive;throw$1=function(s){var s;$panic(new errorString(s));};TypeAssertionError.ptr.prototype.RuntimeError=function(){};TypeAssertionError.prototype.RuntimeError=function(){return this.$val.RuntimeError();};TypeAssertionError.ptr.prototype.Error=function(){var as,cs,e,inter,msg;e=this;inter="interface";if(!(e._interface===ptrType.nil)){inter=e._interface.string();}as=e.asserted.string();if(e.concrete===ptrType.nil){return"interface conversion: "+inter+" is nil, not "+as;}cs=e.concrete.string();if(e.missingMethod===""){msg="interface conversion: "+inter+" is "+cs+", not "+as;if(cs===as){if(!(e.concrete.pkgpath()===e.asserted.pkgpath())){msg=msg+" (types from different packages)";}else{msg=msg+" (types from different scopes)";}}return msg;}return"interface conversion: "+cs+" is not "+as+": missing method "+e.missingMethod;};TypeAssertionError.prototype.Error=function(){return this.$val.Error();};errorString.prototype.RuntimeError=function(){var e;e=this.$val;};$ptrType(errorString).prototype.RuntimeError=function(){return new errorString(this.$get()).RuntimeError();};errorString.prototype.Error=function(){var e;e=this.$val;return"runtime error: "+e;};$ptrType(errorString).prototype.Error=function(){return new errorString(this.$get()).Error();};ptrType.methods=[{prop:"string",name:"string",pkg:"runtime",typ:$funcType([],[$String],false)},{prop:"pkgpath",name:"pkgpath",pkg:"runtime",typ:$funcType([],[$String],false)}];ptrType$4.methods=[{prop:"RuntimeError",name:"RuntimeError",pkg:"",typ:$funcType([],[],false)},{prop:"Error",name:"Error",pkg:"",typ:$funcType([],[$String],false)}];errorString.methods=[{prop:"RuntimeError",name:"RuntimeError",pkg:"",typ:$funcType([],[],false)},{prop:"Error",name:"Error",pkg:"",typ:$funcType([],[$String],false)}];_type.init("runtime",[{prop:"str",name:"str",embedded:false,exported:false,typ:$String,tag:""}]);TypeAssertionError.init("runtime",[{prop:"_interface",name:"_interface",embedded:false,exported:false,typ:ptrType,tag:""},{prop:"concrete",name:"concrete",embedded:false,exported:false,typ:ptrType,tag:""},{prop:"asserted",name:"asserted",embedded:false,exported:false,typ:ptrType,tag:""},{prop:"missingMethod",name:"missingMethod",embedded:false,exported:false,typ:$String,tag:""}]);$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=js.$init();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=bytealg.$init();/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=sys.$init();/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}init();/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["errors"]=function(){var $pkg={},$init,errorString,ptrType,New;errorString=$pkg.errorString=$newType(0,$kindStruct,"errors.errorString",true,"errors",false,function(s_){this.$val=this;if(arguments.length===0){this.s="";return;}this.s=s_;});ptrType=$ptrType(errorString);New=function(text){var text;return new errorString.ptr(text);};$pkg.New=New;errorString.ptr.prototype.Error=function(){var e;e=this;return e.s;};errorString.prototype.Error=function(){return this.$val.Error();};ptrType.methods=[{prop:"Error",name:"Error",pkg:"",typ:$funcType([],[$String],false)}];errorString.init("errors",[{prop:"s",name:"s",embedded:false,exported:false,typ:$String,tag:""}]);$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["math/bits"]=function(){var $pkg={},$init,deBruijn32tab,deBruijn64tab,len8tab,LeadingZeros64,TrailingZeros,TrailingZeros32,TrailingZeros64,Len64;LeadingZeros64=function(x){var x;return 64-Len64(x)>>0;};$pkg.LeadingZeros64=LeadingZeros64;TrailingZeros=function(x){var x;if(true){return TrailingZeros32(x>>>0);}return TrailingZeros64(new $Uint64(0,x));};$pkg.TrailingZeros=TrailingZeros;TrailingZeros32=function(x){var x,x$1;if(x===0){return 32;}return(x$1=$imul((x&-x>>>0)>>>0,125613361)>>>0>>>27>>>0,x$1<0||x$1>=deBruijn32tab.length?($throwRuntimeError("index out of range"),undefined):deBruijn32tab[x$1])>>0;};$pkg.TrailingZeros32=TrailingZeros32;TrailingZeros64=function(x){var x,x$1,x$2;if(x.$high===0&&x.$low===0){return 64;}return(x$1=$shiftRightUint64($mul64((x$2=new $Uint64(-x.$high,-x.$low),new $Uint64(x.$high&x$2.$high,(x.$low&x$2.$low)>>>0)),new $Uint64(66559345,3033172745)),58),$flatten64(x$1)<0||$flatten64(x$1)>=deBruijn64tab.length?($throwRuntimeError("index out of range"),undefined):deBruijn64tab[$flatten64(x$1)])>>0;};$pkg.TrailingZeros64=TrailingZeros64;Len64=function(x){var n,x;n=0;if(x.$high>1||x.$high===1&&x.$low>=0){x=$shiftRightUint64(x,32);n=32;}if(x.$high>0||x.$high===0&&x.$low>=65536){x=$shiftRightUint64(x,16);n=n+16>>0;}if(x.$high>0||x.$high===0&&x.$low>=256){x=$shiftRightUint64(x,8);n=n+8>>0;}n=n+(($flatten64(x)<0||$flatten64(x)>=len8tab.length?($throwRuntimeError("index out of range"),undefined):len8tab[$flatten64(x)])>>0)>>0;return n;};$pkg.Len64=Len64;$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:deBruijn32tab=$toNativeArray($kindUint8,[0,1,28,2,29,14,24,3,30,22,20,15,25,17,4,8,31,27,13,23,21,19,16,7,26,12,18,6,11,5,10,9]);deBruijn64tab=$toNativeArray($kindUint8,[0,1,56,2,57,49,28,3,61,58,42,50,38,29,17,4,62,47,59,36,45,43,51,22,53,39,33,30,24,18,12,5,63,55,48,27,60,41,37,16,46,35,44,21,52,32,23,11,54,26,40,15,34,20,31,10,25,14,19,9,13,8,7,6]);len8tab=$toNativeArray($kindUint8,[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8]);/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["math"]=function(){var $pkg={},$init,js,bits,arrayType,arrayType$1,arrayType$2,structType,math,zero,posInf,negInf,nan,buf,Exp,Floor,Hypot,Inf,IsInf,IsNaN,Log,Max,NaN,Pow,Signbit,Sqrt,init,Float32bits,Float32frombits,Float64bits,Float64frombits,Abs,max,hypot;js=$packages["github.com/gopherjs/gopherjs/js"];bits=$packages["math/bits"];arrayType=$arrayType($Uint32,2);arrayType$1=$arrayType($Float32,2);arrayType$2=$arrayType($Float64,1);structType=$structType("math",[{prop:"uint32array",name:"uint32array",embedded:false,exported:false,typ:arrayType,tag:""},{prop:"float32array",name:"float32array",embedded:false,exported:false,typ:arrayType$1,tag:""},{prop:"float64array",name:"float64array",embedded:false,exported:false,typ:arrayType$2,tag:""}]);Exp=function(x){var x;return $parseFloat(math.exp(x));};$pkg.Exp=Exp;Floor=function(x){var x;return $parseFloat(math.floor(x));};$pkg.Floor=Floor;Hypot=function(p,q){var p,q;return hypot(p,q);};$pkg.Hypot=Hypot;Inf=function(sign){var sign;if(sign>=0){return posInf;}else{return negInf;}};$pkg.Inf=Inf;IsInf=function(f,sign){var f,sign;if(f===posInf){return sign>=0;}if(f===negInf){return sign<=0;}return false;};$pkg.IsInf=IsInf;IsNaN=function(f){var f,is;is=false;is=!(f===f);return is;};$pkg.IsNaN=IsNaN;Log=function(x){var x;if(!(x===x)){return nan;}return $parseFloat(math.log(x));};$pkg.Log=Log;Max=function(x,y){var x,y;return max(x,y);};$pkg.Max=Max;NaN=function(){return nan;};$pkg.NaN=NaN;Pow=function(x,y){var x,y;if(x===1||x===-1&&(y===posInf||y===negInf)){return 1;}return $parseFloat(math.pow(x,y));};$pkg.Pow=Pow;Signbit=function(x){var x;return x<0||1/x===negInf;};$pkg.Signbit=Signbit;Sqrt=function(x){var x;return $parseFloat(math.sqrt(x));};$pkg.Sqrt=Sqrt;init=function(){var ab;ab=new $global.ArrayBuffer(8);buf.uint32array=new $global.Uint32Array(ab);buf.float32array=new $global.Float32Array(ab);buf.float64array=new $global.Float64Array(ab);};Float32bits=function(f){var f;buf.float32array[0]=f;return buf.uint32array[0];};$pkg.Float32bits=Float32bits;Float32frombits=function(b){var b;buf.uint32array[0]=b;return buf.float32array[0];};$pkg.Float32frombits=Float32frombits;Float64bits=function(f){var f,x,x$1;buf.float64array[0]=f;return x=$shiftLeft64(new $Uint64(0,buf.uint32array[1]),32),x$1=new $Uint64(0,buf.uint32array[0]),new $Uint64(x.$high+x$1.$high,x.$low+x$1.$low);};$pkg.Float64bits=Float64bits;Float64frombits=function(b){var b;buf.uint32array[0]=b.$low>>>0;buf.uint32array[1]=$shiftRightUint64(b,32).$low>>>0;return buf.float64array[0];};$pkg.Float64frombits=Float64frombits;Abs=function(x){var x,x$1;return Float64frombits((x$1=Float64bits(x),new $Uint64(x$1.$high&~2147483648,(x$1.$low&~0)>>>0)));};$pkg.Abs=Abs;max=function(x,y){var x,y;if(IsInf(x,1)||IsInf(y,1)){return Inf(1);}else if(IsNaN(x)||IsNaN(y)){return NaN();}else if(x===0&&x===y){if(Signbit(x)){return y;}return x;}if(x>y){return x;}return y;};hypot=function(p,q){var _tmp,_tmp$1,_tmp$2,_tmp$3,p,q;if(IsInf(p,0)||IsInf(q,0)){return Inf(1);}else if(IsNaN(p)||IsNaN(q)){return NaN();}_tmp=Abs(p);_tmp$1=Abs(q);p=_tmp;q=_tmp$1;if(p<q){_tmp$2=q;_tmp$3=p;p=_tmp$2;q=_tmp$3;}if(p===0){return 0;}q=q/p;return p*Sqrt(1+q*q);};$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=js.$init();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=bits.$init();/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}buf=new structType.ptr(arrayType.zero(),arrayType$1.zero(),arrayType$2.zero());math=$global.Math;zero=0;posInf=1/zero;negInf=-1/zero;nan=0/zero;init();/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["unicode/utf8"]=function(){var $pkg={},$init,acceptRange,first,acceptRanges,DecodeRune,DecodeRuneInString,RuneLen,EncodeRune,RuneCount,RuneCountInString,ValidString,ValidRune;acceptRange=$pkg.acceptRange=$newType(0,$kindStruct,"utf8.acceptRange",true,"unicode/utf8",false,function(lo_,hi_){this.$val=this;if(arguments.length===0){this.lo=0;this.hi=0;return;}this.lo=lo_;this.hi=hi_;});DecodeRune=function(p){var _tmp,_tmp$1,_tmp$10,_tmp$11,_tmp$12,_tmp$13,_tmp$14,_tmp$15,_tmp$16,_tmp$17,_tmp$2,_tmp$3,_tmp$4,_tmp$5,_tmp$6,_tmp$7,_tmp$8,_tmp$9,accept,b1,b2,b3,mask,n,p,p0,r,size,sz,x,x$1;r=0;size=0;n=p.$length;if(n<1){_tmp=65533;_tmp$1=0;r=_tmp;size=_tmp$1;return[r,size];}p0=0>=p.$length?($throwRuntimeError("index out of range"),undefined):p.$array[p.$offset+0];x=p0<0||p0>=first.length?($throwRuntimeError("index out of range"),undefined):first[p0];if(x>=240){mask=x>>0<<31>>0>>31>>0;_tmp$2=((0>=p.$length?($throwRuntimeError("index out of range"),undefined):p.$array[p.$offset+0])>>0&~mask)>>0|65533&mask;_tmp$3=1;r=_tmp$2;size=_tmp$3;return[r,size];}sz=(x&7)>>>0;accept=$clone((x$1=x>>>4<<24>>>24,x$1<0||x$1>=acceptRanges.length?($throwRuntimeError("index out of range"),undefined):acceptRanges[x$1]),acceptRange);if(n<sz>>0){_tmp$4=65533;_tmp$5=1;r=_tmp$4;size=_tmp$5;return[r,size];}b1=1>=p.$length?($throwRuntimeError("index out of range"),undefined):p.$array[p.$offset+1];if(b1<accept.lo||accept.hi<b1){_tmp$6=65533;_tmp$7=1;r=_tmp$6;size=_tmp$7;return[r,size];}if(sz===2){_tmp$8=(p0&31)>>>0>>0<<6>>0|(b1&63)>>>0>>0;_tmp$9=2;r=_tmp$8;size=_tmp$9;return[r,size];}b2=2>=p.$length?($throwRuntimeError("index out of range"),undefined):p.$array[p.$offset+2];if(b2<128||191<b2){_tmp$10=65533;_tmp$11=1;r=_tmp$10;size=_tmp$11;return[r,size];}if(sz===3){_tmp$12=(p0&15)>>>0>>0<<12>>0|(b1&63)>>>0>>0<<6>>0|(b2&63)>>>0>>0;_tmp$13=3;r=_tmp$12;size=_tmp$13;return[r,size];}b3=3>=p.$length?($throwRuntimeError("index out of range"),undefined):p.$array[p.$offset+3];if(b3<128||191<b3){_tmp$14=65533;_tmp$15=1;r=_tmp$14;size=_tmp$15;return[r,size];}_tmp$16=(p0&7)>>>0>>0<<18>>0|(b1&63)>>>0>>0<<12>>0|(b2&63)>>>0>>0<<6>>0|(b3&63)>>>0>>0;_tmp$17=4;r=_tmp$16;size=_tmp$17;return[r,size];};$pkg.DecodeRune=DecodeRune;DecodeRuneInString=function(s){var _tmp,_tmp$1,_tmp$10,_tmp$11,_tmp$12,_tmp$13,_tmp$14,_tmp$15,_tmp$16,_tmp$17,_tmp$2,_tmp$3,_tmp$4,_tmp$5,_tmp$6,_tmp$7,_tmp$8,_tmp$9,accept,mask,n,r,s,s0,s1,s2,s3,size,sz,x,x$1;r=0;size=0;n=s.length;if(n<1){_tmp=65533;_tmp$1=0;r=_tmp;size=_tmp$1;return[r,size];}s0=s.charCodeAt(0);x=s0<0||s0>=first.length?($throwRuntimeError("index out of range"),undefined):first[s0];if(x>=240){mask=x>>0<<31>>0>>31>>0;_tmp$2=(s.charCodeAt(0)>>0&~mask)>>0|65533&mask;_tmp$3=1;r=_tmp$2;size=_tmp$3;return[r,size];}sz=(x&7)>>>0;accept=$clone((x$1=x>>>4<<24>>>24,x$1<0||x$1>=acceptRanges.length?($throwRuntimeError("index out of range"),undefined):acceptRanges[x$1]),acceptRange);if(n<sz>>0){_tmp$4=65533;_tmp$5=1;r=_tmp$4;size=_tmp$5;return[r,size];}s1=s.charCodeAt(1);if(s1<accept.lo||accept.hi<s1){_tmp$6=65533;_tmp$7=1;r=_tmp$6;size=_tmp$7;return[r,size];}if(sz===2){_tmp$8=(s0&31)>>>0>>0<<6>>0|(s1&63)>>>0>>0;_tmp$9=2;r=_tmp$8;size=_tmp$9;return[r,size];}s2=s.charCodeAt(2);if(s2<128||191<s2){_tmp$10=65533;_tmp$11=1;r=_tmp$10;size=_tmp$11;return[r,size];}if(sz===3){_tmp$12=(s0&15)>>>0>>0<<12>>0|(s1&63)>>>0>>0<<6>>0|(s2&63)>>>0>>0;_tmp$13=3;r=_tmp$12;size=_tmp$13;return[r,size];}s3=s.charCodeAt(3);if(s3<128||191<s3){_tmp$14=65533;_tmp$15=1;r=_tmp$14;size=_tmp$15;return[r,size];}_tmp$16=(s0&7)>>>0>>0<<18>>0|(s1&63)>>>0>>0<<12>>0|(s2&63)>>>0>>0<<6>>0|(s3&63)>>>0>>0;_tmp$17=4;r=_tmp$16;size=_tmp$17;return[r,size];};$pkg.DecodeRuneInString=DecodeRuneInString;RuneLen=function(r){var r;if(r<0){return-1;}else if(r<=127){return 1;}else if(r<=2047){return 2;}else if(55296<=r&&r<=57343){return-1;}else if(r<=65535){return 3;}else if(r<=1114111){return 4;}return-1;};$pkg.RuneLen=RuneLen;EncodeRune=function(p,r){var i,p,r;i=r>>>0;if(i<=127){0>=p.$length?($throwRuntimeError("index out of range"),undefined):p.$array[p.$offset+0]=r<<24>>>24;return 1;}else if(i<=2047){$unused(1>=p.$length?($throwRuntimeError("index out of range"),undefined):p.$array[p.$offset+1]);0>=p.$length?($throwRuntimeError("index out of range"),undefined):p.$array[p.$offset+0]=(192|r>>6>>0<<24>>>24)>>>0;1>=p.$length?($throwRuntimeError("index out of range"),undefined):p.$array[p.$offset+1]=(128|(r<<24>>>24&63)>>>0)>>>0;return 2;}else if(i>1114111||55296<=i&&i<=57343){r=65533;$unused(2>=p.$length?($throwRuntimeError("index out of range"),undefined):p.$array[p.$offset+2]);0>=p.$length?($throwRuntimeError("index out of range"),undefined):p.$array[p.$offset+0]=(224|r>>12>>0<<24>>>24)>>>0;1>=p.$length?($throwRuntimeError("index out of range"),undefined):p.$array[p.$offset+1]=(128|(r>>6>>0<<24>>>24&63)>>>0)>>>0;2>=p.$length?($throwRuntimeError("index out of range"),undefined):p.$array[p.$offset+2]=(128|(r<<24>>>24&63)>>>0)>>>0;return 3;}else if(i<=65535){$unused(2>=p.$length?($throwRuntimeError("index out of range"),undefined):p.$array[p.$offset+2]);0>=p.$length?($throwRuntimeError("index out of range"),undefined):p.$array[p.$offset+0]=(224|r>>12>>0<<24>>>24)>>>0;1>=p.$length?($throwRuntimeError("index out of range"),undefined):p.$array[p.$offset+1]=(128|(r>>6>>0<<24>>>24&63)>>>0)>>>0;2>=p.$length?($throwRuntimeError("index out of range"),undefined):p.$array[p.$offset+2]=(128|(r<<24>>>24&63)>>>0)>>>0;return 3;}else{$unused(3>=p.$length?($throwRuntimeError("index out of range"),undefined):p.$array[p.$offset+3]);0>=p.$length?($throwRuntimeError("index out of range"),undefined):p.$array[p.$offset+0]=(240|r>>18>>0<<24>>>24)>>>0;1>=p.$length?($throwRuntimeError("index out of range"),undefined):p.$array[p.$offset+1]=(128|(r>>12>>0<<24>>>24&63)>>>0)>>>0;2>=p.$length?($throwRuntimeError("index out of range"),undefined):p.$array[p.$offset+2]=(128|(r>>6>>0<<24>>>24&63)>>>0)>>>0;3>=p.$length?($throwRuntimeError("index out of range"),undefined):p.$array[p.$offset+3]=(128|(r<<24>>>24&63)>>>0)>>>0;return 4;}};$pkg.EncodeRune=EncodeRune;RuneCount=function(p){var accept,c,c$1,c$2,c$3,i,n,np,p,size,x,x$1,x$2,x$3,x$4;np=p.$length;n=0;i=0;while(true){if(!(i<np)){break;}n=n+1>>0;c=i<0||i>=p.$length?($throwRuntimeError("index out of range"),undefined):p.$array[p.$offset+i];if(c<128){i=i+1>>0;continue;}x=c<0||c>=first.length?($throwRuntimeError("index out of range"),undefined):first[c];if(x===241){i=i+1>>0;continue;}size=(x&7)>>>0>>0;if(i+size>>0>np){i=i+1>>0;continue;}accept=$clone((x$1=x>>>4<<24>>>24,x$1<0||x$1>=acceptRanges.length?($throwRuntimeError("index out of range"),undefined):acceptRanges[x$1]),acceptRange);c$1=(x$2=i+1>>0,x$2<0||x$2>=p.$length?($throwRuntimeError("index out of range"),undefined):p.$array[p.$offset+x$2]);if(c$1<accept.lo||accept.hi<c$1){size=1;}else if(size===2){}else{c$2=(x$3=i+2>>0,x$3<0||x$3>=p.$length?($throwRuntimeError("index out of range"),undefined):p.$array[p.$offset+x$3]);if(c$2<128||191<c$2){size=1;}else if(size===3){}else{c$3=(x$4=i+3>>0,x$4<0||x$4>=p.$length?($throwRuntimeError("index out of range"),undefined):p.$array[p.$offset+x$4]);if(c$3<128||191<c$3){size=1;}}}i=i+size>>0;}return n;};$pkg.RuneCount=RuneCount;RuneCountInString=function(s){var accept,c,c$1,c$2,c$3,i,n,ns,s,size,x,x$1;n=0;ns=s.length;i=0;while(true){if(!(i<ns)){break;}c=s.charCodeAt(i);if(c<128){i=i+1>>0;n=n+1>>0;continue;}x=c<0||c>=first.length?($throwRuntimeError("index out of range"),undefined):first[c];if(x===241){i=i+1>>0;n=n+1>>0;continue;}size=(x&7)>>>0>>0;if(i+size>>0>ns){i=i+1>>0;n=n+1>>0;continue;}accept=$clone((x$1=x>>>4<<24>>>24,x$1<0||x$1>=acceptRanges.length?($throwRuntimeError("index out of range"),undefined):acceptRanges[x$1]),acceptRange);c$1=s.charCodeAt(i+1>>0);if(c$1<accept.lo||accept.hi<c$1){size=1;}else if(size===2){}else{c$2=s.charCodeAt(i+2>>0);if(c$2<128||191<c$2){size=1;}else if(size===3){}else{c$3=s.charCodeAt(i+3>>0);if(c$3<128||191<c$3){size=1;}}}i=i+size>>0;n=n+1>>0;}n=n;return n;};$pkg.RuneCountInString=RuneCountInString;ValidString=function(s){var accept,c,c$1,c$2,i,n,s,si,size,x,x$1;n=s.length;i=0;while(true){if(!(i<n)){break;}si=s.charCodeAt(i);if(si<128){i=i+1>>0;continue;}x=si<0||si>=first.length?($throwRuntimeError("index out of range"),undefined):first[si];if(x===241){return false;}size=(x&7)>>>0>>0;if(i+size>>0>n){return false;}accept=$clone((x$1=x>>>4<<24>>>24,x$1<0||x$1>=acceptRanges.length?($throwRuntimeError("index out of range"),undefined):acceptRanges[x$1]),acceptRange);c=s.charCodeAt(i+1>>0);if(c<accept.lo||accept.hi<c){return false;}else if(size===2){}else{c$1=s.charCodeAt(i+2>>0);if(c$1<128||191<c$1){return false;}else if(size===3){}else{c$2=s.charCodeAt(i+3>>0);if(c$2<128||191<c$2){return false;}}}i=i+size>>0;}return true;};$pkg.ValidString=ValidString;ValidRune=function(r){var r;if(0<=r&&r<55296){return true;}else if(57343<r&&r<=1114111){return true;}return false;};$pkg.ValidRune=ValidRune;acceptRange.init("unicode/utf8",[{prop:"lo",name:"lo",embedded:false,exported:false,typ:$Uint8,tag:""},{prop:"hi",name:"hi",embedded:false,exported:false,typ:$Uint8,tag:""}]);$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:first=$toNativeArray($kindUint8,[240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,19,3,3,3,3,3,3,3,3,3,3,3,3,35,3,3,52,4,4,4,68,241,241,241,241,241,241,241,241,241,241,241]);acceptRanges=$toNativeArray($kindStruct,[new acceptRange.ptr(128,191),new acceptRange.ptr(160,191),new acceptRange.ptr(128,159),new acceptRange.ptr(144,191),new acceptRange.ptr(128,143)]);/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["strconv"]=function(){var $pkg={},$init,errors,bytealg,math,bits,utf8,NumError,decimal,leftCheat,extFloat,floatInfo,decimalSlice,sliceType,sliceType$1,sliceType$2,sliceType$3,sliceType$4,sliceType$5,arrayType,sliceType$6,ptrType,arrayType$1,arrayType$2,ptrType$1,arrayType$3,arrayType$4,ptrType$2,ptrType$3,ptrType$4,optimize,powtab,float64pow10,float32pow10,leftcheats,smallPowersOfTen,powersOfTen,uint64pow10,float32info,float32info$24ptr,float64info,float64info$24ptr,isPrint16,isNotPrint16,isPrint32,isNotPrint32,isGraphic,equalIgnoreCase,special,readFloat,atof64exact,atof32exact,atof32,atof64,ParseFloat,syntaxError,rangeError,baseError,bitSizeError,ParseUint,ParseInt,digitZero,trim,rightShift,prefixIsLessThan,leftShift,shouldRoundUp,frexp10Many,adjustLastDigitFixed,adjustLastDigit,FormatFloat,AppendFloat,genericFtoa,bigFtoa,formatDigits,roundShortest,fmtE,fmtF,fmtB,min,max,FormatUint,FormatInt,Itoa,AppendInt,AppendUint,small,formatBits,isPowerOfTwo,quoteWith,appendQuotedWith,appendQuotedRuneWith,appendEscapedRune,Quote,AppendQuote,AppendQuoteToASCII,AppendQuoteRune,AppendQuoteRuneToASCII,CanBackquote,unhex,UnquoteChar,Unquote,contains,bsearch16,bsearch32,IsPrint,isInGraphicList;errors=$packages["errors"];bytealg=$packages["internal/bytealg"];math=$packages["math"];bits=$packages["math/bits"];utf8=$packages["unicode/utf8"];NumError=$pkg.NumError=$newType(0,$kindStruct,"strconv.NumError",true,"strconv",true,function(Func_,Num_,Err_){this.$val=this;if(arguments.length===0){this.Func="";this.Num="";this.Err=$ifaceNil;return;}this.Func=Func_;this.Num=Num_;this.Err=Err_;});decimal=$pkg.decimal=$newType(0,$kindStruct,"strconv.decimal",true,"strconv",false,function(d_,nd_,dp_,neg_,trunc_){this.$val=this;if(arguments.length===0){this.d=arrayType.zero();this.nd=0;this.dp=0;this.neg=false;this.trunc=false;return;}this.d=d_;this.nd=nd_;this.dp=dp_;this.neg=neg_;this.trunc=trunc_;});leftCheat=$pkg.leftCheat=$newType(0,$kindStruct,"strconv.leftCheat",true,"strconv",false,function(delta_,cutoff_){this.$val=this;if(arguments.length===0){this.delta=0;this.cutoff="";return;}this.delta=delta_;this.cutoff=cutoff_;});extFloat=$pkg.extFloat=$newType(0,$kindStruct,"strconv.extFloat",true,"strconv",false,function(mant_,exp_,neg_){this.$val=this;if(arguments.length===0){this.mant=new $Uint64(0,0);this.exp=0;this.neg=false;return;}this.mant=mant_;this.exp=exp_;this.neg=neg_;});floatInfo=$pkg.floatInfo=$newType(0,$kindStruct,"strconv.floatInfo",true,"strconv",false,function(mantbits_,expbits_,bias_){this.$val=this;if(arguments.length===0){this.mantbits=0;this.expbits=0;this.bias=0;return;}this.mantbits=mantbits_;this.expbits=expbits_;this.bias=bias_;});decimalSlice=$pkg.decimalSlice=$newType(0,$kindStruct,"strconv.decimalSlice",true,"strconv",false,function(d_,nd_,dp_,neg_){this.$val=this;if(arguments.length===0){this.d=sliceType$6.nil;this.nd=0;this.dp=0;this.neg=false;return;}this.d=d_;this.nd=nd_;this.dp=dp_;this.neg=neg_;});sliceType=$sliceType($Int);sliceType$1=$sliceType($Float64);sliceType$2=$sliceType($Float32);sliceType$3=$sliceType(leftCheat);sliceType$4=$sliceType($Uint16);sliceType$5=$sliceType($Uint32);arrayType=$arrayType($Uint8,800);sliceType$6=$sliceType($Uint8);ptrType=$ptrType(NumError);arrayType$1=$arrayType($Uint8,24);arrayType$2=$arrayType($Uint8,32);ptrType$1=$ptrType(floatInfo);arrayType$3=$arrayType($Uint8,65);arrayType$4=$arrayType($Uint8,4);ptrType$2=$ptrType(decimal);ptrType$3=$ptrType(decimalSlice);ptrType$4=$ptrType(extFloat);equalIgnoreCase=function(s1,s2){var c1,c2,i,s1,s2;if(!(s1.length===s2.length)){return false;}i=0;while(true){if(!(i<s1.length)){break;}c1=s1.charCodeAt(i);if(65<=c1&&c1<=90){c1=c1+32<<24>>>24;}c2=s2.charCodeAt(i);if(65<=c2&&c2<=90){c2=c2+32<<24>>>24;}if(!(c1===c2)){return false;}i=i+1>>0;}return true;};special=function(s){var _1,_tmp,_tmp$1,_tmp$2,_tmp$3,_tmp$4,_tmp$5,_tmp$6,_tmp$7,f,ok,s;f=0;ok=false;if(s.length===0){return[f,ok];}_1=s.charCodeAt(0);if(_1===43){if(equalIgnoreCase(s,"+inf")||equalIgnoreCase(s,"+infinity")){_tmp=math.Inf(1);_tmp$1=true;f=_tmp;ok=_tmp$1;return[f,ok];}}else if(_1===45){if(equalIgnoreCase(s,"-inf")||equalIgnoreCase(s,"-infinity")){_tmp$2=math.Inf(-1);_tmp$3=true;f=_tmp$2;ok=_tmp$3;return[f,ok];}}else if(_1===110||_1===78){if(equalIgnoreCase(s,"nan")){_tmp$4=math.NaN();_tmp$5=true;f=_tmp$4;ok=_tmp$5;return[f,ok];}}else if(_1===105||_1===73){if(equalIgnoreCase(s,"inf")||equalIgnoreCase(s,"infinity")){_tmp$6=math.Inf(1);_tmp$7=true;f=_tmp$6;ok=_tmp$7;return[f,ok];}}else{return[f,ok];}return[f,ok];};decimal.ptr.prototype.set=function(s){var b,e,esign,i,ok,s,sawdigits,sawdot,x,x$1;ok=false;b=this;i=0;b.neg=false;b.trunc=false;if(i>=s.length){return ok;}if(s.charCodeAt(i)===43){i=i+1>>0;}else if(s.charCodeAt(i)===45){b.neg=true;i=i+1>>0;}sawdot=false;sawdigits=false;while(true){if(!(i<s.length)){break;}if(s.charCodeAt(i)===46){if(sawdot){return ok;}sawdot=true;b.dp=b.nd;i=i+1>>0;continue;}else if(48<=s.charCodeAt(i)&&s.charCodeAt(i)<=57){sawdigits=true;if(s.charCodeAt(i)===48&&b.nd===0){b.dp=b.dp-1>>0;i=i+1>>0;continue;}if(b.nd<800){x=b.d,x$1=b.nd,x$1<0||x$1>=x.length?($throwRuntimeError("index out of range"),undefined):x[x$1]=s.charCodeAt(i);b.nd=b.nd+1>>0;}else if(!(s.charCodeAt(i)===48)){b.trunc=true;}i=i+1>>0;continue;}break;}if(!sawdigits){return ok;}if(!sawdot){b.dp=b.nd;}if(i<s.length&&(s.charCodeAt(i)===101||s.charCodeAt(i)===69)){i=i+1>>0;if(i>=s.length){return ok;}esign=1;if(s.charCodeAt(i)===43){i=i+1>>0;}else if(s.charCodeAt(i)===45){i=i+1>>0;esign=-1;}if(i>=s.length||s.charCodeAt(i)<48||s.charCodeAt(i)>57){return ok;}e=0;while(true){if(!(i<s.length&&48<=s.charCodeAt(i)&&s.charCodeAt(i)<=57)){break;}if(e<10000){e=($imul(e,10)+(s.charCodeAt(i)>>0)>>0)-48>>0;}i=i+1>>0;}b.dp=b.dp+$imul(e,esign)>>0;}if(!(i===s.length)){return ok;}ok=true;return ok;};decimal.prototype.set=function(s){return this.$val.set(s);};readFloat=function(s){var _1,c,dp,e,esign,exp,i,mantissa,nd,ndMant,neg,ok,s,sawdigits,sawdot,trunc,x;mantissa=new $Uint64(0,0);exp=0;neg=false;trunc=false;ok=false;i=0;if(i>=s.length){return[mantissa,exp,neg,trunc,ok];}if(s.charCodeAt(i)===43){i=i+1>>0;}else if(s.charCodeAt(i)===45){neg=true;i=i+1>>0;}sawdot=false;sawdigits=false;nd=0;ndMant=0;dp=0;while(true){if(!(i<s.length)){break;}c=s.charCodeAt(i);_1=true;if(_1===(c===46)){if(sawdot){return[mantissa,exp,neg,trunc,ok];}sawdot=true;dp=nd;i=i+1>>0;continue;}else if(_1===(48<=c&&c<=57)){sawdigits=true;if(c===48&&nd===0){dp=dp-1>>0;i=i+1>>0;continue;}nd=nd+1>>0;if(ndMant<19){mantissa=$mul64(mantissa,new $Uint64(0,10));mantissa=(x=new $Uint64(0,c-48<<24>>>24),new $Uint64(mantissa.$high+x.$high,mantissa.$low+x.$low));ndMant=ndMant+1>>0;}else if(!(s.charCodeAt(i)===48)){trunc=true;}i=i+1>>0;continue;}break;}if(!sawdigits){return[mantissa,exp,neg,trunc,ok];}if(!sawdot){dp=nd;}if(i<s.length&&(s.charCodeAt(i)===101||s.charCodeAt(i)===69)){i=i+1>>0;if(i>=s.length){return[mantissa,exp,neg,trunc,ok];}esign=1;if(s.charCodeAt(i)===43){i=i+1>>0;}else if(s.charCodeAt(i)===45){i=i+1>>0;esign=-1;}if(i>=s.length||s.charCodeAt(i)<48||s.charCodeAt(i)>57){return[mantissa,exp,neg,trunc,ok];}e=0;while(true){if(!(i<s.length&&48<=s.charCodeAt(i)&&s.charCodeAt(i)<=57)){break;}if(e<10000){e=($imul(e,10)+(s.charCodeAt(i)>>0)>>0)-48>>0;}i=i+1>>0;}dp=dp+$imul(e,esign)>>0;}if(!(i===s.length)){return[mantissa,exp,neg,trunc,ok];}if(!(mantissa.$high===0&&mantissa.$low===0)){exp=dp-ndMant>>0;}ok=true;return[mantissa,exp,neg,trunc,ok];};decimal.ptr.prototype.floatBits=function(flt){var _tmp,_tmp$1,b,bits$1,d,exp,flt,mant,n,n$1,n$2,overflow,x,x$1,x$2,x$3,x$4,x$5,x$6,x$7,x$8,y,y$1,y$2,y$3,$s;/* */$s=0;s:while(true){switch($s){case 0:b=new $Uint64(0,0);overflow=false;d=this;exp=0;mant=new $Uint64(0,0);/* */if(d.nd===0){$s=1;continue;}/* */$s=2;continue;/* if (d.nd === 0) { */case 1:mant=new $Uint64(0,0);exp=flt.bias;/* goto out */$s=3;continue;/* } */case 2:/* */if(d.dp>310){$s=4;continue;}/* */$s=5;continue;/* if (d.dp > 310) { */case 4:/* goto overflow */$s=6;continue;/* } */case 5:/* */if(d.dp<-330){$s=7;continue;}/* */$s=8;continue;/* if (d.dp < -330) { */case 7:mant=new $Uint64(0,0);exp=flt.bias;/* goto out */$s=3;continue;/* } */case 8:exp=0;while(true){if(!(d.dp>0)){break;}n=0;if(d.dp>=powtab.$length){n=27;}else{n=(x=d.dp,x<0||x>=powtab.$length?($throwRuntimeError("index out of range"),undefined):powtab.$array[powtab.$offset+x]);}d.Shift(-n);exp=exp+n>>0;}while(true){if(!(d.dp<0||d.dp===0&&d.d[0]<53)){break;}n$1=0;if(-d.dp>=powtab.$length){n$1=27;}else{n$1=(x$1=-d.dp,x$1<0||x$1>=powtab.$length?($throwRuntimeError("index out of range"),undefined):powtab.$array[powtab.$offset+x$1]);}d.Shift(n$1);exp=exp-n$1>>0;}exp=exp-1>>0;if(exp<flt.bias+1>>0){n$2=(flt.bias+1>>0)-exp>>0;d.Shift(-n$2);exp=exp+n$2>>0;}/* */if(exp-flt.bias>>0>=((y=flt.expbits,y<32?1<<y:0)>>0)-1>>0){$s=9;continue;}/* */$s=10;continue;/* if ((exp - flt.bias >> 0) >= (((y = flt.expbits, y < 32 ? (1 << y) : 0) >> 0) - 1 >> 0)) { */case 9:/* goto overflow */$s=6;continue;/* } */case 10:d.Shift(1+flt.mantbits>>>0>>0);mant=d.RoundedInteger();/* */if(x$2=$shiftLeft64(new $Uint64(0,2),flt.mantbits),mant.$high===x$2.$high&&mant.$low===x$2.$low){$s=11;continue;}/* */$s=12;continue;/* if ((x$2 = $shiftLeft64(new $Uint64(0, 2), flt.mantbits), (mant.$high === x$2.$high && mant.$low === x$2.$low))) { */case 11:mant=$shiftRightUint64(mant,1);exp=exp+1>>0;/* */if(exp-flt.bias>>0>=((y$1=flt.expbits,y$1<32?1<<y$1:0)>>0)-1>>0){$s=13;continue;}/* */$s=14;continue;/* if ((exp - flt.bias >> 0) >= (((y$1 = flt.expbits, y$1 < 32 ? (1 << y$1) : 0) >> 0) - 1 >> 0)) { */case 13:/* goto overflow */$s=6;continue;/* } */case 14:/* } */case 12:if(x$3=(x$4=$shiftLeft64(new $Uint64(0,1),flt.mantbits),new $Uint64(mant.$high&x$4.$high,(mant.$low&x$4.$low)>>>0)),x$3.$high===0&&x$3.$low===0){exp=flt.bias;}/* goto out */$s=3;continue;/* overflow: */case 6:mant=new $Uint64(0,0);exp=(((y$2=flt.expbits,y$2<32?1<<y$2:0)>>0)-1>>0)+flt.bias>>0;overflow=true;/* out: */case 3:bits$1=(x$5=(x$6=$shiftLeft64(new $Uint64(0,1),flt.mantbits),new $Uint64(x$6.$high-0,x$6.$low-1)),new $Uint64(mant.$high&x$5.$high,(mant.$low&x$5.$low)>>>0));bits$1=(x$7=$shiftLeft64(new $Uint64(0,exp-flt.bias>>0&((y$3=flt.expbits,y$3<32?1<<y$3:0)>>0)-1>>0),flt.mantbits),new $Uint64(bits$1.$high|x$7.$high,(bits$1.$low|x$7.$low)>>>0));if(d.neg){bits$1=(x$8=$shiftLeft64($shiftLeft64(new $Uint64(0,1),flt.mantbits),flt.expbits),new $Uint64(bits$1.$high|x$8.$high,(bits$1.$low|x$8.$low)>>>0));}_tmp=bits$1;_tmp$1=overflow;b=_tmp;overflow=_tmp$1;$s=-1;return[b,overflow];/* */}return;}};decimal.prototype.floatBits=function(flt){return this.$val.floatBits(flt);};atof64exact=function(mantissa,exp,neg){var _tmp,_tmp$1,_tmp$2,_tmp$3,_tmp$4,_tmp$5,exp,f,mantissa,neg,ok,x,x$1,x$2;f=0;ok=false;if(!(x=$shiftRightUint64(mantissa,float64info.mantbits),x.$high===0&&x.$low===0)){return[f,ok];}f=$flatten64(mantissa);if(neg){f=-f;}if(exp===0){_tmp=f;_tmp$1=true;f=_tmp;ok=_tmp$1;return[f,ok];}else if(exp>0&&exp<=37){if(exp>22){f=f*(x$1=exp-22>>0,x$1<0||x$1>=float64pow10.$length?($throwRuntimeError("index out of range"),undefined):float64pow10.$array[float64pow10.$offset+x$1]);exp=22;}if(f>1e+15||f<-1e+15){return[f,ok];}_tmp$2=f*(exp<0||exp>=float64pow10.$length?($throwRuntimeError("index out of range"),undefined):float64pow10.$array[float64pow10.$offset+exp]);_tmp$3=true;f=_tmp$2;ok=_tmp$3;return[f,ok];}else if(exp<0&&exp>=-22){_tmp$4=f/(x$2=-exp,x$2<0||x$2>=float64pow10.$length?($throwRuntimeError("index out of range"),undefined):float64pow10.$array[float64pow10.$offset+x$2]);_tmp$5=true;f=_tmp$4;ok=_tmp$5;return[f,ok];}return[f,ok];};atof32exact=function(mantissa,exp,neg){var _tmp,_tmp$1,_tmp$2,_tmp$3,_tmp$4,_tmp$5,exp,f,mantissa,neg,ok,x,x$1,x$2;f=0;ok=false;if(!(x=$shiftRightUint64(mantissa,float32info.mantbits),x.$high===0&&x.$low===0)){return[f,ok];}f=$flatten64(mantissa);if(neg){f=-f;}if(exp===0){_tmp=f;_tmp$1=true;f=_tmp;ok=_tmp$1;return[f,ok];}else if(exp>0&&exp<=17){if(exp>10){f=$fround(f*(x$1=exp-10>>0,x$1<0||x$1>=float32pow10.$length?($throwRuntimeError("index out of range"),undefined):float32pow10.$array[float32pow10.$offset+x$1]));exp=10;}if(f>1e+07||f<-1e+07){return[f,ok];}_tmp$2=$fround(f*(exp<0||exp>=float32pow10.$length?($throwRuntimeError("index out of range"),undefined):float32pow10.$array[float32pow10.$offset+exp]));_tmp$3=true;f=_tmp$2;ok=_tmp$3;return[f,ok];}else if(exp<0&&exp>=-10){_tmp$4=$fround(f/(x$2=-exp,x$2<0||x$2>=float32pow10.$length?($throwRuntimeError("index out of range"),undefined):float32pow10.$array[float32pow10.$offset+x$2]));_tmp$5=true;f=_tmp$4;ok=_tmp$5;return[f,ok];}return[f,ok];};atof32=function(s){var _tmp,_tmp$1,_tmp$2,_tmp$3,_tmp$4,_tmp$5,_tmp$6,_tmp$7,_tmp$8,_tmp$9,_tuple,_tuple$1,_tuple$2,_tuple$3,_tuple$4,b,b$1,d,err,exp,ext,f,f$1,mantissa,neg,ok,ok$1,ok$2,ok$3,ovf,ovf$1,s,trunc,val;f=0;err=$ifaceNil;_tuple=special(s);val=_tuple[0];ok=_tuple[1];if(ok){_tmp=$fround(val);_tmp$1=$ifaceNil;f=_tmp;err=_tmp$1;return[f,err];}if(optimize){_tuple$1=readFloat(s);mantissa=_tuple$1[0];exp=_tuple$1[1];neg=_tuple$1[2];trunc=_tuple$1[3];ok$1=_tuple$1[4];if(ok$1){if(!trunc){_tuple$2=atof32exact(mantissa,exp,neg);f$1=_tuple$2[0];ok$2=_tuple$2[1];if(ok$2){_tmp$2=f$1;_tmp$3=$ifaceNil;f=_tmp$2;err=_tmp$3;return[f,err];}}ext=new extFloat.ptr(new $Uint64(0,0),0,false);ok$3=ext.AssignDecimal(mantissa,exp,neg,trunc,float32info);if(ok$3){_tuple$3=ext.floatBits(float32info);b=_tuple$3[0];ovf=_tuple$3[1];f=math.Float32frombits(b.$low>>>0);if(ovf){err=rangeError("ParseFloat",s);}_tmp$4=f;_tmp$5=err;f=_tmp$4;err=_tmp$5;return[f,err];}}}d=new decimal.ptr(arrayType.zero(),0,0,false,false);if(!d.set(s)){_tmp$6=0;_tmp$7=syntaxError("ParseFloat",s);f=_tmp$6;err=_tmp$7;return[f,err];}_tuple$4=d.floatBits(float32info);b$1=_tuple$4[0];ovf$1=_tuple$4[1];f=math.Float32frombits(b$1.$low>>>0);if(ovf$1){err=rangeError("ParseFloat",s);}_tmp$8=f;_tmp$9=err;f=_tmp$8;err=_tmp$9;return[f,err];};atof64=function(s){var _tmp,_tmp$1,_tmp$2,_tmp$3,_tmp$4,_tmp$5,_tmp$6,_tmp$7,_tmp$8,_tmp$9,_tuple,_tuple$1,_tuple$2,_tuple$3,_tuple$4,b,b$1,d,err,exp,ext,f,f$1,mantissa,neg,ok,ok$1,ok$2,ok$3,ovf,ovf$1,s,trunc,val;f=0;err=$ifaceNil;_tuple=special(s);val=_tuple[0];ok=_tuple[1];if(ok){_tmp=val;_tmp$1=$ifaceNil;f=_tmp;err=_tmp$1;return[f,err];}if(optimize){_tuple$1=readFloat(s);mantissa=_tuple$1[0];exp=_tuple$1[1];neg=_tuple$1[2];trunc=_tuple$1[3];ok$1=_tuple$1[4];if(ok$1){if(!trunc){_tuple$2=atof64exact(mantissa,exp,neg);f$1=_tuple$2[0];ok$2=_tuple$2[1];if(ok$2){_tmp$2=f$1;_tmp$3=$ifaceNil;f=_tmp$2;err=_tmp$3;return[f,err];}}ext=new extFloat.ptr(new $Uint64(0,0),0,false);ok$3=ext.AssignDecimal(mantissa,exp,neg,trunc,float64info);if(ok$3){_tuple$3=ext.floatBits(float64info);b=_tuple$3[0];ovf=_tuple$3[1];f=math.Float64frombits(b);if(ovf){err=rangeError("ParseFloat",s);}_tmp$4=f;_tmp$5=err;f=_tmp$4;err=_tmp$5;return[f,err];}}}d=new decimal.ptr(arrayType.zero(),0,0,false,false);if(!d.set(s)){_tmp$6=0;_tmp$7=syntaxError("ParseFloat",s);f=_tmp$6;err=_tmp$7;return[f,err];}_tuple$4=d.floatBits(float64info);b$1=_tuple$4[0];ovf$1=_tuple$4[1];f=math.Float64frombits(b$1);if(ovf$1){err=rangeError("ParseFloat",s);}_tmp$8=f;_tmp$9=err;f=_tmp$8;err=_tmp$9;return[f,err];};ParseFloat=function(s,bitSize){var _tuple,bitSize,err,f,s;if(bitSize===32){_tuple=atof32(s);f=_tuple[0];err=_tuple[1];return[f,err];}return atof64(s);};$pkg.ParseFloat=ParseFloat;NumError.ptr.prototype.Error=function(){var _r,e,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;e=$f.e;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:e=this;_r=e.Err.Error();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return"strconv."+e.Func+": "+"parsing "+Quote(e.Num)+": "+_r;/* */}return;}if($f===undefined){$f={$blk:NumError.ptr.prototype.Error};}$f._r=_r;$f.e=e;$f.$s=$s;$f.$r=$r;return $f;};NumError.prototype.Error=function(){return this.$val.Error();};syntaxError=function(fn,str){var fn,str;return new NumError.ptr(fn,str,$pkg.ErrSyntax);};rangeError=function(fn,str){var fn,str;return new NumError.ptr(fn,str,$pkg.ErrRange);};baseError=function(fn,str,base){var base,fn,str;return new NumError.ptr(fn,str,errors.New("invalid base "+Itoa(base)));};bitSizeError=function(fn,str,bitSize){var bitSize,fn,str;return new NumError.ptr(fn,str,errors.New("invalid bit size "+Itoa(bitSize)));};ParseUint=function(s,base,bitSize){var _1,_i,_ref,base,bitSize,c,cutoff,d,maxVal,n,n1,s,s0,x,x$1,x$2;if(s.length===0){return[new $Uint64(0,0),syntaxError("ParseUint",s)];}s0=s;if(2<=base&&base<=36){}else if(base===0){if(s.charCodeAt(0)===48&&s.length>1&&(s.charCodeAt(1)===120||s.charCodeAt(1)===88)){if(s.length<3){return[new $Uint64(0,0),syntaxError("ParseUint",s0)];}base=16;s=$substring(s,2);}else if(s.charCodeAt(0)===48){base=8;s=$substring(s,1);}else{base=10;}}else{return[new $Uint64(0,0),baseError("ParseUint",s0,base)];}if(bitSize===0){bitSize=32;}else if(bitSize<0||bitSize>64){return[new $Uint64(0,0),bitSizeError("ParseUint",s0,bitSize)];}cutoff=new $Uint64(0,0);_1=base;if(_1===10){cutoff=new $Uint64(429496729,2576980378);}else if(_1===16){cutoff=new $Uint64(268435456,0);}else{cutoff=(x=$div64(new $Uint64(4294967295,4294967295),new $Uint64(0,base),false),new $Uint64(x.$high+0,x.$low+1));}maxVal=(x$1=$shiftLeft64(new $Uint64(0,1),bitSize>>>0),new $Uint64(x$1.$high-0,x$1.$low-1));n=new $Uint64(0,0);_ref=new sliceType$6($stringToBytes(s));_i=0;while(true){if(!(_i<_ref.$length)){break;}c=_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i];d=0;if(48<=c&&c<=57){d=c-48<<24>>>24;}else if(97<=c&&c<=122){d=(c-97<<24>>>24)+10<<24>>>24;}else if(65<=c&&c<=90){d=(c-65<<24>>>24)+10<<24>>>24;}else{return[new $Uint64(0,0),syntaxError("ParseUint",s0)];}if(d>=base<<24>>>24){return[new $Uint64(0,0),syntaxError("ParseUint",s0)];}if(n.$high>cutoff.$high||n.$high===cutoff.$high&&n.$low>=cutoff.$low){return[maxVal,rangeError("ParseUint",s0)];}n=$mul64(n,new $Uint64(0,base));n1=(x$2=new $Uint64(0,d),new $Uint64(n.$high+x$2.$high,n.$low+x$2.$low));if(n1.$high<n.$high||n1.$high===n.$high&&n1.$low<n.$low||n1.$high>maxVal.$high||n1.$high===maxVal.$high&&n1.$low>maxVal.$low){return[maxVal,rangeError("ParseUint",s0)];}n=n1;_i++;}return[n,$ifaceNil];};$pkg.ParseUint=ParseUint;ParseInt=function(s,base,bitSize){var _tmp,_tmp$1,_tmp$2,_tmp$3,_tmp$4,_tmp$5,_tmp$6,_tmp$7,_tmp$8,_tmp$9,_tuple,base,bitSize,cutoff,err,i,n,neg,s,s0,un,x,x$1;i=new $Int64(0,0);err=$ifaceNil;if(s.length===0){_tmp=new $Int64(0,0);_tmp$1=syntaxError("ParseInt",s);i=_tmp;err=_tmp$1;return[i,err];}s0=s;neg=false;if(s.charCodeAt(0)===43){s=$substring(s,1);}else if(s.charCodeAt(0)===45){neg=true;s=$substring(s,1);}un=new $Uint64(0,0);_tuple=ParseUint(s,base,bitSize);un=_tuple[0];err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)&&!$interfaceIsEqual($assertType(err,ptrType).Err,$pkg.ErrRange)){$assertType(err,ptrType).Func="ParseInt";$assertType(err,ptrType).Num=s0;_tmp$2=new $Int64(0,0);_tmp$3=err;i=_tmp$2;err=_tmp$3;return[i,err];}if(bitSize===0){bitSize=32;}cutoff=$shiftLeft64(new $Uint64(0,1),bitSize-1>>0>>>0);if(!neg&&(un.$high>cutoff.$high||un.$high===cutoff.$high&&un.$low>=cutoff.$low)){_tmp$4=(x=new $Uint64(cutoff.$high-0,cutoff.$low-1),new $Int64(x.$high,x.$low));_tmp$5=rangeError("ParseInt",s0);i=_tmp$4;err=_tmp$5;return[i,err];}if(neg&&(un.$high>cutoff.$high||un.$high===cutoff.$high&&un.$low>cutoff.$low)){_tmp$6=(x$1=new $Int64(cutoff.$high,cutoff.$low),new $Int64(-x$1.$high,-x$1.$low));_tmp$7=rangeError("ParseInt",s0);i=_tmp$6;err=_tmp$7;return[i,err];}n=new $Int64(un.$high,un.$low);if(neg){n=new $Int64(-n.$high,-n.$low);}_tmp$8=n;_tmp$9=$ifaceNil;i=_tmp$8;err=_tmp$9;return[i,err];};$pkg.ParseInt=ParseInt;decimal.ptr.prototype.String=function(){var a,buf,n,w;a=this;n=10+a.nd>>0;if(a.dp>0){n=n+a.dp>>0;}if(a.dp<0){n=n+-a.dp>>0;}buf=$makeSlice(sliceType$6,n);w=0;if(a.nd===0){return"0";}else if(a.dp<=0){w<0||w>=buf.$length?($throwRuntimeError("index out of range"),undefined):buf.$array[buf.$offset+w]=48;w=w+1>>0;w<0||w>=buf.$length?($throwRuntimeError("index out of range"),undefined):buf.$array[buf.$offset+w]=46;w=w+1>>0;w=w+digitZero($subslice(buf,w,w+-a.dp>>0))>>0;w=w+$copySlice($subslice(buf,w),$subslice(new sliceType$6(a.d),0,a.nd))>>0;}else if(a.dp<a.nd){w=w+$copySlice($subslice(buf,w),$subslice(new sliceType$6(a.d),0,a.dp))>>0;w<0||w>=buf.$length?($throwRuntimeError("index out of range"),undefined):buf.$array[buf.$offset+w]=46;w=w+1>>0;w=w+$copySlice($subslice(buf,w),$subslice(new sliceType$6(a.d),a.dp,a.nd))>>0;}else{w=w+$copySlice($subslice(buf,w),$subslice(new sliceType$6(a.d),0,a.nd))>>0;w=w+digitZero($subslice(buf,w,(w+a.dp>>0)-a.nd>>0))>>0;}return $bytesToString($subslice(buf,0,w));};decimal.prototype.String=function(){return this.$val.String();};digitZero=function(dst){var _i,_ref,dst,i;_ref=dst;_i=0;while(true){if(!(_i<_ref.$length)){break;}i=_i;i<0||i>=dst.$length?($throwRuntimeError("index out of range"),undefined):dst.$array[dst.$offset+i]=48;_i++;}return dst.$length;};trim=function(a){var a,x,x$1;while(true){if(!(a.nd>0&&(x=a.d,x$1=a.nd-1>>0,x$1<0||x$1>=x.length?($throwRuntimeError("index out of range"),undefined):x[x$1])===48)){break;}a.nd=a.nd-1>>0;}if(a.nd===0){a.dp=0;}};decimal.ptr.prototype.Assign=function(v){var a,buf,n,v,v1,x,x$1,x$2;a=this;buf=arrayType$1.zero();n=0;while(true){if(!(v.$high>0||v.$high===0&&v.$low>0)){break;}v1=$div64(v,new $Uint64(0,10),false);v=(x=$mul64(new $Uint64(0,10),v1),new $Uint64(v.$high-x.$high,v.$low-x.$low));n<0||n>=buf.length?($throwRuntimeError("index out of range"),undefined):buf[n]=new $Uint64(v.$high+0,v.$low+48).$low<<24>>>24;n=n+1>>0;v=v1;}a.nd=0;n=n-1>>0;while(true){if(!(n>=0)){break;}x$1=a.d,x$2=a.nd,x$2<0||x$2>=x$1.length?($throwRuntimeError("index out of range"),undefined):x$1[x$2]=n<0||n>=buf.length?($throwRuntimeError("index out of range"),undefined):buf[n];a.nd=a.nd+1>>0;n=n-1>>0;}a.dp=a.nd;trim(a);};decimal.prototype.Assign=function(v){return this.$val.Assign(v);};rightShift=function(a,k){var a,c,c$1,dig,dig$1,k,mask,n,r,w,x,x$1,x$2,x$3,y,y$1,y$2,y$3,y$4;r=0;w=0;n=0;while(true){if(!((y=k,y<32?n>>>y:0)>>>0===0)){break;}if(r>=a.nd){if(n===0){a.nd=0;return;}while(true){if(!((y$1=k,y$1<32?n>>>y$1:0)>>>0===0)){break;}n=n*10>>>0;r=r+1>>0;}break;}c=(x=a.d,r<0||r>=x.length?($throwRuntimeError("index out of range"),undefined):x[r])>>>0;n=((n*10>>>0)+c>>>0)-48>>>0;r=r+1>>0;}a.dp=a.dp-(r-1>>0)>>0;mask=((y$2=k,y$2<32?1<<y$2:0)>>>0)-1>>>0;while(true){if(!(r<a.nd)){break;}c$1=(x$1=a.d,r<0||r>=x$1.length?($throwRuntimeError("index out of range"),undefined):x$1[r])>>>0;dig=(y$3=k,y$3<32?n>>>y$3:0)>>>0;n=(n&mask)>>>0;x$2=a.d,w<0||w>=x$2.length?($throwRuntimeError("index out of range"),undefined):x$2[w]=dig+48>>>0<<24>>>24;w=w+1>>0;n=((n*10>>>0)+c$1>>>0)-48>>>0;r=r+1>>0;}while(true){if(!(n>0)){break;}dig$1=(y$4=k,y$4<32?n>>>y$4:0)>>>0;n=(n&mask)>>>0;if(w<800){x$3=a.d,w<0||w>=x$3.length?($throwRuntimeError("index out of range"),undefined):x$3[w]=dig$1+48>>>0<<24>>>24;w=w+1>>0;}else if(dig$1>0){a.trunc=true;}n=n*10>>>0;}a.nd=w;trim(a);};prefixIsLessThan=function(b,s){var b,i,s;i=0;while(true){if(!(i<s.length)){break;}if(i>=b.$length){return true;}if(!((i<0||i>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+i])===s.charCodeAt(i))){return(i<0||i>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+i])<s.charCodeAt(i);}i=i+1>>0;}return false;};leftShift=function(a,k){var _q,_q$1,a,delta,k,n,quo,quo$1,r,rem,rem$1,w,x,x$1,x$2,y;delta=(k<0||k>=leftcheats.$length?($throwRuntimeError("index out of range"),undefined):leftcheats.$array[leftcheats.$offset+k]).delta;if(prefixIsLessThan($subslice(new sliceType$6(a.d),0,a.nd),(k<0||k>=leftcheats.$length?($throwRuntimeError("index out of range"),undefined):leftcheats.$array[leftcheats.$offset+k]).cutoff)){delta=delta-1>>0;}r=a.nd;w=a.nd+delta>>0;n=0;r=r-1>>0;while(true){if(!(r>=0)){break;}n=n+((y=k,y<32?((x=a.d,r<0||r>=x.length?($throwRuntimeError("index out of range"),undefined):x[r])>>>0)-48>>>0<<y:0)>>>0)>>>0;quo=(_q=n/10,_q===_q&&_q!==1/0&&_q!==-1/0?_q>>>0:$throwRuntimeError("integer divide by zero"));rem=n-(10*quo>>>0)>>>0;w=w-1>>0;if(w<800){x$1=a.d,w<0||w>=x$1.length?($throwRuntimeError("index out of range"),undefined):x$1[w]=rem+48>>>0<<24>>>24;}else if(!(rem===0)){a.trunc=true;}n=quo;r=r-1>>0;}while(true){if(!(n>0)){break;}quo$1=(_q$1=n/10,_q$1===_q$1&&_q$1!==1/0&&_q$1!==-1/0?_q$1>>>0:$throwRuntimeError("integer divide by zero"));rem$1=n-(10*quo$1>>>0)>>>0;w=w-1>>0;if(w<800){x$2=a.d,w<0||w>=x$2.length?($throwRuntimeError("index out of range"),undefined):x$2[w]=rem$1+48>>>0<<24>>>24;}else if(!(rem$1===0)){a.trunc=true;}n=quo$1;}a.nd=a.nd+delta>>0;if(a.nd>=800){a.nd=800;}a.dp=a.dp+delta>>0;trim(a);};decimal.ptr.prototype.Shift=function(k){var a,k;a=this;if(a.nd===0){}else if(k>0){while(true){if(!(k>28)){break;}leftShift(a,28);k=k-28>>0;}leftShift(a,k>>>0);}else if(k<0){while(true){if(!(k<-28)){break;}rightShift(a,28);k=k+28>>0;}rightShift(a,-k>>>0);}};decimal.prototype.Shift=function(k){return this.$val.Shift(k);};shouldRoundUp=function(a,nd){var _r,a,nd,x,x$1,x$2,x$3;if(nd<0||nd>=a.nd){return false;}if((x=a.d,nd<0||nd>=x.length?($throwRuntimeError("index out of range"),undefined):x[nd])===53&&nd+1>>0===a.nd){if(a.trunc){return true;}return nd>0&&!((_r=((x$1=a.d,x$2=nd-1>>0,x$2<0||x$2>=x$1.length?($throwRuntimeError("index out of range"),undefined):x$1[x$2])-48<<24>>>24)%2,_r===_r?_r:$throwRuntimeError("integer divide by zero"))===0);}return(x$3=a.d,nd<0||nd>=x$3.length?($throwRuntimeError("index out of range"),undefined):x$3[nd])>=53;};decimal.ptr.prototype.Round=function(nd){var a,nd;a=this;if(nd<0||nd>=a.nd){return;}if(shouldRoundUp(a,nd)){a.RoundUp(nd);}else{a.RoundDown(nd);}};decimal.prototype.Round=function(nd){return this.$val.Round(nd);};decimal.ptr.prototype.RoundDown=function(nd){var a,nd;a=this;if(nd<0||nd>=a.nd){return;}a.nd=nd;trim(a);};decimal.prototype.RoundDown=function(nd){return this.$val.RoundDown(nd);};decimal.ptr.prototype.RoundUp=function(nd){var a,c,i,nd,x,x$1,x$2;a=this;if(nd<0||nd>=a.nd){return;}i=nd-1>>0;while(true){if(!(i>=0)){break;}c=(x=a.d,i<0||i>=x.length?($throwRuntimeError("index out of range"),undefined):x[i]);if(c<57){x$2=a.d,i<0||i>=x$2.length?($throwRuntimeError("index out of range"),undefined):x$2[i]=(x$1=a.d,i<0||i>=x$1.length?($throwRuntimeError("index out of range"),undefined):x$1[i])+1<<24>>>24;a.nd=i+1>>0;return;}i=i-1>>0;}a.d[0]=49;a.nd=1;a.dp=a.dp+1>>0;};decimal.prototype.RoundUp=function(nd){return this.$val.RoundUp(nd);};decimal.ptr.prototype.RoundedInteger=function(){var a,i,n,x,x$1,x$2,x$3;a=this;if(a.dp>20){return new $Uint64(4294967295,4294967295);}i=0;n=new $Uint64(0,0);i=0;while(true){if(!(i<a.dp&&i<a.nd)){break;}n=(x=$mul64(n,new $Uint64(0,10)),x$1=new $Uint64(0,(x$2=a.d,i<0||i>=x$2.length?($throwRuntimeError("index out of range"),undefined):x$2[i])-48<<24>>>24),new $Uint64(x.$high+x$1.$high,x.$low+x$1.$low));i=i+1>>0;}while(true){if(!(i<a.dp)){break;}n=$mul64(n,new $Uint64(0,10));i=i+1>>0;}if(shouldRoundUp(a,a.dp)){n=(x$3=new $Uint64(0,1),new $Uint64(n.$high+x$3.$high,n.$low+x$3.$low));}return n;};decimal.prototype.RoundedInteger=function(){return this.$val.RoundedInteger();};extFloat.ptr.prototype.floatBits=function(flt){var bits$1,exp,f,flt,mant,n,overflow,x,x$1,x$10,x$2,x$3,x$4,x$5,x$6,x$7,x$8,x$9,y,y$1,y$2;bits$1=new $Uint64(0,0);overflow=false;f=this;f.Normalize();exp=f.exp+63>>0;if(exp<flt.bias+1>>0){n=(flt.bias+1>>0)-exp>>0;f.mant=$shiftRightUint64(f.mant,n>>>0);exp=exp+n>>0;}mant=$shiftRightUint64(f.mant,63-flt.mantbits>>>0);if(!(x=(x$1=f.mant,x$2=$shiftLeft64(new $Uint64(0,1),62-flt.mantbits>>>0),new $Uint64(x$1.$high&x$2.$high,(x$1.$low&x$2.$low)>>>0)),x.$high===0&&x.$low===0)){mant=(x$3=new $Uint64(0,1),new $Uint64(mant.$high+x$3.$high,mant.$low+x$3.$low));}if(x$4=$shiftLeft64(new $Uint64(0,2),flt.mantbits),mant.$high===x$4.$high&&mant.$low===x$4.$low){mant=$shiftRightUint64(mant,1);exp=exp+1>>0;}if(exp-flt.bias>>0>=((y=flt.expbits,y<32?1<<y:0)>>0)-1>>0){mant=new $Uint64(0,0);exp=(((y$1=flt.expbits,y$1<32?1<<y$1:0)>>0)-1>>0)+flt.bias>>0;overflow=true;}else if(x$5=(x$6=$shiftLeft64(new $Uint64(0,1),flt.mantbits),new $Uint64(mant.$high&x$6.$high,(mant.$low&x$6.$low)>>>0)),x$5.$high===0&&x$5.$low===0){exp=flt.bias;}bits$1=(x$7=(x$8=$shiftLeft64(new $Uint64(0,1),flt.mantbits),new $Uint64(x$8.$high-0,x$8.$low-1)),new $Uint64(mant.$high&x$7.$high,(mant.$low&x$7.$low)>>>0));bits$1=(x$9=$shiftLeft64(new $Uint64(0,exp-flt.bias>>0&((y$2=flt.expbits,y$2<32?1<<y$2:0)>>0)-1>>0),flt.mantbits),new $Uint64(bits$1.$high|x$9.$high,(bits$1.$low|x$9.$low)>>>0));if(f.neg){bits$1=(x$10=$shiftLeft64(new $Uint64(0,1),flt.mantbits+flt.expbits>>>0),new $Uint64(bits$1.$high|x$10.$high,(bits$1.$low|x$10.$low)>>>0));}return[bits$1,overflow];};extFloat.prototype.floatBits=function(flt){return this.$val.floatBits(flt);};extFloat.ptr.prototype.AssignComputeBounds=function(mant,exp,neg,flt){var _tmp,_tmp$1,exp,expBiased,f,flt,lower,mant,neg,upper,x,x$1,x$2,x$3,x$4;lower=new extFloat.ptr(new $Uint64(0,0),0,false);upper=new extFloat.ptr(new $Uint64(0,0),0,false);f=this;f.mant=mant;f.exp=exp-(flt.mantbits>>0)>>0;f.neg=neg;if(f.exp<=0&&(x=$shiftLeft64($shiftRightUint64(mant,-f.exp>>>0),-f.exp>>>0),mant.$high===x.$high&&mant.$low===x.$low)){f.mant=$shiftRightUint64(f.mant,-f.exp>>>0);f.exp=0;_tmp=$clone(f,extFloat);_tmp$1=$clone(f,extFloat);extFloat.copy(lower,_tmp);extFloat.copy(upper,_tmp$1);return[lower,upper];}expBiased=exp-flt.bias>>0;extFloat.copy(upper,new extFloat.ptr((x$1=$mul64(new $Uint64(0,2),f.mant),new $Uint64(x$1.$high+0,x$1.$low+1)),f.exp-1>>0,f.neg));if(!(x$2=$shiftLeft64(new $Uint64(0,1),flt.mantbits),mant.$high===x$2.$high&&mant.$low===x$2.$low)||expBiased===1){extFloat.copy(lower,new extFloat.ptr((x$3=$mul64(new $Uint64(0,2),f.mant),new $Uint64(x$3.$high-0,x$3.$low-1)),f.exp-1>>0,f.neg));}else{extFloat.copy(lower,new extFloat.ptr((x$4=$mul64(new $Uint64(0,4),f.mant),new $Uint64(x$4.$high-0,x$4.$low-1)),f.exp-2>>0,f.neg));}return[lower,upper];};extFloat.prototype.AssignComputeBounds=function(mant,exp,neg,flt){return this.$val.AssignComputeBounds(mant,exp,neg,flt);};extFloat.ptr.prototype.Normalize=function(){var f,shift,x;f=this;if(x=f.mant,x.$high===0&&x.$low===0){return 0;}shift=bits.LeadingZeros64(f.mant);f.mant=$shiftLeft64(f.mant,shift>>>0);f.exp=f.exp-shift>>0;return shift>>>0;};extFloat.prototype.Normalize=function(){return this.$val.Normalize();};extFloat.ptr.prototype.Multiply=function(g){var _tmp,_tmp$1,_tmp$2,_tmp$3,cross1,cross2,f,fhi,flo,g,ghi,glo,rem,x,x$1,x$10,x$2,x$3,x$4,x$5,x$6,x$7,x$8,x$9;f=this;_tmp=$shiftRightUint64(f.mant,32);_tmp$1=new $Uint64(0,f.mant.$low>>>0);fhi=_tmp;flo=_tmp$1;_tmp$2=$shiftRightUint64(g.mant,32);_tmp$3=new $Uint64(0,g.mant.$low>>>0);ghi=_tmp$2;glo=_tmp$3;cross1=$mul64(fhi,glo);cross2=$mul64(flo,ghi);f.mant=(x=(x$1=$mul64(fhi,ghi),x$2=$shiftRightUint64(cross1,32),new $Uint64(x$1.$high+x$2.$high,x$1.$low+x$2.$low)),x$3=$shiftRightUint64(cross2,32),new $Uint64(x.$high+x$3.$high,x.$low+x$3.$low));rem=(x$4=(x$5=new $Uint64(0,cross1.$low>>>0),x$6=new $Uint64(0,cross2.$low>>>0),new $Uint64(x$5.$high+x$6.$high,x$5.$low+x$6.$low)),x$7=$shiftRightUint64($mul64(flo,glo),32),new $Uint64(x$4.$high+x$7.$high,x$4.$low+x$7.$low));rem=(x$8=new $Uint64(0,2147483648),new $Uint64(rem.$high+x$8.$high,rem.$low+x$8.$low));f.mant=(x$9=f.mant,x$10=$shiftRightUint64(rem,32),new $Uint64(x$9.$high+x$10.$high,x$9.$low+x$10.$low));f.exp=(f.exp+g.exp>>0)+64>>0;};extFloat.prototype.Multiply=function(g){return this.$val.Multiply(g);};extFloat.ptr.prototype.AssignDecimal=function(mantissa,exp10,neg,trunc,flt){var _q,_r,adjExp,denormalExp,errors$1,exp10,extrabits,f,flt,halfway,i,mant_extra,mantissa,neg,ok,shift,trunc,x,x$1,x$10,x$11,x$12,x$2,x$3,x$4,x$5,x$6,x$7,x$8,x$9,y;ok=false;f=this;errors$1=0;if(trunc){errors$1=errors$1+4>>0;}f.mant=mantissa;f.exp=0;f.neg=neg;i=(_q=(exp10- -348>>0)/8,_q===_q&&_q!==1/0&&_q!==-1/0?_q>>0:$throwRuntimeError("integer divide by zero"));if(exp10<-348||i>=87){ok=false;return ok;}adjExp=(_r=(exp10- -348>>0)%8,_r===_r?_r:$throwRuntimeError("integer divide by zero"));if(adjExp<19&&(x=(x$1=19-adjExp>>0,x$1<0||x$1>=uint64pow10.length?($throwRuntimeError("index out of range"),undefined):uint64pow10[x$1]),mantissa.$high<x.$high||mantissa.$high===x.$high&&mantissa.$low<x.$low)){f.mant=$mul64(f.mant,adjExp<0||adjExp>=uint64pow10.length?($throwRuntimeError("index out of range"),undefined):uint64pow10[adjExp]);f.Normalize();}else{f.Normalize();f.Multiply($clone(adjExp<0||adjExp>=smallPowersOfTen.length?($throwRuntimeError("index out of range"),undefined):smallPowersOfTen[adjExp],extFloat));errors$1=errors$1+4>>0;}f.Multiply($clone(i<0||i>=powersOfTen.length?($throwRuntimeError("index out of range"),undefined):powersOfTen[i],extFloat));if(errors$1>0){errors$1=errors$1+1>>0;}errors$1=errors$1+4>>0;shift=f.Normalize();errors$1=(y=shift,y<32?errors$1<<y:0)>>0;denormalExp=flt.bias-63>>0;extrabits=0;if(f.exp<=denormalExp){extrabits=((63-flt.mantbits>>>0)+1>>>0)+(denormalExp-f.exp>>0>>>0)>>>0;}else{extrabits=63-flt.mantbits>>>0;}halfway=$shiftLeft64(new $Uint64(0,1),extrabits-1>>>0);mant_extra=(x$2=f.mant,x$3=(x$4=$shiftLeft64(new $Uint64(0,1),extrabits),new $Uint64(x$4.$high-0,x$4.$low-1)),new $Uint64(x$2.$high&x$3.$high,(x$2.$low&x$3.$low)>>>0));if((x$5=(x$6=new $Int64(halfway.$high,halfway.$low),x$7=new $Int64(0,errors$1),new $Int64(x$6.$high-x$7.$high,x$6.$low-x$7.$low)),x$8=new $Int64(mant_extra.$high,mant_extra.$low),x$5.$high<x$8.$high||x$5.$high===x$8.$high&&x$5.$low<x$8.$low)&&(x$9=new $Int64(mant_extra.$high,mant_extra.$low),x$10=(x$11=new $Int64(halfway.$high,halfway.$low),x$12=new $Int64(0,errors$1),new $Int64(x$11.$high+x$12.$high,x$11.$low+x$12.$low)),x$9.$high<x$10.$high||x$9.$high===x$10.$high&&x$9.$low<x$10.$low)){ok=false;return ok;}ok=true;return ok;};extFloat.prototype.AssignDecimal=function(mantissa,exp10,neg,trunc,flt){return this.$val.AssignDecimal(mantissa,exp10,neg,trunc,flt);};extFloat.ptr.prototype.frexp10=function(){var _q,_q$1,_tmp,_tmp$1,approxExp10,exp,exp10,f,i,index;exp10=0;index=0;f=this;approxExp10=(_q=$imul(-46-f.exp>>0,28)/93,_q===_q&&_q!==1/0&&_q!==-1/0?_q>>0:$throwRuntimeError("integer divide by zero"));i=(_q$1=(approxExp10- -348>>0)/8,_q$1===_q$1&&_q$1!==1/0&&_q$1!==-1/0?_q$1>>0:$throwRuntimeError("integer divide by zero"));Loop:while(true){exp=(f.exp+(i<0||i>=powersOfTen.length?($throwRuntimeError("index out of range"),undefined):powersOfTen[i]).exp>>0)+64>>0;if(exp<-60){i=i+1>>0;}else if(exp>-32){i=i-1>>0;}else{break Loop;}}f.Multiply($clone(i<0||i>=powersOfTen.length?($throwRuntimeError("index out of range"),undefined):powersOfTen[i],extFloat));_tmp=-(-348+$imul(i,8)>>0);_tmp$1=i;exp10=_tmp;index=_tmp$1;return[exp10,index];};extFloat.prototype.frexp10=function(){return this.$val.frexp10();};frexp10Many=function(a,b,c){var _tuple,a,b,c,exp10,i;exp10=0;_tuple=c.frexp10();exp10=_tuple[0];i=_tuple[1];a.Multiply($clone(i<0||i>=powersOfTen.length?($throwRuntimeError("index out of range"),undefined):powersOfTen[i],extFloat));b.Multiply($clone(i<0||i>=powersOfTen.length?($throwRuntimeError("index out of range"),undefined):powersOfTen[i],extFloat));return exp10;};extFloat.ptr.prototype.FixedDecimal=function(d,n){var $CE$B5,_q,_q$1,_tmp,_tmp$1,_tuple,buf,d,digit,exp10,f,fraction,i,i$1,i$2,integer,integerDigits,n,nd,needed,ok,pos,pow,pow10,rest,shift,v,v1,x,x$1,x$10,x$11,x$12,x$2,x$3,x$4,x$5,x$6,x$7,x$8,x$9;f=this;if(x=f.mant,x.$high===0&&x.$low===0){d.nd=0;d.dp=0;d.neg=f.neg;return true;}if(n===0){$panic(new $String("strconv: internal error: extFloat.FixedDecimal called with n == 0"));}f.Normalize();_tuple=f.frexp10();exp10=_tuple[0];shift=-f.exp>>>0;integer=$shiftRightUint64(f.mant,shift).$low>>>0;fraction=(x$1=f.mant,x$2=$shiftLeft64(new $Uint64(0,integer),shift),new $Uint64(x$1.$high-x$2.$high,x$1.$low-x$2.$low));$CE$B5=new $Uint64(0,1);needed=n;integerDigits=0;pow10=new $Uint64(0,1);_tmp=0;_tmp$1=new $Uint64(0,1);i=_tmp;pow=_tmp$1;while(true){if(!(i<20)){break;}if(x$3=new $Uint64(0,integer),pow.$high>x$3.$high||pow.$high===x$3.$high&&pow.$low>x$3.$low){integerDigits=i;break;}pow=$mul64(pow,new $Uint64(0,10));i=i+1>>0;}rest=integer;if(integerDigits>needed){pow10=(x$4=integerDigits-needed>>0,x$4<0||x$4>=uint64pow10.length?($throwRuntimeError("index out of range"),undefined):uint64pow10[x$4]);integer=(_q=integer/(pow10.$low>>>0),_q===_q&&_q!==1/0&&_q!==-1/0?_q>>>0:$throwRuntimeError("integer divide by zero"));rest=rest-($imul(integer,pow10.$low>>>0)>>>0)>>>0;}else{rest=0;}buf=arrayType$2.zero();pos=32;v=integer;while(true){if(!(v>0)){break;}v1=(_q$1=v/10,_q$1===_q$1&&_q$1!==1/0&&_q$1!==-1/0?_q$1>>>0:$throwRuntimeError("integer divide by zero"));v=v-($imul(10,v1)>>>0)>>>0;pos=pos-1>>0;pos<0||pos>=buf.length?($throwRuntimeError("index out of range"),undefined):buf[pos]=v+48>>>0<<24>>>24;v=v1;}i$1=pos;while(true){if(!(i$1<32)){break;}x$5=d.d,x$6=i$1-pos>>0,x$6<0||x$6>=x$5.$length?($throwRuntimeError("index out of range"),undefined):x$5.$array[x$5.$offset+x$6]=i$1<0||i$1>=buf.length?($throwRuntimeError("index out of range"),undefined):buf[i$1];i$1=i$1+1>>0;}nd=32-pos>>0;d.nd=nd;d.dp=integerDigits+exp10>>0;needed=needed-nd>>0;if(needed>0){if(!(rest===0)||!(pow10.$high===0&&pow10.$low===1)){$panic(new $String("strconv: internal error, rest != 0 but needed > 0"));}while(true){if(!(needed>0)){break;}fraction=$mul64(fraction,new $Uint64(0,10));$CE$B5=$mul64($CE$B5,new $Uint64(0,10));if(x$7=$mul64(new $Uint64(0,2),$CE$B5),x$8=$shiftLeft64(new $Uint64(0,1),shift),x$7.$high>x$8.$high||x$7.$high===x$8.$high&&x$7.$low>x$8.$low){return false;}digit=$shiftRightUint64(fraction,shift);x$9=d.d,nd<0||nd>=x$9.$length?($throwRuntimeError("index out of range"),undefined):x$9.$array[x$9.$offset+nd]=new $Uint64(digit.$high+0,digit.$low+48).$low<<24>>>24;fraction=(x$10=$shiftLeft64(digit,shift),new $Uint64(fraction.$high-x$10.$high,fraction.$low-x$10.$low));nd=nd+1>>0;needed=needed-1>>0;}d.nd=nd;}ok=adjustLastDigitFixed(d,(x$11=$shiftLeft64(new $Uint64(0,rest),shift),new $Uint64(x$11.$high|fraction.$high,(x$11.$low|fraction.$low)>>>0)),pow10,shift,$CE$B5);if(!ok){return false;}i$2=d.nd-1>>0;while(true){if(!(i$2>=0)){break;}if(!((x$12=d.d,i$2<0||i$2>=x$12.$length?($throwRuntimeError("index out of range"),undefined):x$12.$array[x$12.$offset+i$2])===48)){d.nd=i$2+1>>0;break;}i$2=i$2-1>>0;}return true;};extFloat.prototype.FixedDecimal=function(d,n){return this.$val.FixedDecimal(d,n);};adjustLastDigitFixed=function(d,num,den,shift,$CE$B5){var $CE$B5,d,den,i,num,shift,x,x$1,x$10,x$2,x$3,x$4,x$5,x$6,x$7,x$8,x$9;if(x=$shiftLeft64(den,shift),num.$high>x.$high||num.$high===x.$high&&num.$low>x.$low){$panic(new $String("strconv: num > den<<shift in adjustLastDigitFixed"));}if(x$1=$mul64(new $Uint64(0,2),$CE$B5),x$2=$shiftLeft64(den,shift),x$1.$high>x$2.$high||x$1.$high===x$2.$high&&x$1.$low>x$2.$low){$panic(new $String("strconv: \xCE\xB5 > (den<<shift)/2"));}if(x$3=$mul64(new $Uint64(0,2),new $Uint64(num.$high+$CE$B5.$high,num.$low+$CE$B5.$low)),x$4=$shiftLeft64(den,shift),x$3.$high<x$4.$high||x$3.$high===x$4.$high&&x$3.$low<x$4.$low){return true;}if(x$5=$mul64(new $Uint64(0,2),new $Uint64(num.$high-$CE$B5.$high,num.$low-$CE$B5.$low)),x$6=$shiftLeft64(den,shift),x$5.$high>x$6.$high||x$5.$high===x$6.$high&&x$5.$low>x$6.$low){i=d.nd-1>>0;while(true){if(!(i>=0)){break;}if((x$7=d.d,i<0||i>=x$7.$length?($throwRuntimeError("index out of range"),undefined):x$7.$array[x$7.$offset+i])===57){d.nd=d.nd-1>>0;}else{break;}i=i-1>>0;}if(i<0){x$8=d.d,0>=x$8.$length?($throwRuntimeError("index out of range"),undefined):x$8.$array[x$8.$offset+0]=49;d.nd=1;d.dp=d.dp+1>>0;}else{x$10=d.d,i<0||i>=x$10.$length?($throwRuntimeError("index out of range"),undefined):x$10.$array[x$10.$offset+i]=(x$9=d.d,i<0||i>=x$9.$length?($throwRuntimeError("index out of range"),undefined):x$9.$array[x$9.$offset+i])+1<<24>>>24;}return true;}return false;};extFloat.ptr.prototype.ShortestDecimal=function(d,lower,upper){var _q,_tmp,_tmp$1,_tmp$2,_tmp$3,allowance,buf,currentDiff,d,digit,digit$1,exp10,f,fraction,i,i$1,i$2,integer,integerDigits,lower,multiplier,n,nd,pow,pow$1,shift,targetDiff,upper,v,v1,x,x$1,x$10,x$11,x$12,x$13,x$14,x$15,x$16,x$17,x$18,x$19,x$2,x$20,x$21,x$22,x$23,x$3,x$4,x$5,x$6,x$7,x$8,x$9;f=this;if(x=f.mant,x.$high===0&&x.$low===0){d.nd=0;d.dp=0;d.neg=f.neg;return true;}if(f.exp===0&&$equal(lower,f,extFloat)&&$equal(lower,upper,extFloat)){buf=arrayType$1.zero();n=23;v=f.mant;while(true){if(!(v.$high>0||v.$high===0&&v.$low>0)){break;}v1=$div64(v,new $Uint64(0,10),false);v=(x$1=$mul64(new $Uint64(0,10),v1),new $Uint64(v.$high-x$1.$high,v.$low-x$1.$low));n<0||n>=buf.length?($throwRuntimeError("index out of range"),undefined):buf[n]=new $Uint64(v.$high+0,v.$low+48).$low<<24>>>24;n=n-1>>0;v=v1;}nd=(24-n>>0)-1>>0;i=0;while(true){if(!(i<nd)){break;}x$3=d.d,i<0||i>=x$3.$length?($throwRuntimeError("index out of range"),undefined):x$3.$array[x$3.$offset+i]=(x$2=(n+1>>0)+i>>0,x$2<0||x$2>=buf.length?($throwRuntimeError("index out of range"),undefined):buf[x$2]);i=i+1>>0;}_tmp=nd;_tmp$1=nd;d.nd=_tmp;d.dp=_tmp$1;while(true){if(!(d.nd>0&&(x$4=d.d,x$5=d.nd-1>>0,x$5<0||x$5>=x$4.$length?($throwRuntimeError("index out of range"),undefined):x$4.$array[x$4.$offset+x$5])===48)){break;}d.nd=d.nd-1>>0;}if(d.nd===0){d.dp=0;}d.neg=f.neg;return true;}upper.Normalize();if(f.exp>upper.exp){f.mant=$shiftLeft64(f.mant,f.exp-upper.exp>>0>>>0);f.exp=upper.exp;}if(lower.exp>upper.exp){lower.mant=$shiftLeft64(lower.mant,lower.exp-upper.exp>>0>>>0);lower.exp=upper.exp;}exp10=frexp10Many(lower,f,upper);upper.mant=(x$6=upper.mant,x$7=new $Uint64(0,1),new $Uint64(x$6.$high+x$7.$high,x$6.$low+x$7.$low));lower.mant=(x$8=lower.mant,x$9=new $Uint64(0,1),new $Uint64(x$8.$high-x$9.$high,x$8.$low-x$9.$low));shift=-upper.exp>>>0;integer=$shiftRightUint64(upper.mant,shift).$low>>>0;fraction=(x$10=upper.mant,x$11=$shiftLeft64(new $Uint64(0,integer),shift),new $Uint64(x$10.$high-x$11.$high,x$10.$low-x$11.$low));allowance=(x$12=upper.mant,x$13=lower.mant,new $Uint64(x$12.$high-x$13.$high,x$12.$low-x$13.$low));targetDiff=(x$14=upper.mant,x$15=f.mant,new $Uint64(x$14.$high-x$15.$high,x$14.$low-x$15.$low));integerDigits=0;_tmp$2=0;_tmp$3=new $Uint64(0,1);i$1=_tmp$2;pow=_tmp$3;while(true){if(!(i$1<20)){break;}if(x$16=new $Uint64(0,integer),pow.$high>x$16.$high||pow.$high===x$16.$high&&pow.$low>x$16.$low){integerDigits=i$1;break;}pow=$mul64(pow,new $Uint64(0,10));i$1=i$1+1>>0;}i$2=0;while(true){if(!(i$2<integerDigits)){break;}pow$1=(x$17=(integerDigits-i$2>>0)-1>>0,x$17<0||x$17>=uint64pow10.length?($throwRuntimeError("index out of range"),undefined):uint64pow10[x$17]);digit=(_q=integer/(pow$1.$low>>>0),_q===_q&&_q!==1/0&&_q!==-1/0?_q>>>0:$throwRuntimeError("integer divide by zero"));x$18=d.d,i$2<0||i$2>=x$18.$length?($throwRuntimeError("index out of range"),undefined):x$18.$array[x$18.$offset+i$2]=digit+48>>>0<<24>>>24;integer=integer-($imul(digit,pow$1.$low>>>0)>>>0)>>>0;currentDiff=(x$19=$shiftLeft64(new $Uint64(0,integer),shift),new $Uint64(x$19.$high+fraction.$high,x$19.$low+fraction.$low));if(currentDiff.$high<allowance.$high||currentDiff.$high===allowance.$high&&currentDiff.$low<allowance.$low){d.nd=i$2+1>>0;d.dp=integerDigits+exp10>>0;d.neg=f.neg;return adjustLastDigit(d,currentDiff,targetDiff,allowance,$shiftLeft64(pow$1,shift),new $Uint64(0,2));}i$2=i$2+1>>0;}d.nd=integerDigits;d.dp=d.nd+exp10>>0;d.neg=f.neg;digit$1=0;multiplier=new $Uint64(0,1);while(true){fraction=$mul64(fraction,new $Uint64(0,10));multiplier=$mul64(multiplier,new $Uint64(0,10));digit$1=$shiftRightUint64(fraction,shift).$low>>0;x$20=d.d,x$21=d.nd,x$21<0||x$21>=x$20.$length?($throwRuntimeError("index out of range"),undefined):x$20.$array[x$20.$offset+x$21]=digit$1+48>>0<<24>>>24;d.nd=d.nd+1>>0;fraction=(x$22=$shiftLeft64(new $Uint64(0,digit$1),shift),new $Uint64(fraction.$high-x$22.$high,fraction.$low-x$22.$low));if(x$23=$mul64(allowance,multiplier),fraction.$high<x$23.$high||fraction.$high===x$23.$high&&fraction.$low<x$23.$low){return adjustLastDigit(d,fraction,$mul64(targetDiff,multiplier),$mul64(allowance,multiplier),$shiftLeft64(new $Uint64(0,1),shift),$mul64(multiplier,new $Uint64(0,2)));}}};extFloat.prototype.ShortestDecimal=function(d,lower,upper){return this.$val.ShortestDecimal(d,lower,upper);};adjustLastDigit=function(d,currentDiff,targetDiff,maxDiff,ulpDecimal,ulpBinary){var _index,currentDiff,d,maxDiff,targetDiff,ulpBinary,ulpDecimal,x,x$1,x$10,x$11,x$12,x$2,x$3,x$4,x$5,x$6,x$7,x$8,x$9;if(x=$mul64(new $Uint64(0,2),ulpBinary),ulpDecimal.$high<x.$high||ulpDecimal.$high===x.$high&&ulpDecimal.$low<x.$low){return false;}while(true){if(!(x$1=(x$2=(x$3=$div64(ulpDecimal,new $Uint64(0,2),false),new $Uint64(currentDiff.$high+x$3.$high,currentDiff.$low+x$3.$low)),new $Uint64(x$2.$high+ulpBinary.$high,x$2.$low+ulpBinary.$low)),x$1.$high<targetDiff.$high||x$1.$high===targetDiff.$high&&x$1.$low<targetDiff.$low)){break;}_index=d.nd-1>>0;x$5=d.d,_index<0||_index>=x$5.$length?($throwRuntimeError("index out of range"),undefined):x$5.$array[x$5.$offset+_index]=(x$4=d.d,_index<0||_index>=x$4.$length?($throwRuntimeError("index out of range"),undefined):x$4.$array[x$4.$offset+_index])-1<<24>>>24;currentDiff=(x$6=ulpDecimal,new $Uint64(currentDiff.$high+x$6.$high,currentDiff.$low+x$6.$low));}if(x$7=new $Uint64(currentDiff.$high+ulpDecimal.$high,currentDiff.$low+ulpDecimal.$low),x$8=(x$9=(x$10=$div64(ulpDecimal,new $Uint64(0,2),false),new $Uint64(targetDiff.$high+x$10.$high,targetDiff.$low+x$10.$low)),new $Uint64(x$9.$high+ulpBinary.$high,x$9.$low+ulpBinary.$low)),x$7.$high<x$8.$high||x$7.$high===x$8.$high&&x$7.$low<=x$8.$low){return false;}if(currentDiff.$high<ulpBinary.$high||currentDiff.$high===ulpBinary.$high&&currentDiff.$low<ulpBinary.$low||(x$11=new $Uint64(maxDiff.$high-ulpBinary.$high,maxDiff.$low-ulpBinary.$low),currentDiff.$high>x$11.$high||currentDiff.$high===x$11.$high&&currentDiff.$low>x$11.$low)){return false;}if(d.nd===1&&(x$12=d.d,0>=x$12.$length?($throwRuntimeError("index out of range"),undefined):x$12.$array[x$12.$offset+0])===48){d.nd=0;d.dp=0;}return true;};FormatFloat=function(f,fmt,prec,bitSize){var bitSize,f,fmt,prec;return $bytesToString(genericFtoa($makeSlice(sliceType$6,0,max(prec+4>>0,24)),f,fmt,prec,bitSize));};$pkg.FormatFloat=FormatFloat;AppendFloat=function(dst,f,fmt,prec,bitSize){var bitSize,dst,f,fmt,prec;return genericFtoa(dst,f,fmt,prec,bitSize);};$pkg.AppendFloat=AppendFloat;genericFtoa=function(dst,val,fmt,prec,bitSize){var _1,_2,_3,_4,_tuple,bitSize,bits$1,buf,buf$1,digits,digs,dst,exp,f,f$1,flt,fmt,lower,mant,neg,ok,prec,s,shortest,upper,val,x,x$1,x$2,x$3,y,y$1;bits$1=new $Uint64(0,0);flt=ptrType$1.nil;_1=bitSize;if(_1===32){bits$1=new $Uint64(0,math.Float32bits($fround(val)));flt=float32info;}else if(_1===64){bits$1=math.Float64bits(val);flt=float64info;}else{$panic(new $String("strconv: illegal AppendFloat/FormatFloat bitSize"));}neg=!(x=$shiftRightUint64(bits$1,flt.expbits+flt.mantbits>>>0),x.$high===0&&x.$low===0);exp=$shiftRightUint64(bits$1,flt.mantbits).$low>>0&((y=flt.expbits,y<32?1<<y:0)>>0)-1>>0;mant=(x$1=(x$2=$shiftLeft64(new $Uint64(0,1),flt.mantbits),new $Uint64(x$2.$high-0,x$2.$low-1)),new $Uint64(bits$1.$high&x$1.$high,(bits$1.$low&x$1.$low)>>>0));_2=exp;if(_2===((y$1=flt.expbits,y$1<32?1<<y$1:0)>>0)-1>>0){s="";if(!(mant.$high===0&&mant.$low===0)){s="NaN";}else if(neg){s="-Inf";}else{s="+Inf";}return $appendSlice(dst,s);}else if(_2===0){exp=exp+1>>0;}else{mant=(x$3=$shiftLeft64(new $Uint64(0,1),flt.mantbits),new $Uint64(mant.$high|x$3.$high,(mant.$low|x$3.$low)>>>0));}exp=exp+flt.bias>>0;if(fmt===98){return fmtB(dst,neg,mant,exp,flt);}if(!optimize){return bigFtoa(dst,prec,fmt,neg,mant,exp,flt);}digs=new decimalSlice.ptr(sliceType$6.nil,0,0,false);ok=false;shortest=prec<0;if(shortest){f=new extFloat.ptr(new $Uint64(0,0),0,false);_tuple=f.AssignComputeBounds(mant,exp,neg,flt);lower=$clone(_tuple[0],extFloat);upper=$clone(_tuple[1],extFloat);buf=arrayType$2.zero();digs.d=new sliceType$6(buf);ok=f.ShortestDecimal(digs,lower,upper);if(!ok){return bigFtoa(dst,prec,fmt,neg,mant,exp,flt);}_3=fmt;if(_3===101||_3===69){prec=max(digs.nd-1>>0,0);}else if(_3===102){prec=max(digs.nd-digs.dp>>0,0);}else if(_3===103||_3===71){prec=digs.nd;}}else if(!(fmt===102)){digits=prec;_4=fmt;if(_4===101||_4===69){digits=digits+1>>0;}else if(_4===103||_4===71){if(prec===0){prec=1;}digits=prec;}if(digits<=15){buf$1=arrayType$1.zero();digs.d=new sliceType$6(buf$1);f$1=new extFloat.ptr(mant,exp-(flt.mantbits>>0)>>0,neg);ok=f$1.FixedDecimal(digs,digits);}}if(!ok){return bigFtoa(dst,prec,fmt,neg,mant,exp,flt);}return formatDigits(dst,shortest,neg,$clone(digs,decimalSlice),prec,fmt);};bigFtoa=function(dst,prec,fmt,neg,mant,exp,flt){var _1,_2,d,digs,dst,exp,flt,fmt,mant,neg,prec,shortest;d=new decimal.ptr(arrayType.zero(),0,0,false,false);d.Assign(mant);d.Shift(exp-(flt.mantbits>>0)>>0);digs=new decimalSlice.ptr(sliceType$6.nil,0,0,false);shortest=prec<0;if(shortest){roundShortest(d,mant,exp,flt);decimalSlice.copy(digs,new decimalSlice.ptr(new sliceType$6(d.d),d.nd,d.dp,false));_1=fmt;if(_1===101||_1===69){prec=digs.nd-1>>0;}else if(_1===102){prec=max(digs.nd-digs.dp>>0,0);}else if(_1===103||_1===71){prec=digs.nd;}}else{_2=fmt;if(_2===101||_2===69){d.Round(prec+1>>0);}else if(_2===102){d.Round(d.dp+prec>>0);}else if(_2===103||_2===71){if(prec===0){prec=1;}d.Round(prec);}decimalSlice.copy(digs,new decimalSlice.ptr(new sliceType$6(d.d),d.nd,d.dp,false));}return formatDigits(dst,shortest,neg,$clone(digs,decimalSlice),prec,fmt);};formatDigits=function(dst,shortest,neg,digs,prec,fmt){var _1,digs,dst,eprec,exp,fmt,neg,prec,shortest;_1=fmt;if(_1===101||_1===69){return fmtE(dst,neg,$clone(digs,decimalSlice),prec,fmt);}else if(_1===102){return fmtF(dst,neg,$clone(digs,decimalSlice),prec);}else if(_1===103||_1===71){eprec=prec;if(eprec>digs.nd&&digs.nd>=digs.dp){eprec=digs.nd;}if(shortest){eprec=6;}exp=digs.dp-1>>0;if(exp<-4||exp>=eprec){if(prec>digs.nd){prec=digs.nd;}return fmtE(dst,neg,$clone(digs,decimalSlice),prec-1>>0,(fmt+101<<24>>>24)-103<<24>>>24);}if(prec>digs.dp){prec=digs.nd;}return fmtF(dst,neg,$clone(digs,decimalSlice),max(prec-digs.dp>>0,0));}return $append(dst,37,fmt);};roundShortest=function(d,mant,exp,flt){var d,exp,explo,flt,i,inclusive,l,lower,m,mant,mantlo,minexp,okdown,okup,u,upper,x,x$1,x$2,x$3,x$4,x$5,x$6,x$7;if(mant.$high===0&&mant.$low===0){d.nd=0;return;}minexp=flt.bias+1>>0;if(exp>minexp&&$imul(332,d.dp-d.nd>>0)>=$imul(100,exp-(flt.mantbits>>0)>>0)){return;}upper=new decimal.ptr(arrayType.zero(),0,0,false,false);upper.Assign((x=$mul64(mant,new $Uint64(0,2)),new $Uint64(x.$high+0,x.$low+1)));upper.Shift((exp-(flt.mantbits>>0)>>0)-1>>0);mantlo=new $Uint64(0,0);explo=0;if((x$1=$shiftLeft64(new $Uint64(0,1),flt.mantbits),mant.$high>x$1.$high||mant.$high===x$1.$high&&mant.$low>x$1.$low)||exp===minexp){mantlo=new $Uint64(mant.$high-0,mant.$low-1);explo=exp;}else{mantlo=(x$2=$mul64(mant,new $Uint64(0,2)),new $Uint64(x$2.$high-0,x$2.$low-1));explo=exp-1>>0;}lower=new decimal.ptr(arrayType.zero(),0,0,false,false);lower.Assign((x$3=$mul64(mantlo,new $Uint64(0,2)),new $Uint64(x$3.$high+0,x$3.$low+1)));lower.Shift((explo-(flt.mantbits>>0)>>0)-1>>0);inclusive=(x$4=$div64(mant,new $Uint64(0,2),true),x$4.$high===0&&x$4.$low===0);i=0;while(true){if(!(i<d.nd)){break;}l=48;if(i<lower.nd){l=(x$5=lower.d,i<0||i>=x$5.length?($throwRuntimeError("index out of range"),undefined):x$5[i]);}m=(x$6=d.d,i<0||i>=x$6.length?($throwRuntimeError("index out of range"),undefined):x$6[i]);u=48;if(i<upper.nd){u=(x$7=upper.d,i<0||i>=x$7.length?($throwRuntimeError("index out of range"),undefined):x$7[i]);}okdown=!(l===m)||inclusive&&i+1>>0===lower.nd;okup=!(m===u)&&(inclusive||m+1<<24>>>24<u||i+1>>0<upper.nd);if(okdown&&okup){d.Round(i+1>>0);return;}else if(okdown){d.RoundDown(i+1>>0);return;}else if(okup){d.RoundUp(i+1>>0);return;}i=i+1>>0;}};fmtE=function(dst,neg,d,prec,fmt){var _q,_q$1,_q$2,_r,_r$1,_r$2,ch,d,dst,exp,fmt,i,m,neg,prec,x;if(neg){dst=$append(dst,45);}ch=48;if(!(d.nd===0)){ch=(x=d.d,0>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+0]);}dst=$append(dst,ch);if(prec>0){dst=$append(dst,46);i=1;m=min(d.nd,prec+1>>0);if(i<m){dst=$appendSlice(dst,$subslice(d.d,i,m));i=m;}while(true){if(!(i<=prec)){break;}dst=$append(dst,48);i=i+1>>0;}}dst=$append(dst,fmt);exp=d.dp-1>>0;if(d.nd===0){exp=0;}if(exp<0){ch=45;exp=-exp;}else{ch=43;}dst=$append(dst,ch);if(exp<10){dst=$append(dst,48,(exp<<24>>>24)+48<<24>>>24);}else if(exp<100){dst=$append(dst,((_q=exp/10,_q===_q&&_q!==1/0&&_q!==-1/0?_q>>0:$throwRuntimeError("integer divide by zero"))<<24>>>24)+48<<24>>>24,((_r=exp%10,_r===_r?_r:$throwRuntimeError("integer divide by zero"))<<24>>>24)+48<<24>>>24);}else{dst=$append(dst,((_q$1=exp/100,_q$1===_q$1&&_q$1!==1/0&&_q$1!==-1/0?_q$1>>0:$throwRuntimeError("integer divide by zero"))<<24>>>24)+48<<24>>>24,(_r$1=((_q$2=exp/10,_q$2===_q$2&&_q$2!==1/0&&_q$2!==-1/0?_q$2>>0:$throwRuntimeError("integer divide by zero"))<<24>>>24)%10,_r$1===_r$1?_r$1:$throwRuntimeError("integer divide by zero"))+48<<24>>>24,((_r$2=exp%10,_r$2===_r$2?_r$2:$throwRuntimeError("integer divide by zero"))<<24>>>24)+48<<24>>>24);}return dst;};fmtF=function(dst,neg,d,prec){var ch,d,dst,i,j,m,neg,prec,x;if(neg){dst=$append(dst,45);}if(d.dp>0){m=min(d.nd,d.dp);dst=$appendSlice(dst,$subslice(d.d,0,m));while(true){if(!(m<d.dp)){break;}dst=$append(dst,48);m=m+1>>0;}}else{dst=$append(dst,48);}if(prec>0){dst=$append(dst,46);i=0;while(true){if(!(i<prec)){break;}ch=48;j=d.dp+i>>0;if(0<=j&&j<d.nd){ch=(x=d.d,j<0||j>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+j]);}dst=$append(dst,ch);i=i+1>>0;}}return dst;};fmtB=function(dst,neg,mant,exp,flt){var _tuple,_tuple$1,dst,exp,flt,mant,neg;if(neg){dst=$append(dst,45);}_tuple=formatBits(dst,mant,10,false,true);dst=_tuple[0];dst=$append(dst,112);exp=exp-(flt.mantbits>>0)>>0;if(exp>=0){dst=$append(dst,43);}_tuple$1=formatBits(dst,new $Uint64(0,exp),10,exp<0,true);dst=_tuple$1[0];return dst;};min=function(a,b){var a,b;if(a<b){return a;}return b;};max=function(a,b){var a,b;if(a>b){return a;}return b;};FormatUint=function(i,base){var _tuple,base,i,s;if(true&&(i.$high<0||i.$high===0&&i.$low<100)&&base===10){return small(i.$low>>0);}_tuple=formatBits(sliceType$6.nil,i,base,false,false);s=_tuple[1];return s;};$pkg.FormatUint=FormatUint;FormatInt=function(i,base){var _tuple,base,i,s;if(true&&(0<i.$high||0===i.$high&&0<=i.$low)&&(i.$high<0||i.$high===0&&i.$low<100)&&base===10){return small(i.$low+(i.$high>>31)*4294967296>>0);}_tuple=formatBits(sliceType$6.nil,new $Uint64(i.$high,i.$low),base,i.$high<0||i.$high===0&&i.$low<0,false);s=_tuple[1];return s;};$pkg.FormatInt=FormatInt;Itoa=function(i){var i;return FormatInt(new $Int64(0,i),10);};$pkg.Itoa=Itoa;AppendInt=function(dst,i,base){var _tuple,base,dst,i;if(true&&(0<i.$high||0===i.$high&&0<=i.$low)&&(i.$high<0||i.$high===0&&i.$low<100)&&base===10){return $appendSlice(dst,small(i.$low+(i.$high>>31)*4294967296>>0));}_tuple=formatBits(dst,new $Uint64(i.$high,i.$low),base,i.$high<0||i.$high===0&&i.$low<0,true);dst=_tuple[0];return dst;};$pkg.AppendInt=AppendInt;AppendUint=function(dst,i,base){var _tuple,base,dst,i;if(true&&(i.$high<0||i.$high===0&&i.$low<100)&&base===10){return $appendSlice(dst,small(i.$low>>0));}_tuple=formatBits(dst,i,base,false,true);dst=_tuple[0];return dst;};$pkg.AppendUint=AppendUint;small=function(i){var i;if(i<10){return $substring("0123456789abcdefghijklmnopqrstuvwxyz",i,i+1>>0);}return $substring("00010203040506070809101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899",$imul(i,2),$imul(i,2)+2>>0);};formatBits=function(dst,u,base,neg,append_){var _q,_q$1,_r,_r$1,a,append_,b,b$1,base,d,dst,i,is,is$1,is$2,j,m,neg,q,q$1,s,shift,u,us,us$1,x,x$1,x$2,x$3,x$4,x$5;d=sliceType$6.nil;s="";if(base<2||base>36){$panic(new $String("strconv: illegal AppendInt/FormatInt base"));}a=arrayType$3.zero();i=65;if(neg){u=new $Uint64(-u.$high,-u.$low);}if(base===10){if(true){while(true){if(!(u.$high>0||u.$high===0&&u.$low>=1000000000)){break;}q=$div64(u,new $Uint64(0,1000000000),false);us=(x=$mul64(q,new $Uint64(0,1000000000)),new $Uint64(u.$high-x.$high,u.$low-x.$low)).$low>>>0;j=4;while(true){if(!(j>0)){break;}is=(_r=us%100,_r===_r?_r:$throwRuntimeError("integer divide by zero"))*2>>>0;us=(_q=us/100,_q===_q&&_q!==1/0&&_q!==-1/0?_q>>>0:$throwRuntimeError("integer divide by zero"));i=i-2>>0;x$1=i+1>>0,x$1<0||x$1>=a.length?($throwRuntimeError("index out of range"),undefined):a[x$1]="00010203040506070809101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899".charCodeAt(is+1>>>0);x$2=i+0>>0,x$2<0||x$2>=a.length?($throwRuntimeError("index out of range"),undefined):a[x$2]="00010203040506070809101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899".charCodeAt(is+0>>>0);j=j-1>>0;}i=i-1>>0;i<0||i>=a.length?($throwRuntimeError("index out of range"),undefined):a[i]="00010203040506070809101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899".charCodeAt((us*2>>>0)+1>>>0);u=q;}}us$1=u.$low>>>0;while(true){if(!(us$1>=100)){break;}is$1=(_r$1=us$1%100,_r$1===_r$1?_r$1:$throwRuntimeError("integer divide by zero"))*2>>>0;us$1=(_q$1=us$1/100,_q$1===_q$1&&_q$1!==1/0&&_q$1!==-1/0?_q$1>>>0:$throwRuntimeError("integer divide by zero"));i=i-2>>0;x$3=i+1>>0,x$3<0||x$3>=a.length?($throwRuntimeError("index out of range"),undefined):a[x$3]="00010203040506070809101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899".charCodeAt(is$1+1>>>0);x$4=i+0>>0,x$4<0||x$4>=a.length?($throwRuntimeError("index out of range"),undefined):a[x$4]="00010203040506070809101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899".charCodeAt(is$1+0>>>0);}is$2=us$1*2>>>0;i=i-1>>0;i<0||i>=a.length?($throwRuntimeError("index out of range"),undefined):a[i]="00010203040506070809101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899".charCodeAt(is$2+1>>>0);if(us$1>=10){i=i-1>>0;i<0||i>=a.length?($throwRuntimeError("index out of range"),undefined):a[i]="00010203040506070809101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899".charCodeAt(is$2);}}else if(isPowerOfTwo(base)){shift=(bits.TrailingZeros(base>>>0)>>>0&7)>>>0;b=new $Uint64(0,base);m=(base>>>0)-1>>>0;while(true){if(!(u.$high>b.$high||u.$high===b.$high&&u.$low>=b.$low)){break;}i=i-1>>0;i<0||i>=a.length?($throwRuntimeError("index out of range"),undefined):a[i]="0123456789abcdefghijklmnopqrstuvwxyz".charCodeAt((u.$low>>>0&m)>>>0);u=$shiftRightUint64(u,shift);}i=i-1>>0;i<0||i>=a.length?($throwRuntimeError("index out of range"),undefined):a[i]="0123456789abcdefghijklmnopqrstuvwxyz".charCodeAt(u.$low>>>0);}else{b$1=new $Uint64(0,base);while(true){if(!(u.$high>b$1.$high||u.$high===b$1.$high&&u.$low>=b$1.$low)){break;}i=i-1>>0;q$1=$div64(u,b$1,false);i<0||i>=a.length?($throwRuntimeError("index out of range"),undefined):a[i]="0123456789abcdefghijklmnopqrstuvwxyz".charCodeAt((x$5=$mul64(q$1,b$1),new $Uint64(u.$high-x$5.$high,u.$low-x$5.$low)).$low>>>0);u=q$1;}i=i-1>>0;i<0||i>=a.length?($throwRuntimeError("index out of range"),undefined):a[i]="0123456789abcdefghijklmnopqrstuvwxyz".charCodeAt(u.$low>>>0);}if(neg){i=i-1>>0;i<0||i>=a.length?($throwRuntimeError("index out of range"),undefined):a[i]=45;}if(append_){d=$appendSlice(dst,$subslice(new sliceType$6(a),i));return[d,s];}s=$bytesToString($subslice(new sliceType$6(a),i));return[d,s];};isPowerOfTwo=function(x){var x;return(x&x-1>>0)===0;};quoteWith=function(s,quote,ASCIIonly,graphicOnly){var ASCIIonly,_q,graphicOnly,quote,s;return $bytesToString(appendQuotedWith($makeSlice(sliceType$6,0,(_q=$imul(3,s.length)/2,_q===_q&&_q!==1/0&&_q!==-1/0?_q>>0:$throwRuntimeError("integer divide by zero"))),s,quote,ASCIIonly,graphicOnly));};appendQuotedWith=function(buf,s,quote,ASCIIonly,graphicOnly){var ASCIIonly,_tuple,buf,graphicOnly,quote,r,s,width;buf=$append(buf,quote);width=0;while(true){if(!(s.length>0)){break;}r=s.charCodeAt(0)>>0;width=1;if(r>=128){_tuple=utf8.DecodeRuneInString(s);r=_tuple[0];width=_tuple[1];}if(width===1&&r===65533){buf=$appendSlice(buf,"\\x");buf=$append(buf,"0123456789abcdef".charCodeAt(s.charCodeAt(0)>>>4<<24>>>24));buf=$append(buf,"0123456789abcdef".charCodeAt((s.charCodeAt(0)&15)>>>0));s=$substring(s,width);continue;}buf=appendEscapedRune(buf,r,quote,ASCIIonly,graphicOnly);s=$substring(s,width);}buf=$append(buf,quote);return buf;};appendQuotedRuneWith=function(buf,r,quote,ASCIIonly,graphicOnly){var ASCIIonly,buf,graphicOnly,quote,r;buf=$append(buf,quote);if(!utf8.ValidRune(r)){r=65533;}buf=appendEscapedRune(buf,r,quote,ASCIIonly,graphicOnly);buf=$append(buf,quote);return buf;};appendEscapedRune=function(buf,r,quote,ASCIIonly,graphicOnly){var ASCIIonly,_1,buf,graphicOnly,n,quote,r,runeTmp,s,s$1;runeTmp=arrayType$4.zero();if(r===quote>>0||r===92){buf=$append(buf,92);buf=$append(buf,r<<24>>>24);return buf;}if(ASCIIonly){if(r<128&&IsPrint(r)){buf=$append(buf,r<<24>>>24);return buf;}}else if(IsPrint(r)||graphicOnly&&isInGraphicList(r)){n=utf8.EncodeRune(new sliceType$6(runeTmp),r);buf=$appendSlice(buf,$subslice(new sliceType$6(runeTmp),0,n));return buf;}_1=r;if(_1===7){buf=$appendSlice(buf,"\\a");}else if(_1===8){buf=$appendSlice(buf,"\\b");}else if(_1===12){buf=$appendSlice(buf,"\\f");}else if(_1===10){buf=$appendSlice(buf,"\\n");}else if(_1===13){buf=$appendSlice(buf,"\\r");}else if(_1===9){buf=$appendSlice(buf,"\\t");}else if(_1===11){buf=$appendSlice(buf,"\\v");}else{if(r<32){buf=$appendSlice(buf,"\\x");buf=$append(buf,"0123456789abcdef".charCodeAt(r<<24>>>24>>>4<<24>>>24));buf=$append(buf,"0123456789abcdef".charCodeAt((r<<24>>>24&15)>>>0));}else if(r>1114111){r=65533;buf=$appendSlice(buf,"\\u");s=12;while(true){if(!(s>=0)){break;}buf=$append(buf,"0123456789abcdef".charCodeAt(r>>$min(s>>>0,31)>>0&15));s=s-4>>0;}}else if(r<65536){buf=$appendSlice(buf,"\\u");s=12;while(true){if(!(s>=0)){break;}buf=$append(buf,"0123456789abcdef".charCodeAt(r>>$min(s>>>0,31)>>0&15));s=s-4>>0;}}else{buf=$appendSlice(buf,"\\U");s$1=28;while(true){if(!(s$1>=0)){break;}buf=$append(buf,"0123456789abcdef".charCodeAt(r>>$min(s$1>>>0,31)>>0&15));s$1=s$1-4>>0;}}}return buf;};Quote=function(s){var s;return quoteWith(s,34,false,false);};$pkg.Quote=Quote;AppendQuote=function(dst,s){var dst,s;return appendQuotedWith(dst,s,34,false,false);};$pkg.AppendQuote=AppendQuote;AppendQuoteToASCII=function(dst,s){var dst,s;return appendQuotedWith(dst,s,34,true,false);};$pkg.AppendQuoteToASCII=AppendQuoteToASCII;AppendQuoteRune=function(dst,r){var dst,r;return appendQuotedRuneWith(dst,r,39,false,false);};$pkg.AppendQuoteRune=AppendQuoteRune;AppendQuoteRuneToASCII=function(dst,r){var dst,r;return appendQuotedRuneWith(dst,r,39,true,false);};$pkg.AppendQuoteRuneToASCII=AppendQuoteRuneToASCII;CanBackquote=function(s){var _tuple,r,s,wid;while(true){if(!(s.length>0)){break;}_tuple=utf8.DecodeRuneInString(s);r=_tuple[0];wid=_tuple[1];s=$substring(s,wid);if(wid>1){if(r===65279){return false;}continue;}if(r===65533){return false;}if(r<32&&!(r===9)||r===96||r===127){return false;}}return true;};$pkg.CanBackquote=CanBackquote;unhex=function(b){var _tmp,_tmp$1,_tmp$2,_tmp$3,_tmp$4,_tmp$5,b,c,ok,v;v=0;ok=false;c=b>>0;if(48<=c&&c<=57){_tmp=c-48>>0;_tmp$1=true;v=_tmp;ok=_tmp$1;return[v,ok];}else if(97<=c&&c<=102){_tmp$2=(c-97>>0)+10>>0;_tmp$3=true;v=_tmp$2;ok=_tmp$3;return[v,ok];}else if(65<=c&&c<=70){_tmp$4=(c-65>>0)+10>>0;_tmp$5=true;v=_tmp$4;ok=_tmp$5;return[v,ok];}return[v,ok];};UnquoteChar=function(s,quote){var _1,_2,_tmp,_tmp$1,_tmp$2,_tmp$3,_tmp$4,_tmp$5,_tmp$6,_tmp$7,_tuple,_tuple$1,c,c$1,err,j,j$1,multibyte,n,ok,quote,r,s,size,tail,v,v$1,value,x,x$1;value=0;multibyte=false;tail="";err=$ifaceNil;if(s.length===0){err=$pkg.ErrSyntax;return[value,multibyte,tail,err];}c=s.charCodeAt(0);if(c===quote&&(quote===39||quote===34)){err=$pkg.ErrSyntax;return[value,multibyte,tail,err];}else if(c>=128){_tuple=utf8.DecodeRuneInString(s);r=_tuple[0];size=_tuple[1];_tmp=r;_tmp$1=true;_tmp$2=$substring(s,size);_tmp$3=$ifaceNil;value=_tmp;multibyte=_tmp$1;tail=_tmp$2;err=_tmp$3;return[value,multibyte,tail,err];}else if(!(c===92)){_tmp$4=s.charCodeAt(0)>>0;_tmp$5=false;_tmp$6=$substring(s,1);_tmp$7=$ifaceNil;value=_tmp$4;multibyte=_tmp$5;tail=_tmp$6;err=_tmp$7;return[value,multibyte,tail,err];}if(s.length<=1){err=$pkg.ErrSyntax;return[value,multibyte,tail,err];}c$1=s.charCodeAt(1);s=$substring(s,2);switch(0){default:_1=c$1;if(_1===97){value=7;}else if(_1===98){value=8;}else if(_1===102){value=12;}else if(_1===110){value=10;}else if(_1===114){value=13;}else if(_1===116){value=9;}else if(_1===118){value=11;}else if(_1===120||_1===117||_1===85){n=0;_2=c$1;if(_2===120){n=2;}else if(_2===117){n=4;}else if(_2===85){n=8;}v=0;if(s.length<n){err=$pkg.ErrSyntax;return[value,multibyte,tail,err];}j=0;while(true){if(!(j<n)){break;}_tuple$1=unhex(s.charCodeAt(j));x=_tuple$1[0];ok=_tuple$1[1];if(!ok){err=$pkg.ErrSyntax;return[value,multibyte,tail,err];}v=v<<4>>0|x;j=j+1>>0;}s=$substring(s,n);if(c$1===120){value=v;break;}if(v>1114111){err=$pkg.ErrSyntax;return[value,multibyte,tail,err];}value=v;multibyte=true;}else if(_1===48||_1===49||_1===50||_1===51||_1===52||_1===53||_1===54||_1===55){v$1=(c$1>>0)-48>>0;if(s.length<2){err=$pkg.ErrSyntax;return[value,multibyte,tail,err];}j$1=0;while(true){if(!(j$1<2)){break;}x$1=(s.charCodeAt(j$1)>>0)-48>>0;if(x$1<0||x$1>7){err=$pkg.ErrSyntax;return[value,multibyte,tail,err];}v$1=v$1<<3>>0|x$1;j$1=j$1+1>>0;}s=$substring(s,2);if(v$1>255){err=$pkg.ErrSyntax;return[value,multibyte,tail,err];}value=v$1;}else if(_1===92){value=92;}else if(_1===39||_1===34){if(!(c$1===quote)){err=$pkg.ErrSyntax;return[value,multibyte,tail,err];}value=c$1>>0;}else{err=$pkg.ErrSyntax;return[value,multibyte,tail,err];}}tail=s;return[value,multibyte,tail,err];};$pkg.UnquoteChar=UnquoteChar;Unquote=function(s){var _1,_q,_tuple,_tuple$1,buf,buf$1,c,err,i,multibyte,n,n$1,quote,r,runeTmp,s,size,ss;n=s.length;if(n<2){return["",$pkg.ErrSyntax];}quote=s.charCodeAt(0);if(!(quote===s.charCodeAt(n-1>>0))){return["",$pkg.ErrSyntax];}s=$substring(s,1,n-1>>0);if(quote===96){if(contains(s,96)){return["",$pkg.ErrSyntax];}if(contains(s,13)){buf=$makeSlice(sliceType$6,0,s.length-1>>0);i=0;while(true){if(!(i<s.length)){break;}if(!(s.charCodeAt(i)===13)){buf=$append(buf,s.charCodeAt(i));}i=i+1>>0;}return[$bytesToString(buf),$ifaceNil];}return[s,$ifaceNil];}if(!(quote===34)&&!(quote===39)){return["",$pkg.ErrSyntax];}if(contains(s,10)){return["",$pkg.ErrSyntax];}if(!contains(s,92)&&!contains(s,quote)){_1=quote;if(_1===34){if(utf8.ValidString(s)){return[s,$ifaceNil];}}else if(_1===39){_tuple=utf8.DecodeRuneInString(s);r=_tuple[0];size=_tuple[1];if(size===s.length&&(!(r===65533)||!(size===1))){return[s,$ifaceNil];}}}runeTmp=arrayType$4.zero();buf$1=$makeSlice(sliceType$6,0,(_q=$imul(3,s.length)/2,_q===_q&&_q!==1/0&&_q!==-1/0?_q>>0:$throwRuntimeError("integer divide by zero")));while(true){if(!(s.length>0)){break;}_tuple$1=UnquoteChar(s,quote);c=_tuple$1[0];multibyte=_tuple$1[1];ss=_tuple$1[2];err=_tuple$1[3];if(!$interfaceIsEqual(err,$ifaceNil)){return["",err];}s=ss;if(c<128||!multibyte){buf$1=$append(buf$1,c<<24>>>24);}else{n$1=utf8.EncodeRune(new sliceType$6(runeTmp),c);buf$1=$appendSlice(buf$1,$subslice(new sliceType$6(runeTmp),0,n$1));}if(quote===39&&!(s.length===0)){return["",$pkg.ErrSyntax];}}return[$bytesToString(buf$1),$ifaceNil];};$pkg.Unquote=Unquote;contains=function(s,c){var c,s;return!(bytealg.IndexByteString(s,c)===-1);};bsearch16=function(a,x){var _q,_tmp,_tmp$1,a,h,i,j,x;_tmp=0;_tmp$1=a.$length;i=_tmp;j=_tmp$1;while(true){if(!(i<j)){break;}h=i+(_q=(j-i>>0)/2,_q===_q&&_q!==1/0&&_q!==-1/0?_q>>0:$throwRuntimeError("integer divide by zero"))>>0;if((h<0||h>=a.$length?($throwRuntimeError("index out of range"),undefined):a.$array[a.$offset+h])<x){i=h+1>>0;}else{j=h;}}return i;};bsearch32=function(a,x){var _q,_tmp,_tmp$1,a,h,i,j,x;_tmp=0;_tmp$1=a.$length;i=_tmp;j=_tmp$1;while(true){if(!(i<j)){break;}h=i+(_q=(j-i>>0)/2,_q===_q&&_q!==1/0&&_q!==-1/0?_q>>0:$throwRuntimeError("integer divide by zero"))>>0;if((h<0||h>=a.$length?($throwRuntimeError("index out of range"),undefined):a.$array[a.$offset+h])<x){i=h+1>>0;}else{j=h;}}return i;};IsPrint=function(r){var _tmp,_tmp$1,_tmp$2,_tmp$3,_tmp$4,_tmp$5,i,i$1,isNotPrint,isNotPrint$1,isPrint,isPrint$1,j,j$1,r,rr,rr$1,x,x$1,x$2,x$3;if(r<=255){if(32<=r&&r<=126){return true;}if(161<=r&&r<=255){return!(r===173);}return false;}if(0<=r&&r<65536){_tmp=r<<16>>>16;_tmp$1=isPrint16;_tmp$2=isNotPrint16;rr=_tmp;isPrint=_tmp$1;isNotPrint=_tmp$2;i=bsearch16(isPrint,rr);if(i>=isPrint.$length||rr<(x=(i&~1)>>0,x<0||x>=isPrint.$length?($throwRuntimeError("index out of range"),undefined):isPrint.$array[isPrint.$offset+x])||(x$1=i|1,x$1<0||x$1>=isPrint.$length?($throwRuntimeError("index out of range"),undefined):isPrint.$array[isPrint.$offset+x$1])<rr){return false;}j=bsearch16(isNotPrint,rr);return j>=isNotPrint.$length||!((j<0||j>=isNotPrint.$length?($throwRuntimeError("index out of range"),undefined):isNotPrint.$array[isNotPrint.$offset+j])===rr);}_tmp$3=r>>>0;_tmp$4=isPrint32;_tmp$5=isNotPrint32;rr$1=_tmp$3;isPrint$1=_tmp$4;isNotPrint$1=_tmp$5;i$1=bsearch32(isPrint$1,rr$1);if(i$1>=isPrint$1.$length||rr$1<(x$2=(i$1&~1)>>0,x$2<0||x$2>=isPrint$1.$length?($throwRuntimeError("index out of range"),undefined):isPrint$1.$array[isPrint$1.$offset+x$2])||(x$3=i$1|1,x$3<0||x$3>=isPrint$1.$length?($throwRuntimeError("index out of range"),undefined):isPrint$1.$array[isPrint$1.$offset+x$3])<rr$1){return false;}if(r>=131072){return true;}r=r-65536>>0;j$1=bsearch16(isNotPrint$1,r<<16>>>16);return j$1>=isNotPrint$1.$length||!((j$1<0||j$1>=isNotPrint$1.$length?($throwRuntimeError("index out of range"),undefined):isNotPrint$1.$array[isNotPrint$1.$offset+j$1])===r<<16>>>16);};$pkg.IsPrint=IsPrint;isInGraphicList=function(r){var i,r,rr;if(r>65535){return false;}rr=r<<16>>>16;i=bsearch16(isGraphic,rr);return i<isGraphic.$length&&rr===(i<0||i>=isGraphic.$length?($throwRuntimeError("index out of range"),undefined):isGraphic.$array[isGraphic.$offset+i]);};ptrType.methods=[{prop:"Error",name:"Error",pkg:"",typ:$funcType([],[$String],false)}];ptrType$2.methods=[{prop:"set",name:"set",pkg:"strconv",typ:$funcType([$String],[$Bool],false)},{prop:"floatBits",name:"floatBits",pkg:"strconv",typ:$funcType([ptrType$1],[$Uint64,$Bool],false)},{prop:"String",name:"String",pkg:"",typ:$funcType([],[$String],false)},{prop:"Assign",name:"Assign",pkg:"",typ:$funcType([$Uint64],[],false)},{prop:"Shift",name:"Shift",pkg:"",typ:$funcType([$Int],[],false)},{prop:"Round",name:"Round",pkg:"",typ:$funcType([$Int],[],false)},{prop:"RoundDown",name:"RoundDown",pkg:"",typ:$funcType([$Int],[],false)},{prop:"RoundUp",name:"RoundUp",pkg:"",typ:$funcType([$Int],[],false)},{prop:"RoundedInteger",name:"RoundedInteger",pkg:"",typ:$funcType([],[$Uint64],false)}];ptrType$4.methods=[{prop:"floatBits",name:"floatBits",pkg:"strconv",typ:$funcType([ptrType$1],[$Uint64,$Bool],false)},{prop:"AssignComputeBounds",name:"AssignComputeBounds",pkg:"",typ:$funcType([$Uint64,$Int,$Bool,ptrType$1],[extFloat,extFloat],false)},{prop:"Normalize",name:"Normalize",pkg:"",typ:$funcType([],[$Uint],false)},{prop:"Multiply",name:"Multiply",pkg:"",typ:$funcType([extFloat],[],false)},{prop:"AssignDecimal",name:"AssignDecimal",pkg:"",typ:$funcType([$Uint64,$Int,$Bool,$Bool,ptrType$1],[$Bool],false)},{prop:"frexp10",name:"frexp10",pkg:"strconv",typ:$funcType([],[$Int,$Int],false)},{prop:"FixedDecimal",name:"FixedDecimal",pkg:"",typ:$funcType([ptrType$3,$Int],[$Bool],false)},{prop:"ShortestDecimal",name:"ShortestDecimal",pkg:"",typ:$funcType([ptrType$3,ptrType$4,ptrType$4],[$Bool],false)}];NumError.init("",[{prop:"Func",name:"Func",embedded:false,exported:true,typ:$String,tag:""},{prop:"Num",name:"Num",embedded:false,exported:true,typ:$String,tag:""},{prop:"Err",name:"Err",embedded:false,exported:true,typ:$error,tag:""}]);decimal.init("strconv",[{prop:"d",name:"d",embedded:false,exported:false,typ:arrayType,tag:""},{prop:"nd",name:"nd",embedded:false,exported:false,typ:$Int,tag:""},{prop:"dp",name:"dp",embedded:false,exported:false,typ:$Int,tag:""},{prop:"neg",name:"neg",embedded:false,exported:false,typ:$Bool,tag:""},{prop:"trunc",name:"trunc",embedded:false,exported:false,typ:$Bool,tag:""}]);leftCheat.init("strconv",[{prop:"delta",name:"delta",embedded:false,exported:false,typ:$Int,tag:""},{prop:"cutoff",name:"cutoff",embedded:false,exported:false,typ:$String,tag:""}]);extFloat.init("strconv",[{prop:"mant",name:"mant",embedded:false,exported:false,typ:$Uint64,tag:""},{prop:"exp",name:"exp",embedded:false,exported:false,typ:$Int,tag:""},{prop:"neg",name:"neg",embedded:false,exported:false,typ:$Bool,tag:""}]);floatInfo.init("strconv",[{prop:"mantbits",name:"mantbits",embedded:false,exported:false,typ:$Uint,tag:""},{prop:"expbits",name:"expbits",embedded:false,exported:false,typ:$Uint,tag:""},{prop:"bias",name:"bias",embedded:false,exported:false,typ:$Int,tag:""}]);decimalSlice.init("strconv",[{prop:"d",name:"d",embedded:false,exported:false,typ:sliceType$6,tag:""},{prop:"nd",name:"nd",embedded:false,exported:false,typ:$Int,tag:""},{prop:"dp",name:"dp",embedded:false,exported:false,typ:$Int,tag:""},{prop:"neg",name:"neg",embedded:false,exported:false,typ:$Bool,tag:""}]);$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=errors.$init();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=bytealg.$init();/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=math.$init();/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=bits.$init();/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=utf8.$init();/* */$s=5;case 5:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}optimize=true;powtab=new sliceType([1,3,6,9,13,16,19,23,26]);float64pow10=new sliceType$1([1,10,100,1000,10000,100000,1e+06,1e+07,1e+08,1e+09,1e+10,1e+11,1e+12,1e+13,1e+14,1e+15,1e+16,1e+17,1e+18,1e+19,1e+20,1e+21,1e+22]);float32pow10=new sliceType$2([1,10,100,1000,10000,100000,1e+06,1e+07,1e+08,1e+09,1e+10]);$pkg.ErrRange=errors.New("value out of range");$pkg.ErrSyntax=errors.New("invalid syntax");leftcheats=new sliceType$3([new leftCheat.ptr(0,""),new leftCheat.ptr(1,"5"),new leftCheat.ptr(1,"25"),new leftCheat.ptr(1,"125"),new leftCheat.ptr(2,"625"),new leftCheat.ptr(2,"3125"),new leftCheat.ptr(2,"15625"),new leftCheat.ptr(3,"78125"),new leftCheat.ptr(3,"390625"),new leftCheat.ptr(3,"1953125"),new leftCheat.ptr(4,"9765625"),new leftCheat.ptr(4,"48828125"),new leftCheat.ptr(4,"244140625"),new leftCheat.ptr(4,"1220703125"),new leftCheat.ptr(5,"6103515625"),new leftCheat.ptr(5,"30517578125"),new leftCheat.ptr(5,"152587890625"),new leftCheat.ptr(6,"762939453125"),new leftCheat.ptr(6,"3814697265625"),new leftCheat.ptr(6,"19073486328125"),new leftCheat.ptr(7,"95367431640625"),new leftCheat.ptr(7,"476837158203125"),new leftCheat.ptr(7,"2384185791015625"),new leftCheat.ptr(7,"11920928955078125"),new leftCheat.ptr(8,"59604644775390625"),new leftCheat.ptr(8,"298023223876953125"),new leftCheat.ptr(8,"1490116119384765625"),new leftCheat.ptr(9,"7450580596923828125"),new leftCheat.ptr(9,"37252902984619140625"),new leftCheat.ptr(9,"186264514923095703125"),new leftCheat.ptr(10,"931322574615478515625"),new leftCheat.ptr(10,"4656612873077392578125"),new leftCheat.ptr(10,"23283064365386962890625"),new leftCheat.ptr(10,"116415321826934814453125"),new leftCheat.ptr(11,"582076609134674072265625"),new leftCheat.ptr(11,"2910383045673370361328125"),new leftCheat.ptr(11,"14551915228366851806640625"),new leftCheat.ptr(12,"72759576141834259033203125"),new leftCheat.ptr(12,"363797880709171295166015625"),new leftCheat.ptr(12,"1818989403545856475830078125"),new leftCheat.ptr(13,"9094947017729282379150390625"),new leftCheat.ptr(13,"45474735088646411895751953125"),new leftCheat.ptr(13,"227373675443232059478759765625"),new leftCheat.ptr(13,"1136868377216160297393798828125"),new leftCheat.ptr(14,"5684341886080801486968994140625"),new leftCheat.ptr(14,"28421709430404007434844970703125"),new leftCheat.ptr(14,"142108547152020037174224853515625"),new leftCheat.ptr(15,"710542735760100185871124267578125"),new leftCheat.ptr(15,"3552713678800500929355621337890625"),new leftCheat.ptr(15,"17763568394002504646778106689453125"),new leftCheat.ptr(16,"88817841970012523233890533447265625"),new leftCheat.ptr(16,"444089209850062616169452667236328125"),new leftCheat.ptr(16,"2220446049250313080847263336181640625"),new leftCheat.ptr(16,"11102230246251565404236316680908203125"),new leftCheat.ptr(17,"55511151231257827021181583404541015625"),new leftCheat.ptr(17,"277555756156289135105907917022705078125"),new leftCheat.ptr(17,"1387778780781445675529539585113525390625"),new leftCheat.ptr(18,"6938893903907228377647697925567626953125"),new leftCheat.ptr(18,"34694469519536141888238489627838134765625"),new leftCheat.ptr(18,"173472347597680709441192448139190673828125"),new leftCheat.ptr(19,"867361737988403547205962240695953369140625")]);smallPowersOfTen=$toNativeArray($kindStruct,[new extFloat.ptr(new $Uint64(2147483648,0),-63,false),new extFloat.ptr(new $Uint64(2684354560,0),-60,false),new extFloat.ptr(new $Uint64(3355443200,0),-57,false),new extFloat.ptr(new $Uint64(4194304000,0),-54,false),new extFloat.ptr(new $Uint64(2621440000,0),-50,false),new extFloat.ptr(new $Uint64(3276800000,0),-47,false),new extFloat.ptr(new $Uint64(4096000000,0),-44,false),new extFloat.ptr(new $Uint64(2560000000,0),-40,false)]);powersOfTen=$toNativeArray($kindStruct,[new extFloat.ptr(new $Uint64(4203730336,136053384),-1220,false),new extFloat.ptr(new $Uint64(3132023167,2722021238),-1193,false),new extFloat.ptr(new $Uint64(2333539104,810921078),-1166,false),new extFloat.ptr(new $Uint64(3477244234,1573795306),-1140,false),new extFloat.ptr(new $Uint64(2590748842,1432697645),-1113,false),new extFloat.ptr(new $Uint64(3860516611,1025131999),-1087,false),new extFloat.ptr(new $Uint64(2876309015,3348809418),-1060,false),new extFloat.ptr(new $Uint64(4286034428,3200048207),-1034,false),new extFloat.ptr(new $Uint64(3193344495,1097586188),-1007,false),new extFloat.ptr(new $Uint64(2379227053,2424306748),-980,false),new extFloat.ptr(new $Uint64(3545324584,827693699),-954,false),new extFloat.ptr(new $Uint64(2641472655,2913388981),-927,false),new extFloat.ptr(new $Uint64(3936100983,602835915),-901,false),new extFloat.ptr(new $Uint64(2932623761,1081627501),-874,false),new extFloat.ptr(new $Uint64(2184974969,1572261463),-847,false),new extFloat.ptr(new $Uint64(3255866422,1308317239),-821,false),new extFloat.ptr(new $Uint64(2425809519,944281679),-794,false),new extFloat.ptr(new $Uint64(3614737867,629291719),-768,false),new extFloat.ptr(new $Uint64(2693189581,2545915892),-741,false),new extFloat.ptr(new $Uint64(4013165208,388672741),-715,false),new extFloat.ptr(new $Uint64(2990041083,708162190),-688,false),new extFloat.ptr(new $Uint64(2227754207,3536207675),-661,false),new extFloat.ptr(new $Uint64(3319612455,450088378),-635,false),new extFloat.ptr(new $Uint64(2473304014,3139815830),-608,false),new extFloat.ptr(new $Uint64(3685510180,2103616900),-582,false),new extFloat.ptr(new $Uint64(2745919064,224385782),-555,false),new extFloat.ptr(new $Uint64(4091738259,3737383206),-529,false),new extFloat.ptr(new $Uint64(3048582568,2868871352),-502,false),new extFloat.ptr(new $Uint64(2271371013,1820084875),-475,false),new extFloat.ptr(new $Uint64(3384606560,885076051),-449,false),new extFloat.ptr(new $Uint64(2521728396,2444895829),-422,false),new extFloat.ptr(new $Uint64(3757668132,1881767613),-396,false),new extFloat.ptr(new $Uint64(2799680927,3102062735),-369,false),new extFloat.ptr(new $Uint64(4171849679,2289335700),-343,false),new extFloat.ptr(new $Uint64(3108270227,2410191823),-316,false),new extFloat.ptr(new $Uint64(2315841784,3205436779),-289,false),new extFloat.ptr(new $Uint64(3450873173,1697722806),-263,false),new extFloat.ptr(new $Uint64(2571100870,3497754540),-236,false),new extFloat.ptr(new $Uint64(3831238852,707476230),-210,false),new extFloat.ptr(new $Uint64(2854495385,1769181907),-183,false),new extFloat.ptr(new $Uint64(4253529586,2197867022),-157,false),new extFloat.ptr(new $Uint64(3169126500,2450594539),-130,false),new extFloat.ptr(new $Uint64(2361183241,1867548876),-103,false),new extFloat.ptr(new $Uint64(3518437208,3793315116),-77,false),new extFloat.ptr(new $Uint64(2621440000,0),-50,false),new extFloat.ptr(new $Uint64(3906250000,0),-24,false),new extFloat.ptr(new $Uint64(2910383045,2892103680),3,false),new extFloat.ptr(new $Uint64(2168404344,4170451332),30,false),new extFloat.ptr(new $Uint64(3231174267,3372684723),56,false),new extFloat.ptr(new $Uint64(2407412430,2078956656),83,false),new extFloat.ptr(new $Uint64(3587324068,2884206696),109,false),new extFloat.ptr(new $Uint64(2672764710,395977285),136,false),new extFloat.ptr(new $Uint64(3982729777,3569679143),162,false),new extFloat.ptr(new $Uint64(2967364920,2361961896),189,false),new extFloat.ptr(new $Uint64(2210859150,447440347),216,false),new extFloat.ptr(new $Uint64(3294436857,1114709402),242,false),new extFloat.ptr(new $Uint64(2454546732,2786846552),269,false),new extFloat.ptr(new $Uint64(3657559652,443583978),295,false),new extFloat.ptr(new $Uint64(2725094297,2599384906),322,false),new extFloat.ptr(new $Uint64(4060706939,3028118405),348,false),new extFloat.ptr(new $Uint64(3025462433,2044532855),375,false),new extFloat.ptr(new $Uint64(2254145170,1536935362),402,false),new extFloat.ptr(new $Uint64(3358938053,3365297469),428,false),new extFloat.ptr(new $Uint64(2502603868,4204241075),455,false),new extFloat.ptr(new $Uint64(3729170365,2577424355),481,false),new extFloat.ptr(new $Uint64(2778448436,3677981733),508,false),new extFloat.ptr(new $Uint64(4140210802,2744688476),534,false),new extFloat.ptr(new $Uint64(3084697427,1424604878),561,false),new extFloat.ptr(new $Uint64(2298278679,4062331362),588,false),new extFloat.ptr(new $Uint64(3424702107,3546052773),614,false),new extFloat.ptr(new $Uint64(2551601907,2065781727),641,false),new extFloat.ptr(new $Uint64(3802183132,2535403578),667,false),new extFloat.ptr(new $Uint64(2832847187,1558426518),694,false),new extFloat.ptr(new $Uint64(4221271257,2762425404),720,false),new extFloat.ptr(new $Uint64(3145092172,2812560400),747,false),new extFloat.ptr(new $Uint64(2343276271,3057687578),774,false),new extFloat.ptr(new $Uint64(3491753744,2790753324),800,false),new extFloat.ptr(new $Uint64(2601559269,3918606633),827,false),new extFloat.ptr(new $Uint64(3876625403,2711358621),853,false),new extFloat.ptr(new $Uint64(2888311001,1648096297),880,false),new extFloat.ptr(new $Uint64(2151959390,2057817989),907,false),new extFloat.ptr(new $Uint64(3206669376,61660461),933,false),new extFloat.ptr(new $Uint64(2389154863,1581580175),960,false),new extFloat.ptr(new $Uint64(3560118173,2626467905),986,false),new extFloat.ptr(new $Uint64(2652494738,3034782633),1013,false),new extFloat.ptr(new $Uint64(3952525166,3135207385),1039,false),new extFloat.ptr(new $Uint64(2944860731,2616258155),1066,false)]);uint64pow10=$toNativeArray($kindUint64,[new $Uint64(0,1),new $Uint64(0,10),new $Uint64(0,100),new $Uint64(0,1000),new $Uint64(0,10000),new $Uint64(0,100000),new $Uint64(0,1000000),new $Uint64(0,10000000),new $Uint64(0,100000000),new $Uint64(0,1000000000),new $Uint64(2,1410065408),new $Uint64(23,1215752192),new $Uint64(232,3567587328),new $Uint64(2328,1316134912),new $Uint64(23283,276447232),new $Uint64(232830,2764472320),new $Uint64(2328306,1874919424),new $Uint64(23283064,1569325056),new $Uint64(232830643,2808348672),new $Uint64(2328306436,2313682944)]);float32info=new floatInfo.ptr(23,8,-127);float64info=new floatInfo.ptr(52,11,-1023);isPrint16=new sliceType$4([32,126,161,887,890,895,900,1366,1369,1418,1421,1479,1488,1514,1520,1524,1542,1563,1566,1805,1808,1866,1869,1969,1984,2042,2048,2093,2096,2139,2142,2154,2208,2237,2260,2444,2447,2448,2451,2482,2486,2489,2492,2500,2503,2504,2507,2510,2519,2519,2524,2531,2534,2557,2561,2570,2575,2576,2579,2617,2620,2626,2631,2632,2635,2637,2641,2641,2649,2654,2662,2677,2689,2745,2748,2765,2768,2768,2784,2787,2790,2801,2809,2828,2831,2832,2835,2873,2876,2884,2887,2888,2891,2893,2902,2903,2908,2915,2918,2935,2946,2954,2958,2965,2969,2975,2979,2980,2984,2986,2990,3001,3006,3010,3014,3021,3024,3024,3031,3031,3046,3066,3072,3129,3133,3149,3157,3162,3168,3171,3174,3183,3192,3257,3260,3277,3285,3286,3294,3299,3302,3314,3328,3407,3412,3427,3430,3455,3458,3478,3482,3517,3520,3526,3530,3530,3535,3551,3558,3567,3570,3572,3585,3642,3647,3675,3713,3716,3719,3722,3725,3725,3732,3751,3754,3773,3776,3789,3792,3801,3804,3807,3840,3948,3953,4058,4096,4295,4301,4301,4304,4685,4688,4701,4704,4749,4752,4789,4792,4805,4808,4885,4888,4954,4957,4988,4992,5017,5024,5109,5112,5117,5120,5788,5792,5880,5888,5908,5920,5942,5952,5971,5984,6003,6016,6109,6112,6121,6128,6137,6144,6157,6160,6169,6176,6263,6272,6314,6320,6389,6400,6443,6448,6459,6464,6464,6468,6509,6512,6516,6528,6571,6576,6601,6608,6618,6622,6683,6686,6780,6783,6793,6800,6809,6816,6829,6832,6846,6912,6987,6992,7036,7040,7155,7164,7223,7227,7241,7245,7304,7360,7367,7376,7417,7424,7957,7960,7965,7968,8005,8008,8013,8016,8061,8064,8147,8150,8175,8178,8190,8208,8231,8240,8286,8304,8305,8308,8348,8352,8383,8400,8432,8448,8587,8592,9254,9280,9290,9312,11123,11126,11157,11160,11193,11197,11218,11244,11247,11264,11507,11513,11559,11565,11565,11568,11623,11631,11632,11647,11670,11680,11849,11904,12019,12032,12245,12272,12283,12289,12438,12441,12543,12549,12590,12593,12730,12736,12771,12784,19893,19904,40938,40960,42124,42128,42182,42192,42539,42560,42743,42752,42935,42999,43051,43056,43065,43072,43127,43136,43205,43214,43225,43232,43261,43264,43347,43359,43388,43392,43481,43486,43574,43584,43597,43600,43609,43612,43714,43739,43766,43777,43782,43785,43790,43793,43798,43808,43877,43888,44013,44016,44025,44032,55203,55216,55238,55243,55291,63744,64109,64112,64217,64256,64262,64275,64279,64285,64449,64467,64831,64848,64911,64914,64967,65008,65021,65024,65049,65056,65131,65136,65276,65281,65470,65474,65479,65482,65487,65490,65495,65498,65500,65504,65518,65532,65533]);isNotPrint16=new sliceType$4([173,907,909,930,1328,1376,1416,1424,1757,2111,2143,2229,2274,2436,2473,2481,2526,2564,2601,2609,2612,2615,2621,2653,2692,2702,2706,2729,2737,2740,2758,2762,2816,2820,2857,2865,2868,2910,2948,2961,2971,2973,3017,3076,3085,3089,3113,3141,3145,3159,3204,3213,3217,3241,3252,3269,3273,3295,3312,3332,3341,3345,3397,3401,3460,3506,3516,3541,3543,3715,3721,3736,3744,3748,3750,3756,3770,3781,3783,3912,3992,4029,4045,4294,4681,4695,4697,4745,4785,4799,4801,4823,4881,5760,5901,5997,6001,6431,6751,7674,8024,8026,8028,8030,8117,8133,8156,8181,8335,11209,11311,11359,11558,11687,11695,11703,11711,11719,11727,11735,11743,11930,12352,12687,12831,13055,42927,43470,43519,43815,43823,64311,64317,64319,64322,64325,65107,65127,65141,65511]);isPrint32=new sliceType$5([65536,65613,65616,65629,65664,65786,65792,65794,65799,65843,65847,65947,65952,65952,66000,66045,66176,66204,66208,66256,66272,66299,66304,66339,66349,66378,66384,66426,66432,66499,66504,66517,66560,66717,66720,66729,66736,66771,66776,66811,66816,66855,66864,66915,66927,66927,67072,67382,67392,67413,67424,67431,67584,67589,67592,67640,67644,67644,67647,67742,67751,67759,67808,67829,67835,67867,67871,67897,67903,67903,67968,68023,68028,68047,68050,68102,68108,68147,68152,68154,68159,68167,68176,68184,68192,68255,68288,68326,68331,68342,68352,68405,68409,68437,68440,68466,68472,68497,68505,68508,68521,68527,68608,68680,68736,68786,68800,68850,68858,68863,69216,69246,69632,69709,69714,69743,69759,69825,69840,69864,69872,69881,69888,69955,69968,70006,70016,70093,70096,70132,70144,70206,70272,70313,70320,70378,70384,70393,70400,70412,70415,70416,70419,70457,70460,70468,70471,70472,70475,70477,70480,70480,70487,70487,70493,70499,70502,70508,70512,70516,70656,70749,70784,70855,70864,70873,71040,71093,71096,71133,71168,71236,71248,71257,71264,71276,71296,71351,71360,71369,71424,71449,71453,71467,71472,71487,71840,71922,71935,71935,72192,72263,72272,72323,72326,72354,72384,72440,72704,72773,72784,72812,72816,72847,72850,72886,72960,73014,73018,73031,73040,73049,73728,74649,74752,74868,74880,75075,77824,78894,82944,83526,92160,92728,92736,92777,92782,92783,92880,92909,92912,92917,92928,92997,93008,93047,93053,93071,93952,94020,94032,94078,94095,94111,94176,94177,94208,100332,100352,101106,110592,110878,110960,111355,113664,113770,113776,113788,113792,113800,113808,113817,113820,113823,118784,119029,119040,119078,119081,119154,119163,119272,119296,119365,119552,119638,119648,119665,119808,119967,119970,119970,119973,119974,119977,120074,120077,120134,120138,120485,120488,120779,120782,121483,121499,121519,122880,122904,122907,122922,124928,125124,125127,125142,125184,125258,125264,125273,125278,125279,126464,126500,126503,126523,126530,126530,126535,126548,126551,126564,126567,126619,126625,126651,126704,126705,126976,127019,127024,127123,127136,127150,127153,127221,127232,127244,127248,127339,127344,127404,127462,127490,127504,127547,127552,127560,127568,127569,127584,127589,127744,128724,128736,128748,128752,128760,128768,128883,128896,128980,129024,129035,129040,129095,129104,129113,129120,129159,129168,129197,129280,129291,129296,129356,129360,129387,129408,129431,129472,129472,129488,129510,131072,173782,173824,177972,177984,178205,178208,183969,183984,191456,194560,195101,917760,917999]);isNotPrint32=new sliceType$4([12,39,59,62,399,926,2057,2102,2134,2291,2564,2580,2584,4285,4405,4576,4626,4743,4745,4750,4766,4868,4905,4913,4916,5210,5212,6813,7177,7223,7336,7431,7434,7483,7486,9327,27231,27482,27490,54357,54429,54445,54458,54460,54468,54534,54549,54557,54586,54591,54597,54609,55968,57351,57378,57381,60932,60960,60963,60968,60979,60984,60986,61000,61002,61004,61008,61011,61016,61018,61020,61022,61024,61027,61035,61043,61048,61053,61055,61066,61092,61098,61632,61648,61743,63807]);isGraphic=new sliceType$4([160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288]);/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["internal/race"]=function(){var $pkg={},$init,Acquire,Release,ReleaseMerge,Disable,Enable,ReadRange,WriteRange;Acquire=function(addr){var addr;};$pkg.Acquire=Acquire;Release=function(addr){var addr;};$pkg.Release=Release;ReleaseMerge=function(addr){var addr;};$pkg.ReleaseMerge=ReleaseMerge;Disable=function(){};$pkg.Disable=Disable;Enable=function(){};$pkg.Enable=Enable;ReadRange=function(addr,len){var addr,len;};$pkg.ReadRange=ReadRange;WriteRange=function(addr,len){var addr,len;};$pkg.WriteRange=WriteRange;$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["sync/atomic"]=function(){var $pkg={},$init,js,Value,ptrType,CompareAndSwapInt32,CompareAndSwapUint64,AddInt32,LoadInt32,LoadUint64,StoreInt32,StoreUint32;js=$packages["github.com/gopherjs/gopherjs/js"];Value=$pkg.Value=$newType(0,$kindStruct,"atomic.Value",true,"sync/atomic",true,function(v_){this.$val=this;if(arguments.length===0){this.v=$ifaceNil;return;}this.v=v_;});ptrType=$ptrType(Value);CompareAndSwapInt32=function(addr,old,new$1){var addr,new$1,old;if(addr.$get()===old){addr.$set(new$1);return true;}return false;};$pkg.CompareAndSwapInt32=CompareAndSwapInt32;CompareAndSwapUint64=function(addr,old,new$1){var addr,new$1,old,x;if(x=addr.$get(),x.$high===old.$high&&x.$low===old.$low){addr.$set(new$1);return true;}return false;};$pkg.CompareAndSwapUint64=CompareAndSwapUint64;AddInt32=function(addr,delta){var addr,delta,new$1;new$1=addr.$get()+delta>>0;addr.$set(new$1);return new$1;};$pkg.AddInt32=AddInt32;LoadInt32=function(addr){var addr;return addr.$get();};$pkg.LoadInt32=LoadInt32;LoadUint64=function(addr){var addr;return addr.$get();};$pkg.LoadUint64=LoadUint64;StoreInt32=function(addr,val){var addr,val;addr.$set(val);};$pkg.StoreInt32=StoreInt32;StoreUint32=function(addr,val){var addr,val;addr.$set(val);};$pkg.StoreUint32=StoreUint32;Value.ptr.prototype.Load=function(){var v,x;x=$ifaceNil;v=this;x=v.v;return x;};Value.prototype.Load=function(){return this.$val.Load();};Value.ptr.prototype.Store=function(x){var v,x;v=this;if($interfaceIsEqual(x,$ifaceNil)){$panic(new $String("sync/atomic: store of nil value into Value"));}if(!$interfaceIsEqual(v.v,$ifaceNil)&&!(x.constructor===v.v.constructor)){$panic(new $String("sync/atomic: store of inconsistently typed value into Value"));}v.v=x;};Value.prototype.Store=function(x){return this.$val.Store(x);};ptrType.methods=[{prop:"Load",name:"Load",pkg:"",typ:$funcType([],[$emptyInterface],false)},{prop:"Store",name:"Store",pkg:"",typ:$funcType([$emptyInterface],[],false)}];Value.init("sync/atomic",[{prop:"v",name:"v",embedded:false,exported:false,typ:$emptyInterface,tag:""}]);$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=js.$init();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["sync"]=function(){var $pkg={},$init,js,race,runtime,atomic,Pool,Mutex,Locker,poolLocalInternal,poolLocal,notifyList,RWMutex,rlocker,ptrType,sliceType,ptrType$1,chanType,sliceType$1,ptrType$6,ptrType$7,sliceType$4,ptrType$8,ptrType$9,funcType,ptrType$16,arrayType$2,semWaiters,semAwoken,expunged,allPools,runtime_registerPoolCleanup,runtime_SemacquireMutex,runtime_Semrelease,runtime_notifyListCheck,runtime_canSpin,runtime_nanotime,throw$1,poolCleanup,init,indexLocal,init$1,runtime_doSpin;js=$packages["github.com/gopherjs/gopherjs/js"];race=$packages["internal/race"];runtime=$packages["runtime"];atomic=$packages["sync/atomic"];Pool=$pkg.Pool=$newType(0,$kindStruct,"sync.Pool",true,"sync",true,function(local_,localSize_,store_,New_){this.$val=this;if(arguments.length===0){this.local=0;this.localSize=0;this.store=sliceType$4.nil;this.New=$throwNilPointerError;return;}this.local=local_;this.localSize=localSize_;this.store=store_;this.New=New_;});Mutex=$pkg.Mutex=$newType(0,$kindStruct,"sync.Mutex",true,"sync",true,function(state_,sema_){this.$val=this;if(arguments.length===0){this.state=0;this.sema=0;return;}this.state=state_;this.sema=sema_;});Locker=$pkg.Locker=$newType(8,$kindInterface,"sync.Locker",true,"sync",true,null);poolLocalInternal=$pkg.poolLocalInternal=$newType(0,$kindStruct,"sync.poolLocalInternal",true,"sync",false,function(private$0_,shared_,Mutex_){this.$val=this;if(arguments.length===0){this.private$0=$ifaceNil;this.shared=sliceType$4.nil;this.Mutex=new Mutex.ptr(0,0);return;}this.private$0=private$0_;this.shared=shared_;this.Mutex=Mutex_;});poolLocal=$pkg.poolLocal=$newType(0,$kindStruct,"sync.poolLocal",true,"sync",false,function(poolLocalInternal_,pad_){this.$val=this;if(arguments.length===0){this.poolLocalInternal=new poolLocalInternal.ptr($ifaceNil,sliceType$4.nil,new Mutex.ptr(0,0));this.pad=arrayType$2.zero();return;}this.poolLocalInternal=poolLocalInternal_;this.pad=pad_;});notifyList=$pkg.notifyList=$newType(0,$kindStruct,"sync.notifyList",true,"sync",false,function(wait_,notify_,lock_,head_,tail_){this.$val=this;if(arguments.length===0){this.wait=0;this.notify=0;this.lock=0;this.head=0;this.tail=0;return;}this.wait=wait_;this.notify=notify_;this.lock=lock_;this.head=head_;this.tail=tail_;});RWMutex=$pkg.RWMutex=$newType(0,$kindStruct,"sync.RWMutex",true,"sync",true,function(w_,writerSem_,readerSem_,readerCount_,readerWait_){this.$val=this;if(arguments.length===0){this.w=new Mutex.ptr(0,0);this.writerSem=0;this.readerSem=0;this.readerCount=0;this.readerWait=0;return;}this.w=w_;this.writerSem=writerSem_;this.readerSem=readerSem_;this.readerCount=readerCount_;this.readerWait=readerWait_;});rlocker=$pkg.rlocker=$newType(0,$kindStruct,"sync.rlocker",true,"sync",false,function(w_,writerSem_,readerSem_,readerCount_,readerWait_){this.$val=this;if(arguments.length===0){this.w=new Mutex.ptr(0,0);this.writerSem=0;this.readerSem=0;this.readerCount=0;this.readerWait=0;return;}this.w=w_;this.writerSem=writerSem_;this.readerSem=readerSem_;this.readerCount=readerCount_;this.readerWait=readerWait_;});ptrType=$ptrType(Pool);sliceType=$sliceType(ptrType);ptrType$1=$ptrType($Uint32);chanType=$chanType($Bool,false,false);sliceType$1=$sliceType(chanType);ptrType$6=$ptrType($Int32);ptrType$7=$ptrType(poolLocal);sliceType$4=$sliceType($emptyInterface);ptrType$8=$ptrType(rlocker);ptrType$9=$ptrType(RWMutex);funcType=$funcType([],[$emptyInterface],false);ptrType$16=$ptrType(Mutex);arrayType$2=$arrayType($Uint8,100);Pool.ptr.prototype.Get=function(){var _r,p,x,x$1,x$2,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;p=$f.p;x=$f.x;x$1=$f.x$1;x$2=$f.x$2;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:p=this;/* */if(p.store.$length===0){$s=1;continue;}/* */$s=2;continue;/* if (p.store.$length === 0) { */case 1:/* */if(!(p.New===$throwNilPointerError)){$s=3;continue;}/* */$s=4;continue;/* if (!(p.New === $throwNilPointerError)) { */case 3:_r=p.New();/* */$s=5;case 5:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r;/* } */case 4:$s=-1;return $ifaceNil;/* } */case 2:x$2=(x=p.store,x$1=p.store.$length-1>>0,x$1<0||x$1>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+x$1]);p.store=$subslice(p.store,0,p.store.$length-1>>0);$s=-1;return x$2;/* */}return;}if($f===undefined){$f={$blk:Pool.ptr.prototype.Get};}$f._r=_r;$f.p=p;$f.x=x;$f.x$1=x$1;$f.x$2=x$2;$f.$s=$s;$f.$r=$r;return $f;};Pool.prototype.Get=function(){return this.$val.Get();};Pool.ptr.prototype.Put=function(x){var p,x;p=this;if($interfaceIsEqual(x,$ifaceNil)){return;}p.store=$append(p.store,x);};Pool.prototype.Put=function(x){return this.$val.Put(x);};runtime_registerPoolCleanup=function(cleanup){var cleanup;};runtime_SemacquireMutex=function(s,lifo){var _entry,_entry$1,_entry$2,_entry$3,_entry$4,_key,_key$1,_key$2,_r,ch,lifo,s,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_entry$1=$f._entry$1;_entry$2=$f._entry$2;_entry$3=$f._entry$3;_entry$4=$f._entry$4;_key=$f._key;_key$1=$f._key$1;_key$2=$f._key$2;_r=$f._r;ch=$f.ch;lifo=$f.lifo;s=$f.s;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:/* */if(s.$get()-(_entry=semAwoken[ptrType$1.keyFor(s)],_entry!==undefined?_entry.v:0)>>>0===0){$s=1;continue;}/* */$s=2;continue;/* if (((s.$get() - (_entry = semAwoken[ptrType$1.keyFor(s)], _entry !== undefined ? _entry.v : 0) >>> 0)) === 0) { */case 1:ch=new $Chan($Bool,0);if(lifo){_key=s;(semWaiters||$throwRuntimeError("assignment to entry in nil map"))[ptrType$1.keyFor(_key)]={k:_key,v:$appendSlice(new sliceType$1([ch]),(_entry$1=semWaiters[ptrType$1.keyFor(s)],_entry$1!==undefined?_entry$1.v:sliceType$1.nil))};}else{_key$1=s;(semWaiters||$throwRuntimeError("assignment to entry in nil map"))[ptrType$1.keyFor(_key$1)]={k:_key$1,v:$append((_entry$2=semWaiters[ptrType$1.keyFor(s)],_entry$2!==undefined?_entry$2.v:sliceType$1.nil),ch)};}_r=$recv(ch);/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_r[0];_key$2=s;(semAwoken||$throwRuntimeError("assignment to entry in nil map"))[ptrType$1.keyFor(_key$2)]={k:_key$2,v:(_entry$3=semAwoken[ptrType$1.keyFor(s)],_entry$3!==undefined?_entry$3.v:0)-1>>>0};if((_entry$4=semAwoken[ptrType$1.keyFor(s)],_entry$4!==undefined?_entry$4.v:0)===0){delete semAwoken[ptrType$1.keyFor(s)];}/* } */case 2:s.$set(s.$get()-1>>>0);$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:runtime_SemacquireMutex};}$f._entry=_entry;$f._entry$1=_entry$1;$f._entry$2=_entry$2;$f._entry$3=_entry$3;$f._entry$4=_entry$4;$f._key=_key;$f._key$1=_key$1;$f._key$2=_key$2;$f._r=_r;$f.ch=ch;$f.lifo=lifo;$f.s=s;$f.$s=$s;$f.$r=$r;return $f;};runtime_Semrelease=function(s,handoff){var _entry,_entry$1,_key,_key$1,ch,handoff,s,w,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_entry$1=$f._entry$1;_key=$f._key;_key$1=$f._key$1;ch=$f.ch;handoff=$f.handoff;s=$f.s;w=$f.w;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:s.$set(s.$get()+1>>>0);w=(_entry=semWaiters[ptrType$1.keyFor(s)],_entry!==undefined?_entry.v:sliceType$1.nil);if(w.$length===0){$s=-1;return;}ch=0>=w.$length?($throwRuntimeError("index out of range"),undefined):w.$array[w.$offset+0];w=$subslice(w,1);_key=s;(semWaiters||$throwRuntimeError("assignment to entry in nil map"))[ptrType$1.keyFor(_key)]={k:_key,v:w};if(w.$length===0){delete semWaiters[ptrType$1.keyFor(s)];}_key$1=s;(semAwoken||$throwRuntimeError("assignment to entry in nil map"))[ptrType$1.keyFor(_key$1)]={k:_key$1,v:(_entry$1=semAwoken[ptrType$1.keyFor(s)],_entry$1!==undefined?_entry$1.v:0)+1>>>0};$r=$send(ch,true);/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:runtime_Semrelease};}$f._entry=_entry;$f._entry$1=_entry$1;$f._key=_key;$f._key$1=_key$1;$f.ch=ch;$f.handoff=handoff;$f.s=s;$f.w=w;$f.$s=$s;$f.$r=$r;return $f;};runtime_notifyListCheck=function(size){var size;};runtime_canSpin=function(i){var i;return false;};runtime_nanotime=function(){return $mul64($internalize(new $global.Date().getTime(),$Int64),new $Int64(0,1000000));};throw$1=function(s){var s;$throwRuntimeError($externalize(s,$String));};Mutex.ptr.prototype.Lock=function(){var awoke,delta,iter,m,new$1,old,queueLifo,starving,waitStartTime,x,x$1,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;awoke=$f.awoke;delta=$f.delta;iter=$f.iter;m=$f.m;new$1=$f.new$1;old=$f.old;queueLifo=$f.queueLifo;starving=$f.starving;waitStartTime=$f.waitStartTime;x=$f.x;x$1=$f.x$1;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:m=this;if(atomic.CompareAndSwapInt32(m.$ptr_state||(m.$ptr_state=new ptrType$6(function(){return this.$target.state;},function($v){this.$target.state=$v;},m)),0,1)){if(false){race.Acquire(m);}$s=-1;return;}waitStartTime=new $Int64(0,0);starving=false;awoke=false;iter=0;old=m.state;/* while (true) { */case 1:/* */if((old&5)===1&&runtime_canSpin(iter)){$s=3;continue;}/* */$s=4;continue;/* if (((old & 5) === 1) && runtime_canSpin(iter)) { */case 3:if(!awoke&&(old&2)===0&&!(old>>3>>0===0)&&atomic.CompareAndSwapInt32(m.$ptr_state||(m.$ptr_state=new ptrType$6(function(){return this.$target.state;},function($v){this.$target.state=$v;},m)),old,old|2)){awoke=true;}runtime_doSpin();iter=iter+1>>0;old=m.state;/* continue; */$s=1;continue;/* } */case 4:new$1=old;if((old&4)===0){new$1=new$1|1;}if(!((old&5)===0)){new$1=new$1+8>>0;}if(starving&&!((old&1)===0)){new$1=new$1|4;}if(awoke){if((new$1&2)===0){throw$1("sync: inconsistent mutex state");}new$1=(new$1&~2)>>0;}/* */if(atomic.CompareAndSwapInt32(m.$ptr_state||(m.$ptr_state=new ptrType$6(function(){return this.$target.state;},function($v){this.$target.state=$v;},m)),old,new$1)){$s=5;continue;}/* */$s=6;continue;/* if (atomic.CompareAndSwapInt32((m.$ptr_state || (m.$ptr_state = new ptrType$6(function() { return this.$target.state; }, function($v) { this.$target.state = $v; }, m))), old, new$1)) { */case 5:if((old&5)===0){/* break; */$s=2;continue;}queueLifo=!(waitStartTime.$high===0&&waitStartTime.$low===0);if(waitStartTime.$high===0&&waitStartTime.$low===0){waitStartTime=runtime_nanotime();}$r=runtime_SemacquireMutex(m.$ptr_sema||(m.$ptr_sema=new ptrType$1(function(){return this.$target.sema;},function($v){this.$target.sema=$v;},m)),queueLifo);/* */$s=8;case 8:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}starving=starving||(x=(x$1=runtime_nanotime(),new $Int64(x$1.$high-waitStartTime.$high,x$1.$low-waitStartTime.$low)),x.$high>0||x.$high===0&&x.$low>1000000);old=m.state;if(!((old&4)===0)){if(!((old&3)===0)||old>>3>>0===0){throw$1("sync: inconsistent mutex state");}delta=-7;if(!starving||old>>3>>0===1){delta=delta-4>>0;}atomic.AddInt32(m.$ptr_state||(m.$ptr_state=new ptrType$6(function(){return this.$target.state;},function($v){this.$target.state=$v;},m)),delta);/* break; */$s=2;continue;}awoke=true;iter=0;$s=7;continue;/* } else { */case 6:old=m.state;/* } */case 7:/* } */$s=1;continue;case 2:if(false){race.Acquire(m);}$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:Mutex.ptr.prototype.Lock};}$f.awoke=awoke;$f.delta=delta;$f.iter=iter;$f.m=m;$f.new$1=new$1;$f.old=old;$f.queueLifo=queueLifo;$f.starving=starving;$f.waitStartTime=waitStartTime;$f.x=x;$f.x$1=x$1;$f.$s=$s;$f.$r=$r;return $f;};Mutex.prototype.Lock=function(){return this.$val.Lock();};Mutex.ptr.prototype.Unlock=function(){var m,new$1,old,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;m=$f.m;new$1=$f.new$1;old=$f.old;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:m=this;if(false){$unused(m.state);race.Release(m);}new$1=atomic.AddInt32(m.$ptr_state||(m.$ptr_state=new ptrType$6(function(){return this.$target.state;},function($v){this.$target.state=$v;},m)),-1);if((new$1+1>>0&1)===0){throw$1("sync: unlock of unlocked mutex");}/* */if((new$1&4)===0){$s=1;continue;}/* */$s=2;continue;/* if ((new$1 & 4) === 0) { */case 1:old=new$1;/* while (true) { */case 4:if(old>>3>>0===0||!((old&7)===0)){$s=-1;return;}new$1=old-8>>0|2;/* */if(atomic.CompareAndSwapInt32(m.$ptr_state||(m.$ptr_state=new ptrType$6(function(){return this.$target.state;},function($v){this.$target.state=$v;},m)),old,new$1)){$s=6;continue;}/* */$s=7;continue;/* if (atomic.CompareAndSwapInt32((m.$ptr_state || (m.$ptr_state = new ptrType$6(function() { return this.$target.state; }, function($v) { this.$target.state = $v; }, m))), old, new$1)) { */case 6:$r=runtime_Semrelease(m.$ptr_sema||(m.$ptr_sema=new ptrType$1(function(){return this.$target.sema;},function($v){this.$target.sema=$v;},m)),false);/* */$s=8;case 8:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return;/* } */case 7:old=m.state;/* } */$s=4;continue;case 5:$s=3;continue;/* } else { */case 2:$r=runtime_Semrelease(m.$ptr_sema||(m.$ptr_sema=new ptrType$1(function(){return this.$target.sema;},function($v){this.$target.sema=$v;},m)),true);/* */$s=9;case 9:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 3:$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:Mutex.ptr.prototype.Unlock};}$f.m=m;$f.new$1=new$1;$f.old=old;$f.$s=$s;$f.$r=$r;return $f;};Mutex.prototype.Unlock=function(){return this.$val.Unlock();};poolCleanup=function(){var _i,_i$1,_ref,_ref$1,i,i$1,j,l,p,x;_ref=allPools;_i=0;while(true){if(!(_i<_ref.$length)){break;}i=_i;p=_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i];i<0||i>=allPools.$length?($throwRuntimeError("index out of range"),undefined):allPools.$array[allPools.$offset+i]=ptrType.nil;i$1=0;while(true){if(!(i$1<p.localSize>>0)){break;}l=indexLocal(p.local,i$1);l.poolLocalInternal.private$0=$ifaceNil;_ref$1=l.poolLocalInternal.shared;_i$1=0;while(true){if(!(_i$1<_ref$1.$length)){break;}j=_i$1;x=l.poolLocalInternal.shared,j<0||j>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+j]=$ifaceNil;_i$1++;}l.poolLocalInternal.shared=sliceType$4.nil;i$1=i$1+1>>0;}p.local=0;p.localSize=0;_i++;}allPools=new sliceType([]);};init=function(){runtime_registerPoolCleanup(poolCleanup);};indexLocal=function(l,i){var i,l,lp;lp=l+($imul(i>>>0,128)>>>0)>>>0;return $pointerOfStructConversion(lp,ptrType$7);};init$1=function(){var n;n=new notifyList.ptr(0,0,0,0,0);runtime_notifyListCheck(20);};runtime_doSpin=function(){$throwRuntimeError("native function not implemented: sync.runtime_doSpin");};RWMutex.ptr.prototype.RLock=function(){var rw,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;rw=$f.rw;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:rw=this;if(false){$unused(rw.w.state);race.Disable();}/* */if(atomic.AddInt32(rw.$ptr_readerCount||(rw.$ptr_readerCount=new ptrType$6(function(){return this.$target.readerCount;},function($v){this.$target.readerCount=$v;},rw)),1)<0){$s=1;continue;}/* */$s=2;continue;/* if (atomic.AddInt32((rw.$ptr_readerCount || (rw.$ptr_readerCount = new ptrType$6(function() { return this.$target.readerCount; }, function($v) { this.$target.readerCount = $v; }, rw))), 1) < 0) { */case 1:$r=runtime_SemacquireMutex(rw.$ptr_readerSem||(rw.$ptr_readerSem=new ptrType$1(function(){return this.$target.readerSem;},function($v){this.$target.readerSem=$v;},rw)),false);/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 2:if(false){race.Enable();race.Acquire(rw.$ptr_readerSem||(rw.$ptr_readerSem=new ptrType$1(function(){return this.$target.readerSem;},function($v){this.$target.readerSem=$v;},rw)));}$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:RWMutex.ptr.prototype.RLock};}$f.rw=rw;$f.$s=$s;$f.$r=$r;return $f;};RWMutex.prototype.RLock=function(){return this.$val.RLock();};RWMutex.ptr.prototype.RUnlock=function(){var r,rw,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;r=$f.r;rw=$f.rw;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:rw=this;if(false){$unused(rw.w.state);race.ReleaseMerge(rw.$ptr_writerSem||(rw.$ptr_writerSem=new ptrType$1(function(){return this.$target.writerSem;},function($v){this.$target.writerSem=$v;},rw)));race.Disable();}r=atomic.AddInt32(rw.$ptr_readerCount||(rw.$ptr_readerCount=new ptrType$6(function(){return this.$target.readerCount;},function($v){this.$target.readerCount=$v;},rw)),-1);/* */if(r<0){$s=1;continue;}/* */$s=2;continue;/* if (r < 0) { */case 1:if(r+1>>0===0||r+1>>0===-1073741824){race.Enable();throw$1("sync: RUnlock of unlocked RWMutex");}/* */if(atomic.AddInt32(rw.$ptr_readerWait||(rw.$ptr_readerWait=new ptrType$6(function(){return this.$target.readerWait;},function($v){this.$target.readerWait=$v;},rw)),-1)===0){$s=3;continue;}/* */$s=4;continue;/* if (atomic.AddInt32((rw.$ptr_readerWait || (rw.$ptr_readerWait = new ptrType$6(function() { return this.$target.readerWait; }, function($v) { this.$target.readerWait = $v; }, rw))), -1) === 0) { */case 3:$r=runtime_Semrelease(rw.$ptr_writerSem||(rw.$ptr_writerSem=new ptrType$1(function(){return this.$target.writerSem;},function($v){this.$target.writerSem=$v;},rw)),false);/* */$s=5;case 5:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 4:/* } */case 2:if(false){race.Enable();}$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:RWMutex.ptr.prototype.RUnlock};}$f.r=r;$f.rw=rw;$f.$s=$s;$f.$r=$r;return $f;};RWMutex.prototype.RUnlock=function(){return this.$val.RUnlock();};RWMutex.ptr.prototype.Lock=function(){var r,rw,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;r=$f.r;rw=$f.rw;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:rw=this;if(false){$unused(rw.w.state);race.Disable();}$r=rw.w.Lock();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}r=atomic.AddInt32(rw.$ptr_readerCount||(rw.$ptr_readerCount=new ptrType$6(function(){return this.$target.readerCount;},function($v){this.$target.readerCount=$v;},rw)),-1073741824)+1073741824>>0;/* */if(!(r===0)&&!(atomic.AddInt32(rw.$ptr_readerWait||(rw.$ptr_readerWait=new ptrType$6(function(){return this.$target.readerWait;},function($v){this.$target.readerWait=$v;},rw)),r)===0)){$s=2;continue;}/* */$s=3;continue;/* if (!((r === 0)) && !((atomic.AddInt32((rw.$ptr_readerWait || (rw.$ptr_readerWait = new ptrType$6(function() { return this.$target.readerWait; }, function($v) { this.$target.readerWait = $v; }, rw))), r) === 0))) { */case 2:$r=runtime_SemacquireMutex(rw.$ptr_writerSem||(rw.$ptr_writerSem=new ptrType$1(function(){return this.$target.writerSem;},function($v){this.$target.writerSem=$v;},rw)),false);/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 3:if(false){race.Enable();race.Acquire(rw.$ptr_readerSem||(rw.$ptr_readerSem=new ptrType$1(function(){return this.$target.readerSem;},function($v){this.$target.readerSem=$v;},rw)));race.Acquire(rw.$ptr_writerSem||(rw.$ptr_writerSem=new ptrType$1(function(){return this.$target.writerSem;},function($v){this.$target.writerSem=$v;},rw)));}$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:RWMutex.ptr.prototype.Lock};}$f.r=r;$f.rw=rw;$f.$s=$s;$f.$r=$r;return $f;};RWMutex.prototype.Lock=function(){return this.$val.Lock();};RWMutex.ptr.prototype.Unlock=function(){var i,r,rw,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;i=$f.i;r=$f.r;rw=$f.rw;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:rw=this;if(false){$unused(rw.w.state);race.Release(rw.$ptr_readerSem||(rw.$ptr_readerSem=new ptrType$1(function(){return this.$target.readerSem;},function($v){this.$target.readerSem=$v;},rw)));race.Disable();}r=atomic.AddInt32(rw.$ptr_readerCount||(rw.$ptr_readerCount=new ptrType$6(function(){return this.$target.readerCount;},function($v){this.$target.readerCount=$v;},rw)),1073741824);if(r>=1073741824){race.Enable();throw$1("sync: Unlock of unlocked RWMutex");}i=0;/* while (true) { */case 1:/* if (!(i < ((r >> 0)))) { break; } */if(!(i<r>>0)){$s=2;continue;}$r=runtime_Semrelease(rw.$ptr_readerSem||(rw.$ptr_readerSem=new ptrType$1(function(){return this.$target.readerSem;},function($v){this.$target.readerSem=$v;},rw)),false);/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}i=i+1>>0;/* } */$s=1;continue;case 2:$r=rw.w.Unlock();/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}if(false){race.Enable();}$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:RWMutex.ptr.prototype.Unlock};}$f.i=i;$f.r=r;$f.rw=rw;$f.$s=$s;$f.$r=$r;return $f;};RWMutex.prototype.Unlock=function(){return this.$val.Unlock();};RWMutex.ptr.prototype.RLocker=function(){var rw;rw=this;return $pointerOfStructConversion(rw,ptrType$8);};RWMutex.prototype.RLocker=function(){return this.$val.RLocker();};rlocker.ptr.prototype.Lock=function(){var r,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;r=$f.r;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:r=this;$r=$pointerOfStructConversion(r,ptrType$9).RLock();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:rlocker.ptr.prototype.Lock};}$f.r=r;$f.$s=$s;$f.$r=$r;return $f;};rlocker.prototype.Lock=function(){return this.$val.Lock();};rlocker.ptr.prototype.Unlock=function(){var r,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;r=$f.r;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:r=this;$r=$pointerOfStructConversion(r,ptrType$9).RUnlock();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:rlocker.ptr.prototype.Unlock};}$f.r=r;$f.$s=$s;$f.$r=$r;return $f;};rlocker.prototype.Unlock=function(){return this.$val.Unlock();};ptrType.methods=[{prop:"Get",name:"Get",pkg:"",typ:$funcType([],[$emptyInterface],false)},{prop:"Put",name:"Put",pkg:"",typ:$funcType([$emptyInterface],[],false)},{prop:"getSlow",name:"getSlow",pkg:"sync",typ:$funcType([],[$emptyInterface],false)},{prop:"pin",name:"pin",pkg:"sync",typ:$funcType([],[ptrType$7],false)},{prop:"pinSlow",name:"pinSlow",pkg:"sync",typ:$funcType([],[ptrType$7],false)}];ptrType$16.methods=[{prop:"Lock",name:"Lock",pkg:"",typ:$funcType([],[],false)},{prop:"Unlock",name:"Unlock",pkg:"",typ:$funcType([],[],false)}];ptrType$9.methods=[{prop:"RLock",name:"RLock",pkg:"",typ:$funcType([],[],false)},{prop:"RUnlock",name:"RUnlock",pkg:"",typ:$funcType([],[],false)},{prop:"Lock",name:"Lock",pkg:"",typ:$funcType([],[],false)},{prop:"Unlock",name:"Unlock",pkg:"",typ:$funcType([],[],false)},{prop:"RLocker",name:"RLocker",pkg:"",typ:$funcType([],[Locker],false)}];ptrType$8.methods=[{prop:"Lock",name:"Lock",pkg:"",typ:$funcType([],[],false)},{prop:"Unlock",name:"Unlock",pkg:"",typ:$funcType([],[],false)}];Pool.init("sync",[{prop:"local",name:"local",embedded:false,exported:false,typ:$UnsafePointer,tag:""},{prop:"localSize",name:"localSize",embedded:false,exported:false,typ:$Uintptr,tag:""},{prop:"store",name:"store",embedded:false,exported:false,typ:sliceType$4,tag:""},{prop:"New",name:"New",embedded:false,exported:true,typ:funcType,tag:""}]);Mutex.init("sync",[{prop:"state",name:"state",embedded:false,exported:false,typ:$Int32,tag:""},{prop:"sema",name:"sema",embedded:false,exported:false,typ:$Uint32,tag:""}]);Locker.init([{prop:"Lock",name:"Lock",pkg:"",typ:$funcType([],[],false)},{prop:"Unlock",name:"Unlock",pkg:"",typ:$funcType([],[],false)}]);poolLocalInternal.init("sync",[{prop:"private$0",name:"private",embedded:false,exported:false,typ:$emptyInterface,tag:""},{prop:"shared",name:"shared",embedded:false,exported:false,typ:sliceType$4,tag:""},{prop:"Mutex",name:"Mutex",embedded:true,exported:true,typ:Mutex,tag:""}]);poolLocal.init("sync",[{prop:"poolLocalInternal",name:"poolLocalInternal",embedded:true,exported:false,typ:poolLocalInternal,tag:""},{prop:"pad",name:"pad",embedded:false,exported:false,typ:arrayType$2,tag:""}]);notifyList.init("sync",[{prop:"wait",name:"wait",embedded:false,exported:false,typ:$Uint32,tag:""},{prop:"notify",name:"notify",embedded:false,exported:false,typ:$Uint32,tag:""},{prop:"lock",name:"lock",embedded:false,exported:false,typ:$Uintptr,tag:""},{prop:"head",name:"head",embedded:false,exported:false,typ:$UnsafePointer,tag:""},{prop:"tail",name:"tail",embedded:false,exported:false,typ:$UnsafePointer,tag:""}]);RWMutex.init("sync",[{prop:"w",name:"w",embedded:false,exported:false,typ:Mutex,tag:""},{prop:"writerSem",name:"writerSem",embedded:false,exported:false,typ:$Uint32,tag:""},{prop:"readerSem",name:"readerSem",embedded:false,exported:false,typ:$Uint32,tag:""},{prop:"readerCount",name:"readerCount",embedded:false,exported:false,typ:$Int32,tag:""},{prop:"readerWait",name:"readerWait",embedded:false,exported:false,typ:$Int32,tag:""}]);rlocker.init("sync",[{prop:"w",name:"w",embedded:false,exported:false,typ:Mutex,tag:""},{prop:"writerSem",name:"writerSem",embedded:false,exported:false,typ:$Uint32,tag:""},{prop:"readerSem",name:"readerSem",embedded:false,exported:false,typ:$Uint32,tag:""},{prop:"readerCount",name:"readerCount",embedded:false,exported:false,typ:$Int32,tag:""},{prop:"readerWait",name:"readerWait",embedded:false,exported:false,typ:$Int32,tag:""}]);$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=js.$init();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=race.$init();/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=runtime.$init();/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=atomic.$init();/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}allPools=sliceType.nil;semWaiters={};semAwoken={};expunged=new Uint8Array(8);init();init$1();/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["unicode"]=function(){var $pkg={},$init,RangeTable,Range16,Range32,CaseRange,d,foldPair,arrayType,sliceType,sliceType$1,sliceType$3,sliceType$4,_L,_Nd,_CaseRanges,properties,asciiFold,caseOrbit,to,IsDigit,IsLetter,is16,is32,isExcludingLatin,To,ToUpper,ToLower,SimpleFold;RangeTable=$pkg.RangeTable=$newType(0,$kindStruct,"unicode.RangeTable",true,"unicode",true,function(R16_,R32_,LatinOffset_){this.$val=this;if(arguments.length===0){this.R16=sliceType.nil;this.R32=sliceType$1.nil;this.LatinOffset=0;return;}this.R16=R16_;this.R32=R32_;this.LatinOffset=LatinOffset_;});Range16=$pkg.Range16=$newType(0,$kindStruct,"unicode.Range16",true,"unicode",true,function(Lo_,Hi_,Stride_){this.$val=this;if(arguments.length===0){this.Lo=0;this.Hi=0;this.Stride=0;return;}this.Lo=Lo_;this.Hi=Hi_;this.Stride=Stride_;});Range32=$pkg.Range32=$newType(0,$kindStruct,"unicode.Range32",true,"unicode",true,function(Lo_,Hi_,Stride_){this.$val=this;if(arguments.length===0){this.Lo=0;this.Hi=0;this.Stride=0;return;}this.Lo=Lo_;this.Hi=Hi_;this.Stride=Stride_;});CaseRange=$pkg.CaseRange=$newType(0,$kindStruct,"unicode.CaseRange",true,"unicode",true,function(Lo_,Hi_,Delta_){this.$val=this;if(arguments.length===0){this.Lo=0;this.Hi=0;this.Delta=arrayType.zero();return;}this.Lo=Lo_;this.Hi=Hi_;this.Delta=Delta_;});d=$pkg.d=$newType(12,$kindArray,"unicode.d",true,"unicode",false,null);foldPair=$pkg.foldPair=$newType(0,$kindStruct,"unicode.foldPair",true,"unicode",false,function(From_,To_){this.$val=this;if(arguments.length===0){this.From=0;this.To=0;return;}this.From=From_;this.To=To_;});arrayType=$arrayType($Int32,3);sliceType=$sliceType(Range16);sliceType$1=$sliceType(Range32);sliceType$3=$sliceType(CaseRange);sliceType$4=$sliceType(foldPair);to=function(_case,r,caseRange){var _case,_q,_tmp,_tmp$1,_tmp$2,_tmp$3,_tmp$4,_tmp$5,_tmp$6,_tmp$7,caseRange,cr,delta,foundMapping,hi,lo,m,mappedRune,r,x;mappedRune=0;foundMapping=false;if(_case<0||3<=_case){_tmp=65533;_tmp$1=false;mappedRune=_tmp;foundMapping=_tmp$1;return[mappedRune,foundMapping];}lo=0;hi=caseRange.$length;while(true){if(!(lo<hi)){break;}m=lo+(_q=(hi-lo>>0)/2,_q===_q&&_q!==1/0&&_q!==-1/0?_q>>0:$throwRuntimeError("integer divide by zero"))>>0;cr=m<0||m>=caseRange.$length?($throwRuntimeError("index out of range"),undefined):caseRange.$array[caseRange.$offset+m];if(cr.Lo>>0<=r&&r<=cr.Hi>>0){delta=(x=cr.Delta,_case<0||_case>=x.length?($throwRuntimeError("index out of range"),undefined):x[_case]);if(delta>1114111){_tmp$2=(cr.Lo>>0)+((r-(cr.Lo>>0)>>0&~1)>>0|(_case&1)>>0)>>0;_tmp$3=true;mappedRune=_tmp$2;foundMapping=_tmp$3;return[mappedRune,foundMapping];}_tmp$4=r+delta>>0;_tmp$5=true;mappedRune=_tmp$4;foundMapping=_tmp$5;return[mappedRune,foundMapping];}if(r<cr.Lo>>0){hi=m;}else{lo=m+1>>0;}}_tmp$6=r;_tmp$7=false;mappedRune=_tmp$6;foundMapping=_tmp$7;return[mappedRune,foundMapping];};IsDigit=function(r){var r;if(r<=255){return 48<=r&&r<=57;}return isExcludingLatin($pkg.Digit,r);};$pkg.IsDigit=IsDigit;IsLetter=function(r){var r,x;if(r>>>0<=255){return!(((x=r<<24>>>24,x<0||x>=properties.length?($throwRuntimeError("index out of range"),undefined):properties[x])&96)>>>0===0);}return isExcludingLatin($pkg.Letter,r);};$pkg.IsLetter=IsLetter;is16=function(ranges,r){var _i,_q,_r,_r$1,_ref,hi,i,lo,m,r,range_,range_$1,ranges;if(ranges.$length<=18||r<=255){_ref=ranges;_i=0;while(true){if(!(_i<_ref.$length)){break;}i=_i;range_=i<0||i>=ranges.$length?($throwRuntimeError("index out of range"),undefined):ranges.$array[ranges.$offset+i];if(r<range_.Lo){return false;}if(r<=range_.Hi){return range_.Stride===1||(_r=(r-range_.Lo<<16>>>16)%range_.Stride,_r===_r?_r:$throwRuntimeError("integer divide by zero"))===0;}_i++;}return false;}lo=0;hi=ranges.$length;while(true){if(!(lo<hi)){break;}m=lo+(_q=(hi-lo>>0)/2,_q===_q&&_q!==1/0&&_q!==-1/0?_q>>0:$throwRuntimeError("integer divide by zero"))>>0;range_$1=m<0||m>=ranges.$length?($throwRuntimeError("index out of range"),undefined):ranges.$array[ranges.$offset+m];if(range_$1.Lo<=r&&r<=range_$1.Hi){return range_$1.Stride===1||(_r$1=(r-range_$1.Lo<<16>>>16)%range_$1.Stride,_r$1===_r$1?_r$1:$throwRuntimeError("integer divide by zero"))===0;}if(r<range_$1.Lo){hi=m;}else{lo=m+1>>0;}}return false;};is32=function(ranges,r){var _i,_q,_r,_r$1,_ref,hi,i,lo,m,r,range_,range_$1,ranges;if(ranges.$length<=18){_ref=ranges;_i=0;while(true){if(!(_i<_ref.$length)){break;}i=_i;range_=i<0||i>=ranges.$length?($throwRuntimeError("index out of range"),undefined):ranges.$array[ranges.$offset+i];if(r<range_.Lo){return false;}if(r<=range_.Hi){return range_.Stride===1||(_r=(r-range_.Lo>>>0)%range_.Stride,_r===_r?_r:$throwRuntimeError("integer divide by zero"))===0;}_i++;}return false;}lo=0;hi=ranges.$length;while(true){if(!(lo<hi)){break;}m=lo+(_q=(hi-lo>>0)/2,_q===_q&&_q!==1/0&&_q!==-1/0?_q>>0:$throwRuntimeError("integer divide by zero"))>>0;range_$1=$clone(m<0||m>=ranges.$length?($throwRuntimeError("index out of range"),undefined):ranges.$array[ranges.$offset+m],Range32);if(range_$1.Lo<=r&&r<=range_$1.Hi){return range_$1.Stride===1||(_r$1=(r-range_$1.Lo>>>0)%range_$1.Stride,_r$1===_r$1?_r$1:$throwRuntimeError("integer divide by zero"))===0;}if(r<range_$1.Lo){hi=m;}else{lo=m+1>>0;}}return false;};isExcludingLatin=function(rangeTab,r){var off,r,r16,r32,rangeTab,x;r16=rangeTab.R16;off=rangeTab.LatinOffset;if(r16.$length>off&&r<=(x=r16.$length-1>>0,x<0||x>=r16.$length?($throwRuntimeError("index out of range"),undefined):r16.$array[r16.$offset+x]).Hi>>0){return is16($subslice(r16,off),r<<16>>>16);}r32=rangeTab.R32;if(r32.$length>0&&r>=(0>=r32.$length?($throwRuntimeError("index out of range"),undefined):r32.$array[r32.$offset+0]).Lo>>0){return is32(r32,r>>>0);}return false;};To=function(_case,r){var _case,_tuple,r;_tuple=to(_case,r,$pkg.CaseRanges);r=_tuple[0];return r;};$pkg.To=To;ToUpper=function(r){var r;if(r<=127){if(97<=r&&r<=122){r=r-32>>0;}return r;}return To(0,r);};$pkg.ToUpper=ToUpper;ToLower=function(r){var r;if(r<=127){if(65<=r&&r<=90){r=r+32>>0;}return r;}return To(1,r);};$pkg.ToLower=ToLower;SimpleFold=function(r){var _q,hi,l,lo,m,r;if(r<0||r>1114111){return r;}if(r>>0<128){return(r<0||r>=asciiFold.length?($throwRuntimeError("index out of range"),undefined):asciiFold[r])>>0;}lo=0;hi=caseOrbit.$length;while(true){if(!(lo<hi)){break;}m=lo+(_q=(hi-lo>>0)/2,_q===_q&&_q!==1/0&&_q!==-1/0?_q>>0:$throwRuntimeError("integer divide by zero"))>>0;if((m<0||m>=caseOrbit.$length?($throwRuntimeError("index out of range"),undefined):caseOrbit.$array[caseOrbit.$offset+m]).From>>0<r){lo=m+1>>0;}else{hi=m;}}if(lo<caseOrbit.$length&&(lo<0||lo>=caseOrbit.$length?($throwRuntimeError("index out of range"),undefined):caseOrbit.$array[caseOrbit.$offset+lo]).From>>0===r){return(lo<0||lo>=caseOrbit.$length?($throwRuntimeError("index out of range"),undefined):caseOrbit.$array[caseOrbit.$offset+lo]).To>>0;}l=ToLower(r);if(!(l===r)){return l;}return ToUpper(r);};$pkg.SimpleFold=SimpleFold;RangeTable.init("",[{prop:"R16",name:"R16",embedded:false,exported:true,typ:sliceType,tag:""},{prop:"R32",name:"R32",embedded:false,exported:true,typ:sliceType$1,tag:""},{prop:"LatinOffset",name:"LatinOffset",embedded:false,exported:true,typ:$Int,tag:""}]);Range16.init("",[{prop:"Lo",name:"Lo",embedded:false,exported:true,typ:$Uint16,tag:""},{prop:"Hi",name:"Hi",embedded:false,exported:true,typ:$Uint16,tag:""},{prop:"Stride",name:"Stride",embedded:false,exported:true,typ:$Uint16,tag:""}]);Range32.init("",[{prop:"Lo",name:"Lo",embedded:false,exported:true,typ:$Uint32,tag:""},{prop:"Hi",name:"Hi",embedded:false,exported:true,typ:$Uint32,tag:""},{prop:"Stride",name:"Stride",embedded:false,exported:true,typ:$Uint32,tag:""}]);CaseRange.init("",[{prop:"Lo",name:"Lo",embedded:false,exported:true,typ:$Uint32,tag:""},{prop:"Hi",name:"Hi",embedded:false,exported:true,typ:$Uint32,tag:""},{prop:"Delta",name:"Delta",embedded:false,exported:true,typ:d,tag:""}]);d.init($Int32,3);foldPair.init("",[{prop:"From",name:"From",embedded:false,exported:true,typ:$Uint16,tag:""},{prop:"To",name:"To",embedded:false,exported:true,typ:$Uint16,tag:""}]);$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_L=new RangeTable.ptr(new sliceType([new Range16.ptr(65,90,1),new Range16.ptr(97,122,1),new Range16.ptr(170,181,11),new Range16.ptr(186,192,6),new Range16.ptr(193,214,1),new Range16.ptr(216,246,1),new Range16.ptr(248,705,1),new Range16.ptr(710,721,1),new Range16.ptr(736,740,1),new Range16.ptr(748,750,2),new Range16.ptr(880,884,1),new Range16.ptr(886,887,1),new Range16.ptr(890,893,1),new Range16.ptr(895,902,7),new Range16.ptr(904,906,1),new Range16.ptr(908,910,2),new Range16.ptr(911,929,1),new Range16.ptr(931,1013,1),new Range16.ptr(1015,1153,1),new Range16.ptr(1162,1327,1),new Range16.ptr(1329,1366,1),new Range16.ptr(1369,1377,8),new Range16.ptr(1378,1415,1),new Range16.ptr(1488,1514,1),new Range16.ptr(1520,1522,1),new Range16.ptr(1568,1610,1),new Range16.ptr(1646,1647,1),new Range16.ptr(1649,1747,1),new Range16.ptr(1749,1765,16),new Range16.ptr(1766,1774,8),new Range16.ptr(1775,1786,11),new Range16.ptr(1787,1788,1),new Range16.ptr(1791,1808,17),new Range16.ptr(1810,1839,1),new Range16.ptr(1869,1957,1),new Range16.ptr(1969,1994,25),new Range16.ptr(1995,2026,1),new Range16.ptr(2036,2037,1),new Range16.ptr(2042,2048,6),new Range16.ptr(2049,2069,1),new Range16.ptr(2074,2084,10),new Range16.ptr(2088,2112,24),new Range16.ptr(2113,2136,1),new Range16.ptr(2144,2154,1),new Range16.ptr(2208,2228,1),new Range16.ptr(2230,2237,1),new Range16.ptr(2308,2361,1),new Range16.ptr(2365,2384,19),new Range16.ptr(2392,2401,1),new Range16.ptr(2417,2432,1),new Range16.ptr(2437,2444,1),new Range16.ptr(2447,2448,1),new Range16.ptr(2451,2472,1),new Range16.ptr(2474,2480,1),new Range16.ptr(2482,2486,4),new Range16.ptr(2487,2489,1),new Range16.ptr(2493,2510,17),new Range16.ptr(2524,2525,1),new Range16.ptr(2527,2529,1),new Range16.ptr(2544,2545,1),new Range16.ptr(2556,2565,9),new Range16.ptr(2566,2570,1),new Range16.ptr(2575,2576,1),new Range16.ptr(2579,2600,1),new Range16.ptr(2602,2608,1),new Range16.ptr(2610,2611,1),new Range16.ptr(2613,2614,1),new Range16.ptr(2616,2617,1),new Range16.ptr(2649,2652,1),new Range16.ptr(2654,2674,20),new Range16.ptr(2675,2676,1),new Range16.ptr(2693,2701,1),new Range16.ptr(2703,2705,1),new Range16.ptr(2707,2728,1),new Range16.ptr(2730,2736,1),new Range16.ptr(2738,2739,1),new Range16.ptr(2741,2745,1),new Range16.ptr(2749,2768,19),new Range16.ptr(2784,2785,1),new Range16.ptr(2809,2821,12),new Range16.ptr(2822,2828,1),new Range16.ptr(2831,2832,1),new Range16.ptr(2835,2856,1),new Range16.ptr(2858,2864,1),new Range16.ptr(2866,2867,1),new Range16.ptr(2869,2873,1),new Range16.ptr(2877,2908,31),new Range16.ptr(2909,2911,2),new Range16.ptr(2912,2913,1),new Range16.ptr(2929,2947,18),new Range16.ptr(2949,2954,1),new Range16.ptr(2958,2960,1),new Range16.ptr(2962,2965,1),new Range16.ptr(2969,2970,1),new Range16.ptr(2972,2974,2),new Range16.ptr(2975,2979,4),new Range16.ptr(2980,2984,4),new Range16.ptr(2985,2986,1),new Range16.ptr(2990,3001,1),new Range16.ptr(3024,3077,53),new Range16.ptr(3078,3084,1),new Range16.ptr(3086,3088,1),new Range16.ptr(3090,3112,1),new Range16.ptr(3114,3129,1),new Range16.ptr(3133,3160,27),new Range16.ptr(3161,3162,1),new Range16.ptr(3168,3169,1),new Range16.ptr(3200,3205,5),new Range16.ptr(3206,3212,1),new Range16.ptr(3214,3216,1),new Range16.ptr(3218,3240,1),new Range16.ptr(3242,3251,1),new Range16.ptr(3253,3257,1),new Range16.ptr(3261,3294,33),new Range16.ptr(3296,3297,1),new Range16.ptr(3313,3314,1),new Range16.ptr(3333,3340,1),new Range16.ptr(3342,3344,1),new Range16.ptr(3346,3386,1),new Range16.ptr(3389,3406,17),new Range16.ptr(3412,3414,1),new Range16.ptr(3423,3425,1),new Range16.ptr(3450,3455,1),new Range16.ptr(3461,3478,1),new Range16.ptr(3482,3505,1),new Range16.ptr(3507,3515,1),new Range16.ptr(3517,3520,3),new Range16.ptr(3521,3526,1),new Range16.ptr(3585,3632,1),new Range16.ptr(3634,3635,1),new Range16.ptr(3648,3654,1),new Range16.ptr(3713,3714,1),new Range16.ptr(3716,3719,3),new Range16.ptr(3720,3722,2),new Range16.ptr(3725,3732,7),new Range16.ptr(3733,3735,1),new Range16.ptr(3737,3743,1),new Range16.ptr(3745,3747,1),new Range16.ptr(3749,3751,2),new Range16.ptr(3754,3755,1),new Range16.ptr(3757,3760,1),new Range16.ptr(3762,3763,1),new Range16.ptr(3773,3776,3),new Range16.ptr(3777,3780,1),new Range16.ptr(3782,3804,22),new Range16.ptr(3805,3807,1),new Range16.ptr(3840,3904,64),new Range16.ptr(3905,3911,1),new Range16.ptr(3913,3948,1),new Range16.ptr(3976,3980,1),new Range16.ptr(4096,4138,1),new Range16.ptr(4159,4176,17),new Range16.ptr(4177,4181,1),new Range16.ptr(4186,4189,1),new Range16.ptr(4193,4197,4),new Range16.ptr(4198,4206,8),new Range16.ptr(4207,4208,1),new Range16.ptr(4213,4225,1),new Range16.ptr(4238,4256,18),new Range16.ptr(4257,4293,1),new Range16.ptr(4295,4301,6),new Range16.ptr(4304,4346,1),new Range16.ptr(4348,4680,1),new Range16.ptr(4682,4685,1),new Range16.ptr(4688,4694,1),new Range16.ptr(4696,4698,2),new Range16.ptr(4699,4701,1),new Range16.ptr(4704,4744,1),new Range16.ptr(4746,4749,1),new Range16.ptr(4752,4784,1),new Range16.ptr(4786,4789,1),new Range16.ptr(4792,4798,1),new Range16.ptr(4800,4802,2),new Range16.ptr(4803,4805,1),new Range16.ptr(4808,4822,1),new Range16.ptr(4824,4880,1),new Range16.ptr(4882,4885,1),new Range16.ptr(4888,4954,1),new Range16.ptr(4992,5007,1),new Range16.ptr(5024,5109,1),new Range16.ptr(5112,5117,1),new Range16.ptr(5121,5740,1),new Range16.ptr(5743,5759,1),new Range16.ptr(5761,5786,1),new Range16.ptr(5792,5866,1),new Range16.ptr(5873,5880,1),new Range16.ptr(5888,5900,1),new Range16.ptr(5902,5905,1),new Range16.ptr(5920,5937,1),new Range16.ptr(5952,5969,1),new Range16.ptr(5984,5996,1),new Range16.ptr(5998,6000,1),new Range16.ptr(6016,6067,1),new Range16.ptr(6103,6108,5),new Range16.ptr(6176,6263,1),new Range16.ptr(6272,6276,1),new Range16.ptr(6279,6312,1),new Range16.ptr(6314,6320,6),new Range16.ptr(6321,6389,1),new Range16.ptr(6400,6430,1),new Range16.ptr(6480,6509,1),new Range16.ptr(6512,6516,1),new Range16.ptr(6528,6571,1),new Range16.ptr(6576,6601,1),new Range16.ptr(6656,6678,1),new Range16.ptr(6688,6740,1),new Range16.ptr(6823,6917,94),new Range16.ptr(6918,6963,1),new Range16.ptr(6981,6987,1),new Range16.ptr(7043,7072,1),new Range16.ptr(7086,7087,1),new Range16.ptr(7098,7141,1),new Range16.ptr(7168,7203,1),new Range16.ptr(7245,7247,1),new Range16.ptr(7258,7293,1),new Range16.ptr(7296,7304,1),new Range16.ptr(7401,7404,1),new Range16.ptr(7406,7409,1),new Range16.ptr(7413,7414,1),new Range16.ptr(7424,7615,1),new Range16.ptr(7680,7957,1),new Range16.ptr(7960,7965,1),new Range16.ptr(7968,8005,1),new Range16.ptr(8008,8013,1),new Range16.ptr(8016,8023,1),new Range16.ptr(8025,8031,2),new Range16.ptr(8032,8061,1),new Range16.ptr(8064,8116,1),new Range16.ptr(8118,8124,1),new Range16.ptr(8126,8130,4),new Range16.ptr(8131,8132,1),new Range16.ptr(8134,8140,1),new Range16.ptr(8144,8147,1),new Range16.ptr(8150,8155,1),new Range16.ptr(8160,8172,1),new Range16.ptr(8178,8180,1),new Range16.ptr(8182,8188,1),new Range16.ptr(8305,8319,14),new Range16.ptr(8336,8348,1),new Range16.ptr(8450,8455,5),new Range16.ptr(8458,8467,1),new Range16.ptr(8469,8473,4),new Range16.ptr(8474,8477,1),new Range16.ptr(8484,8490,2),new Range16.ptr(8491,8493,1),new Range16.ptr(8495,8505,1),new Range16.ptr(8508,8511,1),new Range16.ptr(8517,8521,1),new Range16.ptr(8526,8579,53),new Range16.ptr(8580,11264,2684),new Range16.ptr(11265,11310,1),new Range16.ptr(11312,11358,1),new Range16.ptr(11360,11492,1),new Range16.ptr(11499,11502,1),new Range16.ptr(11506,11507,1),new Range16.ptr(11520,11557,1),new Range16.ptr(11559,11565,6),new Range16.ptr(11568,11623,1),new Range16.ptr(11631,11648,17),new Range16.ptr(11649,11670,1),new Range16.ptr(11680,11686,1),new Range16.ptr(11688,11694,1),new Range16.ptr(11696,11702,1),new Range16.ptr(11704,11710,1),new Range16.ptr(11712,11718,1),new Range16.ptr(11720,11726,1),new Range16.ptr(11728,11734,1),new Range16.ptr(11736,11742,1),new Range16.ptr(11823,12293,470),new Range16.ptr(12294,12337,43),new Range16.ptr(12338,12341,1),new Range16.ptr(12347,12348,1),new Range16.ptr(12353,12438,1),new Range16.ptr(12445,12447,1),new Range16.ptr(12449,12538,1),new Range16.ptr(12540,12543,1),new Range16.ptr(12549,12590,1),new Range16.ptr(12593,12686,1),new Range16.ptr(12704,12730,1),new Range16.ptr(12784,12799,1),new Range16.ptr(13312,19893,1),new Range16.ptr(19968,40938,1),new Range16.ptr(40960,42124,1),new Range16.ptr(42192,42237,1),new Range16.ptr(42240,42508,1),new Range16.ptr(42512,42527,1),new Range16.ptr(42538,42539,1),new Range16.ptr(42560,42606,1),new Range16.ptr(42623,42653,1),new Range16.ptr(42656,42725,1),new Range16.ptr(42775,42783,1),new Range16.ptr(42786,42888,1),new Range16.ptr(42891,42926,1),new Range16.ptr(42928,42935,1),new Range16.ptr(42999,43009,1),new Range16.ptr(43011,43013,1),new Range16.ptr(43015,43018,1),new Range16.ptr(43020,43042,1),new Range16.ptr(43072,43123,1),new Range16.ptr(43138,43187,1),new Range16.ptr(43250,43255,1),new Range16.ptr(43259,43261,2),new Range16.ptr(43274,43301,1),new Range16.ptr(43312,43334,1),new Range16.ptr(43360,43388,1),new Range16.ptr(43396,43442,1),new Range16.ptr(43471,43488,17),new Range16.ptr(43489,43492,1),new Range16.ptr(43494,43503,1),new Range16.ptr(43514,43518,1),new Range16.ptr(43520,43560,1),new Range16.ptr(43584,43586,1),new Range16.ptr(43588,43595,1),new Range16.ptr(43616,43638,1),new Range16.ptr(43642,43646,4),new Range16.ptr(43647,43695,1),new Range16.ptr(43697,43701,4),new Range16.ptr(43702,43705,3),new Range16.ptr(43706,43709,1),new Range16.ptr(43712,43714,2),new Range16.ptr(43739,43741,1),new Range16.ptr(43744,43754,1),new Range16.ptr(43762,43764,1),new Range16.ptr(43777,43782,1),new Range16.ptr(43785,43790,1),new Range16.ptr(43793,43798,1),new Range16.ptr(43808,43814,1),new Range16.ptr(43816,43822,1),new Range16.ptr(43824,43866,1),new Range16.ptr(43868,43877,1),new Range16.ptr(43888,44002,1),new Range16.ptr(44032,55203,1),new Range16.ptr(55216,55238,1),new Range16.ptr(55243,55291,1),new Range16.ptr(63744,64109,1),new Range16.ptr(64112,64217,1),new Range16.ptr(64256,64262,1),new Range16.ptr(64275,64279,1),new Range16.ptr(64285,64287,2),new Range16.ptr(64288,64296,1),new Range16.ptr(64298,64310,1),new Range16.ptr(64312,64316,1),new Range16.ptr(64318,64320,2),new Range16.ptr(64321,64323,2),new Range16.ptr(64324,64326,2),new Range16.ptr(64327,64433,1),new Range16.ptr(64467,64829,1),new Range16.ptr(64848,64911,1),new Range16.ptr(64914,64967,1),new Range16.ptr(65008,65019,1),new Range16.ptr(65136,65140,1),new Range16.ptr(65142,65276,1),new Range16.ptr(65313,65338,1),new Range16.ptr(65345,65370,1),new Range16.ptr(65382,65470,1),new Range16.ptr(65474,65479,1),new Range16.ptr(65482,65487,1),new Range16.ptr(65490,65495,1),new Range16.ptr(65498,65500,1)]),new sliceType$1([new Range32.ptr(65536,65547,1),new Range32.ptr(65549,65574,1),new Range32.ptr(65576,65594,1),new Range32.ptr(65596,65597,1),new Range32.ptr(65599,65613,1),new Range32.ptr(65616,65629,1),new Range32.ptr(65664,65786,1),new Range32.ptr(66176,66204,1),new Range32.ptr(66208,66256,1),new Range32.ptr(66304,66335,1),new Range32.ptr(66349,66368,1),new Range32.ptr(66370,66377,1),new Range32.ptr(66384,66421,1),new Range32.ptr(66432,66461,1),new Range32.ptr(66464,66499,1),new Range32.ptr(66504,66511,1),new Range32.ptr(66560,66717,1),new Range32.ptr(66736,66771,1),new Range32.ptr(66776,66811,1),new Range32.ptr(66816,66855,1),new Range32.ptr(66864,66915,1),new Range32.ptr(67072,67382,1),new Range32.ptr(67392,67413,1),new Range32.ptr(67424,67431,1),new Range32.ptr(67584,67589,1),new Range32.ptr(67592,67594,2),new Range32.ptr(67595,67637,1),new Range32.ptr(67639,67640,1),new Range32.ptr(67644,67647,3),new Range32.ptr(67648,67669,1),new Range32.ptr(67680,67702,1),new Range32.ptr(67712,67742,1),new Range32.ptr(67808,67826,1),new Range32.ptr(67828,67829,1),new Range32.ptr(67840,67861,1),new Range32.ptr(67872,67897,1),new Range32.ptr(67968,68023,1),new Range32.ptr(68030,68031,1),new Range32.ptr(68096,68112,16),new Range32.ptr(68113,68115,1),new Range32.ptr(68117,68119,1),new Range32.ptr(68121,68147,1),new Range32.ptr(68192,68220,1),new Range32.ptr(68224,68252,1),new Range32.ptr(68288,68295,1),new Range32.ptr(68297,68324,1),new Range32.ptr(68352,68405,1),new Range32.ptr(68416,68437,1),new Range32.ptr(68448,68466,1),new Range32.ptr(68480,68497,1),new Range32.ptr(68608,68680,1),new Range32.ptr(68736,68786,1),new Range32.ptr(68800,68850,1),new Range32.ptr(69635,69687,1),new Range32.ptr(69763,69807,1),new Range32.ptr(69840,69864,1),new Range32.ptr(69891,69926,1),new Range32.ptr(69968,70002,1),new Range32.ptr(70006,70019,13),new Range32.ptr(70020,70066,1),new Range32.ptr(70081,70084,1),new Range32.ptr(70106,70108,2),new Range32.ptr(70144,70161,1),new Range32.ptr(70163,70187,1),new Range32.ptr(70272,70278,1),new Range32.ptr(70280,70282,2),new Range32.ptr(70283,70285,1),new Range32.ptr(70287,70301,1),new Range32.ptr(70303,70312,1),new Range32.ptr(70320,70366,1),new Range32.ptr(70405,70412,1),new Range32.ptr(70415,70416,1),new Range32.ptr(70419,70440,1),new Range32.ptr(70442,70448,1),new Range32.ptr(70450,70451,1),new Range32.ptr(70453,70457,1),new Range32.ptr(70461,70480,19),new Range32.ptr(70493,70497,1),new Range32.ptr(70656,70708,1),new Range32.ptr(70727,70730,1),new Range32.ptr(70784,70831,1),new Range32.ptr(70852,70853,1),new Range32.ptr(70855,71040,185),new Range32.ptr(71041,71086,1),new Range32.ptr(71128,71131,1),new Range32.ptr(71168,71215,1),new Range32.ptr(71236,71296,60),new Range32.ptr(71297,71338,1),new Range32.ptr(71424,71449,1),new Range32.ptr(71840,71903,1),new Range32.ptr(71935,72192,257),new Range32.ptr(72203,72242,1),new Range32.ptr(72250,72272,22),new Range32.ptr(72284,72323,1),new Range32.ptr(72326,72329,1),new Range32.ptr(72384,72440,1),new Range32.ptr(72704,72712,1),new Range32.ptr(72714,72750,1),new Range32.ptr(72768,72818,50),new Range32.ptr(72819,72847,1),new Range32.ptr(72960,72966,1),new Range32.ptr(72968,72969,1),new Range32.ptr(72971,73008,1),new Range32.ptr(73030,73728,698),new Range32.ptr(73729,74649,1),new Range32.ptr(74880,75075,1),new Range32.ptr(77824,78894,1),new Range32.ptr(82944,83526,1),new Range32.ptr(92160,92728,1),new Range32.ptr(92736,92766,1),new Range32.ptr(92880,92909,1),new Range32.ptr(92928,92975,1),new Range32.ptr(92992,92995,1),new Range32.ptr(93027,93047,1),new Range32.ptr(93053,93071,1),new Range32.ptr(93952,94020,1),new Range32.ptr(94032,94099,67),new Range32.ptr(94100,94111,1),new Range32.ptr(94176,94177,1),new Range32.ptr(94208,100332,1),new Range32.ptr(100352,101106,1),new Range32.ptr(110592,110878,1),new Range32.ptr(110960,111355,1),new Range32.ptr(113664,113770,1),new Range32.ptr(113776,113788,1),new Range32.ptr(113792,113800,1),new Range32.ptr(113808,113817,1),new Range32.ptr(119808,119892,1),new Range32.ptr(119894,119964,1),new Range32.ptr(119966,119967,1),new Range32.ptr(119970,119973,3),new Range32.ptr(119974,119977,3),new Range32.ptr(119978,119980,1),new Range32.ptr(119982,119993,1),new Range32.ptr(119995,119997,2),new Range32.ptr(119998,120003,1),new Range32.ptr(120005,120069,1),new Range32.ptr(120071,120074,1),new Range32.ptr(120077,120084,1),new Range32.ptr(120086,120092,1),new Range32.ptr(120094,120121,1),new Range32.ptr(120123,120126,1),new Range32.ptr(120128,120132,1),new Range32.ptr(120134,120138,4),new Range32.ptr(120139,120144,1),new Range32.ptr(120146,120485,1),new Range32.ptr(120488,120512,1),new Range32.ptr(120514,120538,1),new Range32.ptr(120540,120570,1),new Range32.ptr(120572,120596,1),new Range32.ptr(120598,120628,1),new Range32.ptr(120630,120654,1),new Range32.ptr(120656,120686,1),new Range32.ptr(120688,120712,1),new Range32.ptr(120714,120744,1),new Range32.ptr(120746,120770,1),new Range32.ptr(120772,120779,1),new Range32.ptr(124928,125124,1),new Range32.ptr(125184,125251,1),new Range32.ptr(126464,126467,1),new Range32.ptr(126469,126495,1),new Range32.ptr(126497,126498,1),new Range32.ptr(126500,126503,3),new Range32.ptr(126505,126514,1),new Range32.ptr(126516,126519,1),new Range32.ptr(126521,126523,2),new Range32.ptr(126530,126535,5),new Range32.ptr(126537,126541,2),new Range32.ptr(126542,126543,1),new Range32.ptr(126545,126546,1),new Range32.ptr(126548,126551,3),new Range32.ptr(126553,126561,2),new Range32.ptr(126562,126564,2),new Range32.ptr(126567,126570,1),new Range32.ptr(126572,126578,1),new Range32.ptr(126580,126583,1),new Range32.ptr(126585,126588,1),new Range32.ptr(126590,126592,2),new Range32.ptr(126593,126601,1),new Range32.ptr(126603,126619,1),new Range32.ptr(126625,126627,1),new Range32.ptr(126629,126633,1),new Range32.ptr(126635,126651,1),new Range32.ptr(131072,173782,1),new Range32.ptr(173824,177972,1),new Range32.ptr(177984,178205,1),new Range32.ptr(178208,183969,1),new Range32.ptr(183984,191456,1),new Range32.ptr(194560,195101,1)]),6);_Nd=new RangeTable.ptr(new sliceType([new Range16.ptr(48,57,1),new Range16.ptr(1632,1641,1),new Range16.ptr(1776,1785,1),new Range16.ptr(1984,1993,1),new Range16.ptr(2406,2415,1),new Range16.ptr(2534,2543,1),new Range16.ptr(2662,2671,1),new Range16.ptr(2790,2799,1),new Range16.ptr(2918,2927,1),new Range16.ptr(3046,3055,1),new Range16.ptr(3174,3183,1),new Range16.ptr(3302,3311,1),new Range16.ptr(3430,3439,1),new Range16.ptr(3558,3567,1),new Range16.ptr(3664,3673,1),new Range16.ptr(3792,3801,1),new Range16.ptr(3872,3881,1),new Range16.ptr(4160,4169,1),new Range16.ptr(4240,4249,1),new Range16.ptr(6112,6121,1),new Range16.ptr(6160,6169,1),new Range16.ptr(6470,6479,1),new Range16.ptr(6608,6617,1),new Range16.ptr(6784,6793,1),new Range16.ptr(6800,6809,1),new Range16.ptr(6992,7001,1),new Range16.ptr(7088,7097,1),new Range16.ptr(7232,7241,1),new Range16.ptr(7248,7257,1),new Range16.ptr(42528,42537,1),new Range16.ptr(43216,43225,1),new Range16.ptr(43264,43273,1),new Range16.ptr(43472,43481,1),new Range16.ptr(43504,43513,1),new Range16.ptr(43600,43609,1),new Range16.ptr(44016,44025,1),new Range16.ptr(65296,65305,1)]),new sliceType$1([new Range32.ptr(66720,66729,1),new Range32.ptr(69734,69743,1),new Range32.ptr(69872,69881,1),new Range32.ptr(69942,69951,1),new Range32.ptr(70096,70105,1),new Range32.ptr(70384,70393,1),new Range32.ptr(70736,70745,1),new Range32.ptr(70864,70873,1),new Range32.ptr(71248,71257,1),new Range32.ptr(71360,71369,1),new Range32.ptr(71472,71481,1),new Range32.ptr(71904,71913,1),new Range32.ptr(72784,72793,1),new Range32.ptr(73040,73049,1),new Range32.ptr(92768,92777,1),new Range32.ptr(93008,93017,1),new Range32.ptr(120782,120831,1),new Range32.ptr(125264,125273,1)]),1);$pkg.Digit=_Nd;$pkg.Letter=_L;_CaseRanges=new sliceType$3([new CaseRange.ptr(65,90,$toNativeArray($kindInt32,[0,32,0])),new CaseRange.ptr(97,122,$toNativeArray($kindInt32,[-32,0,-32])),new CaseRange.ptr(181,181,$toNativeArray($kindInt32,[743,0,743])),new CaseRange.ptr(192,214,$toNativeArray($kindInt32,[0,32,0])),new CaseRange.ptr(216,222,$toNativeArray($kindInt32,[0,32,0])),new CaseRange.ptr(224,246,$toNativeArray($kindInt32,[-32,0,-32])),new CaseRange.ptr(248,254,$toNativeArray($kindInt32,[-32,0,-32])),new CaseRange.ptr(255,255,$toNativeArray($kindInt32,[121,0,121])),new CaseRange.ptr(256,303,$toNativeArray($kindInt32,[1114112,1114112,1114112])),new CaseRange.ptr(304,304,$toNativeArray($kindInt32,[0,-199,0])),new CaseRange.ptr(305,305,$toNativeArray($kindInt32,[-232,0,-232])),new CaseRange.ptr(306,311,$toNativeArray($kindInt32,[1114112,1114112,1114112])),new CaseRange.ptr(313,328,$toNativeArray($kindInt32,[1114112,1114112,1114112])),new CaseRange.ptr(330,375,$toNativeArray($kindInt32,[1114112,1114112,1114112])),new CaseRange.ptr(376,376,$toNativeArray($kindInt32,[0,-121,0])),new CaseRange.ptr(377,382,$toNativeArray($kindInt32,[1114112,1114112,1114112])),new CaseRange.ptr(383,383,$toNativeArray($kindInt32,[-300,0,-300])),new CaseRange.ptr(384,384,$toNativeArray($kindInt32,[195,0,195])),new CaseRange.ptr(385,385,$toNativeArray($kindInt32,[0,210,0])),new CaseRange.ptr(386,389,$toNativeArray($kindInt32,[1114112,1114112,1114112])),new CaseRange.ptr(390,390,$toNativeArray($kindInt32,[0,206,0])),new CaseRange.ptr(391,392,$toNativeArray($kindInt32,[1114112,1114112,1114112])),new CaseRange.ptr(393,394,$toNativeArray($kindInt32,[0,205,0])),new CaseRange.ptr(395,396,$toNativeArray($kindInt32,[1114112,1114112,1114112])),new CaseRange.ptr(398,398,$toNativeArray($kindInt32,[0,79,0])),new CaseRange.ptr(399,399,$toNativeArray($kindInt32,[0,202,0])),new CaseRange.ptr(400,400,$toNativeArray($kindInt32,[0,203,0])),new CaseRange.ptr(401,402,$toNativeArray($kindInt32,[1114112,1114112,1114112])),new CaseRange.ptr(403,403,$toNativeArray($kindInt32,[0,205,0])),new CaseRange.ptr(404,404,$toNativeArray($kindInt32,[0,207,0])),new CaseRange.ptr(405,405,$toNativeArray($kindInt32,[97,0,97])),new CaseRange.ptr(406,406,$toNativeArray($kindInt32,[0,211,0])),new CaseRange.ptr(407,407,$toNativeArray($kindInt32,[0,209,0])),new CaseRange.ptr(408,409,$toNativeArray($kindInt32,[1114112,1114112,1114112])),new CaseRange.ptr(410,410,$toNativeArray($kindInt32,[163,0,163])),new CaseRange.ptr(412,412,$toNativeArray($kindInt32,[0,211,0])),new CaseRange.ptr(413,413,$toNativeArray($kindInt32,[0,213,0])),new CaseRange.ptr(414,414,$toNativeArray($kindInt32,[130,0,130])),new CaseRange.ptr(415,415,$toNativeArray($kindInt32,[0,214,0])),new CaseRange.ptr(416,421,$toNativeArray($kindInt32,[1114112,1114112,1114112])),new CaseRange.ptr(422,422,$toNativeArray($kindInt32,[0,218,0])),new CaseRange.ptr(423,424,$toNativeArray($kindInt32,[1114112,1114112,1114112])),new CaseRange.ptr(425,425,$toNativeArray($kindInt32,[0,218,0])),new CaseRange.ptr(428,429,$toNativeArray($kindInt32,[1114112,1114112,1114112])),new CaseRange.ptr(430,430,$toNativeArray($kindInt32,[0,218,0])),new CaseRange.ptr(431,432,$toNativeArray($kindInt32,[1114112,1114112,1114112])),new CaseRange.ptr(433,434,$toNativeArray($kindInt32,[0,217,0])),new CaseRange.ptr(435,438,$toNativeArray($kindInt32,[1114112,1114112,1114112])),new CaseRange.ptr(439,439,$toNativeArray($kindInt32,[0,219,0])),new CaseRange.ptr(440,441,$toNativeArray($kindInt32,[1114112,1114112,1114112])),new CaseRange.ptr(444,445,$toNativeArray($kindInt32,[1114112,1114112,1114112])),new CaseRange.ptr(447,447,$toNativeArray($kindInt32,[56,0,56])),new CaseRange.ptr(452,452,$toNativeArray($kindInt32,[0,2,1])),new CaseRange.ptr(453,453,$toNativeArray($kindInt32,[-1,1,0])),new CaseRange.ptr(454,454,$toNativeArray($kindInt32,[-2,0,-1])),new CaseRange.ptr(455,455,$toNativeArray($kindInt32,[0,2,1])),new CaseRange.ptr(456,456,$toNativeArray($kindInt32,[-1,1,0])),new CaseRange.ptr(457,457,$toNativeArray($kindInt32,[-2,0,-1])),new CaseRange.ptr(458,458,$toNativeArray($kindInt32,[0,2,1])),new CaseRange.ptr(459,459,$toNativeArray($kindInt32,[-1,1,0])),new CaseRange.ptr(460,460,$toNativeArray($kindInt32,[-2,0,-1])),new CaseRange.ptr(461,476,$toNativeArray($kindInt32,[1114112,1114112,1114112])),new CaseRange.ptr(477,477,$toNativeArray($kindInt32,[-79,0,-79])),new CaseRange.ptr(478,495,$toNativeArray($kindInt32,[1114112,1114112,1114112])),new CaseRange.ptr(497,497,$toNativeArray($kindInt32,[0,2,1])),new CaseRange.ptr(498,498,$toNativeArray($kindInt32,[-1,1,0])),new CaseRange.ptr(499,499,$toNativeArray($kindInt32,[-2,0,-1])),new CaseRange.ptr(500,501,$toNativeArray($kindInt32,[1114112,1114112,1114112])),new CaseRange.ptr(502,502,$toNativeArray($kindInt32,[0,-97,0])),new CaseRange.ptr(503,503,$toNativeArray($kindInt32,[0,-56,0])),new CaseRange.ptr(504,543,$toNativeArray($kindInt32,[1114112,1114112,1114112])),new CaseRange.ptr(544,544,$toNativeArray($kindInt32,[0,-130,0])),new CaseRange.ptr(546,563,$toNativeArray($kindInt32,[1114112,1114112,1114112])),new CaseRange.ptr(570,570,$toNativeArray($kindInt32,[0,10795,0])),new CaseRange.ptr(571,572,$toNativeArray($kindInt32,[1114112,1114112,1114112])),new CaseRange.ptr(573,573,$toNativeArray($kindInt32,[0,-163,0])),new CaseRange.ptr(574,574,$toNativeArray($kindInt32,[0,10792,0])),new CaseRange.ptr(575,576,$toNativeArray($kindInt32,[10815,0,10815])),new CaseRange.ptr(577,578,$toNativeArray($kindInt32,[1114112,1114112,1114112])),new CaseRange.ptr(579,579,$toNativeArray($kindInt32,[0,-195,0])),new CaseRange.ptr(580,580,$toNativeArray($kindInt32,[0,69,0])),new CaseRange.ptr(581,581,$toNativeArray($kindInt32,[0,71,0])),new CaseRange.ptr(582,591,$toNativeArray($kindInt32,[1114112,1114112,1114112])),new CaseRange.ptr(592,592,$toNativeArray($kindInt32,[10783,0,10783])),new CaseRange.ptr(593,593,$toNativeArray($kindInt32,[10780,0,10780])),new CaseRange.ptr(594,594,$toNativeArray($kindInt32,[10782,0,10782])),new CaseRange.ptr(595,595,$toNativeArray($kindInt32,[-210,0,-210])),new CaseRange.ptr(596,596,$toNativeArray($kindInt32,[-206,0,-206])),new CaseRange.ptr(598,599,$toNativeArray($kindInt32,[-205,0,-205])),new CaseRange.ptr(601,601,$toNativeArray($kindInt32,[-202,0,-202])),new CaseRange.ptr(603,603,$toNativeArray($kindInt32,[-203,0,-203])),new CaseRange.ptr(604,604,$toNativeArray($kindInt32,[42319,0,42319])),new CaseRange.ptr(608,608,$toNativeArray($kindInt32,[-205,0,-205])),new CaseRange.ptr(609,609,$toNativeArray($kindInt32,[42315,0,42315])),new CaseRange.ptr(611,611,$toNativeArray($kindInt32,[-207,0,-207])),new CaseRange.ptr(613,613,$toNativeArray($kindInt32,[42280,0,42280])),new CaseRange.ptr(614,614,$toNativeArray($kindInt32,[42308,0,42308])),new CaseRange.ptr(616,616,$toNativeArray($kindInt32,[-209,0,-209])),new CaseRange.ptr(617,617,$toNativeArray($kindInt32,[-211,0,-211])),new CaseRange.ptr(618,618,$toNativeArray($kindInt32,[42308,0,42308])),new CaseRange.ptr(619,619,$toNativeArray($kindInt32,[10743,0,10743])),new CaseRange.ptr(620,620,$toNativeArray($kindInt32,[42305,0,42305])),new CaseRange.ptr(623,623,$toNativeArray($kindInt32,[-211,0,-211])),new CaseRange.ptr(625,625,$toNativeArray($kindInt32,[10749,0,10749])),new CaseRange.ptr(626,626,$toNativeArray($kindInt32,[-213,0,-213])),new CaseRange.ptr(629,629,$toNativeArray($kindInt32,[-214,0,-214])),new CaseRange.ptr(637,637,$toNativeArray($kindInt32,[10727,0,10727])),new CaseRange.ptr(640,640,$toNativeArray($kindInt32,[-218,0,-218])),new CaseRange.ptr(643,643,$toNativeArray($kindInt32,[-218,0,-218])),new CaseRange.ptr(647,647,$toNativeArray($kindInt32,[42282,0,42282])),new CaseRange.ptr(648,648,$toNativeArray($kindInt32,[-218,0,-218])),new CaseRange.ptr(649,649,$toNativeArray($kindInt32,[-69,0,-69])),new CaseRange.ptr(650,651,$toNativeArray($kindInt32,[-217,0,-217])),new CaseRange.ptr(652,652,$toNativeArray($kindInt32,[-71,0,-71])),new CaseRange.ptr(658,658,$toNativeArray($kindInt32,[-219,0,-219])),new CaseRange.ptr(669,669,$toNativeArray($kindInt32,[42261,0,42261])),new CaseRange.ptr(670,670,$toNativeArray($kindInt32,[42258,0,42258])),new CaseRange.ptr(837,837,$toNativeArray($kindInt32,[84,0,84])),new CaseRange.ptr(880,883,$toNativeArray($kindInt32,[1114112,1114112,1114112])),new CaseRange.ptr(886,887,$toNativeArray($kindInt32,[1114112,1114112,1114112])),new CaseRange.ptr(891,893,$toNativeArray($kindInt32,[130,0,130])),new CaseRange.ptr(895,895,$toNativeArray($kindInt32,[0,116,0])),new CaseRange.ptr(902,902,$toNativeArray($kindInt32,[0,38,0])),new CaseRange.ptr(904,906,$toNativeArray($kindInt32,[0,37,0])),new CaseRange.ptr(908,908,$toNativeArray($kindInt32,[0,64,0])),new CaseRange.ptr(910,911,$toNativeArray($kindInt32,[0,63,0])),new CaseRange.ptr(913,929,$toNativeArray($kindInt32,[0,32,0])),new CaseRange.ptr(931,939,$toNativeArray($kindInt32,[0,32,0])),new CaseRange.ptr(940,940,$toNativeArray($kindInt32,[-38,0,-38])),new CaseRange.ptr(941,943,$toNativeArray($kindInt32,[-37,0,-37])),new CaseRange.ptr(945,961,$toNativeArray($kindInt32,[-32,0,-32])),new CaseRange.ptr(962,962,$toNativeArray($kindInt32,[-31,0,-31])),new CaseRange.ptr(963,971,$toNativeArray($kindInt32,[-32,0,-32])),new CaseRange.ptr(972,972,$toNativeArray($kindInt32,[-64,0,-64])),new CaseRange.ptr(973,974,$toNativeArray($kindInt32,[-63,0,-63])),new CaseRange.ptr(975,975,$toNativeArray($kindInt32,[0,8,0])),new CaseRange.ptr(976,976,$toNativeArray($kindInt32,[-62,0,-62])),new CaseRange.ptr(977,977,$toNativeArray($kindInt32,[-57,0,-57])),new CaseRange.ptr(981,981,$toNativeArray($kindInt32,[-47,0,-47])),new CaseRange.ptr(982,982,$toNativeArray($kindInt32,[-54,0,-54])),new CaseRange.ptr(983,983,$toNativeArray($kindInt32,[-8,0,-8])),new CaseRange.ptr(984,1007,$toNativeArray($kindInt32,[1114112,1114112,1114112])),new CaseRange.ptr(1008,1008,$toNativeArray($kindInt32,[-86,0,-86])),new CaseRange.ptr(1009,1009,$toNativeArray($kindInt32,[-80,0,-80])),new CaseRange.ptr(1010,1010,$toNativeArray($kindInt32,[7,0,7])),new CaseRange.ptr(1011,1011,$toNativeArray($kindInt32,[-116,0,-116])),new CaseRange.ptr(1012,1012,$toNativeArray($kindInt32,[0,-60,0])),new CaseRange.ptr(1013,1013,$toNativeArray($kindInt32,[-96,0,-96])),new CaseRange.ptr(1015,1016,$toNativeArray($kindInt32,[1114112,1114112,1114112])),new CaseRange.ptr(1017,1017,$toNativeArray($kindInt32,[0,-7,0])),new CaseRange.ptr(1018,1019,$toNativeArray($kindInt32,[1114112,1114112,1114112])),new CaseRange.ptr(1021,1023,$toNativeArray($kindInt32,[0,-130,0])),new CaseRange.ptr(1024,1039,$toNativeArray($kindInt32,[0,80,0])),new CaseRange.ptr(1040,1071,$toNativeArray($kindInt32,[0,32,0])),new CaseRange.ptr(1072,1103,$toNativeArray($kindInt32,[-32,0,-32])),new CaseRange.ptr(1104,1119,$toNativeArray($kindInt32,[-80,0,-80])),new CaseRange.ptr(1120,1153,$toNativeArray($kindInt32,[1114112,1114112,1114112])),new CaseRange.ptr(1162,1215,$toNativeArray($kindInt32,[1114112,1114112,1114112])),new CaseRange.ptr(1216,1216,$toNativeArray($kindInt32,[0,15,0])),new CaseRange.ptr(1217,1230,$toNativeArray($kindInt32,[1114112,1114112,1114112])),new CaseRange.ptr(1231,1231,$toNativeArray($kindInt32,[-15,0,-15])),new CaseRange.ptr(1232,1327,$toNativeArray($kindInt32,[1114112,1114112,1114112])),new CaseRange.ptr(1329,1366,$toNativeArray($kindInt32,[0,48,0])),new CaseRange.ptr(1377,1414,$toNativeArray($kindInt32,[-48,0,-48])),new CaseRange.ptr(4256,4293,$toNativeArray($kindInt32,[0,7264,0])),new CaseRange.ptr(4295,4295,$toNativeArray($kindInt32,[0,7264,0])),new CaseRange.ptr(4301,4301,$toNativeArray($kindInt32,[0,7264,0])),new CaseRange.ptr(5024,5103,$toNativeArray($kindInt32,[0,38864,0])),new CaseRange.ptr(5104,5109,$toNativeArray($kindInt32,[0,8,0])),new CaseRange.ptr(5112,5117,$toNativeArray($kindInt32,[-8,0,-8])),new CaseRange.ptr(7296,7296,$toNativeArray($kindInt32,[-6254,0,-6254])),new CaseRange.ptr(7297,7297,$toNativeArray($kindInt32,[-6253,0,-6253])),new CaseRange.ptr(7298,7298,$toNativeArray($kindInt32,[-6244,0,-6244])),new CaseRange.ptr(7299,7300,$toNativeArray($kindInt32,[-6242,0,-6242])),new CaseRange.ptr(7301,7301,$toNativeArray($kindInt32,[-6243,0,-6243])),new CaseRange.ptr(7302,7302,$toNativeArray($kindInt32,[-6236,0,-6236])),new CaseRange.ptr(7303,7303,$toNativeArray($kindInt32,[-6181,0,-6181])),new CaseRange.ptr(7304,7304,$toNativeArray($kindInt32,[35266,0,35266])),new CaseRange.ptr(7545,7545,$toNativeArray($kindInt32,[35332,0,35332])),new CaseRange.ptr(7549,7549,$toNativeArray($kindInt32,[3814,0,3814])),new CaseRange.ptr(7680,7829,$toNativeArray($kindInt32,[1114112,1114112,1114112])),new CaseRange.ptr(7835,7835,$toNativeArray($kindInt32,[-59,0,-59])),new CaseRange.ptr(7838,7838,$toNativeArray($kindInt32,[0,-7615,0])),new CaseRange.ptr(7840,7935,$toNativeArray($kindInt32,[1114112,1114112,1114112])),new CaseRange.ptr(7936,7943,$toNativeArray($kindInt32,[8,0,8])),new CaseRange.ptr(7944,7951,$toNativeArray($kindInt32,[0,-8,0])),new CaseRange.ptr(7952,7957,$toNativeArray($kindInt32,[8,0,8])),new CaseRange.ptr(7960,7965,$toNativeArray($kindInt32,[0,-8,0])),new CaseRange.ptr(7968,7975,$toNativeArray($kindInt32,[8,0,8])),new CaseRange.ptr(7976,7983,$toNativeArray($kindInt32,[0,-8,0])),new CaseRange.ptr(7984,7991,$toNativeArray($kindInt32,[8,0,8])),new CaseRange.ptr(7992,7999,$toNativeArray($kindInt32,[0,-8,0])),new CaseRange.ptr(8000,8005,$toNativeArray($kindInt32,[8,0,8])),new CaseRange.ptr(8008,8013,$toNativeArray($kindInt32,[0,-8,0])),new CaseRange.ptr(8017,8017,$toNativeArray($kindInt32,[8,0,8])),new CaseRange.ptr(8019,8019,$toNativeArray($kindInt32,[8,0,8])),new CaseRange.ptr(8021,8021,$toNativeArray($kindInt32,[8,0,8])),new CaseRange.ptr(8023,8023,$toNativeArray($kindInt32,[8,0,8])),new CaseRange.ptr(8025,8025,$toNativeArray($kindInt32,[0,-8,0])),new CaseRange.ptr(8027,8027,$toNativeArray($kindInt32,[0,-8,0])),new CaseRange.ptr(8029,8029,$toNativeArray($kindInt32,[0,-8,0])),new CaseRange.ptr(8031,8031,$toNativeArray($kindInt32,[0,-8,0])),new CaseRange.ptr(8032,8039,$toNativeArray($kindInt32,[8,0,8])),new CaseRange.ptr(8040,8047,$toNativeArray($kindInt32,[0,-8,0])),new CaseRange.ptr(8048,8049,$toNativeArray($kindInt32,[74,0,74])),new CaseRange.ptr(8050,8053,$toNativeArray($kindInt32,[86,0,86])),new CaseRange.ptr(8054,8055,$toNativeArray($kindInt32,[100,0,100])),new CaseRange.ptr(8056,8057,$toNativeArray($kindInt32,[128,0,128])),new CaseRange.ptr(8058,8059,$toNativeArray($kindInt32,[112,0,112])),new CaseRange.ptr(8060,8061,$toNativeArray($kindInt32,[126,0,126])),new CaseRange.ptr(8064,8071,$toNativeArray($kindInt32,[8,0,8])),new CaseRange.ptr(8072,8079,$toNativeArray($kindInt32,[0,-8,0])),new CaseRange.ptr(8080,8087,$toNativeArray($kindInt32,[8,0,8])),new CaseRange.ptr(8088,8095,$toNativeArray($kindInt32,[0,-8,0])),new CaseRange.ptr(8096,8103,$toNativeArray($kindInt32,[8,0,8])),new CaseRange.ptr(8104,8111,$toNativeArray($kindInt32,[0,-8,0])),new CaseRange.ptr(8112,8113,$toNativeArray($kindInt32,[8,0,8])),new CaseRange.ptr(8115,8115,$toNativeArray($kindInt32,[9,0,9])),new CaseRange.ptr(8120,8121,$toNativeArray($kindInt32,[0,-8,0])),new CaseRange.ptr(8122,8123,$toNativeArray($kindInt32,[0,-74,0])),new CaseRange.ptr(8124,8124,$toNativeArray($kindInt32,[0,-9,0])),new CaseRange.ptr(8126,8126,$toNativeArray($kindInt32,[-7205,0,-7205])),new CaseRange.ptr(8131,8131,$toNativeArray($kindInt32,[9,0,9])),new CaseRange.ptr(8136,8139,$toNativeArray($kindInt32,[0,-86,0])),new CaseRange.ptr(8140,8140,$toNativeArray($kindInt32,[0,-9,0])),new CaseRange.ptr(8144,8145,$toNativeArray($kindInt32,[8,0,8])),new CaseRange.ptr(8152,8153,$toNativeArray($kindInt32,[0,-8,0])),new CaseRange.ptr(8154,8155,$toNativeArray($kindInt32,[0,-100,0])),new CaseRange.ptr(8160,8161,$toNativeArray($kindInt32,[8,0,8])),new CaseRange.ptr(8165,8165,$toNativeArray($kindInt32,[7,0,7])),new CaseRange.ptr(8168,8169,$toNativeArray($kindInt32,[0,-8,0])),new CaseRange.ptr(8170,8171,$toNativeArray($kindInt32,[0,-112,0])),new CaseRange.ptr(8172,8172,$toNativeArray($kindInt32,[0,-7,0])),new CaseRange.ptr(8179,8179,$toNativeArray($kindInt32,[9,0,9])),new CaseRange.ptr(8184,8185,$toNativeArray($kindInt32,[0,-128,0])),new CaseRange.ptr(8186,8187,$toNativeArray($kindInt32,[0,-126,0])),new CaseRange.ptr(8188,8188,$toNativeArray($kindInt32,[0,-9,0])),new CaseRange.ptr(8486,8486,$toNativeArray($kindInt32,[0,-7517,0])),new CaseRange.ptr(8490,8490,$toNativeArray($kindInt32,[0,-8383,0])),new CaseRange.ptr(8491,8491,$toNativeArray($kindInt32,[0,-8262,0])),new CaseRange.ptr(8498,8498,$toNativeArray($kindInt32,[0,28,0])),new CaseRange.ptr(8526,8526,$toNativeArray($kindInt32,[-28,0,-28])),new CaseRange.ptr(8544,8559,$toNativeArray($kindInt32,[0,16,0])),new CaseRange.ptr(8560,8575,$toNativeArray($kindInt32,[-16,0,-16])),new CaseRange.ptr(8579,8580,$toNativeArray($kindInt32,[1114112,1114112,1114112])),new CaseRange.ptr(9398,9423,$toNativeArray($kindInt32,[0,26,0])),new CaseRange.ptr(9424,9449,$toNativeArray($kindInt32,[-26,0,-26])),new CaseRange.ptr(11264,11310,$toNativeArray($kindInt32,[0,48,0])),new CaseRange.ptr(11312,11358,$toNativeArray($kindInt32,[-48,0,-48])),new CaseRange.ptr(11360,11361,$toNativeArray($kindInt32,[1114112,1114112,1114112])),new CaseRange.ptr(11362,11362,$toNativeArray($kindInt32,[0,-10743,0])),new CaseRange.ptr(11363,11363,$toNativeArray($kindInt32,[0,-3814,0])),new CaseRange.ptr(11364,11364,$toNativeArray($kindInt32,[0,-10727,0])),new CaseRange.ptr(11365,11365,$toNativeArray($kindInt32,[-10795,0,-10795])),new CaseRange.ptr(11366,11366,$toNativeArray($kindInt32,[-10792,0,-10792])),new CaseRange.ptr(11367,11372,$toNativeArray($kindInt32,[1114112,1114112,1114112])),new CaseRange.ptr(11373,11373,$toNativeArray($kindInt32,[0,-10780,0])),new CaseRange.ptr(11374,11374,$toNativeArray($kindInt32,[0,-10749,0])),new CaseRange.ptr(11375,11375,$toNativeArray($kindInt32,[0,-10783,0])),new CaseRange.ptr(11376,11376,$toNativeArray($kindInt32,[0,-10782,0])),new CaseRange.ptr(11378,11379,$toNativeArray($kindInt32,[1114112,1114112,1114112])),new CaseRange.ptr(11381,11382,$toNativeArray($kindInt32,[1114112,1114112,1114112])),new CaseRange.ptr(11390,11391,$toNativeArray($kindInt32,[0,-10815,0])),new CaseRange.ptr(11392,11491,$toNativeArray($kindInt32,[1114112,1114112,1114112])),new CaseRange.ptr(11499,11502,$toNativeArray($kindInt32,[1114112,1114112,1114112])),new CaseRange.ptr(11506,11507,$toNativeArray($kindInt32,[1114112,1114112,1114112])),new CaseRange.ptr(11520,11557,$toNativeArray($kindInt32,[-7264,0,-7264])),new CaseRange.ptr(11559,11559,$toNativeArray($kindInt32,[-7264,0,-7264])),new CaseRange.ptr(11565,11565,$toNativeArray($kindInt32,[-7264,0,-7264])),new CaseRange.ptr(42560,42605,$toNativeArray($kindInt32,[1114112,1114112,1114112])),new CaseRange.ptr(42624,42651,$toNativeArray($kindInt32,[1114112,1114112,1114112])),new CaseRange.ptr(42786,42799,$toNativeArray($kindInt32,[1114112,1114112,1114112])),new CaseRange.ptr(42802,42863,$toNativeArray($kindInt32,[1114112,1114112,1114112])),new CaseRange.ptr(42873,42876,$toNativeArray($kindInt32,[1114112,1114112,1114112])),new CaseRange.ptr(42877,42877,$toNativeArray($kindInt32,[0,-35332,0])),new CaseRange.ptr(42878,42887,$toNativeArray($kindInt32,[1114112,1114112,1114112])),new CaseRange.ptr(42891,42892,$toNativeArray($kindInt32,[1114112,1114112,1114112])),new CaseRange.ptr(42893,42893,$toNativeArray($kindInt32,[0,-42280,0])),new CaseRange.ptr(42896,42899,$toNativeArray($kindInt32,[1114112,1114112,1114112])),new CaseRange.ptr(42902,42921,$toNativeArray($kindInt32,[1114112,1114112,1114112])),new CaseRange.ptr(42922,42922,$toNativeArray($kindInt32,[0,-42308,0])),new CaseRange.ptr(42923,42923,$toNativeArray($kindInt32,[0,-42319,0])),new CaseRange.ptr(42924,42924,$toNativeArray($kindInt32,[0,-42315,0])),new CaseRange.ptr(42925,42925,$toNativeArray($kindInt32,[0,-42305,0])),new CaseRange.ptr(42926,42926,$toNativeArray($kindInt32,[0,-42308,0])),new CaseRange.ptr(42928,42928,$toNativeArray($kindInt32,[0,-42258,0])),new CaseRange.ptr(42929,42929,$toNativeArray($kindInt32,[0,-42282,0])),new CaseRange.ptr(42930,42930,$toNativeArray($kindInt32,[0,-42261,0])),new CaseRange.ptr(42931,42931,$toNativeArray($kindInt32,[0,928,0])),new CaseRange.ptr(42932,42935,$toNativeArray($kindInt32,[1114112,1114112,1114112])),new CaseRange.ptr(43859,43859,$toNativeArray($kindInt32,[-928,0,-928])),new CaseRange.ptr(43888,43967,$toNativeArray($kindInt32,[-38864,0,-38864])),new CaseRange.ptr(65313,65338,$toNativeArray($kindInt32,[0,32,0])),new CaseRange.ptr(65345,65370,$toNativeArray($kindInt32,[-32,0,-32])),new CaseRange.ptr(66560,66599,$toNativeArray($kindInt32,[0,40,0])),new CaseRange.ptr(66600,66639,$toNativeArray($kindInt32,[-40,0,-40])),new CaseRange.ptr(66736,66771,$toNativeArray($kindInt32,[0,40,0])),new CaseRange.ptr(66776,66811,$toNativeArray($kindInt32,[-40,0,-40])),new CaseRange.ptr(68736,68786,$toNativeArray($kindInt32,[0,64,0])),new CaseRange.ptr(68800,68850,$toNativeArray($kindInt32,[-64,0,-64])),new CaseRange.ptr(71840,71871,$toNativeArray($kindInt32,[0,32,0])),new CaseRange.ptr(71872,71903,$toNativeArray($kindInt32,[-32,0,-32])),new CaseRange.ptr(125184,125217,$toNativeArray($kindInt32,[0,34,0])),new CaseRange.ptr(125218,125251,$toNativeArray($kindInt32,[-34,0,-34]))]);$pkg.CaseRanges=_CaseRanges;properties=$toNativeArray($kindUint8,[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,144,130,130,130,136,130,130,130,130,130,130,136,130,130,130,130,132,132,132,132,132,132,132,132,132,132,130,130,136,136,136,130,130,160,160,160,160,160,160,160,160,160,160,160,160,160,160,160,160,160,160,160,160,160,160,160,160,160,160,130,130,130,136,130,136,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,130,136,130,136,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,16,130,136,136,136,136,136,130,136,136,224,130,136,0,136,136,136,136,132,132,136,192,130,130,136,132,224,130,132,132,132,130,160,160,160,160,160,160,160,160,160,160,160,160,160,160,160,160,160,160,160,160,160,160,160,136,160,160,160,160,160,160,160,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,136,192,192,192,192,192,192,192,192]);asciiFold=$toNativeArray($kindUint16,[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,91,92,93,94,95,96,65,66,67,68,69,70,71,72,73,74,8490,76,77,78,79,80,81,82,383,84,85,86,87,88,89,90,123,124,125,126,127]);caseOrbit=new sliceType$4([new foldPair.ptr(75,107),new foldPair.ptr(83,115),new foldPair.ptr(107,8490),new foldPair.ptr(115,383),new foldPair.ptr(181,924),new foldPair.ptr(197,229),new foldPair.ptr(223,7838),new foldPair.ptr(229,8491),new foldPair.ptr(304,304),new foldPair.ptr(305,305),new foldPair.ptr(383,83),new foldPair.ptr(452,453),new foldPair.ptr(453,454),new foldPair.ptr(454,452),new foldPair.ptr(455,456),new foldPair.ptr(456,457),new foldPair.ptr(457,455),new foldPair.ptr(458,459),new foldPair.ptr(459,460),new foldPair.ptr(460,458),new foldPair.ptr(497,498),new foldPair.ptr(498,499),new foldPair.ptr(499,497),new foldPair.ptr(837,921),new foldPair.ptr(914,946),new foldPair.ptr(917,949),new foldPair.ptr(920,952),new foldPair.ptr(921,953),new foldPair.ptr(922,954),new foldPair.ptr(924,956),new foldPair.ptr(928,960),new foldPair.ptr(929,961),new foldPair.ptr(931,962),new foldPair.ptr(934,966),new foldPair.ptr(937,969),new foldPair.ptr(946,976),new foldPair.ptr(949,1013),new foldPair.ptr(952,977),new foldPair.ptr(953,8126),new foldPair.ptr(954,1008),new foldPair.ptr(956,181),new foldPair.ptr(960,982),new foldPair.ptr(961,1009),new foldPair.ptr(962,963),new foldPair.ptr(963,931),new foldPair.ptr(966,981),new foldPair.ptr(969,8486),new foldPair.ptr(976,914),new foldPair.ptr(977,1012),new foldPair.ptr(981,934),new foldPair.ptr(982,928),new foldPair.ptr(1008,922),new foldPair.ptr(1009,929),new foldPair.ptr(1012,920),new foldPair.ptr(1013,917),new foldPair.ptr(1042,1074),new foldPair.ptr(1044,1076),new foldPair.ptr(1054,1086),new foldPair.ptr(1057,1089),new foldPair.ptr(1058,1090),new foldPair.ptr(1066,1098),new foldPair.ptr(1074,7296),new foldPair.ptr(1076,7297),new foldPair.ptr(1086,7298),new foldPair.ptr(1089,7299),new foldPair.ptr(1090,7300),new foldPair.ptr(1098,7302),new foldPair.ptr(1122,1123),new foldPair.ptr(1123,7303),new foldPair.ptr(7296,1042),new foldPair.ptr(7297,1044),new foldPair.ptr(7298,1054),new foldPair.ptr(7299,1057),new foldPair.ptr(7300,7301),new foldPair.ptr(7301,1058),new foldPair.ptr(7302,1066),new foldPair.ptr(7303,1122),new foldPair.ptr(7304,42570),new foldPair.ptr(7776,7777),new foldPair.ptr(7777,7835),new foldPair.ptr(7835,7776),new foldPair.ptr(7838,223),new foldPair.ptr(8126,837),new foldPair.ptr(8486,937),new foldPair.ptr(8490,75),new foldPair.ptr(8491,197),new foldPair.ptr(42570,42571),new foldPair.ptr(42571,7304)]);/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["reflect"]=function(){var $pkg={},$init,errors,js,math,runtime,strconv,sync,unicode,utf8,uncommonType,funcType,name,nameData,mapIter,Type,Kind,tflag,rtype,typeAlg,method,ChanDir,arrayType,chanType,imethod,interfaceType,mapType,ptrType,sliceType,structField,structType,Method,nameOff,typeOff,textOff,StructField,StructTag,fieldScan,Value,flag,ValueError,MapIter,sliceType$1,ptrType$1,sliceType$2,sliceType$3,ptrType$2,funcType$1,sliceType$4,ptrType$3,ptrType$4,sliceType$5,sliceType$6,sliceType$7,ptrType$5,ptrType$6,structType$3,sliceType$8,sliceType$9,ptrType$7,ptrType$8,sliceType$10,sliceType$11,ptrType$9,ptrType$10,sliceType$13,sliceType$14,ptrType$11,sliceType$15,ptrType$17,sliceType$18,funcType$3,funcType$4,funcType$5,ptrType$18,arrayType$8,ptrType$19,ptrType$20,initialized,uncommonTypeMap,nameMap,nameOffList,typeOffList,callHelper,jsObjectPtr,selectHelper,kindNames,uint8Type,init,jsType,reflectType,setKindType,newName,newNameOff,newTypeOff,internalStr,isWrapped,copyStruct,makeValue,MakeSlice,TypeOf,ValueOf,FuncOf,SliceOf,Zero,unsafe_New,makeInt,typedmemmove,makemap,keyFor,mapaccess,mapassign,mapdelete,mapiterinit,mapiterkey,mapitervalue,mapiternext,maplen,cvtDirect,Copy,methodReceiver,valueInterface,ifaceE2I,methodName,makeMethodValue,wrapJsObject,unwrapJsObject,getJsTag,chanrecv,chansend,Swapper,PtrTo,implements$1,directlyAssignable,haveIdenticalType,haveIdenticalUnderlyingType,toType,ifaceIndir,copyVal,overflowFloat32,typesMustMatch,MakeMap,MakeMapWithSize,New,convertOp,makeFloat,makeComplex,makeString,makeBytes,makeRunes,cvtInt,cvtUint,cvtFloatInt,cvtFloatUint,cvtIntFloat,cvtUintFloat,cvtFloat,cvtComplex,cvtIntString,cvtUintString,cvtBytesString,cvtStringBytes,cvtRunesString,cvtStringRunes,cvtT2I,cvtI2I;errors=$packages["errors"];js=$packages["github.com/gopherjs/gopherjs/js"];math=$packages["math"];runtime=$packages["runtime"];strconv=$packages["strconv"];sync=$packages["sync"];unicode=$packages["unicode"];utf8=$packages["unicode/utf8"];uncommonType=$pkg.uncommonType=$newType(0,$kindStruct,"reflect.uncommonType",true,"reflect",false,function(pkgPath_,mcount_,xcount_,moff_,_methods_){this.$val=this;if(arguments.length===0){this.pkgPath=0;this.mcount=0;this.xcount=0;this.moff=0;this._methods=sliceType$5.nil;return;}this.pkgPath=pkgPath_;this.mcount=mcount_;this.xcount=xcount_;this.moff=moff_;this._methods=_methods_;});funcType=$pkg.funcType=$newType(0,$kindStruct,"reflect.funcType",true,"reflect",false,function(rtype_,inCount_,outCount_,_in_,_out_){this.$val=this;if(arguments.length===0){this.rtype=new rtype.ptr(0,0,0,0,0,0,0,ptrType$3.nil,ptrType$4.nil,0,0);this.inCount=0;this.outCount=0;this._in=sliceType$2.nil;this._out=sliceType$2.nil;return;}this.rtype=rtype_;this.inCount=inCount_;this.outCount=outCount_;this._in=_in_;this._out=_out_;});name=$pkg.name=$newType(0,$kindStruct,"reflect.name",true,"reflect",false,function(bytes_){this.$val=this;if(arguments.length===0){this.bytes=ptrType$4.nil;return;}this.bytes=bytes_;});nameData=$pkg.nameData=$newType(0,$kindStruct,"reflect.nameData",true,"reflect",false,function(name_,tag_,exported_){this.$val=this;if(arguments.length===0){this.name="";this.tag="";this.exported=false;return;}this.name=name_;this.tag=tag_;this.exported=exported_;});mapIter=$pkg.mapIter=$newType(0,$kindStruct,"reflect.mapIter",true,"reflect",false,function(t_,m_,keys_,i_,last_){this.$val=this;if(arguments.length===0){this.t=$ifaceNil;this.m=null;this.keys=null;this.i=0;this.last=null;return;}this.t=t_;this.m=m_;this.keys=keys_;this.i=i_;this.last=last_;});Type=$pkg.Type=$newType(8,$kindInterface,"reflect.Type",true,"reflect",true,null);Kind=$pkg.Kind=$newType(4,$kindUint,"reflect.Kind",true,"reflect",true,null);tflag=$pkg.tflag=$newType(1,$kindUint8,"reflect.tflag",true,"reflect",false,null);rtype=$pkg.rtype=$newType(0,$kindStruct,"reflect.rtype",true,"reflect",false,function(size_,ptrdata_,hash_,tflag_,align_,fieldAlign_,kind_,alg_,gcdata_,str_,ptrToThis_){this.$val=this;if(arguments.length===0){this.size=0;this.ptrdata=0;this.hash=0;this.tflag=0;this.align=0;this.fieldAlign=0;this.kind=0;this.alg=ptrType$3.nil;this.gcdata=ptrType$4.nil;this.str=0;this.ptrToThis=0;return;}this.size=size_;this.ptrdata=ptrdata_;this.hash=hash_;this.tflag=tflag_;this.align=align_;this.fieldAlign=fieldAlign_;this.kind=kind_;this.alg=alg_;this.gcdata=gcdata_;this.str=str_;this.ptrToThis=ptrToThis_;});typeAlg=$pkg.typeAlg=$newType(0,$kindStruct,"reflect.typeAlg",true,"reflect",false,function(hash_,equal_){this.$val=this;if(arguments.length===0){this.hash=$throwNilPointerError;this.equal=$throwNilPointerError;return;}this.hash=hash_;this.equal=equal_;});method=$pkg.method=$newType(0,$kindStruct,"reflect.method",true,"reflect",false,function(name_,mtyp_,ifn_,tfn_){this.$val=this;if(arguments.length===0){this.name=0;this.mtyp=0;this.ifn=0;this.tfn=0;return;}this.name=name_;this.mtyp=mtyp_;this.ifn=ifn_;this.tfn=tfn_;});ChanDir=$pkg.ChanDir=$newType(4,$kindInt,"reflect.ChanDir",true,"reflect",true,null);arrayType=$pkg.arrayType=$newType(0,$kindStruct,"reflect.arrayType",true,"reflect",false,function(rtype_,elem_,slice_,len_){this.$val=this;if(arguments.length===0){this.rtype=new rtype.ptr(0,0,0,0,0,0,0,ptrType$3.nil,ptrType$4.nil,0,0);this.elem=ptrType$1.nil;this.slice=ptrType$1.nil;this.len=0;return;}this.rtype=rtype_;this.elem=elem_;this.slice=slice_;this.len=len_;});chanType=$pkg.chanType=$newType(0,$kindStruct,"reflect.chanType",true,"reflect",false,function(rtype_,elem_,dir_){this.$val=this;if(arguments.length===0){this.rtype=new rtype.ptr(0,0,0,0,0,0,0,ptrType$3.nil,ptrType$4.nil,0,0);this.elem=ptrType$1.nil;this.dir=0;return;}this.rtype=rtype_;this.elem=elem_;this.dir=dir_;});imethod=$pkg.imethod=$newType(0,$kindStruct,"reflect.imethod",true,"reflect",false,function(name_,typ_){this.$val=this;if(arguments.length===0){this.name=0;this.typ=0;return;}this.name=name_;this.typ=typ_;});interfaceType=$pkg.interfaceType=$newType(0,$kindStruct,"reflect.interfaceType",true,"reflect",false,function(rtype_,pkgPath_,methods_){this.$val=this;if(arguments.length===0){this.rtype=new rtype.ptr(0,0,0,0,0,0,0,ptrType$3.nil,ptrType$4.nil,0,0);this.pkgPath=new name.ptr(ptrType$4.nil);this.methods=sliceType$6.nil;return;}this.rtype=rtype_;this.pkgPath=pkgPath_;this.methods=methods_;});mapType=$pkg.mapType=$newType(0,$kindStruct,"reflect.mapType",true,"reflect",false,function(rtype_,key_,elem_,bucket_,keysize_,valuesize_,bucketsize_,flags_){this.$val=this;if(arguments.length===0){this.rtype=new rtype.ptr(0,0,0,0,0,0,0,ptrType$3.nil,ptrType$4.nil,0,0);this.key=ptrType$1.nil;this.elem=ptrType$1.nil;this.bucket=ptrType$1.nil;this.keysize=0;this.valuesize=0;this.bucketsize=0;this.flags=0;return;}this.rtype=rtype_;this.key=key_;this.elem=elem_;this.bucket=bucket_;this.keysize=keysize_;this.valuesize=valuesize_;this.bucketsize=bucketsize_;this.flags=flags_;});ptrType=$pkg.ptrType=$newType(0,$kindStruct,"reflect.ptrType",true,"reflect",false,function(rtype_,elem_){this.$val=this;if(arguments.length===0){this.rtype=new rtype.ptr(0,0,0,0,0,0,0,ptrType$3.nil,ptrType$4.nil,0,0);this.elem=ptrType$1.nil;return;}this.rtype=rtype_;this.elem=elem_;});sliceType=$pkg.sliceType=$newType(0,$kindStruct,"reflect.sliceType",true,"reflect",false,function(rtype_,elem_){this.$val=this;if(arguments.length===0){this.rtype=new rtype.ptr(0,0,0,0,0,0,0,ptrType$3.nil,ptrType$4.nil,0,0);this.elem=ptrType$1.nil;return;}this.rtype=rtype_;this.elem=elem_;});structField=$pkg.structField=$newType(0,$kindStruct,"reflect.structField",true,"reflect",false,function(name_,typ_,offsetEmbed_){this.$val=this;if(arguments.length===0){this.name=new name.ptr(ptrType$4.nil);this.typ=ptrType$1.nil;this.offsetEmbed=0;return;}this.name=name_;this.typ=typ_;this.offsetEmbed=offsetEmbed_;});structType=$pkg.structType=$newType(0,$kindStruct,"reflect.structType",true,"reflect",false,function(rtype_,pkgPath_,fields_){this.$val=this;if(arguments.length===0){this.rtype=new rtype.ptr(0,0,0,0,0,0,0,ptrType$3.nil,ptrType$4.nil,0,0);this.pkgPath=new name.ptr(ptrType$4.nil);this.fields=sliceType$7.nil;return;}this.rtype=rtype_;this.pkgPath=pkgPath_;this.fields=fields_;});Method=$pkg.Method=$newType(0,$kindStruct,"reflect.Method",true,"reflect",true,function(Name_,PkgPath_,Type_,Func_,Index_){this.$val=this;if(arguments.length===0){this.Name="";this.PkgPath="";this.Type=$ifaceNil;this.Func=new Value.ptr(ptrType$1.nil,0,0);this.Index=0;return;}this.Name=Name_;this.PkgPath=PkgPath_;this.Type=Type_;this.Func=Func_;this.Index=Index_;});nameOff=$pkg.nameOff=$newType(4,$kindInt32,"reflect.nameOff",true,"reflect",false,null);typeOff=$pkg.typeOff=$newType(4,$kindInt32,"reflect.typeOff",true,"reflect",false,null);textOff=$pkg.textOff=$newType(4,$kindInt32,"reflect.textOff",true,"reflect",false,null);StructField=$pkg.StructField=$newType(0,$kindStruct,"reflect.StructField",true,"reflect",true,function(Name_,PkgPath_,Type_,Tag_,Offset_,Index_,Anonymous_){this.$val=this;if(arguments.length===0){this.Name="";this.PkgPath="";this.Type=$ifaceNil;this.Tag="";this.Offset=0;this.Index=sliceType$13.nil;this.Anonymous=false;return;}this.Name=Name_;this.PkgPath=PkgPath_;this.Type=Type_;this.Tag=Tag_;this.Offset=Offset_;this.Index=Index_;this.Anonymous=Anonymous_;});StructTag=$pkg.StructTag=$newType(8,$kindString,"reflect.StructTag",true,"reflect",true,null);fieldScan=$pkg.fieldScan=$newType(0,$kindStruct,"reflect.fieldScan",true,"reflect",false,function(typ_,index_){this.$val=this;if(arguments.length===0){this.typ=ptrType$11.nil;this.index=sliceType$13.nil;return;}this.typ=typ_;this.index=index_;});Value=$pkg.Value=$newType(0,$kindStruct,"reflect.Value",true,"reflect",true,function(typ_,ptr_,flag_){this.$val=this;if(arguments.length===0){this.typ=ptrType$1.nil;this.ptr=0;this.flag=0;return;}this.typ=typ_;this.ptr=ptr_;this.flag=flag_;});flag=$pkg.flag=$newType(4,$kindUintptr,"reflect.flag",true,"reflect",false,null);ValueError=$pkg.ValueError=$newType(0,$kindStruct,"reflect.ValueError",true,"reflect",true,function(Method_,Kind_){this.$val=this;if(arguments.length===0){this.Method="";this.Kind=0;return;}this.Method=Method_;this.Kind=Kind_;});MapIter=$pkg.MapIter=$newType(0,$kindStruct,"reflect.MapIter",true,"reflect",true,function(m_,it_){this.$val=this;if(arguments.length===0){this.m=new Value.ptr(ptrType$1.nil,0,0);this.it=0;return;}this.m=m_;this.it=it_;});sliceType$1=$sliceType(name);ptrType$1=$ptrType(rtype);sliceType$2=$sliceType(ptrType$1);sliceType$3=$sliceType($emptyInterface);ptrType$2=$ptrType(js.Object);funcType$1=$funcType([sliceType$3],[ptrType$2],true);sliceType$4=$sliceType($String);ptrType$3=$ptrType(typeAlg);ptrType$4=$ptrType($Uint8);sliceType$5=$sliceType(method);sliceType$6=$sliceType(imethod);sliceType$7=$sliceType(structField);ptrType$5=$ptrType(uncommonType);ptrType$6=$ptrType(nameData);structType$3=$structType("reflect",[{prop:"str",name:"str",embedded:false,exported:false,typ:$String,tag:""}]);sliceType$8=$sliceType(ptrType$2);sliceType$9=$sliceType(Value);ptrType$7=$ptrType(mapIter);ptrType$8=$ptrType(funcType);sliceType$10=$sliceType(Type);sliceType$11=$sliceType(sliceType$8);ptrType$9=$ptrType(interfaceType);ptrType$10=$ptrType(imethod);sliceType$13=$sliceType($Int);sliceType$14=$sliceType(fieldScan);ptrType$11=$ptrType(structType);sliceType$15=$sliceType($Uint8);ptrType$17=$ptrType($UnsafePointer);sliceType$18=$sliceType($Int32);funcType$3=$funcType([$String],[$Bool],false);funcType$4=$funcType([$UnsafePointer,$Uintptr],[$Uintptr],false);funcType$5=$funcType([$UnsafePointer,$UnsafePointer],[$Bool],false);ptrType$18=$ptrType(structField);arrayType$8=$arrayType($Uintptr,2);ptrType$19=$ptrType(MapIter);ptrType$20=$ptrType(ValueError);init=function(){var used,x,x$1,x$10,x$11,x$12,x$2,x$3,x$4,x$5,x$6,x$7,x$8,x$9,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;used=$f.used;x=$f.x;x$1=$f.x$1;x$10=$f.x$10;x$11=$f.x$11;x$12=$f.x$12;x$2=$f.x$2;x$3=$f.x$3;x$4=$f.x$4;x$5=$f.x$5;x$6=$f.x$6;x$7=$f.x$7;x$8=$f.x$8;x$9=$f.x$9;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:used=function(i){var i;};$r=used((x=new rtype.ptr(0,0,0,0,0,0,0,ptrType$3.nil,ptrType$4.nil,0,0),new x.constructor.elem(x)));/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=used((x$1=new uncommonType.ptr(0,0,0,0,sliceType$5.nil),new x$1.constructor.elem(x$1)));/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=used((x$2=new method.ptr(0,0,0,0),new x$2.constructor.elem(x$2)));/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=used((x$3=new arrayType.ptr(new rtype.ptr(0,0,0,0,0,0,0,ptrType$3.nil,ptrType$4.nil,0,0),ptrType$1.nil,ptrType$1.nil,0),new x$3.constructor.elem(x$3)));/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=used((x$4=new chanType.ptr(new rtype.ptr(0,0,0,0,0,0,0,ptrType$3.nil,ptrType$4.nil,0,0),ptrType$1.nil,0),new x$4.constructor.elem(x$4)));/* */$s=5;case 5:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=used((x$5=new funcType.ptr(new rtype.ptr(0,0,0,0,0,0,0,ptrType$3.nil,ptrType$4.nil,0,0),0,0,sliceType$2.nil,sliceType$2.nil),new x$5.constructor.elem(x$5)));/* */$s=6;case 6:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=used((x$6=new interfaceType.ptr(new rtype.ptr(0,0,0,0,0,0,0,ptrType$3.nil,ptrType$4.nil,0,0),new name.ptr(ptrType$4.nil),sliceType$6.nil),new x$6.constructor.elem(x$6)));/* */$s=7;case 7:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=used((x$7=new mapType.ptr(new rtype.ptr(0,0,0,0,0,0,0,ptrType$3.nil,ptrType$4.nil,0,0),ptrType$1.nil,ptrType$1.nil,ptrType$1.nil,0,0,0,0),new x$7.constructor.elem(x$7)));/* */$s=8;case 8:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=used((x$8=new ptrType.ptr(new rtype.ptr(0,0,0,0,0,0,0,ptrType$3.nil,ptrType$4.nil,0,0),ptrType$1.nil),new x$8.constructor.elem(x$8)));/* */$s=9;case 9:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=used((x$9=new sliceType.ptr(new rtype.ptr(0,0,0,0,0,0,0,ptrType$3.nil,ptrType$4.nil,0,0),ptrType$1.nil),new x$9.constructor.elem(x$9)));/* */$s=10;case 10:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=used((x$10=new structType.ptr(new rtype.ptr(0,0,0,0,0,0,0,ptrType$3.nil,ptrType$4.nil,0,0),new name.ptr(ptrType$4.nil),sliceType$7.nil),new x$10.constructor.elem(x$10)));/* */$s=11;case 11:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=used((x$11=new imethod.ptr(0,0),new x$11.constructor.elem(x$11)));/* */$s=12;case 12:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=used((x$12=new structField.ptr(new name.ptr(ptrType$4.nil),ptrType$1.nil,0),new x$12.constructor.elem(x$12)));/* */$s=13;case 13:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}initialized=true;uint8Type=$assertType(TypeOf(new $Uint8(0)),ptrType$1);$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:init};}$f.used=used;$f.x=x;$f.x$1=x$1;$f.x$10=x$10;$f.x$11=x$11;$f.x$12=x$12;$f.x$2=x$2;$f.x$3=x$3;$f.x$4=x$4;$f.x$5=x$5;$f.x$6=x$6;$f.x$7=x$7;$f.x$8=x$8;$f.x$9=x$9;$f.$s=$s;$f.$r=$r;return $f;};jsType=function(typ){var typ;return typ.jsType;};reflectType=function(typ){var _1,_i,_i$1,_i$2,_i$3,_key,_ref,_ref$1,_ref$2,_ref$3,dir,exported,exported$1,f,fields,i,i$1,i$2,i$3,i$4,i$5,imethods,in$1,m,m$1,m$2,methodSet,methods,offsetEmbed,out,outCount,params,reflectFields,reflectMethods,results,rt,typ,ut,xcount;if(typ.reflectType===undefined){rt=new rtype.ptr($parseInt(typ.size)>>0>>>0,0,0,0,0,0,$parseInt(typ.kind)>>0<<24>>>24,ptrType$3.nil,ptrType$4.nil,newNameOff($clone(newName(internalStr(typ.string),"",!!typ.exported),name)),0);rt.jsType=typ;typ.reflectType=rt;methodSet=$methodSet(typ);if(!($parseInt(methodSet.length)===0)||!!typ.named){rt.tflag=(rt.tflag|1)>>>0;if(!!typ.named){rt.tflag=(rt.tflag|4)>>>0;}reflectMethods=sliceType$5.nil;i=0;while(true){if(!(i<$parseInt(methodSet.length))){break;}m=methodSet[i];exported=internalStr(m.pkg)==="";if(!exported){i=i+1>>0;continue;}reflectMethods=$append(reflectMethods,new method.ptr(newNameOff($clone(newName(internalStr(m.name),"",exported),name)),newTypeOff(reflectType(m.typ)),0,0));i=i+1>>0;}xcount=reflectMethods.$length<<16>>>16;i$1=0;while(true){if(!(i$1<$parseInt(methodSet.length))){break;}m$1=methodSet[i$1];exported$1=internalStr(m$1.pkg)==="";if(exported$1){i$1=i$1+1>>0;continue;}reflectMethods=$append(reflectMethods,new method.ptr(newNameOff($clone(newName(internalStr(m$1.name),"",exported$1),name)),newTypeOff(reflectType(m$1.typ)),0,0));i$1=i$1+1>>0;}ut=new uncommonType.ptr(newNameOff($clone(newName(internalStr(typ.pkg),"",false),name)),$parseInt(methodSet.length)<<16>>>16,xcount,0,reflectMethods);_key=rt;(uncommonTypeMap||$throwRuntimeError("assignment to entry in nil map"))[ptrType$1.keyFor(_key)]={k:_key,v:ut};ut.jsType=typ;}_1=rt.Kind();if(_1===17){setKindType(rt,new arrayType.ptr(new rtype.ptr(0,0,0,0,0,0,0,ptrType$3.nil,ptrType$4.nil,0,0),reflectType(typ.elem),ptrType$1.nil,$parseInt(typ.len)>>0>>>0));}else if(_1===18){dir=3;if(!!typ.sendOnly){dir=2;}if(!!typ.recvOnly){dir=1;}setKindType(rt,new chanType.ptr(new rtype.ptr(0,0,0,0,0,0,0,ptrType$3.nil,ptrType$4.nil,0,0),reflectType(typ.elem),dir>>>0));}else if(_1===19){params=typ.params;in$1=$makeSlice(sliceType$2,$parseInt(params.length));_ref=in$1;_i=0;while(true){if(!(_i<_ref.$length)){break;}i$2=_i;i$2<0||i$2>=in$1.$length?($throwRuntimeError("index out of range"),undefined):in$1.$array[in$1.$offset+i$2]=reflectType(params[i$2]);_i++;}results=typ.results;out=$makeSlice(sliceType$2,$parseInt(results.length));_ref$1=out;_i$1=0;while(true){if(!(_i$1<_ref$1.$length)){break;}i$3=_i$1;i$3<0||i$3>=out.$length?($throwRuntimeError("index out of range"),undefined):out.$array[out.$offset+i$3]=reflectType(results[i$3]);_i$1++;}outCount=$parseInt(results.length)<<16>>>16;if(!!typ.variadic){outCount=(outCount|32768)>>>0;}setKindType(rt,new funcType.ptr($clone(rt,rtype),$parseInt(params.length)<<16>>>16,outCount,in$1,out));}else if(_1===20){methods=typ.methods;imethods=$makeSlice(sliceType$6,$parseInt(methods.length));_ref$2=imethods;_i$2=0;while(true){if(!(_i$2<_ref$2.$length)){break;}i$4=_i$2;m$2=methods[i$4];imethod.copy(i$4<0||i$4>=imethods.$length?($throwRuntimeError("index out of range"),undefined):imethods.$array[imethods.$offset+i$4],new imethod.ptr(newNameOff($clone(newName(internalStr(m$2.name),"",internalStr(m$2.pkg)===""),name)),newTypeOff(reflectType(m$2.typ))));_i$2++;}setKindType(rt,new interfaceType.ptr($clone(rt,rtype),$clone(newName(internalStr(typ.pkg),"",false),name),imethods));}else if(_1===21){setKindType(rt,new mapType.ptr(new rtype.ptr(0,0,0,0,0,0,0,ptrType$3.nil,ptrType$4.nil,0,0),reflectType(typ.key),reflectType(typ.elem),ptrType$1.nil,0,0,0,0));}else if(_1===22){setKindType(rt,new ptrType.ptr(new rtype.ptr(0,0,0,0,0,0,0,ptrType$3.nil,ptrType$4.nil,0,0),reflectType(typ.elem)));}else if(_1===23){setKindType(rt,new sliceType.ptr(new rtype.ptr(0,0,0,0,0,0,0,ptrType$3.nil,ptrType$4.nil,0,0),reflectType(typ.elem)));}else if(_1===25){fields=typ.fields;reflectFields=$makeSlice(sliceType$7,$parseInt(fields.length));_ref$3=reflectFields;_i$3=0;while(true){if(!(_i$3<_ref$3.$length)){break;}i$5=_i$3;f=fields[i$5];offsetEmbed=i$5>>>0<<1>>>0;if(!!f.embedded){offsetEmbed=(offsetEmbed|1)>>>0;}structField.copy(i$5<0||i$5>=reflectFields.$length?($throwRuntimeError("index out of range"),undefined):reflectFields.$array[reflectFields.$offset+i$5],new structField.ptr($clone(newName(internalStr(f.name),internalStr(f.tag),!!f.exported),name),reflectType(f.typ),offsetEmbed));_i$3++;}setKindType(rt,new structType.ptr($clone(rt,rtype),$clone(newName(internalStr(typ.pkgPath),"",false),name),reflectFields));}}return typ.reflectType;};setKindType=function(rt,kindType){var kindType,rt;rt.kindType=kindType;kindType.rtype=rt;};uncommonType.ptr.prototype.methods=function(){var t;t=this;return t._methods;};uncommonType.prototype.methods=function(){return this.$val.methods();};uncommonType.ptr.prototype.exportedMethods=function(){var t;t=this;return $subslice(t._methods,0,t.xcount,t.xcount);};uncommonType.prototype.exportedMethods=function(){return this.$val.exportedMethods();};rtype.ptr.prototype.uncommon=function(){var _entry,t;t=this;return _entry=uncommonTypeMap[ptrType$1.keyFor(t)],_entry!==undefined?_entry.v:ptrType$5.nil;};rtype.prototype.uncommon=function(){return this.$val.uncommon();};funcType.ptr.prototype.in$=function(){var t;t=this;return t._in;};funcType.prototype.in$=function(){return this.$val.in$();};funcType.ptr.prototype.out=function(){var t;t=this;return t._out;};funcType.prototype.out=function(){return this.$val.out();};name.ptr.prototype.name=function(){var _entry,n,s;s="";n=this;s=(_entry=nameMap[ptrType$4.keyFor(n.bytes)],_entry!==undefined?_entry.v:ptrType$6.nil).name;return s;};name.prototype.name=function(){return this.$val.name();};name.ptr.prototype.tag=function(){var _entry,n,s;s="";n=this;s=(_entry=nameMap[ptrType$4.keyFor(n.bytes)],_entry!==undefined?_entry.v:ptrType$6.nil).tag;return s;};name.prototype.tag=function(){return this.$val.tag();};name.ptr.prototype.pkgPath=function(){var n;n=this;return"";};name.prototype.pkgPath=function(){return this.$val.pkgPath();};name.ptr.prototype.isExported=function(){var _entry,n;n=this;return(_entry=nameMap[ptrType$4.keyFor(n.bytes)],_entry!==undefined?_entry.v:ptrType$6.nil).exported;};name.prototype.isExported=function(){return this.$val.isExported();};newName=function(n,tag,exported){var _key,b,exported,n,tag;b=$newDataPointer(0,ptrType$4);_key=b;(nameMap||$throwRuntimeError("assignment to entry in nil map"))[ptrType$4.keyFor(_key)]={k:_key,v:new nameData.ptr(n,tag,exported)};return new name.ptr(b);};rtype.ptr.prototype.nameOff=function(off){var off,t,x;t=this;return x=off>>0,x<0||x>=nameOffList.$length?($throwRuntimeError("index out of range"),undefined):nameOffList.$array[nameOffList.$offset+x];};rtype.prototype.nameOff=function(off){return this.$val.nameOff(off);};newNameOff=function(n){var i,n;i=nameOffList.$length;nameOffList=$append(nameOffList,n);return i>>0;};rtype.ptr.prototype.typeOff=function(off){var off,t,x;t=this;return x=off>>0,x<0||x>=typeOffList.$length?($throwRuntimeError("index out of range"),undefined):typeOffList.$array[typeOffList.$offset+x];};rtype.prototype.typeOff=function(off){return this.$val.typeOff(off);};newTypeOff=function(t){var i,t;i=typeOffList.$length;typeOffList=$append(typeOffList,t);return i>>0;};internalStr=function(strObj){var c,strObj;c=new structType$3.ptr("");c.str=strObj;return c.str;};isWrapped=function(typ){var typ;return!!jsType(typ).wrapped;};copyStruct=function(dst,src,typ){var dst,fields,i,prop,src,typ;fields=jsType(typ).fields;i=0;while(true){if(!(i<$parseInt(fields.length))){break;}prop=$internalize(fields[i].prop,$String);dst[$externalize(prop,$String)]=src[$externalize(prop,$String)];i=i+1>>0;}};makeValue=function(t,v,fl){var _r,_r$1,_r$2,_r$3,_r$4,_r$5,_v,_v$1,fl,rt,t,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_v=$f._v;_v$1=$f._v$1;fl=$f.fl;rt=$f.rt;t=$f.t;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=t.common();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}rt=_r;_r$1=t.Kind();/* */$s=6;case 6:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}if(_r$1===17){_v$1=true;$s=5;continue s;}_r$2=t.Kind();/* */$s=7;case 7:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_v$1=_r$2===25;case 5:if(_v$1){_v=true;$s=4;continue s;}_r$3=t.Kind();/* */$s=8;case 8:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_v=_r$3===22;case 4:/* */if(_v){$s=2;continue;}/* */$s=3;continue;/* if (_v) { */case 2:_r$4=t.Kind();/* */$s=9;case 9:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}$s=-1;return new Value.ptr(rt,v,(fl|_r$4>>>0)>>>0);/* } */case 3:_r$5=t.Kind();/* */$s=10;case 10:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}$s=-1;return new Value.ptr(rt,$newDataPointer(v,jsType(rt.ptrTo())),((fl|_r$5>>>0)>>>0|128)>>>0);/* */}return;}if($f===undefined){$f={$blk:makeValue};}$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._v=_v;$f._v$1=_v$1;$f.fl=fl;$f.rt=rt;$f.t=t;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};MakeSlice=function(typ,len,cap){var _r,_r$1,cap,len,typ,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;cap=$f.cap;len=$f.len;typ=$f.typ;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:typ=[typ];_r=typ[0].Kind();/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}/* */if(!(_r===23)){$s=1;continue;}/* */$s=2;continue;/* if (!((_r === 23))) { */case 1:$panic(new $String("reflect.MakeSlice of non-slice type"));/* } */case 2:if(len<0){$panic(new $String("reflect.MakeSlice: negative len"));}if(cap<0){$panic(new $String("reflect.MakeSlice: negative cap"));}if(len>cap){$panic(new $String("reflect.MakeSlice: len > cap"));}_r$1=makeValue(typ[0],$makeSlice(jsType(typ[0]),len,cap,function(typ){return function $b(){var _r$1,_r$2,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r$1=$f._r$1;_r$2=$f._r$2;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r$1=typ[0].Elem();/* */$s=1;case 1:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_r$2=jsType(_r$1);/* */$s=2;case 2:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}$s=-1;return _r$2.zero();/* */}return;}if($f===undefined){$f={$blk:$b};}$f._r$1=_r$1;$f._r$2=_r$2;$f.$s=$s;$f.$r=$r;return $f;};}(typ)),0);/* */$s=4;case 4:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}$s=-1;return _r$1;/* */}return;}if($f===undefined){$f={$blk:MakeSlice};}$f._r=_r;$f._r$1=_r$1;$f.cap=cap;$f.len=len;$f.typ=typ;$f.$s=$s;$f.$r=$r;return $f;};$pkg.MakeSlice=MakeSlice;TypeOf=function(i){var i;if(!initialized){return new rtype.ptr(0,0,0,0,0,0,0,ptrType$3.nil,ptrType$4.nil,0,0);}if($interfaceIsEqual(i,$ifaceNil)){return $ifaceNil;}return reflectType(i.constructor);};$pkg.TypeOf=TypeOf;ValueOf=function(i){var _r,i,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;i=$f.i;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:if($interfaceIsEqual(i,$ifaceNil)){$s=-1;return new Value.ptr(ptrType$1.nil,0,0);}_r=makeValue(reflectType(i.constructor),i.$val,0);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r;/* */}return;}if($f===undefined){$f={$blk:ValueOf};}$f._r=_r;$f.i=i;$f.$s=$s;$f.$r=$r;return $f;};$pkg.ValueOf=ValueOf;FuncOf=function(in$1,out,variadic){var _i,_i$1,_r,_ref,_ref$1,_v,_v$1,i,i$1,in$1,jsIn,jsOut,out,v,v$1,variadic,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_i=$f._i;_i$1=$f._i$1;_r=$f._r;_ref=$f._ref;_ref$1=$f._ref$1;_v=$f._v;_v$1=$f._v$1;i=$f.i;i$1=$f.i$1;in$1=$f.in$1;jsIn=$f.jsIn;jsOut=$f.jsOut;out=$f.out;v=$f.v;v$1=$f.v$1;variadic=$f.variadic;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:if(!variadic){_v=false;$s=3;continue s;}if(in$1.$length===0){_v$1=true;$s=4;continue s;}_r=(x=in$1.$length-1>>0,x<0||x>=in$1.$length?($throwRuntimeError("index out of range"),undefined):in$1.$array[in$1.$offset+x]).Kind();/* */$s=5;case 5:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_v$1=!(_r===23);case 4:_v=_v$1;case 3:/* */if(_v){$s=1;continue;}/* */$s=2;continue;/* if (_v) { */case 1:$panic(new $String("reflect.FuncOf: last arg of variadic func must be slice"));/* } */case 2:jsIn=$makeSlice(sliceType$8,in$1.$length);_ref=in$1;_i=0;while(true){if(!(_i<_ref.$length)){break;}i=_i;v=_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i];i<0||i>=jsIn.$length?($throwRuntimeError("index out of range"),undefined):jsIn.$array[jsIn.$offset+i]=jsType(v);_i++;}jsOut=$makeSlice(sliceType$8,out.$length);_ref$1=out;_i$1=0;while(true){if(!(_i$1<_ref$1.$length)){break;}i$1=_i$1;v$1=_i$1<0||_i$1>=_ref$1.$length?($throwRuntimeError("index out of range"),undefined):_ref$1.$array[_ref$1.$offset+_i$1];i$1<0||i$1>=jsOut.$length?($throwRuntimeError("index out of range"),undefined):jsOut.$array[jsOut.$offset+i$1]=jsType(v$1);_i$1++;}$s=-1;return reflectType($funcType($externalize(jsIn,sliceType$8),$externalize(jsOut,sliceType$8),$externalize(variadic,$Bool)));/* */}return;}if($f===undefined){$f={$blk:FuncOf};}$f._i=_i;$f._i$1=_i$1;$f._r=_r;$f._ref=_ref;$f._ref$1=_ref$1;$f._v=_v;$f._v$1=_v$1;$f.i=i;$f.i$1=i$1;$f.in$1=in$1;$f.jsIn=jsIn;$f.jsOut=jsOut;$f.out=out;$f.v=v;$f.v$1=v$1;$f.variadic=variadic;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};$pkg.FuncOf=FuncOf;rtype.ptr.prototype.ptrTo=function(){var t;t=this;return reflectType($ptrType(jsType(t)));};rtype.prototype.ptrTo=function(){return this.$val.ptrTo();};SliceOf=function(t){var t;return reflectType($sliceType(jsType(t)));};$pkg.SliceOf=SliceOf;Zero=function(typ){var _r,typ,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;typ=$f.typ;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=makeValue(typ,jsType(typ).zero(),0);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r;/* */}return;}if($f===undefined){$f={$blk:Zero};}$f._r=_r;$f.typ=typ;$f.$s=$s;$f.$r=$r;return $f;};$pkg.Zero=Zero;unsafe_New=function(typ){var _1,typ;_1=typ.Kind();if(_1===25){return new(jsType(typ).ptr)();}else if(_1===17){return jsType(typ).zero();}else{return $newDataPointer(jsType(typ).zero(),jsType(typ.ptrTo()));}};makeInt=function(f,bits,t){var _1,_r,bits,f,ptr,t,typ,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_r=$f._r;bits=$f.bits;f=$f.f;ptr=$f.ptr;t=$f.t;typ=$f.typ;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=t.common();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}typ=_r;ptr=unsafe_New(typ);_1=typ.Kind();if(_1===3){ptr.$set(bits.$low<<24>>24);}else if(_1===4){ptr.$set(bits.$low<<16>>16);}else if(_1===2||_1===5){ptr.$set(bits.$low>>0);}else if(_1===6){ptr.$set(new $Int64(bits.$high,bits.$low));}else if(_1===8){ptr.$set(bits.$low<<24>>>24);}else if(_1===9){ptr.$set(bits.$low<<16>>>16);}else if(_1===7||_1===10||_1===12){ptr.$set(bits.$low>>>0);}else if(_1===11){ptr.$set(bits);}$s=-1;return new Value.ptr(typ,ptr,((f|128)>>>0|typ.Kind()>>>0)>>>0);/* */}return;}if($f===undefined){$f={$blk:makeInt};}$f._1=_1;$f._r=_r;$f.bits=bits;$f.f=f;$f.ptr=ptr;$f.t=t;$f.typ=typ;$f.$s=$s;$f.$r=$r;return $f;};typedmemmove=function(t,dst,src){var dst,src,t;dst.$set(src.$get());};makemap=function(t,cap){var cap,m,t;m=0;m=new $global.Object();return m;};keyFor=function(t,key){var k,key,kv,t;kv=key;if(!(kv.$get===undefined)){kv=kv.$get();}k=$internalize(jsType(t.Key()).keyFor(kv),$String);return[kv,k];};mapaccess=function(t,m,key){var _tuple,entry,k,key,m,t;_tuple=keyFor(t,key);k=_tuple[1];entry=m[$externalize(k,$String)];if(entry===undefined){return 0;}return $newDataPointer(entry.v,jsType(PtrTo(t.Elem())));};mapassign=function(t,m,key,val){var _r,_tuple,entry,et,jsVal,k,key,kv,m,newVal,t,val,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tuple=$f._tuple;entry=$f.entry;et=$f.et;jsVal=$f.jsVal;k=$f.k;key=$f.key;kv=$f.kv;m=$f.m;newVal=$f.newVal;t=$f.t;val=$f.val;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_tuple=keyFor(t,key);kv=_tuple[0];k=_tuple[1];jsVal=val.$get();et=t.Elem();_r=et.Kind();/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}/* */if(_r===25){$s=1;continue;}/* */$s=2;continue;/* if (_r === 25) { */case 1:newVal=jsType(et).zero();copyStruct(newVal,jsVal,et);jsVal=newVal;/* } */case 2:entry=new $global.Object();entry.k=kv;entry.v=jsVal;m[$externalize(k,$String)]=entry;$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:mapassign};}$f._r=_r;$f._tuple=_tuple;$f.entry=entry;$f.et=et;$f.jsVal=jsVal;$f.k=k;$f.key=key;$f.kv=kv;$f.m=m;$f.newVal=newVal;$f.t=t;$f.val=val;$f.$s=$s;$f.$r=$r;return $f;};mapdelete=function(t,m,key){var _tuple,k,key,m,t;_tuple=keyFor(t,key);k=_tuple[1];delete m[$externalize(k,$String)];};mapIter.ptr.prototype.skipUntilValidKey=function(){var iter,k;iter=this;while(true){if(!(iter.i<$parseInt(iter.keys.length))){break;}k=iter.keys[iter.i];if(!(iter.m[$externalize($internalize(k,$String),$String)]===undefined)){break;}iter.i=iter.i+1>>0;}};mapIter.prototype.skipUntilValidKey=function(){return this.$val.skipUntilValidKey();};mapiterinit=function(t,m){var m,t;return new mapIter.ptr(t,m,$keys(m),0,null);};mapiterkey=function(it){var _r,_r$1,_r$2,it,iter,k,kv,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;it=$f.it;iter=$f.iter;k=$f.k;kv=$f.kv;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:iter=$pointerOfStructConversion(it,ptrType$7);kv=null;if(!(iter.last===null)){kv=iter.last;}else{iter.skipUntilValidKey();if(iter.i===$parseInt(iter.keys.length)){$s=-1;return 0;}k=iter.keys[iter.i];kv=iter.m[$externalize($internalize(k,$String),$String)];iter.last=kv;}_r=iter.t.Key();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_r$1=PtrTo(_r);/* */$s=2;case 2:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_r$2=jsType(_r$1);/* */$s=3;case 3:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}$s=-1;return $newDataPointer(kv.k,_r$2);/* */}return;}if($f===undefined){$f={$blk:mapiterkey};}$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f.it=it;$f.iter=iter;$f.k=k;$f.kv=kv;$f.$s=$s;$f.$r=$r;return $f;};mapitervalue=function(it){var _r,_r$1,_r$2,it,iter,k,kv,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;it=$f.it;iter=$f.iter;k=$f.k;kv=$f.kv;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:iter=$pointerOfStructConversion(it,ptrType$7);kv=null;if(!(iter.last===null)){kv=iter.last;}else{iter.skipUntilValidKey();if(iter.i===$parseInt(iter.keys.length)){$s=-1;return 0;}k=iter.keys[iter.i];kv=iter.m[$externalize($internalize(k,$String),$String)];iter.last=kv;}_r=iter.t.Elem();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_r$1=PtrTo(_r);/* */$s=2;case 2:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_r$2=jsType(_r$1);/* */$s=3;case 3:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}$s=-1;return $newDataPointer(kv.v,_r$2);/* */}return;}if($f===undefined){$f={$blk:mapitervalue};}$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f.it=it;$f.iter=iter;$f.k=k;$f.kv=kv;$f.$s=$s;$f.$r=$r;return $f;};mapiternext=function(it){var it,iter;iter=$pointerOfStructConversion(it,ptrType$7);iter.last=null;iter.i=iter.i+1>>0;};maplen=function(m){var m;return $parseInt($keys(m).length);};cvtDirect=function(v,typ){var _1,_arg,_arg$1,_arg$2,_r,_r$1,_r$2,_r$3,_r$4,_r$5,_r$6,_r$7,k,slice,srcVal,typ,v,val,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_arg=$f._arg;_arg$1=$f._arg$1;_arg$2=$f._arg$2;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_r$7=$f._r$7;k=$f.k;slice=$f.slice;srcVal=$f.srcVal;typ=$f.typ;v=$f.v;val=$f.val;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:srcVal=$clone(v,Value).object();/* */if(srcVal===jsType(v.typ).nil){$s=1;continue;}/* */$s=2;continue;/* if (srcVal === jsType(v.typ).nil) { */case 1:_r=makeValue(typ,jsType(typ).nil,v.flag);/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r;/* } */case 2:val=null;_r$1=typ.Kind();/* */$s=5;case 5:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}k=_r$1;_1=k;/* */if(_1===23){$s=6;continue;}/* */if(_1===22){$s=7;continue;}/* */if(_1===25){$s=8;continue;}/* */if(_1===17||_1===1||_1===18||_1===19||_1===20||_1===21||_1===24){$s=9;continue;}/* */$s=10;continue;/* if (_1 === (23)) { */case 6:slice=new(jsType(typ))(srcVal.$array);slice.$offset=srcVal.$offset;slice.$length=srcVal.$length;slice.$capacity=srcVal.$capacity;val=$newDataPointer(slice,jsType(PtrTo(typ)));$s=11;continue;/* } else if (_1 === (22)) { */case 7:_r$2=typ.Elem();/* */$s=14;case 14:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_r$3=_r$2.Kind();/* */$s=15;case 15:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}/* */if(_r$3===25){$s=12;continue;}/* */$s=13;continue;/* if (_r$3 === 25) { */case 12:_r$4=typ.Elem();/* */$s=18;case 18:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}/* */if($interfaceIsEqual(_r$4,v.typ.Elem())){$s=16;continue;}/* */$s=17;continue;/* if ($interfaceIsEqual(_r$4, v.typ.Elem())) { */case 16:val=srcVal;/* break; */$s=4;continue;/* } */case 17:val=new(jsType(typ))();_arg=val;_arg$1=srcVal;_r$5=typ.Elem();/* */$s=19;case 19:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}_arg$2=_r$5;$r=copyStruct(_arg,_arg$1,_arg$2);/* */$s=20;case 20:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* break; */$s=4;continue;/* } */case 13:val=new(jsType(typ))(srcVal.$get,srcVal.$set);$s=11;continue;/* } else if (_1 === (25)) { */case 8:val=new(jsType(typ).ptr)();copyStruct(val,srcVal,typ);$s=11;continue;/* } else if ((_1 === (17)) || (_1 === (1)) || (_1 === (18)) || (_1 === (19)) || (_1 === (20)) || (_1 === (21)) || (_1 === (24))) { */case 9:val=v.ptr;$s=11;continue;/* } else { */case 10:$panic(new ValueError.ptr("reflect.Convert",k));/* } */case 11:case 4:_r$6=typ.common();/* */$s=21;case 21:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}_r$7=typ.Kind();/* */$s=22;case 22:if($c){$c=false;_r$7=_r$7.$blk();}if(_r$7&&_r$7.$blk!==undefined){break s;}$s=-1;return new Value.ptr(_r$6,val,((new flag(v.flag).ro()|(v.flag&128)>>>0)>>>0|_r$7>>>0)>>>0);/* */}return;}if($f===undefined){$f={$blk:cvtDirect};}$f._1=_1;$f._arg=_arg;$f._arg$1=_arg$1;$f._arg$2=_arg$2;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._r$7=_r$7;$f.k=k;$f.slice=slice;$f.srcVal=srcVal;$f.typ=typ;$f.v=v;$f.val=val;$f.$s=$s;$f.$r=$r;return $f;};Copy=function(dst,src){var _r,_v,dk,dst,dstVal,sk,src,srcVal,stringCopy,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_v=$f._v;dk=$f.dk;dst=$f.dst;dstVal=$f.dstVal;sk=$f.sk;src=$f.src;srcVal=$f.srcVal;stringCopy=$f.stringCopy;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:dk=new flag(dst.flag).kind();if(!(dk===17)&&!(dk===23)){$panic(new ValueError.ptr("reflect.Copy",dk));}if(dk===17){new flag(dst.flag).mustBeAssignable();}new flag(dst.flag).mustBeExported();sk=new flag(src.flag).kind();stringCopy=false;/* */if(!(sk===17)&&!(sk===23)){$s=1;continue;}/* */$s=2;continue;/* if (!((sk === 17)) && !((sk === 23))) { */case 1:if(!(sk===24)){_v=false;$s=3;continue s;}_r=dst.typ.Elem().Kind();/* */$s=4;case 4:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_v=_r===8;case 3:stringCopy=_v;if(!stringCopy){$panic(new ValueError.ptr("reflect.Copy",sk));}/* } */case 2:new flag(src.flag).mustBeExported();/* */if(!stringCopy){$s=5;continue;}/* */$s=6;continue;/* if (!stringCopy) { */case 5:$r=typesMustMatch("reflect.Copy",dst.typ.Elem(),src.typ.Elem());/* */$s=7;case 7:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 6:dstVal=$clone(dst,Value).object();if(dk===17){dstVal=new(jsType(SliceOf(dst.typ.Elem())))(dstVal);}srcVal=$clone(src,Value).object();if(sk===17){srcVal=new(jsType(SliceOf(src.typ.Elem())))(srcVal);}if(stringCopy){$s=-1;return $parseInt($copyString(dstVal,srcVal))>>0;}$s=-1;return $parseInt($copySlice(dstVal,srcVal))>>0;/* */}return;}if($f===undefined){$f={$blk:Copy};}$f._r=_r;$f._v=_v;$f.dk=dk;$f.dst=dst;$f.dstVal=dstVal;$f.sk=sk;$f.src=src;$f.srcVal=srcVal;$f.stringCopy=stringCopy;$f.$s=$s;$f.$r=$r;return $f;};$pkg.Copy=Copy;methodReceiver=function(op,v,i){var _$39,fn,i,m,m$1,ms,op,prop,rcvr,t,tt,v,x;_$39=ptrType$1.nil;t=ptrType$8.nil;fn=0;prop="";if(v.typ.Kind()===20){tt=v.typ.kindType;if(i<0||i>=tt.methods.$length){$panic(new $String("reflect: internal error: invalid method index"));}m=(x=tt.methods,i<0||i>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+i]);if(!$clone(tt.rtype.nameOff(m.name),name).isExported()){$panic(new $String("reflect: "+op+" of unexported method"));}t=tt.rtype.typeOff(m.typ).kindType;prop=$clone(tt.rtype.nameOff(m.name),name).name();}else{ms=v.typ.exportedMethods();if(i>>>0>=ms.$length>>>0){$panic(new $String("reflect: internal error: invalid method index"));}m$1=$clone(i<0||i>=ms.$length?($throwRuntimeError("index out of range"),undefined):ms.$array[ms.$offset+i],method);if(!$clone(v.typ.nameOff(m$1.name),name).isExported()){$panic(new $String("reflect: "+op+" of unexported method"));}t=v.typ.typeOff(m$1.mtyp).kindType;prop=$internalize($methodSet(jsType(v.typ))[i].prop,$String);}rcvr=$clone(v,Value).object();if(isWrapped(v.typ)){rcvr=new(jsType(v.typ))(rcvr);}fn=rcvr[$externalize(prop,$String)];return[_$39,t,fn];};valueInterface=function(v,safe){var _r,safe,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;safe=$f.safe;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:if(v.flag===0){$panic(new ValueError.ptr("reflect.Value.Interface",0));}if(safe&&!((v.flag&96)>>>0===0)){$panic(new $String("reflect.Value.Interface: cannot return value obtained from unexported field or method"));}/* */if(!((v.flag&512)>>>0===0)){$s=1;continue;}/* */$s=2;continue;/* if (!((((v.flag & 512) >>> 0) === 0))) { */case 1:_r=makeMethodValue("Interface",$clone(v,Value));/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}v=_r;/* } */case 2:if(isWrapped(v.typ)){$s=-1;return new(jsType(v.typ))($clone(v,Value).object());}$s=-1;return $clone(v,Value).object();/* */}return;}if($f===undefined){$f={$blk:valueInterface};}$f._r=_r;$f.safe=safe;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};ifaceE2I=function(t,src,dst){var dst,src,t;dst.$set(src);};methodName=function(){return"?FIXME?";};makeMethodValue=function(op,v){var _r,_tuple,fn,fv,op,rcvr,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tuple=$f._tuple;fn=$f.fn;fv=$f.fv;op=$f.op;rcvr=$f.rcvr;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:fn=[fn];rcvr=[rcvr];if((v.flag&512)>>>0===0){$panic(new $String("reflect: internal error: invalid use of makePartialFunc"));}_tuple=methodReceiver(op,$clone(v,Value),v.flag>>0>>10>>0);fn[0]=_tuple[2];rcvr[0]=$clone(v,Value).object();if(isWrapped(v.typ)){rcvr[0]=new(jsType(v.typ))(rcvr[0]);}fv=js.MakeFunc(function(fn,rcvr){return function(this$1,arguments$1){var arguments$1,this$1;return new $jsObjectPtr(fn[0].apply(rcvr[0],$externalize(arguments$1,sliceType$8)));};}(fn,rcvr));_r=$clone(v,Value).Type().common();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return new Value.ptr(_r,fv,(new flag(v.flag).ro()|19)>>>0);/* */}return;}if($f===undefined){$f={$blk:makeMethodValue};}$f._r=_r;$f._tuple=_tuple;$f.fn=fn;$f.fv=fv;$f.op=op;$f.rcvr=rcvr;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};rtype.ptr.prototype.pointers=function(){var _1,t;t=this;_1=t.Kind();if(_1===22||_1===21||_1===18||_1===19||_1===25||_1===17){return true;}else{return false;}};rtype.prototype.pointers=function(){return this.$val.pointers();};rtype.ptr.prototype.Comparable=function(){var _1,_r,_r$1,i,t,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_r=$f._r;_r$1=$f._r$1;i=$f.i;t=$f.t;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:t=this;_1=t.Kind();/* */if(_1===19||_1===23||_1===21){$s=2;continue;}/* */if(_1===17){$s=3;continue;}/* */if(_1===25){$s=4;continue;}/* */$s=5;continue;/* if ((_1 === (19)) || (_1 === (23)) || (_1 === (21))) { */case 2:$s=-1;return false;/* } else if (_1 === (17)) { */case 3:_r=t.Elem().Comparable();/* */$s=6;case 6:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r;/* } else if (_1 === (25)) { */case 4:i=0;/* while (true) { */case 7:/* if (!(i < t.NumField())) { break; } */if(!(i<t.NumField())){$s=8;continue;}_r$1=t.Field(i).Type.Comparable();/* */$s=11;case 11:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}/* */if(!_r$1){$s=9;continue;}/* */$s=10;continue;/* if (!_r$1) { */case 9:$s=-1;return false;/* } */case 10:i=i+1>>0;/* } */$s=7;continue;case 8:/* } */case 5:case 1:$s=-1;return true;/* */}return;}if($f===undefined){$f={$blk:rtype.ptr.prototype.Comparable};}$f._1=_1;$f._r=_r;$f._r$1=_r$1;$f.i=i;$f.t=t;$f.$s=$s;$f.$r=$r;return $f;};rtype.prototype.Comparable=function(){return this.$val.Comparable();};rtype.ptr.prototype.Method=function(i){var _i,_i$1,_r,_ref,_ref$1,arg,fl,fn,ft,i,in$1,m,methods,mt,mtyp,out,p,pname,prop,ret,t,tt,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_i=$f._i;_i$1=$f._i$1;_r=$f._r;_ref=$f._ref;_ref$1=$f._ref$1;arg=$f.arg;fl=$f.fl;fn=$f.fn;ft=$f.ft;i=$f.i;in$1=$f.in$1;m=$f.m;methods=$f.methods;mt=$f.mt;mtyp=$f.mtyp;out=$f.out;p=$f.p;pname=$f.pname;prop=$f.prop;ret=$f.ret;t=$f.t;tt=$f.tt;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:prop=[prop];m=new Method.ptr("","",$ifaceNil,new Value.ptr(ptrType$1.nil,0,0),0);t=this;if(t.Kind()===20){tt=t.kindType;Method.copy(m,tt.Method(i));$s=-1;return m;}methods=t.exportedMethods();if(i<0||i>=methods.$length){$panic(new $String("reflect: Method index out of range"));}p=$clone(i<0||i>=methods.$length?($throwRuntimeError("index out of range"),undefined):methods.$array[methods.$offset+i],method);pname=$clone(t.nameOff(p.name),name);m.Name=$clone(pname,name).name();fl=19;mtyp=t.typeOff(p.mtyp);ft=mtyp.kindType;in$1=$makeSlice(sliceType$10,0,1+ft.in$().$length>>0);in$1=$append(in$1,t);_ref=ft.in$();_i=0;while(true){if(!(_i<_ref.$length)){break;}arg=_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i];in$1=$append(in$1,arg);_i++;}out=$makeSlice(sliceType$10,0,ft.out().$length);_ref$1=ft.out();_i$1=0;while(true){if(!(_i$1<_ref$1.$length)){break;}ret=_i$1<0||_i$1>=_ref$1.$length?($throwRuntimeError("index out of range"),undefined):_ref$1.$array[_ref$1.$offset+_i$1];out=$append(out,ret);_i$1++;}_r=FuncOf(in$1,out,ft.rtype.IsVariadic());/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}mt=_r;m.Type=mt;prop[0]=$internalize($methodSet(t.jsType)[i].prop,$String);fn=js.MakeFunc(function(prop){return function(this$1,arguments$1){var arguments$1,rcvr,this$1;rcvr=0>=arguments$1.$length?($throwRuntimeError("index out of range"),undefined):arguments$1.$array[arguments$1.$offset+0];return new $jsObjectPtr(rcvr[$externalize(prop[0],$String)].apply(rcvr,$externalize($subslice(arguments$1,1),sliceType$8)));};}(prop));m.Func=new Value.ptr($assertType(mt,ptrType$1),fn,fl);m.Index=i;Method.copy(m,m);$s=-1;return m;/* */}return;}if($f===undefined){$f={$blk:rtype.ptr.prototype.Method};}$f._i=_i;$f._i$1=_i$1;$f._r=_r;$f._ref=_ref;$f._ref$1=_ref$1;$f.arg=arg;$f.fl=fl;$f.fn=fn;$f.ft=ft;$f.i=i;$f.in$1=in$1;$f.m=m;$f.methods=methods;$f.mt=mt;$f.mtyp=mtyp;$f.out=out;$f.p=p;$f.pname=pname;$f.prop=prop;$f.ret=ret;$f.t=t;$f.tt=tt;$f.$s=$s;$f.$r=$r;return $f;};rtype.prototype.Method=function(i){return this.$val.Method(i);};Value.ptr.prototype.object=function(){var _1,newVal,v,val;v=this;if(v.typ.Kind()===17||v.typ.Kind()===25){return v.ptr;}if(!((v.flag&128)>>>0===0)){val=v.ptr.$get();if(!(val===$ifaceNil)&&!(val.constructor===jsType(v.typ))){switch(0){default:_1=v.typ.Kind();if(_1===11||_1===6){val=new(jsType(v.typ))(val.$high,val.$low);}else if(_1===15||_1===16){val=new(jsType(v.typ))(val.$real,val.$imag);}else if(_1===23){if(val===val.constructor.nil){val=jsType(v.typ).nil;break;}newVal=new(jsType(v.typ))(val.$array);newVal.$offset=val.$offset;newVal.$length=val.$length;newVal.$capacity=val.$capacity;val=newVal;}}}return val;}return v.ptr;};Value.prototype.object=function(){return this.$val.object();};Value.ptr.prototype.assignTo=function(context,dst,target){var _r,_r$1,_r$2,context,dst,fl,target,v,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;context=$f.context;dst=$f.dst;fl=$f.fl;target=$f.target;v=$f.v;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v=this;/* */if(!((v.flag&512)>>>0===0)){$s=1;continue;}/* */$s=2;continue;/* if (!((((v.flag & 512) >>> 0) === 0))) { */case 1:_r=makeMethodValue(context,$clone(v,Value));/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}v=_r;/* } */case 2:_r$1=directlyAssignable(dst,v.typ);/* */$s=8;case 8:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}/* */if(_r$1){$s=5;continue;}/* */if(implements$1(dst,v.typ)){$s=6;continue;}/* */$s=7;continue;/* if (_r$1) { */case 5:fl=((v.flag&384)>>>0|new flag(v.flag).ro())>>>0;fl=(fl|dst.Kind()>>>0)>>>0;$s=-1;return new Value.ptr(dst,v.ptr,fl);/* } else if (implements$1(dst, v.typ)) { */case 6:if(target===0){target=unsafe_New(dst);}_r$2=valueInterface($clone(v,Value),false);/* */$s=9;case 9:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}x=_r$2;if(dst.NumMethod()===0){target.$set(x);}else{ifaceE2I(dst,x,target);}$s=-1;return new Value.ptr(dst,target,148);/* } */case 7:case 4:$panic(new $String(context+": value of type "+v.typ.String()+" is not assignable to type "+dst.String()));$s=-1;return new Value.ptr(ptrType$1.nil,0,0);/* */}return;}if($f===undefined){$f={$blk:Value.ptr.prototype.assignTo};}$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f.context=context;$f.dst=dst;$f.fl=fl;$f.target=target;$f.v=v;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};Value.prototype.assignTo=function(context,dst,target){return this.$val.assignTo(context,dst,target);};Value.ptr.prototype.call=function(op,in$1){var _1,_arg,_arg$1,_arg$2,_arg$3,_i,_i$1,_i$2,_r,_r$1,_r$10,_r$11,_r$12,_r$13,_r$14,_r$15,_r$2,_r$3,_r$4,_r$5,_r$6,_r$7,_r$8,_r$9,_ref,_ref$1,_ref$2,_tmp,_tmp$1,_tuple,arg,argsArray,elem,fn,i,i$1,i$2,i$3,in$1,isSlice,m,n,nin,nout,op,origIn,rcvr,results,ret,slice,t,targ,v,x,x$1,x$2,xt,xt$1,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_arg=$f._arg;_arg$1=$f._arg$1;_arg$2=$f._arg$2;_arg$3=$f._arg$3;_i=$f._i;_i$1=$f._i$1;_i$2=$f._i$2;_r=$f._r;_r$1=$f._r$1;_r$10=$f._r$10;_r$11=$f._r$11;_r$12=$f._r$12;_r$13=$f._r$13;_r$14=$f._r$14;_r$15=$f._r$15;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_r$7=$f._r$7;_r$8=$f._r$8;_r$9=$f._r$9;_ref=$f._ref;_ref$1=$f._ref$1;_ref$2=$f._ref$2;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tuple=$f._tuple;arg=$f.arg;argsArray=$f.argsArray;elem=$f.elem;fn=$f.fn;i=$f.i;i$1=$f.i$1;i$2=$f.i$2;i$3=$f.i$3;in$1=$f.in$1;isSlice=$f.isSlice;m=$f.m;n=$f.n;nin=$f.nin;nout=$f.nout;op=$f.op;origIn=$f.origIn;rcvr=$f.rcvr;results=$f.results;ret=$f.ret;slice=$f.slice;t=$f.t;targ=$f.targ;v=$f.v;x=$f.x;x$1=$f.x$1;x$2=$f.x$2;xt=$f.xt;xt$1=$f.xt$1;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v=this;t=ptrType$8.nil;fn=0;rcvr=null;if(!((v.flag&512)>>>0===0)){_tuple=methodReceiver(op,$clone(v,Value),v.flag>>0>>10>>0);t=_tuple[1];fn=_tuple[2];rcvr=$clone(v,Value).object();if(isWrapped(v.typ)){rcvr=new(jsType(v.typ))(rcvr);}}else{t=v.typ.kindType;fn=$clone(v,Value).object();rcvr=undefined;}if(fn===0){$panic(new $String("reflect.Value.Call: call of nil function"));}isSlice=op==="CallSlice";n=t.rtype.NumIn();if(isSlice){if(!t.rtype.IsVariadic()){$panic(new $String("reflect: CallSlice of non-variadic function"));}if(in$1.$length<n){$panic(new $String("reflect: CallSlice with too few input arguments"));}if(in$1.$length>n){$panic(new $String("reflect: CallSlice with too many input arguments"));}}else{if(t.rtype.IsVariadic()){n=n-1>>0;}if(in$1.$length<n){$panic(new $String("reflect: Call with too few input arguments"));}if(!t.rtype.IsVariadic()&&in$1.$length>n){$panic(new $String("reflect: Call with too many input arguments"));}}_ref=in$1;_i=0;while(true){if(!(_i<_ref.$length)){break;}x=_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i];if($clone(x,Value).Kind()===0){$panic(new $String("reflect: "+op+" using zero Value argument"));}_i++;}i=0;/* while (true) { */case 1:/* if (!(i < n)) { break; } */if(!(i<n)){$s=2;continue;}_tmp=$clone(i<0||i>=in$1.$length?($throwRuntimeError("index out of range"),undefined):in$1.$array[in$1.$offset+i],Value).Type();_tmp$1=t.rtype.In(i);xt=_tmp;targ=_tmp$1;_r=xt.AssignableTo(targ);/* */$s=5;case 5:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}/* */if(!_r){$s=3;continue;}/* */$s=4;continue;/* if (!_r) { */case 3:_r$1=xt.String();/* */$s=6;case 6:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_r$2=targ.String();/* */$s=7;case 7:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}$panic(new $String("reflect: "+op+" using "+_r$1+" as type "+_r$2));/* } */case 4:i=i+1>>0;/* } */$s=1;continue;case 2:/* */if(!isSlice&&t.rtype.IsVariadic()){$s=8;continue;}/* */$s=9;continue;/* if (!isSlice && t.rtype.IsVariadic()) { */case 8:m=in$1.$length-n>>0;_r$3=MakeSlice(t.rtype.In(n),m,m);/* */$s=10;case 10:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}slice=_r$3;_r$4=t.rtype.In(n).Elem();/* */$s=11;case 11:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}elem=_r$4;i$1=0;/* while (true) { */case 12:/* if (!(i$1 < m)) { break; } */if(!(i$1<m)){$s=13;continue;}x$2=(x$1=n+i$1>>0,x$1<0||x$1>=in$1.$length?($throwRuntimeError("index out of range"),undefined):in$1.$array[in$1.$offset+x$1]);xt$1=$clone(x$2,Value).Type();_r$5=xt$1.AssignableTo(elem);/* */$s=16;case 16:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}/* */if(!_r$5){$s=14;continue;}/* */$s=15;continue;/* if (!_r$5) { */case 14:_r$6=xt$1.String();/* */$s=17;case 17:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}_r$7=elem.String();/* */$s=18;case 18:if($c){$c=false;_r$7=_r$7.$blk();}if(_r$7&&_r$7.$blk!==undefined){break s;}$panic(new $String("reflect: cannot use "+_r$6+" as type "+_r$7+" in "+op));/* } */case 15:_r$8=$clone(slice,Value).Index(i$1);/* */$s=19;case 19:if($c){$c=false;_r$8=_r$8.$blk();}if(_r$8&&_r$8.$blk!==undefined){break s;}$r=$clone(_r$8,Value).Set($clone(x$2,Value));/* */$s=20;case 20:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}i$1=i$1+1>>0;/* } */$s=12;continue;case 13:origIn=in$1;in$1=$makeSlice(sliceType$9,n+1>>0);$copySlice($subslice(in$1,0,n),origIn);n<0||n>=in$1.$length?($throwRuntimeError("index out of range"),undefined):in$1.$array[in$1.$offset+n]=slice;/* } */case 9:nin=in$1.$length;if(!(nin===t.rtype.NumIn())){$panic(new $String("reflect.Value.Call: wrong argument count"));}nout=t.rtype.NumOut();argsArray=new $global.Array(t.rtype.NumIn());_ref$1=in$1;_i$1=0;/* while (true) { */case 21:/* if (!(_i$1 < _ref$1.$length)) { break; } */if(!(_i$1<_ref$1.$length)){$s=22;continue;}i$2=_i$1;arg=_i$1<0||_i$1>=_ref$1.$length?($throwRuntimeError("index out of range"),undefined):_ref$1.$array[_ref$1.$offset+_i$1];_arg=t.rtype.In(i$2);_r$9=t.rtype.In(i$2).common();/* */$s=23;case 23:if($c){$c=false;_r$9=_r$9.$blk();}if(_r$9&&_r$9.$blk!==undefined){break s;}_arg$1=_r$9;_arg$2=0;_r$10=$clone(arg,Value).assignTo("reflect.Value.Call",_arg$1,_arg$2);/* */$s=24;case 24:if($c){$c=false;_r$10=_r$10.$blk();}if(_r$10&&_r$10.$blk!==undefined){break s;}_r$11=$clone(_r$10,Value).object();/* */$s=25;case 25:if($c){$c=false;_r$11=_r$11.$blk();}if(_r$11&&_r$11.$blk!==undefined){break s;}_arg$3=_r$11;_r$12=unwrapJsObject(_arg,_arg$3);/* */$s=26;case 26:if($c){$c=false;_r$12=_r$12.$blk();}if(_r$12&&_r$12.$blk!==undefined){break s;}argsArray[i$2]=_r$12;_i$1++;/* } */$s=21;continue;case 22:_r$13=callHelper(new sliceType$3([new $jsObjectPtr(fn),new $jsObjectPtr(rcvr),new $jsObjectPtr(argsArray)]));/* */$s=27;case 27:if($c){$c=false;_r$13=_r$13.$blk();}if(_r$13&&_r$13.$blk!==undefined){break s;}results=_r$13;_1=nout;/* */if(_1===0){$s=29;continue;}/* */if(_1===1){$s=30;continue;}/* */$s=31;continue;/* if (_1 === (0)) { */case 29:$s=-1;return sliceType$9.nil;/* } else if (_1 === (1)) { */case 30:_r$14=makeValue(t.rtype.Out(0),wrapJsObject(t.rtype.Out(0),results),0);/* */$s=33;case 33:if($c){$c=false;_r$14=_r$14.$blk();}if(_r$14&&_r$14.$blk!==undefined){break s;}$s=-1;return new sliceType$9([$clone(_r$14,Value)]);/* } else { */case 31:ret=$makeSlice(sliceType$9,nout);_ref$2=ret;_i$2=0;/* while (true) { */case 34:/* if (!(_i$2 < _ref$2.$length)) { break; } */if(!(_i$2<_ref$2.$length)){$s=35;continue;}i$3=_i$2;_r$15=makeValue(t.rtype.Out(i$3),wrapJsObject(t.rtype.Out(i$3),results[i$3]),0);/* */$s=36;case 36:if($c){$c=false;_r$15=_r$15.$blk();}if(_r$15&&_r$15.$blk!==undefined){break s;}i$3<0||i$3>=ret.$length?($throwRuntimeError("index out of range"),undefined):ret.$array[ret.$offset+i$3]=_r$15;_i$2++;/* } */$s=34;continue;case 35:$s=-1;return ret;/* } */case 32:case 28:$s=-1;return sliceType$9.nil;/* */}return;}if($f===undefined){$f={$blk:Value.ptr.prototype.call};}$f._1=_1;$f._arg=_arg;$f._arg$1=_arg$1;$f._arg$2=_arg$2;$f._arg$3=_arg$3;$f._i=_i;$f._i$1=_i$1;$f._i$2=_i$2;$f._r=_r;$f._r$1=_r$1;$f._r$10=_r$10;$f._r$11=_r$11;$f._r$12=_r$12;$f._r$13=_r$13;$f._r$14=_r$14;$f._r$15=_r$15;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._r$7=_r$7;$f._r$8=_r$8;$f._r$9=_r$9;$f._ref=_ref;$f._ref$1=_ref$1;$f._ref$2=_ref$2;$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tuple=_tuple;$f.arg=arg;$f.argsArray=argsArray;$f.elem=elem;$f.fn=fn;$f.i=i;$f.i$1=i$1;$f.i$2=i$2;$f.i$3=i$3;$f.in$1=in$1;$f.isSlice=isSlice;$f.m=m;$f.n=n;$f.nin=nin;$f.nout=nout;$f.op=op;$f.origIn=origIn;$f.rcvr=rcvr;$f.results=results;$f.ret=ret;$f.slice=slice;$f.t=t;$f.targ=targ;$f.v=v;$f.x=x;$f.x$1=x$1;$f.x$2=x$2;$f.xt=xt;$f.xt$1=xt$1;$f.$s=$s;$f.$r=$r;return $f;};Value.prototype.call=function(op,in$1){return this.$val.call(op,in$1);};Value.ptr.prototype.Cap=function(){var _1,k,v;v=this;k=new flag(v.flag).kind();_1=k;if(_1===17){return v.typ.Len();}else if(_1===18||_1===23){return $parseInt($clone(v,Value).object().$capacity)>>0;}$panic(new ValueError.ptr("reflect.Value.Cap",k));};Value.prototype.Cap=function(){return this.$val.Cap();};wrapJsObject=function(typ,val){var typ,val;if($interfaceIsEqual(typ,jsObjectPtr)){return new(jsType(jsObjectPtr))(val);}return val;};unwrapJsObject=function(typ,val){var typ,val;if($interfaceIsEqual(typ,jsObjectPtr)){return val.object;}return val;};Value.ptr.prototype.Elem=function(){var _1,_r,fl,k,tt,typ,v,val,val$1,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_r=$f._r;fl=$f.fl;k=$f.k;tt=$f.tt;typ=$f.typ;v=$f.v;val=$f.val;val$1=$f.val$1;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v=this;k=new flag(v.flag).kind();_1=k;/* */if(_1===20){$s=2;continue;}/* */if(_1===22){$s=3;continue;}/* */$s=4;continue;/* if (_1 === (20)) { */case 2:val=$clone(v,Value).object();if(val===$ifaceNil){$s=-1;return new Value.ptr(ptrType$1.nil,0,0);}typ=reflectType(val.constructor);_r=makeValue(typ,val.$val,new flag(v.flag).ro());/* */$s=6;case 6:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r;/* } else if (_1 === (22)) { */case 3:if($clone(v,Value).IsNil()){$s=-1;return new Value.ptr(ptrType$1.nil,0,0);}val$1=$clone(v,Value).object();tt=v.typ.kindType;fl=(((v.flag&96)>>>0|128)>>>0|256)>>>0;fl=(fl|tt.elem.Kind()>>>0)>>>0;$s=-1;return new Value.ptr(tt.elem,wrapJsObject(tt.elem,val$1),fl);/* } else { */case 4:$panic(new ValueError.ptr("reflect.Value.Elem",k));/* } */case 5:case 1:$s=-1;return new Value.ptr(ptrType$1.nil,0,0);/* */}return;}if($f===undefined){$f={$blk:Value.ptr.prototype.Elem};}$f._1=_1;$f._r=_r;$f.fl=fl;$f.k=k;$f.tt=tt;$f.typ=typ;$f.v=v;$f.val=val;$f.val$1=val$1;$f.$s=$s;$f.$r=$r;return $f;};Value.prototype.Elem=function(){return this.$val.Elem();};Value.ptr.prototype.Field=function(i){var _r,_r$1,_r$2,field,fl,i,jsTag,o,prop,s,tag,tt,typ,v,x,x$1,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;field=$f.field;fl=$f.fl;i=$f.i;jsTag=$f.jsTag;o=$f.o;prop=$f.prop;s=$f.s;tag=$f.tag;tt=$f.tt;typ=$f.typ;v=$f.v;x=$f.x;x$1=$f.x$1;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:jsTag=[jsTag];prop=[prop];s=[s];typ=[typ];v=this;if(!(new flag(v.flag).kind()===25)){$panic(new ValueError.ptr("reflect.Value.Field",new flag(v.flag).kind()));}tt=v.typ.kindType;if(i>>>0>=tt.fields.$length>>>0){$panic(new $String("reflect: Field index out of range"));}prop[0]=$internalize(jsType(v.typ).fields[i].prop,$String);field=(x=tt.fields,i<0||i>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+i]);typ[0]=field.typ;fl=((v.flag&416)>>>0|typ[0].Kind()>>>0)>>>0;if(!$clone(field.name,name).isExported()){if(field.embedded()){fl=(fl|64)>>>0;}else{fl=(fl|32)>>>0;}}tag=$clone((x$1=tt.fields,i<0||i>=x$1.$length?($throwRuntimeError("index out of range"),undefined):x$1.$array[x$1.$offset+i]).name,name).tag();/* */if(!(tag==="")&&!(i===0)){$s=1;continue;}/* */$s=2;continue;/* if (!(tag === "") && !((i === 0))) { */case 1:jsTag[0]=getJsTag(tag);/* */if(!(jsTag[0]==="")){$s=3;continue;}/* */$s=4;continue;/* if (!(jsTag[0] === "")) { */case 3:/* while (true) { */case 5:o=[o];_r=$clone(v,Value).Field(0);/* */$s=7;case 7:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}v=_r;/* */if(v.typ===jsObjectPtr){$s=8;continue;}/* */$s=9;continue;/* if (v.typ === jsObjectPtr) { */case 8:o[0]=$clone(v,Value).object().object;$s=-1;return new Value.ptr(typ[0],new(jsType(PtrTo(typ[0])))(function(jsTag,o,prop,s,typ){return function(){return $internalize(o[0][$externalize(jsTag[0],$String)],jsType(typ[0]));};}(jsTag,o,prop,s,typ),function(jsTag,o,prop,s,typ){return function(x$2){var x$2;o[0][$externalize(jsTag[0],$String)]=$externalize(x$2,jsType(typ[0]));};}(jsTag,o,prop,s,typ)),fl);/* } */case 9:/* */if(v.typ.Kind()===22){$s=10;continue;}/* */$s=11;continue;/* if (v.typ.Kind() === 22) { */case 10:_r$1=$clone(v,Value).Elem();/* */$s=12;case 12:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}v=_r$1;/* } */case 11:/* } */$s=5;continue;case 6:/* } */case 4:/* } */case 2:s[0]=v.ptr;/* */if(!((fl&128)>>>0===0)&&!(typ[0].Kind()===17)&&!(typ[0].Kind()===25)){$s=13;continue;}/* */$s=14;continue;/* if (!((((fl & 128) >>> 0) === 0)) && !((typ[0].Kind() === 17)) && !((typ[0].Kind() === 25))) { */case 13:$s=-1;return new Value.ptr(typ[0],new(jsType(PtrTo(typ[0])))(function(jsTag,prop,s,typ){return function(){return wrapJsObject(typ[0],s[0][$externalize(prop[0],$String)]);};}(jsTag,prop,s,typ),function(jsTag,prop,s,typ){return function(x$2){var x$2;s[0][$externalize(prop[0],$String)]=unwrapJsObject(typ[0],x$2);};}(jsTag,prop,s,typ)),fl);/* } */case 14:_r$2=makeValue(typ[0],wrapJsObject(typ[0],s[0][$externalize(prop[0],$String)]),fl);/* */$s=15;case 15:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}$s=-1;return _r$2;/* */}return;}if($f===undefined){$f={$blk:Value.ptr.prototype.Field};}$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f.field=field;$f.fl=fl;$f.i=i;$f.jsTag=jsTag;$f.o=o;$f.prop=prop;$f.s=s;$f.tag=tag;$f.tt=tt;$f.typ=typ;$f.v=v;$f.x=x;$f.x$1=x$1;$f.$s=$s;$f.$r=$r;return $f;};Value.prototype.Field=function(i){return this.$val.Field(i);};getJsTag=function(tag){var _tuple,i,name$1,qvalue,tag,value;while(true){if(!!(tag==="")){break;}i=0;while(true){if(!(i<tag.length&&tag.charCodeAt(i)===32)){break;}i=i+1>>0;}tag=$substring(tag,i);if(tag===""){break;}i=0;while(true){if(!(i<tag.length&&!(tag.charCodeAt(i)===32)&&!(tag.charCodeAt(i)===58)&&!(tag.charCodeAt(i)===34))){break;}i=i+1>>0;}if(i+1>>0>=tag.length||!(tag.charCodeAt(i)===58)||!(tag.charCodeAt(i+1>>0)===34)){break;}name$1=$substring(tag,0,i);tag=$substring(tag,i+1>>0);i=1;while(true){if(!(i<tag.length&&!(tag.charCodeAt(i)===34))){break;}if(tag.charCodeAt(i)===92){i=i+1>>0;}i=i+1>>0;}if(i>=tag.length){break;}qvalue=$substring(tag,0,i+1>>0);tag=$substring(tag,i+1>>0);if(name$1==="js"){_tuple=strconv.Unquote(qvalue);value=_tuple[0];return value;}}return"";};Value.ptr.prototype.Index=function(i){var _1,_r,_r$1,a,a$1,c,fl,fl$1,fl$2,i,k,s,str,tt,tt$1,typ,typ$1,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_r=$f._r;_r$1=$f._r$1;a=$f.a;a$1=$f.a$1;c=$f.c;fl=$f.fl;fl$1=$f.fl$1;fl$2=$f.fl$2;i=$f.i;k=$f.k;s=$f.s;str=$f.str;tt=$f.tt;tt$1=$f.tt$1;typ=$f.typ;typ$1=$f.typ$1;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:a=[a];a$1=[a$1];c=[c];i=[i];typ=[typ];typ$1=[typ$1];v=this;k=new flag(v.flag).kind();_1=k;/* */if(_1===17){$s=2;continue;}/* */if(_1===23){$s=3;continue;}/* */if(_1===24){$s=4;continue;}/* */$s=5;continue;/* if (_1 === (17)) { */case 2:tt=v.typ.kindType;if(i[0]<0||i[0]>tt.len>>0){$panic(new $String("reflect: array index out of range"));}typ[0]=tt.elem;fl=(((v.flag&384)>>>0|new flag(v.flag).ro())>>>0|typ[0].Kind()>>>0)>>>0;a[0]=v.ptr;/* */if(!((fl&128)>>>0===0)&&!(typ[0].Kind()===17)&&!(typ[0].Kind()===25)){$s=7;continue;}/* */$s=8;continue;/* if (!((((fl & 128) >>> 0) === 0)) && !((typ[0].Kind() === 17)) && !((typ[0].Kind() === 25))) { */case 7:$s=-1;return new Value.ptr(typ[0],new(jsType(PtrTo(typ[0])))(function(a,a$1,c,i,typ,typ$1){return function(){return wrapJsObject(typ[0],a[0][i[0]]);};}(a,a$1,c,i,typ,typ$1),function(a,a$1,c,i,typ,typ$1){return function(x){var x;a[0][i[0]]=unwrapJsObject(typ[0],x);};}(a,a$1,c,i,typ,typ$1)),fl);/* } */case 8:_r=makeValue(typ[0],wrapJsObject(typ[0],a[0][i[0]]),fl);/* */$s=9;case 9:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r;/* } else if (_1 === (23)) { */case 3:s=$clone(v,Value).object();if(i[0]<0||i[0]>=$parseInt(s.$length)>>0){$panic(new $String("reflect: slice index out of range"));}tt$1=v.typ.kindType;typ$1[0]=tt$1.elem;fl$1=((384|new flag(v.flag).ro())>>>0|typ$1[0].Kind()>>>0)>>>0;i[0]=i[0]+($parseInt(s.$offset)>>0)>>0;a$1[0]=s.$array;/* */if(!((fl$1&128)>>>0===0)&&!(typ$1[0].Kind()===17)&&!(typ$1[0].Kind()===25)){$s=10;continue;}/* */$s=11;continue;/* if (!((((fl$1 & 128) >>> 0) === 0)) && !((typ$1[0].Kind() === 17)) && !((typ$1[0].Kind() === 25))) { */case 10:$s=-1;return new Value.ptr(typ$1[0],new(jsType(PtrTo(typ$1[0])))(function(a,a$1,c,i,typ,typ$1){return function(){return wrapJsObject(typ$1[0],a$1[0][i[0]]);};}(a,a$1,c,i,typ,typ$1),function(a,a$1,c,i,typ,typ$1){return function(x){var x;a$1[0][i[0]]=unwrapJsObject(typ$1[0],x);};}(a,a$1,c,i,typ,typ$1)),fl$1);/* } */case 11:_r$1=makeValue(typ$1[0],wrapJsObject(typ$1[0],a$1[0][i[0]]),fl$1);/* */$s=12;case 12:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}$s=-1;return _r$1;/* } else if (_1 === (24)) { */case 4:str=v.ptr.$get();if(i[0]<0||i[0]>=str.length){$panic(new $String("reflect: string index out of range"));}fl$2=((new flag(v.flag).ro()|8)>>>0|128)>>>0;c[0]=str.charCodeAt(i[0]);$s=-1;return new Value.ptr(uint8Type,c.$ptr||(c.$ptr=new ptrType$4(function(){return this.$target[0];},function($v){this.$target[0]=$v;},c)),fl$2);/* } else { */case 5:$panic(new ValueError.ptr("reflect.Value.Index",k));/* } */case 6:case 1:$s=-1;return new Value.ptr(ptrType$1.nil,0,0);/* */}return;}if($f===undefined){$f={$blk:Value.ptr.prototype.Index};}$f._1=_1;$f._r=_r;$f._r$1=_r$1;$f.a=a;$f.a$1=a$1;$f.c=c;$f.fl=fl;$f.fl$1=fl$1;$f.fl$2=fl$2;$f.i=i;$f.k=k;$f.s=s;$f.str=str;$f.tt=tt;$f.tt$1=tt$1;$f.typ=typ;$f.typ$1=typ$1;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};Value.prototype.Index=function(i){return this.$val.Index(i);};Value.ptr.prototype.InterfaceData=function(){var v;v=this;$panic(errors.New("InterfaceData is not supported by GopherJS"));};Value.prototype.InterfaceData=function(){return this.$val.InterfaceData();};Value.ptr.prototype.IsNil=function(){var _1,k,v;v=this;k=new flag(v.flag).kind();_1=k;if(_1===22||_1===23){return $clone(v,Value).object()===jsType(v.typ).nil;}else if(_1===18){return $clone(v,Value).object()===$chanNil;}else if(_1===19){return $clone(v,Value).object()===$throwNilPointerError;}else if(_1===21){return $clone(v,Value).object()===false;}else if(_1===20){return $clone(v,Value).object()===$ifaceNil;}else if(_1===26){return $clone(v,Value).object()===0;}else{$panic(new ValueError.ptr("reflect.Value.IsNil",k));}};Value.prototype.IsNil=function(){return this.$val.IsNil();};Value.ptr.prototype.Len=function(){var _1,k,v;v=this;k=new flag(v.flag).kind();_1=k;if(_1===17||_1===24){return $parseInt($clone(v,Value).object().length);}else if(_1===23){return $parseInt($clone(v,Value).object().$length)>>0;}else if(_1===18){return $parseInt($clone(v,Value).object().$buffer.length)>>0;}else if(_1===21){return $parseInt($keys($clone(v,Value).object()).length);}else{$panic(new ValueError.ptr("reflect.Value.Len",k));}};Value.prototype.Len=function(){return this.$val.Len();};Value.ptr.prototype.Pointer=function(){var _1,k,v;v=this;k=new flag(v.flag).kind();_1=k;if(_1===18||_1===21||_1===22||_1===26){if($clone(v,Value).IsNil()){return 0;}return $clone(v,Value).object();}else if(_1===19){if($clone(v,Value).IsNil()){return 0;}return 1;}else if(_1===23){if($clone(v,Value).IsNil()){return 0;}return $clone(v,Value).object().$array;}else{$panic(new ValueError.ptr("reflect.Value.Pointer",k));}};Value.prototype.Pointer=function(){return this.$val.Pointer();};Value.ptr.prototype.Set=function(x){var _1,_r,_r$1,v,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_r=$f._r;_r$1=$f._r$1;v=$f.v;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v=this;new flag(v.flag).mustBeAssignable();new flag(x.flag).mustBeExported();_r=$clone(x,Value).assignTo("reflect.Set",v.typ,0);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}x=_r;/* */if(!((v.flag&128)>>>0===0)){$s=2;continue;}/* */$s=3;continue;/* if (!((((v.flag & 128) >>> 0) === 0))) { */case 2:_1=v.typ.Kind();/* */if(_1===17){$s=5;continue;}/* */if(_1===20){$s=6;continue;}/* */if(_1===25){$s=7;continue;}/* */$s=8;continue;/* if (_1 === (17)) { */case 5:jsType(v.typ).copy(v.ptr,x.ptr);$s=9;continue;/* } else if (_1 === (20)) { */case 6:_r$1=valueInterface($clone(x,Value),false);/* */$s=10;case 10:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}v.ptr.$set(_r$1);$s=9;continue;/* } else if (_1 === (25)) { */case 7:copyStruct(v.ptr,x.ptr,v.typ);$s=9;continue;/* } else { */case 8:v.ptr.$set($clone(x,Value).object());/* } */case 9:case 4:$s=-1;return;/* } */case 3:v.ptr=x.ptr;$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:Value.ptr.prototype.Set};}$f._1=_1;$f._r=_r;$f._r$1=_r$1;$f.v=v;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};Value.prototype.Set=function(x){return this.$val.Set(x);};Value.ptr.prototype.SetBytes=function(x){var _r,_r$1,_v,slice,typedSlice,v,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_v=$f._v;slice=$f.slice;typedSlice=$f.typedSlice;v=$f.v;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v=this;new flag(v.flag).mustBeAssignable();new flag(v.flag).mustBe(23);_r=v.typ.Elem().Kind();/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}/* */if(!(_r===8)){$s=1;continue;}/* */$s=2;continue;/* if (!((_r === 8))) { */case 1:$panic(new $String("reflect.Value.SetBytes of non-byte slice"));/* } */case 2:slice=x;if(!(v.typ.Name()==="")){_v=true;$s=6;continue s;}_r$1=v.typ.Elem().Name();/* */$s=7;case 7:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_v=!(_r$1==="");case 6:/* */if(_v){$s=4;continue;}/* */$s=5;continue;/* if (_v) { */case 4:typedSlice=new(jsType(v.typ))(slice.$array);typedSlice.$offset=slice.$offset;typedSlice.$length=slice.$length;typedSlice.$capacity=slice.$capacity;slice=typedSlice;/* } */case 5:v.ptr.$set(slice);$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:Value.ptr.prototype.SetBytes};}$f._r=_r;$f._r$1=_r$1;$f._v=_v;$f.slice=slice;$f.typedSlice=typedSlice;$f.v=v;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};Value.prototype.SetBytes=function(x){return this.$val.SetBytes(x);};Value.ptr.prototype.SetCap=function(n){var n,newSlice,s,v;v=this;new flag(v.flag).mustBeAssignable();new flag(v.flag).mustBe(23);s=v.ptr.$get();if(n<$parseInt(s.$length)>>0||n>$parseInt(s.$capacity)>>0){$panic(new $String("reflect: slice capacity out of range in SetCap"));}newSlice=new(jsType(v.typ))(s.$array);newSlice.$offset=s.$offset;newSlice.$length=s.$length;newSlice.$capacity=n;v.ptr.$set(newSlice);};Value.prototype.SetCap=function(n){return this.$val.SetCap(n);};Value.ptr.prototype.SetLen=function(n){var n,newSlice,s,v;v=this;new flag(v.flag).mustBeAssignable();new flag(v.flag).mustBe(23);s=v.ptr.$get();if(n<0||n>$parseInt(s.$capacity)>>0){$panic(new $String("reflect: slice length out of range in SetLen"));}newSlice=new(jsType(v.typ))(s.$array);newSlice.$offset=s.$offset;newSlice.$length=n;newSlice.$capacity=s.$capacity;v.ptr.$set(newSlice);};Value.prototype.SetLen=function(n){return this.$val.SetLen(n);};Value.ptr.prototype.Slice=function(i,j){var _1,_r,_r$1,cap,i,j,kind,s,str,tt,typ,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_r=$f._r;_r$1=$f._r$1;cap=$f.cap;i=$f.i;j=$f.j;kind=$f.kind;s=$f.s;str=$f.str;tt=$f.tt;typ=$f.typ;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v=this;cap=0;typ=$ifaceNil;s=null;kind=new flag(v.flag).kind();_1=kind;/* */if(_1===17){$s=2;continue;}/* */if(_1===23){$s=3;continue;}/* */if(_1===24){$s=4;continue;}/* */$s=5;continue;/* if (_1 === (17)) { */case 2:if((v.flag&256)>>>0===0){$panic(new $String("reflect.Value.Slice: slice of unaddressable array"));}tt=v.typ.kindType;cap=tt.len>>0;typ=SliceOf(tt.elem);s=new(jsType(typ))($clone(v,Value).object());$s=6;continue;/* } else if (_1 === (23)) { */case 3:typ=v.typ;s=$clone(v,Value).object();cap=$parseInt(s.$capacity)>>0;$s=6;continue;/* } else if (_1 === (24)) { */case 4:str=v.ptr.$get();if(i<0||j<i||j>str.length){$panic(new $String("reflect.Value.Slice: string slice index out of bounds"));}_r=ValueOf(new $String($substring(str,i,j)));/* */$s=7;case 7:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r;/* } else { */case 5:$panic(new ValueError.ptr("reflect.Value.Slice",kind));/* } */case 6:case 1:if(i<0||j<i||j>cap){$panic(new $String("reflect.Value.Slice: slice index out of bounds"));}_r$1=makeValue(typ,$subslice(s,i,j),new flag(v.flag).ro());/* */$s=8;case 8:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}$s=-1;return _r$1;/* */}return;}if($f===undefined){$f={$blk:Value.ptr.prototype.Slice};}$f._1=_1;$f._r=_r;$f._r$1=_r$1;$f.cap=cap;$f.i=i;$f.j=j;$f.kind=kind;$f.s=s;$f.str=str;$f.tt=tt;$f.typ=typ;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};Value.prototype.Slice=function(i,j){return this.$val.Slice(i,j);};Value.ptr.prototype.Slice3=function(i,j,k){var _1,_r,cap,i,j,k,kind,s,tt,typ,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_r=$f._r;cap=$f.cap;i=$f.i;j=$f.j;k=$f.k;kind=$f.kind;s=$f.s;tt=$f.tt;typ=$f.typ;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v=this;cap=0;typ=$ifaceNil;s=null;kind=new flag(v.flag).kind();_1=kind;if(_1===17){if((v.flag&256)>>>0===0){$panic(new $String("reflect.Value.Slice: slice of unaddressable array"));}tt=v.typ.kindType;cap=tt.len>>0;typ=SliceOf(tt.elem);s=new(jsType(typ))($clone(v,Value).object());}else if(_1===23){typ=v.typ;s=$clone(v,Value).object();cap=$parseInt(s.$capacity)>>0;}else{$panic(new ValueError.ptr("reflect.Value.Slice3",kind));}if(i<0||j<i||k<j||k>cap){$panic(new $String("reflect.Value.Slice3: slice index out of bounds"));}_r=makeValue(typ,$subslice(s,i,j,k),new flag(v.flag).ro());/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r;/* */}return;}if($f===undefined){$f={$blk:Value.ptr.prototype.Slice3};}$f._1=_1;$f._r=_r;$f.cap=cap;$f.i=i;$f.j=j;$f.k=k;$f.kind=kind;$f.s=s;$f.tt=tt;$f.typ=typ;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};Value.prototype.Slice3=function(i,j,k){return this.$val.Slice3(i,j,k);};Value.ptr.prototype.Close=function(){var v;v=this;new flag(v.flag).mustBe(18);new flag(v.flag).mustBeExported();$close($clone(v,Value).object());};Value.prototype.Close=function(){return this.$val.Close();};chanrecv=function(ch,nb,val){var _r,_tmp,_tmp$1,_tmp$2,_tmp$3,ch,comms,nb,received,recvRes,selectRes,selected,val,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tmp$2=$f._tmp$2;_tmp$3=$f._tmp$3;ch=$f.ch;comms=$f.comms;nb=$f.nb;received=$f.received;recvRes=$f.recvRes;selectRes=$f.selectRes;selected=$f.selected;val=$f.val;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:selected=false;received=false;comms=new sliceType$11([new sliceType$8([ch])]);if(nb){comms=$append(comms,new sliceType$8([]));}_r=selectHelper(new sliceType$3([comms]));/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}selectRes=_r;if(nb&&$parseInt(selectRes[0])>>0===1){_tmp=false;_tmp$1=false;selected=_tmp;received=_tmp$1;$s=-1;return[selected,received];}recvRes=selectRes[1];val.$set(recvRes[0]);_tmp$2=true;_tmp$3=!!recvRes[1];selected=_tmp$2;received=_tmp$3;$s=-1;return[selected,received];/* */}return;}if($f===undefined){$f={$blk:chanrecv};}$f._r=_r;$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tmp$2=_tmp$2;$f._tmp$3=_tmp$3;$f.ch=ch;$f.comms=comms;$f.nb=nb;$f.received=received;$f.recvRes=recvRes;$f.selectRes=selectRes;$f.selected=selected;$f.val=val;$f.$s=$s;$f.$r=$r;return $f;};chansend=function(ch,val,nb){var _r,ch,comms,nb,selectRes,val,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;ch=$f.ch;comms=$f.comms;nb=$f.nb;selectRes=$f.selectRes;val=$f.val;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:comms=new sliceType$11([new sliceType$8([ch,val.$get()])]);if(nb){comms=$append(comms,new sliceType$8([]));}_r=selectHelper(new sliceType$3([comms]));/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}selectRes=_r;if(nb&&$parseInt(selectRes[0])>>0===1){$s=-1;return false;}$s=-1;return true;/* */}return;}if($f===undefined){$f={$blk:chansend};}$f._r=_r;$f.ch=ch;$f.comms=comms;$f.nb=nb;$f.selectRes=selectRes;$f.val=val;$f.$s=$s;$f.$r=$r;return $f;};Swapper=function(slice){var _1,_r,a,off,slice,v,vLen,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_r=$f._r;a=$f.a;off=$f.off;slice=$f.slice;v=$f.v;vLen=$f.vLen;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:a=[a];off=[off];vLen=[vLen];_r=ValueOf(slice);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}v=_r;if(!($clone(v,Value).Kind()===23)){$panic(new ValueError.ptr("Swapper",$clone(v,Value).Kind()));}vLen[0]=$clone(v,Value).Len()>>>0;_1=vLen[0];if(_1===0){$s=-1;return function(a,off,vLen){return function(i,j){var i,j;$panic(new $String("reflect: slice index out of range"));};}(a,off,vLen);}else if(_1===1){$s=-1;return function(a,off,vLen){return function(i,j){var i,j;if(!(i===0)||!(j===0)){$panic(new $String("reflect: slice index out of range"));}};}(a,off,vLen);}a[0]=slice.$array;off[0]=$parseInt(slice.$offset)>>0;$s=-1;return function(a,off,vLen){return function(i,j){var i,j,tmp;if(i>>>0>=vLen[0]||j>>>0>=vLen[0]){$panic(new $String("reflect: slice index out of range"));}i=i+off[0]>>0;j=j+off[0]>>0;tmp=a[0][i];a[0][i]=a[0][j];a[0][j]=tmp;};}(a,off,vLen);/* */}return;}if($f===undefined){$f={$blk:Swapper};}$f._1=_1;$f._r=_r;$f.a=a;$f.off=off;$f.slice=slice;$f.v=v;$f.vLen=vLen;$f.$s=$s;$f.$r=$r;return $f;};$pkg.Swapper=Swapper;structField.ptr.prototype.offset=function(){var f;f=this;return f.offsetEmbed>>>1>>>0;};structField.prototype.offset=function(){return this.$val.offset();};structField.ptr.prototype.embedded=function(){var f;f=this;return!((f.offsetEmbed&1)>>>0===0);};structField.prototype.embedded=function(){return this.$val.embedded();};Kind.prototype.String=function(){var k;k=this.$val;if(k>>0<kindNames.$length){return k<0||k>=kindNames.$length?($throwRuntimeError("index out of range"),undefined):kindNames.$array[kindNames.$offset+k];}return"kind"+strconv.Itoa(k>>0);};$ptrType(Kind).prototype.String=function(){return new Kind(this.$get()).String();};rtype.ptr.prototype.String=function(){var s,t;t=this;s=$clone(t.nameOff(t.str),name).name();if(!((t.tflag&2)>>>0===0)){return $substring(s,1);}return s;};rtype.prototype.String=function(){return this.$val.String();};rtype.ptr.prototype.Size=function(){var t;t=this;return t.size;};rtype.prototype.Size=function(){return this.$val.Size();};rtype.ptr.prototype.Bits=function(){var k,t;t=this;if(t===ptrType$1.nil){$panic(new $String("reflect: Bits of nil Type"));}k=t.Kind();if(k<2||k>16){$panic(new $String("reflect: Bits of non-arithmetic Type "+t.String()));}return $imul(t.size>>0,8);};rtype.prototype.Bits=function(){return this.$val.Bits();};rtype.ptr.prototype.Align=function(){var t;t=this;return t.align>>0;};rtype.prototype.Align=function(){return this.$val.Align();};rtype.ptr.prototype.FieldAlign=function(){var t;t=this;return t.fieldAlign>>0;};rtype.prototype.FieldAlign=function(){return this.$val.FieldAlign();};rtype.ptr.prototype.Kind=function(){var t;t=this;return(t.kind&31)>>>0>>>0;};rtype.prototype.Kind=function(){return this.$val.Kind();};rtype.ptr.prototype.common=function(){var t;t=this;return t;};rtype.prototype.common=function(){return this.$val.common();};rtype.ptr.prototype.exportedMethods=function(){var t,ut;t=this;ut=t.uncommon();if(ut===ptrType$5.nil){return sliceType$5.nil;}return ut.exportedMethods();};rtype.prototype.exportedMethods=function(){return this.$val.exportedMethods();};rtype.ptr.prototype.NumMethod=function(){var t,tt;t=this;if(t.Kind()===20){tt=t.kindType;return tt.NumMethod();}return t.exportedMethods().$length;};rtype.prototype.NumMethod=function(){return this.$val.NumMethod();};rtype.ptr.prototype.MethodByName=function(name$1){var _i,_r,_ref,_tmp,_tmp$1,_tmp$2,_tmp$3,_tmp$4,_tmp$5,_tuple,i,m,name$1,ok,p,t,tt,ut,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_i=$f._i;_r=$f._r;_ref=$f._ref;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tmp$2=$f._tmp$2;_tmp$3=$f._tmp$3;_tmp$4=$f._tmp$4;_tmp$5=$f._tmp$5;_tuple=$f._tuple;i=$f.i;m=$f.m;name$1=$f.name$1;ok=$f.ok;p=$f.p;t=$f.t;tt=$f.tt;ut=$f.ut;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:m=new Method.ptr("","",$ifaceNil,new Value.ptr(ptrType$1.nil,0,0),0);ok=false;t=this;if(t.Kind()===20){tt=t.kindType;_tuple=tt.MethodByName(name$1);Method.copy(m,_tuple[0]);ok=_tuple[1];$s=-1;return[m,ok];}ut=t.uncommon();if(ut===ptrType$5.nil){_tmp=new Method.ptr("","",$ifaceNil,new Value.ptr(ptrType$1.nil,0,0),0);_tmp$1=false;Method.copy(m,_tmp);ok=_tmp$1;$s=-1;return[m,ok];}_ref=ut.exportedMethods();_i=0;/* while (true) { */case 1:/* if (!(_i < _ref.$length)) { break; } */if(!(_i<_ref.$length)){$s=2;continue;}i=_i;p=$clone(_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i],method);/* */if($clone(t.nameOff(p.name),name).name()===name$1){$s=3;continue;}/* */$s=4;continue;/* if ($clone(t.nameOff(p.name), name).name() === name$1) { */case 3:_r=t.Method(i);/* */$s=5;case 5:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tmp$2=$clone(_r,Method);_tmp$3=true;Method.copy(m,_tmp$2);ok=_tmp$3;$s=-1;return[m,ok];/* } */case 4:_i++;/* } */$s=1;continue;case 2:_tmp$4=new Method.ptr("","",$ifaceNil,new Value.ptr(ptrType$1.nil,0,0),0);_tmp$5=false;Method.copy(m,_tmp$4);ok=_tmp$5;$s=-1;return[m,ok];/* */}return;}if($f===undefined){$f={$blk:rtype.ptr.prototype.MethodByName};}$f._i=_i;$f._r=_r;$f._ref=_ref;$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tmp$2=_tmp$2;$f._tmp$3=_tmp$3;$f._tmp$4=_tmp$4;$f._tmp$5=_tmp$5;$f._tuple=_tuple;$f.i=i;$f.m=m;$f.name$1=name$1;$f.ok=ok;$f.p=p;$f.t=t;$f.tt=tt;$f.ut=ut;$f.$s=$s;$f.$r=$r;return $f;};rtype.prototype.MethodByName=function(name$1){return this.$val.MethodByName(name$1);};rtype.ptr.prototype.PkgPath=function(){var t,ut;t=this;if((t.tflag&4)>>>0===0){return"";}ut=t.uncommon();if(ut===ptrType$5.nil){return"";}return $clone(t.nameOff(ut.pkgPath),name).name();};rtype.prototype.PkgPath=function(){return this.$val.PkgPath();};rtype.ptr.prototype.Name=function(){var i,s,t;t=this;if((t.tflag&4)>>>0===0){return"";}s=t.String();i=s.length-1>>0;while(true){if(!(i>=0)){break;}if(s.charCodeAt(i)===46){break;}i=i-1>>0;}return $substring(s,i+1>>0);};rtype.prototype.Name=function(){return this.$val.Name();};rtype.ptr.prototype.ChanDir=function(){var t,tt;t=this;if(!(t.Kind()===18)){$panic(new $String("reflect: ChanDir of non-chan type"));}tt=t.kindType;return tt.dir>>0;};rtype.prototype.ChanDir=function(){return this.$val.ChanDir();};rtype.ptr.prototype.IsVariadic=function(){var t,tt;t=this;if(!(t.Kind()===19)){$panic(new $String("reflect: IsVariadic of non-func type"));}tt=t.kindType;return!((tt.outCount&32768)>>>0===0);};rtype.prototype.IsVariadic=function(){return this.$val.IsVariadic();};rtype.ptr.prototype.Elem=function(){var _1,t,tt,tt$1,tt$2,tt$3,tt$4;t=this;_1=t.Kind();if(_1===17){tt=t.kindType;return toType(tt.elem);}else if(_1===18){tt$1=t.kindType;return toType(tt$1.elem);}else if(_1===21){tt$2=t.kindType;return toType(tt$2.elem);}else if(_1===22){tt$3=t.kindType;return toType(tt$3.elem);}else if(_1===23){tt$4=t.kindType;return toType(tt$4.elem);}$panic(new $String("reflect: Elem of invalid type"));};rtype.prototype.Elem=function(){return this.$val.Elem();};rtype.ptr.prototype.Field=function(i){var i,t,tt;t=this;if(!(t.Kind()===25)){$panic(new $String("reflect: Field of non-struct type"));}tt=t.kindType;return tt.Field(i);};rtype.prototype.Field=function(i){return this.$val.Field(i);};rtype.ptr.prototype.FieldByIndex=function(index){var _r,index,t,tt,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;index=$f.index;t=$f.t;tt=$f.tt;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:t=this;if(!(t.Kind()===25)){$panic(new $String("reflect: FieldByIndex of non-struct type"));}tt=t.kindType;_r=tt.FieldByIndex(index);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r;/* */}return;}if($f===undefined){$f={$blk:rtype.ptr.prototype.FieldByIndex};}$f._r=_r;$f.index=index;$f.t=t;$f.tt=tt;$f.$s=$s;$f.$r=$r;return $f;};rtype.prototype.FieldByIndex=function(index){return this.$val.FieldByIndex(index);};rtype.ptr.prototype.FieldByName=function(name$1){var _r,name$1,t,tt,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;name$1=$f.name$1;t=$f.t;tt=$f.tt;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:t=this;if(!(t.Kind()===25)){$panic(new $String("reflect: FieldByName of non-struct type"));}tt=t.kindType;_r=tt.FieldByName(name$1);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r;/* */}return;}if($f===undefined){$f={$blk:rtype.ptr.prototype.FieldByName};}$f._r=_r;$f.name$1=name$1;$f.t=t;$f.tt=tt;$f.$s=$s;$f.$r=$r;return $f;};rtype.prototype.FieldByName=function(name$1){return this.$val.FieldByName(name$1);};rtype.ptr.prototype.FieldByNameFunc=function(match){var _r,match,t,tt,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;match=$f.match;t=$f.t;tt=$f.tt;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:t=this;if(!(t.Kind()===25)){$panic(new $String("reflect: FieldByNameFunc of non-struct type"));}tt=t.kindType;_r=tt.FieldByNameFunc(match);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r;/* */}return;}if($f===undefined){$f={$blk:rtype.ptr.prototype.FieldByNameFunc};}$f._r=_r;$f.match=match;$f.t=t;$f.tt=tt;$f.$s=$s;$f.$r=$r;return $f;};rtype.prototype.FieldByNameFunc=function(match){return this.$val.FieldByNameFunc(match);};rtype.ptr.prototype.In=function(i){var i,t,tt,x;t=this;if(!(t.Kind()===19)){$panic(new $String("reflect: In of non-func type"));}tt=t.kindType;return toType((x=tt.in$(),i<0||i>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+i]));};rtype.prototype.In=function(i){return this.$val.In(i);};rtype.ptr.prototype.Key=function(){var t,tt;t=this;if(!(t.Kind()===21)){$panic(new $String("reflect: Key of non-map type"));}tt=t.kindType;return toType(tt.key);};rtype.prototype.Key=function(){return this.$val.Key();};rtype.ptr.prototype.Len=function(){var t,tt;t=this;if(!(t.Kind()===17)){$panic(new $String("reflect: Len of non-array type"));}tt=t.kindType;return tt.len>>0;};rtype.prototype.Len=function(){return this.$val.Len();};rtype.ptr.prototype.NumField=function(){var t,tt;t=this;if(!(t.Kind()===25)){$panic(new $String("reflect: NumField of non-struct type"));}tt=t.kindType;return tt.fields.$length;};rtype.prototype.NumField=function(){return this.$val.NumField();};rtype.ptr.prototype.NumIn=function(){var t,tt;t=this;if(!(t.Kind()===19)){$panic(new $String("reflect: NumIn of non-func type"));}tt=t.kindType;return tt.inCount>>0;};rtype.prototype.NumIn=function(){return this.$val.NumIn();};rtype.ptr.prototype.NumOut=function(){var t,tt;t=this;if(!(t.Kind()===19)){$panic(new $String("reflect: NumOut of non-func type"));}tt=t.kindType;return tt.out().$length;};rtype.prototype.NumOut=function(){return this.$val.NumOut();};rtype.ptr.prototype.Out=function(i){var i,t,tt,x;t=this;if(!(t.Kind()===19)){$panic(new $String("reflect: Out of non-func type"));}tt=t.kindType;return toType((x=tt.out(),i<0||i>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+i]));};rtype.prototype.Out=function(i){return this.$val.Out(i);};ChanDir.prototype.String=function(){var _1,d;d=this.$val;_1=d;if(_1===2){return"chan<-";}else if(_1===1){return"<-chan";}else if(_1===3){return"chan";}return"ChanDir"+strconv.Itoa(d>>0);};$ptrType(ChanDir).prototype.String=function(){return new ChanDir(this.$get()).String();};interfaceType.ptr.prototype.Method=function(i){var i,m,p,pname,t,x;m=new Method.ptr("","",$ifaceNil,new Value.ptr(ptrType$1.nil,0,0),0);t=this;if(i<0||i>=t.methods.$length){return m;}p=(x=t.methods,i<0||i>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+i]);pname=$clone(t.rtype.nameOff(p.name),name);m.Name=$clone(pname,name).name();if(!$clone(pname,name).isExported()){m.PkgPath=$clone(pname,name).pkgPath();if(m.PkgPath===""){m.PkgPath=$clone(t.pkgPath,name).name();}}m.Type=toType(t.rtype.typeOff(p.typ));m.Index=i;return m;};interfaceType.prototype.Method=function(i){return this.$val.Method(i);};interfaceType.ptr.prototype.NumMethod=function(){var t;t=this;return t.methods.$length;};interfaceType.prototype.NumMethod=function(){return this.$val.NumMethod();};interfaceType.ptr.prototype.MethodByName=function(name$1){var _i,_ref,_tmp,_tmp$1,i,m,name$1,ok,p,t,x;m=new Method.ptr("","",$ifaceNil,new Value.ptr(ptrType$1.nil,0,0),0);ok=false;t=this;if(t===ptrType$9.nil){return[m,ok];}p=ptrType$10.nil;_ref=t.methods;_i=0;while(true){if(!(_i<_ref.$length)){break;}i=_i;p=(x=t.methods,i<0||i>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+i]);if($clone(t.rtype.nameOff(p.name),name).name()===name$1){_tmp=$clone(t.Method(i),Method);_tmp$1=true;Method.copy(m,_tmp);ok=_tmp$1;return[m,ok];}_i++;}return[m,ok];};interfaceType.prototype.MethodByName=function(name$1){return this.$val.MethodByName(name$1);};StructTag.prototype.Get=function(key){var _tuple,key,tag,v;tag=this.$val;_tuple=new StructTag(tag).Lookup(key);v=_tuple[0];return v;};$ptrType(StructTag).prototype.Get=function(key){return new StructTag(this.$get()).Get(key);};StructTag.prototype.Lookup=function(key){var _tmp,_tmp$1,_tmp$2,_tmp$3,_tuple,err,i,key,name$1,ok,qvalue,tag,value,value$1;value="";ok=false;tag=this.$val;while(true){if(!!(tag==="")){break;}i=0;while(true){if(!(i<tag.length&&tag.charCodeAt(i)===32)){break;}i=i+1>>0;}tag=$substring(tag,i);if(tag===""){break;}i=0;while(true){if(!(i<tag.length&&tag.charCodeAt(i)>32&&!(tag.charCodeAt(i)===58)&&!(tag.charCodeAt(i)===34)&&!(tag.charCodeAt(i)===127))){break;}i=i+1>>0;}if(i===0||i+1>>0>=tag.length||!(tag.charCodeAt(i)===58)||!(tag.charCodeAt(i+1>>0)===34)){break;}name$1=$substring(tag,0,i);tag=$substring(tag,i+1>>0);i=1;while(true){if(!(i<tag.length&&!(tag.charCodeAt(i)===34))){break;}if(tag.charCodeAt(i)===92){i=i+1>>0;}i=i+1>>0;}if(i>=tag.length){break;}qvalue=$substring(tag,0,i+1>>0);tag=$substring(tag,i+1>>0);if(key===name$1){_tuple=strconv.Unquote(qvalue);value$1=_tuple[0];err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){break;}_tmp=value$1;_tmp$1=true;value=_tmp;ok=_tmp$1;return[value,ok];}}_tmp$2="";_tmp$3=false;value=_tmp$2;ok=_tmp$3;return[value,ok];};$ptrType(StructTag).prototype.Lookup=function(key){return new StructTag(this.$get()).Lookup(key);};structType.ptr.prototype.Field=function(i){var f,i,p,t,tag,x;f=new StructField.ptr("","",$ifaceNil,"",0,sliceType$13.nil,false);t=this;if(i<0||i>=t.fields.$length){$panic(new $String("reflect: Field index out of bounds"));}p=(x=t.fields,i<0||i>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+i]);f.Type=toType(p.typ);f.Name=$clone(p.name,name).name();f.Anonymous=p.embedded();if(!$clone(p.name,name).isExported()){f.PkgPath=$clone(t.pkgPath,name).name();}tag=$clone(p.name,name).tag();if(!(tag==="")){f.Tag=tag;}f.Offset=p.offset();f.Index=new sliceType$13([i]);return f;};structType.prototype.Field=function(i){return this.$val.Field(i);};structType.ptr.prototype.FieldByIndex=function(index){var _i,_r,_r$1,_r$2,_r$3,_r$4,_ref,_v,f,ft,i,index,t,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_i=$f._i;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_ref=$f._ref;_v=$f._v;f=$f.f;ft=$f.ft;i=$f.i;index=$f.index;t=$f.t;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:f=new StructField.ptr("","",$ifaceNil,"",0,sliceType$13.nil,false);t=this;f.Type=toType(t.rtype);_ref=index;_i=0;/* while (true) { */case 1:/* if (!(_i < _ref.$length)) { break; } */if(!(_i<_ref.$length)){$s=2;continue;}i=_i;x=_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i];/* */if(i>0){$s=3;continue;}/* */$s=4;continue;/* if (i > 0) { */case 3:ft=f.Type;_r=ft.Kind();/* */$s=8;case 8:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}if(!(_r===22)){_v=false;$s=7;continue s;}_r$1=ft.Elem();/* */$s=9;case 9:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_r$2=_r$1.Kind();/* */$s=10;case 10:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_v=_r$2===25;case 7:/* */if(_v){$s=5;continue;}/* */$s=6;continue;/* if (_v) { */case 5:_r$3=ft.Elem();/* */$s=11;case 11:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}ft=_r$3;/* } */case 6:f.Type=ft;/* } */case 4:_r$4=f.Type.Field(x);/* */$s=12;case 12:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}StructField.copy(f,_r$4);_i++;/* } */$s=1;continue;case 2:$s=-1;return f;/* */}return;}if($f===undefined){$f={$blk:structType.ptr.prototype.FieldByIndex};}$f._i=_i;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._ref=_ref;$f._v=_v;$f.f=f;$f.ft=ft;$f.i=i;$f.index=index;$f.t=t;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};structType.prototype.FieldByIndex=function(index){return this.$val.FieldByIndex(index);};structType.ptr.prototype.FieldByNameFunc=function(match){var _entry,_entry$1,_entry$2,_entry$3,_i,_i$1,_key,_key$1,_key$2,_key$3,_r,_r$1,_ref,_ref$1,_tmp,_tmp$1,_tmp$2,_tmp$3,count,current,f,fname,i,index,match,next,nextCount,ntyp,ok,result,scan,styp,t,t$1,visited,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_entry$1=$f._entry$1;_entry$2=$f._entry$2;_entry$3=$f._entry$3;_i=$f._i;_i$1=$f._i$1;_key=$f._key;_key$1=$f._key$1;_key$2=$f._key$2;_key$3=$f._key$3;_r=$f._r;_r$1=$f._r$1;_ref=$f._ref;_ref$1=$f._ref$1;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tmp$2=$f._tmp$2;_tmp$3=$f._tmp$3;count=$f.count;current=$f.current;f=$f.f;fname=$f.fname;i=$f.i;index=$f.index;match=$f.match;next=$f.next;nextCount=$f.nextCount;ntyp=$f.ntyp;ok=$f.ok;result=$f.result;scan=$f.scan;styp=$f.styp;t=$f.t;t$1=$f.t$1;visited=$f.visited;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:result=new StructField.ptr("","",$ifaceNil,"",0,sliceType$13.nil,false);ok=false;t=this;current=new sliceType$14([]);next=new sliceType$14([new fieldScan.ptr(t,sliceType$13.nil)]);nextCount=false;visited=$makeMap(ptrType$11.keyFor,[]);/* while (true) { */case 1:/* if (!(next.$length > 0)) { break; } */if(!(next.$length>0)){$s=2;continue;}_tmp=next;_tmp$1=$subslice(current,0,0);current=_tmp;next=_tmp$1;count=nextCount;nextCount=false;_ref=current;_i=0;/* while (true) { */case 3:/* if (!(_i < _ref.$length)) { break; } */if(!(_i<_ref.$length)){$s=4;continue;}scan=$clone(_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i],fieldScan);t$1=scan.typ;/* */if(_entry=visited[ptrType$11.keyFor(t$1)],_entry!==undefined?_entry.v:false){$s=5;continue;}/* */$s=6;continue;/* if ((_entry = visited[ptrType$11.keyFor(t$1)], _entry !== undefined ? _entry.v : false)) { */case 5:_i++;/* continue; */$s=3;continue;/* } */case 6:_key=t$1;(visited||$throwRuntimeError("assignment to entry in nil map"))[ptrType$11.keyFor(_key)]={k:_key,v:true};_ref$1=t$1.fields;_i$1=0;/* while (true) { */case 7:/* if (!(_i$1 < _ref$1.$length)) { break; } */if(!(_i$1<_ref$1.$length)){$s=8;continue;}i=_i$1;f=(x=t$1.fields,i<0||i>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+i]);fname=$clone(f.name,name).name();ntyp=ptrType$1.nil;/* */if(f.embedded()){$s=9;continue;}/* */$s=10;continue;/* if (f.embedded()) { */case 9:ntyp=f.typ;/* */if(ntyp.Kind()===22){$s=11;continue;}/* */$s=12;continue;/* if (ntyp.Kind() === 22) { */case 11:_r=ntyp.Elem().common();/* */$s=13;case 13:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}ntyp=_r;/* } */case 12:/* } */case 10:_r$1=match(fname);/* */$s=16;case 16:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}/* */if(_r$1){$s=14;continue;}/* */$s=15;continue;/* if (_r$1) { */case 14:if((_entry$1=count[ptrType$11.keyFor(t$1)],_entry$1!==undefined?_entry$1.v:0)>1||ok){_tmp$2=new StructField.ptr("","",$ifaceNil,"",0,sliceType$13.nil,false);_tmp$3=false;StructField.copy(result,_tmp$2);ok=_tmp$3;$s=-1;return[result,ok];}StructField.copy(result,t$1.Field(i));result.Index=sliceType$13.nil;result.Index=$appendSlice(result.Index,scan.index);result.Index=$append(result.Index,i);ok=true;_i$1++;/* continue; */$s=7;continue;/* } */case 15:if(ok||ntyp===ptrType$1.nil||!(ntyp.Kind()===25)){_i$1++;/* continue; */$s=7;continue;}styp=ntyp.kindType;if((_entry$2=nextCount[ptrType$11.keyFor(styp)],_entry$2!==undefined?_entry$2.v:0)>0){_key$1=styp;(nextCount||$throwRuntimeError("assignment to entry in nil map"))[ptrType$11.keyFor(_key$1)]={k:_key$1,v:2};_i$1++;/* continue; */$s=7;continue;}if(nextCount===false){nextCount=$makeMap(ptrType$11.keyFor,[]);}_key$2=styp;(nextCount||$throwRuntimeError("assignment to entry in nil map"))[ptrType$11.keyFor(_key$2)]={k:_key$2,v:1};if((_entry$3=count[ptrType$11.keyFor(t$1)],_entry$3!==undefined?_entry$3.v:0)>1){_key$3=styp;(nextCount||$throwRuntimeError("assignment to entry in nil map"))[ptrType$11.keyFor(_key$3)]={k:_key$3,v:2};}index=sliceType$13.nil;index=$appendSlice(index,scan.index);index=$append(index,i);next=$append(next,new fieldScan.ptr(styp,index));_i$1++;/* } */$s=7;continue;case 8:_i++;/* } */$s=3;continue;case 4:if(ok){/* break; */$s=2;continue;}/* } */$s=1;continue;case 2:$s=-1;return[result,ok];/* */}return;}if($f===undefined){$f={$blk:structType.ptr.prototype.FieldByNameFunc};}$f._entry=_entry;$f._entry$1=_entry$1;$f._entry$2=_entry$2;$f._entry$3=_entry$3;$f._i=_i;$f._i$1=_i$1;$f._key=_key;$f._key$1=_key$1;$f._key$2=_key$2;$f._key$3=_key$3;$f._r=_r;$f._r$1=_r$1;$f._ref=_ref;$f._ref$1=_ref$1;$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tmp$2=_tmp$2;$f._tmp$3=_tmp$3;$f.count=count;$f.current=current;$f.f=f;$f.fname=fname;$f.i=i;$f.index=index;$f.match=match;$f.next=next;$f.nextCount=nextCount;$f.ntyp=ntyp;$f.ok=ok;$f.result=result;$f.scan=scan;$f.styp=styp;$f.t=t;$f.t$1=t$1;$f.visited=visited;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};structType.prototype.FieldByNameFunc=function(match){return this.$val.FieldByNameFunc(match);};structType.ptr.prototype.FieldByName=function(name$1){var _i,_r,_ref,_tmp,_tmp$1,_tuple,f,hasEmbeds,i,name$1,present,t,tf,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_i=$f._i;_r=$f._r;_ref=$f._ref;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tuple=$f._tuple;f=$f.f;hasEmbeds=$f.hasEmbeds;i=$f.i;name$1=$f.name$1;present=$f.present;t=$f.t;tf=$f.tf;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:name$1=[name$1];f=new StructField.ptr("","",$ifaceNil,"",0,sliceType$13.nil,false);present=false;t=this;hasEmbeds=false;if(!(name$1[0]==="")){_ref=t.fields;_i=0;while(true){if(!(_i<_ref.$length)){break;}i=_i;tf=(x=t.fields,i<0||i>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+i]);if($clone(tf.name,name).name()===name$1[0]){_tmp=$clone(t.Field(i),StructField);_tmp$1=true;StructField.copy(f,_tmp);present=_tmp$1;$s=-1;return[f,present];}if(tf.embedded()){hasEmbeds=true;}_i++;}}if(!hasEmbeds){$s=-1;return[f,present];}_r=t.FieldByNameFunc(function(name$1){return function(s){var s;return s===name$1[0];};}(name$1));/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;StructField.copy(f,_tuple[0]);present=_tuple[1];$s=-1;return[f,present];/* */}return;}if($f===undefined){$f={$blk:structType.ptr.prototype.FieldByName};}$f._i=_i;$f._r=_r;$f._ref=_ref;$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tuple=_tuple;$f.f=f;$f.hasEmbeds=hasEmbeds;$f.i=i;$f.name$1=name$1;$f.present=present;$f.t=t;$f.tf=tf;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};structType.prototype.FieldByName=function(name$1){return this.$val.FieldByName(name$1);};PtrTo=function(t){var t;return $assertType(t,ptrType$1).ptrTo();};$pkg.PtrTo=PtrTo;rtype.ptr.prototype.Implements=function(u){var _r,t,u,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;t=$f.t;u=$f.u;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:t=this;if($interfaceIsEqual(u,$ifaceNil)){$panic(new $String("reflect: nil type passed to Type.Implements"));}_r=u.Kind();/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}/* */if(!(_r===20)){$s=1;continue;}/* */$s=2;continue;/* if (!((_r === 20))) { */case 1:$panic(new $String("reflect: non-interface type passed to Type.Implements"));/* } */case 2:$s=-1;return implements$1($assertType(u,ptrType$1),t);/* */}return;}if($f===undefined){$f={$blk:rtype.ptr.prototype.Implements};}$f._r=_r;$f.t=t;$f.u=u;$f.$s=$s;$f.$r=$r;return $f;};rtype.prototype.Implements=function(u){return this.$val.Implements(u);};rtype.ptr.prototype.AssignableTo=function(u){var _r,t,u,uu,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;t=$f.t;u=$f.u;uu=$f.uu;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:t=this;if($interfaceIsEqual(u,$ifaceNil)){$panic(new $String("reflect: nil type passed to Type.AssignableTo"));}uu=$assertType(u,ptrType$1);_r=directlyAssignable(uu,t);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r||implements$1(uu,t);/* */}return;}if($f===undefined){$f={$blk:rtype.ptr.prototype.AssignableTo};}$f._r=_r;$f.t=t;$f.u=u;$f.uu=uu;$f.$s=$s;$f.$r=$r;return $f;};rtype.prototype.AssignableTo=function(u){return this.$val.AssignableTo(u);};rtype.ptr.prototype.ConvertibleTo=function(u){var _r,t,u,uu,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;t=$f.t;u=$f.u;uu=$f.uu;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:t=this;if($interfaceIsEqual(u,$ifaceNil)){$panic(new $String("reflect: nil type passed to Type.ConvertibleTo"));}uu=$assertType(u,ptrType$1);_r=convertOp(uu,t);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return!(_r===$throwNilPointerError);/* */}return;}if($f===undefined){$f={$blk:rtype.ptr.prototype.ConvertibleTo};}$f._r=_r;$f.t=t;$f.u=u;$f.uu=uu;$f.$s=$s;$f.$r=$r;return $f;};rtype.prototype.ConvertibleTo=function(u){return this.$val.ConvertibleTo(u);};implements$1=function(T,V){var T,V,i,i$1,j,j$1,t,tm,tm$1,tmName,tmName$1,tmPkgPath,tmPkgPath$1,v,v$1,vm,vm$1,vmName,vmName$1,vmPkgPath,vmPkgPath$1,vmethods,x,x$1,x$2;if(!(T.Kind()===20)){return false;}t=T.kindType;if(t.methods.$length===0){return true;}if(V.Kind()===20){v=V.kindType;i=0;j=0;while(true){if(!(j<v.methods.$length)){break;}tm=(x=t.methods,i<0||i>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+i]);tmName=$clone(t.rtype.nameOff(tm.name),name);vm=(x$1=v.methods,j<0||j>=x$1.$length?($throwRuntimeError("index out of range"),undefined):x$1.$array[x$1.$offset+j]);vmName=$clone(V.nameOff(vm.name),name);if($clone(vmName,name).name()===$clone(tmName,name).name()&&V.typeOff(vm.typ)===t.rtype.typeOff(tm.typ)){if(!$clone(tmName,name).isExported()){tmPkgPath=$clone(tmName,name).pkgPath();if(tmPkgPath===""){tmPkgPath=$clone(t.pkgPath,name).name();}vmPkgPath=$clone(vmName,name).pkgPath();if(vmPkgPath===""){vmPkgPath=$clone(v.pkgPath,name).name();}if(!(tmPkgPath===vmPkgPath)){j=j+1>>0;continue;}}i=i+1>>0;if(i>=t.methods.$length){return true;}}j=j+1>>0;}return false;}v$1=V.uncommon();if(v$1===ptrType$5.nil){return false;}i$1=0;vmethods=v$1.methods();j$1=0;while(true){if(!(j$1<v$1.mcount>>0)){break;}tm$1=(x$2=t.methods,i$1<0||i$1>=x$2.$length?($throwRuntimeError("index out of range"),undefined):x$2.$array[x$2.$offset+i$1]);tmName$1=$clone(t.rtype.nameOff(tm$1.name),name);vm$1=$clone(j$1<0||j$1>=vmethods.$length?($throwRuntimeError("index out of range"),undefined):vmethods.$array[vmethods.$offset+j$1],method);vmName$1=$clone(V.nameOff(vm$1.name),name);if($clone(vmName$1,name).name()===$clone(tmName$1,name).name()&&V.typeOff(vm$1.mtyp)===t.rtype.typeOff(tm$1.typ)){if(!$clone(tmName$1,name).isExported()){tmPkgPath$1=$clone(tmName$1,name).pkgPath();if(tmPkgPath$1===""){tmPkgPath$1=$clone(t.pkgPath,name).name();}vmPkgPath$1=$clone(vmName$1,name).pkgPath();if(vmPkgPath$1===""){vmPkgPath$1=$clone(V.nameOff(v$1.pkgPath),name).name();}if(!(tmPkgPath$1===vmPkgPath$1)){j$1=j$1+1>>0;continue;}}i$1=i$1+1>>0;if(i$1>=t.methods.$length){return true;}}j$1=j$1+1>>0;}return false;};directlyAssignable=function(T,V){var T,V,_r,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;T=$f.T;V=$f.V;_r=$f._r;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:if(T===V){$s=-1;return true;}if(!(T.Name()==="")&&!(V.Name()==="")||!(T.Kind()===V.Kind())){$s=-1;return false;}_r=haveIdenticalUnderlyingType(T,V,true);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r;/* */}return;}if($f===undefined){$f={$blk:directlyAssignable};}$f.T=T;$f.V=V;$f._r=_r;$f.$s=$s;$f.$r=$r;return $f;};haveIdenticalType=function(T,V,cmpTags){var T,V,_arg,_arg$1,_r,_r$1,_r$2,_r$3,_r$4,_r$5,_r$6,_v,cmpTags,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;T=$f.T;V=$f.V;_arg=$f._arg;_arg$1=$f._arg$1;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_v=$f._v;cmpTags=$f.cmpTags;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:if(cmpTags){$s=-1;return $interfaceIsEqual(T,V);}_r=T.Name();/* */$s=4;case 4:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_r$1=V.Name();/* */$s=5;case 5:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}if(!(_r===_r$1)){_v=true;$s=3;continue s;}_r$2=T.Kind();/* */$s=6;case 6:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_r$3=V.Kind();/* */$s=7;case 7:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_v=!(_r$2===_r$3);case 3:/* */if(_v){$s=1;continue;}/* */$s=2;continue;/* if (_v) { */case 1:$s=-1;return false;/* } */case 2:_r$4=T.common();/* */$s=8;case 8:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}_arg=_r$4;_r$5=V.common();/* */$s=9;case 9:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}_arg$1=_r$5;_r$6=haveIdenticalUnderlyingType(_arg,_arg$1,false);/* */$s=10;case 10:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}$s=-1;return _r$6;/* */}return;}if($f===undefined){$f={$blk:haveIdenticalType};}$f.T=T;$f.V=V;$f._arg=_arg;$f._arg$1=_arg$1;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._v=_v;$f.cmpTags=cmpTags;$f.$s=$s;$f.$r=$r;return $f;};haveIdenticalUnderlyingType=function(T,V,cmpTags){var T,V,_1,_i,_r,_r$1,_r$2,_r$3,_r$4,_r$5,_r$6,_r$7,_r$8,_ref,_v,_v$1,_v$2,_v$3,cmpTags,i,i$1,i$2,kind,t,t$1,t$2,tf,v,v$1,v$2,vf,x,x$1,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;T=$f.T;V=$f.V;_1=$f._1;_i=$f._i;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_r$7=$f._r$7;_r$8=$f._r$8;_ref=$f._ref;_v=$f._v;_v$1=$f._v$1;_v$2=$f._v$2;_v$3=$f._v$3;cmpTags=$f.cmpTags;i=$f.i;i$1=$f.i$1;i$2=$f.i$2;kind=$f.kind;t=$f.t;t$1=$f.t$1;t$2=$f.t$2;tf=$f.tf;v=$f.v;v$1=$f.v$1;v$2=$f.v$2;vf=$f.vf;x=$f.x;x$1=$f.x$1;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:if(T===V){$s=-1;return true;}kind=T.Kind();if(!(kind===V.Kind())){$s=-1;return false;}if(1<=kind&&kind<=16||kind===24||kind===26){$s=-1;return true;}_1=kind;/* */if(_1===17){$s=2;continue;}/* */if(_1===18){$s=3;continue;}/* */if(_1===19){$s=4;continue;}/* */if(_1===20){$s=5;continue;}/* */if(_1===21){$s=6;continue;}/* */if(_1===22||_1===23){$s=7;continue;}/* */if(_1===25){$s=8;continue;}/* */$s=9;continue;/* if (_1 === (17)) { */case 2:if(!(T.Len()===V.Len())){_v=false;$s=10;continue s;}_r=haveIdenticalType(T.Elem(),V.Elem(),cmpTags);/* */$s=11;case 11:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_v=_r;case 10:$s=-1;return _v;/* } else if (_1 === (18)) { */case 3:if(!(V.ChanDir()===3)){_v$1=false;$s=14;continue s;}_r$1=haveIdenticalType(T.Elem(),V.Elem(),cmpTags);/* */$s=15;case 15:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_v$1=_r$1;case 14:/* */if(_v$1){$s=12;continue;}/* */$s=13;continue;/* if (_v$1) { */case 12:$s=-1;return true;/* } */case 13:if(!(V.ChanDir()===T.ChanDir())){_v$2=false;$s=16;continue s;}_r$2=haveIdenticalType(T.Elem(),V.Elem(),cmpTags);/* */$s=17;case 17:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_v$2=_r$2;case 16:$s=-1;return _v$2;/* } else if (_1 === (19)) { */case 4:t=T.kindType;v=V.kindType;if(!(t.outCount===v.outCount)||!(t.inCount===v.inCount)){$s=-1;return false;}i=0;/* while (true) { */case 18:/* if (!(i < t.rtype.NumIn())) { break; } */if(!(i<t.rtype.NumIn())){$s=19;continue;}_r$3=haveIdenticalType(t.rtype.In(i),v.rtype.In(i),cmpTags);/* */$s=22;case 22:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}/* */if(!_r$3){$s=20;continue;}/* */$s=21;continue;/* if (!_r$3) { */case 20:$s=-1;return false;/* } */case 21:i=i+1>>0;/* } */$s=18;continue;case 19:i$1=0;/* while (true) { */case 23:/* if (!(i$1 < t.rtype.NumOut())) { break; } */if(!(i$1<t.rtype.NumOut())){$s=24;continue;}_r$4=haveIdenticalType(t.rtype.Out(i$1),v.rtype.Out(i$1),cmpTags);/* */$s=27;case 27:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}/* */if(!_r$4){$s=25;continue;}/* */$s=26;continue;/* if (!_r$4) { */case 25:$s=-1;return false;/* } */case 26:i$1=i$1+1>>0;/* } */$s=23;continue;case 24:$s=-1;return true;/* } else if (_1 === (20)) { */case 5:t$1=T.kindType;v$1=V.kindType;if(t$1.methods.$length===0&&v$1.methods.$length===0){$s=-1;return true;}$s=-1;return false;/* } else if (_1 === (21)) { */case 6:_r$5=haveIdenticalType(T.Key(),V.Key(),cmpTags);/* */$s=29;case 29:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}if(!_r$5){_v$3=false;$s=28;continue s;}_r$6=haveIdenticalType(T.Elem(),V.Elem(),cmpTags);/* */$s=30;case 30:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}_v$3=_r$6;case 28:$s=-1;return _v$3;/* } else if ((_1 === (22)) || (_1 === (23))) { */case 7:_r$7=haveIdenticalType(T.Elem(),V.Elem(),cmpTags);/* */$s=31;case 31:if($c){$c=false;_r$7=_r$7.$blk();}if(_r$7&&_r$7.$blk!==undefined){break s;}$s=-1;return _r$7;/* } else if (_1 === (25)) { */case 8:t$2=T.kindType;v$2=V.kindType;if(!(t$2.fields.$length===v$2.fields.$length)){$s=-1;return false;}if(!($clone(t$2.pkgPath,name).name()===$clone(v$2.pkgPath,name).name())){$s=-1;return false;}_ref=t$2.fields;_i=0;/* while (true) { */case 32:/* if (!(_i < _ref.$length)) { break; } */if(!(_i<_ref.$length)){$s=33;continue;}i$2=_i;tf=(x=t$2.fields,i$2<0||i$2>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+i$2]);vf=(x$1=v$2.fields,i$2<0||i$2>=x$1.$length?($throwRuntimeError("index out of range"),undefined):x$1.$array[x$1.$offset+i$2]);if(!($clone(tf.name,name).name()===$clone(vf.name,name).name())){$s=-1;return false;}_r$8=haveIdenticalType(tf.typ,vf.typ,cmpTags);/* */$s=36;case 36:if($c){$c=false;_r$8=_r$8.$blk();}if(_r$8&&_r$8.$blk!==undefined){break s;}/* */if(!_r$8){$s=34;continue;}/* */$s=35;continue;/* if (!_r$8) { */case 34:$s=-1;return false;/* } */case 35:if(cmpTags&&!($clone(tf.name,name).tag()===$clone(vf.name,name).tag())){$s=-1;return false;}if(!(tf.offsetEmbed===vf.offsetEmbed)){$s=-1;return false;}_i++;/* } */$s=32;continue;case 33:$s=-1;return true;/* } */case 9:case 1:$s=-1;return false;/* */}return;}if($f===undefined){$f={$blk:haveIdenticalUnderlyingType};}$f.T=T;$f.V=V;$f._1=_1;$f._i=_i;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._r$7=_r$7;$f._r$8=_r$8;$f._ref=_ref;$f._v=_v;$f._v$1=_v$1;$f._v$2=_v$2;$f._v$3=_v$3;$f.cmpTags=cmpTags;$f.i=i;$f.i$1=i$1;$f.i$2=i$2;$f.kind=kind;$f.t=t;$f.t$1=t$1;$f.t$2=t$2;$f.tf=tf;$f.v=v;$f.v$1=v$1;$f.v$2=v$2;$f.vf=vf;$f.x=x;$f.x$1=x$1;$f.$s=$s;$f.$r=$r;return $f;};toType=function(t){var t;if(t===ptrType$1.nil){return $ifaceNil;}return t;};ifaceIndir=function(t){var t;return(t.kind&32)>>>0===0;};flag.prototype.kind=function(){var f;f=this.$val;return(f&31)>>>0>>>0;};$ptrType(flag).prototype.kind=function(){return new flag(this.$get()).kind();};flag.prototype.ro=function(){var f;f=this.$val;if(!((f&96)>>>0===0)){return 32;}return 0;};$ptrType(flag).prototype.ro=function(){return new flag(this.$get()).ro();};Value.ptr.prototype.pointer=function(){var v;v=this;if(!(v.typ.size===4)||!v.typ.pointers()){$panic(new $String("can't call pointer on a non-pointer Value"));}if(!((v.flag&128)>>>0===0)){return v.ptr.$get();}return v.ptr;};Value.prototype.pointer=function(){return this.$val.pointer();};ValueError.ptr.prototype.Error=function(){var e;e=this;if(e.Kind===0){return"reflect: call of "+e.Method+" on zero Value";}return"reflect: call of "+e.Method+" on "+new Kind(e.Kind).String()+" Value";};ValueError.prototype.Error=function(){return this.$val.Error();};flag.prototype.mustBe=function(expected){var expected,f;f=this.$val;if(!(new flag(f).kind()===expected)){$panic(new ValueError.ptr(methodName(),new flag(f).kind()));}};$ptrType(flag).prototype.mustBe=function(expected){return new flag(this.$get()).mustBe(expected);};flag.prototype.mustBeExported=function(){var f;f=this.$val;if(f===0){$panic(new ValueError.ptr(methodName(),0));}if(!((f&96)>>>0===0)){$panic(new $String("reflect: "+methodName()+" using value obtained using unexported field"));}};$ptrType(flag).prototype.mustBeExported=function(){return new flag(this.$get()).mustBeExported();};flag.prototype.mustBeAssignable=function(){var f;f=this.$val;if(f===0){$panic(new ValueError.ptr(methodName(),0));}if(!((f&96)>>>0===0)){$panic(new $String("reflect: "+methodName()+" using value obtained using unexported field"));}if((f&256)>>>0===0){$panic(new $String("reflect: "+methodName()+" using unaddressable value"));}};$ptrType(flag).prototype.mustBeAssignable=function(){return new flag(this.$get()).mustBeAssignable();};Value.ptr.prototype.Addr=function(){var v;v=this;if((v.flag&256)>>>0===0){$panic(new $String("reflect.Value.Addr of unaddressable value"));}return new Value.ptr(v.typ.ptrTo(),v.ptr,(new flag(v.flag).ro()|22)>>>0);};Value.prototype.Addr=function(){return this.$val.Addr();};Value.ptr.prototype.Bool=function(){var v;v=this;new flag(v.flag).mustBe(1);return v.ptr.$get();};Value.prototype.Bool=function(){return this.$val.Bool();};Value.ptr.prototype.Bytes=function(){var _r,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v=this;new flag(v.flag).mustBe(23);_r=v.typ.Elem().Kind();/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}/* */if(!(_r===8)){$s=1;continue;}/* */$s=2;continue;/* if (!((_r === 8))) { */case 1:$panic(new $String("reflect.Value.Bytes of non-byte slice"));/* } */case 2:$s=-1;return v.ptr.$get();/* */}return;}if($f===undefined){$f={$blk:Value.ptr.prototype.Bytes};}$f._r=_r;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};Value.prototype.Bytes=function(){return this.$val.Bytes();};Value.ptr.prototype.runes=function(){var _r,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v=this;new flag(v.flag).mustBe(23);_r=v.typ.Elem().Kind();/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}/* */if(!(_r===5)){$s=1;continue;}/* */$s=2;continue;/* if (!((_r === 5))) { */case 1:$panic(new $String("reflect.Value.Bytes of non-rune slice"));/* } */case 2:$s=-1;return v.ptr.$get();/* */}return;}if($f===undefined){$f={$blk:Value.ptr.prototype.runes};}$f._r=_r;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};Value.prototype.runes=function(){return this.$val.runes();};Value.ptr.prototype.CanAddr=function(){var v;v=this;return!((v.flag&256)>>>0===0);};Value.prototype.CanAddr=function(){return this.$val.CanAddr();};Value.ptr.prototype.CanSet=function(){var v;v=this;return(v.flag&352)>>>0===256;};Value.prototype.CanSet=function(){return this.$val.CanSet();};Value.ptr.prototype.Call=function(in$1){var _r,in$1,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;in$1=$f.in$1;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v=this;new flag(v.flag).mustBe(19);new flag(v.flag).mustBeExported();_r=$clone(v,Value).call("Call",in$1);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r;/* */}return;}if($f===undefined){$f={$blk:Value.ptr.prototype.Call};}$f._r=_r;$f.in$1=in$1;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};Value.prototype.Call=function(in$1){return this.$val.Call(in$1);};Value.ptr.prototype.CallSlice=function(in$1){var _r,in$1,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;in$1=$f.in$1;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v=this;new flag(v.flag).mustBe(19);new flag(v.flag).mustBeExported();_r=$clone(v,Value).call("CallSlice",in$1);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r;/* */}return;}if($f===undefined){$f={$blk:Value.ptr.prototype.CallSlice};}$f._r=_r;$f.in$1=in$1;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};Value.prototype.CallSlice=function(in$1){return this.$val.CallSlice(in$1);};Value.ptr.prototype.Complex=function(){var _1,k,v,x;v=this;k=new flag(v.flag).kind();_1=k;if(_1===15){return x=v.ptr.$get(),new $Complex128(x.$real,x.$imag);}else if(_1===16){return v.ptr.$get();}$panic(new ValueError.ptr("reflect.Value.Complex",new flag(v.flag).kind()));};Value.prototype.Complex=function(){return this.$val.Complex();};Value.ptr.prototype.FieldByIndex=function(index){var _i,_r,_r$1,_r$2,_r$3,_ref,_v,i,index,v,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_i=$f._i;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_ref=$f._ref;_v=$f._v;i=$f.i;index=$f.index;v=$f.v;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v=this;/* */if(index.$length===1){$s=1;continue;}/* */$s=2;continue;/* if (index.$length === 1) { */case 1:_r=$clone(v,Value).Field(0>=index.$length?($throwRuntimeError("index out of range"),undefined):index.$array[index.$offset+0]);/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r;/* } */case 2:new flag(v.flag).mustBe(25);_ref=index;_i=0;/* while (true) { */case 4:/* if (!(_i < _ref.$length)) { break; } */if(!(_i<_ref.$length)){$s=5;continue;}i=_i;x=_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i];/* */if(i>0){$s=6;continue;}/* */$s=7;continue;/* if (i > 0) { */case 6:if(!($clone(v,Value).Kind()===22)){_v=false;$s=10;continue s;}_r$1=v.typ.Elem().Kind();/* */$s=11;case 11:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_v=_r$1===25;case 10:/* */if(_v){$s=8;continue;}/* */$s=9;continue;/* if (_v) { */case 8:if($clone(v,Value).IsNil()){$panic(new $String("reflect: indirection through nil pointer to embedded struct"));}_r$2=$clone(v,Value).Elem();/* */$s=12;case 12:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}v=_r$2;/* } */case 9:/* } */case 7:_r$3=$clone(v,Value).Field(x);/* */$s=13;case 13:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}v=_r$3;_i++;/* } */$s=4;continue;case 5:$s=-1;return v;/* */}return;}if($f===undefined){$f={$blk:Value.ptr.prototype.FieldByIndex};}$f._i=_i;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._ref=_ref;$f._v=_v;$f.i=i;$f.index=index;$f.v=v;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};Value.prototype.FieldByIndex=function(index){return this.$val.FieldByIndex(index);};Value.ptr.prototype.FieldByName=function(name$1){var _r,_r$1,_tuple,f,name$1,ok,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_tuple=$f._tuple;f=$f.f;name$1=$f.name$1;ok=$f.ok;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v=this;new flag(v.flag).mustBe(25);_r=v.typ.FieldByName(name$1);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;f=$clone(_tuple[0],StructField);ok=_tuple[1];/* */if(ok){$s=2;continue;}/* */$s=3;continue;/* if (ok) { */case 2:_r$1=$clone(v,Value).FieldByIndex(f.Index);/* */$s=4;case 4:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}$s=-1;return _r$1;/* } */case 3:$s=-1;return new Value.ptr(ptrType$1.nil,0,0);/* */}return;}if($f===undefined){$f={$blk:Value.ptr.prototype.FieldByName};}$f._r=_r;$f._r$1=_r$1;$f._tuple=_tuple;$f.f=f;$f.name$1=name$1;$f.ok=ok;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};Value.prototype.FieldByName=function(name$1){return this.$val.FieldByName(name$1);};Value.ptr.prototype.FieldByNameFunc=function(match){var _r,_r$1,_tuple,f,match,ok,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_tuple=$f._tuple;f=$f.f;match=$f.match;ok=$f.ok;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v=this;_r=v.typ.FieldByNameFunc(match);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;f=$clone(_tuple[0],StructField);ok=_tuple[1];/* */if(ok){$s=2;continue;}/* */$s=3;continue;/* if (ok) { */case 2:_r$1=$clone(v,Value).FieldByIndex(f.Index);/* */$s=4;case 4:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}$s=-1;return _r$1;/* } */case 3:$s=-1;return new Value.ptr(ptrType$1.nil,0,0);/* */}return;}if($f===undefined){$f={$blk:Value.ptr.prototype.FieldByNameFunc};}$f._r=_r;$f._r$1=_r$1;$f._tuple=_tuple;$f.f=f;$f.match=match;$f.ok=ok;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};Value.prototype.FieldByNameFunc=function(match){return this.$val.FieldByNameFunc(match);};Value.ptr.prototype.Float=function(){var _1,k,v;v=this;k=new flag(v.flag).kind();_1=k;if(_1===13){return v.ptr.$get();}else if(_1===14){return v.ptr.$get();}$panic(new ValueError.ptr("reflect.Value.Float",new flag(v.flag).kind()));};Value.prototype.Float=function(){return this.$val.Float();};Value.ptr.prototype.Int=function(){var _1,k,p,v;v=this;k=new flag(v.flag).kind();p=v.ptr;_1=k;if(_1===2){return new $Int64(0,p.$get());}else if(_1===3){return new $Int64(0,p.$get());}else if(_1===4){return new $Int64(0,p.$get());}else if(_1===5){return new $Int64(0,p.$get());}else if(_1===6){return p.$get();}$panic(new ValueError.ptr("reflect.Value.Int",new flag(v.flag).kind()));};Value.prototype.Int=function(){return this.$val.Int();};Value.ptr.prototype.CanInterface=function(){var v;v=this;if(v.flag===0){$panic(new ValueError.ptr("reflect.Value.CanInterface",0));}return(v.flag&96)>>>0===0;};Value.prototype.CanInterface=function(){return this.$val.CanInterface();};Value.ptr.prototype.Interface=function(){var _r,i,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;i=$f.i;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:i=$ifaceNil;v=this;_r=valueInterface($clone(v,Value),true);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}i=_r;$s=-1;return i;/* */}return;}if($f===undefined){$f={$blk:Value.ptr.prototype.Interface};}$f._r=_r;$f.i=i;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};Value.prototype.Interface=function(){return this.$val.Interface();};Value.ptr.prototype.IsValid=function(){var v;v=this;return!(v.flag===0);};Value.prototype.IsValid=function(){return this.$val.IsValid();};Value.ptr.prototype.Kind=function(){var v;v=this;return new flag(v.flag).kind();};Value.prototype.Kind=function(){return this.$val.Kind();};Value.ptr.prototype.MapIndex=function(key){var _r,e,fl,k,key,tt,typ,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;e=$f.e;fl=$f.fl;k=$f.k;key=$f.key;tt=$f.tt;typ=$f.typ;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v=this;new flag(v.flag).mustBe(21);tt=v.typ.kindType;_r=$clone(key,Value).assignTo("reflect.Value.MapIndex",tt.key,0);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}key=_r;k=0;if(!((key.flag&128)>>>0===0)){k=key.ptr;}else{k=key.$ptr_ptr||(key.$ptr_ptr=new ptrType$17(function(){return this.$target.ptr;},function($v){this.$target.ptr=$v;},key));}e=mapaccess(v.typ,$clone(v,Value).pointer(),k);if(e===0){$s=-1;return new Value.ptr(ptrType$1.nil,0,0);}typ=tt.elem;fl=new flag((v.flag|key.flag)>>>0).ro();fl=(fl|typ.Kind()>>>0)>>>0;$s=-1;return copyVal(typ,fl,e);/* */}return;}if($f===undefined){$f={$blk:Value.ptr.prototype.MapIndex};}$f._r=_r;$f.e=e;$f.fl=fl;$f.k=k;$f.key=key;$f.tt=tt;$f.typ=typ;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};Value.prototype.MapIndex=function(key){return this.$val.MapIndex(key);};Value.ptr.prototype.MapKeys=function(){var _r,a,fl,i,it,key,keyType,m,mlen,tt,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;a=$f.a;fl=$f.fl;i=$f.i;it=$f.it;key=$f.key;keyType=$f.keyType;m=$f.m;mlen=$f.mlen;tt=$f.tt;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v=this;new flag(v.flag).mustBe(21);tt=v.typ.kindType;keyType=tt.key;fl=(new flag(v.flag).ro()|keyType.Kind()>>>0)>>>0;m=$clone(v,Value).pointer();mlen=0;if(!(m===0)){mlen=maplen(m);}it=mapiterinit(v.typ,m);a=$makeSlice(sliceType$9,mlen);i=0;i=0;/* while (true) { */case 1:/* if (!(i < a.$length)) { break; } */if(!(i<a.$length)){$s=2;continue;}_r=mapiterkey(it);/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}key=_r;if(key===0){/* break; */$s=2;continue;}i<0||i>=a.$length?($throwRuntimeError("index out of range"),undefined):a.$array[a.$offset+i]=copyVal(keyType,fl,key);mapiternext(it);i=i+1>>0;/* } */$s=1;continue;case 2:$s=-1;return $subslice(a,0,i);/* */}return;}if($f===undefined){$f={$blk:Value.ptr.prototype.MapKeys};}$f._r=_r;$f.a=a;$f.fl=fl;$f.i=i;$f.it=it;$f.key=key;$f.keyType=keyType;$f.m=m;$f.mlen=mlen;$f.tt=tt;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};Value.prototype.MapKeys=function(){return this.$val.MapKeys();};MapIter.ptr.prototype.Key=function(){var _arg,_arg$1,_arg$2,_r,_r$1,_r$2,it,ktype,t,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_arg=$f._arg;_arg$1=$f._arg$1;_arg$2=$f._arg$2;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;it=$f.it;ktype=$f.ktype;t=$f.t;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:it=this;if(it.it===0){$panic(new $String("MapIter.Key called before Next"));}_r=mapiterkey(it.it);/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}/* */if(_r===0){$s=1;continue;}/* */$s=2;continue;/* if (_r === 0) { */case 1:$panic(new $String("MapIter.Key called on exhausted iterator"));/* } */case 2:t=it.m.typ.kindType;ktype=t.key;_arg=ktype;_arg$1=(new flag(it.m.flag).ro()|ktype.Kind()>>>0)>>>0;_r$1=mapiterkey(it.it);/* */$s=4;case 4:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_arg$2=_r$1;_r$2=copyVal(_arg,_arg$1,_arg$2);/* */$s=5;case 5:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}$s=-1;return _r$2;/* */}return;}if($f===undefined){$f={$blk:MapIter.ptr.prototype.Key};}$f._arg=_arg;$f._arg$1=_arg$1;$f._arg$2=_arg$2;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f.it=it;$f.ktype=ktype;$f.t=t;$f.$s=$s;$f.$r=$r;return $f;};MapIter.prototype.Key=function(){return this.$val.Key();};MapIter.ptr.prototype.Value=function(){var _arg,_arg$1,_arg$2,_r,_r$1,_r$2,it,t,vtype,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_arg=$f._arg;_arg$1=$f._arg$1;_arg$2=$f._arg$2;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;it=$f.it;t=$f.t;vtype=$f.vtype;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:it=this;if(it.it===0){$panic(new $String("MapIter.Value called before Next"));}_r=mapiterkey(it.it);/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}/* */if(_r===0){$s=1;continue;}/* */$s=2;continue;/* if (_r === 0) { */case 1:$panic(new $String("MapIter.Value called on exhausted iterator"));/* } */case 2:t=it.m.typ.kindType;vtype=t.elem;_arg=vtype;_arg$1=(new flag(it.m.flag).ro()|vtype.Kind()>>>0)>>>0;_r$1=mapitervalue(it.it);/* */$s=4;case 4:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_arg$2=_r$1;_r$2=copyVal(_arg,_arg$1,_arg$2);/* */$s=5;case 5:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}$s=-1;return _r$2;/* */}return;}if($f===undefined){$f={$blk:MapIter.ptr.prototype.Value};}$f._arg=_arg;$f._arg$1=_arg$1;$f._arg$2=_arg$2;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f.it=it;$f.t=t;$f.vtype=vtype;$f.$s=$s;$f.$r=$r;return $f;};MapIter.prototype.Value=function(){return this.$val.Value();};MapIter.ptr.prototype.Next=function(){var _r,_r$1,it,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;it=$f.it;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:it=this;/* */if(it.it===0){$s=1;continue;}/* */$s=2;continue;/* if (it.it === 0) { */case 1:it.it=mapiterinit(it.m.typ,$clone(it.m,Value).pointer());$s=3;continue;/* } else { */case 2:_r=mapiterkey(it.it);/* */$s=6;case 6:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}/* */if(_r===0){$s=4;continue;}/* */$s=5;continue;/* if (_r === 0) { */case 4:$panic(new $String("MapIter.Next called on exhausted iterator"));/* } */case 5:mapiternext(it.it);/* } */case 3:_r$1=mapiterkey(it.it);/* */$s=7;case 7:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}$s=-1;return!(_r$1===0);/* */}return;}if($f===undefined){$f={$blk:MapIter.ptr.prototype.Next};}$f._r=_r;$f._r$1=_r$1;$f.it=it;$f.$s=$s;$f.$r=$r;return $f;};MapIter.prototype.Next=function(){return this.$val.Next();};Value.ptr.prototype.MapRange=function(){var v;v=this;new flag(v.flag).mustBe(21);return new MapIter.ptr($clone(v,Value),0);};Value.prototype.MapRange=function(){return this.$val.MapRange();};copyVal=function(typ,fl,ptr){var c,fl,ptr,typ;if(ifaceIndir(typ)){c=unsafe_New(typ);typedmemmove(typ,c,ptr);return new Value.ptr(typ,c,(fl|128)>>>0);}return new Value.ptr(typ,ptr.$get(),fl);};Value.ptr.prototype.Method=function(i){var fl,i,v;v=this;if(v.typ===ptrType$1.nil){$panic(new ValueError.ptr("reflect.Value.Method",0));}if(!((v.flag&512)>>>0===0)||i>>>0>=v.typ.NumMethod()>>>0){$panic(new $String("reflect: Method index out of range"));}if(v.typ.Kind()===20&&$clone(v,Value).IsNil()){$panic(new $String("reflect: Method on nil interface value"));}fl=(v.flag&160)>>>0;fl=(fl|19)>>>0;fl=(fl|(i>>>0<<10>>>0|512)>>>0)>>>0;return new Value.ptr(v.typ,v.ptr,fl);};Value.prototype.Method=function(i){return this.$val.Method(i);};Value.ptr.prototype.NumMethod=function(){var v;v=this;if(v.typ===ptrType$1.nil){$panic(new ValueError.ptr("reflect.Value.NumMethod",0));}if(!((v.flag&512)>>>0===0)){return 0;}return v.typ.NumMethod();};Value.prototype.NumMethod=function(){return this.$val.NumMethod();};Value.ptr.prototype.MethodByName=function(name$1){var _r,_tuple,m,name$1,ok,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tuple=$f._tuple;m=$f.m;name$1=$f.name$1;ok=$f.ok;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v=this;if(v.typ===ptrType$1.nil){$panic(new ValueError.ptr("reflect.Value.MethodByName",0));}if(!((v.flag&512)>>>0===0)){$s=-1;return new Value.ptr(ptrType$1.nil,0,0);}_r=v.typ.MethodByName(name$1);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;m=$clone(_tuple[0],Method);ok=_tuple[1];if(!ok){$s=-1;return new Value.ptr(ptrType$1.nil,0,0);}$s=-1;return $clone(v,Value).Method(m.Index);/* */}return;}if($f===undefined){$f={$blk:Value.ptr.prototype.MethodByName};}$f._r=_r;$f._tuple=_tuple;$f.m=m;$f.name$1=name$1;$f.ok=ok;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};Value.prototype.MethodByName=function(name$1){return this.$val.MethodByName(name$1);};Value.ptr.prototype.NumField=function(){var tt,v;v=this;new flag(v.flag).mustBe(25);tt=v.typ.kindType;return tt.fields.$length;};Value.prototype.NumField=function(){return this.$val.NumField();};Value.ptr.prototype.OverflowComplex=function(x){var _1,k,v,x;v=this;k=new flag(v.flag).kind();_1=k;if(_1===15){return overflowFloat32(x.$real)||overflowFloat32(x.$imag);}else if(_1===16){return false;}$panic(new ValueError.ptr("reflect.Value.OverflowComplex",new flag(v.flag).kind()));};Value.prototype.OverflowComplex=function(x){return this.$val.OverflowComplex(x);};Value.ptr.prototype.OverflowFloat=function(x){var _1,k,v,x;v=this;k=new flag(v.flag).kind();_1=k;if(_1===13){return overflowFloat32(x);}else if(_1===14){return false;}$panic(new ValueError.ptr("reflect.Value.OverflowFloat",new flag(v.flag).kind()));};Value.prototype.OverflowFloat=function(x){return this.$val.OverflowFloat(x);};overflowFloat32=function(x){var x;if(x<0){x=-x;}return 3.4028234663852886e+38<x&&x<=1.7976931348623157e+308;};Value.ptr.prototype.OverflowInt=function(x){var _1,bitSize,k,trunc,v,x;v=this;k=new flag(v.flag).kind();_1=k;if(_1===2||_1===3||_1===4||_1===5||_1===6){bitSize=$imul(v.typ.size,8)>>>0;trunc=$shiftRightInt64($shiftLeft64(x,64-bitSize>>>0),64-bitSize>>>0);return!(x.$high===trunc.$high&&x.$low===trunc.$low);}$panic(new ValueError.ptr("reflect.Value.OverflowInt",new flag(v.flag).kind()));};Value.prototype.OverflowInt=function(x){return this.$val.OverflowInt(x);};Value.ptr.prototype.OverflowUint=function(x){var _1,bitSize,k,trunc,v,x;v=this;k=new flag(v.flag).kind();_1=k;if(_1===7||_1===12||_1===8||_1===9||_1===10||_1===11){bitSize=$imul(v.typ.size,8)>>>0;trunc=$shiftRightUint64($shiftLeft64(x,64-bitSize>>>0),64-bitSize>>>0);return!(x.$high===trunc.$high&&x.$low===trunc.$low);}$panic(new ValueError.ptr("reflect.Value.OverflowUint",new flag(v.flag).kind()));};Value.prototype.OverflowUint=function(x){return this.$val.OverflowUint(x);};Value.ptr.prototype.Recv=function(){var _r,_tuple,ok,v,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tuple=$f._tuple;ok=$f.ok;v=$f.v;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:x=new Value.ptr(ptrType$1.nil,0,0);ok=false;v=this;new flag(v.flag).mustBe(18);new flag(v.flag).mustBeExported();_r=$clone(v,Value).recv(false);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;x=_tuple[0];ok=_tuple[1];$s=-1;return[x,ok];/* */}return;}if($f===undefined){$f={$blk:Value.ptr.prototype.Recv};}$f._r=_r;$f._tuple=_tuple;$f.ok=ok;$f.v=v;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};Value.prototype.Recv=function(){return this.$val.Recv();};Value.ptr.prototype.recv=function(nb){var _r,_tuple,nb,ok,p,selected,t,tt,v,val,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tuple=$f._tuple;nb=$f.nb;ok=$f.ok;p=$f.p;selected=$f.selected;t=$f.t;tt=$f.tt;v=$f.v;val=$f.val;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:val=new Value.ptr(ptrType$1.nil,0,0);ok=false;v=this;tt=v.typ.kindType;if((tt.dir>>0&1)===0){$panic(new $String("reflect: recv on send-only channel"));}t=tt.elem;val=new Value.ptr(t,0,t.Kind()>>>0);p=0;if(ifaceIndir(t)){p=unsafe_New(t);val.ptr=p;val.flag=(val.flag|128)>>>0;}else{p=val.$ptr_ptr||(val.$ptr_ptr=new ptrType$17(function(){return this.$target.ptr;},function($v){this.$target.ptr=$v;},val));}_r=chanrecv($clone(v,Value).pointer(),nb,p);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;selected=_tuple[0];ok=_tuple[1];if(!selected){val=new Value.ptr(ptrType$1.nil,0,0);}$s=-1;return[val,ok];/* */}return;}if($f===undefined){$f={$blk:Value.ptr.prototype.recv};}$f._r=_r;$f._tuple=_tuple;$f.nb=nb;$f.ok=ok;$f.p=p;$f.selected=selected;$f.t=t;$f.tt=tt;$f.v=v;$f.val=val;$f.$s=$s;$f.$r=$r;return $f;};Value.prototype.recv=function(nb){return this.$val.recv(nb);};Value.ptr.prototype.Send=function(x){var _r,v,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;v=$f.v;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v=this;new flag(v.flag).mustBe(18);new flag(v.flag).mustBeExported();_r=$clone(v,Value).send($clone(x,Value),false);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_r;$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:Value.ptr.prototype.Send};}$f._r=_r;$f.v=v;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};Value.prototype.Send=function(x){return this.$val.Send(x);};Value.ptr.prototype.send=function(x,nb){var _r,_r$1,nb,p,selected,tt,v,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;nb=$f.nb;p=$f.p;selected=$f.selected;tt=$f.tt;v=$f.v;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:selected=false;v=this;tt=v.typ.kindType;if((tt.dir>>0&2)===0){$panic(new $String("reflect: send on recv-only channel"));}new flag(x.flag).mustBeExported();_r=$clone(x,Value).assignTo("reflect.Value.Send",tt.elem,0);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}x=_r;p=0;if(!((x.flag&128)>>>0===0)){p=x.ptr;}else{p=x.$ptr_ptr||(x.$ptr_ptr=new ptrType$17(function(){return this.$target.ptr;},function($v){this.$target.ptr=$v;},x));}_r$1=chansend($clone(v,Value).pointer(),p,nb);/* */$s=2;case 2:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}selected=_r$1;$s=-1;return selected;/* */}return;}if($f===undefined){$f={$blk:Value.ptr.prototype.send};}$f._r=_r;$f._r$1=_r$1;$f.nb=nb;$f.p=p;$f.selected=selected;$f.tt=tt;$f.v=v;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};Value.prototype.send=function(x,nb){return this.$val.send(x,nb);};Value.ptr.prototype.SetBool=function(x){var v,x;v=this;new flag(v.flag).mustBeAssignable();new flag(v.flag).mustBe(1);v.ptr.$set(x);};Value.prototype.SetBool=function(x){return this.$val.SetBool(x);};Value.ptr.prototype.setRunes=function(x){var _r,v,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;v=$f.v;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v=this;new flag(v.flag).mustBeAssignable();new flag(v.flag).mustBe(23);_r=v.typ.Elem().Kind();/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}/* */if(!(_r===5)){$s=1;continue;}/* */$s=2;continue;/* if (!((_r === 5))) { */case 1:$panic(new $String("reflect.Value.setRunes of non-rune slice"));/* } */case 2:v.ptr.$set(x);$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:Value.ptr.prototype.setRunes};}$f._r=_r;$f.v=v;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};Value.prototype.setRunes=function(x){return this.$val.setRunes(x);};Value.ptr.prototype.SetComplex=function(x){var _1,k,v,x;v=this;new flag(v.flag).mustBeAssignable();k=new flag(v.flag).kind();_1=k;if(_1===15){v.ptr.$set(new $Complex64(x.$real,x.$imag));}else if(_1===16){v.ptr.$set(x);}else{$panic(new ValueError.ptr("reflect.Value.SetComplex",new flag(v.flag).kind()));}};Value.prototype.SetComplex=function(x){return this.$val.SetComplex(x);};Value.ptr.prototype.SetFloat=function(x){var _1,k,v,x;v=this;new flag(v.flag).mustBeAssignable();k=new flag(v.flag).kind();_1=k;if(_1===13){v.ptr.$set($fround(x));}else if(_1===14){v.ptr.$set(x);}else{$panic(new ValueError.ptr("reflect.Value.SetFloat",new flag(v.flag).kind()));}};Value.prototype.SetFloat=function(x){return this.$val.SetFloat(x);};Value.ptr.prototype.SetInt=function(x){var _1,k,v,x;v=this;new flag(v.flag).mustBeAssignable();k=new flag(v.flag).kind();_1=k;if(_1===2){v.ptr.$set(x.$low+(x.$high>>31)*4294967296>>0);}else if(_1===3){v.ptr.$set(x.$low+(x.$high>>31)*4294967296<<24>>24);}else if(_1===4){v.ptr.$set(x.$low+(x.$high>>31)*4294967296<<16>>16);}else if(_1===5){v.ptr.$set(x.$low+(x.$high>>31)*4294967296>>0);}else if(_1===6){v.ptr.$set(x);}else{$panic(new ValueError.ptr("reflect.Value.SetInt",new flag(v.flag).kind()));}};Value.prototype.SetInt=function(x){return this.$val.SetInt(x);};Value.ptr.prototype.SetMapIndex=function(key,val){var _r,_r$1,e,k,key,tt,v,val,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;e=$f.e;k=$f.k;key=$f.key;tt=$f.tt;v=$f.v;val=$f.val;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v=this;new flag(v.flag).mustBe(21);new flag(v.flag).mustBeExported();new flag(key.flag).mustBeExported();tt=v.typ.kindType;_r=$clone(key,Value).assignTo("reflect.Value.SetMapIndex",tt.key,0);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}key=_r;k=0;if(!((key.flag&128)>>>0===0)){k=key.ptr;}else{k=key.$ptr_ptr||(key.$ptr_ptr=new ptrType$17(function(){return this.$target.ptr;},function($v){this.$target.ptr=$v;},key));}if(val.typ===ptrType$1.nil){mapdelete(v.typ,$clone(v,Value).pointer(),k);$s=-1;return;}new flag(val.flag).mustBeExported();_r$1=$clone(val,Value).assignTo("reflect.Value.SetMapIndex",tt.elem,0);/* */$s=2;case 2:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}val=_r$1;e=0;if(!((val.flag&128)>>>0===0)){e=val.ptr;}else{e=val.$ptr_ptr||(val.$ptr_ptr=new ptrType$17(function(){return this.$target.ptr;},function($v){this.$target.ptr=$v;},val));}$r=mapassign(v.typ,$clone(v,Value).pointer(),k,e);/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:Value.ptr.prototype.SetMapIndex};}$f._r=_r;$f._r$1=_r$1;$f.e=e;$f.k=k;$f.key=key;$f.tt=tt;$f.v=v;$f.val=val;$f.$s=$s;$f.$r=$r;return $f;};Value.prototype.SetMapIndex=function(key,val){return this.$val.SetMapIndex(key,val);};Value.ptr.prototype.SetUint=function(x){var _1,k,v,x;v=this;new flag(v.flag).mustBeAssignable();k=new flag(v.flag).kind();_1=k;if(_1===7){v.ptr.$set(x.$low>>>0);}else if(_1===8){v.ptr.$set(x.$low<<24>>>24);}else if(_1===9){v.ptr.$set(x.$low<<16>>>16);}else if(_1===10){v.ptr.$set(x.$low>>>0);}else if(_1===11){v.ptr.$set(x);}else if(_1===12){v.ptr.$set(x.$low>>>0);}else{$panic(new ValueError.ptr("reflect.Value.SetUint",new flag(v.flag).kind()));}};Value.prototype.SetUint=function(x){return this.$val.SetUint(x);};Value.ptr.prototype.SetPointer=function(x){var v,x;v=this;new flag(v.flag).mustBeAssignable();new flag(v.flag).mustBe(26);v.ptr.$set(x);};Value.prototype.SetPointer=function(x){return this.$val.SetPointer(x);};Value.ptr.prototype.SetString=function(x){var v,x;v=this;new flag(v.flag).mustBeAssignable();new flag(v.flag).mustBe(24);v.ptr.$set(x);};Value.prototype.SetString=function(x){return this.$val.SetString(x);};Value.ptr.prototype.String=function(){var _1,_r,k,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_r=$f._r;k=$f.k;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v=this;k=new flag(v.flag).kind();_1=k;if(_1===0){$s=-1;return"<invalid Value>";}else if(_1===24){$s=-1;return v.ptr.$get();}_r=$clone(v,Value).Type().String();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return"<"+_r+" Value>";/* */}return;}if($f===undefined){$f={$blk:Value.ptr.prototype.String};}$f._1=_1;$f._r=_r;$f.k=k;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};Value.prototype.String=function(){return this.$val.String();};Value.ptr.prototype.TryRecv=function(){var _r,_tuple,ok,v,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tuple=$f._tuple;ok=$f.ok;v=$f.v;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:x=new Value.ptr(ptrType$1.nil,0,0);ok=false;v=this;new flag(v.flag).mustBe(18);new flag(v.flag).mustBeExported();_r=$clone(v,Value).recv(true);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;x=_tuple[0];ok=_tuple[1];$s=-1;return[x,ok];/* */}return;}if($f===undefined){$f={$blk:Value.ptr.prototype.TryRecv};}$f._r=_r;$f._tuple=_tuple;$f.ok=ok;$f.v=v;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};Value.prototype.TryRecv=function(){return this.$val.TryRecv();};Value.ptr.prototype.TrySend=function(x){var _r,v,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;v=$f.v;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v=this;new flag(v.flag).mustBe(18);new flag(v.flag).mustBeExported();_r=$clone(v,Value).send($clone(x,Value),true);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r;/* */}return;}if($f===undefined){$f={$blk:Value.ptr.prototype.TrySend};}$f._r=_r;$f.v=v;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};Value.prototype.TrySend=function(x){return this.$val.TrySend(x);};Value.ptr.prototype.Type=function(){var f,i,m,m$1,ms,tt,v,x;v=this;f=v.flag;if(f===0){$panic(new ValueError.ptr("reflect.Value.Type",0));}if((f&512)>>>0===0){return v.typ;}i=v.flag>>0>>10>>0;if(v.typ.Kind()===20){tt=v.typ.kindType;if(i>>>0>=tt.methods.$length>>>0){$panic(new $String("reflect: internal error: invalid method index"));}m=(x=tt.methods,i<0||i>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+i]);return v.typ.typeOff(m.typ);}ms=v.typ.exportedMethods();if(i>>>0>=ms.$length>>>0){$panic(new $String("reflect: internal error: invalid method index"));}m$1=$clone(i<0||i>=ms.$length?($throwRuntimeError("index out of range"),undefined):ms.$array[ms.$offset+i],method);return v.typ.typeOff(m$1.mtyp);};Value.prototype.Type=function(){return this.$val.Type();};Value.ptr.prototype.Uint=function(){var _1,k,p,v,x;v=this;k=new flag(v.flag).kind();p=v.ptr;_1=k;if(_1===7){return new $Uint64(0,p.$get());}else if(_1===8){return new $Uint64(0,p.$get());}else if(_1===9){return new $Uint64(0,p.$get());}else if(_1===10){return new $Uint64(0,p.$get());}else if(_1===11){return p.$get();}else if(_1===12){return x=p.$get(),new $Uint64(0,x.constructor===Number?x:1);}$panic(new ValueError.ptr("reflect.Value.Uint",new flag(v.flag).kind()));};Value.prototype.Uint=function(){return this.$val.Uint();};Value.ptr.prototype.UnsafeAddr=function(){var v;v=this;if(v.typ===ptrType$1.nil){$panic(new ValueError.ptr("reflect.Value.UnsafeAddr",0));}if((v.flag&256)>>>0===0){$panic(new $String("reflect.Value.UnsafeAddr of unaddressable value"));}return v.ptr;};Value.prototype.UnsafeAddr=function(){return this.$val.UnsafeAddr();};typesMustMatch=function(what,t1,t2){var _r,_r$1,t1,t2,what,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;t1=$f.t1;t2=$f.t2;what=$f.what;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:/* */if(!$interfaceIsEqual(t1,t2)){$s=1;continue;}/* */$s=2;continue;/* if (!($interfaceIsEqual(t1, t2))) { */case 1:_r=t1.String();/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_r$1=t2.String();/* */$s=4;case 4:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}$panic(new $String(what+": "+_r+" != "+_r$1));/* } */case 2:$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:typesMustMatch};}$f._r=_r;$f._r$1=_r$1;$f.t1=t1;$f.t2=t2;$f.what=what;$f.$s=$s;$f.$r=$r;return $f;};MakeMap=function(typ){var _r,typ,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;typ=$f.typ;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=MakeMapWithSize(typ,0);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r;/* */}return;}if($f===undefined){$f={$blk:MakeMap};}$f._r=_r;$f.typ=typ;$f.$s=$s;$f.$r=$r;return $f;};$pkg.MakeMap=MakeMap;MakeMapWithSize=function(typ,n){var _r,m,n,t,typ,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;m=$f.m;n=$f.n;t=$f.t;typ=$f.typ;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=typ.Kind();/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}/* */if(!(_r===21)){$s=1;continue;}/* */$s=2;continue;/* if (!((_r === 21))) { */case 1:$panic(new $String("reflect.MakeMapWithSize of non-map type"));/* } */case 2:t=$assertType(typ,ptrType$1);m=makemap(t,n);$s=-1;return new Value.ptr(t,m,21);/* */}return;}if($f===undefined){$f={$blk:MakeMapWithSize};}$f._r=_r;$f.m=m;$f.n=n;$f.t=t;$f.typ=typ;$f.$s=$s;$f.$r=$r;return $f;};$pkg.MakeMapWithSize=MakeMapWithSize;New=function(typ){var fl,ptr,t,typ;if($interfaceIsEqual(typ,$ifaceNil)){$panic(new $String("reflect: New(nil)"));}t=$assertType(typ,ptrType$1);ptr=unsafe_New(t);fl=22;return new Value.ptr(t.ptrTo(),ptr,fl);};$pkg.New=New;Value.ptr.prototype.Convert=function(t){var _r,_r$1,_r$2,_r$3,_r$4,op,t,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;op=$f.op;t=$f.t;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v=this;/* */if(!((v.flag&512)>>>0===0)){$s=1;continue;}/* */$s=2;continue;/* if (!((((v.flag & 512) >>> 0) === 0))) { */case 1:_r=makeMethodValue("Convert",$clone(v,Value));/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}v=_r;/* } */case 2:_r$1=t.common();/* */$s=4;case 4:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_r$2=convertOp(_r$1,v.typ);/* */$s=5;case 5:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}op=_r$2;/* */if(op===$throwNilPointerError){$s=6;continue;}/* */$s=7;continue;/* if (op === $throwNilPointerError) { */case 6:_r$3=t.String();/* */$s=8;case 8:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}$panic(new $String("reflect.Value.Convert: value of type "+v.typ.String()+" cannot be converted to type "+_r$3));/* } */case 7:_r$4=op($clone(v,Value),t);/* */$s=9;case 9:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}$s=-1;return _r$4;/* */}return;}if($f===undefined){$f={$blk:Value.ptr.prototype.Convert};}$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f.op=op;$f.t=t;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};Value.prototype.Convert=function(t){return this.$val.Convert(t);};convertOp=function(dst,src){var _1,_2,_3,_4,_5,_6,_7,_arg,_arg$1,_r,_r$1,_r$2,_r$3,_r$4,_r$5,_r$6,_r$7,_v,_v$1,_v$2,dst,src,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_2=$f._2;_3=$f._3;_4=$f._4;_5=$f._5;_6=$f._6;_7=$f._7;_arg=$f._arg;_arg$1=$f._arg$1;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_r$7=$f._r$7;_v=$f._v;_v$1=$f._v$1;_v$2=$f._v$2;dst=$f.dst;src=$f.src;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_1=src.Kind();/* */if(_1===2||_1===3||_1===4||_1===5||_1===6){$s=2;continue;}/* */if(_1===7||_1===8||_1===9||_1===10||_1===11||_1===12){$s=3;continue;}/* */if(_1===13||_1===14){$s=4;continue;}/* */if(_1===15||_1===16){$s=5;continue;}/* */if(_1===24){$s=6;continue;}/* */if(_1===23){$s=7;continue;}/* */$s=8;continue;/* if ((_1 === (2)) || (_1 === (3)) || (_1 === (4)) || (_1 === (5)) || (_1 === (6))) { */case 2:_2=dst.Kind();if(_2===2||_2===3||_2===4||_2===5||_2===6||_2===7||_2===8||_2===9||_2===10||_2===11||_2===12){$s=-1;return cvtInt;}else if(_2===13||_2===14){$s=-1;return cvtIntFloat;}else if(_2===24){$s=-1;return cvtIntString;}$s=8;continue;/* } else if ((_1 === (7)) || (_1 === (8)) || (_1 === (9)) || (_1 === (10)) || (_1 === (11)) || (_1 === (12))) { */case 3:_3=dst.Kind();if(_3===2||_3===3||_3===4||_3===5||_3===6||_3===7||_3===8||_3===9||_3===10||_3===11||_3===12){$s=-1;return cvtUint;}else if(_3===13||_3===14){$s=-1;return cvtUintFloat;}else if(_3===24){$s=-1;return cvtUintString;}$s=8;continue;/* } else if ((_1 === (13)) || (_1 === (14))) { */case 4:_4=dst.Kind();if(_4===2||_4===3||_4===4||_4===5||_4===6){$s=-1;return cvtFloatInt;}else if(_4===7||_4===8||_4===9||_4===10||_4===11||_4===12){$s=-1;return cvtFloatUint;}else if(_4===13||_4===14){$s=-1;return cvtFloat;}$s=8;continue;/* } else if ((_1 === (15)) || (_1 === (16))) { */case 5:_5=dst.Kind();if(_5===15||_5===16){$s=-1;return cvtComplex;}$s=8;continue;/* } else if (_1 === (24)) { */case 6:if(!(dst.Kind()===23)){_v=false;$s=11;continue s;}_r=dst.Elem().PkgPath();/* */$s=12;case 12:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_v=_r==="";case 11:/* */if(_v){$s=9;continue;}/* */$s=10;continue;/* if (_v) { */case 9:_r$1=dst.Elem().Kind();/* */$s=14;case 14:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_6=_r$1;if(_6===8){$s=-1;return cvtStringBytes;}else if(_6===5){$s=-1;return cvtStringRunes;}case 13:/* } */case 10:$s=8;continue;/* } else if (_1 === (23)) { */case 7:if(!(dst.Kind()===24)){_v$1=false;$s=17;continue s;}_r$2=src.Elem().PkgPath();/* */$s=18;case 18:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_v$1=_r$2==="";case 17:/* */if(_v$1){$s=15;continue;}/* */$s=16;continue;/* if (_v$1) { */case 15:_r$3=src.Elem().Kind();/* */$s=20;case 20:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_7=_r$3;if(_7===8){$s=-1;return cvtBytesString;}else if(_7===5){$s=-1;return cvtRunesString;}case 19:/* } */case 16:/* } */case 8:case 1:_r$4=haveIdenticalUnderlyingType(dst,src,false);/* */$s=23;case 23:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}/* */if(_r$4){$s=21;continue;}/* */$s=22;continue;/* if (_r$4) { */case 21:$s=-1;return cvtDirect;/* } */case 22:if(!(dst.Kind()===22&&dst.Name()===""&&src.Kind()===22&&src.Name()==="")){_v$2=false;$s=26;continue s;}_r$5=dst.Elem().common();/* */$s=27;case 27:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}_arg=_r$5;_r$6=src.Elem().common();/* */$s=28;case 28:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}_arg$1=_r$6;_r$7=haveIdenticalUnderlyingType(_arg,_arg$1,false);/* */$s=29;case 29:if($c){$c=false;_r$7=_r$7.$blk();}if(_r$7&&_r$7.$blk!==undefined){break s;}_v$2=_r$7;case 26:/* */if(_v$2){$s=24;continue;}/* */$s=25;continue;/* if (_v$2) { */case 24:$s=-1;return cvtDirect;/* } */case 25:if(implements$1(dst,src)){if(src.Kind()===20){$s=-1;return cvtI2I;}$s=-1;return cvtT2I;}$s=-1;return $throwNilPointerError;/* */}return;}if($f===undefined){$f={$blk:convertOp};}$f._1=_1;$f._2=_2;$f._3=_3;$f._4=_4;$f._5=_5;$f._6=_6;$f._7=_7;$f._arg=_arg;$f._arg$1=_arg$1;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._r$7=_r$7;$f._v=_v;$f._v$1=_v$1;$f._v$2=_v$2;$f.dst=dst;$f.src=src;$f.$s=$s;$f.$r=$r;return $f;};makeFloat=function(f,v,t){var _1,_r,f,ptr,t,typ,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_r=$f._r;f=$f.f;ptr=$f.ptr;t=$f.t;typ=$f.typ;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=t.common();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}typ=_r;ptr=unsafe_New(typ);_1=typ.size;if(_1===4){ptr.$set($fround(v));}else if(_1===8){ptr.$set(v);}$s=-1;return new Value.ptr(typ,ptr,((f|128)>>>0|typ.Kind()>>>0)>>>0);/* */}return;}if($f===undefined){$f={$blk:makeFloat};}$f._1=_1;$f._r=_r;$f.f=f;$f.ptr=ptr;$f.t=t;$f.typ=typ;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};makeComplex=function(f,v,t){var _1,_r,f,ptr,t,typ,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_r=$f._r;f=$f.f;ptr=$f.ptr;t=$f.t;typ=$f.typ;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=t.common();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}typ=_r;ptr=unsafe_New(typ);_1=typ.size;if(_1===8){ptr.$set(new $Complex64(v.$real,v.$imag));}else if(_1===16){ptr.$set(v);}$s=-1;return new Value.ptr(typ,ptr,((f|128)>>>0|typ.Kind()>>>0)>>>0);/* */}return;}if($f===undefined){$f={$blk:makeComplex};}$f._1=_1;$f._r=_r;$f.f=f;$f.ptr=ptr;$f.t=t;$f.typ=typ;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};makeString=function(f,v,t){var _r,f,ret,t,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;f=$f.f;ret=$f.ret;t=$f.t;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=$clone(New(t),Value).Elem();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}ret=_r;$clone(ret,Value).SetString(v);ret.flag=((ret.flag&~256)>>>0|f)>>>0;$s=-1;return ret;/* */}return;}if($f===undefined){$f={$blk:makeString};}$f._r=_r;$f.f=f;$f.ret=ret;$f.t=t;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};makeBytes=function(f,v,t){var _r,f,ret,t,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;f=$f.f;ret=$f.ret;t=$f.t;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=$clone(New(t),Value).Elem();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}ret=_r;$r=$clone(ret,Value).SetBytes(v);/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}ret.flag=((ret.flag&~256)>>>0|f)>>>0;$s=-1;return ret;/* */}return;}if($f===undefined){$f={$blk:makeBytes};}$f._r=_r;$f.f=f;$f.ret=ret;$f.t=t;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};makeRunes=function(f,v,t){var _r,f,ret,t,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;f=$f.f;ret=$f.ret;t=$f.t;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=$clone(New(t),Value).Elem();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}ret=_r;$r=$clone(ret,Value).setRunes(v);/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}ret.flag=((ret.flag&~256)>>>0|f)>>>0;$s=-1;return ret;/* */}return;}if($f===undefined){$f={$blk:makeRunes};}$f._r=_r;$f.f=f;$f.ret=ret;$f.t=t;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};cvtInt=function(v,t){var _r,t,v,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;t=$f.t;v=$f.v;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=makeInt(new flag(v.flag).ro(),(x=$clone(v,Value).Int(),new $Uint64(x.$high,x.$low)),t);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r;/* */}return;}if($f===undefined){$f={$blk:cvtInt};}$f._r=_r;$f.t=t;$f.v=v;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};cvtUint=function(v,t){var _r,t,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;t=$f.t;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=makeInt(new flag(v.flag).ro(),$clone(v,Value).Uint(),t);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r;/* */}return;}if($f===undefined){$f={$blk:cvtUint};}$f._r=_r;$f.t=t;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};cvtFloatInt=function(v,t){var _r,t,v,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;t=$f.t;v=$f.v;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=makeInt(new flag(v.flag).ro(),(x=new $Int64(0,$clone(v,Value).Float()),new $Uint64(x.$high,x.$low)),t);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r;/* */}return;}if($f===undefined){$f={$blk:cvtFloatInt};}$f._r=_r;$f.t=t;$f.v=v;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};cvtFloatUint=function(v,t){var _r,t,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;t=$f.t;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=makeInt(new flag(v.flag).ro(),new $Uint64(0,$clone(v,Value).Float()),t);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r;/* */}return;}if($f===undefined){$f={$blk:cvtFloatUint};}$f._r=_r;$f.t=t;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};cvtIntFloat=function(v,t){var _r,t,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;t=$f.t;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=makeFloat(new flag(v.flag).ro(),$flatten64($clone(v,Value).Int()),t);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r;/* */}return;}if($f===undefined){$f={$blk:cvtIntFloat};}$f._r=_r;$f.t=t;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};cvtUintFloat=function(v,t){var _r,t,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;t=$f.t;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=makeFloat(new flag(v.flag).ro(),$flatten64($clone(v,Value).Uint()),t);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r;/* */}return;}if($f===undefined){$f={$blk:cvtUintFloat};}$f._r=_r;$f.t=t;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};cvtFloat=function(v,t){var _r,t,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;t=$f.t;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=makeFloat(new flag(v.flag).ro(),$clone(v,Value).Float(),t);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r;/* */}return;}if($f===undefined){$f={$blk:cvtFloat};}$f._r=_r;$f.t=t;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};cvtComplex=function(v,t){var _r,t,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;t=$f.t;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=makeComplex(new flag(v.flag).ro(),$clone(v,Value).Complex(),t);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r;/* */}return;}if($f===undefined){$f={$blk:cvtComplex};}$f._r=_r;$f.t=t;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};cvtIntString=function(v,t){var _r,t,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;t=$f.t;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=makeString(new flag(v.flag).ro(),$encodeRune($clone(v,Value).Int().$low),t);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r;/* */}return;}if($f===undefined){$f={$blk:cvtIntString};}$f._r=_r;$f.t=t;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};cvtUintString=function(v,t){var _r,t,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;t=$f.t;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=makeString(new flag(v.flag).ro(),$encodeRune($clone(v,Value).Uint().$low),t);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r;/* */}return;}if($f===undefined){$f={$blk:cvtUintString};}$f._r=_r;$f.t=t;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};cvtBytesString=function(v,t){var _arg,_arg$1,_arg$2,_r,_r$1,t,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_arg=$f._arg;_arg$1=$f._arg$1;_arg$2=$f._arg$2;_r=$f._r;_r$1=$f._r$1;t=$f.t;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_arg=new flag(v.flag).ro();_r=$clone(v,Value).Bytes();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_arg$1=$bytesToString(_r);_arg$2=t;_r$1=makeString(_arg,_arg$1,_arg$2);/* */$s=2;case 2:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}$s=-1;return _r$1;/* */}return;}if($f===undefined){$f={$blk:cvtBytesString};}$f._arg=_arg;$f._arg$1=_arg$1;$f._arg$2=_arg$2;$f._r=_r;$f._r$1=_r$1;$f.t=t;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};cvtStringBytes=function(v,t){var _arg,_arg$1,_arg$2,_r,_r$1,t,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_arg=$f._arg;_arg$1=$f._arg$1;_arg$2=$f._arg$2;_r=$f._r;_r$1=$f._r$1;t=$f.t;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_arg=new flag(v.flag).ro();_r=$clone(v,Value).String();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_arg$1=new sliceType$15($stringToBytes(_r));_arg$2=t;_r$1=makeBytes(_arg,_arg$1,_arg$2);/* */$s=2;case 2:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}$s=-1;return _r$1;/* */}return;}if($f===undefined){$f={$blk:cvtStringBytes};}$f._arg=_arg;$f._arg$1=_arg$1;$f._arg$2=_arg$2;$f._r=_r;$f._r$1=_r$1;$f.t=t;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};cvtRunesString=function(v,t){var _arg,_arg$1,_arg$2,_r,_r$1,t,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_arg=$f._arg;_arg$1=$f._arg$1;_arg$2=$f._arg$2;_r=$f._r;_r$1=$f._r$1;t=$f.t;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_arg=new flag(v.flag).ro();_r=$clone(v,Value).runes();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_arg$1=$runesToString(_r);_arg$2=t;_r$1=makeString(_arg,_arg$1,_arg$2);/* */$s=2;case 2:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}$s=-1;return _r$1;/* */}return;}if($f===undefined){$f={$blk:cvtRunesString};}$f._arg=_arg;$f._arg$1=_arg$1;$f._arg$2=_arg$2;$f._r=_r;$f._r$1=_r$1;$f.t=t;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};cvtStringRunes=function(v,t){var _arg,_arg$1,_arg$2,_r,_r$1,t,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_arg=$f._arg;_arg$1=$f._arg$1;_arg$2=$f._arg$2;_r=$f._r;_r$1=$f._r$1;t=$f.t;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_arg=new flag(v.flag).ro();_r=$clone(v,Value).String();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_arg$1=new sliceType$18($stringToRunes(_r));_arg$2=t;_r$1=makeRunes(_arg,_arg$1,_arg$2);/* */$s=2;case 2:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}$s=-1;return _r$1;/* */}return;}if($f===undefined){$f={$blk:cvtStringRunes};}$f._arg=_arg;$f._arg$1=_arg$1;$f._arg$2=_arg$2;$f._r=_r;$f._r$1=_r$1;$f.t=t;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};cvtT2I=function(v,typ){var _r,_r$1,_r$2,_r$3,_r$4,target,typ,v,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;target=$f.target;typ=$f.typ;v=$f.v;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=typ.common();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_r$1=unsafe_New(_r);/* */$s=2;case 2:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}target=_r$1;_r$2=valueInterface($clone(v,Value),false);/* */$s=3;case 3:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}x=_r$2;_r$3=typ.NumMethod();/* */$s=7;case 7:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}/* */if(_r$3===0){$s=4;continue;}/* */$s=5;continue;/* if (_r$3 === 0) { */case 4:target.$set(x);$s=6;continue;/* } else { */case 5:ifaceE2I($assertType(typ,ptrType$1),x,target);/* } */case 6:_r$4=typ.common();/* */$s=8;case 8:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}$s=-1;return new Value.ptr(_r$4,target,((new flag(v.flag).ro()|128)>>>0|20)>>>0);/* */}return;}if($f===undefined){$f={$blk:cvtT2I};}$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f.target=target;$f.typ=typ;$f.v=v;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};cvtI2I=function(v,typ){var _r,_r$1,_r$2,ret,typ,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;ret=$f.ret;typ=$f.typ;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:/* */if($clone(v,Value).IsNil()){$s=1;continue;}/* */$s=2;continue;/* if ($clone(v, Value).IsNil()) { */case 1:_r=Zero(typ);/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}ret=_r;ret.flag=(ret.flag|new flag(v.flag).ro())>>>0;$s=-1;return ret;/* } */case 2:_r$1=$clone(v,Value).Elem();/* */$s=4;case 4:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_r$2=cvtT2I($clone(_r$1,Value),typ);/* */$s=5;case 5:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}$s=-1;return _r$2;/* */}return;}if($f===undefined){$f={$blk:cvtI2I};}$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f.ret=ret;$f.typ=typ;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};ptrType$5.methods=[{prop:"methods",name:"methods",pkg:"reflect",typ:$funcType([],[sliceType$5],false)},{prop:"exportedMethods",name:"exportedMethods",pkg:"reflect",typ:$funcType([],[sliceType$5],false)}];ptrType$8.methods=[{prop:"in$",name:"in",pkg:"reflect",typ:$funcType([],[sliceType$2],false)},{prop:"out",name:"out",pkg:"reflect",typ:$funcType([],[sliceType$2],false)}];name.methods=[{prop:"name",name:"name",pkg:"reflect",typ:$funcType([],[$String],false)},{prop:"tag",name:"tag",pkg:"reflect",typ:$funcType([],[$String],false)},{prop:"pkgPath",name:"pkgPath",pkg:"reflect",typ:$funcType([],[$String],false)},{prop:"isExported",name:"isExported",pkg:"reflect",typ:$funcType([],[$Bool],false)},{prop:"data",name:"data",pkg:"reflect",typ:$funcType([$Int,$String],[ptrType$4],false)},{prop:"nameLen",name:"nameLen",pkg:"reflect",typ:$funcType([],[$Int],false)},{prop:"tagLen",name:"tagLen",pkg:"reflect",typ:$funcType([],[$Int],false)}];ptrType$7.methods=[{prop:"skipUntilValidKey",name:"skipUntilValidKey",pkg:"reflect",typ:$funcType([],[],false)}];Kind.methods=[{prop:"String",name:"String",pkg:"",typ:$funcType([],[$String],false)}];ptrType$1.methods=[{prop:"uncommon",name:"uncommon",pkg:"reflect",typ:$funcType([],[ptrType$5],false)},{prop:"nameOff",name:"nameOff",pkg:"reflect",typ:$funcType([nameOff],[name],false)},{prop:"typeOff",name:"typeOff",pkg:"reflect",typ:$funcType([typeOff],[ptrType$1],false)},{prop:"ptrTo",name:"ptrTo",pkg:"reflect",typ:$funcType([],[ptrType$1],false)},{prop:"pointers",name:"pointers",pkg:"reflect",typ:$funcType([],[$Bool],false)},{prop:"Comparable",name:"Comparable",pkg:"",typ:$funcType([],[$Bool],false)},{prop:"Method",name:"Method",pkg:"",typ:$funcType([$Int],[Method],false)},{prop:"textOff",name:"textOff",pkg:"reflect",typ:$funcType([textOff],[$UnsafePointer],false)},{prop:"String",name:"String",pkg:"",typ:$funcType([],[$String],false)},{prop:"Size",name:"Size",pkg:"",typ:$funcType([],[$Uintptr],false)},{prop:"Bits",name:"Bits",pkg:"",typ:$funcType([],[$Int],false)},{prop:"Align",name:"Align",pkg:"",typ:$funcType([],[$Int],false)},{prop:"FieldAlign",name:"FieldAlign",pkg:"",typ:$funcType([],[$Int],false)},{prop:"Kind",name:"Kind",pkg:"",typ:$funcType([],[Kind],false)},{prop:"common",name:"common",pkg:"reflect",typ:$funcType([],[ptrType$1],false)},{prop:"exportedMethods",name:"exportedMethods",pkg:"reflect",typ:$funcType([],[sliceType$5],false)},{prop:"NumMethod",name:"NumMethod",pkg:"",typ:$funcType([],[$Int],false)},{prop:"MethodByName",name:"MethodByName",pkg:"",typ:$funcType([$String],[Method,$Bool],false)},{prop:"PkgPath",name:"PkgPath",pkg:"",typ:$funcType([],[$String],false)},{prop:"Name",name:"Name",pkg:"",typ:$funcType([],[$String],false)},{prop:"ChanDir",name:"ChanDir",pkg:"",typ:$funcType([],[ChanDir],false)},{prop:"IsVariadic",name:"IsVariadic",pkg:"",typ:$funcType([],[$Bool],false)},{prop:"Elem",name:"Elem",pkg:"",typ:$funcType([],[Type],false)},{prop:"Field",name:"Field",pkg:"",typ:$funcType([$Int],[StructField],false)},{prop:"FieldByIndex",name:"FieldByIndex",pkg:"",typ:$funcType([sliceType$13],[StructField],false)},{prop:"FieldByName",name:"FieldByName",pkg:"",typ:$funcType([$String],[StructField,$Bool],false)},{prop:"FieldByNameFunc",name:"FieldByNameFunc",pkg:"",typ:$funcType([funcType$3],[StructField,$Bool],false)},{prop:"In",name:"In",pkg:"",typ:$funcType([$Int],[Type],false)},{prop:"Key",name:"Key",pkg:"",typ:$funcType([],[Type],false)},{prop:"Len",name:"Len",pkg:"",typ:$funcType([],[$Int],false)},{prop:"NumField",name:"NumField",pkg:"",typ:$funcType([],[$Int],false)},{prop:"NumIn",name:"NumIn",pkg:"",typ:$funcType([],[$Int],false)},{prop:"NumOut",name:"NumOut",pkg:"",typ:$funcType([],[$Int],false)},{prop:"Out",name:"Out",pkg:"",typ:$funcType([$Int],[Type],false)},{prop:"Implements",name:"Implements",pkg:"",typ:$funcType([Type],[$Bool],false)},{prop:"AssignableTo",name:"AssignableTo",pkg:"",typ:$funcType([Type],[$Bool],false)},{prop:"ConvertibleTo",name:"ConvertibleTo",pkg:"",typ:$funcType([Type],[$Bool],false)}];ChanDir.methods=[{prop:"String",name:"String",pkg:"",typ:$funcType([],[$String],false)}];ptrType$9.methods=[{prop:"Method",name:"Method",pkg:"",typ:$funcType([$Int],[Method],false)},{prop:"NumMethod",name:"NumMethod",pkg:"",typ:$funcType([],[$Int],false)},{prop:"MethodByName",name:"MethodByName",pkg:"",typ:$funcType([$String],[Method,$Bool],false)}];ptrType$18.methods=[{prop:"offset",name:"offset",pkg:"reflect",typ:$funcType([],[$Uintptr],false)},{prop:"embedded",name:"embedded",pkg:"reflect",typ:$funcType([],[$Bool],false)}];ptrType$11.methods=[{prop:"Field",name:"Field",pkg:"",typ:$funcType([$Int],[StructField],false)},{prop:"FieldByIndex",name:"FieldByIndex",pkg:"",typ:$funcType([sliceType$13],[StructField],false)},{prop:"FieldByNameFunc",name:"FieldByNameFunc",pkg:"",typ:$funcType([funcType$3],[StructField,$Bool],false)},{prop:"FieldByName",name:"FieldByName",pkg:"",typ:$funcType([$String],[StructField,$Bool],false)}];StructTag.methods=[{prop:"Get",name:"Get",pkg:"",typ:$funcType([$String],[$String],false)},{prop:"Lookup",name:"Lookup",pkg:"",typ:$funcType([$String],[$String,$Bool],false)}];Value.methods=[{prop:"object",name:"object",pkg:"reflect",typ:$funcType([],[ptrType$2],false)},{prop:"assignTo",name:"assignTo",pkg:"reflect",typ:$funcType([$String,ptrType$1,$UnsafePointer],[Value],false)},{prop:"call",name:"call",pkg:"reflect",typ:$funcType([$String,sliceType$9],[sliceType$9],false)},{prop:"Cap",name:"Cap",pkg:"",typ:$funcType([],[$Int],false)},{prop:"Elem",name:"Elem",pkg:"",typ:$funcType([],[Value],false)},{prop:"Field",name:"Field",pkg:"",typ:$funcType([$Int],[Value],false)},{prop:"Index",name:"Index",pkg:"",typ:$funcType([$Int],[Value],false)},{prop:"InterfaceData",name:"InterfaceData",pkg:"",typ:$funcType([],[arrayType$8],false)},{prop:"IsNil",name:"IsNil",pkg:"",typ:$funcType([],[$Bool],false)},{prop:"Len",name:"Len",pkg:"",typ:$funcType([],[$Int],false)},{prop:"Pointer",name:"Pointer",pkg:"",typ:$funcType([],[$Uintptr],false)},{prop:"Set",name:"Set",pkg:"",typ:$funcType([Value],[],false)},{prop:"SetBytes",name:"SetBytes",pkg:"",typ:$funcType([sliceType$15],[],false)},{prop:"SetCap",name:"SetCap",pkg:"",typ:$funcType([$Int],[],false)},{prop:"SetLen",name:"SetLen",pkg:"",typ:$funcType([$Int],[],false)},{prop:"Slice",name:"Slice",pkg:"",typ:$funcType([$Int,$Int],[Value],false)},{prop:"Slice3",name:"Slice3",pkg:"",typ:$funcType([$Int,$Int,$Int],[Value],false)},{prop:"Close",name:"Close",pkg:"",typ:$funcType([],[],false)},{prop:"pointer",name:"pointer",pkg:"reflect",typ:$funcType([],[$UnsafePointer],false)},{prop:"Addr",name:"Addr",pkg:"",typ:$funcType([],[Value],false)},{prop:"Bool",name:"Bool",pkg:"",typ:$funcType([],[$Bool],false)},{prop:"Bytes",name:"Bytes",pkg:"",typ:$funcType([],[sliceType$15],false)},{prop:"runes",name:"runes",pkg:"reflect",typ:$funcType([],[sliceType$18],false)},{prop:"CanAddr",name:"CanAddr",pkg:"",typ:$funcType([],[$Bool],false)},{prop:"CanSet",name:"CanSet",pkg:"",typ:$funcType([],[$Bool],false)},{prop:"Call",name:"Call",pkg:"",typ:$funcType([sliceType$9],[sliceType$9],false)},{prop:"CallSlice",name:"CallSlice",pkg:"",typ:$funcType([sliceType$9],[sliceType$9],false)},{prop:"Complex",name:"Complex",pkg:"",typ:$funcType([],[$Complex128],false)},{prop:"FieldByIndex",name:"FieldByIndex",pkg:"",typ:$funcType([sliceType$13],[Value],false)},{prop:"FieldByName",name:"FieldByName",pkg:"",typ:$funcType([$String],[Value],false)},{prop:"FieldByNameFunc",name:"FieldByNameFunc",pkg:"",typ:$funcType([funcType$3],[Value],false)},{prop:"Float",name:"Float",pkg:"",typ:$funcType([],[$Float64],false)},{prop:"Int",name:"Int",pkg:"",typ:$funcType([],[$Int64],false)},{prop:"CanInterface",name:"CanInterface",pkg:"",typ:$funcType([],[$Bool],false)},{prop:"Interface",name:"Interface",pkg:"",typ:$funcType([],[$emptyInterface],false)},{prop:"IsValid",name:"IsValid",pkg:"",typ:$funcType([],[$Bool],false)},{prop:"Kind",name:"Kind",pkg:"",typ:$funcType([],[Kind],false)},{prop:"MapIndex",name:"MapIndex",pkg:"",typ:$funcType([Value],[Value],false)},{prop:"MapKeys",name:"MapKeys",pkg:"",typ:$funcType([],[sliceType$9],false)},{prop:"MapRange",name:"MapRange",pkg:"",typ:$funcType([],[ptrType$19],false)},{prop:"Method",name:"Method",pkg:"",typ:$funcType([$Int],[Value],false)},{prop:"NumMethod",name:"NumMethod",pkg:"",typ:$funcType([],[$Int],false)},{prop:"MethodByName",name:"MethodByName",pkg:"",typ:$funcType([$String],[Value],false)},{prop:"NumField",name:"NumField",pkg:"",typ:$funcType([],[$Int],false)},{prop:"OverflowComplex",name:"OverflowComplex",pkg:"",typ:$funcType([$Complex128],[$Bool],false)},{prop:"OverflowFloat",name:"OverflowFloat",pkg:"",typ:$funcType([$Float64],[$Bool],false)},{prop:"OverflowInt",name:"OverflowInt",pkg:"",typ:$funcType([$Int64],[$Bool],false)},{prop:"OverflowUint",name:"OverflowUint",pkg:"",typ:$funcType([$Uint64],[$Bool],false)},{prop:"Recv",name:"Recv",pkg:"",typ:$funcType([],[Value,$Bool],false)},{prop:"recv",name:"recv",pkg:"reflect",typ:$funcType([$Bool],[Value,$Bool],false)},{prop:"Send",name:"Send",pkg:"",typ:$funcType([Value],[],false)},{prop:"send",name:"send",pkg:"reflect",typ:$funcType([Value,$Bool],[$Bool],false)},{prop:"SetBool",name:"SetBool",pkg:"",typ:$funcType([$Bool],[],false)},{prop:"setRunes",name:"setRunes",pkg:"reflect",typ:$funcType([sliceType$18],[],false)},{prop:"SetComplex",name:"SetComplex",pkg:"",typ:$funcType([$Complex128],[],false)},{prop:"SetFloat",name:"SetFloat",pkg:"",typ:$funcType([$Float64],[],false)},{prop:"SetInt",name:"SetInt",pkg:"",typ:$funcType([$Int64],[],false)},{prop:"SetMapIndex",name:"SetMapIndex",pkg:"",typ:$funcType([Value,Value],[],false)},{prop:"SetUint",name:"SetUint",pkg:"",typ:$funcType([$Uint64],[],false)},{prop:"SetPointer",name:"SetPointer",pkg:"",typ:$funcType([$UnsafePointer],[],false)},{prop:"SetString",name:"SetString",pkg:"",typ:$funcType([$String],[],false)},{prop:"String",name:"String",pkg:"",typ:$funcType([],[$String],false)},{prop:"TryRecv",name:"TryRecv",pkg:"",typ:$funcType([],[Value,$Bool],false)},{prop:"TrySend",name:"TrySend",pkg:"",typ:$funcType([Value],[$Bool],false)},{prop:"Type",name:"Type",pkg:"",typ:$funcType([],[Type],false)},{prop:"Uint",name:"Uint",pkg:"",typ:$funcType([],[$Uint64],false)},{prop:"UnsafeAddr",name:"UnsafeAddr",pkg:"",typ:$funcType([],[$Uintptr],false)},{prop:"Convert",name:"Convert",pkg:"",typ:$funcType([Type],[Value],false)}];flag.methods=[{prop:"kind",name:"kind",pkg:"reflect",typ:$funcType([],[Kind],false)},{prop:"ro",name:"ro",pkg:"reflect",typ:$funcType([],[flag],false)},{prop:"mustBe",name:"mustBe",pkg:"reflect",typ:$funcType([Kind],[],false)},{prop:"mustBeExported",name:"mustBeExported",pkg:"reflect",typ:$funcType([],[],false)},{prop:"mustBeAssignable",name:"mustBeAssignable",pkg:"reflect",typ:$funcType([],[],false)}];ptrType$20.methods=[{prop:"Error",name:"Error",pkg:"",typ:$funcType([],[$String],false)}];ptrType$19.methods=[{prop:"Key",name:"Key",pkg:"",typ:$funcType([],[Value],false)},{prop:"Value",name:"Value",pkg:"",typ:$funcType([],[Value],false)},{prop:"Next",name:"Next",pkg:"",typ:$funcType([],[$Bool],false)}];uncommonType.init("reflect",[{prop:"pkgPath",name:"pkgPath",embedded:false,exported:false,typ:nameOff,tag:""},{prop:"mcount",name:"mcount",embedded:false,exported:false,typ:$Uint16,tag:""},{prop:"xcount",name:"xcount",embedded:false,exported:false,typ:$Uint16,tag:""},{prop:"moff",name:"moff",embedded:false,exported:false,typ:$Uint32,tag:""},{prop:"_methods",name:"_methods",embedded:false,exported:false,typ:sliceType$5,tag:""}]);funcType.init("reflect",[{prop:"rtype",name:"rtype",embedded:true,exported:false,typ:rtype,tag:"reflect:\"func\""},{prop:"inCount",name:"inCount",embedded:false,exported:false,typ:$Uint16,tag:""},{prop:"outCount",name:"outCount",embedded:false,exported:false,typ:$Uint16,tag:""},{prop:"_in",name:"_in",embedded:false,exported:false,typ:sliceType$2,tag:""},{prop:"_out",name:"_out",embedded:false,exported:false,typ:sliceType$2,tag:""}]);name.init("reflect",[{prop:"bytes",name:"bytes",embedded:false,exported:false,typ:ptrType$4,tag:""}]);nameData.init("reflect",[{prop:"name",name:"name",embedded:false,exported:false,typ:$String,tag:""},{prop:"tag",name:"tag",embedded:false,exported:false,typ:$String,tag:""},{prop:"exported",name:"exported",embedded:false,exported:false,typ:$Bool,tag:""}]);mapIter.init("reflect",[{prop:"t",name:"t",embedded:false,exported:false,typ:Type,tag:""},{prop:"m",name:"m",embedded:false,exported:false,typ:ptrType$2,tag:""},{prop:"keys",name:"keys",embedded:false,exported:false,typ:ptrType$2,tag:""},{prop:"i",name:"i",embedded:false,exported:false,typ:$Int,tag:""},{prop:"last",name:"last",embedded:false,exported:false,typ:ptrType$2,tag:""}]);Type.init([{prop:"Align",name:"Align",pkg:"",typ:$funcType([],[$Int],false)},{prop:"AssignableTo",name:"AssignableTo",pkg:"",typ:$funcType([Type],[$Bool],false)},{prop:"Bits",name:"Bits",pkg:"",typ:$funcType([],[$Int],false)},{prop:"ChanDir",name:"ChanDir",pkg:"",typ:$funcType([],[ChanDir],false)},{prop:"Comparable",name:"Comparable",pkg:"",typ:$funcType([],[$Bool],false)},{prop:"ConvertibleTo",name:"ConvertibleTo",pkg:"",typ:$funcType([Type],[$Bool],false)},{prop:"Elem",name:"Elem",pkg:"",typ:$funcType([],[Type],false)},{prop:"Field",name:"Field",pkg:"",typ:$funcType([$Int],[StructField],false)},{prop:"FieldAlign",name:"FieldAlign",pkg:"",typ:$funcType([],[$Int],false)},{prop:"FieldByIndex",name:"FieldByIndex",pkg:"",typ:$funcType([sliceType$13],[StructField],false)},{prop:"FieldByName",name:"FieldByName",pkg:"",typ:$funcType([$String],[StructField,$Bool],false)},{prop:"FieldByNameFunc",name:"FieldByNameFunc",pkg:"",typ:$funcType([funcType$3],[StructField,$Bool],false)},{prop:"Implements",name:"Implements",pkg:"",typ:$funcType([Type],[$Bool],false)},{prop:"In",name:"In",pkg:"",typ:$funcType([$Int],[Type],false)},{prop:"IsVariadic",name:"IsVariadic",pkg:"",typ:$funcType([],[$Bool],false)},{prop:"Key",name:"Key",pkg:"",typ:$funcType([],[Type],false)},{prop:"Kind",name:"Kind",pkg:"",typ:$funcType([],[Kind],false)},{prop:"Len",name:"Len",pkg:"",typ:$funcType([],[$Int],false)},{prop:"Method",name:"Method",pkg:"",typ:$funcType([$Int],[Method],false)},{prop:"MethodByName",name:"MethodByName",pkg:"",typ:$funcType([$String],[Method,$Bool],false)},{prop:"Name",name:"Name",pkg:"",typ:$funcType([],[$String],false)},{prop:"NumField",name:"NumField",pkg:"",typ:$funcType([],[$Int],false)},{prop:"NumIn",name:"NumIn",pkg:"",typ:$funcType([],[$Int],false)},{prop:"NumMethod",name:"NumMethod",pkg:"",typ:$funcType([],[$Int],false)},{prop:"NumOut",name:"NumOut",pkg:"",typ:$funcType([],[$Int],false)},{prop:"Out",name:"Out",pkg:"",typ:$funcType([$Int],[Type],false)},{prop:"PkgPath",name:"PkgPath",pkg:"",typ:$funcType([],[$String],false)},{prop:"Size",name:"Size",pkg:"",typ:$funcType([],[$Uintptr],false)},{prop:"String",name:"String",pkg:"",typ:$funcType([],[$String],false)},{prop:"common",name:"common",pkg:"reflect",typ:$funcType([],[ptrType$1],false)},{prop:"uncommon",name:"uncommon",pkg:"reflect",typ:$funcType([],[ptrType$5],false)}]);rtype.init("reflect",[{prop:"size",name:"size",embedded:false,exported:false,typ:$Uintptr,tag:""},{prop:"ptrdata",name:"ptrdata",embedded:false,exported:false,typ:$Uintptr,tag:""},{prop:"hash",name:"hash",embedded:false,exported:false,typ:$Uint32,tag:""},{prop:"tflag",name:"tflag",embedded:false,exported:false,typ:tflag,tag:""},{prop:"align",name:"align",embedded:false,exported:false,typ:$Uint8,tag:""},{prop:"fieldAlign",name:"fieldAlign",embedded:false,exported:false,typ:$Uint8,tag:""},{prop:"kind",name:"kind",embedded:false,exported:false,typ:$Uint8,tag:""},{prop:"alg",name:"alg",embedded:false,exported:false,typ:ptrType$3,tag:""},{prop:"gcdata",name:"gcdata",embedded:false,exported:false,typ:ptrType$4,tag:""},{prop:"str",name:"str",embedded:false,exported:false,typ:nameOff,tag:""},{prop:"ptrToThis",name:"ptrToThis",embedded:false,exported:false,typ:typeOff,tag:""}]);typeAlg.init("reflect",[{prop:"hash",name:"hash",embedded:false,exported:false,typ:funcType$4,tag:""},{prop:"equal",name:"equal",embedded:false,exported:false,typ:funcType$5,tag:""}]);method.init("reflect",[{prop:"name",name:"name",embedded:false,exported:false,typ:nameOff,tag:""},{prop:"mtyp",name:"mtyp",embedded:false,exported:false,typ:typeOff,tag:""},{prop:"ifn",name:"ifn",embedded:false,exported:false,typ:textOff,tag:""},{prop:"tfn",name:"tfn",embedded:false,exported:false,typ:textOff,tag:""}]);arrayType.init("reflect",[{prop:"rtype",name:"rtype",embedded:true,exported:false,typ:rtype,tag:""},{prop:"elem",name:"elem",embedded:false,exported:false,typ:ptrType$1,tag:""},{prop:"slice",name:"slice",embedded:false,exported:false,typ:ptrType$1,tag:""},{prop:"len",name:"len",embedded:false,exported:false,typ:$Uintptr,tag:""}]);chanType.init("reflect",[{prop:"rtype",name:"rtype",embedded:true,exported:false,typ:rtype,tag:""},{prop:"elem",name:"elem",embedded:false,exported:false,typ:ptrType$1,tag:""},{prop:"dir",name:"dir",embedded:false,exported:false,typ:$Uintptr,tag:""}]);imethod.init("reflect",[{prop:"name",name:"name",embedded:false,exported:false,typ:nameOff,tag:""},{prop:"typ",name:"typ",embedded:false,exported:false,typ:typeOff,tag:""}]);interfaceType.init("reflect",[{prop:"rtype",name:"rtype",embedded:true,exported:false,typ:rtype,tag:""},{prop:"pkgPath",name:"pkgPath",embedded:false,exported:false,typ:name,tag:""},{prop:"methods",name:"methods",embedded:false,exported:false,typ:sliceType$6,tag:""}]);mapType.init("reflect",[{prop:"rtype",name:"rtype",embedded:true,exported:false,typ:rtype,tag:""},{prop:"key",name:"key",embedded:false,exported:false,typ:ptrType$1,tag:""},{prop:"elem",name:"elem",embedded:false,exported:false,typ:ptrType$1,tag:""},{prop:"bucket",name:"bucket",embedded:false,exported:false,typ:ptrType$1,tag:""},{prop:"keysize",name:"keysize",embedded:false,exported:false,typ:$Uint8,tag:""},{prop:"valuesize",name:"valuesize",embedded:false,exported:false,typ:$Uint8,tag:""},{prop:"bucketsize",name:"bucketsize",embedded:false,exported:false,typ:$Uint16,tag:""},{prop:"flags",name:"flags",embedded:false,exported:false,typ:$Uint32,tag:""}]);ptrType.init("reflect",[{prop:"rtype",name:"rtype",embedded:true,exported:false,typ:rtype,tag:""},{prop:"elem",name:"elem",embedded:false,exported:false,typ:ptrType$1,tag:""}]);sliceType.init("reflect",[{prop:"rtype",name:"rtype",embedded:true,exported:false,typ:rtype,tag:""},{prop:"elem",name:"elem",embedded:false,exported:false,typ:ptrType$1,tag:""}]);structField.init("reflect",[{prop:"name",name:"name",embedded:false,exported:false,typ:name,tag:""},{prop:"typ",name:"typ",embedded:false,exported:false,typ:ptrType$1,tag:""},{prop:"offsetEmbed",name:"offsetEmbed",embedded:false,exported:false,typ:$Uintptr,tag:""}]);structType.init("reflect",[{prop:"rtype",name:"rtype",embedded:true,exported:false,typ:rtype,tag:""},{prop:"pkgPath",name:"pkgPath",embedded:false,exported:false,typ:name,tag:""},{prop:"fields",name:"fields",embedded:false,exported:false,typ:sliceType$7,tag:""}]);Method.init("",[{prop:"Name",name:"Name",embedded:false,exported:true,typ:$String,tag:""},{prop:"PkgPath",name:"PkgPath",embedded:false,exported:true,typ:$String,tag:""},{prop:"Type",name:"Type",embedded:false,exported:true,typ:Type,tag:""},{prop:"Func",name:"Func",embedded:false,exported:true,typ:Value,tag:""},{prop:"Index",name:"Index",embedded:false,exported:true,typ:$Int,tag:""}]);StructField.init("",[{prop:"Name",name:"Name",embedded:false,exported:true,typ:$String,tag:""},{prop:"PkgPath",name:"PkgPath",embedded:false,exported:true,typ:$String,tag:""},{prop:"Type",name:"Type",embedded:false,exported:true,typ:Type,tag:""},{prop:"Tag",name:"Tag",embedded:false,exported:true,typ:StructTag,tag:""},{prop:"Offset",name:"Offset",embedded:false,exported:true,typ:$Uintptr,tag:""},{prop:"Index",name:"Index",embedded:false,exported:true,typ:sliceType$13,tag:""},{prop:"Anonymous",name:"Anonymous",embedded:false,exported:true,typ:$Bool,tag:""}]);fieldScan.init("reflect",[{prop:"typ",name:"typ",embedded:false,exported:false,typ:ptrType$11,tag:""},{prop:"index",name:"index",embedded:false,exported:false,typ:sliceType$13,tag:""}]);Value.init("reflect",[{prop:"typ",name:"typ",embedded:false,exported:false,typ:ptrType$1,tag:""},{prop:"ptr",name:"ptr",embedded:false,exported:false,typ:$UnsafePointer,tag:""},{prop:"flag",name:"flag",embedded:true,exported:false,typ:flag,tag:""}]);ValueError.init("",[{prop:"Method",name:"Method",embedded:false,exported:true,typ:$String,tag:""},{prop:"Kind",name:"Kind",embedded:false,exported:true,typ:Kind,tag:""}]);MapIter.init("reflect",[{prop:"m",name:"m",embedded:false,exported:false,typ:Value,tag:""},{prop:"it",name:"it",embedded:false,exported:false,typ:$UnsafePointer,tag:""}]);$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=errors.$init();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=js.$init();/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=math.$init();/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=runtime.$init();/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=strconv.$init();/* */$s=5;case 5:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=sync.$init();/* */$s=6;case 6:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=unicode.$init();/* */$s=7;case 7:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=utf8.$init();/* */$s=8;case 8:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}nameOffList=sliceType$1.nil;typeOffList=sliceType$2.nil;initialized=false;uncommonTypeMap={};nameMap={};callHelper=$assertType($internalize($call,$emptyInterface),funcType$1);selectHelper=$assertType($internalize($select,$emptyInterface),funcType$1);jsObjectPtr=reflectType($jsObjectPtr);kindNames=new sliceType$4(["invalid","bool","int","int8","int16","int32","int64","uint","uint8","uint16","uint32","uint64","uintptr","float32","float64","complex64","complex128","array","chan","func","interface","map","ptr","slice","string","struct","unsafe.Pointer"]);uint8Type=$assertType(TypeOf(new $Uint8(0)),ptrType$1);$r=init();/* */$s=9;case 9:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["sort"]=function(){var $pkg={},$init,reflect,lessSwap,funcType,funcType$1,Slice,insertionSort,siftDown,heapSort,medianOfThree,swapRange,doPivot,quickSort,Sort,maxDepth,Stable,stable,symMerge,rotate,insertionSort_func,siftDown_func,heapSort_func,medianOfThree_func,doPivot_func,quickSort_func;reflect=$packages["reflect"];lessSwap=$pkg.lessSwap=$newType(0,$kindStruct,"sort.lessSwap",true,"sort",false,function(Less_,Swap_){this.$val=this;if(arguments.length===0){this.Less=$throwNilPointerError;this.Swap=$throwNilPointerError;return;}this.Less=Less_;this.Swap=Swap_;});funcType=$funcType([$Int,$Int],[$Bool],false);funcType$1=$funcType([$Int,$Int],[],false);Slice=function(slice,less){var _r,_r$1,length,less,rv,slice,swap,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;length=$f.length;less=$f.less;rv=$f.rv;slice=$f.slice;swap=$f.swap;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=reflect.ValueOf(slice);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}rv=_r;_r$1=reflect.Swapper(slice);/* */$s=2;case 2:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}swap=_r$1;length=$clone(rv,reflect.Value).Len();$r=quickSort_func(new lessSwap.ptr(less,swap),0,length,maxDepth(length));/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:Slice};}$f._r=_r;$f._r$1=_r$1;$f.length=length;$f.less=less;$f.rv=rv;$f.slice=slice;$f.swap=swap;$f.$s=$s;$f.$r=$r;return $f;};$pkg.Slice=Slice;insertionSort=function(data,a,b){var _r,_v,a,b,data,i,j,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_v=$f._v;a=$f.a;b=$f.b;data=$f.data;i=$f.i;j=$f.j;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:i=a+1>>0;/* while (true) { */case 1:/* if (!(i < b)) { break; } */if(!(i<b)){$s=2;continue;}j=i;/* while (true) { */case 3:if(!(j>a)){_v=false;$s=5;continue s;}_r=data.Less(j,j-1>>0);/* */$s=6;case 6:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_v=_r;case 5:/* if (!(_v)) { break; } */if(!_v){$s=4;continue;}$r=data.Swap(j,j-1>>0);/* */$s=7;case 7:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}j=j-1>>0;/* } */$s=3;continue;case 4:i=i+1>>0;/* } */$s=1;continue;case 2:$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:insertionSort};}$f._r=_r;$f._v=_v;$f.a=a;$f.b=b;$f.data=data;$f.i=i;$f.j=j;$f.$s=$s;$f.$r=$r;return $f;};siftDown=function(data,lo,hi,first){var _r,_r$1,_v,child,data,first,hi,lo,root,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_v=$f._v;child=$f.child;data=$f.data;first=$f.first;hi=$f.hi;lo=$f.lo;root=$f.root;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:root=lo;/* while (true) { */case 1:child=$imul(2,root)+1>>0;if(child>=hi){/* break; */$s=2;continue;}if(!(child+1>>0<hi)){_v=false;$s=5;continue s;}_r=data.Less(first+child>>0,(first+child>>0)+1>>0);/* */$s=6;case 6:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_v=_r;case 5:/* */if(_v){$s=3;continue;}/* */$s=4;continue;/* if (_v) { */case 3:child=child+1>>0;/* } */case 4:_r$1=data.Less(first+root>>0,first+child>>0);/* */$s=9;case 9:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}/* */if(!_r$1){$s=7;continue;}/* */$s=8;continue;/* if (!_r$1) { */case 7:$s=-1;return;/* } */case 8:$r=data.Swap(first+root>>0,first+child>>0);/* */$s=10;case 10:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}root=child;/* } */$s=1;continue;case 2:$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:siftDown};}$f._r=_r;$f._r$1=_r$1;$f._v=_v;$f.child=child;$f.data=data;$f.first=first;$f.hi=hi;$f.lo=lo;$f.root=root;$f.$s=$s;$f.$r=$r;return $f;};heapSort=function(data,a,b){var _q,a,b,data,first,hi,i,i$1,lo,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_q=$f._q;a=$f.a;b=$f.b;data=$f.data;first=$f.first;hi=$f.hi;i=$f.i;i$1=$f.i$1;lo=$f.lo;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:first=a;lo=0;hi=b-a>>0;i=(_q=(hi-1>>0)/2,_q===_q&&_q!==1/0&&_q!==-1/0?_q>>0:$throwRuntimeError("integer divide by zero"));/* while (true) { */case 1:/* if (!(i >= 0)) { break; } */if(!(i>=0)){$s=2;continue;}$r=siftDown(data,i,hi,first);/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}i=i-1>>0;/* } */$s=1;continue;case 2:i$1=hi-1>>0;/* while (true) { */case 4:/* if (!(i$1 >= 0)) { break; } */if(!(i$1>=0)){$s=5;continue;}$r=data.Swap(first,first+i$1>>0);/* */$s=6;case 6:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=siftDown(data,lo,i$1,first);/* */$s=7;case 7:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}i$1=i$1-1>>0;/* } */$s=4;continue;case 5:$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:heapSort};}$f._q=_q;$f.a=a;$f.b=b;$f.data=data;$f.first=first;$f.hi=hi;$f.i=i;$f.i$1=i$1;$f.lo=lo;$f.$s=$s;$f.$r=$r;return $f;};medianOfThree=function(data,m1,m0,m2){var _r,_r$1,_r$2,data,m0,m1,m2,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;data=$f.data;m0=$f.m0;m1=$f.m1;m2=$f.m2;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=data.Less(m1,m0);/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}/* */if(_r){$s=1;continue;}/* */$s=2;continue;/* if (_r) { */case 1:$r=data.Swap(m1,m0);/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 2:_r$1=data.Less(m2,m1);/* */$s=7;case 7:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}/* */if(_r$1){$s=5;continue;}/* */$s=6;continue;/* if (_r$1) { */case 5:$r=data.Swap(m2,m1);/* */$s=8;case 8:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}_r$2=data.Less(m1,m0);/* */$s=11;case 11:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}/* */if(_r$2){$s=9;continue;}/* */$s=10;continue;/* if (_r$2) { */case 9:$r=data.Swap(m1,m0);/* */$s=12;case 12:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 10:/* } */case 6:$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:medianOfThree};}$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f.data=data;$f.m0=m0;$f.m1=m1;$f.m2=m2;$f.$s=$s;$f.$r=$r;return $f;};swapRange=function(data,a,b,n){var a,b,data,i,n,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;a=$f.a;b=$f.b;data=$f.data;i=$f.i;n=$f.n;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:i=0;/* while (true) { */case 1:/* if (!(i < n)) { break; } */if(!(i<n)){$s=2;continue;}$r=data.Swap(a+i>>0,b+i>>0);/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}i=i+1>>0;/* } */$s=1;continue;case 2:$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:swapRange};}$f.a=a;$f.b=b;$f.data=data;$f.i=i;$f.n=n;$f.$s=$s;$f.$r=$r;return $f;};doPivot=function(data,lo,hi){var _q,_q$1,_r,_r$1,_r$2,_r$3,_r$4,_r$5,_r$6,_r$7,_tmp,_tmp$1,_tmp$2,_tmp$3,_v,_v$1,_v$2,_v$3,_v$4,a,b,c,data,dups,hi,lo,m,midhi,midlo,pivot,protect,s,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_q=$f._q;_q$1=$f._q$1;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_r$7=$f._r$7;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tmp$2=$f._tmp$2;_tmp$3=$f._tmp$3;_v=$f._v;_v$1=$f._v$1;_v$2=$f._v$2;_v$3=$f._v$3;_v$4=$f._v$4;a=$f.a;b=$f.b;c=$f.c;data=$f.data;dups=$f.dups;hi=$f.hi;lo=$f.lo;m=$f.m;midhi=$f.midhi;midlo=$f.midlo;pivot=$f.pivot;protect=$f.protect;s=$f.s;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:midlo=0;midhi=0;m=lo+hi>>0>>>0>>>1>>>0>>0;/* */if(hi-lo>>0>40){$s=1;continue;}/* */$s=2;continue;/* if ((hi - lo >> 0) > 40) { */case 1:s=(_q=(hi-lo>>0)/8,_q===_q&&_q!==1/0&&_q!==-1/0?_q>>0:$throwRuntimeError("integer divide by zero"));$r=medianOfThree(data,lo,lo+s>>0,lo+$imul(2,s)>>0);/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=medianOfThree(data,m,m-s>>0,m+s>>0);/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=medianOfThree(data,hi-1>>0,(hi-1>>0)-s>>0,(hi-1>>0)-$imul(2,s)>>0);/* */$s=5;case 5:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 2:$r=medianOfThree(data,lo,m,hi-1>>0);/* */$s=6;case 6:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}pivot=lo;_tmp=lo+1>>0;_tmp$1=hi-1>>0;a=_tmp;c=_tmp$1;/* while (true) { */case 7:if(!(a<c)){_v=false;$s=9;continue s;}_r=data.Less(a,pivot);/* */$s=10;case 10:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_v=_r;case 9:/* if (!(_v)) { break; } */if(!_v){$s=8;continue;}a=a+1>>0;/* } */$s=7;continue;case 8:b=a;/* while (true) { */case 11:/* while (true) { */case 13:if(!(b<c)){_v$1=false;$s=15;continue s;}_r$1=data.Less(pivot,b);/* */$s=16;case 16:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_v$1=!_r$1;case 15:/* if (!(_v$1)) { break; } */if(!_v$1){$s=14;continue;}b=b+1>>0;/* } */$s=13;continue;case 14:/* while (true) { */case 17:if(!(b<c)){_v$2=false;$s=19;continue s;}_r$2=data.Less(pivot,c-1>>0);/* */$s=20;case 20:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_v$2=_r$2;case 19:/* if (!(_v$2)) { break; } */if(!_v$2){$s=18;continue;}c=c-1>>0;/* } */$s=17;continue;case 18:if(b>=c){/* break; */$s=12;continue;}$r=data.Swap(b,c-1>>0);/* */$s=21;case 21:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}b=b+1>>0;c=c-1>>0;/* } */$s=11;continue;case 12:protect=hi-c>>0<5;/* */if(!protect&&hi-c>>0<(_q$1=(hi-lo>>0)/4,_q$1===_q$1&&_q$1!==1/0&&_q$1!==-1/0?_q$1>>0:$throwRuntimeError("integer divide by zero"))){$s=22;continue;}/* */$s=23;continue;/* if (!protect && (hi - c >> 0) < (_q$1 = ((hi - lo >> 0)) / 4, (_q$1 === _q$1 && _q$1 !== 1/0 && _q$1 !== -1/0) ? _q$1 >> 0 : $throwRuntimeError("integer divide by zero"))) { */case 22:dups=0;_r$3=data.Less(pivot,hi-1>>0);/* */$s=26;case 26:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}/* */if(!_r$3){$s=24;continue;}/* */$s=25;continue;/* if (!_r$3) { */case 24:$r=data.Swap(c,hi-1>>0);/* */$s=27;case 27:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}c=c+1>>0;dups=dups+1>>0;/* } */case 25:_r$4=data.Less(b-1>>0,pivot);/* */$s=30;case 30:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}/* */if(!_r$4){$s=28;continue;}/* */$s=29;continue;/* if (!_r$4) { */case 28:b=b-1>>0;dups=dups+1>>0;/* } */case 29:_r$5=data.Less(m,pivot);/* */$s=33;case 33:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}/* */if(!_r$5){$s=31;continue;}/* */$s=32;continue;/* if (!_r$5) { */case 31:$r=data.Swap(m,b-1>>0);/* */$s=34;case 34:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}b=b-1>>0;dups=dups+1>>0;/* } */case 32:protect=dups>1;/* } */case 23:/* */if(protect){$s=35;continue;}/* */$s=36;continue;/* if (protect) { */case 35:/* while (true) { */case 37:/* while (true) { */case 39:if(!(a<b)){_v$3=false;$s=41;continue s;}_r$6=data.Less(b-1>>0,pivot);/* */$s=42;case 42:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}_v$3=!_r$6;case 41:/* if (!(_v$3)) { break; } */if(!_v$3){$s=40;continue;}b=b-1>>0;/* } */$s=39;continue;case 40:/* while (true) { */case 43:if(!(a<b)){_v$4=false;$s=45;continue s;}_r$7=data.Less(a,pivot);/* */$s=46;case 46:if($c){$c=false;_r$7=_r$7.$blk();}if(_r$7&&_r$7.$blk!==undefined){break s;}_v$4=_r$7;case 45:/* if (!(_v$4)) { break; } */if(!_v$4){$s=44;continue;}a=a+1>>0;/* } */$s=43;continue;case 44:if(a>=b){/* break; */$s=38;continue;}$r=data.Swap(a,b-1>>0);/* */$s=47;case 47:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}a=a+1>>0;b=b-1>>0;/* } */$s=37;continue;case 38:/* } */case 36:$r=data.Swap(pivot,b-1>>0);/* */$s=48;case 48:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}_tmp$2=b-1>>0;_tmp$3=c;midlo=_tmp$2;midhi=_tmp$3;$s=-1;return[midlo,midhi];/* */}return;}if($f===undefined){$f={$blk:doPivot};}$f._q=_q;$f._q$1=_q$1;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._r$7=_r$7;$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tmp$2=_tmp$2;$f._tmp$3=_tmp$3;$f._v=_v;$f._v$1=_v$1;$f._v$2=_v$2;$f._v$3=_v$3;$f._v$4=_v$4;$f.a=a;$f.b=b;$f.c=c;$f.data=data;$f.dups=dups;$f.hi=hi;$f.lo=lo;$f.m=m;$f.midhi=midhi;$f.midlo=midlo;$f.pivot=pivot;$f.protect=protect;$f.s=s;$f.$s=$s;$f.$r=$r;return $f;};quickSort=function(data,a,b,maxDepth$1){var _r,_r$1,_tuple,a,b,data,i,maxDepth$1,mhi,mlo,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_tuple=$f._tuple;a=$f.a;b=$f.b;data=$f.data;i=$f.i;maxDepth$1=$f.maxDepth$1;mhi=$f.mhi;mlo=$f.mlo;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:/* while (true) { */case 1:/* if (!((b - a >> 0) > 12)) { break; } */if(!(b-a>>0>12)){$s=2;continue;}/* */if(maxDepth$1===0){$s=3;continue;}/* */$s=4;continue;/* if (maxDepth$1 === 0) { */case 3:$r=heapSort(data,a,b);/* */$s=5;case 5:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return;/* } */case 4:maxDepth$1=maxDepth$1-1>>0;_r=doPivot(data,a,b);/* */$s=6;case 6:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;mlo=_tuple[0];mhi=_tuple[1];/* */if(mlo-a>>0<b-mhi>>0){$s=7;continue;}/* */$s=8;continue;/* if ((mlo - a >> 0) < (b - mhi >> 0)) { */case 7:$r=quickSort(data,a,mlo,maxDepth$1);/* */$s=10;case 10:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}a=mhi;$s=9;continue;/* } else { */case 8:$r=quickSort(data,mhi,b,maxDepth$1);/* */$s=11;case 11:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}b=mlo;/* } */case 9:/* } */$s=1;continue;case 2:/* */if(b-a>>0>1){$s=12;continue;}/* */$s=13;continue;/* if ((b - a >> 0) > 1) { */case 12:i=a+6>>0;/* while (true) { */case 14:/* if (!(i < b)) { break; } */if(!(i<b)){$s=15;continue;}_r$1=data.Less(i,i-6>>0);/* */$s=18;case 18:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}/* */if(_r$1){$s=16;continue;}/* */$s=17;continue;/* if (_r$1) { */case 16:$r=data.Swap(i,i-6>>0);/* */$s=19;case 19:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 17:i=i+1>>0;/* } */$s=14;continue;case 15:$r=insertionSort(data,a,b);/* */$s=20;case 20:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 13:$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:quickSort};}$f._r=_r;$f._r$1=_r$1;$f._tuple=_tuple;$f.a=a;$f.b=b;$f.data=data;$f.i=i;$f.maxDepth$1=maxDepth$1;$f.mhi=mhi;$f.mlo=mlo;$f.$s=$s;$f.$r=$r;return $f;};Sort=function(data){var _r,data,n,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;data=$f.data;n=$f.n;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=data.Len();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}n=_r;$r=quickSort(data,0,n,maxDepth(n));/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:Sort};}$f._r=_r;$f.data=data;$f.n=n;$f.$s=$s;$f.$r=$r;return $f;};$pkg.Sort=Sort;maxDepth=function(n){var depth,i,n;depth=0;i=n;while(true){if(!(i>0)){break;}depth=depth+1>>0;i=i>>$min(1,31)>>0;}return $imul(depth,2);};Stable=function(data){var _arg,_arg$1,_r,data,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_arg=$f._arg;_arg$1=$f._arg$1;_r=$f._r;data=$f.data;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_arg=data;_r=data.Len();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_arg$1=_r;$r=stable(_arg,_arg$1);/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:Stable};}$f._arg=_arg;$f._arg$1=_arg$1;$f._r=_r;$f.data=data;$f.$s=$s;$f.$r=$r;return $f;};$pkg.Stable=Stable;stable=function(data,n){var _tmp,_tmp$1,_tmp$2,_tmp$3,a,b,blockSize,data,m,n,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tmp$2=$f._tmp$2;_tmp$3=$f._tmp$3;a=$f.a;b=$f.b;blockSize=$f.blockSize;data=$f.data;m=$f.m;n=$f.n;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:blockSize=20;_tmp=0;_tmp$1=blockSize;a=_tmp;b=_tmp$1;/* while (true) { */case 1:/* if (!(b <= n)) { break; } */if(!(b<=n)){$s=2;continue;}$r=insertionSort(data,a,b);/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}a=b;b=b+blockSize>>0;/* } */$s=1;continue;case 2:$r=insertionSort(data,a,n);/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* while (true) { */case 5:/* if (!(blockSize < n)) { break; } */if(!(blockSize<n)){$s=6;continue;}_tmp$2=0;_tmp$3=$imul(2,blockSize);a=_tmp$2;b=_tmp$3;/* while (true) { */case 7:/* if (!(b <= n)) { break; } */if(!(b<=n)){$s=8;continue;}$r=symMerge(data,a,a+blockSize>>0,b);/* */$s=9;case 9:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}a=b;b=b+$imul(2,blockSize)>>0;/* } */$s=7;continue;case 8:m=a+blockSize>>0;/* */if(m<n){$s=10;continue;}/* */$s=11;continue;/* if (m < n) { */case 10:$r=symMerge(data,a,m,n);/* */$s=12;case 12:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 11:blockSize=$imul(blockSize,2);/* } */$s=5;continue;case 6:$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:stable};}$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tmp$2=_tmp$2;$f._tmp$3=_tmp$3;$f.a=a;$f.b=b;$f.blockSize=blockSize;$f.data=data;$f.m=m;$f.n=n;$f.$s=$s;$f.$r=$r;return $f;};symMerge=function(data,a,m,b){var _r,_r$1,_r$2,_tmp,_tmp$1,a,b,c,data,end,h,h$1,i,i$1,j,j$1,k,k$1,m,mid,n,p,r,start,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_tmp=$f._tmp;_tmp$1=$f._tmp$1;a=$f.a;b=$f.b;c=$f.c;data=$f.data;end=$f.end;h=$f.h;h$1=$f.h$1;i=$f.i;i$1=$f.i$1;j=$f.j;j$1=$f.j$1;k=$f.k;k$1=$f.k$1;m=$f.m;mid=$f.mid;n=$f.n;p=$f.p;r=$f.r;start=$f.start;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:/* */if(m-a>>0===1){$s=1;continue;}/* */$s=2;continue;/* if ((m - a >> 0) === 1) { */case 1:i=m;j=b;/* while (true) { */case 3:/* if (!(i < j)) { break; } */if(!(i<j)){$s=4;continue;}h=i+j>>0>>>0>>>1>>>0>>0;_r=data.Less(h,a);/* */$s=8;case 8:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}/* */if(_r){$s=5;continue;}/* */$s=6;continue;/* if (_r) { */case 5:i=h+1>>0;$s=7;continue;/* } else { */case 6:j=h;/* } */case 7:/* } */$s=3;continue;case 4:k=a;/* while (true) { */case 9:/* if (!(k < (i - 1 >> 0))) { break; } */if(!(k<i-1>>0)){$s=10;continue;}$r=data.Swap(k,k+1>>0);/* */$s=11;case 11:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}k=k+1>>0;/* } */$s=9;continue;case 10:$s=-1;return;/* } */case 2:/* */if(b-m>>0===1){$s=12;continue;}/* */$s=13;continue;/* if ((b - m >> 0) === 1) { */case 12:i$1=a;j$1=m;/* while (true) { */case 14:/* if (!(i$1 < j$1)) { break; } */if(!(i$1<j$1)){$s=15;continue;}h$1=i$1+j$1>>0>>>0>>>1>>>0>>0;_r$1=data.Less(m,h$1);/* */$s=19;case 19:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}/* */if(!_r$1){$s=16;continue;}/* */$s=17;continue;/* if (!_r$1) { */case 16:i$1=h$1+1>>0;$s=18;continue;/* } else { */case 17:j$1=h$1;/* } */case 18:/* } */$s=14;continue;case 15:k$1=m;/* while (true) { */case 20:/* if (!(k$1 > i$1)) { break; } */if(!(k$1>i$1)){$s=21;continue;}$r=data.Swap(k$1,k$1-1>>0);/* */$s=22;case 22:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}k$1=k$1-1>>0;/* } */$s=20;continue;case 21:$s=-1;return;/* } */case 13:mid=a+b>>0>>>0>>>1>>>0>>0;n=mid+m>>0;_tmp=0;_tmp$1=0;start=_tmp;r=_tmp$1;if(m>mid){start=n-b>>0;r=mid;}else{start=a;r=m;}p=n-1>>0;/* while (true) { */case 23:/* if (!(start < r)) { break; } */if(!(start<r)){$s=24;continue;}c=start+r>>0>>>0>>>1>>>0>>0;_r$2=data.Less(p-c>>0,c);/* */$s=28;case 28:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}/* */if(!_r$2){$s=25;continue;}/* */$s=26;continue;/* if (!_r$2) { */case 25:start=c+1>>0;$s=27;continue;/* } else { */case 26:r=c;/* } */case 27:/* } */$s=23;continue;case 24:end=n-start>>0;/* */if(start<m&&m<end){$s=29;continue;}/* */$s=30;continue;/* if (start < m && m < end) { */case 29:$r=rotate(data,start,m,end);/* */$s=31;case 31:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 30:/* */if(a<start&&start<mid){$s=32;continue;}/* */$s=33;continue;/* if (a < start && start < mid) { */case 32:$r=symMerge(data,a,start,mid);/* */$s=34;case 34:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 33:/* */if(mid<end&&end<b){$s=35;continue;}/* */$s=36;continue;/* if (mid < end && end < b) { */case 35:$r=symMerge(data,mid,end,b);/* */$s=37;case 37:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 36:$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:symMerge};}$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f.a=a;$f.b=b;$f.c=c;$f.data=data;$f.end=end;$f.h=h;$f.h$1=h$1;$f.i=i;$f.i$1=i$1;$f.j=j;$f.j$1=j$1;$f.k=k;$f.k$1=k$1;$f.m=m;$f.mid=mid;$f.n=n;$f.p=p;$f.r=r;$f.start=start;$f.$s=$s;$f.$r=$r;return $f;};rotate=function(data,a,m,b){var a,b,data,i,j,m,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;a=$f.a;b=$f.b;data=$f.data;i=$f.i;j=$f.j;m=$f.m;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:i=m-a>>0;j=b-m>>0;/* while (true) { */case 1:/* if (!(!((i === j)))) { break; } */if(!!(i===j)){$s=2;continue;}/* */if(i>j){$s=3;continue;}/* */$s=4;continue;/* if (i > j) { */case 3:$r=swapRange(data,m-i>>0,m,j);/* */$s=6;case 6:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}i=i-j>>0;$s=5;continue;/* } else { */case 4:$r=swapRange(data,m-i>>0,(m+j>>0)-i>>0,i);/* */$s=7;case 7:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}j=j-i>>0;/* } */case 5:/* } */$s=1;continue;case 2:$r=swapRange(data,m-i>>0,m,i);/* */$s=8;case 8:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:rotate};}$f.a=a;$f.b=b;$f.data=data;$f.i=i;$f.j=j;$f.m=m;$f.$s=$s;$f.$r=$r;return $f;};insertionSort_func=function(data,a,b){var _r,_v,a,b,data,i,j,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_v=$f._v;a=$f.a;b=$f.b;data=$f.data;i=$f.i;j=$f.j;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:i=a+1>>0;/* while (true) { */case 1:/* if (!(i < b)) { break; } */if(!(i<b)){$s=2;continue;}j=i;/* while (true) { */case 3:if(!(j>a)){_v=false;$s=5;continue s;}_r=data.Less(j,j-1>>0);/* */$s=6;case 6:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_v=_r;case 5:/* if (!(_v)) { break; } */if(!_v){$s=4;continue;}$r=data.Swap(j,j-1>>0);/* */$s=7;case 7:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}j=j-1>>0;/* } */$s=3;continue;case 4:i=i+1>>0;/* } */$s=1;continue;case 2:$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:insertionSort_func};}$f._r=_r;$f._v=_v;$f.a=a;$f.b=b;$f.data=data;$f.i=i;$f.j=j;$f.$s=$s;$f.$r=$r;return $f;};siftDown_func=function(data,lo,hi,first){var _r,_r$1,_v,child,data,first,hi,lo,root,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_v=$f._v;child=$f.child;data=$f.data;first=$f.first;hi=$f.hi;lo=$f.lo;root=$f.root;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:root=lo;/* while (true) { */case 1:child=$imul(2,root)+1>>0;if(child>=hi){/* break; */$s=2;continue;}if(!(child+1>>0<hi)){_v=false;$s=5;continue s;}_r=data.Less(first+child>>0,(first+child>>0)+1>>0);/* */$s=6;case 6:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_v=_r;case 5:/* */if(_v){$s=3;continue;}/* */$s=4;continue;/* if (_v) { */case 3:child=child+1>>0;/* } */case 4:_r$1=data.Less(first+root>>0,first+child>>0);/* */$s=9;case 9:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}/* */if(!_r$1){$s=7;continue;}/* */$s=8;continue;/* if (!_r$1) { */case 7:$s=-1;return;/* } */case 8:$r=data.Swap(first+root>>0,first+child>>0);/* */$s=10;case 10:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}root=child;/* } */$s=1;continue;case 2:$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:siftDown_func};}$f._r=_r;$f._r$1=_r$1;$f._v=_v;$f.child=child;$f.data=data;$f.first=first;$f.hi=hi;$f.lo=lo;$f.root=root;$f.$s=$s;$f.$r=$r;return $f;};heapSort_func=function(data,a,b){var _q,a,b,data,first,hi,i,i$1,lo,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_q=$f._q;a=$f.a;b=$f.b;data=$f.data;first=$f.first;hi=$f.hi;i=$f.i;i$1=$f.i$1;lo=$f.lo;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:first=a;lo=0;hi=b-a>>0;i=(_q=(hi-1>>0)/2,_q===_q&&_q!==1/0&&_q!==-1/0?_q>>0:$throwRuntimeError("integer divide by zero"));/* while (true) { */case 1:/* if (!(i >= 0)) { break; } */if(!(i>=0)){$s=2;continue;}$r=siftDown_func($clone(data,lessSwap),i,hi,first);/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}i=i-1>>0;/* } */$s=1;continue;case 2:i$1=hi-1>>0;/* while (true) { */case 4:/* if (!(i$1 >= 0)) { break; } */if(!(i$1>=0)){$s=5;continue;}$r=data.Swap(first,first+i$1>>0);/* */$s=6;case 6:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=siftDown_func($clone(data,lessSwap),lo,i$1,first);/* */$s=7;case 7:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}i$1=i$1-1>>0;/* } */$s=4;continue;case 5:$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:heapSort_func};}$f._q=_q;$f.a=a;$f.b=b;$f.data=data;$f.first=first;$f.hi=hi;$f.i=i;$f.i$1=i$1;$f.lo=lo;$f.$s=$s;$f.$r=$r;return $f;};medianOfThree_func=function(data,m1,m0,m2){var _r,_r$1,_r$2,data,m0,m1,m2,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;data=$f.data;m0=$f.m0;m1=$f.m1;m2=$f.m2;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=data.Less(m1,m0);/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}/* */if(_r){$s=1;continue;}/* */$s=2;continue;/* if (_r) { */case 1:$r=data.Swap(m1,m0);/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 2:_r$1=data.Less(m2,m1);/* */$s=7;case 7:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}/* */if(_r$1){$s=5;continue;}/* */$s=6;continue;/* if (_r$1) { */case 5:$r=data.Swap(m2,m1);/* */$s=8;case 8:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}_r$2=data.Less(m1,m0);/* */$s=11;case 11:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}/* */if(_r$2){$s=9;continue;}/* */$s=10;continue;/* if (_r$2) { */case 9:$r=data.Swap(m1,m0);/* */$s=12;case 12:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 10:/* } */case 6:$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:medianOfThree_func};}$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f.data=data;$f.m0=m0;$f.m1=m1;$f.m2=m2;$f.$s=$s;$f.$r=$r;return $f;};doPivot_func=function(data,lo,hi){var _q,_q$1,_r,_r$1,_r$2,_r$3,_r$4,_r$5,_r$6,_r$7,_tmp,_tmp$1,_tmp$2,_tmp$3,_v,_v$1,_v$2,_v$3,_v$4,a,b,c,data,dups,hi,lo,m,midhi,midlo,pivot,protect,s,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_q=$f._q;_q$1=$f._q$1;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_r$7=$f._r$7;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tmp$2=$f._tmp$2;_tmp$3=$f._tmp$3;_v=$f._v;_v$1=$f._v$1;_v$2=$f._v$2;_v$3=$f._v$3;_v$4=$f._v$4;a=$f.a;b=$f.b;c=$f.c;data=$f.data;dups=$f.dups;hi=$f.hi;lo=$f.lo;m=$f.m;midhi=$f.midhi;midlo=$f.midlo;pivot=$f.pivot;protect=$f.protect;s=$f.s;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:midlo=0;midhi=0;m=lo+hi>>0>>>0>>>1>>>0>>0;/* */if(hi-lo>>0>40){$s=1;continue;}/* */$s=2;continue;/* if ((hi - lo >> 0) > 40) { */case 1:s=(_q=(hi-lo>>0)/8,_q===_q&&_q!==1/0&&_q!==-1/0?_q>>0:$throwRuntimeError("integer divide by zero"));$r=medianOfThree_func($clone(data,lessSwap),lo,lo+s>>0,lo+$imul(2,s)>>0);/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=medianOfThree_func($clone(data,lessSwap),m,m-s>>0,m+s>>0);/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=medianOfThree_func($clone(data,lessSwap),hi-1>>0,(hi-1>>0)-s>>0,(hi-1>>0)-$imul(2,s)>>0);/* */$s=5;case 5:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 2:$r=medianOfThree_func($clone(data,lessSwap),lo,m,hi-1>>0);/* */$s=6;case 6:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}pivot=lo;_tmp=lo+1>>0;_tmp$1=hi-1>>0;a=_tmp;c=_tmp$1;/* while (true) { */case 7:if(!(a<c)){_v=false;$s=9;continue s;}_r=data.Less(a,pivot);/* */$s=10;case 10:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_v=_r;case 9:/* if (!(_v)) { break; } */if(!_v){$s=8;continue;}a=a+1>>0;/* } */$s=7;continue;case 8:b=a;/* while (true) { */case 11:/* while (true) { */case 13:if(!(b<c)){_v$1=false;$s=15;continue s;}_r$1=data.Less(pivot,b);/* */$s=16;case 16:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_v$1=!_r$1;case 15:/* if (!(_v$1)) { break; } */if(!_v$1){$s=14;continue;}b=b+1>>0;/* } */$s=13;continue;case 14:/* while (true) { */case 17:if(!(b<c)){_v$2=false;$s=19;continue s;}_r$2=data.Less(pivot,c-1>>0);/* */$s=20;case 20:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_v$2=_r$2;case 19:/* if (!(_v$2)) { break; } */if(!_v$2){$s=18;continue;}c=c-1>>0;/* } */$s=17;continue;case 18:if(b>=c){/* break; */$s=12;continue;}$r=data.Swap(b,c-1>>0);/* */$s=21;case 21:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}b=b+1>>0;c=c-1>>0;/* } */$s=11;continue;case 12:protect=hi-c>>0<5;/* */if(!protect&&hi-c>>0<(_q$1=(hi-lo>>0)/4,_q$1===_q$1&&_q$1!==1/0&&_q$1!==-1/0?_q$1>>0:$throwRuntimeError("integer divide by zero"))){$s=22;continue;}/* */$s=23;continue;/* if (!protect && (hi - c >> 0) < (_q$1 = ((hi - lo >> 0)) / 4, (_q$1 === _q$1 && _q$1 !== 1/0 && _q$1 !== -1/0) ? _q$1 >> 0 : $throwRuntimeError("integer divide by zero"))) { */case 22:dups=0;_r$3=data.Less(pivot,hi-1>>0);/* */$s=26;case 26:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}/* */if(!_r$3){$s=24;continue;}/* */$s=25;continue;/* if (!_r$3) { */case 24:$r=data.Swap(c,hi-1>>0);/* */$s=27;case 27:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}c=c+1>>0;dups=dups+1>>0;/* } */case 25:_r$4=data.Less(b-1>>0,pivot);/* */$s=30;case 30:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}/* */if(!_r$4){$s=28;continue;}/* */$s=29;continue;/* if (!_r$4) { */case 28:b=b-1>>0;dups=dups+1>>0;/* } */case 29:_r$5=data.Less(m,pivot);/* */$s=33;case 33:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}/* */if(!_r$5){$s=31;continue;}/* */$s=32;continue;/* if (!_r$5) { */case 31:$r=data.Swap(m,b-1>>0);/* */$s=34;case 34:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}b=b-1>>0;dups=dups+1>>0;/* } */case 32:protect=dups>1;/* } */case 23:/* */if(protect){$s=35;continue;}/* */$s=36;continue;/* if (protect) { */case 35:/* while (true) { */case 37:/* while (true) { */case 39:if(!(a<b)){_v$3=false;$s=41;continue s;}_r$6=data.Less(b-1>>0,pivot);/* */$s=42;case 42:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}_v$3=!_r$6;case 41:/* if (!(_v$3)) { break; } */if(!_v$3){$s=40;continue;}b=b-1>>0;/* } */$s=39;continue;case 40:/* while (true) { */case 43:if(!(a<b)){_v$4=false;$s=45;continue s;}_r$7=data.Less(a,pivot);/* */$s=46;case 46:if($c){$c=false;_r$7=_r$7.$blk();}if(_r$7&&_r$7.$blk!==undefined){break s;}_v$4=_r$7;case 45:/* if (!(_v$4)) { break; } */if(!_v$4){$s=44;continue;}a=a+1>>0;/* } */$s=43;continue;case 44:if(a>=b){/* break; */$s=38;continue;}$r=data.Swap(a,b-1>>0);/* */$s=47;case 47:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}a=a+1>>0;b=b-1>>0;/* } */$s=37;continue;case 38:/* } */case 36:$r=data.Swap(pivot,b-1>>0);/* */$s=48;case 48:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}_tmp$2=b-1>>0;_tmp$3=c;midlo=_tmp$2;midhi=_tmp$3;$s=-1;return[midlo,midhi];/* */}return;}if($f===undefined){$f={$blk:doPivot_func};}$f._q=_q;$f._q$1=_q$1;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._r$7=_r$7;$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tmp$2=_tmp$2;$f._tmp$3=_tmp$3;$f._v=_v;$f._v$1=_v$1;$f._v$2=_v$2;$f._v$3=_v$3;$f._v$4=_v$4;$f.a=a;$f.b=b;$f.c=c;$f.data=data;$f.dups=dups;$f.hi=hi;$f.lo=lo;$f.m=m;$f.midhi=midhi;$f.midlo=midlo;$f.pivot=pivot;$f.protect=protect;$f.s=s;$f.$s=$s;$f.$r=$r;return $f;};quickSort_func=function(data,a,b,maxDepth$1){var _r,_r$1,_tuple,a,b,data,i,maxDepth$1,mhi,mlo,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_tuple=$f._tuple;a=$f.a;b=$f.b;data=$f.data;i=$f.i;maxDepth$1=$f.maxDepth$1;mhi=$f.mhi;mlo=$f.mlo;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:/* while (true) { */case 1:/* if (!((b - a >> 0) > 12)) { break; } */if(!(b-a>>0>12)){$s=2;continue;}/* */if(maxDepth$1===0){$s=3;continue;}/* */$s=4;continue;/* if (maxDepth$1 === 0) { */case 3:$r=heapSort_func($clone(data,lessSwap),a,b);/* */$s=5;case 5:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return;/* } */case 4:maxDepth$1=maxDepth$1-1>>0;_r=doPivot_func($clone(data,lessSwap),a,b);/* */$s=6;case 6:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;mlo=_tuple[0];mhi=_tuple[1];/* */if(mlo-a>>0<b-mhi>>0){$s=7;continue;}/* */$s=8;continue;/* if ((mlo - a >> 0) < (b - mhi >> 0)) { */case 7:$r=quickSort_func($clone(data,lessSwap),a,mlo,maxDepth$1);/* */$s=10;case 10:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}a=mhi;$s=9;continue;/* } else { */case 8:$r=quickSort_func($clone(data,lessSwap),mhi,b,maxDepth$1);/* */$s=11;case 11:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}b=mlo;/* } */case 9:/* } */$s=1;continue;case 2:/* */if(b-a>>0>1){$s=12;continue;}/* */$s=13;continue;/* if ((b - a >> 0) > 1) { */case 12:i=a+6>>0;/* while (true) { */case 14:/* if (!(i < b)) { break; } */if(!(i<b)){$s=15;continue;}_r$1=data.Less(i,i-6>>0);/* */$s=18;case 18:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}/* */if(_r$1){$s=16;continue;}/* */$s=17;continue;/* if (_r$1) { */case 16:$r=data.Swap(i,i-6>>0);/* */$s=19;case 19:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 17:i=i+1>>0;/* } */$s=14;continue;case 15:$r=insertionSort_func($clone(data,lessSwap),a,b);/* */$s=20;case 20:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 13:$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:quickSort_func};}$f._r=_r;$f._r$1=_r$1;$f._tuple=_tuple;$f.a=a;$f.b=b;$f.data=data;$f.i=i;$f.maxDepth$1=maxDepth$1;$f.mhi=mhi;$f.mlo=mlo;$f.$s=$s;$f.$r=$r;return $f;};lessSwap.init("",[{prop:"Less",name:"Less",embedded:false,exported:true,typ:funcType,tag:""},{prop:"Swap",name:"Swap",embedded:false,exported:true,typ:funcType$1,tag:""}]);$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=reflect.$init();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["internal/fmtsort"]=function(){var $pkg={},$init,reflect,sort,SortedMap,ptrType,sliceType,Sort,compare,nilCompare,floatCompare,isNaN;reflect=$packages["reflect"];sort=$packages["sort"];SortedMap=$pkg.SortedMap=$newType(0,$kindStruct,"fmtsort.SortedMap",true,"internal/fmtsort",true,function(Key_,Value_){this.$val=this;if(arguments.length===0){this.Key=sliceType.nil;this.Value=sliceType.nil;return;}this.Key=Key_;this.Value=Value_;});ptrType=$ptrType(SortedMap);sliceType=$sliceType(reflect.Value);SortedMap.ptr.prototype.Len=function(){var o;o=this;return o.Key.$length;};SortedMap.prototype.Len=function(){return this.$val.Len();};SortedMap.ptr.prototype.Less=function(i,j){var _r,i,j,o,x,x$1,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;i=$f.i;j=$f.j;o=$f.o;x=$f.x;x$1=$f.x$1;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:o=this;_r=compare($clone((x=o.Key,i<0||i>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+i]),reflect.Value),$clone((x$1=o.Key,j<0||j>=x$1.$length?($throwRuntimeError("index out of range"),undefined):x$1.$array[x$1.$offset+j]),reflect.Value));/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r<0;/* */}return;}if($f===undefined){$f={$blk:SortedMap.ptr.prototype.Less};}$f._r=_r;$f.i=i;$f.j=j;$f.o=o;$f.x=x;$f.x$1=x$1;$f.$s=$s;$f.$r=$r;return $f;};SortedMap.prototype.Less=function(i,j){return this.$val.Less(i,j);};SortedMap.ptr.prototype.Swap=function(i,j){var _tmp,_tmp$1,_tmp$2,_tmp$3,i,j,o,x,x$1,x$2,x$3,x$4,x$5,x$6,x$7;o=this;_tmp=(x=o.Key,j<0||j>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+j]);_tmp$1=(x$1=o.Key,i<0||i>=x$1.$length?($throwRuntimeError("index out of range"),undefined):x$1.$array[x$1.$offset+i]);x$2=o.Key,i<0||i>=x$2.$length?($throwRuntimeError("index out of range"),undefined):x$2.$array[x$2.$offset+i]=_tmp;x$3=o.Key,j<0||j>=x$3.$length?($throwRuntimeError("index out of range"),undefined):x$3.$array[x$3.$offset+j]=_tmp$1;_tmp$2=(x$4=o.Value,j<0||j>=x$4.$length?($throwRuntimeError("index out of range"),undefined):x$4.$array[x$4.$offset+j]);_tmp$3=(x$5=o.Value,i<0||i>=x$5.$length?($throwRuntimeError("index out of range"),undefined):x$5.$array[x$5.$offset+i]);x$6=o.Value,i<0||i>=x$6.$length?($throwRuntimeError("index out of range"),undefined):x$6.$array[x$6.$offset+i]=_tmp$2;x$7=o.Value,j<0||j>=x$7.$length?($throwRuntimeError("index out of range"),undefined):x$7.$array[x$7.$offset+j]=_tmp$3;};SortedMap.prototype.Swap=function(i,j){return this.$val.Swap(i,j);};Sort=function(mapValue){var _r,_r$1,_r$2,_r$3,i,iter,key,mapValue,sorted,value,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;i=$f.i;iter=$f.iter;key=$f.key;mapValue=$f.mapValue;sorted=$f.sorted;value=$f.value;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=$clone(mapValue,reflect.Value).Type().Kind();/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}/* */if(!(_r===21)){$s=1;continue;}/* */$s=2;continue;/* if (!((_r === 21))) { */case 1:$s=-1;return ptrType.nil;/* } */case 2:key=$makeSlice(sliceType,$clone(mapValue,reflect.Value).Len());value=$makeSlice(sliceType,key.$length);iter=$clone(mapValue,reflect.Value).MapRange();i=0;/* while (true) { */case 4:_r$1=iter.Next();/* */$s=6;case 6:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}/* if (!(_r$1)) { break; } */if(!_r$1){$s=5;continue;}_r$2=iter.Key();/* */$s=7;case 7:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}i<0||i>=key.$length?($throwRuntimeError("index out of range"),undefined):key.$array[key.$offset+i]=_r$2;_r$3=iter.Value();/* */$s=8;case 8:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}i<0||i>=value.$length?($throwRuntimeError("index out of range"),undefined):value.$array[value.$offset+i]=_r$3;i=i+1>>0;/* } */$s=4;continue;case 5:sorted=new SortedMap.ptr(key,value);$r=sort.Stable(sorted);/* */$s=9;case 9:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return sorted;/* */}return;}if($f===undefined){$f={$blk:Sort};}$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f.i=i;$f.iter=iter;$f.key=key;$f.mapValue=mapValue;$f.sorted=sorted;$f.value=value;$f.$s=$s;$f.$r=$r;return $f;};$pkg.Sort=Sort;compare=function(aVal,bVal){var _1,_arg,_arg$1,_arg$2,_arg$3,_arg$4,_arg$5,_arg$6,_arg$7,_r,_r$1,_r$10,_r$11,_r$12,_r$13,_r$14,_r$2,_r$3,_r$4,_r$5,_r$6,_r$7,_r$8,_r$9,_tmp,_tmp$1,_tmp$10,_tmp$11,_tmp$12,_tmp$13,_tmp$14,_tmp$15,_tmp$2,_tmp$3,_tmp$4,_tmp$5,_tmp$6,_tmp$7,_tmp$8,_tmp$9,_tuple,_tuple$1,a,a$1,a$2,a$3,a$4,a$5,aType,aVal,ap,b,b$1,b$2,b$3,b$4,b$5,bType,bVal,bp,c,c$1,c$2,c$3,c$4,c$5,i,i$1,ok,ok$1,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_arg=$f._arg;_arg$1=$f._arg$1;_arg$2=$f._arg$2;_arg$3=$f._arg$3;_arg$4=$f._arg$4;_arg$5=$f._arg$5;_arg$6=$f._arg$6;_arg$7=$f._arg$7;_r=$f._r;_r$1=$f._r$1;_r$10=$f._r$10;_r$11=$f._r$11;_r$12=$f._r$12;_r$13=$f._r$13;_r$14=$f._r$14;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_r$7=$f._r$7;_r$8=$f._r$8;_r$9=$f._r$9;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tmp$10=$f._tmp$10;_tmp$11=$f._tmp$11;_tmp$12=$f._tmp$12;_tmp$13=$f._tmp$13;_tmp$14=$f._tmp$14;_tmp$15=$f._tmp$15;_tmp$2=$f._tmp$2;_tmp$3=$f._tmp$3;_tmp$4=$f._tmp$4;_tmp$5=$f._tmp$5;_tmp$6=$f._tmp$6;_tmp$7=$f._tmp$7;_tmp$8=$f._tmp$8;_tmp$9=$f._tmp$9;_tuple=$f._tuple;_tuple$1=$f._tuple$1;a=$f.a;a$1=$f.a$1;a$2=$f.a$2;a$3=$f.a$3;a$4=$f.a$4;a$5=$f.a$5;aType=$f.aType;aVal=$f.aVal;ap=$f.ap;b=$f.b;b$1=$f.b$1;b$2=$f.b$2;b$3=$f.b$3;b$4=$f.b$4;b$5=$f.b$5;bType=$f.bType;bVal=$f.bVal;bp=$f.bp;c=$f.c;c$1=$f.c$1;c$2=$f.c$2;c$3=$f.c$3;c$4=$f.c$4;c$5=$f.c$5;i=$f.i;i$1=$f.i$1;ok=$f.ok;ok$1=$f.ok$1;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_tmp=$clone(aVal,reflect.Value).Type();_tmp$1=$clone(bVal,reflect.Value).Type();aType=_tmp;bType=_tmp$1;if(!$interfaceIsEqual(aType,bType)){$s=-1;return-1;}_1=$clone(aVal,reflect.Value).Kind();/* */if(_1===2||_1===3||_1===4||_1===5||_1===6){$s=2;continue;}/* */if(_1===7||_1===8||_1===9||_1===10||_1===11||_1===12){$s=3;continue;}/* */if(_1===24){$s=4;continue;}/* */if(_1===13||_1===14){$s=5;continue;}/* */if(_1===15||_1===16){$s=6;continue;}/* */if(_1===1){$s=7;continue;}/* */if(_1===22){$s=8;continue;}/* */if(_1===18){$s=9;continue;}/* */if(_1===25){$s=10;continue;}/* */if(_1===17){$s=11;continue;}/* */if(_1===20){$s=12;continue;}/* */$s=13;continue;/* if ((_1 === (2)) || (_1 === (3)) || (_1 === (4)) || (_1 === (5)) || (_1 === (6))) { */case 2:_tmp$2=$clone(aVal,reflect.Value).Int();_tmp$3=$clone(bVal,reflect.Value).Int();a=_tmp$2;b=_tmp$3;if(a.$high<b.$high||a.$high===b.$high&&a.$low<b.$low){$s=-1;return-1;}else if(a.$high>b.$high||a.$high===b.$high&&a.$low>b.$low){$s=-1;return 1;}else{$s=-1;return 0;}$s=14;continue;/* } else if ((_1 === (7)) || (_1 === (8)) || (_1 === (9)) || (_1 === (10)) || (_1 === (11)) || (_1 === (12))) { */case 3:_tmp$4=$clone(aVal,reflect.Value).Uint();_tmp$5=$clone(bVal,reflect.Value).Uint();a$1=_tmp$4;b$1=_tmp$5;if(a$1.$high<b$1.$high||a$1.$high===b$1.$high&&a$1.$low<b$1.$low){$s=-1;return-1;}else if(a$1.$high>b$1.$high||a$1.$high===b$1.$high&&a$1.$low>b$1.$low){$s=-1;return 1;}else{$s=-1;return 0;}$s=14;continue;/* } else if (_1 === (24)) { */case 4:_r=$clone(aVal,reflect.Value).String();/* */$s=15;case 15:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tmp$6=_r;_r$1=$clone(bVal,reflect.Value).String();/* */$s=16;case 16:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tmp$7=_r$1;a$2=_tmp$6;b$2=_tmp$7;if(a$2<b$2){$s=-1;return-1;}else if(a$2>b$2){$s=-1;return 1;}else{$s=-1;return 0;}$s=14;continue;/* } else if ((_1 === (13)) || (_1 === (14))) { */case 5:$s=-1;return floatCompare($clone(aVal,reflect.Value).Float(),$clone(bVal,reflect.Value).Float());/* } else if ((_1 === (15)) || (_1 === (16))) { */case 6:_tmp$8=$clone(aVal,reflect.Value).Complex();_tmp$9=$clone(bVal,reflect.Value).Complex();a$3=_tmp$8;b$3=_tmp$9;c=floatCompare(a$3.$real,b$3.$real);if(!(c===0)){$s=-1;return c;}$s=-1;return floatCompare(a$3.$imag,b$3.$imag);/* } else if (_1 === (1)) { */case 7:_tmp$10=$clone(aVal,reflect.Value).Bool();_tmp$11=$clone(bVal,reflect.Value).Bool();a$4=_tmp$10;b$4=_tmp$11;if(a$4===b$4){$s=-1;return 0;}else if(a$4){$s=-1;return 1;}else{$s=-1;return-1;}$s=14;continue;/* } else if (_1 === (22)) { */case 8:_tmp$12=$clone(aVal,reflect.Value).Pointer();_tmp$13=$clone(bVal,reflect.Value).Pointer();a$5=_tmp$12;b$5=_tmp$13;if(a$5<b$5){$s=-1;return-1;}else if(a$5>b$5){$s=-1;return 1;}else{$s=-1;return 0;}$s=14;continue;/* } else if (_1 === (18)) { */case 9:_tuple=nilCompare($clone(aVal,reflect.Value),$clone(bVal,reflect.Value));c$1=_tuple[0];ok=_tuple[1];if(ok){$s=-1;return c$1;}_tmp$14=$clone(aVal,reflect.Value).Pointer();_tmp$15=$clone(bVal,reflect.Value).Pointer();ap=_tmp$14;bp=_tmp$15;if(ap<bp){$s=-1;return-1;}else if(ap>bp){$s=-1;return 1;}else{$s=-1;return 0;}$s=14;continue;/* } else if (_1 === (25)) { */case 10:i=0;/* while (true) { */case 17:/* if (!(i < $clone(aVal, reflect.Value).NumField())) { break; } */if(!(i<$clone(aVal,reflect.Value).NumField())){$s=18;continue;}_r$2=$clone(aVal,reflect.Value).Field(i);/* */$s=19;case 19:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_arg=$clone(_r$2,reflect.Value);_r$3=$clone(bVal,reflect.Value).Field(i);/* */$s=20;case 20:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_arg$1=$clone(_r$3,reflect.Value);_r$4=compare(_arg,_arg$1);/* */$s=21;case 21:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}c$2=_r$4;if(!(c$2===0)){$s=-1;return c$2;}i=i+1>>0;/* } */$s=17;continue;case 18:$s=-1;return 0;/* } else if (_1 === (17)) { */case 11:i$1=0;/* while (true) { */case 22:/* if (!(i$1 < $clone(aVal, reflect.Value).Len())) { break; } */if(!(i$1<$clone(aVal,reflect.Value).Len())){$s=23;continue;}_r$5=$clone(aVal,reflect.Value).Index(i$1);/* */$s=24;case 24:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}_arg$2=$clone(_r$5,reflect.Value);_r$6=$clone(bVal,reflect.Value).Index(i$1);/* */$s=25;case 25:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}_arg$3=$clone(_r$6,reflect.Value);_r$7=compare(_arg$2,_arg$3);/* */$s=26;case 26:if($c){$c=false;_r$7=_r$7.$blk();}if(_r$7&&_r$7.$blk!==undefined){break s;}c$3=_r$7;if(!(c$3===0)){$s=-1;return c$3;}i$1=i$1+1>>0;/* } */$s=22;continue;case 23:$s=-1;return 0;/* } else if (_1 === (20)) { */case 12:_tuple$1=nilCompare($clone(aVal,reflect.Value),$clone(bVal,reflect.Value));c$4=_tuple$1[0];ok$1=_tuple$1[1];if(ok$1){$s=-1;return c$4;}_r$8=reflect.ValueOf(aType);/* */$s=27;case 27:if($c){$c=false;_r$8=_r$8.$blk();}if(_r$8&&_r$8.$blk!==undefined){break s;}_arg$4=$clone(_r$8,reflect.Value);_r$9=reflect.ValueOf(bType);/* */$s=28;case 28:if($c){$c=false;_r$9=_r$9.$blk();}if(_r$9&&_r$9.$blk!==undefined){break s;}_arg$5=$clone(_r$9,reflect.Value);_r$10=compare(_arg$4,_arg$5);/* */$s=29;case 29:if($c){$c=false;_r$10=_r$10.$blk();}if(_r$10&&_r$10.$blk!==undefined){break s;}c$5=_r$10;if(!(c$5===0)){$s=-1;return c$5;}_r$11=$clone(aVal,reflect.Value).Elem();/* */$s=30;case 30:if($c){$c=false;_r$11=_r$11.$blk();}if(_r$11&&_r$11.$blk!==undefined){break s;}_arg$6=$clone(_r$11,reflect.Value);_r$12=$clone(bVal,reflect.Value).Elem();/* */$s=31;case 31:if($c){$c=false;_r$12=_r$12.$blk();}if(_r$12&&_r$12.$blk!==undefined){break s;}_arg$7=$clone(_r$12,reflect.Value);_r$13=compare(_arg$6,_arg$7);/* */$s=32;case 32:if($c){$c=false;_r$13=_r$13.$blk();}if(_r$13&&_r$13.$blk!==undefined){break s;}$s=-1;return _r$13;/* } else { */case 13:_r$14=aType.String();/* */$s=33;case 33:if($c){$c=false;_r$14=_r$14.$blk();}if(_r$14&&_r$14.$blk!==undefined){break s;}$panic(new $String("bad type in compare: "+_r$14));/* } */case 14:case 1:$s=-1;return 0;/* */}return;}if($f===undefined){$f={$blk:compare};}$f._1=_1;$f._arg=_arg;$f._arg$1=_arg$1;$f._arg$2=_arg$2;$f._arg$3=_arg$3;$f._arg$4=_arg$4;$f._arg$5=_arg$5;$f._arg$6=_arg$6;$f._arg$7=_arg$7;$f._r=_r;$f._r$1=_r$1;$f._r$10=_r$10;$f._r$11=_r$11;$f._r$12=_r$12;$f._r$13=_r$13;$f._r$14=_r$14;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._r$7=_r$7;$f._r$8=_r$8;$f._r$9=_r$9;$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tmp$10=_tmp$10;$f._tmp$11=_tmp$11;$f._tmp$12=_tmp$12;$f._tmp$13=_tmp$13;$f._tmp$14=_tmp$14;$f._tmp$15=_tmp$15;$f._tmp$2=_tmp$2;$f._tmp$3=_tmp$3;$f._tmp$4=_tmp$4;$f._tmp$5=_tmp$5;$f._tmp$6=_tmp$6;$f._tmp$7=_tmp$7;$f._tmp$8=_tmp$8;$f._tmp$9=_tmp$9;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f.a=a;$f.a$1=a$1;$f.a$2=a$2;$f.a$3=a$3;$f.a$4=a$4;$f.a$5=a$5;$f.aType=aType;$f.aVal=aVal;$f.ap=ap;$f.b=b;$f.b$1=b$1;$f.b$2=b$2;$f.b$3=b$3;$f.b$4=b$4;$f.b$5=b$5;$f.bType=bType;$f.bVal=bVal;$f.bp=bp;$f.c=c;$f.c$1=c$1;$f.c$2=c$2;$f.c$3=c$3;$f.c$4=c$4;$f.c$5=c$5;$f.i=i;$f.i$1=i$1;$f.ok=ok;$f.ok$1=ok$1;$f.$s=$s;$f.$r=$r;return $f;};nilCompare=function(aVal,bVal){var aVal,bVal;if($clone(aVal,reflect.Value).IsNil()){if($clone(bVal,reflect.Value).IsNil()){return[0,true];}return[-1,true];}if($clone(bVal,reflect.Value).IsNil()){return[1,true];}return[0,false];};floatCompare=function(a,b){var a,b;if(isNaN(a)){return-1;}else if(isNaN(b)){return 1;}else if(a<b){return-1;}else if(a>b){return 1;}return 0;};isNaN=function(a){var a;return!(a===a);};ptrType.methods=[{prop:"Len",name:"Len",pkg:"",typ:$funcType([],[$Int],false)},{prop:"Less",name:"Less",pkg:"",typ:$funcType([$Int,$Int],[$Bool],false)},{prop:"Swap",name:"Swap",pkg:"",typ:$funcType([$Int,$Int],[],false)}];SortedMap.init("",[{prop:"Key",name:"Key",embedded:false,exported:true,typ:sliceType,tag:""},{prop:"Value",name:"Value",embedded:false,exported:true,typ:sliceType,tag:""}]);$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=reflect.$init();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=sort.$init();/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["io"]=function(){var $pkg={},$init,errors,sync,atomic,Reader,Writer,RuneScanner,sliceType,errWhence,errOffset;errors=$packages["errors"];sync=$packages["sync"];atomic=$packages["sync/atomic"];Reader=$pkg.Reader=$newType(8,$kindInterface,"io.Reader",true,"io",true,null);Writer=$pkg.Writer=$newType(8,$kindInterface,"io.Writer",true,"io",true,null);RuneScanner=$pkg.RuneScanner=$newType(8,$kindInterface,"io.RuneScanner",true,"io",true,null);sliceType=$sliceType($Uint8);Reader.init([{prop:"Read",name:"Read",pkg:"",typ:$funcType([sliceType],[$Int,$error],false)}]);Writer.init([{prop:"Write",name:"Write",pkg:"",typ:$funcType([sliceType],[$Int,$error],false)}]);RuneScanner.init([{prop:"ReadRune",name:"ReadRune",pkg:"",typ:$funcType([],[$Int32,$Int,$error],false)},{prop:"UnreadRune",name:"UnreadRune",pkg:"",typ:$funcType([],[$error],false)}]);$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=errors.$init();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=sync.$init();/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=atomic.$init();/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$pkg.ErrShortWrite=errors.New("short write");$pkg.ErrShortBuffer=errors.New("short buffer");$pkg.EOF=errors.New("EOF");$pkg.ErrUnexpectedEOF=errors.New("unexpected EOF");$pkg.ErrNoProgress=errors.New("multiple Read calls return no data or error");errWhence=errors.New("Seek: invalid whence");errOffset=errors.New("Seek: invalid offset");$pkg.ErrClosedPipe=errors.New("io: read/write on closed pipe");/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["syscall"]=function(){var $pkg={},$init,js,race,runtime,sync,RawConn,SockaddrLinklayer,SockaddrNetlink,mmapper,Errno,Sockaddr,SockaddrInet4,SockaddrInet6,SockaddrUnix,Timespec,Stat_t,RawSockaddrInet4,RawSockaddrInet6,RawSockaddrUnix,RawSockaddrLinklayer,RawSockaddrNetlink,RawSockaddr,RawSockaddrAny,_Socklen,Linger,Iovec,IPMreq,IPMreqn,IPv6Mreq,Msghdr,sliceType,sliceType$1,ptrType$2,ptrType$4,arrayType$1,ptrType$9,arrayType$2,ptrType$12,arrayType$4,arrayType$5,arrayType$8,arrayType$9,arrayType$10,arrayType$11,ptrType$19,ptrType$20,structType,ptrType$23,funcType,funcType$1,ptrType$25,ptrType$26,mapType,funcType$2,funcType$3,ptrType$27,ptrType$28,ptrType$29,ptrType$30,ptrType$32,warningPrinted,lineBuffer,syscallModule,alreadyTriedToLoad,minusOne,envs,mapper,errEAGAIN,errEINVAL,errENOENT,ioSync,ioSync$24ptr,errors,init,printWarning,printToConsole,indexByte,runtime_envs,syscallByName,Syscall,Syscall6,BytePtrFromString,readInt,readIntBE,readIntLE,ParseDirent,CloseOnExec,SetNonblock,msanRead,msanWrite,itoa,uitoa,anyToSockaddr,Accept,Accept4,SetsockoptIPMreqn,Recvmsg,SendmsgN,ReadDirent,direntIno,direntReclen,direntNamlen,Lstat,errnoErr,Read,Write,GetsockoptInt,Recvfrom,Sendto,SetsockoptByte,SetsockoptInt,SetsockoptInet4Addr,SetsockoptIPMreq,SetsockoptIPv6Mreq,SetsockoptLinger,Close,Dup,Fchdir,Fchmod,fcntl,Fsync,Getdents,read,write,munmap,Fchown,Fstat,Ftruncate,Pread,Pwrite,Seek,Shutdown,accept,accept4,fstatat,getsockopt,setsockopt,recvfrom,sendto,recvmsg,sendmsg,mmap;js=$packages["github.com/gopherjs/gopherjs/js"];race=$packages["internal/race"];runtime=$packages["runtime"];sync=$packages["sync"];RawConn=$pkg.RawConn=$newType(8,$kindInterface,"syscall.RawConn",true,"syscall",true,null);SockaddrLinklayer=$pkg.SockaddrLinklayer=$newType(0,$kindStruct,"syscall.SockaddrLinklayer",true,"syscall",true,function(Protocol_,Ifindex_,Hatype_,Pkttype_,Halen_,Addr_,raw_){this.$val=this;if(arguments.length===0){this.Protocol=0;this.Ifindex=0;this.Hatype=0;this.Pkttype=0;this.Halen=0;this.Addr=arrayType$1.zero();this.raw=new RawSockaddrLinklayer.ptr(0,0,0,0,0,0,arrayType$1.zero());return;}this.Protocol=Protocol_;this.Ifindex=Ifindex_;this.Hatype=Hatype_;this.Pkttype=Pkttype_;this.Halen=Halen_;this.Addr=Addr_;this.raw=raw_;});SockaddrNetlink=$pkg.SockaddrNetlink=$newType(0,$kindStruct,"syscall.SockaddrNetlink",true,"syscall",true,function(Family_,Pad_,Pid_,Groups_,raw_){this.$val=this;if(arguments.length===0){this.Family=0;this.Pad=0;this.Pid=0;this.Groups=0;this.raw=new RawSockaddrNetlink.ptr(0,0,0,0);return;}this.Family=Family_;this.Pad=Pad_;this.Pid=Pid_;this.Groups=Groups_;this.raw=raw_;});mmapper=$pkg.mmapper=$newType(0,$kindStruct,"syscall.mmapper",true,"syscall",false,function(Mutex_,active_,mmap_,munmap_){this.$val=this;if(arguments.length===0){this.Mutex=new sync.Mutex.ptr(0,0);this.active=false;this.mmap=$throwNilPointerError;this.munmap=$throwNilPointerError;return;}this.Mutex=Mutex_;this.active=active_;this.mmap=mmap_;this.munmap=munmap_;});Errno=$pkg.Errno=$newType(4,$kindUintptr,"syscall.Errno",true,"syscall",true,null);Sockaddr=$pkg.Sockaddr=$newType(8,$kindInterface,"syscall.Sockaddr",true,"syscall",true,null);SockaddrInet4=$pkg.SockaddrInet4=$newType(0,$kindStruct,"syscall.SockaddrInet4",true,"syscall",true,function(Port_,Addr_,raw_){this.$val=this;if(arguments.length===0){this.Port=0;this.Addr=arrayType$9.zero();this.raw=new RawSockaddrInet4.ptr(0,0,arrayType$9.zero(),arrayType$1.zero());return;}this.Port=Port_;this.Addr=Addr_;this.raw=raw_;});SockaddrInet6=$pkg.SockaddrInet6=$newType(0,$kindStruct,"syscall.SockaddrInet6",true,"syscall",true,function(Port_,ZoneId_,Addr_,raw_){this.$val=this;if(arguments.length===0){this.Port=0;this.ZoneId=0;this.Addr=arrayType$2.zero();this.raw=new RawSockaddrInet6.ptr(0,0,0,arrayType$2.zero(),0);return;}this.Port=Port_;this.ZoneId=ZoneId_;this.Addr=Addr_;this.raw=raw_;});SockaddrUnix=$pkg.SockaddrUnix=$newType(0,$kindStruct,"syscall.SockaddrUnix",true,"syscall",true,function(Name_,raw_){this.$val=this;if(arguments.length===0){this.Name="";this.raw=new RawSockaddrUnix.ptr(0,arrayType$8.zero());return;}this.Name=Name_;this.raw=raw_;});Timespec=$pkg.Timespec=$newType(0,$kindStruct,"syscall.Timespec",true,"syscall",true,function(Sec_,Nsec_){this.$val=this;if(arguments.length===0){this.Sec=new $Int64(0,0);this.Nsec=new $Int64(0,0);return;}this.Sec=Sec_;this.Nsec=Nsec_;});Stat_t=$pkg.Stat_t=$newType(0,$kindStruct,"syscall.Stat_t",true,"syscall",true,function(Dev_,Ino_,Nlink_,Mode_,Uid_,Gid_,X__pad0_,Rdev_,Size_,Blksize_,Blocks_,Atim_,Mtim_,Ctim_,X__unused_){this.$val=this;if(arguments.length===0){this.Dev=new $Uint64(0,0);this.Ino=new $Uint64(0,0);this.Nlink=new $Uint64(0,0);this.Mode=0;this.Uid=0;this.Gid=0;this.X__pad0=0;this.Rdev=new $Uint64(0,0);this.Size=new $Int64(0,0);this.Blksize=new $Int64(0,0);this.Blocks=new $Int64(0,0);this.Atim=new Timespec.ptr(new $Int64(0,0),new $Int64(0,0));this.Mtim=new Timespec.ptr(new $Int64(0,0),new $Int64(0,0));this.Ctim=new Timespec.ptr(new $Int64(0,0),new $Int64(0,0));this.X__unused=arrayType$5.zero();return;}this.Dev=Dev_;this.Ino=Ino_;this.Nlink=Nlink_;this.Mode=Mode_;this.Uid=Uid_;this.Gid=Gid_;this.X__pad0=X__pad0_;this.Rdev=Rdev_;this.Size=Size_;this.Blksize=Blksize_;this.Blocks=Blocks_;this.Atim=Atim_;this.Mtim=Mtim_;this.Ctim=Ctim_;this.X__unused=X__unused_;});RawSockaddrInet4=$pkg.RawSockaddrInet4=$newType(0,$kindStruct,"syscall.RawSockaddrInet4",true,"syscall",true,function(Family_,Port_,Addr_,Zero_){this.$val=this;if(arguments.length===0){this.Family=0;this.Port=0;this.Addr=arrayType$9.zero();this.Zero=arrayType$1.zero();return;}this.Family=Family_;this.Port=Port_;this.Addr=Addr_;this.Zero=Zero_;});RawSockaddrInet6=$pkg.RawSockaddrInet6=$newType(0,$kindStruct,"syscall.RawSockaddrInet6",true,"syscall",true,function(Family_,Port_,Flowinfo_,Addr_,Scope_id_){this.$val=this;if(arguments.length===0){this.Family=0;this.Port=0;this.Flowinfo=0;this.Addr=arrayType$2.zero();this.Scope_id=0;return;}this.Family=Family_;this.Port=Port_;this.Flowinfo=Flowinfo_;this.Addr=Addr_;this.Scope_id=Scope_id_;});RawSockaddrUnix=$pkg.RawSockaddrUnix=$newType(0,$kindStruct,"syscall.RawSockaddrUnix",true,"syscall",true,function(Family_,Path_){this.$val=this;if(arguments.length===0){this.Family=0;this.Path=arrayType$8.zero();return;}this.Family=Family_;this.Path=Path_;});RawSockaddrLinklayer=$pkg.RawSockaddrLinklayer=$newType(0,$kindStruct,"syscall.RawSockaddrLinklayer",true,"syscall",true,function(Family_,Protocol_,Ifindex_,Hatype_,Pkttype_,Halen_,Addr_){this.$val=this;if(arguments.length===0){this.Family=0;this.Protocol=0;this.Ifindex=0;this.Hatype=0;this.Pkttype=0;this.Halen=0;this.Addr=arrayType$1.zero();return;}this.Family=Family_;this.Protocol=Protocol_;this.Ifindex=Ifindex_;this.Hatype=Hatype_;this.Pkttype=Pkttype_;this.Halen=Halen_;this.Addr=Addr_;});RawSockaddrNetlink=$pkg.RawSockaddrNetlink=$newType(0,$kindStruct,"syscall.RawSockaddrNetlink",true,"syscall",true,function(Family_,Pad_,Pid_,Groups_){this.$val=this;if(arguments.length===0){this.Family=0;this.Pad=0;this.Pid=0;this.Groups=0;return;}this.Family=Family_;this.Pad=Pad_;this.Pid=Pid_;this.Groups=Groups_;});RawSockaddr=$pkg.RawSockaddr=$newType(0,$kindStruct,"syscall.RawSockaddr",true,"syscall",true,function(Family_,Data_){this.$val=this;if(arguments.length===0){this.Family=0;this.Data=arrayType$10.zero();return;}this.Family=Family_;this.Data=Data_;});RawSockaddrAny=$pkg.RawSockaddrAny=$newType(0,$kindStruct,"syscall.RawSockaddrAny",true,"syscall",true,function(Addr_,Pad_){this.$val=this;if(arguments.length===0){this.Addr=new RawSockaddr.ptr(0,arrayType$10.zero());this.Pad=arrayType$11.zero();return;}this.Addr=Addr_;this.Pad=Pad_;});_Socklen=$pkg._Socklen=$newType(4,$kindUint32,"syscall._Socklen",true,"syscall",false,null);Linger=$pkg.Linger=$newType(0,$kindStruct,"syscall.Linger",true,"syscall",true,function(Onoff_,Linger_){this.$val=this;if(arguments.length===0){this.Onoff=0;this.Linger=0;return;}this.Onoff=Onoff_;this.Linger=Linger_;});Iovec=$pkg.Iovec=$newType(0,$kindStruct,"syscall.Iovec",true,"syscall",true,function(Base_,Len_){this.$val=this;if(arguments.length===0){this.Base=ptrType$2.nil;this.Len=new $Uint64(0,0);return;}this.Base=Base_;this.Len=Len_;});IPMreq=$pkg.IPMreq=$newType(0,$kindStruct,"syscall.IPMreq",true,"syscall",true,function(Multiaddr_,Interface_){this.$val=this;if(arguments.length===0){this.Multiaddr=arrayType$9.zero();this.Interface=arrayType$9.zero();return;}this.Multiaddr=Multiaddr_;this.Interface=Interface_;});IPMreqn=$pkg.IPMreqn=$newType(0,$kindStruct,"syscall.IPMreqn",true,"syscall",true,function(Multiaddr_,Address_,Ifindex_){this.$val=this;if(arguments.length===0){this.Multiaddr=arrayType$9.zero();this.Address=arrayType$9.zero();this.Ifindex=0;return;}this.Multiaddr=Multiaddr_;this.Address=Address_;this.Ifindex=Ifindex_;});IPv6Mreq=$pkg.IPv6Mreq=$newType(0,$kindStruct,"syscall.IPv6Mreq",true,"syscall",true,function(Multiaddr_,Interface_){this.$val=this;if(arguments.length===0){this.Multiaddr=arrayType$2.zero();this.Interface=0;return;}this.Multiaddr=Multiaddr_;this.Interface=Interface_;});Msghdr=$pkg.Msghdr=$newType(0,$kindStruct,"syscall.Msghdr",true,"syscall",true,function(Name_,Namelen_,Pad_cgo_0_,Iov_,Iovlen_,Control_,Controllen_,Flags_,Pad_cgo_1_){this.$val=this;if(arguments.length===0){this.Name=ptrType$2.nil;this.Namelen=0;this.Pad_cgo_0=arrayType$9.zero();this.Iov=ptrType$20.nil;this.Iovlen=new $Uint64(0,0);this.Control=ptrType$2.nil;this.Controllen=new $Uint64(0,0);this.Flags=0;this.Pad_cgo_1=arrayType$9.zero();return;}this.Name=Name_;this.Namelen=Namelen_;this.Pad_cgo_0=Pad_cgo_0_;this.Iov=Iov_;this.Iovlen=Iovlen_;this.Control=Control_;this.Controllen=Controllen_;this.Flags=Flags_;this.Pad_cgo_1=Pad_cgo_1_;});sliceType=$sliceType($Uint8);sliceType$1=$sliceType($String);ptrType$2=$ptrType($Uint8);ptrType$4=$ptrType($Int32);arrayType$1=$arrayType($Uint8,8);ptrType$9=$ptrType($Uint16);arrayType$2=$arrayType($Uint8,16);ptrType$12=$ptrType(SockaddrNetlink);arrayType$4=$arrayType($Uint8,32);arrayType$5=$arrayType($Int64,3);arrayType$8=$arrayType($Int8,108);arrayType$9=$arrayType($Uint8,4);arrayType$10=$arrayType($Int8,14);arrayType$11=$arrayType($Int8,96);ptrType$19=$ptrType(_Socklen);ptrType$20=$ptrType(Iovec);structType=$structType("syscall",[{prop:"addr",name:"addr",embedded:false,exported:false,typ:$Uintptr,tag:""},{prop:"len",name:"len",embedded:false,exported:false,typ:$Int,tag:""},{prop:"cap",name:"cap",embedded:false,exported:false,typ:$Int,tag:""}]);ptrType$23=$ptrType($Int64);funcType=$funcType([$Uintptr],[],false);funcType$1=$funcType([$Uintptr],[$Bool],false);ptrType$25=$ptrType(SockaddrLinklayer);ptrType$26=$ptrType(mmapper);mapType=$mapType(ptrType$2,sliceType);funcType$2=$funcType([$Uintptr,$Uintptr,$Int,$Int,$Int,$Int64],[$Uintptr,$error],false);funcType$3=$funcType([$Uintptr,$Uintptr],[$error],false);ptrType$27=$ptrType(SockaddrInet4);ptrType$28=$ptrType(SockaddrInet6);ptrType$29=$ptrType(SockaddrUnix);ptrType$30=$ptrType(Timespec);ptrType$32=$ptrType(Msghdr);init=function(){$flushConsole=function(){if(!(lineBuffer.$length===0)){$global.console.log($externalize($bytesToString(lineBuffer),$String));lineBuffer=sliceType.nil;}};};printWarning=function(){if(!warningPrinted){$global.console.error($externalize("warning: system calls not available, see https://github.com/gopherjs/gopherjs/blob/master/doc/syscalls.md",$String));}warningPrinted=true;};printToConsole=function(b){var b,goPrintToConsole,i;goPrintToConsole=$global.goPrintToConsole;if(!(goPrintToConsole===undefined)){goPrintToConsole(b);return;}lineBuffer=$appendSlice(lineBuffer,b);while(true){i=indexByte(lineBuffer,10);if(i===-1){break;}$global.console.log($externalize($bytesToString($subslice(lineBuffer,0,i)),$String));lineBuffer=$subslice(lineBuffer,i+1>>0);}};indexByte=function(s,c){var _i,_ref,b,c,i,s;_ref=s;_i=0;while(true){if(!(_i<_ref.$length)){break;}i=_i;b=_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i];if(b===c){return i;}_i++;}return-1;};runtime_envs=function(){var envkeys,envs$1,i,jsEnv,key,process;process=$global.process;if(process===undefined){return sliceType$1.nil;}jsEnv=process.env;envkeys=$global.Object.keys(jsEnv);envs$1=$makeSlice(sliceType$1,$parseInt(envkeys.length));i=0;while(true){if(!(i<$parseInt(envkeys.length))){break;}key=$internalize(envkeys[i],$String);i<0||i>=envs$1.$length?($throwRuntimeError("index out of range"),undefined):envs$1.$array[envs$1.$offset+i]=key+"="+$internalize(jsEnv[$externalize(key,$String)],$String);i=i+1>>0;}return envs$1;};syscallByName=function(name){var name,require,$deferred;/* */var $err=null;try{$deferred=[];$deferred.index=$curGoroutine.deferStack.length;$curGoroutine.deferStack.push($deferred);$deferred.push([function(){$recover();},[]]);if(syscallModule===null){if(alreadyTriedToLoad){return null;}alreadyTriedToLoad=true;require=$global.require;if(require===undefined){$panic(new $String(""));}syscallModule=require($externalize("syscall",$String));}return syscallModule[$externalize(name,$String)];/* */}catch(err){$err=err;return null;}finally{$callDeferred($deferred,$err);}};Syscall=function(trap,a1,a2,a3){var _tmp,_tmp$1,_tmp$2,_tmp$3,_tmp$4,_tmp$5,_tmp$6,_tmp$7,_tmp$8,a1,a2,a3,array,err,f,r,r1,r2,slice,trap;r1=0;r2=0;err=0;f=syscallByName("Syscall");if(!(f===null)){r=f(trap,a1,a2,a3);_tmp=$parseInt(r[0])>>0>>>0;_tmp$1=$parseInt(r[1])>>0>>>0;_tmp$2=$parseInt(r[2])>>0>>>0;r1=_tmp;r2=_tmp$1;err=_tmp$2;return[r1,r2,err];}if(trap===1&&(a1===1||a1===2)){array=a2;slice=$makeSlice(sliceType,$parseInt(array.length));slice.$array=array;printToConsole(slice);_tmp$3=$parseInt(array.length)>>>0;_tmp$4=0;_tmp$5=0;r1=_tmp$3;r2=_tmp$4;err=_tmp$5;return[r1,r2,err];}if(trap===231){runtime.Goexit();}printWarning();_tmp$6=minusOne>>>0;_tmp$7=0;_tmp$8=13;r1=_tmp$6;r2=_tmp$7;err=_tmp$8;return[r1,r2,err];};$pkg.Syscall=Syscall;Syscall6=function(trap,a1,a2,a3,a4,a5,a6){var _tmp,_tmp$1,_tmp$2,_tmp$3,_tmp$4,_tmp$5,a1,a2,a3,a4,a5,a6,err,f,r,r1,r2,trap;r1=0;r2=0;err=0;f=syscallByName("Syscall6");if(!(f===null)){r=f(trap,a1,a2,a3,a4,a5,a6);_tmp=$parseInt(r[0])>>0>>>0;_tmp$1=$parseInt(r[1])>>0>>>0;_tmp$2=$parseInt(r[2])>>0>>>0;r1=_tmp;r2=_tmp$1;err=_tmp$2;return[r1,r2,err];}if(!(trap===202)){printWarning();}_tmp$3=minusOne>>>0;_tmp$4=0;_tmp$5=13;r1=_tmp$3;r2=_tmp$4;err=_tmp$5;return[r1,r2,err];};$pkg.Syscall6=Syscall6;BytePtrFromString=function(s){var _i,_ref,array,b,i,s;array=new $global.Uint8Array(s.length+1>>0);_ref=new sliceType($stringToBytes(s));_i=0;while(true){if(!(_i<_ref.$length)){break;}i=_i;b=_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i];if(b===0){return[ptrType$2.nil,new Errno(22)];}array[i]=b;_i++;}array[s.length]=0;return[array,$ifaceNil];};$pkg.BytePtrFromString=BytePtrFromString;readInt=function(b,off,size){var _tmp,_tmp$1,_tmp$2,_tmp$3,_tmp$4,_tmp$5,b,off,ok,size,u;u=new $Uint64(0,0);ok=false;if(b.$length<off+size>>>0>>0){_tmp=new $Uint64(0,0);_tmp$1=false;u=_tmp;ok=_tmp$1;return[u,ok];}if(false){_tmp$2=readIntBE($subslice(b,off),size);_tmp$3=true;u=_tmp$2;ok=_tmp$3;return[u,ok];}_tmp$4=readIntLE($subslice(b,off),size);_tmp$5=true;u=_tmp$4;ok=_tmp$5;return[u,ok];};readIntBE=function(b,size){var _1,b,size,x,x$1,x$10,x$11,x$12,x$13,x$14,x$15,x$16,x$17,x$18,x$19,x$2,x$20,x$21,x$3,x$4,x$5,x$6,x$7,x$8,x$9;_1=size;if(_1===1){return new $Uint64(0,0>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+0]);}else if(_1===2){$unused(1>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+1]);return x=new $Uint64(0,1>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+1]),x$1=$shiftLeft64(new $Uint64(0,0>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+0]),8),new $Uint64(x.$high|x$1.$high,(x.$low|x$1.$low)>>>0);}else if(_1===4){$unused(3>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+3]);return x$2=(x$3=(x$4=new $Uint64(0,3>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+3]),x$5=$shiftLeft64(new $Uint64(0,2>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+2]),8),new $Uint64(x$4.$high|x$5.$high,(x$4.$low|x$5.$low)>>>0)),x$6=$shiftLeft64(new $Uint64(0,1>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+1]),16),new $Uint64(x$3.$high|x$6.$high,(x$3.$low|x$6.$low)>>>0)),x$7=$shiftLeft64(new $Uint64(0,0>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+0]),24),new $Uint64(x$2.$high|x$7.$high,(x$2.$low|x$7.$low)>>>0);}else if(_1===8){$unused(7>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+7]);return x$8=(x$9=(x$10=(x$11=(x$12=(x$13=(x$14=new $Uint64(0,7>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+7]),x$15=$shiftLeft64(new $Uint64(0,6>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+6]),8),new $Uint64(x$14.$high|x$15.$high,(x$14.$low|x$15.$low)>>>0)),x$16=$shiftLeft64(new $Uint64(0,5>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+5]),16),new $Uint64(x$13.$high|x$16.$high,(x$13.$low|x$16.$low)>>>0)),x$17=$shiftLeft64(new $Uint64(0,4>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+4]),24),new $Uint64(x$12.$high|x$17.$high,(x$12.$low|x$17.$low)>>>0)),x$18=$shiftLeft64(new $Uint64(0,3>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+3]),32),new $Uint64(x$11.$high|x$18.$high,(x$11.$low|x$18.$low)>>>0)),x$19=$shiftLeft64(new $Uint64(0,2>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+2]),40),new $Uint64(x$10.$high|x$19.$high,(x$10.$low|x$19.$low)>>>0)),x$20=$shiftLeft64(new $Uint64(0,1>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+1]),48),new $Uint64(x$9.$high|x$20.$high,(x$9.$low|x$20.$low)>>>0)),x$21=$shiftLeft64(new $Uint64(0,0>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+0]),56),new $Uint64(x$8.$high|x$21.$high,(x$8.$low|x$21.$low)>>>0);}else{$panic(new $String("syscall: readInt with unsupported size"));}};readIntLE=function(b,size){var _1,b,size,x,x$1,x$10,x$11,x$12,x$13,x$14,x$15,x$16,x$17,x$18,x$19,x$2,x$20,x$21,x$3,x$4,x$5,x$6,x$7,x$8,x$9;_1=size;if(_1===1){return new $Uint64(0,0>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+0]);}else if(_1===2){$unused(1>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+1]);return x=new $Uint64(0,0>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+0]),x$1=$shiftLeft64(new $Uint64(0,1>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+1]),8),new $Uint64(x.$high|x$1.$high,(x.$low|x$1.$low)>>>0);}else if(_1===4){$unused(3>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+3]);return x$2=(x$3=(x$4=new $Uint64(0,0>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+0]),x$5=$shiftLeft64(new $Uint64(0,1>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+1]),8),new $Uint64(x$4.$high|x$5.$high,(x$4.$low|x$5.$low)>>>0)),x$6=$shiftLeft64(new $Uint64(0,2>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+2]),16),new $Uint64(x$3.$high|x$6.$high,(x$3.$low|x$6.$low)>>>0)),x$7=$shiftLeft64(new $Uint64(0,3>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+3]),24),new $Uint64(x$2.$high|x$7.$high,(x$2.$low|x$7.$low)>>>0);}else if(_1===8){$unused(7>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+7]);return x$8=(x$9=(x$10=(x$11=(x$12=(x$13=(x$14=new $Uint64(0,0>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+0]),x$15=$shiftLeft64(new $Uint64(0,1>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+1]),8),new $Uint64(x$14.$high|x$15.$high,(x$14.$low|x$15.$low)>>>0)),x$16=$shiftLeft64(new $Uint64(0,2>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+2]),16),new $Uint64(x$13.$high|x$16.$high,(x$13.$low|x$16.$low)>>>0)),x$17=$shiftLeft64(new $Uint64(0,3>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+3]),24),new $Uint64(x$12.$high|x$17.$high,(x$12.$low|x$17.$low)>>>0)),x$18=$shiftLeft64(new $Uint64(0,4>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+4]),32),new $Uint64(x$11.$high|x$18.$high,(x$11.$low|x$18.$low)>>>0)),x$19=$shiftLeft64(new $Uint64(0,5>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+5]),40),new $Uint64(x$10.$high|x$19.$high,(x$10.$low|x$19.$low)>>>0)),x$20=$shiftLeft64(new $Uint64(0,6>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+6]),48),new $Uint64(x$9.$high|x$20.$high,(x$9.$low|x$20.$low)>>>0)),x$21=$shiftLeft64(new $Uint64(0,7>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+7]),56),new $Uint64(x$8.$high|x$21.$high,(x$8.$low|x$21.$low)>>>0);}else{$panic(new $String("syscall: readInt with unsupported size"));}};ParseDirent=function(buf,max,names){var _i,_ref,_tmp,_tmp$1,_tmp$2,_tmp$3,_tmp$4,_tmp$5,_tuple,_tuple$1,_tuple$2,buf,c,consumed,count,i,ino,max,name,names,namlen,newnames,ok,origlen,rec,reclen,x,x$1,x$2;consumed=0;count=0;newnames=sliceType$1.nil;origlen=buf.$length;count=0;while(true){if(!(!(max===0)&&buf.$length>0)){break;}_tuple=direntReclen(buf);reclen=_tuple[0];ok=_tuple[1];if(!ok||(x=new $Uint64(0,buf.$length),reclen.$high>x.$high||reclen.$high===x.$high&&reclen.$low>x.$low)){_tmp=origlen;_tmp$1=count;_tmp$2=names;consumed=_tmp;count=_tmp$1;newnames=_tmp$2;return[consumed,count,newnames];}rec=$subslice(buf,0,$flatten64(reclen));buf=$subslice(buf,$flatten64(reclen));_tuple$1=direntIno(rec);ino=_tuple$1[0];ok=_tuple$1[1];if(!ok){break;}if(ino.$high===0&&ino.$low===0){continue;}_tuple$2=direntNamlen(rec);namlen=_tuple$2[0];ok=_tuple$2[1];if(!ok||(x$1=new $Uint64(0+namlen.$high,19+namlen.$low),x$2=new $Uint64(0,rec.$length),x$1.$high>x$2.$high||x$1.$high===x$2.$high&&x$1.$low>x$2.$low)){break;}name=$subslice(rec,19,$flatten64(new $Uint64(0+namlen.$high,19+namlen.$low)));_ref=name;_i=0;while(true){if(!(_i<_ref.$length)){break;}i=_i;c=_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i];if(c===0){name=$subslice(name,0,i);break;}_i++;}if($bytesToString(name)==="."||$bytesToString(name)===".."){continue;}max=max-1>>0;count=count+1>>0;names=$append(names,$bytesToString(name));}_tmp$3=origlen-buf.$length>>0;_tmp$4=count;_tmp$5=names;consumed=_tmp$3;count=_tmp$4;newnames=_tmp$5;return[consumed,count,newnames];};$pkg.ParseDirent=ParseDirent;CloseOnExec=function(fd){var fd;fcntl(fd,2,1);};$pkg.CloseOnExec=CloseOnExec;SetNonblock=function(fd,nonblocking){var _tuple,_tuple$1,err,fd,flag,nonblocking;err=$ifaceNil;_tuple=fcntl(fd,3,0);flag=_tuple[0];err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){err=err;return err;}if(nonblocking){flag=flag|2048;}else{flag=(flag&~2048)>>0;}_tuple$1=fcntl(fd,4,flag);err=_tuple$1[1];err=err;return err;};$pkg.SetNonblock=SetNonblock;msanRead=function(addr,len){var addr,len;};msanWrite=function(addr,len){var addr,len;};itoa=function(val){var val;if(val<0){return"-"+uitoa(-val>>>0);}return uitoa(val>>>0);};uitoa=function(val){var _q,_r,buf,i,val;buf=arrayType$4.zero();i=31;while(true){if(!(val>=10)){break;}i<0||i>=buf.length?($throwRuntimeError("index out of range"),undefined):buf[i]=(_r=val%10,_r===_r?_r:$throwRuntimeError("integer divide by zero"))+48>>>0<<24>>>24;i=i-1>>0;val=(_q=val/10,_q===_q&&_q!==1/0&&_q!==-1/0?_q>>>0:$throwRuntimeError("integer divide by zero"));}i<0||i>=buf.length?($throwRuntimeError("index out of range"),undefined):buf[i]=val+48>>>0<<24>>>24;return $bytesToString($subslice(new sliceType(buf),i));};Timespec.ptr.prototype.Unix=function(){var _tmp,_tmp$1,nsec,sec,ts;sec=new $Int64(0,0);nsec=new $Int64(0,0);ts=this;_tmp=ts.Sec;_tmp$1=ts.Nsec;sec=_tmp;nsec=_tmp$1;return[sec,nsec];};Timespec.prototype.Unix=function(){return this.$val.Unix();};Timespec.ptr.prototype.Nano=function(){var ts,x,x$1;ts=this;return x=$mul64(ts.Sec,new $Int64(0,1000000000)),x$1=ts.Nsec,new $Int64(x.$high+x$1.$high,x.$low+x$1.$low);};Timespec.prototype.Nano=function(){return this.$val.Nano();};SockaddrInet4.ptr.prototype.sockaddr=function(){var _array,_struct,_view,i,p,sa,x,x$1,x$2;sa=this;if(sa.Port<0||sa.Port>65535){return[0,0,new Errno(22)];}sa.raw.Family=2;p=(x=sa.raw,x.$ptr_Port||(x.$ptr_Port=new ptrType$9(function(){return this.$target.Port;},function($v){this.$target.Port=$v;},x)));p.nilCheck,p[0]=sa.Port>>8>>0<<24>>>24;p.nilCheck,p[1]=sa.Port<<24>>>24;i=0;while(true){if(!(i<4)){break;}x$2=sa.raw.Addr,i<0||i>=x$2.length?($throwRuntimeError("index out of range"),undefined):x$2[i]=(x$1=sa.Addr,i<0||i>=x$1.length?($throwRuntimeError("index out of range"),undefined):x$1[i]);i=i+1>>0;}_array=new Uint8Array(16);return[_array,16,$ifaceNil];};SockaddrInet4.prototype.sockaddr=function(){return this.$val.sockaddr();};SockaddrInet6.ptr.prototype.sockaddr=function(){var _array,_struct,_view,i,p,sa,x,x$1,x$2;sa=this;if(sa.Port<0||sa.Port>65535){return[0,0,new Errno(22)];}sa.raw.Family=10;p=(x=sa.raw,x.$ptr_Port||(x.$ptr_Port=new ptrType$9(function(){return this.$target.Port;},function($v){this.$target.Port=$v;},x)));p.nilCheck,p[0]=sa.Port>>8>>0<<24>>>24;p.nilCheck,p[1]=sa.Port<<24>>>24;sa.raw.Scope_id=sa.ZoneId;i=0;while(true){if(!(i<16)){break;}x$2=sa.raw.Addr,i<0||i>=x$2.length?($throwRuntimeError("index out of range"),undefined):x$2[i]=(x$1=sa.Addr,i<0||i>=x$1.length?($throwRuntimeError("index out of range"),undefined):x$1[i]);i=i+1>>0;}_array=new Uint8Array(28);return[_array,28,$ifaceNil];};SockaddrInet6.prototype.sockaddr=function(){return this.$val.sockaddr();};SockaddrUnix.ptr.prototype.sockaddr=function(){var _array,_struct,_view,i,n,name,sa,sl,x;sa=this;name=sa.Name;n=name.length;if(n>108){return[0,0,new Errno(22)];}if(n===108&&!(name.charCodeAt(0)===64)){return[0,0,new Errno(22)];}sa.raw.Family=1;i=0;while(true){if(!(i<n)){break;}x=sa.raw.Path,i<0||i>=x.length?($throwRuntimeError("index out of range"),undefined):x[i]=name.charCodeAt(i)<<24>>24;i=i+1>>0;}sl=2;if(n>0){sl=sl+((n>>>0)+1>>>0)>>>0;}if(sa.raw.Path[0]===64){sa.raw.Path[0]=0;sl=sl-1>>>0;}_array=new Uint8Array(110);return[_array,sl,$ifaceNil];};SockaddrUnix.prototype.sockaddr=function(){return this.$val.sockaddr();};SockaddrLinklayer.ptr.prototype.sockaddr=function(){var _array,_struct,_view,i,sa,x,x$1;sa=this;if(sa.Ifindex<0||sa.Ifindex>2147483647){return[0,0,new Errno(22)];}sa.raw.Family=17;sa.raw.Protocol=sa.Protocol;sa.raw.Ifindex=sa.Ifindex>>0;sa.raw.Hatype=sa.Hatype;sa.raw.Pkttype=sa.Pkttype;sa.raw.Halen=sa.Halen;i=0;while(true){if(!(i<8)){break;}x$1=sa.raw.Addr,i<0||i>=x$1.length?($throwRuntimeError("index out of range"),undefined):x$1[i]=(x=sa.Addr,i<0||i>=x.length?($throwRuntimeError("index out of range"),undefined):x[i]);i=i+1>>0;}_array=new Uint8Array(20);return[_array,20,$ifaceNil];};SockaddrLinklayer.prototype.sockaddr=function(){return this.$val.sockaddr();};SockaddrNetlink.ptr.prototype.sockaddr=function(){var _array,_struct,_view,sa;sa=this;sa.raw.Family=16;sa.raw.Pad=sa.Pad;sa.raw.Pid=sa.Pid;sa.raw.Groups=sa.Groups;_array=new Uint8Array(12);return[_array,12,$ifaceNil];};SockaddrNetlink.prototype.sockaddr=function(){return this.$val.sockaddr();};anyToSockaddr=function(rsa){var _1,_array,_array$1,_array$2,_array$3,_array$4,_array$5,_array$6,_array$7,_array$8,_array$9,_struct,_struct$1,_struct$2,_struct$3,_struct$4,_struct$5,_struct$6,_struct$7,_struct$8,_struct$9,_view,_view$1,_view$2,_view$3,_view$4,_view$5,_view$6,_view$7,_view$8,_view$9,bytes,i,i$1,i$2,n,p,p$1,pp,pp$1,pp$2,pp$3,pp$4,rsa,sa,sa$1,sa$2,sa$3,sa$4,x,x$1,x$2,x$3,x$4,x$5,x$6;_1=rsa.Addr.Family;if(_1===16){_array$1=new Uint8Array(112);pp=(_array=_array$1,_struct=new RawSockaddrNetlink.ptr(0,0,0,0),_view=new DataView(_array.buffer,_array.byteOffset),_struct.Family=_view.getUint16(0,true),_struct.Pad=_view.getUint16(2,true),_struct.Pid=_view.getUint32(4,true),_struct.Groups=_view.getUint32(8,true),_struct);_struct$1=rsa,_view$1=new DataView(_array$1.buffer,_array$1.byteOffset),_struct$1.Addr.Family=_view$1.getUint16(0,true),_struct$1.Addr.Data=new($nativeArray($kindInt8))(_array$1.buffer,$min(_array$1.byteOffset+2,_array$1.buffer.byteLength)),_struct$1.Pad=new($nativeArray($kindInt8))(_array$1.buffer,$min(_array$1.byteOffset+16,_array$1.buffer.byteLength));sa=new SockaddrNetlink.ptr(0,0,0,0,new RawSockaddrNetlink.ptr(0,0,0,0));sa.Family=pp.Family;sa.Pad=pp.Pad;sa.Pid=pp.Pid;sa.Groups=pp.Groups;return[sa,$ifaceNil];}else if(_1===17){_array$3=new Uint8Array(112);pp$1=(_array$2=_array$3,_struct$2=new RawSockaddrLinklayer.ptr(0,0,0,0,0,0,arrayType$1.zero()),_view$2=new DataView(_array$2.buffer,_array$2.byteOffset),_struct$2.Family=_view$2.getUint16(0,true),_struct$2.Protocol=_view$2.getUint16(2,true),_struct$2.Ifindex=_view$2.getInt32(4,true),_struct$2.Hatype=_view$2.getUint16(8,true),_struct$2.Pkttype=_view$2.getUint8(10,true),_struct$2.Halen=_view$2.getUint8(11,true),_struct$2.Addr=new($nativeArray($kindUint8))(_array$2.buffer,$min(_array$2.byteOffset+12,_array$2.buffer.byteLength)),_struct$2);_struct$3=rsa,_view$3=new DataView(_array$3.buffer,_array$3.byteOffset),_struct$3.Addr.Family=_view$3.getUint16(0,true),_struct$3.Addr.Data=new($nativeArray($kindInt8))(_array$3.buffer,$min(_array$3.byteOffset+2,_array$3.buffer.byteLength)),_struct$3.Pad=new($nativeArray($kindInt8))(_array$3.buffer,$min(_array$3.byteOffset+16,_array$3.buffer.byteLength));sa$1=new SockaddrLinklayer.ptr(0,0,0,0,0,arrayType$1.zero(),new RawSockaddrLinklayer.ptr(0,0,0,0,0,0,arrayType$1.zero()));sa$1.Protocol=pp$1.Protocol;sa$1.Ifindex=pp$1.Ifindex>>0;sa$1.Hatype=pp$1.Hatype;sa$1.Pkttype=pp$1.Pkttype;sa$1.Halen=pp$1.Halen;i=0;while(true){if(!(i<8)){break;}x$1=sa$1.Addr,i<0||i>=x$1.length?($throwRuntimeError("index out of range"),undefined):x$1[i]=(x=pp$1.Addr,i<0||i>=x.length?($throwRuntimeError("index out of range"),undefined):x[i]);i=i+1>>0;}return[sa$1,$ifaceNil];}else if(_1===1){_array$5=new Uint8Array(112);pp$2=(_array$4=_array$5,_struct$4=new RawSockaddrUnix.ptr(0,arrayType$8.zero()),_view$4=new DataView(_array$4.buffer,_array$4.byteOffset),_struct$4.Family=_view$4.getUint16(0,true),_struct$4.Path=new($nativeArray($kindInt8))(_array$4.buffer,$min(_array$4.byteOffset+2,_array$4.buffer.byteLength)),_struct$4);_struct$5=rsa,_view$5=new DataView(_array$5.buffer,_array$5.byteOffset),_struct$5.Addr.Family=_view$5.getUint16(0,true),_struct$5.Addr.Data=new($nativeArray($kindInt8))(_array$5.buffer,$min(_array$5.byteOffset+2,_array$5.buffer.byteLength)),_struct$5.Pad=new($nativeArray($kindInt8))(_array$5.buffer,$min(_array$5.byteOffset+16,_array$5.buffer.byteLength));sa$2=new SockaddrUnix.ptr("",new RawSockaddrUnix.ptr(0,arrayType$8.zero()));if(pp$2.Path[0]===0){pp$2.Path[0]=64;}n=0;while(true){if(!(n<108&&!((x$2=pp$2.Path,n<0||n>=x$2.length?($throwRuntimeError("index out of range"),undefined):x$2[n])===0))){break;}n=n+1>>0;}bytes=$subslice(new sliceType($sliceToArray(new sliceType(pp$2.Path))),0,n);sa$2.Name=$bytesToString(bytes);return[sa$2,$ifaceNil];}else if(_1===2){_array$7=new Uint8Array(112);pp$3=(_array$6=_array$7,_struct$6=new RawSockaddrInet4.ptr(0,0,arrayType$9.zero(),arrayType$1.zero()),_view$6=new DataView(_array$6.buffer,_array$6.byteOffset),_struct$6.Family=_view$6.getUint16(0,true),_struct$6.Port=_view$6.getUint16(2,true),_struct$6.Addr=new($nativeArray($kindUint8))(_array$6.buffer,$min(_array$6.byteOffset+4,_array$6.buffer.byteLength)),_struct$6.Zero=new($nativeArray($kindUint8))(_array$6.buffer,$min(_array$6.byteOffset+8,_array$6.buffer.byteLength)),_struct$6);_struct$7=rsa,_view$7=new DataView(_array$7.buffer,_array$7.byteOffset),_struct$7.Addr.Family=_view$7.getUint16(0,true),_struct$7.Addr.Data=new($nativeArray($kindInt8))(_array$7.buffer,$min(_array$7.byteOffset+2,_array$7.buffer.byteLength)),_struct$7.Pad=new($nativeArray($kindInt8))(_array$7.buffer,$min(_array$7.byteOffset+16,_array$7.buffer.byteLength));sa$3=new SockaddrInet4.ptr(0,arrayType$9.zero(),new RawSockaddrInet4.ptr(0,0,arrayType$9.zero(),arrayType$1.zero()));p=pp$3.$ptr_Port||(pp$3.$ptr_Port=new ptrType$9(function(){return this.$target.Port;},function($v){this.$target.Port=$v;},pp$3));sa$3.Port=((p.nilCheck,p[0])>>0<<8>>0)+((p.nilCheck,p[1])>>0)>>0;i$1=0;while(true){if(!(i$1<4)){break;}x$4=sa$3.Addr,i$1<0||i$1>=x$4.length?($throwRuntimeError("index out of range"),undefined):x$4[i$1]=(x$3=pp$3.Addr,i$1<0||i$1>=x$3.length?($throwRuntimeError("index out of range"),undefined):x$3[i$1]);i$1=i$1+1>>0;}return[sa$3,$ifaceNil];}else if(_1===10){_array$9=new Uint8Array(112);pp$4=(_array$8=_array$9,_struct$8=new RawSockaddrInet6.ptr(0,0,0,arrayType$2.zero(),0),_view$8=new DataView(_array$8.buffer,_array$8.byteOffset),_struct$8.Family=_view$8.getUint16(0,true),_struct$8.Port=_view$8.getUint16(2,true),_struct$8.Flowinfo=_view$8.getUint32(4,true),_struct$8.Addr=new($nativeArray($kindUint8))(_array$8.buffer,$min(_array$8.byteOffset+8,_array$8.buffer.byteLength)),_struct$8.Scope_id=_view$8.getUint32(24,true),_struct$8);_struct$9=rsa,_view$9=new DataView(_array$9.buffer,_array$9.byteOffset),_struct$9.Addr.Family=_view$9.getUint16(0,true),_struct$9.Addr.Data=new($nativeArray($kindInt8))(_array$9.buffer,$min(_array$9.byteOffset+2,_array$9.buffer.byteLength)),_struct$9.Pad=new($nativeArray($kindInt8))(_array$9.buffer,$min(_array$9.byteOffset+16,_array$9.buffer.byteLength));sa$4=new SockaddrInet6.ptr(0,0,arrayType$2.zero(),new RawSockaddrInet6.ptr(0,0,0,arrayType$2.zero(),0));p$1=pp$4.$ptr_Port||(pp$4.$ptr_Port=new ptrType$9(function(){return this.$target.Port;},function($v){this.$target.Port=$v;},pp$4));sa$4.Port=((p$1.nilCheck,p$1[0])>>0<<8>>0)+((p$1.nilCheck,p$1[1])>>0)>>0;sa$4.ZoneId=pp$4.Scope_id;i$2=0;while(true){if(!(i$2<16)){break;}x$6=sa$4.Addr,i$2<0||i$2>=x$6.length?($throwRuntimeError("index out of range"),undefined):x$6[i$2]=(x$5=pp$4.Addr,i$2<0||i$2>=x$5.length?($throwRuntimeError("index out of range"),undefined):x$5[i$2]);i$2=i$2+1>>0;}return[sa$4,$ifaceNil];}return[$ifaceNil,new Errno(97)];};Accept=function(fd){var _tuple,_tuple$1,err,fd,len,len$24ptr,nfd,rsa,sa;nfd=0;sa=$ifaceNil;err=$ifaceNil;rsa=new RawSockaddrAny.ptr(new RawSockaddr.ptr(0,arrayType$10.zero()),arrayType$11.zero());len=112;_tuple=accept(fd,rsa,len$24ptr||(len$24ptr=new ptrType$19(function(){return len;},function($v){len=$v;})));nfd=_tuple[0];err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){return[nfd,sa,err];}_tuple$1=anyToSockaddr(rsa);sa=_tuple$1[0];err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){Close(nfd);nfd=0;}return[nfd,sa,err];};$pkg.Accept=Accept;Accept4=function(fd,flags){var _tuple,_tuple$1,err,fd,flags,len,len$24ptr,nfd,rsa,sa;nfd=0;sa=$ifaceNil;err=$ifaceNil;rsa=new RawSockaddrAny.ptr(new RawSockaddr.ptr(0,arrayType$10.zero()),arrayType$11.zero());len=112;_tuple=accept4(fd,rsa,len$24ptr||(len$24ptr=new ptrType$19(function(){return len;},function($v){len=$v;})),flags);nfd=_tuple[0];err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){return[nfd,sa,err];}if(len>112){$panic(new $String("RawSockaddrAny too small"));}_tuple$1=anyToSockaddr(rsa);sa=_tuple$1[0];err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){Close(nfd);nfd=0;}return[nfd,sa,err];};$pkg.Accept4=Accept4;SetsockoptIPMreqn=function(fd,level,opt,mreq){var _array,_struct,_view,err,fd,level,mreq,opt;err=$ifaceNil;_array=new Uint8Array(12);err=setsockopt(fd,level,opt,_array,12);_struct=mreq,_view=new DataView(_array.buffer,_array.byteOffset),_struct.Multiaddr=new($nativeArray($kindUint8))(_array.buffer,$min(_array.byteOffset+0,_array.buffer.byteLength)),_struct.Address=new($nativeArray($kindUint8))(_array.buffer,$min(_array.byteOffset+4,_array.buffer.byteLength)),_struct.Ifindex=_view.getInt32(8,true);return err;};$pkg.SetsockoptIPMreqn=SetsockoptIPMreqn;Recvmsg=function(fd,p,oob,flags){var _array,_struct,_tuple,_tuple$1,_tuple$2,_view,dummy,dummy$24ptr,err,fd,flags,from,iov,msg,n,oob,oobn,p,recvflags,rsa,sockType;n=0;oobn=0;recvflags=0;from=$ifaceNil;err=$ifaceNil;msg=new Msghdr.ptr(ptrType$2.nil,0,arrayType$9.zero(),ptrType$20.nil,new $Uint64(0,0),ptrType$2.nil,new $Uint64(0,0),0,arrayType$9.zero());rsa=new RawSockaddrAny.ptr(new RawSockaddr.ptr(0,arrayType$10.zero()),arrayType$11.zero());_array=new Uint8Array(112);msg.Name=_array;_struct=rsa,_view=new DataView(_array.buffer,_array.byteOffset),_struct.Addr.Family=_view.getUint16(0,true),_struct.Addr.Data=new($nativeArray($kindInt8))(_array.buffer,$min(_array.byteOffset+2,_array.buffer.byteLength)),_struct.Pad=new($nativeArray($kindInt8))(_array.buffer,$min(_array.byteOffset+16,_array.buffer.byteLength));msg.Namelen=112;iov=new Iovec.ptr(ptrType$2.nil,new $Uint64(0,0));if(p.$length>0){iov.Base=$indexPtr(p.$array,p.$offset+0,ptrType$2);iov.SetLen(p.$length);}dummy=0;if(oob.$length>0){if(p.$length===0){sockType=0;_tuple=GetsockoptInt(fd,1,3);sockType=_tuple[0];err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){return[n,oobn,recvflags,from,err];}if(!(sockType===2)){iov.Base=dummy$24ptr||(dummy$24ptr=new ptrType$2(function(){return dummy;},function($v){dummy=$v;}));iov.SetLen(1);}}msg.Control=$indexPtr(oob.$array,oob.$offset+0,ptrType$2);msg.SetControllen(oob.$length);}msg.Iov=iov;msg.Iovlen=new $Uint64(0,1);_tuple$1=recvmsg(fd,msg,flags);n=_tuple$1[0];err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){return[n,oobn,recvflags,from,err];}oobn=msg.Controllen.$low>>0;recvflags=msg.Flags>>0;if(!(rsa.Addr.Family===0)){_tuple$2=anyToSockaddr(rsa);from=_tuple$2[0];err=_tuple$2[1];}return[n,oobn,recvflags,from,err];};$pkg.Recvmsg=Recvmsg;SendmsgN=function(fd,p,oob,to,flags){var _r,_tmp,_tmp$1,_tmp$2,_tmp$3,_tmp$4,_tmp$5,_tmp$6,_tmp$7,_tuple,_tuple$1,_tuple$2,dummy,err,err$1,fd,flags,iov,msg,n,oob,p,ptr,salen,sockType,to,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tmp$2=$f._tmp$2;_tmp$3=$f._tmp$3;_tmp$4=$f._tmp$4;_tmp$5=$f._tmp$5;_tmp$6=$f._tmp$6;_tmp$7=$f._tmp$7;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;dummy=$f.dummy;err=$f.err;err$1=$f.err$1;fd=$f.fd;flags=$f.flags;iov=$f.iov;msg=$f.msg;n=$f.n;oob=$f.oob;p=$f.p;ptr=$f.ptr;salen=$f.salen;sockType=$f.sockType;to=$f.to;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:dummy=[dummy];iov=[iov];msg=[msg];n=0;err=$ifaceNil;ptr=0;salen=0;/* */if(!$interfaceIsEqual(to,$ifaceNil)){$s=1;continue;}/* */$s=2;continue;/* if (!($interfaceIsEqual(to, $ifaceNil))) { */case 1:err$1=$ifaceNil;_r=to.sockaddr();/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;ptr=_tuple[0];salen=_tuple[1];err$1=_tuple[2];if(!$interfaceIsEqual(err$1,$ifaceNil)){_tmp=0;_tmp$1=err$1;n=_tmp;err=_tmp$1;$s=-1;return[n,err];}/* } */case 2:msg[0]=new Msghdr.ptr(ptrType$2.nil,0,arrayType$9.zero(),ptrType$20.nil,new $Uint64(0,0),ptrType$2.nil,new $Uint64(0,0),0,arrayType$9.zero());msg[0].Name=ptr;msg[0].Namelen=salen>>>0;iov[0]=new Iovec.ptr(ptrType$2.nil,new $Uint64(0,0));if(p.$length>0){iov[0].Base=$indexPtr(p.$array,p.$offset+0,ptrType$2);iov[0].SetLen(p.$length);}dummy[0]=0;if(oob.$length>0){if(p.$length===0){sockType=0;_tuple$1=GetsockoptInt(fd,1,3);sockType=_tuple$1[0];err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){_tmp$2=0;_tmp$3=err;n=_tmp$2;err=_tmp$3;$s=-1;return[n,err];}if(!(sockType===2)){iov[0].Base=dummy.$ptr||(dummy.$ptr=new ptrType$2(function(){return this.$target[0];},function($v){this.$target[0]=$v;},dummy));iov[0].SetLen(1);}}msg[0].Control=$indexPtr(oob.$array,oob.$offset+0,ptrType$2);msg[0].SetControllen(oob.$length);}msg[0].Iov=iov[0];msg[0].Iovlen=new $Uint64(0,1);_tuple$2=sendmsg(fd,msg[0],flags);n=_tuple$2[0];err=_tuple$2[1];if(!$interfaceIsEqual(err,$ifaceNil)){_tmp$4=0;_tmp$5=err;n=_tmp$4;err=_tmp$5;$s=-1;return[n,err];}if(oob.$length>0&&p.$length===0){n=0;}_tmp$6=n;_tmp$7=$ifaceNil;n=_tmp$6;err=_tmp$7;$s=-1;return[n,err];/* */}return;}if($f===undefined){$f={$blk:SendmsgN};}$f._r=_r;$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tmp$2=_tmp$2;$f._tmp$3=_tmp$3;$f._tmp$4=_tmp$4;$f._tmp$5=_tmp$5;$f._tmp$6=_tmp$6;$f._tmp$7=_tmp$7;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f.dummy=dummy;$f.err=err;$f.err$1=err$1;$f.fd=fd;$f.flags=flags;$f.iov=iov;$f.msg=msg;$f.n=n;$f.oob=oob;$f.p=p;$f.ptr=ptr;$f.salen=salen;$f.sockType=sockType;$f.to=to;$f.$s=$s;$f.$r=$r;return $f;};$pkg.SendmsgN=SendmsgN;ReadDirent=function(fd,buf){var _tuple,buf,err,fd,n;n=0;err=$ifaceNil;_tuple=Getdents(fd,buf);n=_tuple[0];err=_tuple[1];return[n,err];};$pkg.ReadDirent=ReadDirent;direntIno=function(buf){var buf;return readInt(buf,0,8);};direntReclen=function(buf){var buf;return readInt(buf,16,2);};direntNamlen=function(buf){var _tuple,buf,ok,reclen;_tuple=direntReclen(buf);reclen=_tuple[0];ok=_tuple[1];if(!ok){return[new $Uint64(0,0),false];}return[new $Uint64(reclen.$high-0,reclen.$low-19),true];};Lstat=function(path,stat){var err,path,stat;err=$ifaceNil;err=fstatat(-100,path,stat,256);return err;};$pkg.Lstat=Lstat;Iovec.ptr.prototype.SetLen=function(length){var iov,length;iov=this;iov.Len=new $Uint64(0,length);};Iovec.prototype.SetLen=function(length){return this.$val.SetLen(length);};Msghdr.ptr.prototype.SetControllen=function(length){var length,msghdr;msghdr=this;msghdr.Controllen=new $Uint64(0,length);};Msghdr.prototype.SetControllen=function(length){return this.$val.SetControllen(length);};mmapper.ptr.prototype.Mmap=function(fd,offset,length,prot,flags){var _key,_r,_tmp,_tmp$1,_tmp$2,_tmp$3,_tmp$4,_tmp$5,_tuple,addr,b,data,err,errno,fd,flags,length,m,offset,p,prot,sl,$s,$deferred,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_key=$f._key;_r=$f._r;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tmp$2=$f._tmp$2;_tmp$3=$f._tmp$3;_tmp$4=$f._tmp$4;_tmp$5=$f._tmp$5;_tuple=$f._tuple;addr=$f.addr;b=$f.b;data=$f.data;err=$f.err;errno=$f.errno;fd=$f.fd;flags=$f.flags;length=$f.length;m=$f.m;offset=$f.offset;p=$f.p;prot=$f.prot;sl=$f.sl;$s=$f.$s;$deferred=$f.$deferred;$r=$f.$r;}var $err=null;try{s:while(true){switch($s){case 0:$deferred=[];$deferred.index=$curGoroutine.deferStack.length;$curGoroutine.deferStack.push($deferred);sl=[sl];data=sliceType.nil;err=$ifaceNil;m=this;if(length<=0){_tmp=sliceType.nil;_tmp$1=new Errno(22);data=_tmp;err=_tmp$1;$s=-1;return[data,err];}_r=m.mmap(0,length>>>0,prot,flags,fd,offset);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;addr=_tuple[0];errno=_tuple[1];if(!$interfaceIsEqual(errno,$ifaceNil)){_tmp$2=sliceType.nil;_tmp$3=errno;data=_tmp$2;err=_tmp$3;$s=-1;return[data,err];}sl[0]=new structType.ptr(addr,length,length);b=sl[0];p=$indexPtr(b.$array,b.$offset+(b.$capacity-1>>0),ptrType$2);$r=m.Mutex.Lock();/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$deferred.push([$methodVal(m.Mutex,"Unlock"),[]]);_key=p;(m.active||$throwRuntimeError("assignment to entry in nil map"))[ptrType$2.keyFor(_key)]={k:_key,v:b};_tmp$4=b;_tmp$5=$ifaceNil;data=_tmp$4;err=_tmp$5;$s=-1;return[data,err];/* */}return;}}catch(err){$err=err;$s=-1;}finally{$callDeferred($deferred,$err);if(!$curGoroutine.asleep){return[data,err];}if($curGoroutine.asleep){if($f===undefined){$f={$blk:mmapper.ptr.prototype.Mmap};}$f._key=_key;$f._r=_r;$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tmp$2=_tmp$2;$f._tmp$3=_tmp$3;$f._tmp$4=_tmp$4;$f._tmp$5=_tmp$5;$f._tuple=_tuple;$f.addr=addr;$f.b=b;$f.data=data;$f.err=err;$f.errno=errno;$f.fd=fd;$f.flags=flags;$f.length=length;$f.m=m;$f.offset=offset;$f.p=p;$f.prot=prot;$f.sl=sl;$f.$s=$s;$f.$deferred=$deferred;$f.$r=$r;return $f;}}};mmapper.prototype.Mmap=function(fd,offset,length,prot,flags){return this.$val.Mmap(fd,offset,length,prot,flags);};mmapper.ptr.prototype.Munmap=function(data){var _entry,_r,b,data,err,errno,m,p,$s,$deferred,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_r=$f._r;b=$f.b;data=$f.data;err=$f.err;errno=$f.errno;m=$f.m;p=$f.p;$s=$f.$s;$deferred=$f.$deferred;$r=$f.$r;}var $err=null;try{s:while(true){switch($s){case 0:$deferred=[];$deferred.index=$curGoroutine.deferStack.length;$curGoroutine.deferStack.push($deferred);err=$ifaceNil;m=this;if(data.$length===0||!(data.$length===data.$capacity)){err=new Errno(22);$s=-1;return err;}p=$indexPtr(data.$array,data.$offset+(data.$capacity-1>>0),ptrType$2);$r=m.Mutex.Lock();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$deferred.push([$methodVal(m.Mutex,"Unlock"),[]]);b=(_entry=m.active[ptrType$2.keyFor(p)],_entry!==undefined?_entry.v:sliceType.nil);if(b===sliceType.nil||!($indexPtr(b.$array,b.$offset+0,ptrType$2)===$indexPtr(data.$array,data.$offset+0,ptrType$2))){err=new Errno(22);$s=-1;return err;}_r=m.munmap($sliceToArray(b),b.$length>>>0);/* */$s=2;case 2:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}errno=_r;if(!$interfaceIsEqual(errno,$ifaceNil)){err=errno;$s=-1;return err;}delete m.active[ptrType$2.keyFor(p)];err=$ifaceNil;$s=-1;return err;/* */}return;}}catch(err){$err=err;$s=-1;}finally{$callDeferred($deferred,$err);if(!$curGoroutine.asleep){return err;}if($curGoroutine.asleep){if($f===undefined){$f={$blk:mmapper.ptr.prototype.Munmap};}$f._entry=_entry;$f._r=_r;$f.b=b;$f.data=data;$f.err=err;$f.errno=errno;$f.m=m;$f.p=p;$f.$s=$s;$f.$deferred=$deferred;$f.$r=$r;return $f;}}};mmapper.prototype.Munmap=function(data){return this.$val.Munmap(data);};Errno.prototype.Error=function(){var e,s;e=this.$val;if(0<=e>>0&&e>>0<133){s=e<0||e>=errors.length?($throwRuntimeError("index out of range"),undefined):errors[e];if(!(s==="")){return s;}}return"errno "+itoa(e>>0);};$ptrType(Errno).prototype.Error=function(){return new Errno(this.$get()).Error();};Errno.prototype.Temporary=function(){var e;e=this.$val;return e===4||e===24||new Errno(e).Timeout();};$ptrType(Errno).prototype.Temporary=function(){return new Errno(this.$get()).Temporary();};Errno.prototype.Timeout=function(){var e;e=this.$val;return e===11||e===11||e===110;};$ptrType(Errno).prototype.Timeout=function(){return new Errno(this.$get()).Timeout();};errnoErr=function(e){var _1,e;_1=e;if(_1===0){return $ifaceNil;}else if(_1===11){return errEAGAIN;}else if(_1===22){return errEINVAL;}else if(_1===2){return errENOENT;}return new Errno(e);};Read=function(fd,p){var _tuple,err,fd,n,p;n=0;err=$ifaceNil;_tuple=read(fd,p);n=_tuple[0];err=_tuple[1];if(false){if(n>0){race.WriteRange($sliceToArray(p),n);}if($interfaceIsEqual(err,$ifaceNil)){race.Acquire(ioSync$24ptr||(ioSync$24ptr=new ptrType$23(function(){return ioSync;},function($v){ioSync=$v;})));}}if(false&&n>0){msanWrite($sliceToArray(p),n);}return[n,err];};$pkg.Read=Read;Write=function(fd,p){var _tuple,err,fd,n,p;n=0;err=$ifaceNil;if(false){race.ReleaseMerge(ioSync$24ptr||(ioSync$24ptr=new ptrType$23(function(){return ioSync;},function($v){ioSync=$v;})));}_tuple=write(fd,p);n=_tuple[0];err=_tuple[1];if(false&&n>0){race.ReadRange($sliceToArray(p),n);}if(false&&n>0){msanRead($sliceToArray(p),n);}return[n,err];};$pkg.Write=Write;GetsockoptInt=function(fd,level,opt){var _tmp,_tmp$1,err,fd,level,n,n$24ptr,opt,vallen,vallen$24ptr,value;value=0;err=$ifaceNil;n=0;vallen=4;err=getsockopt(fd,level,opt,n$24ptr||(n$24ptr=new ptrType$4(function(){return n;},function($v){n=$v;})),vallen$24ptr||(vallen$24ptr=new ptrType$19(function(){return vallen;},function($v){vallen=$v;})));_tmp=n>>0;_tmp$1=err;value=_tmp;err=_tmp$1;return[value,err];};$pkg.GetsockoptInt=GetsockoptInt;Recvfrom=function(fd,p,flags){var _tuple,_tuple$1,err,fd,flags,from,len,len$24ptr,n,p,rsa;n=0;from=$ifaceNil;err=$ifaceNil;rsa=new RawSockaddrAny.ptr(new RawSockaddr.ptr(0,arrayType$10.zero()),arrayType$11.zero());len=112;_tuple=recvfrom(fd,p,flags,rsa,len$24ptr||(len$24ptr=new ptrType$19(function(){return len;},function($v){len=$v;})));n=_tuple[0];err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){return[n,from,err];}if(!(rsa.Addr.Family===0)){_tuple$1=anyToSockaddr(rsa);from=_tuple$1[0];err=_tuple$1[1];}return[n,from,err];};$pkg.Recvfrom=Recvfrom;Sendto=function(fd,p,flags,to){var _r,_tuple,err,fd,flags,n,p,ptr,to,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tuple=$f._tuple;err=$f.err;fd=$f.fd;flags=$f.flags;n=$f.n;p=$f.p;ptr=$f.ptr;to=$f.to;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:err=$ifaceNil;_r=to.sockaddr();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;ptr=_tuple[0];n=_tuple[1];err=_tuple[2];if(!$interfaceIsEqual(err,$ifaceNil)){err=err;$s=-1;return err;}err=sendto(fd,p,flags,ptr,n);$s=-1;return err;/* */}return;}if($f===undefined){$f={$blk:Sendto};}$f._r=_r;$f._tuple=_tuple;$f.err=err;$f.fd=fd;$f.flags=flags;$f.n=n;$f.p=p;$f.ptr=ptr;$f.to=to;$f.$s=$s;$f.$r=$r;return $f;};$pkg.Sendto=Sendto;SetsockoptByte=function(fd,level,opt,value){var err,fd,level,opt,value,value$24ptr;err=$ifaceNil;err=setsockopt(fd,level,opt,value$24ptr||(value$24ptr=new ptrType$2(function(){return value;},function($v){value=$v;})),1);return err;};$pkg.SetsockoptByte=SetsockoptByte;SetsockoptInt=function(fd,level,opt,value){var err,fd,level,n,n$24ptr,opt,value;err=$ifaceNil;n=value>>0;err=setsockopt(fd,level,opt,n$24ptr||(n$24ptr=new ptrType$4(function(){return n;},function($v){n=$v;})),4);return err;};$pkg.SetsockoptInt=SetsockoptInt;SetsockoptInet4Addr=function(fd,level,opt,value){var err,fd,level,opt,value;err=$ifaceNil;err=setsockopt(fd,level,opt,$sliceToArray(new sliceType(value)),4);return err;};$pkg.SetsockoptInet4Addr=SetsockoptInet4Addr;SetsockoptIPMreq=function(fd,level,opt,mreq){var _array,_struct,_view,err,fd,level,mreq,opt;err=$ifaceNil;_array=new Uint8Array(8);err=setsockopt(fd,level,opt,_array,8);_struct=mreq,_view=new DataView(_array.buffer,_array.byteOffset),_struct.Multiaddr=new($nativeArray($kindUint8))(_array.buffer,$min(_array.byteOffset+0,_array.buffer.byteLength)),_struct.Interface=new($nativeArray($kindUint8))(_array.buffer,$min(_array.byteOffset+4,_array.buffer.byteLength));return err;};$pkg.SetsockoptIPMreq=SetsockoptIPMreq;SetsockoptIPv6Mreq=function(fd,level,opt,mreq){var _array,_struct,_view,err,fd,level,mreq,opt;err=$ifaceNil;_array=new Uint8Array(20);err=setsockopt(fd,level,opt,_array,20);_struct=mreq,_view=new DataView(_array.buffer,_array.byteOffset),_struct.Multiaddr=new($nativeArray($kindUint8))(_array.buffer,$min(_array.byteOffset+0,_array.buffer.byteLength)),_struct.Interface=_view.getUint32(16,true);return err;};$pkg.SetsockoptIPv6Mreq=SetsockoptIPv6Mreq;SetsockoptLinger=function(fd,level,opt,l){var _array,_struct,_view,err,fd,l,level,opt;err=$ifaceNil;_array=new Uint8Array(8);err=setsockopt(fd,level,opt,_array,8);_struct=l,_view=new DataView(_array.buffer,_array.byteOffset),_struct.Onoff=_view.getInt32(0,true),_struct.Linger=_view.getInt32(4,true);return err;};$pkg.SetsockoptLinger=SetsockoptLinger;Close=function(fd){var _tuple,e1,err,fd;err=$ifaceNil;_tuple=Syscall(3,fd>>>0,0,0);e1=_tuple[2];if(!(e1===0)){err=errnoErr(e1);}return err;};$pkg.Close=Close;Dup=function(oldfd){var _tuple,e1,err,fd,oldfd,r0;fd=0;err=$ifaceNil;_tuple=Syscall(32,oldfd>>>0,0,0);r0=_tuple[0];e1=_tuple[2];fd=r0>>0;if(!(e1===0)){err=errnoErr(e1);}return[fd,err];};$pkg.Dup=Dup;Fchdir=function(fd){var _tuple,e1,err,fd;err=$ifaceNil;_tuple=Syscall(81,fd>>>0,0,0);e1=_tuple[2];if(!(e1===0)){err=errnoErr(e1);}return err;};$pkg.Fchdir=Fchdir;Fchmod=function(fd,mode){var _tuple,e1,err,fd,mode;err=$ifaceNil;_tuple=Syscall(91,fd>>>0,mode>>>0,0);e1=_tuple[2];if(!(e1===0)){err=errnoErr(e1);}return err;};$pkg.Fchmod=Fchmod;fcntl=function(fd,cmd,arg){var _tuple,arg,cmd,e1,err,fd,r0,val;val=0;err=$ifaceNil;_tuple=Syscall(72,fd>>>0,cmd>>>0,arg>>>0);r0=_tuple[0];e1=_tuple[2];val=r0>>0;if(!(e1===0)){err=errnoErr(e1);}return[val,err];};Fsync=function(fd){var _tuple,e1,err,fd;err=$ifaceNil;_tuple=Syscall(74,fd>>>0,0,0);e1=_tuple[2];if(!(e1===0)){err=errnoErr(e1);}return err;};$pkg.Fsync=Fsync;Getdents=function(fd,buf){var _p0,_tuple,buf,e1,err,fd,n,r0;n=0;err=$ifaceNil;_p0=0;if(buf.$length>0){_p0=$sliceToArray(buf);}else{_p0=new Uint8Array(0);}_tuple=Syscall(217,fd>>>0,_p0,buf.$length>>>0);r0=_tuple[0];e1=_tuple[2];n=r0>>0;if(!(e1===0)){err=errnoErr(e1);}return[n,err];};$pkg.Getdents=Getdents;read=function(fd,p){var _p0,_tuple,e1,err,fd,n,p,r0;n=0;err=$ifaceNil;_p0=0;if(p.$length>0){_p0=$sliceToArray(p);}else{_p0=new Uint8Array(0);}_tuple=Syscall(0,fd>>>0,_p0,p.$length>>>0);r0=_tuple[0];e1=_tuple[2];n=r0>>0;if(!(e1===0)){err=errnoErr(e1);}return[n,err];};write=function(fd,p){var _p0,_tuple,e1,err,fd,n,p,r0;n=0;err=$ifaceNil;_p0=0;if(p.$length>0){_p0=$sliceToArray(p);}else{_p0=new Uint8Array(0);}_tuple=Syscall(1,fd>>>0,_p0,p.$length>>>0);r0=_tuple[0];e1=_tuple[2];n=r0>>0;if(!(e1===0)){err=errnoErr(e1);}return[n,err];};munmap=function(addr,length){var _tuple,addr,e1,err,length;err=$ifaceNil;_tuple=Syscall(11,addr,length,0);e1=_tuple[2];if(!(e1===0)){err=errnoErr(e1);}return err;};Fchown=function(fd,uid,gid){var _tuple,e1,err,fd,gid,uid;err=$ifaceNil;_tuple=Syscall(93,fd>>>0,uid>>>0,gid>>>0);e1=_tuple[2];if(!(e1===0)){err=errnoErr(e1);}return err;};$pkg.Fchown=Fchown;Fstat=function(fd,stat){var _array,_struct,_tuple,_view,e1,err,fd,stat;err=$ifaceNil;_array=new Uint8Array(144);_tuple=Syscall(5,fd>>>0,_array,0);_struct=stat,_view=new DataView(_array.buffer,_array.byteOffset),_struct.Dev=new $Uint64(_view.getUint32(4,true),_view.getUint32(0,true)),_struct.Ino=new $Uint64(_view.getUint32(12,true),_view.getUint32(8,true)),_struct.Nlink=new $Uint64(_view.getUint32(20,true),_view.getUint32(16,true)),_struct.Mode=_view.getUint32(24,true),_struct.Uid=_view.getUint32(28,true),_struct.Gid=_view.getUint32(32,true),_struct.X__pad0=_view.getInt32(36,true),_struct.Rdev=new $Uint64(_view.getUint32(44,true),_view.getUint32(40,true)),_struct.Size=new $Int64(_view.getUint32(52,true),_view.getUint32(48,true)),_struct.Blksize=new $Int64(_view.getUint32(60,true),_view.getUint32(56,true)),_struct.Blocks=new $Int64(_view.getUint32(68,true),_view.getUint32(64,true)),_struct.Atim.Sec=new $Int64(_view.getUint32(76,true),_view.getUint32(72,true)),_struct.Atim.Nsec=new $Int64(_view.getUint32(84,true),_view.getUint32(80,true)),_struct.Mtim.Sec=new $Int64(_view.getUint32(92,true),_view.getUint32(88,true)),_struct.Mtim.Nsec=new $Int64(_view.getUint32(100,true),_view.getUint32(96,true)),_struct.Ctim.Sec=new $Int64(_view.getUint32(108,true),_view.getUint32(104,true)),_struct.Ctim.Nsec=new $Int64(_view.getUint32(116,true),_view.getUint32(112,true)),_struct.X__unused=new($nativeArray($kindInt64))(_array.buffer,$min(_array.byteOffset+120,_array.buffer.byteLength));e1=_tuple[2];if(!(e1===0)){err=errnoErr(e1);}return err;};$pkg.Fstat=Fstat;Ftruncate=function(fd,length){var _tuple,e1,err,fd,length;err=$ifaceNil;_tuple=Syscall(77,fd>>>0,length.$low>>>0,0);e1=_tuple[2];if(!(e1===0)){err=errnoErr(e1);}return err;};$pkg.Ftruncate=Ftruncate;Pread=function(fd,p,offset){var _p0,_tuple,e1,err,fd,n,offset,p,r0;n=0;err=$ifaceNil;_p0=0;if(p.$length>0){_p0=$sliceToArray(p);}else{_p0=new Uint8Array(0);}_tuple=Syscall6(17,fd>>>0,_p0,p.$length>>>0,offset.$low>>>0,0,0);r0=_tuple[0];e1=_tuple[2];n=r0>>0;if(!(e1===0)){err=errnoErr(e1);}return[n,err];};$pkg.Pread=Pread;Pwrite=function(fd,p,offset){var _p0,_tuple,e1,err,fd,n,offset,p,r0;n=0;err=$ifaceNil;_p0=0;if(p.$length>0){_p0=$sliceToArray(p);}else{_p0=new Uint8Array(0);}_tuple=Syscall6(18,fd>>>0,_p0,p.$length>>>0,offset.$low>>>0,0,0);r0=_tuple[0];e1=_tuple[2];n=r0>>0;if(!(e1===0)){err=errnoErr(e1);}return[n,err];};$pkg.Pwrite=Pwrite;Seek=function(fd,offset,whence){var _tuple,e1,err,fd,off,offset,r0,whence;off=new $Int64(0,0);err=$ifaceNil;_tuple=Syscall(8,fd>>>0,offset.$low>>>0,whence>>>0);r0=_tuple[0];e1=_tuple[2];off=new $Int64(0,r0.constructor===Number?r0:1);if(!(e1===0)){err=errnoErr(e1);}return[off,err];};$pkg.Seek=Seek;Shutdown=function(fd,how){var _tuple,e1,err,fd,how;err=$ifaceNil;_tuple=Syscall(48,fd>>>0,how>>>0,0);e1=_tuple[2];if(!(e1===0)){err=errnoErr(e1);}return err;};$pkg.Shutdown=Shutdown;accept=function(s,rsa,addrlen){var _array,_struct,_tuple,_view,addrlen,e1,err,fd,r0,rsa,s;fd=0;err=$ifaceNil;_array=new Uint8Array(112);_tuple=Syscall(43,s>>>0,_array,addrlen);_struct=rsa,_view=new DataView(_array.buffer,_array.byteOffset),_struct.Addr.Family=_view.getUint16(0,true),_struct.Addr.Data=new($nativeArray($kindInt8))(_array.buffer,$min(_array.byteOffset+2,_array.buffer.byteLength)),_struct.Pad=new($nativeArray($kindInt8))(_array.buffer,$min(_array.byteOffset+16,_array.buffer.byteLength));r0=_tuple[0];e1=_tuple[2];fd=r0>>0;if(!(e1===0)){err=errnoErr(e1);}return[fd,err];};accept4=function(s,rsa,addrlen,flags){var _array,_struct,_tuple,_view,addrlen,e1,err,fd,flags,r0,rsa,s;fd=0;err=$ifaceNil;_array=new Uint8Array(112);_tuple=Syscall6(288,s>>>0,_array,addrlen,flags>>>0,0,0);_struct=rsa,_view=new DataView(_array.buffer,_array.byteOffset),_struct.Addr.Family=_view.getUint16(0,true),_struct.Addr.Data=new($nativeArray($kindInt8))(_array.buffer,$min(_array.byteOffset+2,_array.buffer.byteLength)),_struct.Pad=new($nativeArray($kindInt8))(_array.buffer,$min(_array.byteOffset+16,_array.buffer.byteLength));r0=_tuple[0];e1=_tuple[2];fd=r0>>0;if(!(e1===0)){err=errnoErr(e1);}return[fd,err];};fstatat=function(fd,path,stat,flags){var _array,_p0,_struct,_tuple,_tuple$1,_view,e1,err,fd,flags,path,stat;err=$ifaceNil;_p0=ptrType$2.nil;_tuple=BytePtrFromString(path);_p0=_tuple[0];err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){return err;}_array=new Uint8Array(144);_tuple$1=Syscall6(262,fd>>>0,_p0,_array,flags>>>0,0,0);_struct=stat,_view=new DataView(_array.buffer,_array.byteOffset),_struct.Dev=new $Uint64(_view.getUint32(4,true),_view.getUint32(0,true)),_struct.Ino=new $Uint64(_view.getUint32(12,true),_view.getUint32(8,true)),_struct.Nlink=new $Uint64(_view.getUint32(20,true),_view.getUint32(16,true)),_struct.Mode=_view.getUint32(24,true),_struct.Uid=_view.getUint32(28,true),_struct.Gid=_view.getUint32(32,true),_struct.X__pad0=_view.getInt32(36,true),_struct.Rdev=new $Uint64(_view.getUint32(44,true),_view.getUint32(40,true)),_struct.Size=new $Int64(_view.getUint32(52,true),_view.getUint32(48,true)),_struct.Blksize=new $Int64(_view.getUint32(60,true),_view.getUint32(56,true)),_struct.Blocks=new $Int64(_view.getUint32(68,true),_view.getUint32(64,true)),_struct.Atim.Sec=new $Int64(_view.getUint32(76,true),_view.getUint32(72,true)),_struct.Atim.Nsec=new $Int64(_view.getUint32(84,true),_view.getUint32(80,true)),_struct.Mtim.Sec=new $Int64(_view.getUint32(92,true),_view.getUint32(88,true)),_struct.Mtim.Nsec=new $Int64(_view.getUint32(100,true),_view.getUint32(96,true)),_struct.Ctim.Sec=new $Int64(_view.getUint32(108,true),_view.getUint32(104,true)),_struct.Ctim.Nsec=new $Int64(_view.getUint32(116,true),_view.getUint32(112,true)),_struct.X__unused=new($nativeArray($kindInt64))(_array.buffer,$min(_array.byteOffset+120,_array.buffer.byteLength));e1=_tuple$1[2];if(!(e1===0)){err=errnoErr(e1);}return err;};getsockopt=function(s,level,name,val,vallen){var _tuple,e1,err,level,name,s,val,vallen;err=$ifaceNil;_tuple=Syscall6(55,s>>>0,level>>>0,name>>>0,val,vallen,0);e1=_tuple[2];if(!(e1===0)){err=errnoErr(e1);}return err;};setsockopt=function(s,level,name,val,vallen){var _tuple,e1,err,level,name,s,val,vallen;err=$ifaceNil;_tuple=Syscall6(54,s>>>0,level>>>0,name>>>0,val,vallen,0);e1=_tuple[2];if(!(e1===0)){err=errnoErr(e1);}return err;};recvfrom=function(fd,p,flags,from,fromlen){var _array,_p0,_struct,_tuple,_view,e1,err,fd,flags,from,fromlen,n,p,r0;n=0;err=$ifaceNil;_p0=0;if(p.$length>0){_p0=$sliceToArray(p);}else{_p0=new Uint8Array(0);}_array=new Uint8Array(112);_tuple=Syscall6(45,fd>>>0,_p0,p.$length>>>0,flags>>>0,_array,fromlen);_struct=from,_view=new DataView(_array.buffer,_array.byteOffset),_struct.Addr.Family=_view.getUint16(0,true),_struct.Addr.Data=new($nativeArray($kindInt8))(_array.buffer,$min(_array.byteOffset+2,_array.buffer.byteLength)),_struct.Pad=new($nativeArray($kindInt8))(_array.buffer,$min(_array.byteOffset+16,_array.buffer.byteLength));r0=_tuple[0];e1=_tuple[2];n=r0>>0;if(!(e1===0)){err=errnoErr(e1);}return[n,err];};sendto=function(s,buf,flags,to,addrlen){var _p0,_tuple,addrlen,buf,e1,err,flags,s,to;err=$ifaceNil;_p0=0;if(buf.$length>0){_p0=$sliceToArray(buf);}else{_p0=new Uint8Array(0);}_tuple=Syscall6(44,s>>>0,_p0,buf.$length>>>0,flags>>>0,to,addrlen>>>0);e1=_tuple[2];if(!(e1===0)){err=errnoErr(e1);}return err;};recvmsg=function(s,msg,flags){var _array,_struct,_tuple,_view,e1,err,flags,msg,n,r0,s;n=0;err=$ifaceNil;_array=new Uint8Array(48);_tuple=Syscall(47,s>>>0,_array,flags>>>0);_struct=msg,_view=new DataView(_array.buffer,_array.byteOffset),_struct.Namelen=_view.getUint32(4,true),_struct.Pad_cgo_0=new($nativeArray($kindUint8))(_array.buffer,$min(_array.byteOffset+8,_array.buffer.byteLength)),_struct.Iovlen=new $Uint64(_view.getUint32(20,true),_view.getUint32(16,true)),_struct.Controllen=new $Uint64(_view.getUint32(36,true),_view.getUint32(32,true)),_struct.Flags=_view.getInt32(40,true),_struct.Pad_cgo_1=new($nativeArray($kindUint8))(_array.buffer,$min(_array.byteOffset+44,_array.buffer.byteLength));r0=_tuple[0];e1=_tuple[2];n=r0>>0;if(!(e1===0)){err=errnoErr(e1);}return[n,err];};sendmsg=function(s,msg,flags){var _array,_struct,_tuple,_view,e1,err,flags,msg,n,r0,s;n=0;err=$ifaceNil;_array=new Uint8Array(48);_tuple=Syscall(46,s>>>0,_array,flags>>>0);_struct=msg,_view=new DataView(_array.buffer,_array.byteOffset),_struct.Namelen=_view.getUint32(4,true),_struct.Pad_cgo_0=new($nativeArray($kindUint8))(_array.buffer,$min(_array.byteOffset+8,_array.buffer.byteLength)),_struct.Iovlen=new $Uint64(_view.getUint32(20,true),_view.getUint32(16,true)),_struct.Controllen=new $Uint64(_view.getUint32(36,true),_view.getUint32(32,true)),_struct.Flags=_view.getInt32(40,true),_struct.Pad_cgo_1=new($nativeArray($kindUint8))(_array.buffer,$min(_array.byteOffset+44,_array.buffer.byteLength));r0=_tuple[0];e1=_tuple[2];n=r0>>0;if(!(e1===0)){err=errnoErr(e1);}return[n,err];};mmap=function(addr,length,prot,flags,fd,offset){var _tuple,addr,e1,err,fd,flags,length,offset,prot,r0,xaddr;xaddr=0;err=$ifaceNil;_tuple=Syscall6(9,addr,length,prot>>>0,flags>>>0,fd>>>0,offset.$low>>>0);r0=_tuple[0];e1=_tuple[2];xaddr=r0;if(!(e1===0)){err=errnoErr(e1);}return[xaddr,err];};ptrType$25.methods=[{prop:"sockaddr",name:"sockaddr",pkg:"syscall",typ:$funcType([],[$UnsafePointer,_Socklen,$error],false)}];ptrType$12.methods=[{prop:"sockaddr",name:"sockaddr",pkg:"syscall",typ:$funcType([],[$UnsafePointer,_Socklen,$error],false)}];ptrType$26.methods=[{prop:"Mmap",name:"Mmap",pkg:"",typ:$funcType([$Int,$Int64,$Int,$Int,$Int],[sliceType,$error],false)},{prop:"Munmap",name:"Munmap",pkg:"",typ:$funcType([sliceType],[$error],false)}];Errno.methods=[{prop:"Error",name:"Error",pkg:"",typ:$funcType([],[$String],false)},{prop:"Temporary",name:"Temporary",pkg:"",typ:$funcType([],[$Bool],false)},{prop:"Timeout",name:"Timeout",pkg:"",typ:$funcType([],[$Bool],false)}];ptrType$27.methods=[{prop:"sockaddr",name:"sockaddr",pkg:"syscall",typ:$funcType([],[$UnsafePointer,_Socklen,$error],false)}];ptrType$28.methods=[{prop:"sockaddr",name:"sockaddr",pkg:"syscall",typ:$funcType([],[$UnsafePointer,_Socklen,$error],false)}];ptrType$29.methods=[{prop:"sockaddr",name:"sockaddr",pkg:"syscall",typ:$funcType([],[$UnsafePointer,_Socklen,$error],false)}];ptrType$30.methods=[{prop:"Unix",name:"Unix",pkg:"",typ:$funcType([],[$Int64,$Int64],false)},{prop:"Nano",name:"Nano",pkg:"",typ:$funcType([],[$Int64],false)}];ptrType$20.methods=[{prop:"SetLen",name:"SetLen",pkg:"",typ:$funcType([$Int],[],false)}];ptrType$32.methods=[{prop:"SetControllen",name:"SetControllen",pkg:"",typ:$funcType([$Int],[],false)}];RawConn.init([{prop:"Control",name:"Control",pkg:"",typ:$funcType([funcType],[$error],false)},{prop:"Read",name:"Read",pkg:"",typ:$funcType([funcType$1],[$error],false)},{prop:"Write",name:"Write",pkg:"",typ:$funcType([funcType$1],[$error],false)}]);SockaddrLinklayer.init("syscall",[{prop:"Protocol",name:"Protocol",embedded:false,exported:true,typ:$Uint16,tag:""},{prop:"Ifindex",name:"Ifindex",embedded:false,exported:true,typ:$Int,tag:""},{prop:"Hatype",name:"Hatype",embedded:false,exported:true,typ:$Uint16,tag:""},{prop:"Pkttype",name:"Pkttype",embedded:false,exported:true,typ:$Uint8,tag:""},{prop:"Halen",name:"Halen",embedded:false,exported:true,typ:$Uint8,tag:""},{prop:"Addr",name:"Addr",embedded:false,exported:true,typ:arrayType$1,tag:""},{prop:"raw",name:"raw",embedded:false,exported:false,typ:RawSockaddrLinklayer,tag:""}]);SockaddrNetlink.init("syscall",[{prop:"Family",name:"Family",embedded:false,exported:true,typ:$Uint16,tag:""},{prop:"Pad",name:"Pad",embedded:false,exported:true,typ:$Uint16,tag:""},{prop:"Pid",name:"Pid",embedded:false,exported:true,typ:$Uint32,tag:""},{prop:"Groups",name:"Groups",embedded:false,exported:true,typ:$Uint32,tag:""},{prop:"raw",name:"raw",embedded:false,exported:false,typ:RawSockaddrNetlink,tag:""}]);mmapper.init("syscall",[{prop:"Mutex",name:"Mutex",embedded:true,exported:true,typ:sync.Mutex,tag:""},{prop:"active",name:"active",embedded:false,exported:false,typ:mapType,tag:""},{prop:"mmap",name:"mmap",embedded:false,exported:false,typ:funcType$2,tag:""},{prop:"munmap",name:"munmap",embedded:false,exported:false,typ:funcType$3,tag:""}]);Sockaddr.init([{prop:"sockaddr",name:"sockaddr",pkg:"syscall",typ:$funcType([],[$UnsafePointer,_Socklen,$error],false)}]);SockaddrInet4.init("syscall",[{prop:"Port",name:"Port",embedded:false,exported:true,typ:$Int,tag:""},{prop:"Addr",name:"Addr",embedded:false,exported:true,typ:arrayType$9,tag:""},{prop:"raw",name:"raw",embedded:false,exported:false,typ:RawSockaddrInet4,tag:""}]);SockaddrInet6.init("syscall",[{prop:"Port",name:"Port",embedded:false,exported:true,typ:$Int,tag:""},{prop:"ZoneId",name:"ZoneId",embedded:false,exported:true,typ:$Uint32,tag:""},{prop:"Addr",name:"Addr",embedded:false,exported:true,typ:arrayType$2,tag:""},{prop:"raw",name:"raw",embedded:false,exported:false,typ:RawSockaddrInet6,tag:""}]);SockaddrUnix.init("syscall",[{prop:"Name",name:"Name",embedded:false,exported:true,typ:$String,tag:""},{prop:"raw",name:"raw",embedded:false,exported:false,typ:RawSockaddrUnix,tag:""}]);Timespec.init("",[{prop:"Sec",name:"Sec",embedded:false,exported:true,typ:$Int64,tag:""},{prop:"Nsec",name:"Nsec",embedded:false,exported:true,typ:$Int64,tag:""}]);Stat_t.init("",[{prop:"Dev",name:"Dev",embedded:false,exported:true,typ:$Uint64,tag:""},{prop:"Ino",name:"Ino",embedded:false,exported:true,typ:$Uint64,tag:""},{prop:"Nlink",name:"Nlink",embedded:false,exported:true,typ:$Uint64,tag:""},{prop:"Mode",name:"Mode",embedded:false,exported:true,typ:$Uint32,tag:""},{prop:"Uid",name:"Uid",embedded:false,exported:true,typ:$Uint32,tag:""},{prop:"Gid",name:"Gid",embedded:false,exported:true,typ:$Uint32,tag:""},{prop:"X__pad0",name:"X__pad0",embedded:false,exported:true,typ:$Int32,tag:""},{prop:"Rdev",name:"Rdev",embedded:false,exported:true,typ:$Uint64,tag:""},{prop:"Size",name:"Size",embedded:false,exported:true,typ:$Int64,tag:""},{prop:"Blksize",name:"Blksize",embedded:false,exported:true,typ:$Int64,tag:""},{prop:"Blocks",name:"Blocks",embedded:false,exported:true,typ:$Int64,tag:""},{prop:"Atim",name:"Atim",embedded:false,exported:true,typ:Timespec,tag:""},{prop:"Mtim",name:"Mtim",embedded:false,exported:true,typ:Timespec,tag:""},{prop:"Ctim",name:"Ctim",embedded:false,exported:true,typ:Timespec,tag:""},{prop:"X__unused",name:"X__unused",embedded:false,exported:true,typ:arrayType$5,tag:""}]);RawSockaddrInet4.init("",[{prop:"Family",name:"Family",embedded:false,exported:true,typ:$Uint16,tag:""},{prop:"Port",name:"Port",embedded:false,exported:true,typ:$Uint16,tag:""},{prop:"Addr",name:"Addr",embedded:false,exported:true,typ:arrayType$9,tag:""},{prop:"Zero",name:"Zero",embedded:false,exported:true,typ:arrayType$1,tag:""}]);RawSockaddrInet6.init("",[{prop:"Family",name:"Family",embedded:false,exported:true,typ:$Uint16,tag:""},{prop:"Port",name:"Port",embedded:false,exported:true,typ:$Uint16,tag:""},{prop:"Flowinfo",name:"Flowinfo",embedded:false,exported:true,typ:$Uint32,tag:""},{prop:"Addr",name:"Addr",embedded:false,exported:true,typ:arrayType$2,tag:""},{prop:"Scope_id",name:"Scope_id",embedded:false,exported:true,typ:$Uint32,tag:""}]);RawSockaddrUnix.init("",[{prop:"Family",name:"Family",embedded:false,exported:true,typ:$Uint16,tag:""},{prop:"Path",name:"Path",embedded:false,exported:true,typ:arrayType$8,tag:""}]);RawSockaddrLinklayer.init("",[{prop:"Family",name:"Family",embedded:false,exported:true,typ:$Uint16,tag:""},{prop:"Protocol",name:"Protocol",embedded:false,exported:true,typ:$Uint16,tag:""},{prop:"Ifindex",name:"Ifindex",embedded:false,exported:true,typ:$Int32,tag:""},{prop:"Hatype",name:"Hatype",embedded:false,exported:true,typ:$Uint16,tag:""},{prop:"Pkttype",name:"Pkttype",embedded:false,exported:true,typ:$Uint8,tag:""},{prop:"Halen",name:"Halen",embedded:false,exported:true,typ:$Uint8,tag:""},{prop:"Addr",name:"Addr",embedded:false,exported:true,typ:arrayType$1,tag:""}]);RawSockaddrNetlink.init("",[{prop:"Family",name:"Family",embedded:false,exported:true,typ:$Uint16,tag:""},{prop:"Pad",name:"Pad",embedded:false,exported:true,typ:$Uint16,tag:""},{prop:"Pid",name:"Pid",embedded:false,exported:true,typ:$Uint32,tag:""},{prop:"Groups",name:"Groups",embedded:false,exported:true,typ:$Uint32,tag:""}]);RawSockaddr.init("",[{prop:"Family",name:"Family",embedded:false,exported:true,typ:$Uint16,tag:""},{prop:"Data",name:"Data",embedded:false,exported:true,typ:arrayType$10,tag:""}]);RawSockaddrAny.init("",[{prop:"Addr",name:"Addr",embedded:false,exported:true,typ:RawSockaddr,tag:""},{prop:"Pad",name:"Pad",embedded:false,exported:true,typ:arrayType$11,tag:""}]);Linger.init("",[{prop:"Onoff",name:"Onoff",embedded:false,exported:true,typ:$Int32,tag:""},{prop:"Linger",name:"Linger",embedded:false,exported:true,typ:$Int32,tag:""}]);Iovec.init("",[{prop:"Base",name:"Base",embedded:false,exported:true,typ:ptrType$2,tag:""},{prop:"Len",name:"Len",embedded:false,exported:true,typ:$Uint64,tag:""}]);IPMreq.init("",[{prop:"Multiaddr",name:"Multiaddr",embedded:false,exported:true,typ:arrayType$9,tag:""},{prop:"Interface",name:"Interface",embedded:false,exported:true,typ:arrayType$9,tag:""}]);IPMreqn.init("",[{prop:"Multiaddr",name:"Multiaddr",embedded:false,exported:true,typ:arrayType$9,tag:""},{prop:"Address",name:"Address",embedded:false,exported:true,typ:arrayType$9,tag:""},{prop:"Ifindex",name:"Ifindex",embedded:false,exported:true,typ:$Int32,tag:""}]);IPv6Mreq.init("",[{prop:"Multiaddr",name:"Multiaddr",embedded:false,exported:true,typ:arrayType$2,tag:""},{prop:"Interface",name:"Interface",embedded:false,exported:true,typ:$Uint32,tag:""}]);Msghdr.init("",[{prop:"Name",name:"Name",embedded:false,exported:true,typ:ptrType$2,tag:""},{prop:"Namelen",name:"Namelen",embedded:false,exported:true,typ:$Uint32,tag:""},{prop:"Pad_cgo_0",name:"Pad_cgo_0",embedded:false,exported:true,typ:arrayType$9,tag:""},{prop:"Iov",name:"Iov",embedded:false,exported:true,typ:ptrType$20,tag:""},{prop:"Iovlen",name:"Iovlen",embedded:false,exported:true,typ:$Uint64,tag:""},{prop:"Control",name:"Control",embedded:false,exported:true,typ:ptrType$2,tag:""},{prop:"Controllen",name:"Controllen",embedded:false,exported:true,typ:$Uint64,tag:""},{prop:"Flags",name:"Flags",embedded:false,exported:true,typ:$Int32,tag:""},{prop:"Pad_cgo_1",name:"Pad_cgo_1",embedded:false,exported:true,typ:arrayType$9,tag:""}]);$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=js.$init();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=race.$init();/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=runtime.$init();/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=sync.$init();/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}lineBuffer=sliceType.nil;syscallModule=null;$pkg.ForkLock=new sync.RWMutex.ptr(new sync.Mutex.ptr(0,0),0,0,0,0);ioSync=new $Int64(0,0);warningPrinted=false;alreadyTriedToLoad=false;minusOne=-1;envs=runtime_envs();$pkg.Stdin=0;$pkg.Stdout=1;$pkg.Stderr=2;errEAGAIN=new Errno(11);errEINVAL=new Errno(22);errENOENT=new Errno(2);errors=$toNativeArray($kindString,["","operation not permitted","no such file or directory","no such process","interrupted system call","input/output error","no such device or address","argument list too long","exec format error","bad file descriptor","no child processes","resource temporarily unavailable","cannot allocate memory","permission denied","bad address","block device required","device or resource busy","file exists","invalid cross-device link","no such device","not a directory","is a directory","invalid argument","too many open files in system","too many open files","inappropriate ioctl for device","text file busy","file too large","no space left on device","illegal seek","read-only file system","too many links","broken pipe","numerical argument out of domain","numerical result out of range","resource deadlock avoided","file name too long","no locks available","function not implemented","directory not empty","too many levels of symbolic links","","no message of desired type","identifier removed","channel number out of range","level 2 not synchronized","level 3 halted","level 3 reset","link number out of range","protocol driver not attached","no CSI structure available","level 2 halted","invalid exchange","invalid request descriptor","exchange full","no anode","invalid request code","invalid slot","","bad font file format","device not a stream","no data available","timer expired","out of streams resources","machine is not on the network","package not installed","object is remote","link has been severed","advertise error","srmount error","communication error on send","protocol error","multihop attempted","RFS specific error","bad message","value too large for defined data type","name not unique on network","file descriptor in bad state","remote address changed","can not access a needed shared library","accessing a corrupted shared library",".lib section in a.out corrupted","attempting to link in too many shared libraries","cannot exec a shared library directly","invalid or incomplete multibyte or wide character","interrupted system call should be restarted","streams pipe error","too many users","socket operation on non-socket","destination address required","message too long","protocol wrong type for socket","protocol not available","protocol not supported","socket type not supported","operation not supported","protocol family not supported","address family not supported by protocol","address already in use","cannot assign requested address","network is down","network is unreachable","network dropped connection on reset","software caused connection abort","connection reset by peer","no buffer space available","transport endpoint is already connected","transport endpoint is not connected","cannot send after transport endpoint shutdown","too many references: cannot splice","connection timed out","connection refused","host is down","no route to host","operation already in progress","operation now in progress","stale NFS file handle","structure needs cleaning","not a XENIX named type file","no XENIX semaphores available","is a named type file","remote I/O error","disk quota exceeded","no medium found","wrong medium type","operation canceled","required key not available","key has expired","key has been revoked","key was rejected by service","owner died","state not recoverable","operation not possible due to RF-kill"]);mapper=new mmapper.ptr(new sync.Mutex.ptr(0,0),{},mmap,munmap);init();/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["github.com/gopherjs/gopherjs/nosync"]=function(){var $pkg={},$init,Map,Mutex,WaitGroup,Once,Pool,funcType,ptrType,mapType,ptrType$1,ptrType$3,funcType$1,ptrType$4,sliceType,ptrType$5,funcType$2;Map=$pkg.Map=$newType(0,$kindStruct,"nosync.Map",true,"github.com/gopherjs/gopherjs/nosync",true,function(m_){this.$val=this;if(arguments.length===0){this.m=false;return;}this.m=m_;});Mutex=$pkg.Mutex=$newType(0,$kindStruct,"nosync.Mutex",true,"github.com/gopherjs/gopherjs/nosync",true,function(locked_){this.$val=this;if(arguments.length===0){this.locked=false;return;}this.locked=locked_;});WaitGroup=$pkg.WaitGroup=$newType(0,$kindStruct,"nosync.WaitGroup",true,"github.com/gopherjs/gopherjs/nosync",true,function(counter_){this.$val=this;if(arguments.length===0){this.counter=0;return;}this.counter=counter_;});Once=$pkg.Once=$newType(0,$kindStruct,"nosync.Once",true,"github.com/gopherjs/gopherjs/nosync",true,function(doing_,done_){this.$val=this;if(arguments.length===0){this.doing=false;this.done=false;return;}this.doing=doing_;this.done=done_;});Pool=$pkg.Pool=$newType(0,$kindStruct,"nosync.Pool",true,"github.com/gopherjs/gopherjs/nosync",true,function(store_,New_){this.$val=this;if(arguments.length===0){this.store=sliceType.nil;this.New=$throwNilPointerError;return;}this.store=store_;this.New=New_;});funcType=$funcType([$emptyInterface,$emptyInterface],[$Bool],false);ptrType=$ptrType(Map);mapType=$mapType($emptyInterface,$emptyInterface);ptrType$1=$ptrType(Mutex);ptrType$3=$ptrType(WaitGroup);funcType$1=$funcType([],[],false);ptrType$4=$ptrType(Once);sliceType=$sliceType($emptyInterface);ptrType$5=$ptrType(Pool);funcType$2=$funcType([],[$emptyInterface],false);Map.ptr.prototype.Load=function(key){var _entry,_tmp,_tmp$1,_tuple,key,m,ok,value;value=$ifaceNil;ok=false;m=this;_tuple=(_entry=m.m[$emptyInterface.keyFor(key)],_entry!==undefined?[_entry.v,true]:[$ifaceNil,false]);value=_tuple[0];ok=_tuple[1];_tmp=value;_tmp$1=ok;value=_tmp;ok=_tmp$1;return[value,ok];};Map.prototype.Load=function(key){return this.$val.Load(key);};Map.ptr.prototype.Store=function(key,value){var _key,key,m,value;m=this;if(m.m===false){m.m={};}_key=key;(m.m||$throwRuntimeError("assignment to entry in nil map"))[$emptyInterface.keyFor(_key)]={k:_key,v:value};};Map.prototype.Store=function(key,value){return this.$val.Store(key,value);};Map.ptr.prototype.LoadOrStore=function(key,value){var _entry,_key,_tmp,_tmp$1,_tmp$2,_tmp$3,_tuple,actual,key,loaded,m,ok,value,value$1;actual=$ifaceNil;loaded=false;m=this;_tuple=(_entry=m.m[$emptyInterface.keyFor(key)],_entry!==undefined?[_entry.v,true]:[$ifaceNil,false]);value$1=_tuple[0];ok=_tuple[1];if(ok){_tmp=value$1;_tmp$1=true;actual=_tmp;loaded=_tmp$1;return[actual,loaded];}if(m.m===false){m.m={};}_key=key;(m.m||$throwRuntimeError("assignment to entry in nil map"))[$emptyInterface.keyFor(_key)]={k:_key,v:value};_tmp$2=value;_tmp$3=false;actual=_tmp$2;loaded=_tmp$3;return[actual,loaded];};Map.prototype.LoadOrStore=function(key,value){return this.$val.LoadOrStore(key,value);};Map.ptr.prototype.Delete=function(key){var key,m;m=this;if(m.m===false){return;}delete m.m[$emptyInterface.keyFor(key)];};Map.prototype.Delete=function(key){return this.$val.Delete(key);};Map.ptr.prototype.Range=function(f){var _entry,_i,_keys,_r,_ref,f,k,m,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_i=$f._i;_keys=$f._keys;_r=$f._r;_ref=$f._ref;f=$f.f;k=$f.k;m=$f.m;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:m=this;_ref=m.m;_i=0;_keys=$keys(_ref);/* while (true) { */case 1:/* if (!(_i < _keys.length)) { break; } */if(!(_i<_keys.length)){$s=2;continue;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;/* continue; */$s=1;continue;}k=_entry.k;v=_entry.v;_r=f(k,v);/* */$s=5;case 5:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}/* */if(!_r){$s=3;continue;}/* */$s=4;continue;/* if (!_r) { */case 3:/* break; */$s=2;continue;/* } */case 4:_i++;/* } */$s=1;continue;case 2:$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:Map.ptr.prototype.Range};}$f._entry=_entry;$f._i=_i;$f._keys=_keys;$f._r=_r;$f._ref=_ref;$f.f=f;$f.k=k;$f.m=m;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};Map.prototype.Range=function(f){return this.$val.Range(f);};Mutex.ptr.prototype.Lock=function(){var m;m=this;if(m.locked){$panic(new $String("nosync: mutex is already locked"));}m.locked=true;};Mutex.prototype.Lock=function(){return this.$val.Lock();};Mutex.ptr.prototype.Unlock=function(){var m;m=this;if(!m.locked){$panic(new $String("nosync: unlock of unlocked mutex"));}m.locked=false;};Mutex.prototype.Unlock=function(){return this.$val.Unlock();};WaitGroup.ptr.prototype.Add=function(delta){var delta,wg;wg=this;wg.counter=wg.counter+delta>>0;if(wg.counter<0){$panic(new $String("sync: negative WaitGroup counter"));}};WaitGroup.prototype.Add=function(delta){return this.$val.Add(delta);};WaitGroup.ptr.prototype.Done=function(){var wg;wg=this;wg.Add(-1);};WaitGroup.prototype.Done=function(){return this.$val.Done();};WaitGroup.ptr.prototype.Wait=function(){var wg;wg=this;if(!(wg.counter===0)){$panic(new $String("sync: WaitGroup counter not zero"));}};WaitGroup.prototype.Wait=function(){return this.$val.Wait();};Once.ptr.prototype.Do=function(f){var f,o,$s,$deferred,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;f=$f.f;o=$f.o;$s=$f.$s;$deferred=$f.$deferred;$r=$f.$r;}var $err=null;try{s:while(true){switch($s){case 0:$deferred=[];$deferred.index=$curGoroutine.deferStack.length;$curGoroutine.deferStack.push($deferred);o=[o];o[0]=this;if(o[0].done){$s=-1;return;}if(o[0].doing){$panic(new $String("nosync: Do called within f"));}o[0].doing=true;$deferred.push([function(o){return function(){o[0].doing=false;o[0].done=true;};}(o),[]]);$r=f();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return;/* */}return;}}catch(err){$err=err;$s=-1;}finally{$callDeferred($deferred,$err);if($curGoroutine.asleep){if($f===undefined){$f={$blk:Once.ptr.prototype.Do};}$f.f=f;$f.o=o;$f.$s=$s;$f.$deferred=$deferred;$f.$r=$r;return $f;}}};Once.prototype.Do=function(f){return this.$val.Do(f);};Pool.ptr.prototype.Get=function(){var _r,p,x,x$1,x$2,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;p=$f.p;x=$f.x;x$1=$f.x$1;x$2=$f.x$2;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:p=this;/* */if(p.store.$length===0){$s=1;continue;}/* */$s=2;continue;/* if (p.store.$length === 0) { */case 1:/* */if(!(p.New===$throwNilPointerError)){$s=3;continue;}/* */$s=4;continue;/* if (!(p.New === $throwNilPointerError)) { */case 3:_r=p.New();/* */$s=5;case 5:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r;/* } */case 4:$s=-1;return $ifaceNil;/* } */case 2:x$2=(x=p.store,x$1=p.store.$length-1>>0,x$1<0||x$1>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+x$1]);p.store=$subslice(p.store,0,p.store.$length-1>>0);$s=-1;return x$2;/* */}return;}if($f===undefined){$f={$blk:Pool.ptr.prototype.Get};}$f._r=_r;$f.p=p;$f.x=x;$f.x$1=x$1;$f.x$2=x$2;$f.$s=$s;$f.$r=$r;return $f;};Pool.prototype.Get=function(){return this.$val.Get();};Pool.ptr.prototype.Put=function(x){var p,x;p=this;if($interfaceIsEqual(x,$ifaceNil)){return;}p.store=$append(p.store,x);};Pool.prototype.Put=function(x){return this.$val.Put(x);};ptrType.methods=[{prop:"Load",name:"Load",pkg:"",typ:$funcType([$emptyInterface],[$emptyInterface,$Bool],false)},{prop:"Store",name:"Store",pkg:"",typ:$funcType([$emptyInterface,$emptyInterface],[],false)},{prop:"LoadOrStore",name:"LoadOrStore",pkg:"",typ:$funcType([$emptyInterface,$emptyInterface],[$emptyInterface,$Bool],false)},{prop:"Delete",name:"Delete",pkg:"",typ:$funcType([$emptyInterface],[],false)},{prop:"Range",name:"Range",pkg:"",typ:$funcType([funcType],[],false)}];ptrType$1.methods=[{prop:"Lock",name:"Lock",pkg:"",typ:$funcType([],[],false)},{prop:"Unlock",name:"Unlock",pkg:"",typ:$funcType([],[],false)}];ptrType$3.methods=[{prop:"Add",name:"Add",pkg:"",typ:$funcType([$Int],[],false)},{prop:"Done",name:"Done",pkg:"",typ:$funcType([],[],false)},{prop:"Wait",name:"Wait",pkg:"",typ:$funcType([],[],false)}];ptrType$4.methods=[{prop:"Do",name:"Do",pkg:"",typ:$funcType([funcType$1],[],false)}];ptrType$5.methods=[{prop:"Get",name:"Get",pkg:"",typ:$funcType([],[$emptyInterface],false)},{prop:"Put",name:"Put",pkg:"",typ:$funcType([$emptyInterface],[],false)}];Map.init("github.com/gopherjs/gopherjs/nosync",[{prop:"m",name:"m",embedded:false,exported:false,typ:mapType,tag:""}]);Mutex.init("github.com/gopherjs/gopherjs/nosync",[{prop:"locked",name:"locked",embedded:false,exported:false,typ:$Bool,tag:""}]);WaitGroup.init("github.com/gopherjs/gopherjs/nosync",[{prop:"counter",name:"counter",embedded:false,exported:false,typ:$Int,tag:""}]);Once.init("github.com/gopherjs/gopherjs/nosync",[{prop:"doing",name:"doing",embedded:false,exported:false,typ:$Bool,tag:""},{prop:"done",name:"done",embedded:false,exported:false,typ:$Bool,tag:""}]);Pool.init("github.com/gopherjs/gopherjs/nosync",[{prop:"store",name:"store",embedded:false,exported:false,typ:sliceType,tag:""},{prop:"New",name:"New",embedded:false,exported:true,typ:funcType$2,tag:""}]);$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["time"]=function(){var $pkg={},$init,errors,js,nosync,runtime,syscall,ParseError,Time,Month,Weekday,Duration,Location,zone,zoneTrans,sliceType,sliceType$1,ptrType,sliceType$2,structType,arrayType,sliceType$3,arrayType$1,arrayType$2,ptrType$2,arrayType$3,ptrType$4,ptrType$7,zoneSources,std0x,longDayNames,shortDayNames,shortMonthNames,longMonthNames,atoiError,errBad,errLeadingInt,months,days,daysBefore,startNano,utcLoc,utcLoc$24ptr,localLoc,localLoc$24ptr,localOnce,errLocation,badData,x,init,initLocal,runtimeNano,Sleep,indexByte,startsWithLowerCase,nextStdChunk,match,lookup,appendInt,atoi,formatNano,quote,isDigit,getnum,cutspace,skip,Parse,parse,parseTimeZone,parseGMT,parseSignedOffset,parseNanoseconds,leadingInt,absWeekday,absClock,fmtFrac,fmtInt,lessThanHalf,absDate,daysIn,unixTime,Unix,isLeap,norm,Date,div,FixedZone;errors=$packages["errors"];js=$packages["github.com/gopherjs/gopherjs/js"];nosync=$packages["github.com/gopherjs/gopherjs/nosync"];runtime=$packages["runtime"];syscall=$packages["syscall"];ParseError=$pkg.ParseError=$newType(0,$kindStruct,"time.ParseError",true,"time",true,function(Layout_,Value_,LayoutElem_,ValueElem_,Message_){this.$val=this;if(arguments.length===0){this.Layout="";this.Value="";this.LayoutElem="";this.ValueElem="";this.Message="";return;}this.Layout=Layout_;this.Value=Value_;this.LayoutElem=LayoutElem_;this.ValueElem=ValueElem_;this.Message=Message_;});Time=$pkg.Time=$newType(0,$kindStruct,"time.Time",true,"time",true,function(wall_,ext_,loc_){this.$val=this;if(arguments.length===0){this.wall=new $Uint64(0,0);this.ext=new $Int64(0,0);this.loc=ptrType$2.nil;return;}this.wall=wall_;this.ext=ext_;this.loc=loc_;});Month=$pkg.Month=$newType(4,$kindInt,"time.Month",true,"time",true,null);Weekday=$pkg.Weekday=$newType(4,$kindInt,"time.Weekday",true,"time",true,null);Duration=$pkg.Duration=$newType(8,$kindInt64,"time.Duration",true,"time",true,null);Location=$pkg.Location=$newType(0,$kindStruct,"time.Location",true,"time",true,function(name_,zone_,tx_,cacheStart_,cacheEnd_,cacheZone_){this.$val=this;if(arguments.length===0){this.name="";this.zone=sliceType.nil;this.tx=sliceType$1.nil;this.cacheStart=new $Int64(0,0);this.cacheEnd=new $Int64(0,0);this.cacheZone=ptrType.nil;return;}this.name=name_;this.zone=zone_;this.tx=tx_;this.cacheStart=cacheStart_;this.cacheEnd=cacheEnd_;this.cacheZone=cacheZone_;});zone=$pkg.zone=$newType(0,$kindStruct,"time.zone",true,"time",false,function(name_,offset_,isDST_){this.$val=this;if(arguments.length===0){this.name="";this.offset=0;this.isDST=false;return;}this.name=name_;this.offset=offset_;this.isDST=isDST_;});zoneTrans=$pkg.zoneTrans=$newType(0,$kindStruct,"time.zoneTrans",true,"time",false,function(when_,index_,isstd_,isutc_){this.$val=this;if(arguments.length===0){this.when=new $Int64(0,0);this.index=0;this.isstd=false;this.isutc=false;return;}this.when=when_;this.index=index_;this.isstd=isstd_;this.isutc=isutc_;});sliceType=$sliceType(zone);sliceType$1=$sliceType(zoneTrans);ptrType=$ptrType(zone);sliceType$2=$sliceType($String);structType=$structType("",[]);arrayType=$arrayType($Uint8,20);sliceType$3=$sliceType($Uint8);arrayType$1=$arrayType($Uint8,9);arrayType$2=$arrayType($Uint8,64);ptrType$2=$ptrType(Location);arrayType$3=$arrayType($Uint8,32);ptrType$4=$ptrType(ParseError);ptrType$7=$ptrType(Time);init=function(){$unused(Unix(new $Int64(0,0),new $Int64(0,0)));};initLocal=function(){var d,i,j,s;d=new $global.Date();s=$internalize(d,$String);i=indexByte(s,40);j=indexByte(s,41);if(i===-1||j===-1){localLoc.name="UTC";return;}localLoc.name=$substring(s,i+1>>0,j);localLoc.zone=new sliceType([new zone.ptr(localLoc.name,$imul($parseInt(d.getTimezoneOffset())>>0,-60),false)]);};runtimeNano=function(){return $mul64($internalize(new $global.Date().getTime(),$Int64),new $Int64(0,1000000));};Sleep=function(d){var _r,c,d,x$1,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;c=$f.c;d=$f.d;x$1=$f.x$1;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:c=[c];c[0]=new $Chan(structType,0);$setTimeout(function(c){return function(){$close(c[0]);};}(c),(x$1=$div64(d,new Duration(0,1000000),false),x$1.$low+(x$1.$high>>31)*4294967296)>>0);_r=$recv(c[0]);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_r[0];$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:Sleep};}$f._r=_r;$f.c=c;$f.d=d;$f.x$1=x$1;$f.$s=$s;$f.$r=$r;return $f;};$pkg.Sleep=Sleep;indexByte=function(s,c){var c,s;return $parseInt(s.indexOf($global.String.fromCharCode(c)))>>0;};startsWithLowerCase=function(str){var c,str;if(str.length===0){return false;}c=str.charCodeAt(0);return 97<=c&&c<=122;};nextStdChunk=function(layout){var _1,_tmp,_tmp$1,_tmp$10,_tmp$11,_tmp$12,_tmp$13,_tmp$14,_tmp$15,_tmp$16,_tmp$17,_tmp$18,_tmp$19,_tmp$2,_tmp$20,_tmp$21,_tmp$22,_tmp$23,_tmp$24,_tmp$25,_tmp$26,_tmp$27,_tmp$28,_tmp$29,_tmp$3,_tmp$30,_tmp$31,_tmp$32,_tmp$33,_tmp$34,_tmp$35,_tmp$36,_tmp$37,_tmp$38,_tmp$39,_tmp$4,_tmp$40,_tmp$41,_tmp$42,_tmp$43,_tmp$44,_tmp$45,_tmp$46,_tmp$47,_tmp$48,_tmp$49,_tmp$5,_tmp$50,_tmp$51,_tmp$52,_tmp$53,_tmp$54,_tmp$55,_tmp$56,_tmp$57,_tmp$58,_tmp$59,_tmp$6,_tmp$60,_tmp$61,_tmp$62,_tmp$63,_tmp$64,_tmp$65,_tmp$66,_tmp$67,_tmp$68,_tmp$69,_tmp$7,_tmp$70,_tmp$71,_tmp$72,_tmp$73,_tmp$74,_tmp$75,_tmp$76,_tmp$77,_tmp$78,_tmp$79,_tmp$8,_tmp$80,_tmp$81,_tmp$82,_tmp$83,_tmp$84,_tmp$85,_tmp$86,_tmp$9,c,ch,i,j,layout,prefix,std,std$1,suffix,x$1;prefix="";std=0;suffix="";i=0;while(true){if(!(i<layout.length)){break;}c=layout.charCodeAt(i)>>0;_1=c;if(_1===74){if(layout.length>=i+3>>0&&$substring(layout,i,i+3>>0)==="Jan"){if(layout.length>=i+7>>0&&$substring(layout,i,i+7>>0)==="January"){_tmp=$substring(layout,0,i);_tmp$1=257;_tmp$2=$substring(layout,i+7>>0);prefix=_tmp;std=_tmp$1;suffix=_tmp$2;return[prefix,std,suffix];}if(!startsWithLowerCase($substring(layout,i+3>>0))){_tmp$3=$substring(layout,0,i);_tmp$4=258;_tmp$5=$substring(layout,i+3>>0);prefix=_tmp$3;std=_tmp$4;suffix=_tmp$5;return[prefix,std,suffix];}}}else if(_1===77){if(layout.length>=i+3>>0){if($substring(layout,i,i+3>>0)==="Mon"){if(layout.length>=i+6>>0&&$substring(layout,i,i+6>>0)==="Monday"){_tmp$6=$substring(layout,0,i);_tmp$7=261;_tmp$8=$substring(layout,i+6>>0);prefix=_tmp$6;std=_tmp$7;suffix=_tmp$8;return[prefix,std,suffix];}if(!startsWithLowerCase($substring(layout,i+3>>0))){_tmp$9=$substring(layout,0,i);_tmp$10=262;_tmp$11=$substring(layout,i+3>>0);prefix=_tmp$9;std=_tmp$10;suffix=_tmp$11;return[prefix,std,suffix];}}if($substring(layout,i,i+3>>0)==="MST"){_tmp$12=$substring(layout,0,i);_tmp$13=21;_tmp$14=$substring(layout,i+3>>0);prefix=_tmp$12;std=_tmp$13;suffix=_tmp$14;return[prefix,std,suffix];}}}else if(_1===48){if(layout.length>=i+2>>0&&49<=layout.charCodeAt(i+1>>0)&&layout.charCodeAt(i+1>>0)<=54){_tmp$15=$substring(layout,0,i);_tmp$16=(x$1=layout.charCodeAt(i+1>>0)-49<<24>>>24,x$1<0||x$1>=std0x.length?($throwRuntimeError("index out of range"),undefined):std0x[x$1]);_tmp$17=$substring(layout,i+2>>0);prefix=_tmp$15;std=_tmp$16;suffix=_tmp$17;return[prefix,std,suffix];}}else if(_1===49){if(layout.length>=i+2>>0&&layout.charCodeAt(i+1>>0)===53){_tmp$18=$substring(layout,0,i);_tmp$19=522;_tmp$20=$substring(layout,i+2>>0);prefix=_tmp$18;std=_tmp$19;suffix=_tmp$20;return[prefix,std,suffix];}_tmp$21=$substring(layout,0,i);_tmp$22=259;_tmp$23=$substring(layout,i+1>>0);prefix=_tmp$21;std=_tmp$22;suffix=_tmp$23;return[prefix,std,suffix];}else if(_1===50){if(layout.length>=i+4>>0&&$substring(layout,i,i+4>>0)==="2006"){_tmp$24=$substring(layout,0,i);_tmp$25=273;_tmp$26=$substring(layout,i+4>>0);prefix=_tmp$24;std=_tmp$25;suffix=_tmp$26;return[prefix,std,suffix];}_tmp$27=$substring(layout,0,i);_tmp$28=263;_tmp$29=$substring(layout,i+1>>0);prefix=_tmp$27;std=_tmp$28;suffix=_tmp$29;return[prefix,std,suffix];}else if(_1===95){if(layout.length>=i+2>>0&&layout.charCodeAt(i+1>>0)===50){if(layout.length>=i+5>>0&&$substring(layout,i+1>>0,i+5>>0)==="2006"){_tmp$30=$substring(layout,0,i+1>>0);_tmp$31=273;_tmp$32=$substring(layout,i+5>>0);prefix=_tmp$30;std=_tmp$31;suffix=_tmp$32;return[prefix,std,suffix];}_tmp$33=$substring(layout,0,i);_tmp$34=264;_tmp$35=$substring(layout,i+2>>0);prefix=_tmp$33;std=_tmp$34;suffix=_tmp$35;return[prefix,std,suffix];}}else if(_1===51){_tmp$36=$substring(layout,0,i);_tmp$37=523;_tmp$38=$substring(layout,i+1>>0);prefix=_tmp$36;std=_tmp$37;suffix=_tmp$38;return[prefix,std,suffix];}else if(_1===52){_tmp$39=$substring(layout,0,i);_tmp$40=525;_tmp$41=$substring(layout,i+1>>0);prefix=_tmp$39;std=_tmp$40;suffix=_tmp$41;return[prefix,std,suffix];}else if(_1===53){_tmp$42=$substring(layout,0,i);_tmp$43=527;_tmp$44=$substring(layout,i+1>>0);prefix=_tmp$42;std=_tmp$43;suffix=_tmp$44;return[prefix,std,suffix];}else if(_1===80){if(layout.length>=i+2>>0&&layout.charCodeAt(i+1>>0)===77){_tmp$45=$substring(layout,0,i);_tmp$46=531;_tmp$47=$substring(layout,i+2>>0);prefix=_tmp$45;std=_tmp$46;suffix=_tmp$47;return[prefix,std,suffix];}}else if(_1===112){if(layout.length>=i+2>>0&&layout.charCodeAt(i+1>>0)===109){_tmp$48=$substring(layout,0,i);_tmp$49=532;_tmp$50=$substring(layout,i+2>>0);prefix=_tmp$48;std=_tmp$49;suffix=_tmp$50;return[prefix,std,suffix];}}else if(_1===45){if(layout.length>=i+7>>0&&$substring(layout,i,i+7>>0)==="-070000"){_tmp$51=$substring(layout,0,i);_tmp$52=28;_tmp$53=$substring(layout,i+7>>0);prefix=_tmp$51;std=_tmp$52;suffix=_tmp$53;return[prefix,std,suffix];}if(layout.length>=i+9>>0&&$substring(layout,i,i+9>>0)==="-07:00:00"){_tmp$54=$substring(layout,0,i);_tmp$55=31;_tmp$56=$substring(layout,i+9>>0);prefix=_tmp$54;std=_tmp$55;suffix=_tmp$56;return[prefix,std,suffix];}if(layout.length>=i+5>>0&&$substring(layout,i,i+5>>0)==="-0700"){_tmp$57=$substring(layout,0,i);_tmp$58=27;_tmp$59=$substring(layout,i+5>>0);prefix=_tmp$57;std=_tmp$58;suffix=_tmp$59;return[prefix,std,suffix];}if(layout.length>=i+6>>0&&$substring(layout,i,i+6>>0)==="-07:00"){_tmp$60=$substring(layout,0,i);_tmp$61=30;_tmp$62=$substring(layout,i+6>>0);prefix=_tmp$60;std=_tmp$61;suffix=_tmp$62;return[prefix,std,suffix];}if(layout.length>=i+3>>0&&$substring(layout,i,i+3>>0)==="-07"){_tmp$63=$substring(layout,0,i);_tmp$64=29;_tmp$65=$substring(layout,i+3>>0);prefix=_tmp$63;std=_tmp$64;suffix=_tmp$65;return[prefix,std,suffix];}}else if(_1===90){if(layout.length>=i+7>>0&&$substring(layout,i,i+7>>0)==="Z070000"){_tmp$66=$substring(layout,0,i);_tmp$67=23;_tmp$68=$substring(layout,i+7>>0);prefix=_tmp$66;std=_tmp$67;suffix=_tmp$68;return[prefix,std,suffix];}if(layout.length>=i+9>>0&&$substring(layout,i,i+9>>0)==="Z07:00:00"){_tmp$69=$substring(layout,0,i);_tmp$70=26;_tmp$71=$substring(layout,i+9>>0);prefix=_tmp$69;std=_tmp$70;suffix=_tmp$71;return[prefix,std,suffix];}if(layout.length>=i+5>>0&&$substring(layout,i,i+5>>0)==="Z0700"){_tmp$72=$substring(layout,0,i);_tmp$73=22;_tmp$74=$substring(layout,i+5>>0);prefix=_tmp$72;std=_tmp$73;suffix=_tmp$74;return[prefix,std,suffix];}if(layout.length>=i+6>>0&&$substring(layout,i,i+6>>0)==="Z07:00"){_tmp$75=$substring(layout,0,i);_tmp$76=25;_tmp$77=$substring(layout,i+6>>0);prefix=_tmp$75;std=_tmp$76;suffix=_tmp$77;return[prefix,std,suffix];}if(layout.length>=i+3>>0&&$substring(layout,i,i+3>>0)==="Z07"){_tmp$78=$substring(layout,0,i);_tmp$79=24;_tmp$80=$substring(layout,i+3>>0);prefix=_tmp$78;std=_tmp$79;suffix=_tmp$80;return[prefix,std,suffix];}}else if(_1===46){if(i+1>>0<layout.length&&(layout.charCodeAt(i+1>>0)===48||layout.charCodeAt(i+1>>0)===57)){ch=layout.charCodeAt(i+1>>0);j=i+1>>0;while(true){if(!(j<layout.length&&layout.charCodeAt(j)===ch)){break;}j=j+1>>0;}if(!isDigit(layout,j)){std$1=32;if(layout.charCodeAt(i+1>>0)===57){std$1=33;}std$1=std$1|j-(i+1>>0)>>0<<16>>0;_tmp$81=$substring(layout,0,i);_tmp$82=std$1;_tmp$83=$substring(layout,j);prefix=_tmp$81;std=_tmp$82;suffix=_tmp$83;return[prefix,std,suffix];}}}i=i+1>>0;}_tmp$84=layout;_tmp$85=0;_tmp$86="";prefix=_tmp$84;std=_tmp$85;suffix=_tmp$86;return[prefix,std,suffix];};match=function(s1,s2){var c1,c2,i,s1,s2;i=0;while(true){if(!(i<s1.length)){break;}c1=s1.charCodeAt(i);c2=s2.charCodeAt(i);if(!(c1===c2)){c1=(c1|32)>>>0;c2=(c2|32)>>>0;if(!(c1===c2)||c1<97||c1>122){return false;}}i=i+1>>0;}return true;};lookup=function(tab,val){var _i,_ref,i,tab,v,val;_ref=tab;_i=0;while(true){if(!(_i<_ref.$length)){break;}i=_i;v=_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i];if(val.length>=v.length&&match($substring(val,0,v.length),v)){return[i,$substring(val,v.length),$ifaceNil];}_i++;}return[-1,val,errBad];};appendInt=function(b,x$1,width){var _q,b,buf,i,q,u,w,width,x$1;u=x$1>>>0;if(x$1<0){b=$append(b,45);u=-x$1>>>0;}buf=arrayType.zero();i=20;while(true){if(!(u>=10)){break;}i=i-1>>0;q=(_q=u/10,_q===_q&&_q!==1/0&&_q!==-1/0?_q>>>0:$throwRuntimeError("integer divide by zero"));i<0||i>=buf.length?($throwRuntimeError("index out of range"),undefined):buf[i]=(48+u>>>0)-(q*10>>>0)>>>0<<24>>>24;u=q;}i=i-1>>0;i<0||i>=buf.length?($throwRuntimeError("index out of range"),undefined):buf[i]=48+u>>>0<<24>>>24;w=20-i>>0;while(true){if(!(w<width)){break;}b=$append(b,48);w=w+1>>0;}return $appendSlice(b,$subslice(new sliceType$3(buf),i));};atoi=function(s){var _tmp,_tmp$1,_tmp$2,_tmp$3,_tuple,err,neg,q,rem,s,x$1;x$1=0;err=$ifaceNil;neg=false;if(!(s==="")&&(s.charCodeAt(0)===45||s.charCodeAt(0)===43)){neg=s.charCodeAt(0)===45;s=$substring(s,1);}_tuple=leadingInt(s);q=_tuple[0];rem=_tuple[1];err=_tuple[2];x$1=q.$low+(q.$high>>31)*4294967296>>0;if(!$interfaceIsEqual(err,$ifaceNil)||!(rem==="")){_tmp=0;_tmp$1=atoiError;x$1=_tmp;err=_tmp$1;return[x$1,err];}if(neg){x$1=-x$1;}_tmp$2=x$1;_tmp$3=$ifaceNil;x$1=_tmp$2;err=_tmp$3;return[x$1,err];};formatNano=function(b,nanosec,n,trim){var _q,_r,b,buf,n,nanosec,start,trim,u,x$1;u=nanosec;buf=arrayType$1.zero();start=9;while(true){if(!(start>0)){break;}start=start-1>>0;start<0||start>=buf.length?($throwRuntimeError("index out of range"),undefined):buf[start]=(_r=u%10,_r===_r?_r:$throwRuntimeError("integer divide by zero"))+48>>>0<<24>>>24;u=(_q=u/10,_q===_q&&_q!==1/0&&_q!==-1/0?_q>>>0:$throwRuntimeError("integer divide by zero"));}if(n>9){n=9;}if(trim){while(true){if(!(n>0&&(x$1=n-1>>0,x$1<0||x$1>=buf.length?($throwRuntimeError("index out of range"),undefined):buf[x$1])===48)){break;}n=n-1>>0;}if(n===0){return b;}}b=$append(b,46);return $appendSlice(b,$subslice(new sliceType$3(buf),0,n));};Time.ptr.prototype.String=function(){var _r,_tmp,_tmp$1,_tmp$2,_tmp$3,buf,m0,m1,m2,s,sign,t,wid,x$1,x$2,x$3,x$4,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tmp$2=$f._tmp$2;_tmp$3=$f._tmp$3;buf=$f.buf;m0=$f.m0;m1=$f.m1;m2=$f.m2;s=$f.s;sign=$f.sign;t=$f.t;wid=$f.wid;x$1=$f.x$1;x$2=$f.x$2;x$3=$f.x$3;x$4=$f.x$4;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:t=this;_r=$clone(t,Time).Format("2006-01-02 15:04:05.999999999 -0700 MST");/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}s=_r;if(!(x$1=(x$2=t.wall,new $Uint64(x$2.$high&2147483648,(x$2.$low&0)>>>0)),x$1.$high===0&&x$1.$low===0)){m2=(x$3=t.ext,new $Uint64(x$3.$high,x$3.$low));sign=43;if(x$4=t.ext,x$4.$high<0||x$4.$high===0&&x$4.$low<0){sign=45;m2=new $Uint64(-m2.$high,-m2.$low);}_tmp=$div64(m2,new $Uint64(0,1000000000),false);_tmp$1=$div64(m2,new $Uint64(0,1000000000),true);m1=_tmp;m2=_tmp$1;_tmp$2=$div64(m1,new $Uint64(0,1000000000),false);_tmp$3=$div64(m1,new $Uint64(0,1000000000),true);m0=_tmp$2;m1=_tmp$3;buf=sliceType$3.nil;buf=$appendSlice(buf," m=");buf=$append(buf,sign);wid=0;if(!(m0.$high===0&&m0.$low===0)){buf=appendInt(buf,m0.$low>>0,0);wid=9;}buf=appendInt(buf,m1.$low>>0,wid);buf=$append(buf,46);buf=appendInt(buf,m2.$low>>0,9);s=s+$bytesToString(buf);}$s=-1;return s;/* */}return;}if($f===undefined){$f={$blk:Time.ptr.prototype.String};}$f._r=_r;$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tmp$2=_tmp$2;$f._tmp$3=_tmp$3;$f.buf=buf;$f.m0=m0;$f.m1=m1;$f.m2=m2;$f.s=s;$f.sign=sign;$f.t=t;$f.wid=wid;$f.x$1=x$1;$f.x$2=x$2;$f.x$3=x$3;$f.x$4=x$4;$f.$s=$s;$f.$r=$r;return $f;};Time.prototype.String=function(){return this.$val.String();};Time.ptr.prototype.Format=function(layout){var _r,b,buf,layout,max,t,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;b=$f.b;buf=$f.buf;layout=$f.layout;max=$f.max;t=$f.t;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:t=this;b=sliceType$3.nil;max=layout.length+10>>0;if(max<64){buf=arrayType$2.zero();b=$subslice(new sliceType$3(buf),0,0);}else{b=$makeSlice(sliceType$3,0,max);}_r=$clone(t,Time).AppendFormat(b,layout);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}b=_r;$s=-1;return $bytesToString(b);/* */}return;}if($f===undefined){$f={$blk:Time.ptr.prototype.Format};}$f._r=_r;$f.b=b;$f.buf=buf;$f.layout=layout;$f.max=max;$f.t=t;$f.$s=$s;$f.$r=$r;return $f;};Time.prototype.Format=function(layout){return this.$val.Format(layout);};Time.ptr.prototype.AppendFormat=function(b,layout){var _1,_q,_q$1,_q$2,_q$3,_r,_r$1,_r$2,_r$3,_r$4,_r$5,_r$6,_tuple,_tuple$1,_tuple$2,_tuple$3,abs,absoffset,b,day,hour,hr,hr$1,layout,m,min,month,name,offset,prefix,s,sec,std,suffix,t,y,year,zone$1,zone$2,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_q=$f._q;_q$1=$f._q$1;_q$2=$f._q$2;_q$3=$f._q$3;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;abs=$f.abs;absoffset=$f.absoffset;b=$f.b;day=$f.day;hour=$f.hour;hr=$f.hr;hr$1=$f.hr$1;layout=$f.layout;m=$f.m;min=$f.min;month=$f.month;name=$f.name;offset=$f.offset;prefix=$f.prefix;s=$f.s;sec=$f.sec;std=$f.std;suffix=$f.suffix;t=$f.t;y=$f.y;year=$f.year;zone$1=$f.zone$1;zone$2=$f.zone$2;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:t=this;_r=$clone(t,Time).locabs();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;name=_tuple[0];offset=_tuple[1];abs=_tuple[2];year=-1;month=0;day=0;hour=-1;min=0;sec=0;while(true){if(!!(layout==="")){break;}_tuple$1=nextStdChunk(layout);prefix=_tuple$1[0];std=_tuple$1[1];suffix=_tuple$1[2];if(!(prefix==="")){b=$appendSlice(b,prefix);}if(std===0){break;}layout=suffix;if(year<0&&!((std&256)===0)){_tuple$2=absDate(abs,true);year=_tuple$2[0];month=_tuple$2[1];day=_tuple$2[2];}if(hour<0&&!((std&512)===0)){_tuple$3=absClock(abs);hour=_tuple$3[0];min=_tuple$3[1];sec=_tuple$3[2];}switch(0){default:_1=std&65535;if(_1===274){y=year;if(y<0){y=-y;}b=appendInt(b,(_r$1=y%100,_r$1===_r$1?_r$1:$throwRuntimeError("integer divide by zero")),2);}else if(_1===273){b=appendInt(b,year,4);}else if(_1===258){b=$appendSlice(b,$substring(new Month(month).String(),0,3));}else if(_1===257){m=new Month(month).String();b=$appendSlice(b,m);}else if(_1===259){b=appendInt(b,month>>0,0);}else if(_1===260){b=appendInt(b,month>>0,2);}else if(_1===262){b=$appendSlice(b,$substring(new Weekday(absWeekday(abs)).String(),0,3));}else if(_1===261){s=new Weekday(absWeekday(abs)).String();b=$appendSlice(b,s);}else if(_1===263){b=appendInt(b,day,0);}else if(_1===264){if(day<10){b=$append(b,32);}b=appendInt(b,day,0);}else if(_1===265){b=appendInt(b,day,2);}else if(_1===522){b=appendInt(b,hour,2);}else if(_1===523){hr=(_r$2=hour%12,_r$2===_r$2?_r$2:$throwRuntimeError("integer divide by zero"));if(hr===0){hr=12;}b=appendInt(b,hr,0);}else if(_1===524){hr$1=(_r$3=hour%12,_r$3===_r$3?_r$3:$throwRuntimeError("integer divide by zero"));if(hr$1===0){hr$1=12;}b=appendInt(b,hr$1,2);}else if(_1===525){b=appendInt(b,min,0);}else if(_1===526){b=appendInt(b,min,2);}else if(_1===527){b=appendInt(b,sec,0);}else if(_1===528){b=appendInt(b,sec,2);}else if(_1===531){if(hour>=12){b=$appendSlice(b,"PM");}else{b=$appendSlice(b,"AM");}}else if(_1===532){if(hour>=12){b=$appendSlice(b,"pm");}else{b=$appendSlice(b,"am");}}else if(_1===22||_1===25||_1===23||_1===24||_1===26||_1===27||_1===30||_1===28||_1===29||_1===31){if(offset===0&&(std===22||std===25||std===23||std===24||std===26)){b=$append(b,90);break;}zone$1=(_q=offset/60,_q===_q&&_q!==1/0&&_q!==-1/0?_q>>0:$throwRuntimeError("integer divide by zero"));absoffset=offset;if(zone$1<0){b=$append(b,45);zone$1=-zone$1;absoffset=-absoffset;}else{b=$append(b,43);}b=appendInt(b,(_q$1=zone$1/60,_q$1===_q$1&&_q$1!==1/0&&_q$1!==-1/0?_q$1>>0:$throwRuntimeError("integer divide by zero")),2);if(std===25||std===30||std===26||std===31){b=$append(b,58);}if(!(std===29)&&!(std===24)){b=appendInt(b,(_r$4=zone$1%60,_r$4===_r$4?_r$4:$throwRuntimeError("integer divide by zero")),2);}if(std===23||std===28||std===31||std===26){if(std===31||std===26){b=$append(b,58);}b=appendInt(b,(_r$5=absoffset%60,_r$5===_r$5?_r$5:$throwRuntimeError("integer divide by zero")),2);}}else if(_1===21){if(!(name==="")){b=$appendSlice(b,name);break;}zone$2=(_q$2=offset/60,_q$2===_q$2&&_q$2!==1/0&&_q$2!==-1/0?_q$2>>0:$throwRuntimeError("integer divide by zero"));if(zone$2<0){b=$append(b,45);zone$2=-zone$2;}else{b=$append(b,43);}b=appendInt(b,(_q$3=zone$2/60,_q$3===_q$3&&_q$3!==1/0&&_q$3!==-1/0?_q$3>>0:$throwRuntimeError("integer divide by zero")),2);b=appendInt(b,(_r$6=zone$2%60,_r$6===_r$6?_r$6:$throwRuntimeError("integer divide by zero")),2);}else if(_1===32||_1===33){b=formatNano(b,$clone(t,Time).Nanosecond()>>>0,std>>16>>0,(std&65535)===33);}}}$s=-1;return b;/* */}return;}if($f===undefined){$f={$blk:Time.ptr.prototype.AppendFormat};}$f._1=_1;$f._q=_q;$f._q$1=_q$1;$f._q$2=_q$2;$f._q$3=_q$3;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f.abs=abs;$f.absoffset=absoffset;$f.b=b;$f.day=day;$f.hour=hour;$f.hr=hr;$f.hr$1=hr$1;$f.layout=layout;$f.m=m;$f.min=min;$f.month=month;$f.name=name;$f.offset=offset;$f.prefix=prefix;$f.s=s;$f.sec=sec;$f.std=std;$f.suffix=suffix;$f.t=t;$f.y=y;$f.year=year;$f.zone$1=zone$1;$f.zone$2=zone$2;$f.$s=$s;$f.$r=$r;return $f;};Time.prototype.AppendFormat=function(b,layout){return this.$val.AppendFormat(b,layout);};quote=function(s){var s;return"\""+s+"\"";};ParseError.ptr.prototype.Error=function(){var e;e=this;if(e.Message===""){return"parsing time "+quote(e.Value)+" as "+quote(e.Layout)+": cannot parse "+quote(e.ValueElem)+" as "+quote(e.LayoutElem);}return"parsing time "+quote(e.Value)+e.Message;};ParseError.prototype.Error=function(){return this.$val.Error();};isDigit=function(s,i){var c,i,s;if(s.length<=i){return false;}c=s.charCodeAt(i);return 48<=c&&c<=57;};getnum=function(s,fixed){var fixed,s;if(!isDigit(s,0)){return[0,s,errBad];}if(!isDigit(s,1)){if(fixed){return[0,s,errBad];}return[s.charCodeAt(0)-48<<24>>>24>>0,$substring(s,1),$ifaceNil];}return[$imul(s.charCodeAt(0)-48<<24>>>24>>0,10)+(s.charCodeAt(1)-48<<24>>>24>>0)>>0,$substring(s,2),$ifaceNil];};cutspace=function(s){var s;while(true){if(!(s.length>0&&s.charCodeAt(0)===32)){break;}s=$substring(s,1);}return s;};skip=function(value,prefix){var prefix,value;while(true){if(!(prefix.length>0)){break;}if(prefix.charCodeAt(0)===32){if(value.length>0&&!(value.charCodeAt(0)===32)){return[value,errBad];}prefix=cutspace(prefix);value=cutspace(value);continue;}if(value.length===0||!(value.charCodeAt(0)===prefix.charCodeAt(0))){return[value,errBad];}prefix=$substring(prefix,1);value=$substring(value,1);}return[value,$ifaceNil];};Parse=function(layout,value){var _r,layout,value,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;layout=$f.layout;value=$f.value;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=parse(layout,value,$pkg.UTC,$pkg.Local);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r;/* */}return;}if($f===undefined){$f={$blk:Parse};}$f._r=_r;$f.layout=layout;$f.value=value;$f.$s=$s;$f.$r=$r;return $f;};$pkg.Parse=Parse;parse=function(layout,value,defaultLocation,local){var _1,_2,_3,_4,_r,_r$1,_r$2,_r$3,_r$4,_r$5,_tmp,_tmp$1,_tmp$10,_tmp$11,_tmp$12,_tmp$13,_tmp$14,_tmp$15,_tmp$16,_tmp$17,_tmp$18,_tmp$19,_tmp$2,_tmp$20,_tmp$21,_tmp$22,_tmp$23,_tmp$24,_tmp$25,_tmp$26,_tmp$27,_tmp$28,_tmp$29,_tmp$3,_tmp$30,_tmp$31,_tmp$32,_tmp$33,_tmp$34,_tmp$35,_tmp$36,_tmp$37,_tmp$38,_tmp$39,_tmp$4,_tmp$40,_tmp$41,_tmp$42,_tmp$43,_tmp$5,_tmp$6,_tmp$7,_tmp$8,_tmp$9,_tuple,_tuple$1,_tuple$10,_tuple$11,_tuple$12,_tuple$13,_tuple$14,_tuple$15,_tuple$16,_tuple$17,_tuple$18,_tuple$19,_tuple$2,_tuple$20,_tuple$21,_tuple$22,_tuple$23,_tuple$24,_tuple$3,_tuple$4,_tuple$5,_tuple$6,_tuple$7,_tuple$8,_tuple$9,alayout,amSet,avalue,day,defaultLocation,err,hour,hour$1,hr,i,layout,local,min,min$1,mm,month,n,n$1,name,ndigit,nsec,offset,offset$1,ok,ok$1,p,pmSet,prefix,rangeErrString,sec,seconds,sign,ss,std,stdstr,suffix,t,t$1,value,x$1,x$2,year,z,zoneName,zoneOffset,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_2=$f._2;_3=$f._3;_4=$f._4;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tmp$10=$f._tmp$10;_tmp$11=$f._tmp$11;_tmp$12=$f._tmp$12;_tmp$13=$f._tmp$13;_tmp$14=$f._tmp$14;_tmp$15=$f._tmp$15;_tmp$16=$f._tmp$16;_tmp$17=$f._tmp$17;_tmp$18=$f._tmp$18;_tmp$19=$f._tmp$19;_tmp$2=$f._tmp$2;_tmp$20=$f._tmp$20;_tmp$21=$f._tmp$21;_tmp$22=$f._tmp$22;_tmp$23=$f._tmp$23;_tmp$24=$f._tmp$24;_tmp$25=$f._tmp$25;_tmp$26=$f._tmp$26;_tmp$27=$f._tmp$27;_tmp$28=$f._tmp$28;_tmp$29=$f._tmp$29;_tmp$3=$f._tmp$3;_tmp$30=$f._tmp$30;_tmp$31=$f._tmp$31;_tmp$32=$f._tmp$32;_tmp$33=$f._tmp$33;_tmp$34=$f._tmp$34;_tmp$35=$f._tmp$35;_tmp$36=$f._tmp$36;_tmp$37=$f._tmp$37;_tmp$38=$f._tmp$38;_tmp$39=$f._tmp$39;_tmp$4=$f._tmp$4;_tmp$40=$f._tmp$40;_tmp$41=$f._tmp$41;_tmp$42=$f._tmp$42;_tmp$43=$f._tmp$43;_tmp$5=$f._tmp$5;_tmp$6=$f._tmp$6;_tmp$7=$f._tmp$7;_tmp$8=$f._tmp$8;_tmp$9=$f._tmp$9;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$10=$f._tuple$10;_tuple$11=$f._tuple$11;_tuple$12=$f._tuple$12;_tuple$13=$f._tuple$13;_tuple$14=$f._tuple$14;_tuple$15=$f._tuple$15;_tuple$16=$f._tuple$16;_tuple$17=$f._tuple$17;_tuple$18=$f._tuple$18;_tuple$19=$f._tuple$19;_tuple$2=$f._tuple$2;_tuple$20=$f._tuple$20;_tuple$21=$f._tuple$21;_tuple$22=$f._tuple$22;_tuple$23=$f._tuple$23;_tuple$24=$f._tuple$24;_tuple$3=$f._tuple$3;_tuple$4=$f._tuple$4;_tuple$5=$f._tuple$5;_tuple$6=$f._tuple$6;_tuple$7=$f._tuple$7;_tuple$8=$f._tuple$8;_tuple$9=$f._tuple$9;alayout=$f.alayout;amSet=$f.amSet;avalue=$f.avalue;day=$f.day;defaultLocation=$f.defaultLocation;err=$f.err;hour=$f.hour;hour$1=$f.hour$1;hr=$f.hr;i=$f.i;layout=$f.layout;local=$f.local;min=$f.min;min$1=$f.min$1;mm=$f.mm;month=$f.month;n=$f.n;n$1=$f.n$1;name=$f.name;ndigit=$f.ndigit;nsec=$f.nsec;offset=$f.offset;offset$1=$f.offset$1;ok=$f.ok;ok$1=$f.ok$1;p=$f.p;pmSet=$f.pmSet;prefix=$f.prefix;rangeErrString=$f.rangeErrString;sec=$f.sec;seconds=$f.seconds;sign=$f.sign;ss=$f.ss;std=$f.std;stdstr=$f.stdstr;suffix=$f.suffix;t=$f.t;t$1=$f.t$1;value=$f.value;x$1=$f.x$1;x$2=$f.x$2;year=$f.year;z=$f.z;zoneName=$f.zoneName;zoneOffset=$f.zoneOffset;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_tmp=layout;_tmp$1=value;alayout=_tmp;avalue=_tmp$1;rangeErrString="";amSet=false;pmSet=false;year=0;month=1;day=1;hour=0;min=0;sec=0;nsec=0;z=ptrType$2.nil;zoneOffset=-1;zoneName="";while(true){err=$ifaceNil;_tuple=nextStdChunk(layout);prefix=_tuple[0];std=_tuple[1];suffix=_tuple[2];stdstr=$substring(layout,prefix.length,layout.length-suffix.length>>0);_tuple$1=skip(value,prefix);value=_tuple$1[0];err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[new Time.ptr(new $Uint64(0,0),new $Int64(0,0),ptrType$2.nil),new ParseError.ptr(alayout,avalue,prefix,value,"")];}if(std===0){if(!(value.length===0)){$s=-1;return[new Time.ptr(new $Uint64(0,0),new $Int64(0,0),ptrType$2.nil),new ParseError.ptr(alayout,avalue,"",value,": extra text: "+value)];}break;}layout=suffix;p="";switch(0){default:_1=std&65535;if(_1===274){if(value.length<2){err=errBad;break;}_tmp$2=$substring(value,0,2);_tmp$3=$substring(value,2);p=_tmp$2;value=_tmp$3;_tuple$2=atoi(p);year=_tuple$2[0];err=_tuple$2[1];if(year>=69){year=year+1900>>0;}else{year=year+2000>>0;}}else if(_1===273){if(value.length<4||!isDigit(value,0)){err=errBad;break;}_tmp$4=$substring(value,0,4);_tmp$5=$substring(value,4);p=_tmp$4;value=_tmp$5;_tuple$3=atoi(p);year=_tuple$3[0];err=_tuple$3[1];}else if(_1===258){_tuple$4=lookup(shortMonthNames,value);month=_tuple$4[0];value=_tuple$4[1];err=_tuple$4[2];month=month+1>>0;}else if(_1===257){_tuple$5=lookup(longMonthNames,value);month=_tuple$5[0];value=_tuple$5[1];err=_tuple$5[2];month=month+1>>0;}else if(_1===259||_1===260){_tuple$6=getnum(value,std===260);month=_tuple$6[0];value=_tuple$6[1];err=_tuple$6[2];if(month<=0||12<month){rangeErrString="month";}}else if(_1===262){_tuple$7=lookup(shortDayNames,value);value=_tuple$7[1];err=_tuple$7[2];}else if(_1===261){_tuple$8=lookup(longDayNames,value);value=_tuple$8[1];err=_tuple$8[2];}else if(_1===263||_1===264||_1===265){if(std===264&&value.length>0&&value.charCodeAt(0)===32){value=$substring(value,1);}_tuple$9=getnum(value,std===265);day=_tuple$9[0];value=_tuple$9[1];err=_tuple$9[2];if(day<0){rangeErrString="day";}}else if(_1===522){_tuple$10=getnum(value,false);hour=_tuple$10[0];value=_tuple$10[1];err=_tuple$10[2];if(hour<0||24<=hour){rangeErrString="hour";}}else if(_1===523||_1===524){_tuple$11=getnum(value,std===524);hour=_tuple$11[0];value=_tuple$11[1];err=_tuple$11[2];if(hour<0||12<hour){rangeErrString="hour";}}else if(_1===525||_1===526){_tuple$12=getnum(value,std===526);min=_tuple$12[0];value=_tuple$12[1];err=_tuple$12[2];if(min<0||60<=min){rangeErrString="minute";}}else if(_1===527||_1===528){_tuple$13=getnum(value,std===528);sec=_tuple$13[0];value=_tuple$13[1];err=_tuple$13[2];if(sec<0||60<=sec){rangeErrString="second";break;}if(value.length>=2&&value.charCodeAt(0)===46&&isDigit(value,1)){_tuple$14=nextStdChunk(layout);std=_tuple$14[1];std=std&65535;if(std===32||std===33){break;}n=2;while(true){if(!(n<value.length&&isDigit(value,n))){break;}n=n+1>>0;}_tuple$15=parseNanoseconds(value,n);nsec=_tuple$15[0];rangeErrString=_tuple$15[1];err=_tuple$15[2];value=$substring(value,n);}}else if(_1===531){if(value.length<2){err=errBad;break;}_tmp$6=$substring(value,0,2);_tmp$7=$substring(value,2);p=_tmp$6;value=_tmp$7;_2=p;if(_2==="PM"){pmSet=true;}else if(_2==="AM"){amSet=true;}else{err=errBad;}}else if(_1===532){if(value.length<2){err=errBad;break;}_tmp$8=$substring(value,0,2);_tmp$9=$substring(value,2);p=_tmp$8;value=_tmp$9;_3=p;if(_3==="pm"){pmSet=true;}else if(_3==="am"){amSet=true;}else{err=errBad;}}else if(_1===22||_1===25||_1===23||_1===24||_1===26||_1===27||_1===29||_1===30||_1===28||_1===31){if((std===22||std===24||std===25)&&value.length>=1&&value.charCodeAt(0)===90){value=$substring(value,1);z=$pkg.UTC;break;}_tmp$10="";_tmp$11="";_tmp$12="";_tmp$13="";sign=_tmp$10;hour$1=_tmp$11;min$1=_tmp$12;seconds=_tmp$13;if(std===25||std===30){if(value.length<6){err=errBad;break;}if(!(value.charCodeAt(3)===58)){err=errBad;break;}_tmp$14=$substring(value,0,1);_tmp$15=$substring(value,1,3);_tmp$16=$substring(value,4,6);_tmp$17="00";_tmp$18=$substring(value,6);sign=_tmp$14;hour$1=_tmp$15;min$1=_tmp$16;seconds=_tmp$17;value=_tmp$18;}else if(std===29||std===24){if(value.length<3){err=errBad;break;}_tmp$19=$substring(value,0,1);_tmp$20=$substring(value,1,3);_tmp$21="00";_tmp$22="00";_tmp$23=$substring(value,3);sign=_tmp$19;hour$1=_tmp$20;min$1=_tmp$21;seconds=_tmp$22;value=_tmp$23;}else if(std===26||std===31){if(value.length<9){err=errBad;break;}if(!(value.charCodeAt(3)===58)||!(value.charCodeAt(6)===58)){err=errBad;break;}_tmp$24=$substring(value,0,1);_tmp$25=$substring(value,1,3);_tmp$26=$substring(value,4,6);_tmp$27=$substring(value,7,9);_tmp$28=$substring(value,9);sign=_tmp$24;hour$1=_tmp$25;min$1=_tmp$26;seconds=_tmp$27;value=_tmp$28;}else if(std===23||std===28){if(value.length<7){err=errBad;break;}_tmp$29=$substring(value,0,1);_tmp$30=$substring(value,1,3);_tmp$31=$substring(value,3,5);_tmp$32=$substring(value,5,7);_tmp$33=$substring(value,7);sign=_tmp$29;hour$1=_tmp$30;min$1=_tmp$31;seconds=_tmp$32;value=_tmp$33;}else{if(value.length<5){err=errBad;break;}_tmp$34=$substring(value,0,1);_tmp$35=$substring(value,1,3);_tmp$36=$substring(value,3,5);_tmp$37="00";_tmp$38=$substring(value,5);sign=_tmp$34;hour$1=_tmp$35;min$1=_tmp$36;seconds=_tmp$37;value=_tmp$38;}_tmp$39=0;_tmp$40=0;_tmp$41=0;hr=_tmp$39;mm=_tmp$40;ss=_tmp$41;_tuple$16=atoi(hour$1);hr=_tuple$16[0];err=_tuple$16[1];if($interfaceIsEqual(err,$ifaceNil)){_tuple$17=atoi(min$1);mm=_tuple$17[0];err=_tuple$17[1];}if($interfaceIsEqual(err,$ifaceNil)){_tuple$18=atoi(seconds);ss=_tuple$18[0];err=_tuple$18[1];}zoneOffset=$imul($imul(hr,60)+mm>>0,60)+ss>>0;_4=sign.charCodeAt(0);if(_4===43){}else if(_4===45){zoneOffset=-zoneOffset;}else{err=errBad;}}else if(_1===21){if(value.length>=3&&$substring(value,0,3)==="UTC"){z=$pkg.UTC;value=$substring(value,3);break;}_tuple$19=parseTimeZone(value);n$1=_tuple$19[0];ok=_tuple$19[1];if(!ok){err=errBad;break;}_tmp$42=$substring(value,0,n$1);_tmp$43=$substring(value,n$1);zoneName=_tmp$42;value=_tmp$43;}else if(_1===32){ndigit=1+(std>>16>>0)>>0;if(value.length<ndigit){err=errBad;break;}_tuple$20=parseNanoseconds(value,ndigit);nsec=_tuple$20[0];rangeErrString=_tuple$20[1];err=_tuple$20[2];value=$substring(value,ndigit);}else if(_1===33){if(value.length<2||!(value.charCodeAt(0)===46)||value.charCodeAt(1)<48||57<value.charCodeAt(1)){break;}i=0;while(true){if(!(i<9&&i+1>>0<value.length&&48<=value.charCodeAt(i+1>>0)&&value.charCodeAt(i+1>>0)<=57)){break;}i=i+1>>0;}_tuple$21=parseNanoseconds(value,1+i>>0);nsec=_tuple$21[0];rangeErrString=_tuple$21[1];err=_tuple$21[2];value=$substring(value,1+i>>0);}}if(!(rangeErrString==="")){$s=-1;return[new Time.ptr(new $Uint64(0,0),new $Int64(0,0),ptrType$2.nil),new ParseError.ptr(alayout,avalue,stdstr,value,": "+rangeErrString+" out of range")];}if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[new Time.ptr(new $Uint64(0,0),new $Int64(0,0),ptrType$2.nil),new ParseError.ptr(alayout,avalue,stdstr,value,"")];}}if(pmSet&&hour<12){hour=hour+12>>0;}else if(amSet&&hour===12){hour=0;}if(day<1||day>daysIn(month>>0,year)){$s=-1;return[new Time.ptr(new $Uint64(0,0),new $Int64(0,0),ptrType$2.nil),new ParseError.ptr(alayout,avalue,"",value,": day out of range")];}/* */if(!(z===ptrType$2.nil)){$s=1;continue;}/* */$s=2;continue;/* if (!(z === ptrType$2.nil)) { */case 1:_r=Date(year,month>>0,day,hour,min,sec,nsec,z);/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return[_r,$ifaceNil];/* } */case 2:/* */if(!(zoneOffset===-1)){$s=4;continue;}/* */$s=5;continue;/* if (!((zoneOffset === -1))) { */case 4:_r$1=Date(year,month>>0,day,hour,min,sec,nsec,$pkg.UTC);/* */$s=6;case 6:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}t=$clone(_r$1,Time);t.addSec((x$1=new $Int64(0,zoneOffset),new $Int64(-x$1.$high,-x$1.$low)));_r$2=local.lookup(t.unixSec());/* */$s=7;case 7:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$22=_r$2;name=_tuple$22[0];offset=_tuple$22[1];if(offset===zoneOffset&&(zoneName===""||name===zoneName)){t.setLoc(local);$s=-1;return[t,$ifaceNil];}t.setLoc(FixedZone(zoneName,zoneOffset));$s=-1;return[t,$ifaceNil];/* } */case 5:/* */if(!(zoneName==="")){$s=8;continue;}/* */$s=9;continue;/* if (!(zoneName === "")) { */case 8:_r$3=Date(year,month>>0,day,hour,min,sec,nsec,$pkg.UTC);/* */$s=10;case 10:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}t$1=$clone(_r$3,Time);_r$4=local.lookupName(zoneName,t$1.unixSec());/* */$s=11;case 11:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}_tuple$23=_r$4;offset$1=_tuple$23[0];ok$1=_tuple$23[1];if(ok$1){t$1.addSec((x$2=new $Int64(0,offset$1),new $Int64(-x$2.$high,-x$2.$low)));t$1.setLoc(local);$s=-1;return[t$1,$ifaceNil];}if(zoneName.length>3&&$substring(zoneName,0,3)==="GMT"){_tuple$24=atoi($substring(zoneName,3));offset$1=_tuple$24[0];offset$1=$imul(offset$1,3600);}t$1.setLoc(FixedZone(zoneName,offset$1));$s=-1;return[t$1,$ifaceNil];/* } */case 9:_r$5=Date(year,month>>0,day,hour,min,sec,nsec,defaultLocation);/* */$s=12;case 12:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}$s=-1;return[_r$5,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:parse};}$f._1=_1;$f._2=_2;$f._3=_3;$f._4=_4;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tmp$10=_tmp$10;$f._tmp$11=_tmp$11;$f._tmp$12=_tmp$12;$f._tmp$13=_tmp$13;$f._tmp$14=_tmp$14;$f._tmp$15=_tmp$15;$f._tmp$16=_tmp$16;$f._tmp$17=_tmp$17;$f._tmp$18=_tmp$18;$f._tmp$19=_tmp$19;$f._tmp$2=_tmp$2;$f._tmp$20=_tmp$20;$f._tmp$21=_tmp$21;$f._tmp$22=_tmp$22;$f._tmp$23=_tmp$23;$f._tmp$24=_tmp$24;$f._tmp$25=_tmp$25;$f._tmp$26=_tmp$26;$f._tmp$27=_tmp$27;$f._tmp$28=_tmp$28;$f._tmp$29=_tmp$29;$f._tmp$3=_tmp$3;$f._tmp$30=_tmp$30;$f._tmp$31=_tmp$31;$f._tmp$32=_tmp$32;$f._tmp$33=_tmp$33;$f._tmp$34=_tmp$34;$f._tmp$35=_tmp$35;$f._tmp$36=_tmp$36;$f._tmp$37=_tmp$37;$f._tmp$38=_tmp$38;$f._tmp$39=_tmp$39;$f._tmp$4=_tmp$4;$f._tmp$40=_tmp$40;$f._tmp$41=_tmp$41;$f._tmp$42=_tmp$42;$f._tmp$43=_tmp$43;$f._tmp$5=_tmp$5;$f._tmp$6=_tmp$6;$f._tmp$7=_tmp$7;$f._tmp$8=_tmp$8;$f._tmp$9=_tmp$9;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$10=_tuple$10;$f._tuple$11=_tuple$11;$f._tuple$12=_tuple$12;$f._tuple$13=_tuple$13;$f._tuple$14=_tuple$14;$f._tuple$15=_tuple$15;$f._tuple$16=_tuple$16;$f._tuple$17=_tuple$17;$f._tuple$18=_tuple$18;$f._tuple$19=_tuple$19;$f._tuple$2=_tuple$2;$f._tuple$20=_tuple$20;$f._tuple$21=_tuple$21;$f._tuple$22=_tuple$22;$f._tuple$23=_tuple$23;$f._tuple$24=_tuple$24;$f._tuple$3=_tuple$3;$f._tuple$4=_tuple$4;$f._tuple$5=_tuple$5;$f._tuple$6=_tuple$6;$f._tuple$7=_tuple$7;$f._tuple$8=_tuple$8;$f._tuple$9=_tuple$9;$f.alayout=alayout;$f.amSet=amSet;$f.avalue=avalue;$f.day=day;$f.defaultLocation=defaultLocation;$f.err=err;$f.hour=hour;$f.hour$1=hour$1;$f.hr=hr;$f.i=i;$f.layout=layout;$f.local=local;$f.min=min;$f.min$1=min$1;$f.mm=mm;$f.month=month;$f.n=n;$f.n$1=n$1;$f.name=name;$f.ndigit=ndigit;$f.nsec=nsec;$f.offset=offset;$f.offset$1=offset$1;$f.ok=ok;$f.ok$1=ok$1;$f.p=p;$f.pmSet=pmSet;$f.prefix=prefix;$f.rangeErrString=rangeErrString;$f.sec=sec;$f.seconds=seconds;$f.sign=sign;$f.ss=ss;$f.std=std;$f.stdstr=stdstr;$f.suffix=suffix;$f.t=t;$f.t$1=t$1;$f.value=value;$f.x$1=x$1;$f.x$2=x$2;$f.year=year;$f.z=z;$f.zoneName=zoneName;$f.zoneOffset=zoneOffset;$f.$s=$s;$f.$r=$r;return $f;};parseTimeZone=function(value){var _1,_tmp,_tmp$1,_tmp$10,_tmp$11,_tmp$12,_tmp$13,_tmp$14,_tmp$15,_tmp$16,_tmp$17,_tmp$2,_tmp$3,_tmp$4,_tmp$5,_tmp$6,_tmp$7,_tmp$8,_tmp$9,c,length,nUpper,ok,ok$1,value;length=0;ok=false;if(value.length<3){_tmp=0;_tmp$1=false;length=_tmp;ok=_tmp$1;return[length,ok];}if(value.length>=4&&($substring(value,0,4)==="ChST"||$substring(value,0,4)==="MeST")){_tmp$2=4;_tmp$3=true;length=_tmp$2;ok=_tmp$3;return[length,ok];}if($substring(value,0,3)==="GMT"){length=parseGMT(value);_tmp$4=length;_tmp$5=true;length=_tmp$4;ok=_tmp$5;return[length,ok];}if(value.charCodeAt(0)===43||value.charCodeAt(0)===45){length=parseSignedOffset(value);ok$1=length>0;_tmp$6=length;_tmp$7=ok$1;length=_tmp$6;ok=_tmp$7;return[length,ok];}nUpper=0;nUpper=0;while(true){if(!(nUpper<6)){break;}if(nUpper>=value.length){break;}c=value.charCodeAt(nUpper);if(c<65||90<c){break;}nUpper=nUpper+1>>0;}_1=nUpper;if(_1===0||_1===1||_1===2||_1===6){_tmp$8=0;_tmp$9=false;length=_tmp$8;ok=_tmp$9;return[length,ok];}else if(_1===5){if(value.charCodeAt(4)===84){_tmp$10=5;_tmp$11=true;length=_tmp$10;ok=_tmp$11;return[length,ok];}}else if(_1===4){if(value.charCodeAt(3)===84||$substring(value,0,4)==="WITA"){_tmp$12=4;_tmp$13=true;length=_tmp$12;ok=_tmp$13;return[length,ok];}}else if(_1===3){_tmp$14=3;_tmp$15=true;length=_tmp$14;ok=_tmp$15;return[length,ok];}_tmp$16=0;_tmp$17=false;length=_tmp$16;ok=_tmp$17;return[length,ok];};parseGMT=function(value){var value;value=$substring(value,3);if(value.length===0){return 3;}return 3+parseSignedOffset(value)>>0;};parseSignedOffset=function(value){var _tuple,err,rem,sign,value,x$1;sign=value.charCodeAt(0);if(!(sign===45)&&!(sign===43)){return 0;}_tuple=leadingInt($substring(value,1));x$1=_tuple[0];rem=_tuple[1];err=_tuple[2];if(!$interfaceIsEqual(err,$ifaceNil)||$substring(value,1)===rem){return 0;}if(sign===45){x$1=new $Int64(-x$1.$high,-x$1.$low);}if(x$1.$high<-1||x$1.$high===-1&&x$1.$low<4294967273||0<x$1.$high||0===x$1.$high&&23<x$1.$low){return 0;}return value.length-rem.length>>0;};parseNanoseconds=function(value,nbytes){var _tuple,err,i,nbytes,ns,rangeErrString,scaleDigits,value;ns=0;rangeErrString="";err=$ifaceNil;if(!(value.charCodeAt(0)===46)){err=errBad;return[ns,rangeErrString,err];}_tuple=atoi($substring(value,1,nbytes));ns=_tuple[0];err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){return[ns,rangeErrString,err];}if(ns<0||1000000000<=ns){rangeErrString="fractional second";return[ns,rangeErrString,err];}scaleDigits=10-nbytes>>0;i=0;while(true){if(!(i<scaleDigits)){break;}ns=$imul(ns,10);i=i+1>>0;}return[ns,rangeErrString,err];};leadingInt=function(s){var _tmp,_tmp$1,_tmp$2,_tmp$3,_tmp$4,_tmp$5,_tmp$6,_tmp$7,_tmp$8,c,err,i,rem,s,x$1,x$2,x$3,x$4;x$1=new $Int64(0,0);rem="";err=$ifaceNil;i=0;while(true){if(!(i<s.length)){break;}c=s.charCodeAt(i);if(c<48||c>57){break;}if(x$1.$high>214748364||x$1.$high===214748364&&x$1.$low>3435973836){_tmp=new $Int64(0,0);_tmp$1="";_tmp$2=errLeadingInt;x$1=_tmp;rem=_tmp$1;err=_tmp$2;return[x$1,rem,err];}x$1=(x$2=(x$3=$mul64(x$1,new $Int64(0,10)),x$4=new $Int64(0,c),new $Int64(x$3.$high+x$4.$high,x$3.$low+x$4.$low)),new $Int64(x$2.$high-0,x$2.$low-48));if(x$1.$high<0||x$1.$high===0&&x$1.$low<0){_tmp$3=new $Int64(0,0);_tmp$4="";_tmp$5=errLeadingInt;x$1=_tmp$3;rem=_tmp$4;err=_tmp$5;return[x$1,rem,err];}i=i+1>>0;}_tmp$6=x$1;_tmp$7=$substring(s,i);_tmp$8=$ifaceNil;x$1=_tmp$6;rem=_tmp$7;err=_tmp$8;return[x$1,rem,err];};Time.ptr.prototype.nsec=function(){var t,x$1;t=this;return(x$1=t.wall,new $Uint64(x$1.$high&0,(x$1.$low&1073741823)>>>0)).$low>>0;};Time.prototype.nsec=function(){return this.$val.nsec();};Time.ptr.prototype.sec=function(){var t,x$1,x$2,x$3,x$4;t=this;if(!(x$1=(x$2=t.wall,new $Uint64(x$2.$high&2147483648,(x$2.$low&0)>>>0)),x$1.$high===0&&x$1.$low===0)){return x$3=(x$4=$shiftRightUint64($shiftLeft64(t.wall,1),31),new $Int64(x$4.$high,x$4.$low)),new $Int64(13+x$3.$high,3618733952+x$3.$low);}return t.ext;};Time.prototype.sec=function(){return this.$val.sec();};Time.ptr.prototype.unixSec=function(){var t,x$1;t=this;return x$1=t.sec(),new $Int64(x$1.$high+-15,x$1.$low+2288912640);};Time.prototype.unixSec=function(){return this.$val.unixSec();};Time.ptr.prototype.addSec=function(d){var d,dsec,sec,t,x$1,x$2,x$3,x$4,x$5,x$6,x$7,x$8,x$9;t=this;if(!(x$1=(x$2=t.wall,new $Uint64(x$2.$high&2147483648,(x$2.$low&0)>>>0)),x$1.$high===0&&x$1.$low===0)){sec=(x$3=$shiftRightUint64($shiftLeft64(t.wall,1),31),new $Int64(x$3.$high,x$3.$low));dsec=new $Int64(sec.$high+d.$high,sec.$low+d.$low);if((0<dsec.$high||0===dsec.$high&&0<=dsec.$low)&&(dsec.$high<1||dsec.$high===1&&dsec.$low<=4294967295)){t.wall=(x$4=(x$5=(x$6=t.wall,new $Uint64(x$6.$high&0,(x$6.$low&1073741823)>>>0)),x$7=$shiftLeft64(new $Uint64(dsec.$high,dsec.$low),30),new $Uint64(x$5.$high|x$7.$high,(x$5.$low|x$7.$low)>>>0)),new $Uint64(x$4.$high|2147483648,(x$4.$low|0)>>>0));return;}t.stripMono();}t.ext=(x$8=t.ext,x$9=d,new $Int64(x$8.$high+x$9.$high,x$8.$low+x$9.$low));};Time.prototype.addSec=function(d){return this.$val.addSec(d);};Time.ptr.prototype.setLoc=function(loc){var loc,t;t=this;if(loc===utcLoc){loc=ptrType$2.nil;}t.stripMono();t.loc=loc;};Time.prototype.setLoc=function(loc){return this.$val.setLoc(loc);};Time.ptr.prototype.stripMono=function(){var t,x$1,x$2,x$3,x$4;t=this;if(!(x$1=(x$2=t.wall,new $Uint64(x$2.$high&2147483648,(x$2.$low&0)>>>0)),x$1.$high===0&&x$1.$low===0)){t.ext=t.sec();t.wall=(x$3=t.wall,x$4=new $Uint64(0,1073741823),new $Uint64(x$3.$high&x$4.$high,(x$3.$low&x$4.$low)>>>0));}};Time.prototype.stripMono=function(){return this.$val.stripMono();};Time.ptr.prototype.After=function(u){var t,ts,u,us,x$1,x$2,x$3,x$4,x$5,x$6;t=this;if(!(x$1=(x$2=(x$3=t.wall,x$4=u.wall,new $Uint64(x$3.$high&x$4.$high,(x$3.$low&x$4.$low)>>>0)),new $Uint64(x$2.$high&2147483648,(x$2.$low&0)>>>0)),x$1.$high===0&&x$1.$low===0)){return x$5=t.ext,x$6=u.ext,x$5.$high>x$6.$high||x$5.$high===x$6.$high&&x$5.$low>x$6.$low;}ts=t.sec();us=u.sec();return ts.$high>us.$high||ts.$high===us.$high&&ts.$low>us.$low||ts.$high===us.$high&&ts.$low===us.$low&&t.nsec()>u.nsec();};Time.prototype.After=function(u){return this.$val.After(u);};Time.ptr.prototype.Before=function(u){var t,u,x$1,x$10,x$2,x$3,x$4,x$5,x$6,x$7,x$8,x$9;t=this;if(!(x$1=(x$2=(x$3=t.wall,x$4=u.wall,new $Uint64(x$3.$high&x$4.$high,(x$3.$low&x$4.$low)>>>0)),new $Uint64(x$2.$high&2147483648,(x$2.$low&0)>>>0)),x$1.$high===0&&x$1.$low===0)){return x$5=t.ext,x$6=u.ext,x$5.$high<x$6.$high||x$5.$high===x$6.$high&&x$5.$low<x$6.$low;}return(x$7=t.sec(),x$8=u.sec(),x$7.$high<x$8.$high||x$7.$high===x$8.$high&&x$7.$low<x$8.$low)||(x$9=t.sec(),x$10=u.sec(),x$9.$high===x$10.$high&&x$9.$low===x$10.$low)&&t.nsec()<u.nsec();};Time.prototype.Before=function(u){return this.$val.Before(u);};Time.ptr.prototype.Equal=function(u){var t,u,x$1,x$2,x$3,x$4,x$5,x$6,x$7,x$8;t=this;if(!(x$1=(x$2=(x$3=t.wall,x$4=u.wall,new $Uint64(x$3.$high&x$4.$high,(x$3.$low&x$4.$low)>>>0)),new $Uint64(x$2.$high&2147483648,(x$2.$low&0)>>>0)),x$1.$high===0&&x$1.$low===0)){return x$5=t.ext,x$6=u.ext,x$5.$high===x$6.$high&&x$5.$low===x$6.$low;}return(x$7=t.sec(),x$8=u.sec(),x$7.$high===x$8.$high&&x$7.$low===x$8.$low)&&t.nsec()===u.nsec();};Time.prototype.Equal=function(u){return this.$val.Equal(u);};Month.prototype.String=function(){var buf,m,n,x$1;m=this.$val;if(1<=m&&m<=12){return x$1=m-1>>0,x$1<0||x$1>=months.length?($throwRuntimeError("index out of range"),undefined):months[x$1];}buf=$makeSlice(sliceType$3,20);n=fmtInt(buf,new $Uint64(0,m));return"%!Month("+$bytesToString($subslice(buf,n))+")";};$ptrType(Month).prototype.String=function(){return new Month(this.$get()).String();};Weekday.prototype.String=function(){var buf,d,n;d=this.$val;if(0<=d&&d<=6){return d<0||d>=days.length?($throwRuntimeError("index out of range"),undefined):days[d];}buf=$makeSlice(sliceType$3,20);n=fmtInt(buf,new $Uint64(0,d));return"%!Weekday("+$bytesToString($subslice(buf,n))+")";};$ptrType(Weekday).prototype.String=function(){return new Weekday(this.$get()).String();};Time.ptr.prototype.IsZero=function(){var t,x$1;t=this;return(x$1=t.sec(),x$1.$high===0&&x$1.$low===0)&&t.nsec()===0;};Time.prototype.IsZero=function(){return this.$val.IsZero();};Time.ptr.prototype.abs=function(){var _r,_r$1,_tuple,l,offset,sec,t,x$1,x$2,x$3,x$4,x$5,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_tuple=$f._tuple;l=$f.l;offset=$f.offset;sec=$f.sec;t=$f.t;x$1=$f.x$1;x$2=$f.x$2;x$3=$f.x$3;x$4=$f.x$4;x$5=$f.x$5;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:t=this;l=t.loc;/* */if(l===ptrType$2.nil||l===localLoc){$s=1;continue;}/* */$s=2;continue;/* if (l === ptrType$2.nil || l === localLoc) { */case 1:_r=l.get();/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}l=_r;/* } */case 2:sec=t.unixSec();/* */if(!(l===utcLoc)){$s=4;continue;}/* */$s=5;continue;/* if (!(l === utcLoc)) { */case 4:/* */if(!(l.cacheZone===ptrType.nil)&&(x$1=l.cacheStart,x$1.$high<sec.$high||x$1.$high===sec.$high&&x$1.$low<=sec.$low)&&(x$2=l.cacheEnd,sec.$high<x$2.$high||sec.$high===x$2.$high&&sec.$low<x$2.$low)){$s=6;continue;}/* */$s=7;continue;/* if (!(l.cacheZone === ptrType.nil) && (x$1 = l.cacheStart, (x$1.$high < sec.$high || (x$1.$high === sec.$high && x$1.$low <= sec.$low))) && (x$2 = l.cacheEnd, (sec.$high < x$2.$high || (sec.$high === x$2.$high && sec.$low < x$2.$low)))) { */case 6:sec=(x$3=new $Int64(0,l.cacheZone.offset),new $Int64(sec.$high+x$3.$high,sec.$low+x$3.$low));$s=8;continue;/* } else { */case 7:_r$1=l.lookup(sec);/* */$s=9;case 9:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple=_r$1;offset=_tuple[1];sec=(x$4=new $Int64(0,offset),new $Int64(sec.$high+x$4.$high,sec.$low+x$4.$low));/* } */case 8:/* } */case 5:$s=-1;return x$5=new $Int64(sec.$high+2147483646,sec.$low+450480384),new $Uint64(x$5.$high,x$5.$low);/* */}return;}if($f===undefined){$f={$blk:Time.ptr.prototype.abs};}$f._r=_r;$f._r$1=_r$1;$f._tuple=_tuple;$f.l=l;$f.offset=offset;$f.sec=sec;$f.t=t;$f.x$1=x$1;$f.x$2=x$2;$f.x$3=x$3;$f.x$4=x$4;$f.x$5=x$5;$f.$s=$s;$f.$r=$r;return $f;};Time.prototype.abs=function(){return this.$val.abs();};Time.ptr.prototype.locabs=function(){var _r,_r$1,_tuple,abs,l,name,offset,sec,t,x$1,x$2,x$3,x$4,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_tuple=$f._tuple;abs=$f.abs;l=$f.l;name=$f.name;offset=$f.offset;sec=$f.sec;t=$f.t;x$1=$f.x$1;x$2=$f.x$2;x$3=$f.x$3;x$4=$f.x$4;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:name="";offset=0;abs=new $Uint64(0,0);t=this;l=t.loc;/* */if(l===ptrType$2.nil||l===localLoc){$s=1;continue;}/* */$s=2;continue;/* if (l === ptrType$2.nil || l === localLoc) { */case 1:_r=l.get();/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}l=_r;/* } */case 2:sec=t.unixSec();/* */if(!(l===utcLoc)){$s=4;continue;}/* */$s=5;continue;/* if (!(l === utcLoc)) { */case 4:/* */if(!(l.cacheZone===ptrType.nil)&&(x$1=l.cacheStart,x$1.$high<sec.$high||x$1.$high===sec.$high&&x$1.$low<=sec.$low)&&(x$2=l.cacheEnd,sec.$high<x$2.$high||sec.$high===x$2.$high&&sec.$low<x$2.$low)){$s=7;continue;}/* */$s=8;continue;/* if (!(l.cacheZone === ptrType.nil) && (x$1 = l.cacheStart, (x$1.$high < sec.$high || (x$1.$high === sec.$high && x$1.$low <= sec.$low))) && (x$2 = l.cacheEnd, (sec.$high < x$2.$high || (sec.$high === x$2.$high && sec.$low < x$2.$low)))) { */case 7:name=l.cacheZone.name;offset=l.cacheZone.offset;$s=9;continue;/* } else { */case 8:_r$1=l.lookup(sec);/* */$s=10;case 10:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple=_r$1;name=_tuple[0];offset=_tuple[1];/* } */case 9:sec=(x$3=new $Int64(0,offset),new $Int64(sec.$high+x$3.$high,sec.$low+x$3.$low));$s=6;continue;/* } else { */case 5:name="UTC";/* } */case 6:abs=(x$4=new $Int64(sec.$high+2147483646,sec.$low+450480384),new $Uint64(x$4.$high,x$4.$low));$s=-1;return[name,offset,abs];/* */}return;}if($f===undefined){$f={$blk:Time.ptr.prototype.locabs};}$f._r=_r;$f._r$1=_r$1;$f._tuple=_tuple;$f.abs=abs;$f.l=l;$f.name=name;$f.offset=offset;$f.sec=sec;$f.t=t;$f.x$1=x$1;$f.x$2=x$2;$f.x$3=x$3;$f.x$4=x$4;$f.$s=$s;$f.$r=$r;return $f;};Time.prototype.locabs=function(){return this.$val.locabs();};Time.ptr.prototype.Date=function(){var _r,_tuple,day,month,t,year,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tuple=$f._tuple;day=$f.day;month=$f.month;t=$f.t;year=$f.year;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:year=0;month=0;day=0;t=this;_r=$clone(t,Time).date(true);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;year=_tuple[0];month=_tuple[1];day=_tuple[2];$s=-1;return[year,month,day];/* */}return;}if($f===undefined){$f={$blk:Time.ptr.prototype.Date};}$f._r=_r;$f._tuple=_tuple;$f.day=day;$f.month=month;$f.t=t;$f.year=year;$f.$s=$s;$f.$r=$r;return $f;};Time.prototype.Date=function(){return this.$val.Date();};Time.ptr.prototype.Year=function(){var _r,_tuple,t,year,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tuple=$f._tuple;t=$f.t;year=$f.year;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:t=this;_r=$clone(t,Time).date(false);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;year=_tuple[0];$s=-1;return year;/* */}return;}if($f===undefined){$f={$blk:Time.ptr.prototype.Year};}$f._r=_r;$f._tuple=_tuple;$f.t=t;$f.year=year;$f.$s=$s;$f.$r=$r;return $f;};Time.prototype.Year=function(){return this.$val.Year();};Time.ptr.prototype.Month=function(){var _r,_tuple,month,t,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tuple=$f._tuple;month=$f.month;t=$f.t;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:t=this;_r=$clone(t,Time).date(true);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;month=_tuple[1];$s=-1;return month;/* */}return;}if($f===undefined){$f={$blk:Time.ptr.prototype.Month};}$f._r=_r;$f._tuple=_tuple;$f.month=month;$f.t=t;$f.$s=$s;$f.$r=$r;return $f;};Time.prototype.Month=function(){return this.$val.Month();};Time.ptr.prototype.Day=function(){var _r,_tuple,day,t,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tuple=$f._tuple;day=$f.day;t=$f.t;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:t=this;_r=$clone(t,Time).date(true);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;day=_tuple[2];$s=-1;return day;/* */}return;}if($f===undefined){$f={$blk:Time.ptr.prototype.Day};}$f._r=_r;$f._tuple=_tuple;$f.day=day;$f.t=t;$f.$s=$s;$f.$r=$r;return $f;};Time.prototype.Day=function(){return this.$val.Day();};Time.ptr.prototype.Weekday=function(){var _r,_r$1,t,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;t=$f.t;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:t=this;_r=$clone(t,Time).abs();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_r$1=absWeekday(_r);/* */$s=2;case 2:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}$s=-1;return _r$1;/* */}return;}if($f===undefined){$f={$blk:Time.ptr.prototype.Weekday};}$f._r=_r;$f._r$1=_r$1;$f.t=t;$f.$s=$s;$f.$r=$r;return $f;};Time.prototype.Weekday=function(){return this.$val.Weekday();};absWeekday=function(abs){var _q,abs,sec;sec=$div64(new $Uint64(abs.$high+0,abs.$low+86400),new $Uint64(0,604800),true);return(_q=(sec.$low>>0)/86400,_q===_q&&_q!==1/0&&_q!==-1/0?_q>>0:$throwRuntimeError("integer divide by zero"))>>0;};Time.ptr.prototype.ISOWeek=function(){var _q,_r,_r$1,_r$2,_r$3,_r$4,_tuple,day,dec31wday,jan1wday,month,t,wday,week,yday,year,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_q=$f._q;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_tuple=$f._tuple;day=$f.day;dec31wday=$f.dec31wday;jan1wday=$f.jan1wday;month=$f.month;t=$f.t;wday=$f.wday;week=$f.week;yday=$f.yday;year=$f.year;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:year=0;week=0;t=this;_r=$clone(t,Time).date(true);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;year=_tuple[0];month=_tuple[1];day=_tuple[2];yday=_tuple[3];_r$2=$clone(t,Time).Weekday();/* */$s=2;case 2:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}wday=(_r$1=(_r$2+6>>0>>0)%7,_r$1===_r$1?_r$1:$throwRuntimeError("integer divide by zero"));week=(_q=((yday-wday>>0)+7>>0)/7,_q===_q&&_q!==1/0&&_q!==-1/0?_q>>0:$throwRuntimeError("integer divide by zero"));jan1wday=(_r$3=((wday-yday>>0)+371>>0)%7,_r$3===_r$3?_r$3:$throwRuntimeError("integer divide by zero"));if(1<=jan1wday&&jan1wday<=3){week=week+1>>0;}if(week===0){year=year-1>>0;week=52;if(jan1wday===4||jan1wday===5&&isLeap(year)){week=week+1>>0;}}if(month===12&&day>=29&&wday<3){dec31wday=(_r$4=((wday+31>>0)-day>>0)%7,_r$4===_r$4?_r$4:$throwRuntimeError("integer divide by zero"));if(0<=dec31wday&&dec31wday<=2){year=year+1>>0;week=1;}}$s=-1;return[year,week];/* */}return;}if($f===undefined){$f={$blk:Time.ptr.prototype.ISOWeek};}$f._q=_q;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._tuple=_tuple;$f.day=day;$f.dec31wday=dec31wday;$f.jan1wday=jan1wday;$f.month=month;$f.t=t;$f.wday=wday;$f.week=week;$f.yday=yday;$f.year=year;$f.$s=$s;$f.$r=$r;return $f;};Time.prototype.ISOWeek=function(){return this.$val.ISOWeek();};Time.ptr.prototype.Clock=function(){var _r,_r$1,_tuple,hour,min,sec,t,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_tuple=$f._tuple;hour=$f.hour;min=$f.min;sec=$f.sec;t=$f.t;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:hour=0;min=0;sec=0;t=this;_r=$clone(t,Time).abs();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_r$1=absClock(_r);/* */$s=2;case 2:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple=_r$1;hour=_tuple[0];min=_tuple[1];sec=_tuple[2];$s=-1;return[hour,min,sec];/* */}return;}if($f===undefined){$f={$blk:Time.ptr.prototype.Clock};}$f._r=_r;$f._r$1=_r$1;$f._tuple=_tuple;$f.hour=hour;$f.min=min;$f.sec=sec;$f.t=t;$f.$s=$s;$f.$r=$r;return $f;};Time.prototype.Clock=function(){return this.$val.Clock();};absClock=function(abs){var _q,_q$1,abs,hour,min,sec;hour=0;min=0;sec=0;sec=$div64(abs,new $Uint64(0,86400),true).$low>>0;hour=(_q=sec/3600,_q===_q&&_q!==1/0&&_q!==-1/0?_q>>0:$throwRuntimeError("integer divide by zero"));sec=sec-$imul(hour,3600)>>0;min=(_q$1=sec/60,_q$1===_q$1&&_q$1!==1/0&&_q$1!==-1/0?_q$1>>0:$throwRuntimeError("integer divide by zero"));sec=sec-$imul(min,60)>>0;return[hour,min,sec];};Time.ptr.prototype.Hour=function(){var _q,_r,t,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_q=$f._q;_r=$f._r;t=$f.t;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:t=this;_r=$clone(t,Time).abs();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _q=($div64(_r,new $Uint64(0,86400),true).$low>>0)/3600,_q===_q&&_q!==1/0&&_q!==-1/0?_q>>0:$throwRuntimeError("integer divide by zero");/* */}return;}if($f===undefined){$f={$blk:Time.ptr.prototype.Hour};}$f._q=_q;$f._r=_r;$f.t=t;$f.$s=$s;$f.$r=$r;return $f;};Time.prototype.Hour=function(){return this.$val.Hour();};Time.ptr.prototype.Minute=function(){var _q,_r,t,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_q=$f._q;_r=$f._r;t=$f.t;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:t=this;_r=$clone(t,Time).abs();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _q=($div64(_r,new $Uint64(0,3600),true).$low>>0)/60,_q===_q&&_q!==1/0&&_q!==-1/0?_q>>0:$throwRuntimeError("integer divide by zero");/* */}return;}if($f===undefined){$f={$blk:Time.ptr.prototype.Minute};}$f._q=_q;$f._r=_r;$f.t=t;$f.$s=$s;$f.$r=$r;return $f;};Time.prototype.Minute=function(){return this.$val.Minute();};Time.ptr.prototype.Second=function(){var _r,t,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;t=$f.t;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:t=this;_r=$clone(t,Time).abs();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return $div64(_r,new $Uint64(0,60),true).$low>>0;/* */}return;}if($f===undefined){$f={$blk:Time.ptr.prototype.Second};}$f._r=_r;$f.t=t;$f.$s=$s;$f.$r=$r;return $f;};Time.prototype.Second=function(){return this.$val.Second();};Time.ptr.prototype.Nanosecond=function(){var t;t=this;return t.nsec()>>0;};Time.prototype.Nanosecond=function(){return this.$val.Nanosecond();};Time.ptr.prototype.YearDay=function(){var _r,_tuple,t,yday,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tuple=$f._tuple;t=$f.t;yday=$f.yday;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:t=this;_r=$clone(t,Time).date(false);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;yday=_tuple[3];$s=-1;return yday+1>>0;/* */}return;}if($f===undefined){$f={$blk:Time.ptr.prototype.YearDay};}$f._r=_r;$f._tuple=_tuple;$f.t=t;$f.yday=yday;$f.$s=$s;$f.$r=$r;return $f;};Time.prototype.YearDay=function(){return this.$val.YearDay();};Duration.prototype.String=function(){var _tuple,_tuple$1,buf,d,neg,prec,u,w;d=this;buf=arrayType$3.zero();w=32;u=new $Uint64(d.$high,d.$low);neg=d.$high<0||d.$high===0&&d.$low<0;if(neg){u=new $Uint64(-u.$high,-u.$low);}if(u.$high<0||u.$high===0&&u.$low<1000000000){prec=0;w=w-1>>0;w<0||w>=buf.length?($throwRuntimeError("index out of range"),undefined):buf[w]=115;w=w-1>>0;if(u.$high===0&&u.$low===0){return"0s";}else if(u.$high<0||u.$high===0&&u.$low<1000){prec=0;w<0||w>=buf.length?($throwRuntimeError("index out of range"),undefined):buf[w]=110;}else if(u.$high<0||u.$high===0&&u.$low<1000000){prec=3;w=w-1>>0;$copyString($subslice(new sliceType$3(buf),w),"\xC2\xB5");}else{prec=6;w<0||w>=buf.length?($throwRuntimeError("index out of range"),undefined):buf[w]=109;}_tuple=fmtFrac($subslice(new sliceType$3(buf),0,w),u,prec);w=_tuple[0];u=_tuple[1];w=fmtInt($subslice(new sliceType$3(buf),0,w),u);}else{w=w-1>>0;w<0||w>=buf.length?($throwRuntimeError("index out of range"),undefined):buf[w]=115;_tuple$1=fmtFrac($subslice(new sliceType$3(buf),0,w),u,9);w=_tuple$1[0];u=_tuple$1[1];w=fmtInt($subslice(new sliceType$3(buf),0,w),$div64(u,new $Uint64(0,60),true));u=$div64(u,new $Uint64(0,60),false);if(u.$high>0||u.$high===0&&u.$low>0){w=w-1>>0;w<0||w>=buf.length?($throwRuntimeError("index out of range"),undefined):buf[w]=109;w=fmtInt($subslice(new sliceType$3(buf),0,w),$div64(u,new $Uint64(0,60),true));u=$div64(u,new $Uint64(0,60),false);if(u.$high>0||u.$high===0&&u.$low>0){w=w-1>>0;w<0||w>=buf.length?($throwRuntimeError("index out of range"),undefined):buf[w]=104;w=fmtInt($subslice(new sliceType$3(buf),0,w),u);}}}if(neg){w=w-1>>0;w<0||w>=buf.length?($throwRuntimeError("index out of range"),undefined):buf[w]=45;}return $bytesToString($subslice(new sliceType$3(buf),w));};$ptrType(Duration).prototype.String=function(){return this.$get().String();};fmtFrac=function(buf,v,prec){var _tmp,_tmp$1,buf,digit,i,nv,nw,prec,print,v,w;nw=0;nv=new $Uint64(0,0);w=buf.$length;print=false;i=0;while(true){if(!(i<prec)){break;}digit=$div64(v,new $Uint64(0,10),true);print=print||!(digit.$high===0&&digit.$low===0);if(print){w=w-1>>0;w<0||w>=buf.$length?($throwRuntimeError("index out of range"),undefined):buf.$array[buf.$offset+w]=(digit.$low<<24>>>24)+48<<24>>>24;}v=$div64(v,new $Uint64(0,10),false);i=i+1>>0;}if(print){w=w-1>>0;w<0||w>=buf.$length?($throwRuntimeError("index out of range"),undefined):buf.$array[buf.$offset+w]=46;}_tmp=w;_tmp$1=v;nw=_tmp;nv=_tmp$1;return[nw,nv];};fmtInt=function(buf,v){var buf,v,w;w=buf.$length;if(v.$high===0&&v.$low===0){w=w-1>>0;w<0||w>=buf.$length?($throwRuntimeError("index out of range"),undefined):buf.$array[buf.$offset+w]=48;}else{while(true){if(!(v.$high>0||v.$high===0&&v.$low>0)){break;}w=w-1>>0;w<0||w>=buf.$length?($throwRuntimeError("index out of range"),undefined):buf.$array[buf.$offset+w]=($div64(v,new $Uint64(0,10),true).$low<<24>>>24)+48<<24>>>24;v=$div64(v,new $Uint64(0,10),false);}}return w;};Duration.prototype.Nanoseconds=function(){var d;d=this;return new $Int64(d.$high,d.$low);};$ptrType(Duration).prototype.Nanoseconds=function(){return this.$get().Nanoseconds();};Duration.prototype.Seconds=function(){var d,nsec,sec;d=this;sec=$div64(d,new Duration(0,1000000000),false);nsec=$div64(d,new Duration(0,1000000000),true);return $flatten64(sec)+$flatten64(nsec)/1e+09;};$ptrType(Duration).prototype.Seconds=function(){return this.$get().Seconds();};Duration.prototype.Minutes=function(){var d,min,nsec;d=this;min=$div64(d,new Duration(13,4165425152),false);nsec=$div64(d,new Duration(13,4165425152),true);return $flatten64(min)+$flatten64(nsec)/6e+10;};$ptrType(Duration).prototype.Minutes=function(){return this.$get().Minutes();};Duration.prototype.Hours=function(){var d,hour,nsec;d=this;hour=$div64(d,new Duration(838,817405952),false);nsec=$div64(d,new Duration(838,817405952),true);return $flatten64(hour)+$flatten64(nsec)/3.6e+12;};$ptrType(Duration).prototype.Hours=function(){return this.$get().Hours();};Duration.prototype.Truncate=function(m){var d,m,x$1;d=this;if(m.$high<0||m.$high===0&&m.$low<=0){return d;}return x$1=$div64(d,m,true),new Duration(d.$high-x$1.$high,d.$low-x$1.$low);};$ptrType(Duration).prototype.Truncate=function(m){return this.$get().Truncate(m);};lessThanHalf=function(x$1,y){var x$1,x$2,x$3,x$4,x$5,y;return x$2=(x$3=new $Uint64(x$1.$high,x$1.$low),x$4=new $Uint64(x$1.$high,x$1.$low),new $Uint64(x$3.$high+x$4.$high,x$3.$low+x$4.$low)),x$5=new $Uint64(y.$high,y.$low),x$2.$high<x$5.$high||x$2.$high===x$5.$high&&x$2.$low<x$5.$low;};Duration.prototype.Round=function(m){var d,d1,d1$1,m,r,x$1,x$2;d=this;if(m.$high<0||m.$high===0&&m.$low<=0){return d;}r=$div64(d,m,true);if(d.$high<0||d.$high===0&&d.$low<0){r=new Duration(-r.$high,-r.$low);if(lessThanHalf(r,m)){return new Duration(d.$high+r.$high,d.$low+r.$low);}d1=(x$1=new Duration(d.$high-m.$high,d.$low-m.$low),new Duration(x$1.$high+r.$high,x$1.$low+r.$low));if(d1.$high<d.$high||d1.$high===d.$high&&d1.$low<d.$low){return d1;}return new Duration(-2147483648,0);}if(lessThanHalf(r,m)){return new Duration(d.$high-r.$high,d.$low-r.$low);}d1$1=(x$2=new Duration(d.$high+m.$high,d.$low+m.$low),new Duration(x$2.$high-r.$high,x$2.$low-r.$low));if(d1$1.$high>d.$high||d1$1.$high===d.$high&&d1$1.$low>d.$low){return d1$1;}return new Duration(2147483647,4294967295);};$ptrType(Duration).prototype.Round=function(m){return this.$get().Round(m);};Time.ptr.prototype.Add=function(d){var d,dsec,nsec,t,te,x$1,x$10,x$11,x$12,x$13,x$2,x$3,x$4,x$5,x$6,x$7,x$8,x$9;t=this;dsec=(x$1=$div64(d,new Duration(0,1000000000),false),new $Int64(x$1.$high,x$1.$low));nsec=t.nsec()+((x$2=$div64(d,new Duration(0,1000000000),true),x$2.$low+(x$2.$high>>31)*4294967296)>>0)>>0;if(nsec>=1000000000){dsec=(x$3=new $Int64(0,1),new $Int64(dsec.$high+x$3.$high,dsec.$low+x$3.$low));nsec=nsec-1000000000>>0;}else if(nsec<0){dsec=(x$4=new $Int64(0,1),new $Int64(dsec.$high-x$4.$high,dsec.$low-x$4.$low));nsec=nsec+1000000000>>0;}t.wall=(x$5=(x$6=t.wall,new $Uint64(x$6.$high&~0,(x$6.$low&~1073741823)>>>0)),x$7=new $Uint64(0,nsec),new $Uint64(x$5.$high|x$7.$high,(x$5.$low|x$7.$low)>>>0));t.addSec(dsec);if(!(x$8=(x$9=t.wall,new $Uint64(x$9.$high&2147483648,(x$9.$low&0)>>>0)),x$8.$high===0&&x$8.$low===0)){te=(x$10=t.ext,x$11=new $Int64(d.$high,d.$low),new $Int64(x$10.$high+x$11.$high,x$10.$low+x$11.$low));if((d.$high<0||d.$high===0&&d.$low<0)&&(x$12=t.ext,te.$high>x$12.$high||te.$high===x$12.$high&&te.$low>x$12.$low)||(d.$high>0||d.$high===0&&d.$low>0)&&(x$13=t.ext,te.$high<x$13.$high||te.$high===x$13.$high&&te.$low<x$13.$low)){t.stripMono();}else{t.ext=te;}}return t;};Time.prototype.Add=function(d){return this.$val.Add(d);};Time.ptr.prototype.Sub=function(u){var d,d$1,t,te,u,ue,x$1,x$10,x$2,x$3,x$4,x$5,x$6,x$7,x$8,x$9;t=this;if(!(x$1=(x$2=(x$3=t.wall,x$4=u.wall,new $Uint64(x$3.$high&x$4.$high,(x$3.$low&x$4.$low)>>>0)),new $Uint64(x$2.$high&2147483648,(x$2.$low&0)>>>0)),x$1.$high===0&&x$1.$low===0)){te=t.ext;ue=u.ext;d=(x$5=new $Int64(te.$high-ue.$high,te.$low-ue.$low),new Duration(x$5.$high,x$5.$low));if((d.$high<0||d.$high===0&&d.$low<0)&&(te.$high>ue.$high||te.$high===ue.$high&&te.$low>ue.$low)){return new Duration(2147483647,4294967295);}if((d.$high>0||d.$high===0&&d.$low>0)&&(te.$high<ue.$high||te.$high===ue.$high&&te.$low<ue.$low)){return new Duration(-2147483648,0);}return d;}d$1=(x$6=$mul64((x$7=(x$8=t.sec(),x$9=u.sec(),new $Int64(x$8.$high-x$9.$high,x$8.$low-x$9.$low)),new Duration(x$7.$high,x$7.$low)),new Duration(0,1000000000)),x$10=new Duration(0,t.nsec()-u.nsec()>>0),new Duration(x$6.$high+x$10.$high,x$6.$low+x$10.$low));if($clone($clone(u,Time).Add(d$1),Time).Equal($clone(t,Time))){return d$1;}else if($clone(t,Time).Before($clone(u,Time))){return new Duration(-2147483648,0);}else{return new Duration(2147483647,4294967295);}};Time.prototype.Sub=function(u){return this.$val.Sub(u);};Time.ptr.prototype.AddDate=function(years,months$1,days$1){var _r,_r$1,_r$2,_tuple,_tuple$1,day,days$1,hour,min,month,months$1,sec,t,year,years,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_tuple=$f._tuple;_tuple$1=$f._tuple$1;day=$f.day;days$1=$f.days$1;hour=$f.hour;min=$f.min;month=$f.month;months$1=$f.months$1;sec=$f.sec;t=$f.t;year=$f.year;years=$f.years;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:t=this;_r=$clone(t,Time).Date();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;year=_tuple[0];month=_tuple[1];day=_tuple[2];_r$1=$clone(t,Time).Clock();/* */$s=2;case 2:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$1=_r$1;hour=_tuple$1[0];min=_tuple$1[1];sec=_tuple$1[2];_r$2=Date(year+years>>0,month+(months$1>>0)>>0,day+days$1>>0,hour,min,sec,t.nsec()>>0,$clone(t,Time).Location());/* */$s=3;case 3:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}$s=-1;return _r$2;/* */}return;}if($f===undefined){$f={$blk:Time.ptr.prototype.AddDate};}$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f.day=day;$f.days$1=days$1;$f.hour=hour;$f.min=min;$f.month=month;$f.months$1=months$1;$f.sec=sec;$f.t=t;$f.year=year;$f.years=years;$f.$s=$s;$f.$r=$r;return $f;};Time.prototype.AddDate=function(years,months$1,days$1){return this.$val.AddDate(years,months$1,days$1);};Time.ptr.prototype.date=function(full){var _r,_r$1,_tuple,day,full,month,t,yday,year,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_tuple=$f._tuple;day=$f.day;full=$f.full;month=$f.month;t=$f.t;yday=$f.yday;year=$f.year;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:year=0;month=0;day=0;yday=0;t=this;_r=$clone(t,Time).abs();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_r$1=absDate(_r,full);/* */$s=2;case 2:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple=_r$1;year=_tuple[0];month=_tuple[1];day=_tuple[2];yday=_tuple[3];$s=-1;return[year,month,day,yday];/* */}return;}if($f===undefined){$f={$blk:Time.ptr.prototype.date};}$f._r=_r;$f._r$1=_r$1;$f._tuple=_tuple;$f.day=day;$f.full=full;$f.month=month;$f.t=t;$f.yday=yday;$f.year=year;$f.$s=$s;$f.$r=$r;return $f;};Time.prototype.date=function(full){return this.$val.date(full);};absDate=function(abs,full){var _q,abs,begin,d,day,end,full,month,n,x$1,x$10,x$11,x$12,x$2,x$3,x$4,x$5,x$6,x$7,x$8,x$9,y,yday,year;year=0;month=0;day=0;yday=0;d=$div64(abs,new $Uint64(0,86400),false);n=$div64(d,new $Uint64(0,146097),false);y=$mul64(new $Uint64(0,400),n);d=(x$1=$mul64(new $Uint64(0,146097),n),new $Uint64(d.$high-x$1.$high,d.$low-x$1.$low));n=$div64(d,new $Uint64(0,36524),false);n=(x$2=$shiftRightUint64(n,2),new $Uint64(n.$high-x$2.$high,n.$low-x$2.$low));y=(x$3=$mul64(new $Uint64(0,100),n),new $Uint64(y.$high+x$3.$high,y.$low+x$3.$low));d=(x$4=$mul64(new $Uint64(0,36524),n),new $Uint64(d.$high-x$4.$high,d.$low-x$4.$low));n=$div64(d,new $Uint64(0,1461),false);y=(x$5=$mul64(new $Uint64(0,4),n),new $Uint64(y.$high+x$5.$high,y.$low+x$5.$low));d=(x$6=$mul64(new $Uint64(0,1461),n),new $Uint64(d.$high-x$6.$high,d.$low-x$6.$low));n=$div64(d,new $Uint64(0,365),false);n=(x$7=$shiftRightUint64(n,2),new $Uint64(n.$high-x$7.$high,n.$low-x$7.$low));y=(x$8=n,new $Uint64(y.$high+x$8.$high,y.$low+x$8.$low));d=(x$9=$mul64(new $Uint64(0,365),n),new $Uint64(d.$high-x$9.$high,d.$low-x$9.$low));year=(x$10=(x$11=new $Int64(y.$high,y.$low),new $Int64(x$11.$high+-69,x$11.$low+4075721025)),x$10.$low+(x$10.$high>>31)*4294967296)>>0;yday=d.$low>>0;if(!full){return[year,month,day,yday];}day=yday;if(isLeap(year)){if(day>59){day=day-1>>0;}else if(day===59){month=2;day=29;return[year,month,day,yday];}}month=(_q=day/31,_q===_q&&_q!==1/0&&_q!==-1/0?_q>>0:$throwRuntimeError("integer divide by zero"))>>0;end=(x$12=month+1>>0,x$12<0||x$12>=daysBefore.length?($throwRuntimeError("index out of range"),undefined):daysBefore[x$12])>>0;begin=0;if(day>=end){month=month+1>>0;begin=end;}else{begin=(month<0||month>=daysBefore.length?($throwRuntimeError("index out of range"),undefined):daysBefore[month])>>0;}month=month+1>>0;day=(day-begin>>0)+1>>0;return[year,month,day,yday];};daysIn=function(m,year){var m,x$1,year;if(m===2&&isLeap(year)){return 29;}return(m<0||m>=daysBefore.length?($throwRuntimeError("index out of range"),undefined):daysBefore[m])-(x$1=m-1>>0,x$1<0||x$1>=daysBefore.length?($throwRuntimeError("index out of range"),undefined):daysBefore[x$1])>>0>>0;};unixTime=function(sec,nsec){var nsec,sec;return new Time.ptr(new $Uint64(0,nsec),new $Int64(sec.$high+14,sec.$low+2006054656),$pkg.Local);};Time.ptr.prototype.UTC=function(){var t;t=this;t.setLoc(utcLoc);return t;};Time.prototype.UTC=function(){return this.$val.UTC();};Time.ptr.prototype.Local=function(){var t;t=this;t.setLoc($pkg.Local);return t;};Time.prototype.Local=function(){return this.$val.Local();};Time.ptr.prototype.In=function(loc){var loc,t;t=this;if(loc===ptrType$2.nil){$panic(new $String("time: missing Location in call to Time.In"));}t.setLoc(loc);return t;};Time.prototype.In=function(loc){return this.$val.In(loc);};Time.ptr.prototype.Location=function(){var l,t;t=this;l=t.loc;if(l===ptrType$2.nil){l=$pkg.UTC;}return l;};Time.prototype.Location=function(){return this.$val.Location();};Time.ptr.prototype.Zone=function(){var _r,_tuple,name,offset,t,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tuple=$f._tuple;name=$f.name;offset=$f.offset;t=$f.t;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:name="";offset=0;t=this;_r=t.loc.lookup(t.unixSec());/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;name=_tuple[0];offset=_tuple[1];$s=-1;return[name,offset];/* */}return;}if($f===undefined){$f={$blk:Time.ptr.prototype.Zone};}$f._r=_r;$f._tuple=_tuple;$f.name=name;$f.offset=offset;$f.t=t;$f.$s=$s;$f.$r=$r;return $f;};Time.prototype.Zone=function(){return this.$val.Zone();};Time.ptr.prototype.Unix=function(){var t;t=this;return t.unixSec();};Time.prototype.Unix=function(){return this.$val.Unix();};Time.ptr.prototype.UnixNano=function(){var t,x$1,x$2;t=this;return x$1=$mul64(t.unixSec(),new $Int64(0,1000000000)),x$2=new $Int64(0,t.nsec()),new $Int64(x$1.$high+x$2.$high,x$1.$low+x$2.$low);};Time.prototype.UnixNano=function(){return this.$val.UnixNano();};Time.ptr.prototype.MarshalBinary=function(){var _q,_r,_r$1,_tuple,enc,nsec,offset,offsetMin,sec,t,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_q=$f._q;_r=$f._r;_r$1=$f._r$1;_tuple=$f._tuple;enc=$f.enc;nsec=$f.nsec;offset=$f.offset;offsetMin=$f.offsetMin;sec=$f.sec;t=$f.t;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:t=this;offsetMin=0;/* */if($clone(t,Time).Location()===$pkg.UTC){$s=1;continue;}/* */$s=2;continue;/* if ($clone(t, Time).Location() === $pkg.UTC) { */case 1:offsetMin=-1;$s=3;continue;/* } else { */case 2:_r=$clone(t,Time).Zone();/* */$s=4;case 4:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;offset=_tuple[1];if(!((_r$1=offset%60,_r$1===_r$1?_r$1:$throwRuntimeError("integer divide by zero"))===0)){$s=-1;return[sliceType$3.nil,errors.New("Time.MarshalBinary: zone offset has fractional minute")];}offset=(_q=offset/60,_q===_q&&_q!==1/0&&_q!==-1/0?_q>>0:$throwRuntimeError("integer divide by zero"));if(offset<-32768||offset===-1||offset>32767){$s=-1;return[sliceType$3.nil,errors.New("Time.MarshalBinary: unexpected zone offset")];}offsetMin=offset<<16>>16;/* } */case 3:sec=t.sec();nsec=t.nsec();enc=new sliceType$3([1,$shiftRightInt64(sec,56).$low<<24>>>24,$shiftRightInt64(sec,48).$low<<24>>>24,$shiftRightInt64(sec,40).$low<<24>>>24,$shiftRightInt64(sec,32).$low<<24>>>24,$shiftRightInt64(sec,24).$low<<24>>>24,$shiftRightInt64(sec,16).$low<<24>>>24,$shiftRightInt64(sec,8).$low<<24>>>24,sec.$low<<24>>>24,nsec>>24>>0<<24>>>24,nsec>>16>>0<<24>>>24,nsec>>8>>0<<24>>>24,nsec<<24>>>24,offsetMin>>8<<16>>16<<24>>>24,offsetMin<<24>>>24]);$s=-1;return[enc,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:Time.ptr.prototype.MarshalBinary};}$f._q=_q;$f._r=_r;$f._r$1=_r$1;$f._tuple=_tuple;$f.enc=enc;$f.nsec=nsec;$f.offset=offset;$f.offsetMin=offsetMin;$f.sec=sec;$f.t=t;$f.$s=$s;$f.$r=$r;return $f;};Time.prototype.MarshalBinary=function(){return this.$val.MarshalBinary();};Time.ptr.prototype.UnmarshalBinary=function(data){var _r,_tuple,buf,data,localoff,nsec,offset,sec,t,x$1,x$10,x$11,x$12,x$13,x$14,x$2,x$3,x$4,x$5,x$6,x$7,x$8,x$9,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tuple=$f._tuple;buf=$f.buf;data=$f.data;localoff=$f.localoff;nsec=$f.nsec;offset=$f.offset;sec=$f.sec;t=$f.t;x$1=$f.x$1;x$10=$f.x$10;x$11=$f.x$11;x$12=$f.x$12;x$13=$f.x$13;x$14=$f.x$14;x$2=$f.x$2;x$3=$f.x$3;x$4=$f.x$4;x$5=$f.x$5;x$6=$f.x$6;x$7=$f.x$7;x$8=$f.x$8;x$9=$f.x$9;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:t=this;buf=data;if(buf.$length===0){$s=-1;return errors.New("Time.UnmarshalBinary: no data");}if(!((0>=buf.$length?($throwRuntimeError("index out of range"),undefined):buf.$array[buf.$offset+0])===1)){$s=-1;return errors.New("Time.UnmarshalBinary: unsupported version");}if(!(buf.$length===15)){$s=-1;return errors.New("Time.UnmarshalBinary: invalid length");}buf=$subslice(buf,1);sec=(x$1=(x$2=(x$3=(x$4=(x$5=(x$6=(x$7=new $Int64(0,7>=buf.$length?($throwRuntimeError("index out of range"),undefined):buf.$array[buf.$offset+7]),x$8=$shiftLeft64(new $Int64(0,6>=buf.$length?($throwRuntimeError("index out of range"),undefined):buf.$array[buf.$offset+6]),8),new $Int64(x$7.$high|x$8.$high,(x$7.$low|x$8.$low)>>>0)),x$9=$shiftLeft64(new $Int64(0,5>=buf.$length?($throwRuntimeError("index out of range"),undefined):buf.$array[buf.$offset+5]),16),new $Int64(x$6.$high|x$9.$high,(x$6.$low|x$9.$low)>>>0)),x$10=$shiftLeft64(new $Int64(0,4>=buf.$length?($throwRuntimeError("index out of range"),undefined):buf.$array[buf.$offset+4]),24),new $Int64(x$5.$high|x$10.$high,(x$5.$low|x$10.$low)>>>0)),x$11=$shiftLeft64(new $Int64(0,3>=buf.$length?($throwRuntimeError("index out of range"),undefined):buf.$array[buf.$offset+3]),32),new $Int64(x$4.$high|x$11.$high,(x$4.$low|x$11.$low)>>>0)),x$12=$shiftLeft64(new $Int64(0,2>=buf.$length?($throwRuntimeError("index out of range"),undefined):buf.$array[buf.$offset+2]),40),new $Int64(x$3.$high|x$12.$high,(x$3.$low|x$12.$low)>>>0)),x$13=$shiftLeft64(new $Int64(0,1>=buf.$length?($throwRuntimeError("index out of range"),undefined):buf.$array[buf.$offset+1]),48),new $Int64(x$2.$high|x$13.$high,(x$2.$low|x$13.$low)>>>0)),x$14=$shiftLeft64(new $Int64(0,0>=buf.$length?($throwRuntimeError("index out of range"),undefined):buf.$array[buf.$offset+0]),56),new $Int64(x$1.$high|x$14.$high,(x$1.$low|x$14.$low)>>>0));buf=$subslice(buf,8);nsec=(3>=buf.$length?($throwRuntimeError("index out of range"),undefined):buf.$array[buf.$offset+3])>>0|(2>=buf.$length?($throwRuntimeError("index out of range"),undefined):buf.$array[buf.$offset+2])>>0<<8>>0|(1>=buf.$length?($throwRuntimeError("index out of range"),undefined):buf.$array[buf.$offset+1])>>0<<16>>0|(0>=buf.$length?($throwRuntimeError("index out of range"),undefined):buf.$array[buf.$offset+0])>>0<<24>>0;buf=$subslice(buf,4);offset=$imul(((1>=buf.$length?($throwRuntimeError("index out of range"),undefined):buf.$array[buf.$offset+1])<<16>>16|(0>=buf.$length?($throwRuntimeError("index out of range"),undefined):buf.$array[buf.$offset+0])<<16>>16<<8<<16>>16)>>0,60);Time.copy(t,new Time.ptr(new $Uint64(0,0),new $Int64(0,0),ptrType$2.nil));t.wall=new $Uint64(0,nsec);t.ext=sec;/* */if(offset===-60){$s=1;continue;}/* */$s=2;continue;/* if (offset === -60) { */case 1:t.setLoc(utcLoc);$s=3;continue;/* } else { */case 2:_r=$pkg.Local.lookup(t.unixSec());/* */$s=4;case 4:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;localoff=_tuple[1];if(offset===localoff){t.setLoc($pkg.Local);}else{t.setLoc(FixedZone("",offset));}/* } */case 3:$s=-1;return $ifaceNil;/* */}return;}if($f===undefined){$f={$blk:Time.ptr.prototype.UnmarshalBinary};}$f._r=_r;$f._tuple=_tuple;$f.buf=buf;$f.data=data;$f.localoff=localoff;$f.nsec=nsec;$f.offset=offset;$f.sec=sec;$f.t=t;$f.x$1=x$1;$f.x$10=x$10;$f.x$11=x$11;$f.x$12=x$12;$f.x$13=x$13;$f.x$14=x$14;$f.x$2=x$2;$f.x$3=x$3;$f.x$4=x$4;$f.x$5=x$5;$f.x$6=x$6;$f.x$7=x$7;$f.x$8=x$8;$f.x$9=x$9;$f.$s=$s;$f.$r=$r;return $f;};Time.prototype.UnmarshalBinary=function(data){return this.$val.UnmarshalBinary(data);};Time.ptr.prototype.GobEncode=function(){var _r,t,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;t=$f.t;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:t=this;_r=$clone(t,Time).MarshalBinary();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r;/* */}return;}if($f===undefined){$f={$blk:Time.ptr.prototype.GobEncode};}$f._r=_r;$f.t=t;$f.$s=$s;$f.$r=$r;return $f;};Time.prototype.GobEncode=function(){return this.$val.GobEncode();};Time.ptr.prototype.GobDecode=function(data){var _r,data,t,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;data=$f.data;t=$f.t;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:t=this;_r=t.UnmarshalBinary(data);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r;/* */}return;}if($f===undefined){$f={$blk:Time.ptr.prototype.GobDecode};}$f._r=_r;$f.data=data;$f.t=t;$f.$s=$s;$f.$r=$r;return $f;};Time.prototype.GobDecode=function(data){return this.$val.GobDecode(data);};Time.ptr.prototype.MarshalJSON=function(){var _r,_r$1,b,t,y,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;b=$f.b;t=$f.t;y=$f.y;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:t=this;_r=$clone(t,Time).Year();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}y=_r;if(y<0||y>=10000){$s=-1;return[sliceType$3.nil,errors.New("Time.MarshalJSON: year outside of range [0,9999]")];}b=$makeSlice(sliceType$3,0,37);b=$append(b,34);_r$1=$clone(t,Time).AppendFormat(b,"2006-01-02T15:04:05.999999999Z07:00");/* */$s=2;case 2:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}b=_r$1;b=$append(b,34);$s=-1;return[b,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:Time.ptr.prototype.MarshalJSON};}$f._r=_r;$f._r$1=_r$1;$f.b=b;$f.t=t;$f.y=y;$f.$s=$s;$f.$r=$r;return $f;};Time.prototype.MarshalJSON=function(){return this.$val.MarshalJSON();};Time.ptr.prototype.UnmarshalJSON=function(data){var _r,_tuple,data,err,t,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tuple=$f._tuple;data=$f.data;err=$f.err;t=$f.t;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:t=this;if($bytesToString(data)==="null"){$s=-1;return $ifaceNil;}err=$ifaceNil;_r=Parse("\"2006-01-02T15:04:05Z07:00\"",$bytesToString(data));/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;Time.copy(t,_tuple[0]);err=_tuple[1];$s=-1;return err;/* */}return;}if($f===undefined){$f={$blk:Time.ptr.prototype.UnmarshalJSON};}$f._r=_r;$f._tuple=_tuple;$f.data=data;$f.err=err;$f.t=t;$f.$s=$s;$f.$r=$r;return $f;};Time.prototype.UnmarshalJSON=function(data){return this.$val.UnmarshalJSON(data);};Time.ptr.prototype.MarshalText=function(){var _r,_r$1,b,t,y,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;b=$f.b;t=$f.t;y=$f.y;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:t=this;_r=$clone(t,Time).Year();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}y=_r;if(y<0||y>=10000){$s=-1;return[sliceType$3.nil,errors.New("Time.MarshalText: year outside of range [0,9999]")];}b=$makeSlice(sliceType$3,0,35);_r$1=$clone(t,Time).AppendFormat(b,"2006-01-02T15:04:05.999999999Z07:00");/* */$s=2;case 2:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}$s=-1;return[_r$1,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:Time.ptr.prototype.MarshalText};}$f._r=_r;$f._r$1=_r$1;$f.b=b;$f.t=t;$f.y=y;$f.$s=$s;$f.$r=$r;return $f;};Time.prototype.MarshalText=function(){return this.$val.MarshalText();};Time.ptr.prototype.UnmarshalText=function(data){var _r,_tuple,data,err,t,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tuple=$f._tuple;data=$f.data;err=$f.err;t=$f.t;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:t=this;err=$ifaceNil;_r=Parse("2006-01-02T15:04:05Z07:00",$bytesToString(data));/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;Time.copy(t,_tuple[0]);err=_tuple[1];$s=-1;return err;/* */}return;}if($f===undefined){$f={$blk:Time.ptr.prototype.UnmarshalText};}$f._r=_r;$f._tuple=_tuple;$f.data=data;$f.err=err;$f.t=t;$f.$s=$s;$f.$r=$r;return $f;};Time.prototype.UnmarshalText=function(data){return this.$val.UnmarshalText(data);};Unix=function(sec,nsec){var n,nsec,sec,x$1,x$2,x$3,x$4;if(nsec.$high<0||nsec.$high===0&&nsec.$low<0||nsec.$high>0||nsec.$high===0&&nsec.$low>=1000000000){n=$div64(nsec,new $Int64(0,1000000000),false);sec=(x$1=n,new $Int64(sec.$high+x$1.$high,sec.$low+x$1.$low));nsec=(x$2=$mul64(n,new $Int64(0,1000000000)),new $Int64(nsec.$high-x$2.$high,nsec.$low-x$2.$low));if(nsec.$high<0||nsec.$high===0&&nsec.$low<0){nsec=(x$3=new $Int64(0,1000000000),new $Int64(nsec.$high+x$3.$high,nsec.$low+x$3.$low));sec=(x$4=new $Int64(0,1),new $Int64(sec.$high-x$4.$high,sec.$low-x$4.$low));}}return unixTime(sec,nsec.$low+(nsec.$high>>31)*4294967296>>0);};$pkg.Unix=Unix;isLeap=function(year){var _r,_r$1,_r$2,year;return(_r=year%4,_r===_r?_r:$throwRuntimeError("integer divide by zero"))===0&&(!((_r$1=year%100,_r$1===_r$1?_r$1:$throwRuntimeError("integer divide by zero"))===0)||(_r$2=year%400,_r$2===_r$2?_r$2:$throwRuntimeError("integer divide by zero"))===0);};norm=function(hi,lo,base){var _q,_q$1,_tmp,_tmp$1,base,hi,lo,n,n$1,nhi,nlo;nhi=0;nlo=0;if(lo<0){n=(_q=(-lo-1>>0)/base,_q===_q&&_q!==1/0&&_q!==-1/0?_q>>0:$throwRuntimeError("integer divide by zero"))+1>>0;hi=hi-n>>0;lo=lo+$imul(n,base)>>0;}if(lo>=base){n$1=(_q$1=lo/base,_q$1===_q$1&&_q$1!==1/0&&_q$1!==-1/0?_q$1>>0:$throwRuntimeError("integer divide by zero"));hi=hi+n$1>>0;lo=lo-$imul(n$1,base)>>0;}_tmp=hi;_tmp$1=lo;nhi=_tmp;nlo=_tmp$1;return[nhi,nlo];};Date=function(year,month,day,hour,min,sec,nsec,loc){var _r,_r$1,_r$2,_tuple,_tuple$1,_tuple$2,_tuple$3,_tuple$4,_tuple$5,_tuple$6,_tuple$7,abs,d,day,end,hour,loc,m,min,month,n,nsec,offset,sec,start,t,unix,utc,x$1,x$10,x$11,x$12,x$13,x$14,x$15,x$16,x$2,x$3,x$4,x$5,x$6,x$7,x$8,x$9,y,year,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;_tuple$4=$f._tuple$4;_tuple$5=$f._tuple$5;_tuple$6=$f._tuple$6;_tuple$7=$f._tuple$7;abs=$f.abs;d=$f.d;day=$f.day;end=$f.end;hour=$f.hour;loc=$f.loc;m=$f.m;min=$f.min;month=$f.month;n=$f.n;nsec=$f.nsec;offset=$f.offset;sec=$f.sec;start=$f.start;t=$f.t;unix=$f.unix;utc=$f.utc;x$1=$f.x$1;x$10=$f.x$10;x$11=$f.x$11;x$12=$f.x$12;x$13=$f.x$13;x$14=$f.x$14;x$15=$f.x$15;x$16=$f.x$16;x$2=$f.x$2;x$3=$f.x$3;x$4=$f.x$4;x$5=$f.x$5;x$6=$f.x$6;x$7=$f.x$7;x$8=$f.x$8;x$9=$f.x$9;y=$f.y;year=$f.year;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:if(loc===ptrType$2.nil){$panic(new $String("time: missing Location in call to Date"));}m=(month>>0)-1>>0;_tuple=norm(year,m,12);year=_tuple[0];m=_tuple[1];month=(m>>0)+1>>0;_tuple$1=norm(sec,nsec,1000000000);sec=_tuple$1[0];nsec=_tuple$1[1];_tuple$2=norm(min,sec,60);min=_tuple$2[0];sec=_tuple$2[1];_tuple$3=norm(hour,min,60);hour=_tuple$3[0];min=_tuple$3[1];_tuple$4=norm(day,hour,24);day=_tuple$4[0];hour=_tuple$4[1];y=(x$1=(x$2=new $Int64(0,year),new $Int64(x$2.$high- -69,x$2.$low-4075721025)),new $Uint64(x$1.$high,x$1.$low));n=$div64(y,new $Uint64(0,400),false);y=(x$3=$mul64(new $Uint64(0,400),n),new $Uint64(y.$high-x$3.$high,y.$low-x$3.$low));d=$mul64(new $Uint64(0,146097),n);n=$div64(y,new $Uint64(0,100),false);y=(x$4=$mul64(new $Uint64(0,100),n),new $Uint64(y.$high-x$4.$high,y.$low-x$4.$low));d=(x$5=$mul64(new $Uint64(0,36524),n),new $Uint64(d.$high+x$5.$high,d.$low+x$5.$low));n=$div64(y,new $Uint64(0,4),false);y=(x$6=$mul64(new $Uint64(0,4),n),new $Uint64(y.$high-x$6.$high,y.$low-x$6.$low));d=(x$7=$mul64(new $Uint64(0,1461),n),new $Uint64(d.$high+x$7.$high,d.$low+x$7.$low));n=y;d=(x$8=$mul64(new $Uint64(0,365),n),new $Uint64(d.$high+x$8.$high,d.$low+x$8.$low));d=(x$9=new $Uint64(0,(x$10=month-1>>0,x$10<0||x$10>=daysBefore.length?($throwRuntimeError("index out of range"),undefined):daysBefore[x$10])),new $Uint64(d.$high+x$9.$high,d.$low+x$9.$low));if(isLeap(year)&&month>=3){d=(x$11=new $Uint64(0,1),new $Uint64(d.$high+x$11.$high,d.$low+x$11.$low));}d=(x$12=new $Uint64(0,day-1>>0),new $Uint64(d.$high+x$12.$high,d.$low+x$12.$low));abs=$mul64(d,new $Uint64(0,86400));abs=(x$13=new $Uint64(0,($imul(hour,3600)+$imul(min,60)>>0)+sec>>0),new $Uint64(abs.$high+x$13.$high,abs.$low+x$13.$low));unix=(x$14=new $Int64(abs.$high,abs.$low),new $Int64(x$14.$high+-2147483647,x$14.$low+3844486912));_r=loc.lookup(unix);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple$5=_r;offset=_tuple$5[1];start=_tuple$5[2];end=_tuple$5[3];/* */if(!(offset===0)){$s=2;continue;}/* */$s=3;continue;/* if (!((offset === 0))) { */case 2:utc=(x$15=new $Int64(0,offset),new $Int64(unix.$high-x$15.$high,unix.$low-x$15.$low));/* */if(utc.$high<start.$high||utc.$high===start.$high&&utc.$low<start.$low){$s=5;continue;}/* */if(utc.$high>end.$high||utc.$high===end.$high&&utc.$low>=end.$low){$s=6;continue;}/* */$s=7;continue;/* if ((utc.$high < start.$high || (utc.$high === start.$high && utc.$low < start.$low))) { */case 5:_r$1=loc.lookup(new $Int64(start.$high-0,start.$low-1));/* */$s=8;case 8:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$6=_r$1;offset=_tuple$6[1];$s=7;continue;/* } else if ((utc.$high > end.$high || (utc.$high === end.$high && utc.$low >= end.$low))) { */case 6:_r$2=loc.lookup(end);/* */$s=9;case 9:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$7=_r$2;offset=_tuple$7[1];/* } */case 7:case 4:unix=(x$16=new $Int64(0,offset),new $Int64(unix.$high-x$16.$high,unix.$low-x$16.$low));/* } */case 3:t=$clone(unixTime(unix,nsec>>0),Time);t.setLoc(loc);$s=-1;return t;/* */}return;}if($f===undefined){$f={$blk:Date};}$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f._tuple$4=_tuple$4;$f._tuple$5=_tuple$5;$f._tuple$6=_tuple$6;$f._tuple$7=_tuple$7;$f.abs=abs;$f.d=d;$f.day=day;$f.end=end;$f.hour=hour;$f.loc=loc;$f.m=m;$f.min=min;$f.month=month;$f.n=n;$f.nsec=nsec;$f.offset=offset;$f.sec=sec;$f.start=start;$f.t=t;$f.unix=unix;$f.utc=utc;$f.x$1=x$1;$f.x$10=x$10;$f.x$11=x$11;$f.x$12=x$12;$f.x$13=x$13;$f.x$14=x$14;$f.x$15=x$15;$f.x$16=x$16;$f.x$2=x$2;$f.x$3=x$3;$f.x$4=x$4;$f.x$5=x$5;$f.x$6=x$6;$f.x$7=x$7;$f.x$8=x$8;$f.x$9=x$9;$f.y=y;$f.year=year;$f.$s=$s;$f.$r=$r;return $f;};$pkg.Date=Date;Time.ptr.prototype.Truncate=function(d){var _tuple,d,r,t;t=this;t.stripMono();if(d.$high<0||d.$high===0&&d.$low<=0){return t;}_tuple=div($clone(t,Time),d);r=_tuple[1];return $clone(t,Time).Add(new Duration(-r.$high,-r.$low));};Time.prototype.Truncate=function(d){return this.$val.Truncate(d);};Time.ptr.prototype.Round=function(d){var _tuple,d,r,t;t=this;t.stripMono();if(d.$high<0||d.$high===0&&d.$low<=0){return t;}_tuple=div($clone(t,Time),d);r=_tuple[1];if(lessThanHalf(r,d)){return $clone(t,Time).Add(new Duration(-r.$high,-r.$low));}return $clone(t,Time).Add(new Duration(d.$high-r.$high,d.$low-r.$low));};Time.prototype.Round=function(d){return this.$val.Round(d);};div=function(t,d){var _q,_r,_tmp,_tmp$1,_tmp$2,_tmp$3,_tmp$4,_tmp$5,d,d0,d1,d1$1,neg,nsec,qmod2,r,sec,sec$1,t,tmp,u0,u0x,u1,x$1,x$10,x$11,x$12,x$13,x$14,x$15,x$16,x$2,x$3,x$4,x$5,x$6,x$7,x$8,x$9;qmod2=0;r=new Duration(0,0);neg=false;nsec=t.nsec();sec=t.sec();if(sec.$high<0||sec.$high===0&&sec.$low<0){neg=true;sec=new $Int64(-sec.$high,-sec.$low);nsec=-nsec;if(nsec<0){nsec=nsec+1000000000>>0;sec=(x$1=new $Int64(0,1),new $Int64(sec.$high-x$1.$high,sec.$low-x$1.$low));}}if((d.$high<0||d.$high===0&&d.$low<1000000000)&&(x$2=$div64(new Duration(0,1000000000),new Duration(d.$high+d.$high,d.$low+d.$low),true),x$2.$high===0&&x$2.$low===0)){qmod2=(_q=nsec/(d.$low+(d.$high>>31)*4294967296>>0),_q===_q&&_q!==1/0&&_q!==-1/0?_q>>0:$throwRuntimeError("integer divide by zero"))>>0&1;r=new Duration(0,(_r=nsec%(d.$low+(d.$high>>31)*4294967296>>0),_r===_r?_r:$throwRuntimeError("integer divide by zero")));}else if(x$3=$div64(d,new Duration(0,1000000000),true),x$3.$high===0&&x$3.$low===0){d1=(x$4=$div64(d,new Duration(0,1000000000),false),new $Int64(x$4.$high,x$4.$low));qmod2=(x$5=$div64(sec,d1,false),x$5.$low+(x$5.$high>>31)*4294967296)>>0&1;r=(x$6=$mul64((x$7=$div64(sec,d1,true),new Duration(x$7.$high,x$7.$low)),new Duration(0,1000000000)),x$8=new Duration(0,nsec),new Duration(x$6.$high+x$8.$high,x$6.$low+x$8.$low));}else{sec$1=new $Uint64(sec.$high,sec.$low);tmp=$mul64($shiftRightUint64(sec$1,32),new $Uint64(0,1000000000));u1=$shiftRightUint64(tmp,32);u0=$shiftLeft64(tmp,32);tmp=$mul64(new $Uint64(sec$1.$high&0,(sec$1.$low&4294967295)>>>0),new $Uint64(0,1000000000));_tmp=u0;_tmp$1=new $Uint64(u0.$high+tmp.$high,u0.$low+tmp.$low);u0x=_tmp;u0=_tmp$1;if(u0.$high<u0x.$high||u0.$high===u0x.$high&&u0.$low<u0x.$low){u1=(x$9=new $Uint64(0,1),new $Uint64(u1.$high+x$9.$high,u1.$low+x$9.$low));}_tmp$2=u0;_tmp$3=(x$10=new $Uint64(0,nsec),new $Uint64(u0.$high+x$10.$high,u0.$low+x$10.$low));u0x=_tmp$2;u0=_tmp$3;if(u0.$high<u0x.$high||u0.$high===u0x.$high&&u0.$low<u0x.$low){u1=(x$11=new $Uint64(0,1),new $Uint64(u1.$high+x$11.$high,u1.$low+x$11.$low));}d1$1=new $Uint64(d.$high,d.$low);while(true){if(!!(x$12=$shiftRightUint64(d1$1,63),x$12.$high===0&&x$12.$low===1)){break;}d1$1=$shiftLeft64(d1$1,1);}d0=new $Uint64(0,0);while(true){qmod2=0;if(u1.$high>d1$1.$high||u1.$high===d1$1.$high&&u1.$low>d1$1.$low||u1.$high===d1$1.$high&&u1.$low===d1$1.$low&&(u0.$high>d0.$high||u0.$high===d0.$high&&u0.$low>=d0.$low)){qmod2=1;_tmp$4=u0;_tmp$5=new $Uint64(u0.$high-d0.$high,u0.$low-d0.$low);u0x=_tmp$4;u0=_tmp$5;if(u0.$high>u0x.$high||u0.$high===u0x.$high&&u0.$low>u0x.$low){u1=(x$13=new $Uint64(0,1),new $Uint64(u1.$high-x$13.$high,u1.$low-x$13.$low));}u1=(x$14=d1$1,new $Uint64(u1.$high-x$14.$high,u1.$low-x$14.$low));}if(d1$1.$high===0&&d1$1.$low===0&&(x$15=new $Uint64(d.$high,d.$low),d0.$high===x$15.$high&&d0.$low===x$15.$low)){break;}d0=$shiftRightUint64(d0,1);d0=(x$16=$shiftLeft64(new $Uint64(d1$1.$high&0,(d1$1.$low&1)>>>0),63),new $Uint64(d0.$high|x$16.$high,(d0.$low|x$16.$low)>>>0));d1$1=$shiftRightUint64(d1$1,1);}r=new Duration(u0.$high,u0.$low);}if(neg&&!(r.$high===0&&r.$low===0)){qmod2=(qmod2^1)>>0;r=new Duration(d.$high-r.$high,d.$low-r.$low);}return[qmod2,r];};Location.ptr.prototype.get=function(){var l,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;l=$f.l;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:l=this;if(l===ptrType$2.nil){$s=-1;return utcLoc;}/* */if(l===localLoc){$s=1;continue;}/* */$s=2;continue;/* if (l === localLoc) { */case 1:$r=localOnce.Do(initLocal);/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 2:$s=-1;return l;/* */}return;}if($f===undefined){$f={$blk:Location.ptr.prototype.get};}$f.l=l;$f.$s=$s;$f.$r=$r;return $f;};Location.prototype.get=function(){return this.$val.get();};Location.ptr.prototype.String=function(){var _r,l,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;l=$f.l;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:l=this;_r=l.get();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r.name;/* */}return;}if($f===undefined){$f={$blk:Location.ptr.prototype.String};}$f._r=_r;$f.l=l;$f.$s=$s;$f.$r=$r;return $f;};Location.prototype.String=function(){return this.$val.String();};FixedZone=function(name,offset){var l,name,offset,x$1;l=new Location.ptr(name,new sliceType([new zone.ptr(name,offset,false)]),new sliceType$1([new zoneTrans.ptr(new $Int64(-2147483648,0),0,false,false)]),new $Int64(-2147483648,0),new $Int64(2147483647,4294967295),ptrType.nil);l.cacheZone=(x$1=l.zone,0>=x$1.$length?($throwRuntimeError("index out of range"),undefined):x$1.$array[x$1.$offset+0]);return l;};$pkg.FixedZone=FixedZone;Location.ptr.prototype.lookup=function(sec){var _q,_r,end,hi,l,lim,lo,m,name,offset,sec,start,tx,x$1,x$2,x$3,x$4,x$5,x$6,x$7,x$8,x$9,zone$1,zone$2,zone$3,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_q=$f._q;_r=$f._r;end=$f.end;hi=$f.hi;l=$f.l;lim=$f.lim;lo=$f.lo;m=$f.m;name=$f.name;offset=$f.offset;sec=$f.sec;start=$f.start;tx=$f.tx;x$1=$f.x$1;x$2=$f.x$2;x$3=$f.x$3;x$4=$f.x$4;x$5=$f.x$5;x$6=$f.x$6;x$7=$f.x$7;x$8=$f.x$8;x$9=$f.x$9;zone$1=$f.zone$1;zone$2=$f.zone$2;zone$3=$f.zone$3;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:name="";offset=0;start=new $Int64(0,0);end=new $Int64(0,0);l=this;_r=l.get();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}l=_r;if(l.zone.$length===0){name="UTC";offset=0;start=new $Int64(-2147483648,0);end=new $Int64(2147483647,4294967295);$s=-1;return[name,offset,start,end];}zone$1=l.cacheZone;if(!(zone$1===ptrType.nil)&&(x$1=l.cacheStart,x$1.$high<sec.$high||x$1.$high===sec.$high&&x$1.$low<=sec.$low)&&(x$2=l.cacheEnd,sec.$high<x$2.$high||sec.$high===x$2.$high&&sec.$low<x$2.$low)){name=zone$1.name;offset=zone$1.offset;start=l.cacheStart;end=l.cacheEnd;$s=-1;return[name,offset,start,end];}if(l.tx.$length===0||(x$3=(x$4=l.tx,0>=x$4.$length?($throwRuntimeError("index out of range"),undefined):x$4.$array[x$4.$offset+0]).when,sec.$high<x$3.$high||sec.$high===x$3.$high&&sec.$low<x$3.$low)){zone$2=(x$5=l.zone,x$6=l.lookupFirstZone(),x$6<0||x$6>=x$5.$length?($throwRuntimeError("index out of range"),undefined):x$5.$array[x$5.$offset+x$6]);name=zone$2.name;offset=zone$2.offset;start=new $Int64(-2147483648,0);if(l.tx.$length>0){end=(x$7=l.tx,0>=x$7.$length?($throwRuntimeError("index out of range"),undefined):x$7.$array[x$7.$offset+0]).when;}else{end=new $Int64(2147483647,4294967295);}$s=-1;return[name,offset,start,end];}tx=l.tx;end=new $Int64(2147483647,4294967295);lo=0;hi=tx.$length;while(true){if(!(hi-lo>>0>1)){break;}m=lo+(_q=(hi-lo>>0)/2,_q===_q&&_q!==1/0&&_q!==-1/0?_q>>0:$throwRuntimeError("integer divide by zero"))>>0;lim=(m<0||m>=tx.$length?($throwRuntimeError("index out of range"),undefined):tx.$array[tx.$offset+m]).when;if(sec.$high<lim.$high||sec.$high===lim.$high&&sec.$low<lim.$low){end=lim;hi=m;}else{lo=m;}}zone$3=(x$8=l.zone,x$9=(lo<0||lo>=tx.$length?($throwRuntimeError("index out of range"),undefined):tx.$array[tx.$offset+lo]).index,x$9<0||x$9>=x$8.$length?($throwRuntimeError("index out of range"),undefined):x$8.$array[x$8.$offset+x$9]);name=zone$3.name;offset=zone$3.offset;start=(lo<0||lo>=tx.$length?($throwRuntimeError("index out of range"),undefined):tx.$array[tx.$offset+lo]).when;$s=-1;return[name,offset,start,end];/* */}return;}if($f===undefined){$f={$blk:Location.ptr.prototype.lookup};}$f._q=_q;$f._r=_r;$f.end=end;$f.hi=hi;$f.l=l;$f.lim=lim;$f.lo=lo;$f.m=m;$f.name=name;$f.offset=offset;$f.sec=sec;$f.start=start;$f.tx=tx;$f.x$1=x$1;$f.x$2=x$2;$f.x$3=x$3;$f.x$4=x$4;$f.x$5=x$5;$f.x$6=x$6;$f.x$7=x$7;$f.x$8=x$8;$f.x$9=x$9;$f.zone$1=zone$1;$f.zone$2=zone$2;$f.zone$3=zone$3;$f.$s=$s;$f.$r=$r;return $f;};Location.prototype.lookup=function(sec){return this.$val.lookup(sec);};Location.ptr.prototype.lookupFirstZone=function(){var _i,_ref,l,x$1,x$2,x$3,x$4,x$5,x$6,zi,zi$1;l=this;if(!l.firstZoneUsed()){return 0;}if(l.tx.$length>0&&(x$1=l.zone,x$2=(x$3=l.tx,0>=x$3.$length?($throwRuntimeError("index out of range"),undefined):x$3.$array[x$3.$offset+0]).index,x$2<0||x$2>=x$1.$length?($throwRuntimeError("index out of range"),undefined):x$1.$array[x$1.$offset+x$2]).isDST){zi=((x$4=l.tx,0>=x$4.$length?($throwRuntimeError("index out of range"),undefined):x$4.$array[x$4.$offset+0]).index>>0)-1>>0;while(true){if(!(zi>=0)){break;}if(!(x$5=l.zone,zi<0||zi>=x$5.$length?($throwRuntimeError("index out of range"),undefined):x$5.$array[x$5.$offset+zi]).isDST){return zi;}zi=zi-1>>0;}}_ref=l.zone;_i=0;while(true){if(!(_i<_ref.$length)){break;}zi$1=_i;if(!(x$6=l.zone,zi$1<0||zi$1>=x$6.$length?($throwRuntimeError("index out of range"),undefined):x$6.$array[x$6.$offset+zi$1]).isDST){return zi$1;}_i++;}return 0;};Location.prototype.lookupFirstZone=function(){return this.$val.lookupFirstZone();};Location.ptr.prototype.firstZoneUsed=function(){var _i,_ref,l,tx;l=this;_ref=l.tx;_i=0;while(true){if(!(_i<_ref.$length)){break;}tx=$clone(_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i],zoneTrans);if(tx.index===0){return true;}_i++;}return false;};Location.prototype.firstZoneUsed=function(){return this.$val.firstZoneUsed();};Location.ptr.prototype.lookupName=function(name,unix){var _i,_i$1,_r,_r$1,_ref,_ref$1,_tmp,_tmp$1,_tmp$2,_tmp$3,_tuple,i,i$1,l,nam,name,offset,offset$1,ok,unix,x$1,x$2,x$3,zone$1,zone$2,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_i=$f._i;_i$1=$f._i$1;_r=$f._r;_r$1=$f._r$1;_ref=$f._ref;_ref$1=$f._ref$1;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tmp$2=$f._tmp$2;_tmp$3=$f._tmp$3;_tuple=$f._tuple;i=$f.i;i$1=$f.i$1;l=$f.l;nam=$f.nam;name=$f.name;offset=$f.offset;offset$1=$f.offset$1;ok=$f.ok;unix=$f.unix;x$1=$f.x$1;x$2=$f.x$2;x$3=$f.x$3;zone$1=$f.zone$1;zone$2=$f.zone$2;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:offset=0;ok=false;l=this;_r=l.get();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}l=_r;_ref=l.zone;_i=0;/* while (true) { */case 2:/* if (!(_i < _ref.$length)) { break; } */if(!(_i<_ref.$length)){$s=3;continue;}i=_i;zone$1=(x$1=l.zone,i<0||i>=x$1.$length?($throwRuntimeError("index out of range"),undefined):x$1.$array[x$1.$offset+i]);/* */if(zone$1.name===name){$s=4;continue;}/* */$s=5;continue;/* if (zone$1.name === name) { */case 4:_r$1=l.lookup((x$2=new $Int64(0,zone$1.offset),new $Int64(unix.$high-x$2.$high,unix.$low-x$2.$low)));/* */$s=6;case 6:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple=_r$1;nam=_tuple[0];offset$1=_tuple[1];if(nam===zone$1.name){_tmp=offset$1;_tmp$1=true;offset=_tmp;ok=_tmp$1;$s=-1;return[offset,ok];}/* } */case 5:_i++;/* } */$s=2;continue;case 3:_ref$1=l.zone;_i$1=0;while(true){if(!(_i$1<_ref$1.$length)){break;}i$1=_i$1;zone$2=(x$3=l.zone,i$1<0||i$1>=x$3.$length?($throwRuntimeError("index out of range"),undefined):x$3.$array[x$3.$offset+i$1]);if(zone$2.name===name){_tmp$2=zone$2.offset;_tmp$3=true;offset=_tmp$2;ok=_tmp$3;$s=-1;return[offset,ok];}_i$1++;}$s=-1;return[offset,ok];/* */}return;}if($f===undefined){$f={$blk:Location.ptr.prototype.lookupName};}$f._i=_i;$f._i$1=_i$1;$f._r=_r;$f._r$1=_r$1;$f._ref=_ref;$f._ref$1=_ref$1;$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tmp$2=_tmp$2;$f._tmp$3=_tmp$3;$f._tuple=_tuple;$f.i=i;$f.i$1=i$1;$f.l=l;$f.nam=nam;$f.name=name;$f.offset=offset;$f.offset$1=offset$1;$f.ok=ok;$f.unix=unix;$f.x$1=x$1;$f.x$2=x$2;$f.x$3=x$3;$f.zone$1=zone$1;$f.zone$2=zone$2;$f.$s=$s;$f.$r=$r;return $f;};Location.prototype.lookupName=function(name,unix){return this.$val.lookupName(name,unix);};ptrType$4.methods=[{prop:"Error",name:"Error",pkg:"",typ:$funcType([],[$String],false)}];Time.methods=[{prop:"String",name:"String",pkg:"",typ:$funcType([],[$String],false)},{prop:"Format",name:"Format",pkg:"",typ:$funcType([$String],[$String],false)},{prop:"AppendFormat",name:"AppendFormat",pkg:"",typ:$funcType([sliceType$3,$String],[sliceType$3],false)},{prop:"After",name:"After",pkg:"",typ:$funcType([Time],[$Bool],false)},{prop:"Before",name:"Before",pkg:"",typ:$funcType([Time],[$Bool],false)},{prop:"Equal",name:"Equal",pkg:"",typ:$funcType([Time],[$Bool],false)},{prop:"IsZero",name:"IsZero",pkg:"",typ:$funcType([],[$Bool],false)},{prop:"abs",name:"abs",pkg:"time",typ:$funcType([],[$Uint64],false)},{prop:"locabs",name:"locabs",pkg:"time",typ:$funcType([],[$String,$Int,$Uint64],false)},{prop:"Date",name:"Date",pkg:"",typ:$funcType([],[$Int,Month,$Int],false)},{prop:"Year",name:"Year",pkg:"",typ:$funcType([],[$Int],false)},{prop:"Month",name:"Month",pkg:"",typ:$funcType([],[Month],false)},{prop:"Day",name:"Day",pkg:"",typ:$funcType([],[$Int],false)},{prop:"Weekday",name:"Weekday",pkg:"",typ:$funcType([],[Weekday],false)},{prop:"ISOWeek",name:"ISOWeek",pkg:"",typ:$funcType([],[$Int,$Int],false)},{prop:"Clock",name:"Clock",pkg:"",typ:$funcType([],[$Int,$Int,$Int],false)},{prop:"Hour",name:"Hour",pkg:"",typ:$funcType([],[$Int],false)},{prop:"Minute",name:"Minute",pkg:"",typ:$funcType([],[$Int],false)},{prop:"Second",name:"Second",pkg:"",typ:$funcType([],[$Int],false)},{prop:"Nanosecond",name:"Nanosecond",pkg:"",typ:$funcType([],[$Int],false)},{prop:"YearDay",name:"YearDay",pkg:"",typ:$funcType([],[$Int],false)},{prop:"Add",name:"Add",pkg:"",typ:$funcType([Duration],[Time],false)},{prop:"Sub",name:"Sub",pkg:"",typ:$funcType([Time],[Duration],false)},{prop:"AddDate",name:"AddDate",pkg:"",typ:$funcType([$Int,$Int,$Int],[Time],false)},{prop:"date",name:"date",pkg:"time",typ:$funcType([$Bool],[$Int,Month,$Int,$Int],false)},{prop:"UTC",name:"UTC",pkg:"",typ:$funcType([],[Time],false)},{prop:"Local",name:"Local",pkg:"",typ:$funcType([],[Time],false)},{prop:"In",name:"In",pkg:"",typ:$funcType([ptrType$2],[Time],false)},{prop:"Location",name:"Location",pkg:"",typ:$funcType([],[ptrType$2],false)},{prop:"Zone",name:"Zone",pkg:"",typ:$funcType([],[$String,$Int],false)},{prop:"Unix",name:"Unix",pkg:"",typ:$funcType([],[$Int64],false)},{prop:"UnixNano",name:"UnixNano",pkg:"",typ:$funcType([],[$Int64],false)},{prop:"MarshalBinary",name:"MarshalBinary",pkg:"",typ:$funcType([],[sliceType$3,$error],false)},{prop:"GobEncode",name:"GobEncode",pkg:"",typ:$funcType([],[sliceType$3,$error],false)},{prop:"MarshalJSON",name:"MarshalJSON",pkg:"",typ:$funcType([],[sliceType$3,$error],false)},{prop:"MarshalText",name:"MarshalText",pkg:"",typ:$funcType([],[sliceType$3,$error],false)},{prop:"Truncate",name:"Truncate",pkg:"",typ:$funcType([Duration],[Time],false)},{prop:"Round",name:"Round",pkg:"",typ:$funcType([Duration],[Time],false)}];ptrType$7.methods=[{prop:"nsec",name:"nsec",pkg:"time",typ:$funcType([],[$Int32],false)},{prop:"sec",name:"sec",pkg:"time",typ:$funcType([],[$Int64],false)},{prop:"unixSec",name:"unixSec",pkg:"time",typ:$funcType([],[$Int64],false)},{prop:"addSec",name:"addSec",pkg:"time",typ:$funcType([$Int64],[],false)},{prop:"setLoc",name:"setLoc",pkg:"time",typ:$funcType([ptrType$2],[],false)},{prop:"stripMono",name:"stripMono",pkg:"time",typ:$funcType([],[],false)},{prop:"setMono",name:"setMono",pkg:"time",typ:$funcType([$Int64],[],false)},{prop:"mono",name:"mono",pkg:"time",typ:$funcType([],[$Int64],false)},{prop:"UnmarshalBinary",name:"UnmarshalBinary",pkg:"",typ:$funcType([sliceType$3],[$error],false)},{prop:"GobDecode",name:"GobDecode",pkg:"",typ:$funcType([sliceType$3],[$error],false)},{prop:"UnmarshalJSON",name:"UnmarshalJSON",pkg:"",typ:$funcType([sliceType$3],[$error],false)},{prop:"UnmarshalText",name:"UnmarshalText",pkg:"",typ:$funcType([sliceType$3],[$error],false)}];Month.methods=[{prop:"String",name:"String",pkg:"",typ:$funcType([],[$String],false)}];Weekday.methods=[{prop:"String",name:"String",pkg:"",typ:$funcType([],[$String],false)}];Duration.methods=[{prop:"String",name:"String",pkg:"",typ:$funcType([],[$String],false)},{prop:"Nanoseconds",name:"Nanoseconds",pkg:"",typ:$funcType([],[$Int64],false)},{prop:"Seconds",name:"Seconds",pkg:"",typ:$funcType([],[$Float64],false)},{prop:"Minutes",name:"Minutes",pkg:"",typ:$funcType([],[$Float64],false)},{prop:"Hours",name:"Hours",pkg:"",typ:$funcType([],[$Float64],false)},{prop:"Truncate",name:"Truncate",pkg:"",typ:$funcType([Duration],[Duration],false)},{prop:"Round",name:"Round",pkg:"",typ:$funcType([Duration],[Duration],false)}];ptrType$2.methods=[{prop:"get",name:"get",pkg:"time",typ:$funcType([],[ptrType$2],false)},{prop:"String",name:"String",pkg:"",typ:$funcType([],[$String],false)},{prop:"lookup",name:"lookup",pkg:"time",typ:$funcType([$Int64],[$String,$Int,$Int64,$Int64],false)},{prop:"lookupFirstZone",name:"lookupFirstZone",pkg:"time",typ:$funcType([],[$Int],false)},{prop:"firstZoneUsed",name:"firstZoneUsed",pkg:"time",typ:$funcType([],[$Bool],false)},{prop:"lookupName",name:"lookupName",pkg:"time",typ:$funcType([$String,$Int64],[$Int,$Bool],false)}];ParseError.init("",[{prop:"Layout",name:"Layout",embedded:false,exported:true,typ:$String,tag:""},{prop:"Value",name:"Value",embedded:false,exported:true,typ:$String,tag:""},{prop:"LayoutElem",name:"LayoutElem",embedded:false,exported:true,typ:$String,tag:""},{prop:"ValueElem",name:"ValueElem",embedded:false,exported:true,typ:$String,tag:""},{prop:"Message",name:"Message",embedded:false,exported:true,typ:$String,tag:""}]);Time.init("time",[{prop:"wall",name:"wall",embedded:false,exported:false,typ:$Uint64,tag:""},{prop:"ext",name:"ext",embedded:false,exported:false,typ:$Int64,tag:""},{prop:"loc",name:"loc",embedded:false,exported:false,typ:ptrType$2,tag:""}]);Location.init("time",[{prop:"name",name:"name",embedded:false,exported:false,typ:$String,tag:""},{prop:"zone",name:"zone",embedded:false,exported:false,typ:sliceType,tag:""},{prop:"tx",name:"tx",embedded:false,exported:false,typ:sliceType$1,tag:""},{prop:"cacheStart",name:"cacheStart",embedded:false,exported:false,typ:$Int64,tag:""},{prop:"cacheEnd",name:"cacheEnd",embedded:false,exported:false,typ:$Int64,tag:""},{prop:"cacheZone",name:"cacheZone",embedded:false,exported:false,typ:ptrType,tag:""}]);zone.init("time",[{prop:"name",name:"name",embedded:false,exported:false,typ:$String,tag:""},{prop:"offset",name:"offset",embedded:false,exported:false,typ:$Int,tag:""},{prop:"isDST",name:"isDST",embedded:false,exported:false,typ:$Bool,tag:""}]);zoneTrans.init("time",[{prop:"when",name:"when",embedded:false,exported:false,typ:$Int64,tag:""},{prop:"index",name:"index",embedded:false,exported:false,typ:$Uint8,tag:""},{prop:"isstd",name:"isstd",embedded:false,exported:false,typ:$Bool,tag:""},{prop:"isutc",name:"isutc",embedded:false,exported:false,typ:$Bool,tag:""}]);$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=errors.$init();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=js.$init();/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=nosync.$init();/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=runtime.$init();/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=syscall.$init();/* */$s=5;case 5:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}localLoc=new Location.ptr("",sliceType.nil,sliceType$1.nil,new $Int64(0,0),new $Int64(0,0),ptrType.nil);localOnce=new nosync.Once.ptr(false,false);zoneSources=new sliceType$2([runtime.GOROOT()+"/lib/time/zoneinfo.zip"]);std0x=$toNativeArray($kindInt,[260,265,524,526,528,274]);longDayNames=new sliceType$2(["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]);shortDayNames=new sliceType$2(["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]);shortMonthNames=new sliceType$2(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]);longMonthNames=new sliceType$2(["January","February","March","April","May","June","July","August","September","October","November","December"]);atoiError=errors.New("time: invalid number");errBad=errors.New("bad value for field");errLeadingInt=errors.New("time: bad [0-9]*");months=$toNativeArray($kindString,["January","February","March","April","May","June","July","August","September","October","November","December"]);days=$toNativeArray($kindString,["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]);daysBefore=$toNativeArray($kindInt32,[0,31,59,90,120,151,181,212,243,273,304,334,365]);startNano=(x=runtimeNano(),new $Int64(x.$high-0,x.$low-1));utcLoc=new Location.ptr("UTC",sliceType.nil,sliceType$1.nil,new $Int64(0,0),new $Int64(0,0),ptrType.nil);$pkg.UTC=utcLoc;$pkg.Local=localLoc;errLocation=errors.New("time: invalid location name");badData=errors.New("malformed time zone information");$unused(new sliceType$2(["/usr/share/zoneinfo/","/usr/share/lib/zoneinfo/","/usr/lib/locale/TZ/",runtime.GOROOT()+"/lib/time/zoneinfo.zip"]));init();/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["internal/poll"]=function(){var $pkg={},$init,errors,io,runtime,atomic,syscall,time,pollDesc,TimeoutError,fdMutex,FD,ptrType,chanType,sliceType,ptrType$1,ptrType$2,arrayType,sliceType$2,ptrType$6,ptrType$7,ptrType$8,ptrType$9,ptrType$10,ptrType$11,sliceType$3,ptrType$12,funcType,funcType$1,ptrType$13,ptrType$14,ptrType$15,ptrType$16,sliceType$4,ptrType$17,semWaiters,tryDupCloexec,tryDupCloexec$24ptr,runtime_Semacquire,runtime_Semrelease,errClosing,consume,fcntl,DupCloseOnExec,dupCloseOnExecOld,writev,accept;errors=$packages["errors"];io=$packages["io"];runtime=$packages["runtime"];atomic=$packages["sync/atomic"];syscall=$packages["syscall"];time=$packages["time"];pollDesc=$pkg.pollDesc=$newType(0,$kindStruct,"poll.pollDesc",true,"internal/poll",false,function(closing_){this.$val=this;if(arguments.length===0){this.closing=false;return;}this.closing=closing_;});TimeoutError=$pkg.TimeoutError=$newType(0,$kindStruct,"poll.TimeoutError",true,"internal/poll",true,function(){this.$val=this;if(arguments.length===0){return;}});fdMutex=$pkg.fdMutex=$newType(0,$kindStruct,"poll.fdMutex",true,"internal/poll",false,function(state_,rsema_,wsema_){this.$val=this;if(arguments.length===0){this.state=new $Uint64(0,0);this.rsema=0;this.wsema=0;return;}this.state=state_;this.rsema=rsema_;this.wsema=wsema_;});FD=$pkg.FD=$newType(0,$kindStruct,"poll.FD",true,"internal/poll",true,function(fdmu_,Sysfd_,pd_,iovecs_,csema_,isBlocking_,IsStream_,ZeroReadIsEOF_,isFile_){this.$val=this;if(arguments.length===0){this.fdmu=new fdMutex.ptr(new $Uint64(0,0),0,0);this.Sysfd=0;this.pd=new pollDesc.ptr(false);this.iovecs=ptrType$6.nil;this.csema=0;this.isBlocking=0;this.IsStream=false;this.ZeroReadIsEOF=false;this.isFile=false;return;}this.fdmu=fdmu_;this.Sysfd=Sysfd_;this.pd=pd_;this.iovecs=iovecs_;this.csema=csema_;this.isBlocking=isBlocking_;this.IsStream=IsStream_;this.ZeroReadIsEOF=ZeroReadIsEOF_;this.isFile=isFile_;});ptrType=$ptrType($Uint32);chanType=$chanType($Bool,false,false);sliceType=$sliceType(chanType);ptrType$1=$ptrType($Uint64);ptrType$2=$ptrType($Int32);arrayType=$arrayType($Uint8,4);sliceType$2=$sliceType(syscall.Iovec);ptrType$6=$ptrType(sliceType$2);ptrType$7=$ptrType($Uint8);ptrType$8=$ptrType(FD);ptrType$9=$ptrType(pollDesc);ptrType$10=$ptrType(TimeoutError);ptrType$11=$ptrType(fdMutex);sliceType$3=$sliceType($Uint8);ptrType$12=$ptrType(syscall.Stat_t);funcType=$funcType([$Uintptr],[],false);funcType$1=$funcType([$Uintptr],[$Bool],false);ptrType$13=$ptrType(syscall.Linger);ptrType$14=$ptrType(syscall.IPMreqn);ptrType$15=$ptrType(syscall.IPMreq);ptrType$16=$ptrType(syscall.IPv6Mreq);sliceType$4=$sliceType(sliceType$3);ptrType$17=$ptrType(sliceType$4);pollDesc.ptr.prototype.init=function(fd){var fd,pd;pd=this;return $ifaceNil;};pollDesc.prototype.init=function(fd){return this.$val.init(fd);};pollDesc.ptr.prototype.close=function(){var pd;pd=this;};pollDesc.prototype.close=function(){return this.$val.close();};pollDesc.ptr.prototype.evict=function(){var pd;pd=this;pd.closing=true;};pollDesc.prototype.evict=function(){return this.$val.evict();};pollDesc.ptr.prototype.prepare=function(mode,isFile){var isFile,mode,pd;pd=this;if(pd.closing){return errClosing(isFile);}return $ifaceNil;};pollDesc.prototype.prepare=function(mode,isFile){return this.$val.prepare(mode,isFile);};pollDesc.ptr.prototype.prepareRead=function(isFile){var isFile,pd;pd=this;return pd.prepare(114,isFile);};pollDesc.prototype.prepareRead=function(isFile){return this.$val.prepareRead(isFile);};pollDesc.ptr.prototype.prepareWrite=function(isFile){var isFile,pd;pd=this;return pd.prepare(119,isFile);};pollDesc.prototype.prepareWrite=function(isFile){return this.$val.prepareWrite(isFile);};pollDesc.ptr.prototype.wait=function(mode,isFile){var isFile,mode,pd;pd=this;if(pd.closing){return errClosing(isFile);}return $pkg.ErrTimeout;};pollDesc.prototype.wait=function(mode,isFile){return this.$val.wait(mode,isFile);};pollDesc.ptr.prototype.waitRead=function(isFile){var isFile,pd;pd=this;return pd.wait(114,isFile);};pollDesc.prototype.waitRead=function(isFile){return this.$val.waitRead(isFile);};pollDesc.ptr.prototype.waitWrite=function(isFile){var isFile,pd;pd=this;return pd.wait(119,isFile);};pollDesc.prototype.waitWrite=function(isFile){return this.$val.waitWrite(isFile);};pollDesc.ptr.prototype.pollable=function(){return true;};pollDesc.prototype.pollable=function(){return this.$val.pollable();};FD.ptr.prototype.SetDeadline=function(t){var t;return $ifaceNil;};FD.prototype.SetDeadline=function(t){return this.$val.SetDeadline(t);};FD.ptr.prototype.SetReadDeadline=function(t){var t;return $ifaceNil;};FD.prototype.SetReadDeadline=function(t){return this.$val.SetReadDeadline(t);};FD.ptr.prototype.SetWriteDeadline=function(t){var t;return $ifaceNil;};FD.prototype.SetWriteDeadline=function(t){return this.$val.SetWriteDeadline(t);};runtime_Semacquire=function(s){var _entry,_key,_r,ch,s,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_key=$f._key;_r=$f._r;ch=$f.ch;s=$f.s;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:/* */if(s.$get()===0){$s=1;continue;}/* */$s=2;continue;/* if (s.$get() === 0) { */case 1:ch=new $Chan($Bool,0);_key=s;(semWaiters||$throwRuntimeError("assignment to entry in nil map"))[ptrType.keyFor(_key)]={k:_key,v:$append((_entry=semWaiters[ptrType.keyFor(s)],_entry!==undefined?_entry.v:sliceType.nil),ch)};_r=$recv(ch);/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_r[0];/* } */case 2:s.$set(s.$get()-1>>>0);$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:runtime_Semacquire};}$f._entry=_entry;$f._key=_key;$f._r=_r;$f.ch=ch;$f.s=s;$f.$s=$s;$f.$r=$r;return $f;};runtime_Semrelease=function(s){var _entry,_key,ch,s,w,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_key=$f._key;ch=$f.ch;s=$f.s;w=$f.w;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:s.$set(s.$get()+1>>>0);w=(_entry=semWaiters[ptrType.keyFor(s)],_entry!==undefined?_entry.v:sliceType.nil);if(w.$length===0){$s=-1;return;}ch=0>=w.$length?($throwRuntimeError("index out of range"),undefined):w.$array[w.$offset+0];w=$subslice(w,1);_key=s;(semWaiters||$throwRuntimeError("assignment to entry in nil map"))[ptrType.keyFor(_key)]={k:_key,v:w};if(w.$length===0){delete semWaiters[ptrType.keyFor(s)];}$r=$send(ch,true);/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:runtime_Semrelease};}$f._entry=_entry;$f._key=_key;$f.ch=ch;$f.s=s;$f.w=w;$f.$s=$s;$f.$r=$r;return $f;};errClosing=function(isFile){var isFile;if(isFile){return $pkg.ErrFileClosing;}return $pkg.ErrNetClosing;};TimeoutError.ptr.prototype.Error=function(){var e;e=this;return"i/o timeout";};TimeoutError.prototype.Error=function(){return this.$val.Error();};TimeoutError.ptr.prototype.Timeout=function(){var e;e=this;return true;};TimeoutError.prototype.Timeout=function(){return this.$val.Timeout();};TimeoutError.ptr.prototype.Temporary=function(){var e;e=this;return true;};TimeoutError.prototype.Temporary=function(){return this.$val.Temporary();};consume=function(v,n){var ln0,n,v,x,x$1,x$2,x$3;while(true){if(!(v.$get().$length>0)){break;}ln0=new $Int64(0,(x=v.$get(),0>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+0]).$length);if(ln0.$high>n.$high||ln0.$high===n.$high&&ln0.$low>n.$low){x$2=v.$get(),0>=x$2.$length?($throwRuntimeError("index out of range"),undefined):x$2.$array[x$2.$offset+0]=$subslice((x$1=v.$get(),0>=x$1.$length?($throwRuntimeError("index out of range"),undefined):x$1.$array[x$1.$offset+0]),$flatten64(n));return;}n=(x$3=ln0,new $Int64(n.$high-x$3.$high,n.$low-x$3.$low));v.$set($subslice(v.$get(),1));}};FD.ptr.prototype.Fsync=function(){var err,fd,$s,$deferred,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;err=$f.err;fd=$f.fd;$s=$f.$s;$deferred=$f.$deferred;$r=$f.$r;}var $err=null;try{s:while(true){switch($s){case 0:$deferred=[];$deferred.index=$curGoroutine.deferStack.length;$curGoroutine.deferStack.push($deferred);fd=this;err=fd.incref();if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return err;}$deferred.push([$methodVal(fd,"decref"),[]]);$s=-1;return syscall.Fsync(fd.Sysfd);/* */}return;}}catch(err){$err=err;$s=-1;return $ifaceNil;}finally{$callDeferred($deferred,$err);if($curGoroutine.asleep){if($f===undefined){$f={$blk:FD.ptr.prototype.Fsync};}$f.err=err;$f.fd=fd;$f.$s=$s;$f.$deferred=$deferred;$f.$r=$r;return $f;}}};FD.prototype.Fsync=function(){return this.$val.Fsync();};fcntl=function(fd,cmd,arg){var _tuple,arg,cmd,e,fd,r;_tuple=syscall.Syscall(72,fd>>>0,cmd>>>0,arg>>>0);r=_tuple[0];e=_tuple[2];if(!(e===0)){return[r>>0,new syscall.Errno(e)];}return[r>>0,$ifaceNil];};fdMutex.ptr.prototype.incref=function(){var mu,new$1,old,x,x$1;mu=this;while(true){old=atomic.LoadUint64(mu.$ptr_state||(mu.$ptr_state=new ptrType$1(function(){return this.$target.state;},function($v){this.$target.state=$v;},mu)));if(!(x=new $Uint64(old.$high&0,(old.$low&1)>>>0),x.$high===0&&x.$low===0)){return false;}new$1=new $Uint64(old.$high+0,old.$low+8);if(x$1=new $Uint64(new$1.$high&0,(new$1.$low&8388600)>>>0),x$1.$high===0&&x$1.$low===0){$panic(new $String("too many concurrent operations on a single file or socket (max 1048575)"));}if(atomic.CompareAndSwapUint64(mu.$ptr_state||(mu.$ptr_state=new ptrType$1(function(){return this.$target.state;},function($v){this.$target.state=$v;},mu)),old,new$1)){return true;}}};fdMutex.prototype.incref=function(){return this.$val.incref();};fdMutex.ptr.prototype.increfAndClose=function(){var mu,new$1,old,x,x$1,x$2,x$3,x$4,x$5,x$6,x$7,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;mu=$f.mu;new$1=$f.new$1;old=$f.old;x=$f.x;x$1=$f.x$1;x$2=$f.x$2;x$3=$f.x$3;x$4=$f.x$4;x$5=$f.x$5;x$6=$f.x$6;x$7=$f.x$7;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:mu=this;/* while (true) { */case 1:old=atomic.LoadUint64(mu.$ptr_state||(mu.$ptr_state=new ptrType$1(function(){return this.$target.state;},function($v){this.$target.state=$v;},mu)));if(!(x=new $Uint64(old.$high&0,(old.$low&1)>>>0),x.$high===0&&x.$low===0)){$s=-1;return false;}new$1=(x$1=new $Uint64(old.$high|0,(old.$low|1)>>>0),new $Uint64(x$1.$high+0,x$1.$low+8));if(x$2=new $Uint64(new$1.$high&0,(new$1.$low&8388600)>>>0),x$2.$high===0&&x$2.$low===0){$panic(new $String("too many concurrent operations on a single file or socket (max 1048575)"));}new$1=(x$3=new $Uint64(2147483647,4286578688),new $Uint64(new$1.$high&~x$3.$high,(new$1.$low&~x$3.$low)>>>0));/* */if(atomic.CompareAndSwapUint64(mu.$ptr_state||(mu.$ptr_state=new ptrType$1(function(){return this.$target.state;},function($v){this.$target.state=$v;},mu)),old,new$1)){$s=3;continue;}/* */$s=4;continue;/* if (atomic.CompareAndSwapUint64((mu.$ptr_state || (mu.$ptr_state = new ptrType$1(function() { return this.$target.state; }, function($v) { this.$target.state = $v; }, mu))), old, new$1)) { */case 3:/* while (true) { */case 5:/* if (!(!((x$4 = new $Uint64(old.$high & 2047, (old.$low & 4286578688) >>> 0), (x$4.$high === 0 && x$4.$low === 0))))) { break; } */if(!!(x$4=new $Uint64(old.$high&2047,(old.$low&4286578688)>>>0),x$4.$high===0&&x$4.$low===0)){$s=6;continue;}old=(x$5=new $Uint64(0,8388608),new $Uint64(old.$high-x$5.$high,old.$low-x$5.$low));$r=runtime_Semrelease(mu.$ptr_rsema||(mu.$ptr_rsema=new ptrType(function(){return this.$target.rsema;},function($v){this.$target.rsema=$v;},mu)));/* */$s=7;case 7:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */$s=5;continue;case 6:/* while (true) { */case 8:/* if (!(!((x$6 = new $Uint64(old.$high & 2147481600, (old.$low & 0) >>> 0), (x$6.$high === 0 && x$6.$low === 0))))) { break; } */if(!!(x$6=new $Uint64(old.$high&2147481600,(old.$low&0)>>>0),x$6.$high===0&&x$6.$low===0)){$s=9;continue;}old=(x$7=new $Uint64(2048,0),new $Uint64(old.$high-x$7.$high,old.$low-x$7.$low));$r=runtime_Semrelease(mu.$ptr_wsema||(mu.$ptr_wsema=new ptrType(function(){return this.$target.wsema;},function($v){this.$target.wsema=$v;},mu)));/* */$s=10;case 10:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */$s=8;continue;case 9:$s=-1;return true;/* } */case 4:/* } */$s=1;continue;case 2:$s=-1;return false;/* */}return;}if($f===undefined){$f={$blk:fdMutex.ptr.prototype.increfAndClose};}$f.mu=mu;$f.new$1=new$1;$f.old=old;$f.x=x;$f.x$1=x$1;$f.x$2=x$2;$f.x$3=x$3;$f.x$4=x$4;$f.x$5=x$5;$f.x$6=x$6;$f.x$7=x$7;$f.$s=$s;$f.$r=$r;return $f;};fdMutex.prototype.increfAndClose=function(){return this.$val.increfAndClose();};fdMutex.ptr.prototype.decref=function(){var mu,new$1,old,x,x$1;mu=this;while(true){old=atomic.LoadUint64(mu.$ptr_state||(mu.$ptr_state=new ptrType$1(function(){return this.$target.state;},function($v){this.$target.state=$v;},mu)));if(x=new $Uint64(old.$high&0,(old.$low&8388600)>>>0),x.$high===0&&x.$low===0){$panic(new $String("inconsistent poll.fdMutex"));}new$1=new $Uint64(old.$high-0,old.$low-8);if(atomic.CompareAndSwapUint64(mu.$ptr_state||(mu.$ptr_state=new ptrType$1(function(){return this.$target.state;},function($v){this.$target.state=$v;},mu)),old,new$1)){return x$1=new $Uint64(new$1.$high&0,(new$1.$low&8388601)>>>0),x$1.$high===0&&x$1.$low===1;}}};fdMutex.prototype.decref=function(){return this.$val.decref();};fdMutex.ptr.prototype.rwlock=function(read){var _tmp,_tmp$1,_tmp$2,mu,mutexBit,mutexMask,mutexSema,mutexWait,new$1,old,read,x,x$1,x$2,x$3,x$4,x$5,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tmp$2=$f._tmp$2;mu=$f.mu;mutexBit=$f.mutexBit;mutexMask=$f.mutexMask;mutexSema=$f.mutexSema;mutexWait=$f.mutexWait;new$1=$f.new$1;old=$f.old;read=$f.read;x=$f.x;x$1=$f.x$1;x$2=$f.x$2;x$3=$f.x$3;x$4=$f.x$4;x$5=$f.x$5;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:mu=this;_tmp=new $Uint64(0,0);_tmp$1=new $Uint64(0,0);_tmp$2=new $Uint64(0,0);mutexBit=_tmp;mutexWait=_tmp$1;mutexMask=_tmp$2;mutexSema=ptrType.nil;if(read){mutexBit=new $Uint64(0,2);mutexWait=new $Uint64(0,8388608);mutexMask=new $Uint64(2047,4286578688);mutexSema=mu.$ptr_rsema||(mu.$ptr_rsema=new ptrType(function(){return this.$target.rsema;},function($v){this.$target.rsema=$v;},mu));}else{mutexBit=new $Uint64(0,4);mutexWait=new $Uint64(2048,0);mutexMask=new $Uint64(2147481600,0);mutexSema=mu.$ptr_wsema||(mu.$ptr_wsema=new ptrType(function(){return this.$target.wsema;},function($v){this.$target.wsema=$v;},mu));}/* while (true) { */case 1:old=atomic.LoadUint64(mu.$ptr_state||(mu.$ptr_state=new ptrType$1(function(){return this.$target.state;},function($v){this.$target.state=$v;},mu)));if(!(x=new $Uint64(old.$high&0,(old.$low&1)>>>0),x.$high===0&&x.$low===0)){$s=-1;return false;}new$1=new $Uint64(0,0);if(x$1=new $Uint64(old.$high&mutexBit.$high,(old.$low&mutexBit.$low)>>>0),x$1.$high===0&&x$1.$low===0){new$1=(x$2=new $Uint64(old.$high|mutexBit.$high,(old.$low|mutexBit.$low)>>>0),new $Uint64(x$2.$high+0,x$2.$low+8));if(x$3=new $Uint64(new$1.$high&0,(new$1.$low&8388600)>>>0),x$3.$high===0&&x$3.$low===0){$panic(new $String("too many concurrent operations on a single file or socket (max 1048575)"));}}else{new$1=new $Uint64(old.$high+mutexWait.$high,old.$low+mutexWait.$low);if(x$4=new $Uint64(new$1.$high&mutexMask.$high,(new$1.$low&mutexMask.$low)>>>0),x$4.$high===0&&x$4.$low===0){$panic(new $String("too many concurrent operations on a single file or socket (max 1048575)"));}}/* */if(atomic.CompareAndSwapUint64(mu.$ptr_state||(mu.$ptr_state=new ptrType$1(function(){return this.$target.state;},function($v){this.$target.state=$v;},mu)),old,new$1)){$s=3;continue;}/* */$s=4;continue;/* if (atomic.CompareAndSwapUint64((mu.$ptr_state || (mu.$ptr_state = new ptrType$1(function() { return this.$target.state; }, function($v) { this.$target.state = $v; }, mu))), old, new$1)) { */case 3:if(x$5=new $Uint64(old.$high&mutexBit.$high,(old.$low&mutexBit.$low)>>>0),x$5.$high===0&&x$5.$low===0){$s=-1;return true;}$r=runtime_Semacquire(mutexSema);/* */$s=5;case 5:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 4:/* } */$s=1;continue;case 2:$s=-1;return false;/* */}return;}if($f===undefined){$f={$blk:fdMutex.ptr.prototype.rwlock};}$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tmp$2=_tmp$2;$f.mu=mu;$f.mutexBit=mutexBit;$f.mutexMask=mutexMask;$f.mutexSema=mutexSema;$f.mutexWait=mutexWait;$f.new$1=new$1;$f.old=old;$f.read=read;$f.x=x;$f.x$1=x$1;$f.x$2=x$2;$f.x$3=x$3;$f.x$4=x$4;$f.x$5=x$5;$f.$s=$s;$f.$r=$r;return $f;};fdMutex.prototype.rwlock=function(read){return this.$val.rwlock(read);};fdMutex.ptr.prototype.rwunlock=function(read){var _tmp,_tmp$1,_tmp$2,mu,mutexBit,mutexMask,mutexSema,mutexWait,new$1,old,read,x,x$1,x$2,x$3,x$4,x$5,x$6,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tmp$2=$f._tmp$2;mu=$f.mu;mutexBit=$f.mutexBit;mutexMask=$f.mutexMask;mutexSema=$f.mutexSema;mutexWait=$f.mutexWait;new$1=$f.new$1;old=$f.old;read=$f.read;x=$f.x;x$1=$f.x$1;x$2=$f.x$2;x$3=$f.x$3;x$4=$f.x$4;x$5=$f.x$5;x$6=$f.x$6;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:mu=this;_tmp=new $Uint64(0,0);_tmp$1=new $Uint64(0,0);_tmp$2=new $Uint64(0,0);mutexBit=_tmp;mutexWait=_tmp$1;mutexMask=_tmp$2;mutexSema=ptrType.nil;if(read){mutexBit=new $Uint64(0,2);mutexWait=new $Uint64(0,8388608);mutexMask=new $Uint64(2047,4286578688);mutexSema=mu.$ptr_rsema||(mu.$ptr_rsema=new ptrType(function(){return this.$target.rsema;},function($v){this.$target.rsema=$v;},mu));}else{mutexBit=new $Uint64(0,4);mutexWait=new $Uint64(2048,0);mutexMask=new $Uint64(2147481600,0);mutexSema=mu.$ptr_wsema||(mu.$ptr_wsema=new ptrType(function(){return this.$target.wsema;},function($v){this.$target.wsema=$v;},mu));}/* while (true) { */case 1:old=atomic.LoadUint64(mu.$ptr_state||(mu.$ptr_state=new ptrType$1(function(){return this.$target.state;},function($v){this.$target.state=$v;},mu)));if((x=new $Uint64(old.$high&mutexBit.$high,(old.$low&mutexBit.$low)>>>0),x.$high===0&&x.$low===0)||(x$1=new $Uint64(old.$high&0,(old.$low&8388600)>>>0),x$1.$high===0&&x$1.$low===0)){$panic(new $String("inconsistent poll.fdMutex"));}new$1=(x$2=new $Uint64(old.$high&~mutexBit.$high,(old.$low&~mutexBit.$low)>>>0),new $Uint64(x$2.$high-0,x$2.$low-8));if(!(x$3=new $Uint64(old.$high&mutexMask.$high,(old.$low&mutexMask.$low)>>>0),x$3.$high===0&&x$3.$low===0)){new$1=(x$4=mutexWait,new $Uint64(new$1.$high-x$4.$high,new$1.$low-x$4.$low));}/* */if(atomic.CompareAndSwapUint64(mu.$ptr_state||(mu.$ptr_state=new ptrType$1(function(){return this.$target.state;},function($v){this.$target.state=$v;},mu)),old,new$1)){$s=3;continue;}/* */$s=4;continue;/* if (atomic.CompareAndSwapUint64((mu.$ptr_state || (mu.$ptr_state = new ptrType$1(function() { return this.$target.state; }, function($v) { this.$target.state = $v; }, mu))), old, new$1)) { */case 3:/* */if(!(x$5=new $Uint64(old.$high&mutexMask.$high,(old.$low&mutexMask.$low)>>>0),x$5.$high===0&&x$5.$low===0)){$s=5;continue;}/* */$s=6;continue;/* if (!((x$5 = new $Uint64(old.$high & mutexMask.$high, (old.$low & mutexMask.$low) >>> 0), (x$5.$high === 0 && x$5.$low === 0)))) { */case 5:$r=runtime_Semrelease(mutexSema);/* */$s=7;case 7:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 6:$s=-1;return x$6=new $Uint64(new$1.$high&0,(new$1.$low&8388601)>>>0),x$6.$high===0&&x$6.$low===1;/* } */case 4:/* } */$s=1;continue;case 2:$s=-1;return false;/* */}return;}if($f===undefined){$f={$blk:fdMutex.ptr.prototype.rwunlock};}$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tmp$2=_tmp$2;$f.mu=mu;$f.mutexBit=mutexBit;$f.mutexMask=mutexMask;$f.mutexSema=mutexSema;$f.mutexWait=mutexWait;$f.new$1=new$1;$f.old=old;$f.read=read;$f.x=x;$f.x$1=x$1;$f.x$2=x$2;$f.x$3=x$3;$f.x$4=x$4;$f.x$5=x$5;$f.x$6=x$6;$f.$s=$s;$f.$r=$r;return $f;};fdMutex.prototype.rwunlock=function(read){return this.$val.rwunlock(read);};FD.ptr.prototype.incref=function(){var fd;fd=this;if(!fd.fdmu.incref()){return errClosing(fd.isFile);}return $ifaceNil;};FD.prototype.incref=function(){return this.$val.incref();};FD.ptr.prototype.decref=function(){var _r,fd,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;fd=$f.fd;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:fd=this;/* */if(fd.fdmu.decref()){$s=1;continue;}/* */$s=2;continue;/* if (fd.fdmu.decref()) { */case 1:_r=fd.destroy();/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r;/* } */case 2:$s=-1;return $ifaceNil;/* */}return;}if($f===undefined){$f={$blk:FD.ptr.prototype.decref};}$f._r=_r;$f.fd=fd;$f.$s=$s;$f.$r=$r;return $f;};FD.prototype.decref=function(){return this.$val.decref();};FD.ptr.prototype.readLock=function(){var _r,fd,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;fd=$f.fd;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:fd=this;_r=fd.fdmu.rwlock(true);/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}/* */if(!_r){$s=1;continue;}/* */$s=2;continue;/* if (!_r) { */case 1:$s=-1;return errClosing(fd.isFile);/* } */case 2:$s=-1;return $ifaceNil;/* */}return;}if($f===undefined){$f={$blk:FD.ptr.prototype.readLock};}$f._r=_r;$f.fd=fd;$f.$s=$s;$f.$r=$r;return $f;};FD.prototype.readLock=function(){return this.$val.readLock();};FD.ptr.prototype.readUnlock=function(){var _r,_r$1,fd,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;fd=$f.fd;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:fd=this;_r=fd.fdmu.rwunlock(true);/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}/* */if(_r){$s=1;continue;}/* */$s=2;continue;/* if (_r) { */case 1:_r$1=fd.destroy();/* */$s=4;case 4:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_r$1;/* } */case 2:$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:FD.ptr.prototype.readUnlock};}$f._r=_r;$f._r$1=_r$1;$f.fd=fd;$f.$s=$s;$f.$r=$r;return $f;};FD.prototype.readUnlock=function(){return this.$val.readUnlock();};FD.ptr.prototype.writeLock=function(){var _r,fd,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;fd=$f.fd;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:fd=this;_r=fd.fdmu.rwlock(false);/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}/* */if(!_r){$s=1;continue;}/* */$s=2;continue;/* if (!_r) { */case 1:$s=-1;return errClosing(fd.isFile);/* } */case 2:$s=-1;return $ifaceNil;/* */}return;}if($f===undefined){$f={$blk:FD.ptr.prototype.writeLock};}$f._r=_r;$f.fd=fd;$f.$s=$s;$f.$r=$r;return $f;};FD.prototype.writeLock=function(){return this.$val.writeLock();};FD.ptr.prototype.writeUnlock=function(){var _r,_r$1,fd,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;fd=$f.fd;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:fd=this;_r=fd.fdmu.rwunlock(false);/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}/* */if(_r){$s=1;continue;}/* */$s=2;continue;/* if (_r) { */case 1:_r$1=fd.destroy();/* */$s=4;case 4:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_r$1;/* } */case 2:$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:FD.ptr.prototype.writeUnlock};}$f._r=_r;$f._r$1=_r$1;$f.fd=fd;$f.$s=$s;$f.$r=$r;return $f;};FD.prototype.writeUnlock=function(){return this.$val.writeUnlock();};FD.ptr.prototype.eofError=function(n,err){var err,fd,n;fd=this;if(n===0&&$interfaceIsEqual(err,$ifaceNil)&&fd.ZeroReadIsEOF){return io.EOF;}return err;};FD.prototype.eofError=function(n,err){return this.$val.eofError(n,err);};FD.ptr.prototype.Fchmod=function(mode){var err,fd,mode,$s,$deferred,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;err=$f.err;fd=$f.fd;mode=$f.mode;$s=$f.$s;$deferred=$f.$deferred;$r=$f.$r;}var $err=null;try{s:while(true){switch($s){case 0:$deferred=[];$deferred.index=$curGoroutine.deferStack.length;$curGoroutine.deferStack.push($deferred);fd=this;err=fd.incref();if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return err;}$deferred.push([$methodVal(fd,"decref"),[]]);$s=-1;return syscall.Fchmod(fd.Sysfd,mode);/* */}return;}}catch(err){$err=err;$s=-1;return $ifaceNil;}finally{$callDeferred($deferred,$err);if($curGoroutine.asleep){if($f===undefined){$f={$blk:FD.ptr.prototype.Fchmod};}$f.err=err;$f.fd=fd;$f.mode=mode;$f.$s=$s;$f.$deferred=$deferred;$f.$r=$r;return $f;}}};FD.prototype.Fchmod=function(mode){return this.$val.Fchmod(mode);};FD.ptr.prototype.Fchown=function(uid,gid){var err,fd,gid,uid,$s,$deferred,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;err=$f.err;fd=$f.fd;gid=$f.gid;uid=$f.uid;$s=$f.$s;$deferred=$f.$deferred;$r=$f.$r;}var $err=null;try{s:while(true){switch($s){case 0:$deferred=[];$deferred.index=$curGoroutine.deferStack.length;$curGoroutine.deferStack.push($deferred);fd=this;err=fd.incref();if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return err;}$deferred.push([$methodVal(fd,"decref"),[]]);$s=-1;return syscall.Fchown(fd.Sysfd,uid,gid);/* */}return;}}catch(err){$err=err;$s=-1;return $ifaceNil;}finally{$callDeferred($deferred,$err);if($curGoroutine.asleep){if($f===undefined){$f={$blk:FD.ptr.prototype.Fchown};}$f.err=err;$f.fd=fd;$f.gid=gid;$f.uid=uid;$f.$s=$s;$f.$deferred=$deferred;$f.$r=$r;return $f;}}};FD.prototype.Fchown=function(uid,gid){return this.$val.Fchown(uid,gid);};FD.ptr.prototype.Ftruncate=function(size){var err,fd,size,$s,$deferred,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;err=$f.err;fd=$f.fd;size=$f.size;$s=$f.$s;$deferred=$f.$deferred;$r=$f.$r;}var $err=null;try{s:while(true){switch($s){case 0:$deferred=[];$deferred.index=$curGoroutine.deferStack.length;$curGoroutine.deferStack.push($deferred);fd=this;err=fd.incref();if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return err;}$deferred.push([$methodVal(fd,"decref"),[]]);$s=-1;return syscall.Ftruncate(fd.Sysfd,size);/* */}return;}}catch(err){$err=err;$s=-1;return $ifaceNil;}finally{$callDeferred($deferred,$err);if($curGoroutine.asleep){if($f===undefined){$f={$blk:FD.ptr.prototype.Ftruncate};}$f.err=err;$f.fd=fd;$f.size=size;$f.$s=$s;$f.$deferred=$deferred;$f.$r=$r;return $f;}}};FD.prototype.Ftruncate=function(size){return this.$val.Ftruncate(size);};FD.ptr.prototype.Init=function(net,pollable){var err,fd,net,pollable;fd=this;if(net==="file"){fd.isFile=true;}if(!pollable){fd.isBlocking=1;return $ifaceNil;}err=fd.pd.init(fd);if(!$interfaceIsEqual(err,$ifaceNil)){fd.isBlocking=1;}return err;};FD.prototype.Init=function(net,pollable){return this.$val.Init(net,pollable);};FD.ptr.prototype.destroy=function(){var _r,err,fd,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;err=$f.err;fd=$f.fd;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:fd=this;fd.pd.close();_r=$pkg.CloseFunc(fd.Sysfd);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}err=_r;fd.Sysfd=-1;$r=runtime_Semrelease(fd.$ptr_csema||(fd.$ptr_csema=new ptrType(function(){return this.$target.csema;},function($v){this.$target.csema=$v;},fd)));/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return err;/* */}return;}if($f===undefined){$f={$blk:FD.ptr.prototype.destroy};}$f._r=_r;$f.err=err;$f.fd=fd;$f.$s=$s;$f.$r=$r;return $f;};FD.prototype.destroy=function(){return this.$val.destroy();};FD.ptr.prototype.Close=function(){var _r,_r$1,err,fd,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;err=$f.err;fd=$f.fd;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:fd=this;_r=fd.fdmu.increfAndClose();/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}/* */if(!_r){$s=1;continue;}/* */$s=2;continue;/* if (!_r) { */case 1:$s=-1;return errClosing(fd.isFile);/* } */case 2:fd.pd.evict();_r$1=fd.decref();/* */$s=4;case 4:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}err=_r$1;/* */if(fd.isBlocking===0){$s=5;continue;}/* */$s=6;continue;/* if (fd.isBlocking === 0) { */case 5:$r=runtime_Semacquire(fd.$ptr_csema||(fd.$ptr_csema=new ptrType(function(){return this.$target.csema;},function($v){this.$target.csema=$v;},fd)));/* */$s=7;case 7:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 6:$s=-1;return err;/* */}return;}if($f===undefined){$f={$blk:FD.ptr.prototype.Close};}$f._r=_r;$f._r$1=_r$1;$f.err=err;$f.fd=fd;$f.$s=$s;$f.$r=$r;return $f;};FD.prototype.Close=function(){return this.$val.Close();};FD.ptr.prototype.Shutdown=function(how){var err,fd,how,$s,$deferred,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;err=$f.err;fd=$f.fd;how=$f.how;$s=$f.$s;$deferred=$f.$deferred;$r=$f.$r;}var $err=null;try{s:while(true){switch($s){case 0:$deferred=[];$deferred.index=$curGoroutine.deferStack.length;$curGoroutine.deferStack.push($deferred);fd=this;err=fd.incref();if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return err;}$deferred.push([$methodVal(fd,"decref"),[]]);$s=-1;return syscall.Shutdown(fd.Sysfd,how);/* */}return;}}catch(err){$err=err;$s=-1;return $ifaceNil;}finally{$callDeferred($deferred,$err);if($curGoroutine.asleep){if($f===undefined){$f={$blk:FD.ptr.prototype.Shutdown};}$f.err=err;$f.fd=fd;$f.how=how;$f.$s=$s;$f.$deferred=$deferred;$f.$r=$r;return $f;}}};FD.prototype.Shutdown=function(how){return this.$val.Shutdown(how);};FD.ptr.prototype.SetBlocking=function(){var err,fd,$s,$deferred,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;err=$f.err;fd=$f.fd;$s=$f.$s;$deferred=$f.$deferred;$r=$f.$r;}var $err=null;try{s:while(true){switch($s){case 0:$deferred=[];$deferred.index=$curGoroutine.deferStack.length;$curGoroutine.deferStack.push($deferred);fd=this;err=fd.incref();if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return err;}$deferred.push([$methodVal(fd,"decref"),[]]);atomic.StoreUint32(fd.$ptr_isBlocking||(fd.$ptr_isBlocking=new ptrType(function(){return this.$target.isBlocking;},function($v){this.$target.isBlocking=$v;},fd)),1);$s=-1;return syscall.SetNonblock(fd.Sysfd,false);/* */}return;}}catch(err){$err=err;$s=-1;return $ifaceNil;}finally{$callDeferred($deferred,$err);if($curGoroutine.asleep){if($f===undefined){$f={$blk:FD.ptr.prototype.SetBlocking};}$f.err=err;$f.fd=fd;$f.$s=$s;$f.$deferred=$deferred;$f.$r=$r;return $f;}}};FD.prototype.SetBlocking=function(){return this.$val.SetBlocking();};FD.ptr.prototype.Read=function(p){var _r,_tuple,err,err$1,err$2,fd,n,p,$s,$deferred,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tuple=$f._tuple;err=$f.err;err$1=$f.err$1;err$2=$f.err$2;fd=$f.fd;n=$f.n;p=$f.p;$s=$f.$s;$deferred=$f.$deferred;$r=$f.$r;}var $err=null;try{s:while(true){switch($s){case 0:$deferred=[];$deferred.index=$curGoroutine.deferStack.length;$curGoroutine.deferStack.push($deferred);fd=this;_r=fd.readLock();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}err=_r;if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}$deferred.push([$methodVal(fd,"readUnlock"),[]]);if(p.$length===0){$s=-1;return[0,$ifaceNil];}err$1=fd.pd.prepareRead(fd.isFile);if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[0,err$1];}if(fd.IsStream&&p.$length>1073741824){p=$subslice(p,0,1073741824);}while(true){_tuple=syscall.Read(fd.Sysfd,p);n=_tuple[0];err$2=_tuple[1];if(!$interfaceIsEqual(err$2,$ifaceNil)){n=0;if($interfaceIsEqual(err$2,new syscall.Errno(11))&&fd.pd.pollable()){err$2=fd.pd.waitRead(fd.isFile);if($interfaceIsEqual(err$2,$ifaceNil)){continue;}}if(false&&$interfaceIsEqual(err$2,new syscall.Errno(4))){continue;}}err$2=fd.eofError(n,err$2);$s=-1;return[n,err$2];}$s=-1;return[0,$ifaceNil];/* */}return;}}catch(err){$err=err;$s=-1;return[0,$ifaceNil];}finally{$callDeferred($deferred,$err);if($curGoroutine.asleep){if($f===undefined){$f={$blk:FD.ptr.prototype.Read};}$f._r=_r;$f._tuple=_tuple;$f.err=err;$f.err$1=err$1;$f.err$2=err$2;$f.fd=fd;$f.n=n;$f.p=p;$f.$s=$s;$f.$deferred=$deferred;$f.$r=$r;return $f;}}};FD.prototype.Read=function(p){return this.$val.Read(p);};FD.ptr.prototype.Pread=function(p,off){var _r,_tuple,err,err$1,fd,n,off,p,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tuple=$f._tuple;err=$f.err;err$1=$f.err$1;fd=$f.fd;n=$f.n;off=$f.off;p=$f.p;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:fd=this;err=fd.incref();if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}if(fd.IsStream&&p.$length>1073741824){p=$subslice(p,0,1073741824);}_tuple=syscall.Pread(fd.Sysfd,p,off);n=_tuple[0];err$1=_tuple[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){n=0;}_r=fd.decref();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_r;err$1=fd.eofError(n,err$1);$s=-1;return[n,err$1];/* */}return;}if($f===undefined){$f={$blk:FD.ptr.prototype.Pread};}$f._r=_r;$f._tuple=_tuple;$f.err=err;$f.err$1=err$1;$f.fd=fd;$f.n=n;$f.off=off;$f.p=p;$f.$s=$s;$f.$r=$r;return $f;};FD.prototype.Pread=function(p,off){return this.$val.Pread(p,off);};FD.ptr.prototype.ReadFrom=function(p){var _r,_tuple,err,err$1,err$2,fd,n,p,sa,$s,$deferred,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tuple=$f._tuple;err=$f.err;err$1=$f.err$1;err$2=$f.err$2;fd=$f.fd;n=$f.n;p=$f.p;sa=$f.sa;$s=$f.$s;$deferred=$f.$deferred;$r=$f.$r;}var $err=null;try{s:while(true){switch($s){case 0:$deferred=[];$deferred.index=$curGoroutine.deferStack.length;$curGoroutine.deferStack.push($deferred);fd=this;_r=fd.readLock();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}err=_r;if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,$ifaceNil,err];}$deferred.push([$methodVal(fd,"readUnlock"),[]]);err$1=fd.pd.prepareRead(fd.isFile);if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[0,$ifaceNil,err$1];}while(true){_tuple=syscall.Recvfrom(fd.Sysfd,p,0);n=_tuple[0];sa=_tuple[1];err$2=_tuple[2];if(!$interfaceIsEqual(err$2,$ifaceNil)){n=0;if($interfaceIsEqual(err$2,new syscall.Errno(11))&&fd.pd.pollable()){err$2=fd.pd.waitRead(fd.isFile);if($interfaceIsEqual(err$2,$ifaceNil)){continue;}}}err$2=fd.eofError(n,err$2);$s=-1;return[n,sa,err$2];}$s=-1;return[0,$ifaceNil,$ifaceNil];/* */}return;}}catch(err){$err=err;$s=-1;return[0,$ifaceNil,$ifaceNil];}finally{$callDeferred($deferred,$err);if($curGoroutine.asleep){if($f===undefined){$f={$blk:FD.ptr.prototype.ReadFrom};}$f._r=_r;$f._tuple=_tuple;$f.err=err;$f.err$1=err$1;$f.err$2=err$2;$f.fd=fd;$f.n=n;$f.p=p;$f.sa=sa;$f.$s=$s;$f.$deferred=$deferred;$f.$r=$r;return $f;}}};FD.prototype.ReadFrom=function(p){return this.$val.ReadFrom(p);};FD.ptr.prototype.ReadMsg=function(p,oob){var _r,_tuple,err,err$1,err$2,fd,flags,n,oob,oobn,p,sa,$s,$deferred,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tuple=$f._tuple;err=$f.err;err$1=$f.err$1;err$2=$f.err$2;fd=$f.fd;flags=$f.flags;n=$f.n;oob=$f.oob;oobn=$f.oobn;p=$f.p;sa=$f.sa;$s=$f.$s;$deferred=$f.$deferred;$r=$f.$r;}var $err=null;try{s:while(true){switch($s){case 0:$deferred=[];$deferred.index=$curGoroutine.deferStack.length;$curGoroutine.deferStack.push($deferred);fd=this;_r=fd.readLock();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}err=_r;if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,0,0,$ifaceNil,err];}$deferred.push([$methodVal(fd,"readUnlock"),[]]);err$1=fd.pd.prepareRead(fd.isFile);if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[0,0,0,$ifaceNil,err$1];}while(true){_tuple=syscall.Recvmsg(fd.Sysfd,p,oob,0);n=_tuple[0];oobn=_tuple[1];flags=_tuple[2];sa=_tuple[3];err$2=_tuple[4];if(!$interfaceIsEqual(err$2,$ifaceNil)){if($interfaceIsEqual(err$2,new syscall.Errno(11))&&fd.pd.pollable()){err$2=fd.pd.waitRead(fd.isFile);if($interfaceIsEqual(err$2,$ifaceNil)){continue;}}}err$2=fd.eofError(n,err$2);$s=-1;return[n,oobn,flags,sa,err$2];}$s=-1;return[0,0,0,$ifaceNil,$ifaceNil];/* */}return;}}catch(err){$err=err;$s=-1;return[0,0,0,$ifaceNil,$ifaceNil];}finally{$callDeferred($deferred,$err);if($curGoroutine.asleep){if($f===undefined){$f={$blk:FD.ptr.prototype.ReadMsg};}$f._r=_r;$f._tuple=_tuple;$f.err=err;$f.err$1=err$1;$f.err$2=err$2;$f.fd=fd;$f.flags=flags;$f.n=n;$f.oob=oob;$f.oobn=oobn;$f.p=p;$f.sa=sa;$f.$s=$s;$f.$deferred=$deferred;$f.$r=$r;return $f;}}};FD.prototype.ReadMsg=function(p,oob){return this.$val.ReadMsg(p,oob);};FD.ptr.prototype.Write=function(p){var _r,_tuple,err,err$1,err$2,fd,max,n,nn,p,$s,$deferred,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tuple=$f._tuple;err=$f.err;err$1=$f.err$1;err$2=$f.err$2;fd=$f.fd;max=$f.max;n=$f.n;nn=$f.nn;p=$f.p;$s=$f.$s;$deferred=$f.$deferred;$r=$f.$r;}var $err=null;try{s:while(true){switch($s){case 0:$deferred=[];$deferred.index=$curGoroutine.deferStack.length;$curGoroutine.deferStack.push($deferred);fd=this;_r=fd.writeLock();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}err=_r;if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}$deferred.push([$methodVal(fd,"writeUnlock"),[]]);err$1=fd.pd.prepareWrite(fd.isFile);if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[0,err$1];}nn=0;while(true){max=p.$length;if(fd.IsStream&&max-nn>>0>1073741824){max=nn+1073741824>>0;}_tuple=syscall.Write(fd.Sysfd,$subslice(p,nn,max));n=_tuple[0];err$2=_tuple[1];if(n>0){nn=nn+n>>0;}if(nn===p.$length){$s=-1;return[nn,err$2];}if($interfaceIsEqual(err$2,new syscall.Errno(11))&&fd.pd.pollable()){err$2=fd.pd.waitWrite(fd.isFile);if($interfaceIsEqual(err$2,$ifaceNil)){continue;}}if(!$interfaceIsEqual(err$2,$ifaceNil)){$s=-1;return[nn,err$2];}if(n===0){$s=-1;return[nn,io.ErrUnexpectedEOF];}}$s=-1;return[0,$ifaceNil];/* */}return;}}catch(err){$err=err;$s=-1;return[0,$ifaceNil];}finally{$callDeferred($deferred,$err);if($curGoroutine.asleep){if($f===undefined){$f={$blk:FD.ptr.prototype.Write};}$f._r=_r;$f._tuple=_tuple;$f.err=err;$f.err$1=err$1;$f.err$2=err$2;$f.fd=fd;$f.max=max;$f.n=n;$f.nn=nn;$f.p=p;$f.$s=$s;$f.$deferred=$deferred;$f.$r=$r;return $f;}}};FD.prototype.Write=function(p){return this.$val.Write(p);};FD.ptr.prototype.Pwrite=function(p,off){var _tuple,err,err$1,fd,max,n,nn,off,p,x,$s,$deferred,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_tuple=$f._tuple;err=$f.err;err$1=$f.err$1;fd=$f.fd;max=$f.max;n=$f.n;nn=$f.nn;off=$f.off;p=$f.p;x=$f.x;$s=$f.$s;$deferred=$f.$deferred;$r=$f.$r;}var $err=null;try{s:while(true){switch($s){case 0:$deferred=[];$deferred.index=$curGoroutine.deferStack.length;$curGoroutine.deferStack.push($deferred);fd=this;err=fd.incref();if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}$deferred.push([$methodVal(fd,"decref"),[]]);nn=0;while(true){max=p.$length;if(fd.IsStream&&max-nn>>0>1073741824){max=nn+1073741824>>0;}_tuple=syscall.Pwrite(fd.Sysfd,$subslice(p,nn,max),(x=new $Int64(0,nn),new $Int64(off.$high+x.$high,off.$low+x.$low)));n=_tuple[0];err$1=_tuple[1];if(n>0){nn=nn+n>>0;}if(nn===p.$length){$s=-1;return[nn,err$1];}if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[nn,err$1];}if(n===0){$s=-1;return[nn,io.ErrUnexpectedEOF];}}$s=-1;return[0,$ifaceNil];/* */}return;}}catch(err){$err=err;$s=-1;return[0,$ifaceNil];}finally{$callDeferred($deferred,$err);if($curGoroutine.asleep){if($f===undefined){$f={$blk:FD.ptr.prototype.Pwrite};}$f._tuple=_tuple;$f.err=err;$f.err$1=err$1;$f.fd=fd;$f.max=max;$f.n=n;$f.nn=nn;$f.off=off;$f.p=p;$f.x=x;$f.$s=$s;$f.$deferred=$deferred;$f.$r=$r;return $f;}}};FD.prototype.Pwrite=function(p,off){return this.$val.Pwrite(p,off);};FD.ptr.prototype.WriteTo=function(p,sa){var _r,_r$1,err,err$1,err$2,fd,p,sa,$s,$deferred,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;err=$f.err;err$1=$f.err$1;err$2=$f.err$2;fd=$f.fd;p=$f.p;sa=$f.sa;$s=$f.$s;$deferred=$f.$deferred;$r=$f.$r;}var $err=null;try{s:while(true){switch($s){case 0:$deferred=[];$deferred.index=$curGoroutine.deferStack.length;$curGoroutine.deferStack.push($deferred);fd=this;_r=fd.writeLock();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}err=_r;if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}$deferred.push([$methodVal(fd,"writeUnlock"),[]]);err$1=fd.pd.prepareWrite(fd.isFile);if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[0,err$1];}/* while (true) { */case 2:_r$1=syscall.Sendto(fd.Sysfd,p,0,sa);/* */$s=4;case 4:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}err$2=_r$1;if($interfaceIsEqual(err$2,new syscall.Errno(11))&&fd.pd.pollable()){err$2=fd.pd.waitWrite(fd.isFile);if($interfaceIsEqual(err$2,$ifaceNil)){/* continue; */$s=2;continue;}}if(!$interfaceIsEqual(err$2,$ifaceNil)){$s=-1;return[0,err$2];}$s=-1;return[p.$length,$ifaceNil];/* } */$s=2;continue;case 3:$s=-1;return[0,$ifaceNil];/* */}return;}}catch(err){$err=err;$s=-1;return[0,$ifaceNil];}finally{$callDeferred($deferred,$err);if($curGoroutine.asleep){if($f===undefined){$f={$blk:FD.ptr.prototype.WriteTo};}$f._r=_r;$f._r$1=_r$1;$f.err=err;$f.err$1=err$1;$f.err$2=err$2;$f.fd=fd;$f.p=p;$f.sa=sa;$f.$s=$s;$f.$deferred=$deferred;$f.$r=$r;return $f;}}};FD.prototype.WriteTo=function(p,sa){return this.$val.WriteTo(p,sa);};FD.ptr.prototype.WriteMsg=function(p,oob,sa){var _r,_r$1,_tuple,err,err$1,err$2,fd,n,oob,p,sa,$s,$deferred,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_tuple=$f._tuple;err=$f.err;err$1=$f.err$1;err$2=$f.err$2;fd=$f.fd;n=$f.n;oob=$f.oob;p=$f.p;sa=$f.sa;$s=$f.$s;$deferred=$f.$deferred;$r=$f.$r;}var $err=null;try{s:while(true){switch($s){case 0:$deferred=[];$deferred.index=$curGoroutine.deferStack.length;$curGoroutine.deferStack.push($deferred);fd=this;_r=fd.writeLock();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}err=_r;if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,0,err];}$deferred.push([$methodVal(fd,"writeUnlock"),[]]);err$1=fd.pd.prepareWrite(fd.isFile);if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[0,0,err$1];}/* while (true) { */case 2:_r$1=syscall.SendmsgN(fd.Sysfd,p,oob,sa,0);/* */$s=4;case 4:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple=_r$1;n=_tuple[0];err$2=_tuple[1];if($interfaceIsEqual(err$2,new syscall.Errno(11))&&fd.pd.pollable()){err$2=fd.pd.waitWrite(fd.isFile);if($interfaceIsEqual(err$2,$ifaceNil)){/* continue; */$s=2;continue;}}if(!$interfaceIsEqual(err$2,$ifaceNil)){$s=-1;return[n,0,err$2];}$s=-1;return[n,oob.$length,err$2];/* } */$s=2;continue;case 3:$s=-1;return[0,0,$ifaceNil];/* */}return;}}catch(err){$err=err;$s=-1;return[0,0,$ifaceNil];}finally{$callDeferred($deferred,$err);if($curGoroutine.asleep){if($f===undefined){$f={$blk:FD.ptr.prototype.WriteMsg};}$f._r=_r;$f._r$1=_r$1;$f._tuple=_tuple;$f.err=err;$f.err$1=err$1;$f.err$2=err$2;$f.fd=fd;$f.n=n;$f.oob=oob;$f.p=p;$f.sa=sa;$f.$s=$s;$f.$deferred=$deferred;$f.$r=$r;return $f;}}};FD.prototype.WriteMsg=function(p,oob,sa){return this.$val.WriteMsg(p,oob,sa);};FD.ptr.prototype.Accept=function(){var _1,_r,_r$1,_tuple,err,err$1,err$2,errcall,fd,rsa,s,$s,$deferred,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_r=$f._r;_r$1=$f._r$1;_tuple=$f._tuple;err=$f.err;err$1=$f.err$1;err$2=$f.err$2;errcall=$f.errcall;fd=$f.fd;rsa=$f.rsa;s=$f.s;$s=$f.$s;$deferred=$f.$deferred;$r=$f.$r;}var $err=null;try{s:while(true){switch($s){case 0:$deferred=[];$deferred.index=$curGoroutine.deferStack.length;$curGoroutine.deferStack.push($deferred);fd=this;_r=fd.readLock();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}err=_r;if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[-1,$ifaceNil,"",err];}$deferred.push([$methodVal(fd,"readUnlock"),[]]);err$1=fd.pd.prepareRead(fd.isFile);if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[-1,$ifaceNil,"",err$1];}/* while (true) { */case 2:_r$1=accept(fd.Sysfd);/* */$s=4;case 4:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple=_r$1;s=_tuple[0];rsa=_tuple[1];errcall=_tuple[2];err$2=_tuple[3];if($interfaceIsEqual(err$2,$ifaceNil)){$s=-1;return[s,rsa,"",err$2];}_1=err$2;if($interfaceIsEqual(_1,new syscall.Errno(11))){if(fd.pd.pollable()){err$2=fd.pd.waitRead(fd.isFile);if($interfaceIsEqual(err$2,$ifaceNil)){/* continue; */$s=2;continue;}}}else if($interfaceIsEqual(_1,new syscall.Errno(103))){/* continue; */$s=2;continue;}$s=-1;return[-1,$ifaceNil,errcall,err$2];/* } */$s=2;continue;case 3:$s=-1;return[0,$ifaceNil,"",$ifaceNil];/* */}return;}}catch(err){$err=err;$s=-1;return[0,$ifaceNil,"",$ifaceNil];}finally{$callDeferred($deferred,$err);if($curGoroutine.asleep){if($f===undefined){$f={$blk:FD.ptr.prototype.Accept};}$f._1=_1;$f._r=_r;$f._r$1=_r$1;$f._tuple=_tuple;$f.err=err;$f.err$1=err$1;$f.err$2=err$2;$f.errcall=errcall;$f.fd=fd;$f.rsa=rsa;$f.s=s;$f.$s=$s;$f.$deferred=$deferred;$f.$r=$r;return $f;}}};FD.prototype.Accept=function(){return this.$val.Accept();};FD.ptr.prototype.Seek=function(offset,whence){var err,fd,offset,whence,$s,$deferred,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;err=$f.err;fd=$f.fd;offset=$f.offset;whence=$f.whence;$s=$f.$s;$deferred=$f.$deferred;$r=$f.$r;}var $err=null;try{s:while(true){switch($s){case 0:$deferred=[];$deferred.index=$curGoroutine.deferStack.length;$curGoroutine.deferStack.push($deferred);fd=this;err=fd.incref();if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[new $Int64(0,0),err];}$deferred.push([$methodVal(fd,"decref"),[]]);$s=-1;return syscall.Seek(fd.Sysfd,offset,whence);/* */}return;}}catch(err){$err=err;$s=-1;return[new $Int64(0,0),$ifaceNil];}finally{$callDeferred($deferred,$err);if($curGoroutine.asleep){if($f===undefined){$f={$blk:FD.ptr.prototype.Seek};}$f.err=err;$f.fd=fd;$f.offset=offset;$f.whence=whence;$f.$s=$s;$f.$deferred=$deferred;$f.$r=$r;return $f;}}};FD.prototype.Seek=function(offset,whence){return this.$val.Seek(offset,whence);};FD.ptr.prototype.ReadDirent=function(buf){var _tuple,buf,err,err$1,fd,n,$s,$deferred,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_tuple=$f._tuple;buf=$f.buf;err=$f.err;err$1=$f.err$1;fd=$f.fd;n=$f.n;$s=$f.$s;$deferred=$f.$deferred;$r=$f.$r;}var $err=null;try{s:while(true){switch($s){case 0:$deferred=[];$deferred.index=$curGoroutine.deferStack.length;$curGoroutine.deferStack.push($deferred);fd=this;err=fd.incref();if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}$deferred.push([$methodVal(fd,"decref"),[]]);while(true){_tuple=syscall.ReadDirent(fd.Sysfd,buf);n=_tuple[0];err$1=_tuple[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){n=0;if($interfaceIsEqual(err$1,new syscall.Errno(11))&&fd.pd.pollable()){err$1=fd.pd.waitRead(fd.isFile);if($interfaceIsEqual(err$1,$ifaceNil)){continue;}}}$s=-1;return[n,err$1];}$s=-1;return[0,$ifaceNil];/* */}return;}}catch(err){$err=err;$s=-1;return[0,$ifaceNil];}finally{$callDeferred($deferred,$err);if($curGoroutine.asleep){if($f===undefined){$f={$blk:FD.ptr.prototype.ReadDirent};}$f._tuple=_tuple;$f.buf=buf;$f.err=err;$f.err$1=err$1;$f.fd=fd;$f.n=n;$f.$s=$s;$f.$deferred=$deferred;$f.$r=$r;return $f;}}};FD.prototype.ReadDirent=function(buf){return this.$val.ReadDirent(buf);};FD.ptr.prototype.Fchdir=function(){var err,fd,$s,$deferred,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;err=$f.err;fd=$f.fd;$s=$f.$s;$deferred=$f.$deferred;$r=$f.$r;}var $err=null;try{s:while(true){switch($s){case 0:$deferred=[];$deferred.index=$curGoroutine.deferStack.length;$curGoroutine.deferStack.push($deferred);fd=this;err=fd.incref();if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return err;}$deferred.push([$methodVal(fd,"decref"),[]]);$s=-1;return syscall.Fchdir(fd.Sysfd);/* */}return;}}catch(err){$err=err;$s=-1;return $ifaceNil;}finally{$callDeferred($deferred,$err);if($curGoroutine.asleep){if($f===undefined){$f={$blk:FD.ptr.prototype.Fchdir};}$f.err=err;$f.fd=fd;$f.$s=$s;$f.$deferred=$deferred;$f.$r=$r;return $f;}}};FD.prototype.Fchdir=function(){return this.$val.Fchdir();};FD.ptr.prototype.Fstat=function(s){var err,fd,s,$s,$deferred,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;err=$f.err;fd=$f.fd;s=$f.s;$s=$f.$s;$deferred=$f.$deferred;$r=$f.$r;}var $err=null;try{s:while(true){switch($s){case 0:$deferred=[];$deferred.index=$curGoroutine.deferStack.length;$curGoroutine.deferStack.push($deferred);fd=this;err=fd.incref();if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return err;}$deferred.push([$methodVal(fd,"decref"),[]]);$s=-1;return syscall.Fstat(fd.Sysfd,s);/* */}return;}}catch(err){$err=err;$s=-1;return $ifaceNil;}finally{$callDeferred($deferred,$err);if($curGoroutine.asleep){if($f===undefined){$f={$blk:FD.ptr.prototype.Fstat};}$f.err=err;$f.fd=fd;$f.s=s;$f.$s=$s;$f.$deferred=$deferred;$f.$r=$r;return $f;}}};FD.prototype.Fstat=function(s){return this.$val.Fstat(s);};DupCloseOnExec=function(fd){var _1,_r,_tuple,e1,fd,r0,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_r=$f._r;_tuple=$f._tuple;e1=$f.e1;fd=$f.fd;r0=$f.r0;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:if(atomic.LoadInt32(tryDupCloexec$24ptr||(tryDupCloexec$24ptr=new ptrType$2(function(){return tryDupCloexec;},function($v){tryDupCloexec=$v;})))===1){_tuple=fcntl(fd,1030,0);r0=_tuple[0];e1=_tuple[1];if($interfaceIsEqual(e1,$ifaceNil)){$s=-1;return[r0,"",$ifaceNil];}_1=$assertType(e1,syscall.Errno);if(_1===22||_1===38){atomic.StoreInt32(tryDupCloexec$24ptr||(tryDupCloexec$24ptr=new ptrType$2(function(){return tryDupCloexec;},function($v){tryDupCloexec=$v;})),0);}else{$s=-1;return[-1,"fcntl",e1];}}_r=dupCloseOnExecOld(fd);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r;/* */}return;}if($f===undefined){$f={$blk:DupCloseOnExec};}$f._1=_1;$f._r=_r;$f._tuple=_tuple;$f.e1=e1;$f.fd=fd;$f.r0=r0;$f.$s=$s;$f.$r=$r;return $f;};$pkg.DupCloseOnExec=DupCloseOnExec;dupCloseOnExecOld=function(fd){var _tuple,err,fd,newfd,$s,$deferred,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_tuple=$f._tuple;err=$f.err;fd=$f.fd;newfd=$f.newfd;$s=$f.$s;$deferred=$f.$deferred;$r=$f.$r;}var $err=null;try{s:while(true){switch($s){case 0:$deferred=[];$deferred.index=$curGoroutine.deferStack.length;$curGoroutine.deferStack.push($deferred);$r=syscall.ForkLock.RLock();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$deferred.push([$methodVal(syscall.ForkLock,"RUnlock"),[]]);_tuple=syscall.Dup(fd);newfd=_tuple[0];err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[-1,"dup",err];}syscall.CloseOnExec(newfd);$s=-1;return[newfd,"",$ifaceNil];/* */}return;}}catch(err){$err=err;$s=-1;return[0,"",$ifaceNil];}finally{$callDeferred($deferred,$err);if($curGoroutine.asleep){if($f===undefined){$f={$blk:dupCloseOnExecOld};}$f._tuple=_tuple;$f.err=err;$f.fd=fd;$f.newfd=newfd;$f.$s=$s;$f.$deferred=$deferred;$f.$r=$r;return $f;}}};FD.ptr.prototype.Dup=function(){var _r,err,fd,$s,$deferred,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;err=$f.err;fd=$f.fd;$s=$f.$s;$deferred=$f.$deferred;$r=$f.$r;}var $err=null;try{s:while(true){switch($s){case 0:$deferred=[];$deferred.index=$curGoroutine.deferStack.length;$curGoroutine.deferStack.push($deferred);fd=this;err=fd.incref();if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[-1,"",err];}$deferred.push([$methodVal(fd,"decref"),[]]);_r=DupCloseOnExec(fd.Sysfd);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r;/* */}return;}}catch(err){$err=err;$s=-1;return[0,"",$ifaceNil];}finally{$callDeferred($deferred,$err);if($curGoroutine.asleep){if($f===undefined){$f={$blk:FD.ptr.prototype.Dup};}$f._r=_r;$f.err=err;$f.fd=fd;$f.$s=$s;$f.$deferred=$deferred;$f.$r=$r;return $f;}}};FD.prototype.Dup=function(){return this.$val.Dup();};FD.ptr.prototype.WaitWrite=function(){var fd;fd=this;return fd.pd.waitWrite(fd.isFile);};FD.prototype.WaitWrite=function(){return this.$val.WaitWrite();};FD.ptr.prototype.WriteOnce=function(p){var _r,err,fd,p,$s,$deferred,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;err=$f.err;fd=$f.fd;p=$f.p;$s=$f.$s;$deferred=$f.$deferred;$r=$f.$r;}var $err=null;try{s:while(true){switch($s){case 0:$deferred=[];$deferred.index=$curGoroutine.deferStack.length;$curGoroutine.deferStack.push($deferred);fd=this;_r=fd.writeLock();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}err=_r;if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}$deferred.push([$methodVal(fd,"writeUnlock"),[]]);$s=-1;return syscall.Write(fd.Sysfd,p);/* */}return;}}catch(err){$err=err;$s=-1;return[0,$ifaceNil];}finally{$callDeferred($deferred,$err);if($curGoroutine.asleep){if($f===undefined){$f={$blk:FD.ptr.prototype.WriteOnce};}$f._r=_r;$f.err=err;$f.fd=fd;$f.p=p;$f.$s=$s;$f.$deferred=$deferred;$f.$r=$r;return $f;}}};FD.prototype.WriteOnce=function(p){return this.$val.WriteOnce(p);};FD.ptr.prototype.RawControl=function(f){var err,f,fd,$s,$deferred,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;err=$f.err;f=$f.f;fd=$f.fd;$s=$f.$s;$deferred=$f.$deferred;$r=$f.$r;}var $err=null;try{s:while(true){switch($s){case 0:$deferred=[];$deferred.index=$curGoroutine.deferStack.length;$curGoroutine.deferStack.push($deferred);fd=this;err=fd.incref();if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return err;}$deferred.push([$methodVal(fd,"decref"),[]]);$r=f(fd.Sysfd>>>0);/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return $ifaceNil;/* */}return;}}catch(err){$err=err;$s=-1;return $ifaceNil;}finally{$callDeferred($deferred,$err);if($curGoroutine.asleep){if($f===undefined){$f={$blk:FD.ptr.prototype.RawControl};}$f.err=err;$f.f=f;$f.fd=fd;$f.$s=$s;$f.$deferred=$deferred;$f.$r=$r;return $f;}}};FD.prototype.RawControl=function(f){return this.$val.RawControl(f);};FD.ptr.prototype.RawRead=function(f){var _r,_r$1,err,err$1,err$2,f,fd,$s,$deferred,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;err=$f.err;err$1=$f.err$1;err$2=$f.err$2;f=$f.f;fd=$f.fd;$s=$f.$s;$deferred=$f.$deferred;$r=$f.$r;}var $err=null;try{s:while(true){switch($s){case 0:$deferred=[];$deferred.index=$curGoroutine.deferStack.length;$curGoroutine.deferStack.push($deferred);fd=this;_r=fd.readLock();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}err=_r;if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return err;}$deferred.push([$methodVal(fd,"readUnlock"),[]]);err$1=fd.pd.prepareRead(fd.isFile);if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return err$1;}/* while (true) { */case 2:_r$1=f(fd.Sysfd>>>0);/* */$s=6;case 6:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}/* */if(_r$1){$s=4;continue;}/* */$s=5;continue;/* if (_r$1) { */case 4:$s=-1;return $ifaceNil;/* } */case 5:err$2=fd.pd.waitRead(fd.isFile);if(!$interfaceIsEqual(err$2,$ifaceNil)){$s=-1;return err$2;}/* } */$s=2;continue;case 3:$s=-1;return $ifaceNil;/* */}return;}}catch(err){$err=err;$s=-1;return $ifaceNil;}finally{$callDeferred($deferred,$err);if($curGoroutine.asleep){if($f===undefined){$f={$blk:FD.ptr.prototype.RawRead};}$f._r=_r;$f._r$1=_r$1;$f.err=err;$f.err$1=err$1;$f.err$2=err$2;$f.f=f;$f.fd=fd;$f.$s=$s;$f.$deferred=$deferred;$f.$r=$r;return $f;}}};FD.prototype.RawRead=function(f){return this.$val.RawRead(f);};FD.ptr.prototype.RawWrite=function(f){var _r,_r$1,err,err$1,err$2,f,fd,$s,$deferred,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;err=$f.err;err$1=$f.err$1;err$2=$f.err$2;f=$f.f;fd=$f.fd;$s=$f.$s;$deferred=$f.$deferred;$r=$f.$r;}var $err=null;try{s:while(true){switch($s){case 0:$deferred=[];$deferred.index=$curGoroutine.deferStack.length;$curGoroutine.deferStack.push($deferred);fd=this;_r=fd.writeLock();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}err=_r;if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return err;}$deferred.push([$methodVal(fd,"writeUnlock"),[]]);err$1=fd.pd.prepareWrite(fd.isFile);if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return err$1;}/* while (true) { */case 2:_r$1=f(fd.Sysfd>>>0);/* */$s=6;case 6:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}/* */if(_r$1){$s=4;continue;}/* */$s=5;continue;/* if (_r$1) { */case 4:$s=-1;return $ifaceNil;/* } */case 5:err$2=fd.pd.waitWrite(fd.isFile);if(!$interfaceIsEqual(err$2,$ifaceNil)){$s=-1;return err$2;}/* } */$s=2;continue;case 3:$s=-1;return $ifaceNil;/* */}return;}}catch(err){$err=err;$s=-1;return $ifaceNil;}finally{$callDeferred($deferred,$err);if($curGoroutine.asleep){if($f===undefined){$f={$blk:FD.ptr.prototype.RawWrite};}$f._r=_r;$f._r$1=_r$1;$f.err=err;$f.err$1=err$1;$f.err$2=err$2;$f.f=f;$f.fd=fd;$f.$s=$s;$f.$deferred=$deferred;$f.$r=$r;return $f;}}};FD.prototype.RawWrite=function(f){return this.$val.RawWrite(f);};writev=function(fd,iovecs){var _tuple,e,fd,iovecs,r;_tuple=syscall.Syscall(20,fd>>>0,$sliceToArray(iovecs),iovecs.$length>>>0);r=_tuple[0];e=_tuple[2];if(!(e===0)){return[r,new syscall.Errno(e)];}return[r,$ifaceNil];};accept=function(s){var _1,_r,_r$1,_r$2,_tuple,_tuple$1,err,ns,s,sa,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_tuple=$f._tuple;_tuple$1=$f._tuple$1;err=$f.err;ns=$f.ns;s=$f.s;sa=$f.sa;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=$pkg.Accept4Func(s,526336);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;ns=_tuple[0];sa=_tuple[1];err=_tuple[2];_1=err;if($interfaceIsEqual(_1,$ifaceNil)){$s=-1;return[ns,sa,"",$ifaceNil];}else if($interfaceIsEqual(_1,new syscall.Errno(38))){}else if($interfaceIsEqual(_1,new syscall.Errno(22))){}else if($interfaceIsEqual(_1,new syscall.Errno(13))){}else if($interfaceIsEqual(_1,new syscall.Errno(14))){}else{$s=-1;return[-1,sa,"accept4",err];}_r$1=$pkg.AcceptFunc(s);/* */$s=2;case 2:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$1=_r$1;ns=_tuple$1[0];sa=_tuple$1[1];err=_tuple$1[2];if($interfaceIsEqual(err,$ifaceNil)){syscall.CloseOnExec(ns);}if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[-1,$ifaceNil,"accept",err];}err=syscall.SetNonblock(ns,true);/* */if(!$interfaceIsEqual(err,$ifaceNil)){$s=3;continue;}/* */$s=4;continue;/* if (!($interfaceIsEqual(err, $ifaceNil))) { */case 3:_r$2=$pkg.CloseFunc(ns);/* */$s=5;case 5:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_r$2;$s=-1;return[-1,$ifaceNil,"setnonblock",err];/* } */case 4:$s=-1;return[ns,sa,"",$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:accept};}$f._1=_1;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f.err=err;$f.ns=ns;$f.s=s;$f.sa=sa;$f.$s=$s;$f.$r=$r;return $f;};FD.ptr.prototype.SetsockoptInt=function(level,name,arg){var arg,err,fd,level,name,$s,$deferred,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;arg=$f.arg;err=$f.err;fd=$f.fd;level=$f.level;name=$f.name;$s=$f.$s;$deferred=$f.$deferred;$r=$f.$r;}var $err=null;try{s:while(true){switch($s){case 0:$deferred=[];$deferred.index=$curGoroutine.deferStack.length;$curGoroutine.deferStack.push($deferred);fd=this;err=fd.incref();if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return err;}$deferred.push([$methodVal(fd,"decref"),[]]);$s=-1;return syscall.SetsockoptInt(fd.Sysfd,level,name,arg);/* */}return;}}catch(err){$err=err;$s=-1;return $ifaceNil;}finally{$callDeferred($deferred,$err);if($curGoroutine.asleep){if($f===undefined){$f={$blk:FD.ptr.prototype.SetsockoptInt};}$f.arg=arg;$f.err=err;$f.fd=fd;$f.level=level;$f.name=name;$f.$s=$s;$f.$deferred=$deferred;$f.$r=$r;return $f;}}};FD.prototype.SetsockoptInt=function(level,name,arg){return this.$val.SetsockoptInt(level,name,arg);};FD.ptr.prototype.SetsockoptInet4Addr=function(level,name,arg){var arg,err,fd,level,name,$s,$deferred,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;arg=$f.arg;err=$f.err;fd=$f.fd;level=$f.level;name=$f.name;$s=$f.$s;$deferred=$f.$deferred;$r=$f.$r;}var $err=null;try{s:while(true){switch($s){case 0:$deferred=[];$deferred.index=$curGoroutine.deferStack.length;$curGoroutine.deferStack.push($deferred);fd=this;err=fd.incref();if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return err;}$deferred.push([$methodVal(fd,"decref"),[]]);$s=-1;return syscall.SetsockoptInet4Addr(fd.Sysfd,level,name,$clone(arg,arrayType));/* */}return;}}catch(err){$err=err;$s=-1;return $ifaceNil;}finally{$callDeferred($deferred,$err);if($curGoroutine.asleep){if($f===undefined){$f={$blk:FD.ptr.prototype.SetsockoptInet4Addr};}$f.arg=arg;$f.err=err;$f.fd=fd;$f.level=level;$f.name=name;$f.$s=$s;$f.$deferred=$deferred;$f.$r=$r;return $f;}}};FD.prototype.SetsockoptInet4Addr=function(level,name,arg){return this.$val.SetsockoptInet4Addr(level,name,arg);};FD.ptr.prototype.SetsockoptLinger=function(level,name,l){var err,fd,l,level,name,$s,$deferred,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;err=$f.err;fd=$f.fd;l=$f.l;level=$f.level;name=$f.name;$s=$f.$s;$deferred=$f.$deferred;$r=$f.$r;}var $err=null;try{s:while(true){switch($s){case 0:$deferred=[];$deferred.index=$curGoroutine.deferStack.length;$curGoroutine.deferStack.push($deferred);fd=this;err=fd.incref();if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return err;}$deferred.push([$methodVal(fd,"decref"),[]]);$s=-1;return syscall.SetsockoptLinger(fd.Sysfd,level,name,l);/* */}return;}}catch(err){$err=err;$s=-1;return $ifaceNil;}finally{$callDeferred($deferred,$err);if($curGoroutine.asleep){if($f===undefined){$f={$blk:FD.ptr.prototype.SetsockoptLinger};}$f.err=err;$f.fd=fd;$f.l=l;$f.level=level;$f.name=name;$f.$s=$s;$f.$deferred=$deferred;$f.$r=$r;return $f;}}};FD.prototype.SetsockoptLinger=function(level,name,l){return this.$val.SetsockoptLinger(level,name,l);};FD.ptr.prototype.SetsockoptIPMreqn=function(level,name,mreq){var err,fd,level,mreq,name,$s,$deferred,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;err=$f.err;fd=$f.fd;level=$f.level;mreq=$f.mreq;name=$f.name;$s=$f.$s;$deferred=$f.$deferred;$r=$f.$r;}var $err=null;try{s:while(true){switch($s){case 0:$deferred=[];$deferred.index=$curGoroutine.deferStack.length;$curGoroutine.deferStack.push($deferred);fd=this;err=fd.incref();if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return err;}$deferred.push([$methodVal(fd,"decref"),[]]);$s=-1;return syscall.SetsockoptIPMreqn(fd.Sysfd,level,name,mreq);/* */}return;}}catch(err){$err=err;$s=-1;return $ifaceNil;}finally{$callDeferred($deferred,$err);if($curGoroutine.asleep){if($f===undefined){$f={$blk:FD.ptr.prototype.SetsockoptIPMreqn};}$f.err=err;$f.fd=fd;$f.level=level;$f.mreq=mreq;$f.name=name;$f.$s=$s;$f.$deferred=$deferred;$f.$r=$r;return $f;}}};FD.prototype.SetsockoptIPMreqn=function(level,name,mreq){return this.$val.SetsockoptIPMreqn(level,name,mreq);};FD.ptr.prototype.SetsockoptByte=function(level,name,arg){var arg,err,fd,level,name,$s,$deferred,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;arg=$f.arg;err=$f.err;fd=$f.fd;level=$f.level;name=$f.name;$s=$f.$s;$deferred=$f.$deferred;$r=$f.$r;}var $err=null;try{s:while(true){switch($s){case 0:$deferred=[];$deferred.index=$curGoroutine.deferStack.length;$curGoroutine.deferStack.push($deferred);fd=this;err=fd.incref();if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return err;}$deferred.push([$methodVal(fd,"decref"),[]]);$s=-1;return syscall.SetsockoptByte(fd.Sysfd,level,name,arg);/* */}return;}}catch(err){$err=err;$s=-1;return $ifaceNil;}finally{$callDeferred($deferred,$err);if($curGoroutine.asleep){if($f===undefined){$f={$blk:FD.ptr.prototype.SetsockoptByte};}$f.arg=arg;$f.err=err;$f.fd=fd;$f.level=level;$f.name=name;$f.$s=$s;$f.$deferred=$deferred;$f.$r=$r;return $f;}}};FD.prototype.SetsockoptByte=function(level,name,arg){return this.$val.SetsockoptByte(level,name,arg);};FD.ptr.prototype.SetsockoptIPMreq=function(level,name,mreq){var err,fd,level,mreq,name,$s,$deferred,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;err=$f.err;fd=$f.fd;level=$f.level;mreq=$f.mreq;name=$f.name;$s=$f.$s;$deferred=$f.$deferred;$r=$f.$r;}var $err=null;try{s:while(true){switch($s){case 0:$deferred=[];$deferred.index=$curGoroutine.deferStack.length;$curGoroutine.deferStack.push($deferred);fd=this;err=fd.incref();if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return err;}$deferred.push([$methodVal(fd,"decref"),[]]);$s=-1;return syscall.SetsockoptIPMreq(fd.Sysfd,level,name,mreq);/* */}return;}}catch(err){$err=err;$s=-1;return $ifaceNil;}finally{$callDeferred($deferred,$err);if($curGoroutine.asleep){if($f===undefined){$f={$blk:FD.ptr.prototype.SetsockoptIPMreq};}$f.err=err;$f.fd=fd;$f.level=level;$f.mreq=mreq;$f.name=name;$f.$s=$s;$f.$deferred=$deferred;$f.$r=$r;return $f;}}};FD.prototype.SetsockoptIPMreq=function(level,name,mreq){return this.$val.SetsockoptIPMreq(level,name,mreq);};FD.ptr.prototype.SetsockoptIPv6Mreq=function(level,name,mreq){var err,fd,level,mreq,name,$s,$deferred,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;err=$f.err;fd=$f.fd;level=$f.level;mreq=$f.mreq;name=$f.name;$s=$f.$s;$deferred=$f.$deferred;$r=$f.$r;}var $err=null;try{s:while(true){switch($s){case 0:$deferred=[];$deferred.index=$curGoroutine.deferStack.length;$curGoroutine.deferStack.push($deferred);fd=this;err=fd.incref();if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return err;}$deferred.push([$methodVal(fd,"decref"),[]]);$s=-1;return syscall.SetsockoptIPv6Mreq(fd.Sysfd,level,name,mreq);/* */}return;}}catch(err){$err=err;$s=-1;return $ifaceNil;}finally{$callDeferred($deferred,$err);if($curGoroutine.asleep){if($f===undefined){$f={$blk:FD.ptr.prototype.SetsockoptIPv6Mreq};}$f.err=err;$f.fd=fd;$f.level=level;$f.mreq=mreq;$f.name=name;$f.$s=$s;$f.$deferred=$deferred;$f.$r=$r;return $f;}}};FD.prototype.SetsockoptIPv6Mreq=function(level,name,mreq){return this.$val.SetsockoptIPv6Mreq(level,name,mreq);};FD.ptr.prototype.Writev=function(v){var _i,_r,_ref,_tuple,chunk,err,err$1,err$2,fd,iovecs,maxVec,n,v,wrote,x,x$1,x$2,$s,$deferred,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_i=$f._i;_r=$f._r;_ref=$f._ref;_tuple=$f._tuple;chunk=$f.chunk;err=$f.err;err$1=$f.err$1;err$2=$f.err$2;fd=$f.fd;iovecs=$f.iovecs;maxVec=$f.maxVec;n=$f.n;v=$f.v;wrote=$f.wrote;x=$f.x;x$1=$f.x$1;x$2=$f.x$2;$s=$f.$s;$deferred=$f.$deferred;$r=$f.$r;}var $err=null;try{s:while(true){switch($s){case 0:$deferred=[];$deferred.index=$curGoroutine.deferStack.length;$curGoroutine.deferStack.push($deferred);iovecs=[iovecs];fd=this;_r=fd.writeLock();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}err=_r;if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[new $Int64(0,0),err];}$deferred.push([$methodVal(fd,"writeUnlock"),[]]);err$1=fd.pd.prepareWrite(fd.isFile);if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[new $Int64(0,0),err$1];}iovecs[0]=sliceType$2.nil;if(!(fd.iovecs===ptrType$6.nil)){iovecs[0]=fd.iovecs.$get();}maxVec=1024;n=new $Int64(0,0);err$2=$ifaceNil;/* while (true) { */case 2:/* if (!(v.$get().$length > 0)) { break; } */if(!(v.$get().$length>0)){$s=3;continue;}iovecs[0]=$subslice(iovecs[0],0,0);_ref=v.$get();_i=0;/* while (true) { */case 4:/* if (!(_i < _ref.$length)) { break; } */if(!(_i<_ref.$length)){$s=5;continue;}chunk=_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i];if(chunk.$length===0){_i++;/* continue; */$s=4;continue;}iovecs[0]=$append(iovecs[0],new syscall.Iovec.ptr($indexPtr(chunk.$array,chunk.$offset+0,ptrType$7),new $Uint64(0,0)));if(fd.IsStream&&chunk.$length>1073741824){(x=iovecs[0].$length-1>>0,x<0||x>=iovecs[0].$length?($throwRuntimeError("index out of range"),undefined):iovecs[0].$array[iovecs[0].$offset+x]).SetLen(1073741824);/* break; */$s=5;continue;}(x$1=iovecs[0].$length-1>>0,x$1<0||x$1>=iovecs[0].$length?($throwRuntimeError("index out of range"),undefined):iovecs[0].$array[iovecs[0].$offset+x$1]).SetLen(chunk.$length);if(iovecs[0].$length===maxVec){/* break; */$s=5;continue;}_i++;/* } */$s=4;continue;case 5:if(iovecs[0].$length===0){/* break; */$s=3;continue;}fd.iovecs=iovecs.$ptr||(iovecs.$ptr=new ptrType$6(function(){return this.$target[0];},function($v){this.$target[0]=$v;},iovecs));wrote=0;_tuple=writev(fd.Sysfd,iovecs[0]);wrote=_tuple[0];err$2=_tuple[1];if(wrote===4294967295){wrote=0;}$r=$pkg.TestHookDidWritev(wrote>>0);/* */$s=6;case 6:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}n=(x$2=new $Int64(0,wrote.constructor===Number?wrote:1),new $Int64(n.$high+x$2.$high,n.$low+x$2.$low));consume(v,new $Int64(0,wrote.constructor===Number?wrote:1));if(!$interfaceIsEqual(err$2,$ifaceNil)){if($assertType(err$2,syscall.Errno)===11){err$2=fd.pd.waitWrite(fd.isFile);if($interfaceIsEqual(err$2,$ifaceNil)){/* continue; */$s=2;continue;}}/* break; */$s=3;continue;}if(n.$high===0&&n.$low===0){err$2=io.ErrUnexpectedEOF;/* break; */$s=3;continue;}/* } */$s=2;continue;case 3:$s=-1;return[n,err$2];/* */}return;}}catch(err){$err=err;$s=-1;return[new $Int64(0,0),$ifaceNil];}finally{$callDeferred($deferred,$err);if($curGoroutine.asleep){if($f===undefined){$f={$blk:FD.ptr.prototype.Writev};}$f._i=_i;$f._r=_r;$f._ref=_ref;$f._tuple=_tuple;$f.chunk=chunk;$f.err=err;$f.err$1=err$1;$f.err$2=err$2;$f.fd=fd;$f.iovecs=iovecs;$f.maxVec=maxVec;$f.n=n;$f.v=v;$f.wrote=wrote;$f.x=x;$f.x$1=x$1;$f.x$2=x$2;$f.$s=$s;$f.$deferred=$deferred;$f.$r=$r;return $f;}}};FD.prototype.Writev=function(v){return this.$val.Writev(v);};ptrType$9.methods=[{prop:"init",name:"init",pkg:"internal/poll",typ:$funcType([ptrType$8],[$error],false)},{prop:"close",name:"close",pkg:"internal/poll",typ:$funcType([],[],false)},{prop:"evict",name:"evict",pkg:"internal/poll",typ:$funcType([],[],false)},{prop:"prepare",name:"prepare",pkg:"internal/poll",typ:$funcType([$Int,$Bool],[$error],false)},{prop:"prepareRead",name:"prepareRead",pkg:"internal/poll",typ:$funcType([$Bool],[$error],false)},{prop:"prepareWrite",name:"prepareWrite",pkg:"internal/poll",typ:$funcType([$Bool],[$error],false)},{prop:"wait",name:"wait",pkg:"internal/poll",typ:$funcType([$Int,$Bool],[$error],false)},{prop:"waitRead",name:"waitRead",pkg:"internal/poll",typ:$funcType([$Bool],[$error],false)},{prop:"waitWrite",name:"waitWrite",pkg:"internal/poll",typ:$funcType([$Bool],[$error],false)},{prop:"waitCanceled",name:"waitCanceled",pkg:"internal/poll",typ:$funcType([$Int],[],false)},{prop:"pollable",name:"pollable",pkg:"internal/poll",typ:$funcType([],[$Bool],false)}];ptrType$10.methods=[{prop:"Error",name:"Error",pkg:"",typ:$funcType([],[$String],false)},{prop:"Timeout",name:"Timeout",pkg:"",typ:$funcType([],[$Bool],false)},{prop:"Temporary",name:"Temporary",pkg:"",typ:$funcType([],[$Bool],false)}];ptrType$11.methods=[{prop:"incref",name:"incref",pkg:"internal/poll",typ:$funcType([],[$Bool],false)},{prop:"increfAndClose",name:"increfAndClose",pkg:"internal/poll",typ:$funcType([],[$Bool],false)},{prop:"decref",name:"decref",pkg:"internal/poll",typ:$funcType([],[$Bool],false)},{prop:"rwlock",name:"rwlock",pkg:"internal/poll",typ:$funcType([$Bool],[$Bool],false)},{prop:"rwunlock",name:"rwunlock",pkg:"internal/poll",typ:$funcType([$Bool],[$Bool],false)}];ptrType$8.methods=[{prop:"SetDeadline",name:"SetDeadline",pkg:"",typ:$funcType([time.Time],[$error],false)},{prop:"SetReadDeadline",name:"SetReadDeadline",pkg:"",typ:$funcType([time.Time],[$error],false)},{prop:"SetWriteDeadline",name:"SetWriteDeadline",pkg:"",typ:$funcType([time.Time],[$error],false)},{prop:"Fsync",name:"Fsync",pkg:"",typ:$funcType([],[$error],false)},{prop:"incref",name:"incref",pkg:"internal/poll",typ:$funcType([],[$error],false)},{prop:"decref",name:"decref",pkg:"internal/poll",typ:$funcType([],[$error],false)},{prop:"readLock",name:"readLock",pkg:"internal/poll",typ:$funcType([],[$error],false)},{prop:"readUnlock",name:"readUnlock",pkg:"internal/poll",typ:$funcType([],[],false)},{prop:"writeLock",name:"writeLock",pkg:"internal/poll",typ:$funcType([],[$error],false)},{prop:"writeUnlock",name:"writeUnlock",pkg:"internal/poll",typ:$funcType([],[],false)},{prop:"eofError",name:"eofError",pkg:"internal/poll",typ:$funcType([$Int,$error],[$error],false)},{prop:"Fchmod",name:"Fchmod",pkg:"",typ:$funcType([$Uint32],[$error],false)},{prop:"Fchown",name:"Fchown",pkg:"",typ:$funcType([$Int,$Int],[$error],false)},{prop:"Ftruncate",name:"Ftruncate",pkg:"",typ:$funcType([$Int64],[$error],false)},{prop:"Init",name:"Init",pkg:"",typ:$funcType([$String,$Bool],[$error],false)},{prop:"destroy",name:"destroy",pkg:"internal/poll",typ:$funcType([],[$error],false)},{prop:"Close",name:"Close",pkg:"",typ:$funcType([],[$error],false)},{prop:"Shutdown",name:"Shutdown",pkg:"",typ:$funcType([$Int],[$error],false)},{prop:"SetBlocking",name:"SetBlocking",pkg:"",typ:$funcType([],[$error],false)},{prop:"Read",name:"Read",pkg:"",typ:$funcType([sliceType$3],[$Int,$error],false)},{prop:"Pread",name:"Pread",pkg:"",typ:$funcType([sliceType$3,$Int64],[$Int,$error],false)},{prop:"ReadFrom",name:"ReadFrom",pkg:"",typ:$funcType([sliceType$3],[$Int,syscall.Sockaddr,$error],false)},{prop:"ReadMsg",name:"ReadMsg",pkg:"",typ:$funcType([sliceType$3,sliceType$3],[$Int,$Int,$Int,syscall.Sockaddr,$error],false)},{prop:"Write",name:"Write",pkg:"",typ:$funcType([sliceType$3],[$Int,$error],false)},{prop:"Pwrite",name:"Pwrite",pkg:"",typ:$funcType([sliceType$3,$Int64],[$Int,$error],false)},{prop:"WriteTo",name:"WriteTo",pkg:"",typ:$funcType([sliceType$3,syscall.Sockaddr],[$Int,$error],false)},{prop:"WriteMsg",name:"WriteMsg",pkg:"",typ:$funcType([sliceType$3,sliceType$3,syscall.Sockaddr],[$Int,$Int,$error],false)},{prop:"Accept",name:"Accept",pkg:"",typ:$funcType([],[$Int,syscall.Sockaddr,$String,$error],false)},{prop:"Seek",name:"Seek",pkg:"",typ:$funcType([$Int64,$Int],[$Int64,$error],false)},{prop:"ReadDirent",name:"ReadDirent",pkg:"",typ:$funcType([sliceType$3],[$Int,$error],false)},{prop:"Fchdir",name:"Fchdir",pkg:"",typ:$funcType([],[$error],false)},{prop:"Fstat",name:"Fstat",pkg:"",typ:$funcType([ptrType$12],[$error],false)},{prop:"Dup",name:"Dup",pkg:"",typ:$funcType([],[$Int,$String,$error],false)},{prop:"WaitWrite",name:"WaitWrite",pkg:"",typ:$funcType([],[$error],false)},{prop:"WriteOnce",name:"WriteOnce",pkg:"",typ:$funcType([sliceType$3],[$Int,$error],false)},{prop:"RawControl",name:"RawControl",pkg:"",typ:$funcType([funcType],[$error],false)},{prop:"RawRead",name:"RawRead",pkg:"",typ:$funcType([funcType$1],[$error],false)},{prop:"RawWrite",name:"RawWrite",pkg:"",typ:$funcType([funcType$1],[$error],false)},{prop:"SetsockoptInt",name:"SetsockoptInt",pkg:"",typ:$funcType([$Int,$Int,$Int],[$error],false)},{prop:"SetsockoptInet4Addr",name:"SetsockoptInet4Addr",pkg:"",typ:$funcType([$Int,$Int,arrayType],[$error],false)},{prop:"SetsockoptLinger",name:"SetsockoptLinger",pkg:"",typ:$funcType([$Int,$Int,ptrType$13],[$error],false)},{prop:"SetsockoptIPMreqn",name:"SetsockoptIPMreqn",pkg:"",typ:$funcType([$Int,$Int,ptrType$14],[$error],false)},{prop:"SetsockoptByte",name:"SetsockoptByte",pkg:"",typ:$funcType([$Int,$Int,$Uint8],[$error],false)},{prop:"SetsockoptIPMreq",name:"SetsockoptIPMreq",pkg:"",typ:$funcType([$Int,$Int,ptrType$15],[$error],false)},{prop:"SetsockoptIPv6Mreq",name:"SetsockoptIPv6Mreq",pkg:"",typ:$funcType([$Int,$Int,ptrType$16],[$error],false)},{prop:"Writev",name:"Writev",pkg:"",typ:$funcType([ptrType$17],[$Int64,$error],false)}];pollDesc.init("internal/poll",[{prop:"closing",name:"closing",embedded:false,exported:false,typ:$Bool,tag:""}]);TimeoutError.init("",[]);fdMutex.init("internal/poll",[{prop:"state",name:"state",embedded:false,exported:false,typ:$Uint64,tag:""},{prop:"rsema",name:"rsema",embedded:false,exported:false,typ:$Uint32,tag:""},{prop:"wsema",name:"wsema",embedded:false,exported:false,typ:$Uint32,tag:""}]);FD.init("internal/poll",[{prop:"fdmu",name:"fdmu",embedded:false,exported:false,typ:fdMutex,tag:""},{prop:"Sysfd",name:"Sysfd",embedded:false,exported:true,typ:$Int,tag:""},{prop:"pd",name:"pd",embedded:false,exported:false,typ:pollDesc,tag:""},{prop:"iovecs",name:"iovecs",embedded:false,exported:false,typ:ptrType$6,tag:""},{prop:"csema",name:"csema",embedded:false,exported:false,typ:$Uint32,tag:""},{prop:"isBlocking",name:"isBlocking",embedded:false,exported:false,typ:$Uint32,tag:""},{prop:"IsStream",name:"IsStream",embedded:false,exported:true,typ:$Bool,tag:""},{prop:"ZeroReadIsEOF",name:"ZeroReadIsEOF",embedded:false,exported:true,typ:$Bool,tag:""},{prop:"isFile",name:"isFile",embedded:false,exported:false,typ:$Bool,tag:""}]);$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=errors.$init();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=io.$init();/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=runtime.$init();/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=atomic.$init();/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=syscall.$init();/* */$s=5;case 5:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=time.$init();/* */$s=6;case 6:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}semWaiters={};$pkg.ErrNetClosing=errors.New("use of closed network connection");$pkg.ErrFileClosing=errors.New("use of closed file");$pkg.ErrNoDeadline=errors.New("file type does not support deadline");$pkg.ErrTimeout=new TimeoutError.ptr();$pkg.TestHookDidWritev=function(wrote){var wrote;};tryDupCloexec=1;$pkg.Accept4Func=syscall.Accept4;$pkg.CloseFunc=syscall.Close;$pkg.AcceptFunc=syscall.Accept;/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["internal/syscall/unix"]=function(){var $pkg={},$init,atomic,syscall,IsNonblock;atomic=$packages["sync/atomic"];syscall=$packages["syscall"];IsNonblock=function(fd){var _tmp,_tmp$1,err,fd,nonblocking;nonblocking=false;err=$ifaceNil;_tmp=false;_tmp$1=$ifaceNil;nonblocking=_tmp;err=_tmp$1;return[nonblocking,err];};$pkg.IsNonblock=IsNonblock;$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=atomic.$init();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=syscall.$init();/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["internal/testlog"]=function(){var $pkg={},$init,atomic,Interface,ptrType,logger,Logger,Stat;atomic=$packages["sync/atomic"];Interface=$pkg.Interface=$newType(8,$kindInterface,"testlog.Interface",true,"internal/testlog",true,null);ptrType=$ptrType(Interface);Logger=function(){var impl;impl=logger.Load();if($interfaceIsEqual(impl,$ifaceNil)){return $ifaceNil;}return $assertType(impl,ptrType).$get();};$pkg.Logger=Logger;Stat=function(name){var log,name,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;log=$f.log;name=$f.name;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:log=Logger();/* */if(!$interfaceIsEqual(log,$ifaceNil)){$s=1;continue;}/* */$s=2;continue;/* if (!($interfaceIsEqual(log, $ifaceNil))) { */case 1:$r=log.Stat(name);/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 2:$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:Stat};}$f.log=log;$f.name=name;$f.$s=$s;$f.$r=$r;return $f;};$pkg.Stat=Stat;Interface.init([{prop:"Chdir",name:"Chdir",pkg:"",typ:$funcType([$String],[],false)},{prop:"Getenv",name:"Getenv",pkg:"",typ:$funcType([$String],[],false)},{prop:"Open",name:"Open",pkg:"",typ:$funcType([$String],[],false)},{prop:"Stat",name:"Stat",pkg:"",typ:$funcType([$String],[],false)}]);$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=atomic.$init();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}logger=new atomic.Value.ptr($ifaceNil);/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["os"]=function(){var $pkg={},$init,errors,js,poll,unix,testlog,io,runtime,sync,atomic,syscall,time,dirInfo,timeout,PathError,SyscallError,LinkError,file,rawConn,File,FileInfo,FileMode,fileStat,sliceType,ptrType,sliceType$1,ptrType$1,sliceType$2,ptrType$2,ptrType$3,ptrType$4,sliceType$5,ptrType$12,arrayType$1,ptrType$13,funcType$1,ptrType$15,arrayType$6,ptrType$16,funcType$2,funcType$3,ptrType$18,errFinished,lstat,runtime_args,init,NewSyscallError,IsNotExist,underlyingError,wrapSyscallError,isNotExist,sigpipe,syscallMode,NewFile,newFile,epipecheck,basename,init$1,newRawConn,Lstat,fillFileStatFromSys,timespecToTime,lstatNolog;errors=$packages["errors"];js=$packages["github.com/gopherjs/gopherjs/js"];poll=$packages["internal/poll"];unix=$packages["internal/syscall/unix"];testlog=$packages["internal/testlog"];io=$packages["io"];runtime=$packages["runtime"];sync=$packages["sync"];atomic=$packages["sync/atomic"];syscall=$packages["syscall"];time=$packages["time"];dirInfo=$pkg.dirInfo=$newType(0,$kindStruct,"os.dirInfo",true,"os",false,function(buf_,nbuf_,bufp_){this.$val=this;if(arguments.length===0){this.buf=sliceType$2.nil;this.nbuf=0;this.bufp=0;return;}this.buf=buf_;this.nbuf=nbuf_;this.bufp=bufp_;});timeout=$pkg.timeout=$newType(8,$kindInterface,"os.timeout",true,"os",false,null);PathError=$pkg.PathError=$newType(0,$kindStruct,"os.PathError",true,"os",true,function(Op_,Path_,Err_){this.$val=this;if(arguments.length===0){this.Op="";this.Path="";this.Err=$ifaceNil;return;}this.Op=Op_;this.Path=Path_;this.Err=Err_;});SyscallError=$pkg.SyscallError=$newType(0,$kindStruct,"os.SyscallError",true,"os",true,function(Syscall_,Err_){this.$val=this;if(arguments.length===0){this.Syscall="";this.Err=$ifaceNil;return;}this.Syscall=Syscall_;this.Err=Err_;});LinkError=$pkg.LinkError=$newType(0,$kindStruct,"os.LinkError",true,"os",true,function(Op_,Old_,New_,Err_){this.$val=this;if(arguments.length===0){this.Op="";this.Old="";this.New="";this.Err=$ifaceNil;return;}this.Op=Op_;this.Old=Old_;this.New=New_;this.Err=Err_;});file=$pkg.file=$newType(0,$kindStruct,"os.file",true,"os",false,function(pfd_,name_,dirinfo_,nonblock_,stdoutOrErr_){this.$val=this;if(arguments.length===0){this.pfd=new poll.FD.ptr(new poll.fdMutex.ptr(new $Uint64(0,0),0,0),0,new poll.pollDesc.ptr(false),ptrType$12.nil,0,0,false,false,false);this.name="";this.dirinfo=ptrType$1.nil;this.nonblock=false;this.stdoutOrErr=false;return;}this.pfd=pfd_;this.name=name_;this.dirinfo=dirinfo_;this.nonblock=nonblock_;this.stdoutOrErr=stdoutOrErr_;});rawConn=$pkg.rawConn=$newType(0,$kindStruct,"os.rawConn",true,"os",false,function(file_){this.$val=this;if(arguments.length===0){this.file=ptrType.nil;return;}this.file=file_;});File=$pkg.File=$newType(0,$kindStruct,"os.File",true,"os",true,function(file_){this.$val=this;if(arguments.length===0){this.file=ptrType$13.nil;return;}this.file=file_;});FileInfo=$pkg.FileInfo=$newType(8,$kindInterface,"os.FileInfo",true,"os",true,null);FileMode=$pkg.FileMode=$newType(4,$kindUint32,"os.FileMode",true,"os",true,null);fileStat=$pkg.fileStat=$newType(0,$kindStruct,"os.fileStat",true,"os",false,function(name_,size_,mode_,modTime_,sys_){this.$val=this;if(arguments.length===0){this.name="";this.size=new $Int64(0,0);this.mode=0;this.modTime=new time.Time.ptr(new $Uint64(0,0),new $Int64(0,0),ptrType$15.nil);this.sys=new syscall.Stat_t.ptr(new $Uint64(0,0),new $Uint64(0,0),new $Uint64(0,0),0,0,0,0,new $Uint64(0,0),new $Int64(0,0),new $Int64(0,0),new $Int64(0,0),new syscall.Timespec.ptr(new $Int64(0,0),new $Int64(0,0)),new syscall.Timespec.ptr(new $Int64(0,0),new $Int64(0,0)),new syscall.Timespec.ptr(new $Int64(0,0),new $Int64(0,0)),arrayType$1.zero());return;}this.name=name_;this.size=size_;this.mode=mode_;this.modTime=modTime_;this.sys=sys_;});sliceType=$sliceType($String);ptrType=$ptrType(File);sliceType$1=$sliceType(FileInfo);ptrType$1=$ptrType(dirInfo);sliceType$2=$sliceType($Uint8);ptrType$2=$ptrType(PathError);ptrType$3=$ptrType(LinkError);ptrType$4=$ptrType(SyscallError);sliceType$5=$sliceType(syscall.Iovec);ptrType$12=$ptrType(sliceType$5);arrayType$1=$arrayType($Int64,3);ptrType$13=$ptrType(file);funcType$1=$funcType([ptrType$13],[$error],false);ptrType$15=$ptrType(time.Location);arrayType$6=$arrayType($Uint8,32);ptrType$16=$ptrType(fileStat);funcType$2=$funcType([$Uintptr],[],false);funcType$3=$funcType([$Uintptr],[$Bool],false);ptrType$18=$ptrType(rawConn);runtime_args=function(){return $pkg.Args;};init=function(){var argv,i,process;process=$global.process;if(!(process===undefined)){argv=process.argv;$pkg.Args=$makeSlice(sliceType,$parseInt(argv.length)-1>>0);i=0;while(true){if(!(i<$parseInt(argv.length)-1>>0)){break;}i<0||i>=$pkg.Args.$length?($throwRuntimeError("index out of range"),undefined):$pkg.Args.$array[$pkg.Args.$offset+i]=$internalize(argv[i+1>>0],$String);i=i+1>>0;}}if($pkg.Args.$length===0){$pkg.Args=new sliceType(["?"]);}};File.ptr.prototype.Readdir=function(n){var _r,f,n,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;f=$f.f;n=$f.n;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:f=this;if(f===ptrType.nil){$s=-1;return[sliceType$1.nil,$pkg.ErrInvalid];}_r=f.readdir(n);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r;/* */}return;}if($f===undefined){$f={$blk:File.ptr.prototype.Readdir};}$f._r=_r;$f.f=f;$f.n=n;$f.$s=$s;$f.$r=$r;return $f;};File.prototype.Readdir=function(n){return this.$val.Readdir(n);};File.ptr.prototype.Readdirnames=function(n){var _r,_tmp,_tmp$1,_tuple,err,f,n,names,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tuple=$f._tuple;err=$f.err;f=$f.f;n=$f.n;names=$f.names;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:names=sliceType.nil;err=$ifaceNil;f=this;if(f===ptrType.nil){_tmp=sliceType.nil;_tmp$1=$pkg.ErrInvalid;names=_tmp;err=_tmp$1;$s=-1;return[names,err];}_r=f.readdirnames(n);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;names=_tuple[0];err=_tuple[1];$s=-1;return[names,err];/* */}return;}if($f===undefined){$f={$blk:File.ptr.prototype.Readdirnames};}$f._r=_r;$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tuple=_tuple;$f.err=err;$f.f=f;$f.n=n;$f.names=names;$f.$s=$s;$f.$r=$r;return $f;};File.prototype.Readdirnames=function(n){return this.$val.Readdirnames(n);};dirInfo.ptr.prototype.close=function(){var d;d=this;};dirInfo.prototype.close=function(){return this.$val.close();};File.ptr.prototype.readdirnames=function(n){var _r,_tmp,_tmp$1,_tmp$2,_tmp$3,_tmp$4,_tmp$5,_tmp$6,_tmp$7,_tuple,_tuple$1,d,err,errno,f,n,names,nb,nc,size,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tmp$2=$f._tmp$2;_tmp$3=$f._tmp$3;_tmp$4=$f._tmp$4;_tmp$5=$f._tmp$5;_tmp$6=$f._tmp$6;_tmp$7=$f._tmp$7;_tuple=$f._tuple;_tuple$1=$f._tuple$1;d=$f.d;err=$f.err;errno=$f.errno;f=$f.f;n=$f.n;names=$f.names;nb=$f.nb;nc=$f.nc;size=$f.size;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:names=sliceType.nil;err=$ifaceNil;f=this;if(f.file.dirinfo===ptrType$1.nil){f.file.dirinfo=new dirInfo.ptr(sliceType$2.nil,0,0);f.file.dirinfo.buf=$makeSlice(sliceType$2,8192);}d=f.file.dirinfo;size=n;if(size<=0){size=100;n=-1;}names=$makeSlice(sliceType,0,size);/* while (true) { */case 1:/* if (!(!((n === 0)))) { break; } */if(!!(n===0)){$s=2;continue;}/* */if(d.bufp>=d.nbuf){$s=3;continue;}/* */$s=4;continue;/* if (d.bufp >= d.nbuf) { */case 3:d.bufp=0;errno=$ifaceNil;_r=f.file.pfd.ReadDirent(d.buf);/* */$s=5;case 5:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;d.nbuf=_tuple[0];errno=_tuple[1];runtime.KeepAlive(f);if(!$interfaceIsEqual(errno,$ifaceNil)){_tmp=names;_tmp$1=wrapSyscallError("readdirent",errno);names=_tmp;err=_tmp$1;$s=-1;return[names,err];}if(d.nbuf<=0){/* break; */$s=2;continue;}/* } */case 4:_tmp$2=0;_tmp$3=0;nb=_tmp$2;nc=_tmp$3;_tuple$1=syscall.ParseDirent($subslice(d.buf,d.bufp,d.nbuf),n,names);nb=_tuple$1[0];nc=_tuple$1[1];names=_tuple$1[2];d.bufp=d.bufp+nb>>0;n=n-nc>>0;/* } */$s=1;continue;case 2:if(n>=0&&names.$length===0){_tmp$4=names;_tmp$5=io.EOF;names=_tmp$4;err=_tmp$5;$s=-1;return[names,err];}_tmp$6=names;_tmp$7=$ifaceNil;names=_tmp$6;err=_tmp$7;$s=-1;return[names,err];/* */}return;}if($f===undefined){$f={$blk:File.ptr.prototype.readdirnames};}$f._r=_r;$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tmp$2=_tmp$2;$f._tmp$3=_tmp$3;$f._tmp$4=_tmp$4;$f._tmp$5=_tmp$5;$f._tmp$6=_tmp$6;$f._tmp$7=_tmp$7;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f.d=d;$f.err=err;$f.errno=errno;$f.f=f;$f.n=n;$f.names=names;$f.nb=nb;$f.nc=nc;$f.size=size;$f.$s=$s;$f.$r=$r;return $f;};File.prototype.readdirnames=function(n){return this.$val.readdirnames(n);};PathError.ptr.prototype.Error=function(){var _r,e,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;e=$f.e;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:e=this;_r=e.Err.Error();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return e.Op+" "+e.Path+": "+_r;/* */}return;}if($f===undefined){$f={$blk:PathError.ptr.prototype.Error};}$f._r=_r;$f.e=e;$f.$s=$s;$f.$r=$r;return $f;};PathError.prototype.Error=function(){return this.$val.Error();};PathError.ptr.prototype.Timeout=function(){var _r,_tuple,_v,e,ok,t,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tuple=$f._tuple;_v=$f._v;e=$f.e;ok=$f.ok;t=$f.t;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:e=this;_tuple=$assertType(e.Err,timeout,true);t=_tuple[0];ok=_tuple[1];if(!ok){_v=false;$s=1;continue s;}_r=t.Timeout();/* */$s=2;case 2:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_v=_r;case 1:$s=-1;return _v;/* */}return;}if($f===undefined){$f={$blk:PathError.ptr.prototype.Timeout};}$f._r=_r;$f._tuple=_tuple;$f._v=_v;$f.e=e;$f.ok=ok;$f.t=t;$f.$s=$s;$f.$r=$r;return $f;};PathError.prototype.Timeout=function(){return this.$val.Timeout();};SyscallError.ptr.prototype.Error=function(){var _r,e,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;e=$f.e;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:e=this;_r=e.Err.Error();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return e.Syscall+": "+_r;/* */}return;}if($f===undefined){$f={$blk:SyscallError.ptr.prototype.Error};}$f._r=_r;$f.e=e;$f.$s=$s;$f.$r=$r;return $f;};SyscallError.prototype.Error=function(){return this.$val.Error();};SyscallError.ptr.prototype.Timeout=function(){var _r,_tuple,_v,e,ok,t,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tuple=$f._tuple;_v=$f._v;e=$f.e;ok=$f.ok;t=$f.t;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:e=this;_tuple=$assertType(e.Err,timeout,true);t=_tuple[0];ok=_tuple[1];if(!ok){_v=false;$s=1;continue s;}_r=t.Timeout();/* */$s=2;case 2:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_v=_r;case 1:$s=-1;return _v;/* */}return;}if($f===undefined){$f={$blk:SyscallError.ptr.prototype.Timeout};}$f._r=_r;$f._tuple=_tuple;$f._v=_v;$f.e=e;$f.ok=ok;$f.t=t;$f.$s=$s;$f.$r=$r;return $f;};SyscallError.prototype.Timeout=function(){return this.$val.Timeout();};NewSyscallError=function(syscall$1,err){var err,syscall$1;if($interfaceIsEqual(err,$ifaceNil)){return $ifaceNil;}return new SyscallError.ptr(syscall$1,err);};$pkg.NewSyscallError=NewSyscallError;IsNotExist=function(err){var err;return isNotExist(err);};$pkg.IsNotExist=IsNotExist;underlyingError=function(err){var _ref,err,err$1,err$2,err$3;_ref=err;if($assertType(_ref,ptrType$2,true)[1]){err$1=_ref.$val;return err$1.Err;}else if($assertType(_ref,ptrType$3,true)[1]){err$2=_ref.$val;return err$2.Err;}else if($assertType(_ref,ptrType$4,true)[1]){err$3=_ref.$val;return err$3.Err;}return err;};wrapSyscallError=function(name,err){var _tuple,err,name,ok;_tuple=$assertType(err,syscall.Errno,true);ok=_tuple[1];if(ok){err=NewSyscallError(name,err);}return err;};isNotExist=function(err){var err;err=underlyingError(err);return $interfaceIsEqual(err,new syscall.Errno(2))||$interfaceIsEqual(err,$pkg.ErrNotExist);};File.ptr.prototype.Name=function(){var f;f=this;return f.file.name;};File.prototype.Name=function(){return this.$val.Name();};LinkError.ptr.prototype.Error=function(){var _r,e,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;e=$f.e;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:e=this;_r=e.Err.Error();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return e.Op+" "+e.Old+" "+e.New+": "+_r;/* */}return;}if($f===undefined){$f={$blk:LinkError.ptr.prototype.Error};}$f._r=_r;$f.e=e;$f.$s=$s;$f.$r=$r;return $f;};LinkError.prototype.Error=function(){return this.$val.Error();};File.ptr.prototype.Read=function(b){var _r,_tmp,_tmp$1,_tmp$2,_tmp$3,_tuple,b,e,err,err$1,f,n,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tmp$2=$f._tmp$2;_tmp$3=$f._tmp$3;_tuple=$f._tuple;b=$f.b;e=$f.e;err=$f.err;err$1=$f.err$1;f=$f.f;n=$f.n;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:n=0;err=$ifaceNil;f=this;err$1=f.checkValid("read");if(!$interfaceIsEqual(err$1,$ifaceNil)){_tmp=0;_tmp$1=err$1;n=_tmp;err=_tmp$1;$s=-1;return[n,err];}_r=f.read(b);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;n=_tuple[0];e=_tuple[1];_tmp$2=n;_tmp$3=f.wrapErr("read",e);n=_tmp$2;err=_tmp$3;$s=-1;return[n,err];/* */}return;}if($f===undefined){$f={$blk:File.ptr.prototype.Read};}$f._r=_r;$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tmp$2=_tmp$2;$f._tmp$3=_tmp$3;$f._tuple=_tuple;$f.b=b;$f.e=e;$f.err=err;$f.err$1=err$1;$f.f=f;$f.n=n;$f.$s=$s;$f.$r=$r;return $f;};File.prototype.Read=function(b){return this.$val.Read(b);};File.ptr.prototype.ReadAt=function(b,off){var _r,_tmp,_tmp$1,_tmp$2,_tmp$3,_tuple,b,e,err,err$1,f,m,n,off,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tmp$2=$f._tmp$2;_tmp$3=$f._tmp$3;_tuple=$f._tuple;b=$f.b;e=$f.e;err=$f.err;err$1=$f.err$1;f=$f.f;m=$f.m;n=$f.n;off=$f.off;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:n=0;err=$ifaceNil;f=this;err$1=f.checkValid("read");if(!$interfaceIsEqual(err$1,$ifaceNil)){_tmp=0;_tmp$1=err$1;n=_tmp;err=_tmp$1;$s=-1;return[n,err];}if(off.$high<0||off.$high===0&&off.$low<0){_tmp$2=0;_tmp$3=new PathError.ptr("readat",f.file.name,errors.New("negative offset"));n=_tmp$2;err=_tmp$3;$s=-1;return[n,err];}/* while (true) { */case 1:/* if (!(b.$length > 0)) { break; } */if(!(b.$length>0)){$s=2;continue;}_r=f.pread(b,off);/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;m=_tuple[0];e=_tuple[1];if(!$interfaceIsEqual(e,$ifaceNil)){err=f.wrapErr("read",e);/* break; */$s=2;continue;}n=n+m>>0;b=$subslice(b,m);off=(x=new $Int64(0,m),new $Int64(off.$high+x.$high,off.$low+x.$low));/* } */$s=1;continue;case 2:$s=-1;return[n,err];/* */}return;}if($f===undefined){$f={$blk:File.ptr.prototype.ReadAt};}$f._r=_r;$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tmp$2=_tmp$2;$f._tmp$3=_tmp$3;$f._tuple=_tuple;$f.b=b;$f.e=e;$f.err=err;$f.err$1=err$1;$f.f=f;$f.m=m;$f.n=n;$f.off=off;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};File.prototype.ReadAt=function(b,off){return this.$val.ReadAt(b,off);};File.ptr.prototype.Write=function(b){var _r,_tmp,_tmp$1,_tmp$2,_tmp$3,_tuple,b,e,err,err$1,f,n,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tmp$2=$f._tmp$2;_tmp$3=$f._tmp$3;_tuple=$f._tuple;b=$f.b;e=$f.e;err=$f.err;err$1=$f.err$1;f=$f.f;n=$f.n;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:n=0;err=$ifaceNil;f=this;err$1=f.checkValid("write");if(!$interfaceIsEqual(err$1,$ifaceNil)){_tmp=0;_tmp$1=err$1;n=_tmp;err=_tmp$1;$s=-1;return[n,err];}_r=f.write(b);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;n=_tuple[0];e=_tuple[1];if(n<0){n=0;}if(!(n===b.$length)){err=io.ErrShortWrite;}epipecheck(f,e);if(!$interfaceIsEqual(e,$ifaceNil)){err=f.wrapErr("write",e);}_tmp$2=n;_tmp$3=err;n=_tmp$2;err=_tmp$3;$s=-1;return[n,err];/* */}return;}if($f===undefined){$f={$blk:File.ptr.prototype.Write};}$f._r=_r;$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tmp$2=_tmp$2;$f._tmp$3=_tmp$3;$f._tuple=_tuple;$f.b=b;$f.e=e;$f.err=err;$f.err$1=err$1;$f.f=f;$f.n=n;$f.$s=$s;$f.$r=$r;return $f;};File.prototype.Write=function(b){return this.$val.Write(b);};File.ptr.prototype.WriteAt=function(b,off){var _r,_tmp,_tmp$1,_tmp$2,_tmp$3,_tuple,b,e,err,err$1,f,m,n,off,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tmp$2=$f._tmp$2;_tmp$3=$f._tmp$3;_tuple=$f._tuple;b=$f.b;e=$f.e;err=$f.err;err$1=$f.err$1;f=$f.f;m=$f.m;n=$f.n;off=$f.off;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:n=0;err=$ifaceNil;f=this;err$1=f.checkValid("write");if(!$interfaceIsEqual(err$1,$ifaceNil)){_tmp=0;_tmp$1=err$1;n=_tmp;err=_tmp$1;$s=-1;return[n,err];}if(off.$high<0||off.$high===0&&off.$low<0){_tmp$2=0;_tmp$3=new PathError.ptr("writeat",f.file.name,errors.New("negative offset"));n=_tmp$2;err=_tmp$3;$s=-1;return[n,err];}/* while (true) { */case 1:/* if (!(b.$length > 0)) { break; } */if(!(b.$length>0)){$s=2;continue;}_r=f.pwrite(b,off);/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;m=_tuple[0];e=_tuple[1];if(!$interfaceIsEqual(e,$ifaceNil)){err=f.wrapErr("write",e);/* break; */$s=2;continue;}n=n+m>>0;b=$subslice(b,m);off=(x=new $Int64(0,m),new $Int64(off.$high+x.$high,off.$low+x.$low));/* } */$s=1;continue;case 2:$s=-1;return[n,err];/* */}return;}if($f===undefined){$f={$blk:File.ptr.prototype.WriteAt};}$f._r=_r;$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tmp$2=_tmp$2;$f._tmp$3=_tmp$3;$f._tuple=_tuple;$f.b=b;$f.e=e;$f.err=err;$f.err$1=err$1;$f.f=f;$f.m=m;$f.n=n;$f.off=off;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};File.prototype.WriteAt=function(b,off){return this.$val.WriteAt(b,off);};File.ptr.prototype.Seek=function(offset,whence){var _r,_tmp,_tmp$1,_tmp$2,_tmp$3,_tmp$4,_tmp$5,_tuple,e,err,err$1,f,offset,r,ret,whence,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tmp$2=$f._tmp$2;_tmp$3=$f._tmp$3;_tmp$4=$f._tmp$4;_tmp$5=$f._tmp$5;_tuple=$f._tuple;e=$f.e;err=$f.err;err$1=$f.err$1;f=$f.f;offset=$f.offset;r=$f.r;ret=$f.ret;whence=$f.whence;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:ret=new $Int64(0,0);err=$ifaceNil;f=this;err$1=f.checkValid("seek");if(!$interfaceIsEqual(err$1,$ifaceNil)){_tmp=new $Int64(0,0);_tmp$1=err$1;ret=_tmp;err=_tmp$1;$s=-1;return[ret,err];}_r=f.seek(offset,whence);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;r=_tuple[0];e=_tuple[1];if($interfaceIsEqual(e,$ifaceNil)&&!(f.file.dirinfo===ptrType$1.nil)&&!(r.$high===0&&r.$low===0)){e=new syscall.Errno(21);}if(!$interfaceIsEqual(e,$ifaceNil)){_tmp$2=new $Int64(0,0);_tmp$3=f.wrapErr("seek",e);ret=_tmp$2;err=_tmp$3;$s=-1;return[ret,err];}_tmp$4=r;_tmp$5=$ifaceNil;ret=_tmp$4;err=_tmp$5;$s=-1;return[ret,err];/* */}return;}if($f===undefined){$f={$blk:File.ptr.prototype.Seek};}$f._r=_r;$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tmp$2=_tmp$2;$f._tmp$3=_tmp$3;$f._tmp$4=_tmp$4;$f._tmp$5=_tmp$5;$f._tuple=_tuple;$f.e=e;$f.err=err;$f.err$1=err$1;$f.f=f;$f.offset=offset;$f.r=r;$f.ret=ret;$f.whence=whence;$f.$s=$s;$f.$r=$r;return $f;};File.prototype.Seek=function(offset,whence){return this.$val.Seek(offset,whence);};File.ptr.prototype.WriteString=function(s){var _r,_tuple,err,f,n,s,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tuple=$f._tuple;err=$f.err;f=$f.f;n=$f.n;s=$f.s;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:n=0;err=$ifaceNil;f=this;_r=f.Write(new sliceType$2($stringToBytes(s)));/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;n=_tuple[0];err=_tuple[1];$s=-1;return[n,err];/* */}return;}if($f===undefined){$f={$blk:File.ptr.prototype.WriteString};}$f._r=_r;$f._tuple=_tuple;$f.err=err;$f.f=f;$f.n=n;$f.s=s;$f.$s=$s;$f.$r=$r;return $f;};File.prototype.WriteString=function(s){return this.$val.WriteString(s);};File.ptr.prototype.wrapErr=function(op,err){var err,f,op;f=this;if($interfaceIsEqual(err,$ifaceNil)||$interfaceIsEqual(err,io.EOF)){return err;}if($interfaceIsEqual(err,poll.ErrFileClosing)){err=$pkg.ErrClosed;}return new PathError.ptr(op,f.file.name,err);};File.prototype.wrapErr=function(op,err){return this.$val.wrapErr(op,err);};File.ptr.prototype.Chmod=function(mode){var _r,f,mode,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;f=$f.f;mode=$f.mode;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:f=this;_r=f.chmod(mode);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r;/* */}return;}if($f===undefined){$f={$blk:File.ptr.prototype.Chmod};}$f._r=_r;$f.f=f;$f.mode=mode;$f.$s=$s;$f.$r=$r;return $f;};File.prototype.Chmod=function(mode){return this.$val.Chmod(mode);};File.ptr.prototype.SetDeadline=function(t){var f,t;f=this;return f.setDeadline($clone(t,time.Time));};File.prototype.SetDeadline=function(t){return this.$val.SetDeadline(t);};File.ptr.prototype.SetReadDeadline=function(t){var f,t;f=this;return f.setReadDeadline($clone(t,time.Time));};File.prototype.SetReadDeadline=function(t){return this.$val.SetReadDeadline(t);};File.ptr.prototype.SetWriteDeadline=function(t){var f,t;f=this;return f.setWriteDeadline($clone(t,time.Time));};File.prototype.SetWriteDeadline=function(t){return this.$val.SetWriteDeadline(t);};File.ptr.prototype.SyscallConn=function(){var _returncast,err,f;f=this;err=f.checkValid("SyscallConn");if(!$interfaceIsEqual(err,$ifaceNil)){return[$ifaceNil,err];}_returncast=newRawConn(f);return[_returncast[0],_returncast[1]];};File.prototype.SyscallConn=function(){return this.$val.SyscallConn();};sigpipe=function(){$throwRuntimeError("native function not implemented: os.sigpipe");};syscallMode=function(i){var i,o;o=0;o=(o|new FileMode(i).Perm()>>>0)>>>0;if(!((i&8388608)>>>0===0)){o=(o|2048)>>>0;}if(!((i&4194304)>>>0===0)){o=(o|1024)>>>0;}if(!((i&1048576)>>>0===0)){o=(o|512)>>>0;}return o;};File.ptr.prototype.chmod=function(mode){var _r,e,err,f,mode,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;e=$f.e;err=$f.err;f=$f.f;mode=$f.mode;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:f=this;err=f.checkValid("chmod");if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return err;}_r=f.file.pfd.Fchmod(syscallMode(mode));/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}e=_r;if(!$interfaceIsEqual(e,$ifaceNil)){$s=-1;return f.wrapErr("chmod",e);}$s=-1;return $ifaceNil;/* */}return;}if($f===undefined){$f={$blk:File.ptr.prototype.chmod};}$f._r=_r;$f.e=e;$f.err=err;$f.f=f;$f.mode=mode;$f.$s=$s;$f.$r=$r;return $f;};File.prototype.chmod=function(mode){return this.$val.chmod(mode);};File.ptr.prototype.Chown=function(uid,gid){var _r,e,err,f,gid,uid,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;e=$f.e;err=$f.err;f=$f.f;gid=$f.gid;uid=$f.uid;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:f=this;err=f.checkValid("chown");if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return err;}_r=f.file.pfd.Fchown(uid,gid);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}e=_r;if(!$interfaceIsEqual(e,$ifaceNil)){$s=-1;return f.wrapErr("chown",e);}$s=-1;return $ifaceNil;/* */}return;}if($f===undefined){$f={$blk:File.ptr.prototype.Chown};}$f._r=_r;$f.e=e;$f.err=err;$f.f=f;$f.gid=gid;$f.uid=uid;$f.$s=$s;$f.$r=$r;return $f;};File.prototype.Chown=function(uid,gid){return this.$val.Chown(uid,gid);};File.ptr.prototype.Truncate=function(size){var _r,e,err,f,size,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;e=$f.e;err=$f.err;f=$f.f;size=$f.size;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:f=this;err=f.checkValid("truncate");if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return err;}_r=f.file.pfd.Ftruncate(size);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}e=_r;if(!$interfaceIsEqual(e,$ifaceNil)){$s=-1;return f.wrapErr("truncate",e);}$s=-1;return $ifaceNil;/* */}return;}if($f===undefined){$f={$blk:File.ptr.prototype.Truncate};}$f._r=_r;$f.e=e;$f.err=err;$f.f=f;$f.size=size;$f.$s=$s;$f.$r=$r;return $f;};File.prototype.Truncate=function(size){return this.$val.Truncate(size);};File.ptr.prototype.Sync=function(){var _r,e,err,f,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;e=$f.e;err=$f.err;f=$f.f;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:f=this;err=f.checkValid("sync");if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return err;}_r=f.file.pfd.Fsync();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}e=_r;if(!$interfaceIsEqual(e,$ifaceNil)){$s=-1;return f.wrapErr("sync",e);}$s=-1;return $ifaceNil;/* */}return;}if($f===undefined){$f={$blk:File.ptr.prototype.Sync};}$f._r=_r;$f.e=e;$f.err=err;$f.f=f;$f.$s=$s;$f.$r=$r;return $f;};File.prototype.Sync=function(){return this.$val.Sync();};File.ptr.prototype.Chdir=function(){var _r,e,err,f,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;e=$f.e;err=$f.err;f=$f.f;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:f=this;err=f.checkValid("chdir");if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return err;}_r=f.file.pfd.Fchdir();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}e=_r;if(!$interfaceIsEqual(e,$ifaceNil)){$s=-1;return f.wrapErr("chdir",e);}$s=-1;return $ifaceNil;/* */}return;}if($f===undefined){$f={$blk:File.ptr.prototype.Chdir};}$f._r=_r;$f.e=e;$f.err=err;$f.f=f;$f.$s=$s;$f.$r=$r;return $f;};File.prototype.Chdir=function(){return this.$val.Chdir();};File.ptr.prototype.setDeadline=function(t){var err,f,t;f=this;err=f.checkValid("SetDeadline");if(!$interfaceIsEqual(err,$ifaceNil)){return err;}return f.file.pfd.SetDeadline($clone(t,time.Time));};File.prototype.setDeadline=function(t){return this.$val.setDeadline(t);};File.ptr.prototype.setReadDeadline=function(t){var err,f,t;f=this;err=f.checkValid("SetReadDeadline");if(!$interfaceIsEqual(err,$ifaceNil)){return err;}return f.file.pfd.SetReadDeadline($clone(t,time.Time));};File.prototype.setReadDeadline=function(t){return this.$val.setReadDeadline(t);};File.ptr.prototype.setWriteDeadline=function(t){var err,f,t;f=this;err=f.checkValid("SetWriteDeadline");if(!$interfaceIsEqual(err,$ifaceNil)){return err;}return f.file.pfd.SetWriteDeadline($clone(t,time.Time));};File.prototype.setWriteDeadline=function(t){return this.$val.setWriteDeadline(t);};File.ptr.prototype.checkValid=function(op){var f,op;f=this;if(f===ptrType.nil){return $pkg.ErrInvalid;}return $ifaceNil;};File.prototype.checkValid=function(op){return this.$val.checkValid(op);};File.ptr.prototype.Fd=function(){var _r,f,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;f=$f.f;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:f=this;if(f===ptrType.nil){$s=-1;return 4294967295;}/* */if(f.file.nonblock){$s=1;continue;}/* */$s=2;continue;/* if (f.file.nonblock) { */case 1:_r=f.file.pfd.SetBlocking();/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_r;/* } */case 2:$s=-1;return f.file.pfd.Sysfd>>>0;/* */}return;}if($f===undefined){$f={$blk:File.ptr.prototype.Fd};}$f._r=_r;$f.f=f;$f.$s=$s;$f.$r=$r;return $f;};File.prototype.Fd=function(){return this.$val.Fd();};NewFile=function(fd,name){var _tuple,err,fd,kind,name,nb;kind=0;_tuple=unix.IsNonblock(fd>>0);nb=_tuple[0];err=_tuple[1];if($interfaceIsEqual(err,$ifaceNil)&&nb){kind=3;}return newFile(fd,name,kind);};$pkg.NewFile=NewFile;newFile=function(fd,name,kind){var _1,err,err$1,err$2,err$3,f,fd,fdi,kind,name,pollable,st;fdi=fd>>0;if(fdi<0){return ptrType.nil;}f=new File.ptr(new file.ptr(new poll.FD.ptr(new poll.fdMutex.ptr(new $Uint64(0,0),0,0),fdi,new poll.pollDesc.ptr(false),ptrType$12.nil,0,0,true,true,false),name,ptrType$1.nil,false,fdi===1||fdi===2));pollable=kind===1||kind===2||kind===3;if(kind===1){st=new syscall.Stat_t.ptr(new $Uint64(0,0),new $Uint64(0,0),new $Uint64(0,0),0,0,0,0,new $Uint64(0,0),new $Int64(0,0),new $Int64(0,0),new $Int64(0,0),new syscall.Timespec.ptr(new $Int64(0,0),new $Int64(0,0)),new syscall.Timespec.ptr(new $Int64(0,0),new $Int64(0,0)),new syscall.Timespec.ptr(new $Int64(0,0),new $Int64(0,0)),arrayType$1.zero());_1="linux";if(_1==="freebsd"){pollable=false;}else if(_1==="dragonfly"||_1==="netbsd"||_1==="openbsd"){err=syscall.Fstat(fdi,st);if($interfaceIsEqual(err,$ifaceNil)&&(st.Mode&61440)>>>0===32768){pollable=false;}}else if(_1==="darwin"){err$1=syscall.Fstat(fdi,st);if($interfaceIsEqual(err$1,$ifaceNil)&&((st.Mode&61440)>>>0===4096||(st.Mode&61440)>>>0===32768)){pollable=false;}}}err$2=f.file.pfd.Init("file",pollable);if(!$interfaceIsEqual(err$2,$ifaceNil)){}else if(pollable){err$3=syscall.SetNonblock(fdi,true);if($interfaceIsEqual(err$3,$ifaceNil)){f.file.nonblock=true;}}runtime.SetFinalizer(f.file,new funcType$1($methodExpr(ptrType$13,"close")));return f;};epipecheck=function(file$1,e){var e,file$1;if($interfaceIsEqual(e,new syscall.Errno(32))&&file$1.file.stdoutOrErr){sigpipe();}};File.ptr.prototype.Close=function(){var _r,f,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;f=$f.f;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:f=this;if(f===ptrType.nil){$s=-1;return $pkg.ErrInvalid;}_r=f.file.close();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r;/* */}return;}if($f===undefined){$f={$blk:File.ptr.prototype.Close};}$f._r=_r;$f.f=f;$f.$s=$s;$f.$r=$r;return $f;};File.prototype.Close=function(){return this.$val.Close();};file.ptr.prototype.close=function(){var _r,e,err,file$1,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;e=$f.e;err=$f.err;file$1=$f.file$1;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:file$1=this;if(file$1===ptrType$13.nil){$s=-1;return new syscall.Errno(22);}if(!(file$1.dirinfo===ptrType$1.nil)){file$1.dirinfo.close();}err=$ifaceNil;_r=file$1.pfd.Close();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}e=_r;if(!$interfaceIsEqual(e,$ifaceNil)){if($interfaceIsEqual(e,poll.ErrFileClosing)){e=$pkg.ErrClosed;}err=new PathError.ptr("close",file$1.name,e);}runtime.SetFinalizer(file$1,$ifaceNil);$s=-1;return err;/* */}return;}if($f===undefined){$f={$blk:file.ptr.prototype.close};}$f._r=_r;$f.e=e;$f.err=err;$f.file$1=file$1;$f.$s=$s;$f.$r=$r;return $f;};file.prototype.close=function(){return this.$val.close();};File.ptr.prototype.read=function(b){var _r,_tmp,_tmp$1,_tuple,b,err,f,n,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tuple=$f._tuple;b=$f.b;err=$f.err;f=$f.f;n=$f.n;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:n=0;err=$ifaceNil;f=this;_r=f.file.pfd.Read(b);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;n=_tuple[0];err=_tuple[1];runtime.KeepAlive(f);_tmp=n;_tmp$1=err;n=_tmp;err=_tmp$1;$s=-1;return[n,err];/* */}return;}if($f===undefined){$f={$blk:File.ptr.prototype.read};}$f._r=_r;$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tuple=_tuple;$f.b=b;$f.err=err;$f.f=f;$f.n=n;$f.$s=$s;$f.$r=$r;return $f;};File.prototype.read=function(b){return this.$val.read(b);};File.ptr.prototype.pread=function(b,off){var _r,_tmp,_tmp$1,_tuple,b,err,f,n,off,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tuple=$f._tuple;b=$f.b;err=$f.err;f=$f.f;n=$f.n;off=$f.off;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:n=0;err=$ifaceNil;f=this;_r=f.file.pfd.Pread(b,off);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;n=_tuple[0];err=_tuple[1];runtime.KeepAlive(f);_tmp=n;_tmp$1=err;n=_tmp;err=_tmp$1;$s=-1;return[n,err];/* */}return;}if($f===undefined){$f={$blk:File.ptr.prototype.pread};}$f._r=_r;$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tuple=_tuple;$f.b=b;$f.err=err;$f.f=f;$f.n=n;$f.off=off;$f.$s=$s;$f.$r=$r;return $f;};File.prototype.pread=function(b,off){return this.$val.pread(b,off);};File.ptr.prototype.write=function(b){var _r,_tmp,_tmp$1,_tuple,b,err,f,n,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tuple=$f._tuple;b=$f.b;err=$f.err;f=$f.f;n=$f.n;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:n=0;err=$ifaceNil;f=this;_r=f.file.pfd.Write(b);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;n=_tuple[0];err=_tuple[1];runtime.KeepAlive(f);_tmp=n;_tmp$1=err;n=_tmp;err=_tmp$1;$s=-1;return[n,err];/* */}return;}if($f===undefined){$f={$blk:File.ptr.prototype.write};}$f._r=_r;$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tuple=_tuple;$f.b=b;$f.err=err;$f.f=f;$f.n=n;$f.$s=$s;$f.$r=$r;return $f;};File.prototype.write=function(b){return this.$val.write(b);};File.ptr.prototype.pwrite=function(b,off){var _r,_tmp,_tmp$1,_tuple,b,err,f,n,off,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tuple=$f._tuple;b=$f.b;err=$f.err;f=$f.f;n=$f.n;off=$f.off;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:n=0;err=$ifaceNil;f=this;_r=f.file.pfd.Pwrite(b,off);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;n=_tuple[0];err=_tuple[1];runtime.KeepAlive(f);_tmp=n;_tmp$1=err;n=_tmp;err=_tmp$1;$s=-1;return[n,err];/* */}return;}if($f===undefined){$f={$blk:File.ptr.prototype.pwrite};}$f._r=_r;$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tuple=_tuple;$f.b=b;$f.err=err;$f.f=f;$f.n=n;$f.off=off;$f.$s=$s;$f.$r=$r;return $f;};File.prototype.pwrite=function(b,off){return this.$val.pwrite(b,off);};File.ptr.prototype.seek=function(offset,whence){var _r,_tmp,_tmp$1,_tuple,err,f,offset,ret,whence,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tuple=$f._tuple;err=$f.err;f=$f.f;offset=$f.offset;ret=$f.ret;whence=$f.whence;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:ret=new $Int64(0,0);err=$ifaceNil;f=this;_r=f.file.pfd.Seek(offset,whence);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;ret=_tuple[0];err=_tuple[1];runtime.KeepAlive(f);_tmp=ret;_tmp$1=err;ret=_tmp;err=_tmp$1;$s=-1;return[ret,err];/* */}return;}if($f===undefined){$f={$blk:File.ptr.prototype.seek};}$f._r=_r;$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tuple=_tuple;$f.err=err;$f.f=f;$f.offset=offset;$f.ret=ret;$f.whence=whence;$f.$s=$s;$f.$r=$r;return $f;};File.prototype.seek=function(offset,whence){return this.$val.seek(offset,whence);};File.ptr.prototype.readdir=function(n){var _i,_r,_r$1,_ref,_tmp,_tmp$1,_tmp$2,_tmp$3,_tuple,_tuple$1,dirname,err,f,fi,filename,fip,lerr,n,names,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_i=$f._i;_r=$f._r;_r$1=$f._r$1;_ref=$f._ref;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tmp$2=$f._tmp$2;_tmp$3=$f._tmp$3;_tuple=$f._tuple;_tuple$1=$f._tuple$1;dirname=$f.dirname;err=$f.err;f=$f.f;fi=$f.fi;filename=$f.filename;fip=$f.fip;lerr=$f.lerr;n=$f.n;names=$f.names;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:fi=sliceType$1.nil;err=$ifaceNil;f=this;dirname=f.file.name;if(dirname===""){dirname=".";}_r=f.Readdirnames(n);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;names=_tuple[0];err=_tuple[1];fi=$makeSlice(sliceType$1,0,names.$length);_ref=names;_i=0;/* while (true) { */case 2:/* if (!(_i < _ref.$length)) { break; } */if(!(_i<_ref.$length)){$s=3;continue;}filename=_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i];_r$1=lstat(dirname+"/"+filename);/* */$s=4;case 4:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$1=_r$1;fip=_tuple$1[0];lerr=_tuple$1[1];if(IsNotExist(lerr)){_i++;/* continue; */$s=2;continue;}if(!$interfaceIsEqual(lerr,$ifaceNil)){_tmp=fi;_tmp$1=lerr;fi=_tmp;err=_tmp$1;$s=-1;return[fi,err];}fi=$append(fi,fip);_i++;/* } */$s=2;continue;case 3:if(fi.$length===0&&$interfaceIsEqual(err,$ifaceNil)&&n>0){err=io.EOF;}_tmp$2=fi;_tmp$3=err;fi=_tmp$2;err=_tmp$3;$s=-1;return[fi,err];/* */}return;}if($f===undefined){$f={$blk:File.ptr.prototype.readdir};}$f._i=_i;$f._r=_r;$f._r$1=_r$1;$f._ref=_ref;$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tmp$2=_tmp$2;$f._tmp$3=_tmp$3;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f.dirname=dirname;$f.err=err;$f.f=f;$f.fi=fi;$f.filename=filename;$f.fip=fip;$f.lerr=lerr;$f.n=n;$f.names=names;$f.$s=$s;$f.$r=$r;return $f;};File.prototype.readdir=function(n){return this.$val.readdir(n);};basename=function(name){var i,name;i=name.length-1>>0;while(true){if(!(i>0&&name.charCodeAt(i)===47)){break;}name=$substring(name,0,i);i=i-1>>0;}i=i-1>>0;while(true){if(!(i>=0)){break;}if(name.charCodeAt(i)===47){name=$substring(name,i+1>>0);break;}i=i-1>>0;}return name;};init$1=function(){if(false){return;}$pkg.Args=runtime_args();};rawConn.ptr.prototype.Control=function(f){var _r,c,err,err$1,f,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;c=$f.c;err=$f.err;err$1=$f.err$1;f=$f.f;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:c=this;err=c.file.checkValid("SyscallConn.Control");if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return err;}_r=c.file.file.pfd.RawControl(f);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}err$1=_r;runtime.KeepAlive(c.file);$s=-1;return err$1;/* */}return;}if($f===undefined){$f={$blk:rawConn.ptr.prototype.Control};}$f._r=_r;$f.c=c;$f.err=err;$f.err$1=err$1;$f.f=f;$f.$s=$s;$f.$r=$r;return $f;};rawConn.prototype.Control=function(f){return this.$val.Control(f);};rawConn.ptr.prototype.Read=function(f){var _r,c,err,err$1,f,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;c=$f.c;err=$f.err;err$1=$f.err$1;f=$f.f;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:c=this;err=c.file.checkValid("SyscallConn.Read");if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return err;}_r=c.file.file.pfd.RawRead(f);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}err$1=_r;runtime.KeepAlive(c.file);$s=-1;return err$1;/* */}return;}if($f===undefined){$f={$blk:rawConn.ptr.prototype.Read};}$f._r=_r;$f.c=c;$f.err=err;$f.err$1=err$1;$f.f=f;$f.$s=$s;$f.$r=$r;return $f;};rawConn.prototype.Read=function(f){return this.$val.Read(f);};rawConn.ptr.prototype.Write=function(f){var _r,c,err,err$1,f,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;c=$f.c;err=$f.err;err$1=$f.err$1;f=$f.f;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:c=this;err=c.file.checkValid("SyscallConn.Write");if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return err;}_r=c.file.file.pfd.RawWrite(f);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}err$1=_r;runtime.KeepAlive(c.file);$s=-1;return err$1;/* */}return;}if($f===undefined){$f={$blk:rawConn.ptr.prototype.Write};}$f._r=_r;$f.c=c;$f.err=err;$f.err$1=err$1;$f.f=f;$f.$s=$s;$f.$r=$r;return $f;};rawConn.prototype.Write=function(f){return this.$val.Write(f);};newRawConn=function(file$1){var file$1;return[new rawConn.ptr(file$1),$ifaceNil];};Lstat=function(name){var name,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;name=$f.name;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=testlog.Stat(name);/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return lstatNolog(name);/* */}return;}if($f===undefined){$f={$blk:Lstat};}$f.name=name;$f.$s=$s;$f.$r=$r;return $f;};$pkg.Lstat=Lstat;fillFileStatFromSys=function(fs,name){var _1,fs,name;fs.name=basename(name);fs.size=fs.sys.Size;time.Time.copy(fs.modTime,timespecToTime($clone(fs.sys.Mtim,syscall.Timespec)));fs.mode=(fs.sys.Mode&511)>>>0>>>0;_1=(fs.sys.Mode&61440)>>>0;if(_1===24576){fs.mode=(fs.mode|67108864)>>>0;}else if(_1===8192){fs.mode=(fs.mode|69206016)>>>0;}else if(_1===16384){fs.mode=(fs.mode|2147483648)>>>0;}else if(_1===4096){fs.mode=(fs.mode|33554432)>>>0;}else if(_1===40960){fs.mode=(fs.mode|134217728)>>>0;}else if(_1===32768){}else if(_1===49152){fs.mode=(fs.mode|16777216)>>>0;}if(!((fs.sys.Mode&1024)>>>0===0)){fs.mode=(fs.mode|4194304)>>>0;}if(!((fs.sys.Mode&2048)>>>0===0)){fs.mode=(fs.mode|8388608)>>>0;}if(!((fs.sys.Mode&512)>>>0===0)){fs.mode=(fs.mode|1048576)>>>0;}};timespecToTime=function(ts){var ts;return time.Unix(ts.Sec,ts.Nsec);};File.ptr.prototype.Stat=function(){var _r,err,f,fs,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;err=$f.err;f=$f.f;fs=$f.fs;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:fs=[fs];f=this;if(f===ptrType.nil){$s=-1;return[$ifaceNil,$pkg.ErrInvalid];}fs[0]=new fileStat.ptr("",new $Int64(0,0),0,new time.Time.ptr(new $Uint64(0,0),new $Int64(0,0),ptrType$15.nil),new syscall.Stat_t.ptr(new $Uint64(0,0),new $Uint64(0,0),new $Uint64(0,0),0,0,0,0,new $Uint64(0,0),new $Int64(0,0),new $Int64(0,0),new $Int64(0,0),new syscall.Timespec.ptr(new $Int64(0,0),new $Int64(0,0)),new syscall.Timespec.ptr(new $Int64(0,0),new $Int64(0,0)),new syscall.Timespec.ptr(new $Int64(0,0),new $Int64(0,0)),arrayType$1.zero()));_r=f.file.pfd.Fstat(fs[0].sys);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}err=_r;if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[$ifaceNil,new PathError.ptr("stat",f.file.name,err)];}fillFileStatFromSys(fs[0],f.file.name);$s=-1;return[fs[0],$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:File.ptr.prototype.Stat};}$f._r=_r;$f.err=err;$f.f=f;$f.fs=fs;$f.$s=$s;$f.$r=$r;return $f;};File.prototype.Stat=function(){return this.$val.Stat();};lstatNolog=function(name){var err,fs,name;fs=new fileStat.ptr("",new $Int64(0,0),0,new time.Time.ptr(new $Uint64(0,0),new $Int64(0,0),ptrType$15.nil),new syscall.Stat_t.ptr(new $Uint64(0,0),new $Uint64(0,0),new $Uint64(0,0),0,0,0,0,new $Uint64(0,0),new $Int64(0,0),new $Int64(0,0),new $Int64(0,0),new syscall.Timespec.ptr(new $Int64(0,0),new $Int64(0,0)),new syscall.Timespec.ptr(new $Int64(0,0),new $Int64(0,0)),new syscall.Timespec.ptr(new $Int64(0,0),new $Int64(0,0)),arrayType$1.zero()));err=syscall.Lstat(name,fs.sys);if(!$interfaceIsEqual(err,$ifaceNil)){return[$ifaceNil,new PathError.ptr("lstat",name,err)];}fillFileStatFromSys(fs,name);return[fs,$ifaceNil];};FileMode.prototype.String=function(){var _i,_i$1,_ref,_ref$1,_rune,_rune$1,buf,c,c$1,i,i$1,m,w,y,y$1;m=this.$val;buf=arrayType$6.zero();w=0;_ref="dalTLDpSugct?";_i=0;while(true){if(!(_i<_ref.length)){break;}_rune=$decodeRune(_ref,_i);i=_i;c=_rune[0];if(!((m&(y=31-i>>0>>>0,y<32?1<<y:0)>>>0)>>>0===0)){w<0||w>=buf.length?($throwRuntimeError("index out of range"),undefined):buf[w]=c<<24>>>24;w=w+1>>0;}_i+=_rune[1];}if(w===0){w<0||w>=buf.length?($throwRuntimeError("index out of range"),undefined):buf[w]=45;w=w+1>>0;}_ref$1="rwxrwxrwx";_i$1=0;while(true){if(!(_i$1<_ref$1.length)){break;}_rune$1=$decodeRune(_ref$1,_i$1);i$1=_i$1;c$1=_rune$1[0];if(!((m&(y$1=8-i$1>>0>>>0,y$1<32?1<<y$1:0)>>>0)>>>0===0)){w<0||w>=buf.length?($throwRuntimeError("index out of range"),undefined):buf[w]=c$1<<24>>>24;}else{w<0||w>=buf.length?($throwRuntimeError("index out of range"),undefined):buf[w]=45;}w=w+1>>0;_i$1+=_rune$1[1];}return $bytesToString($subslice(new sliceType$2(buf),0,w));};$ptrType(FileMode).prototype.String=function(){return new FileMode(this.$get()).String();};FileMode.prototype.IsDir=function(){var m;m=this.$val;return!((m&2147483648)>>>0===0);};$ptrType(FileMode).prototype.IsDir=function(){return new FileMode(this.$get()).IsDir();};FileMode.prototype.IsRegular=function(){var m;m=this.$val;return(m&2401763328)>>>0===0;};$ptrType(FileMode).prototype.IsRegular=function(){return new FileMode(this.$get()).IsRegular();};FileMode.prototype.Perm=function(){var m;m=this.$val;return(m&511)>>>0;};$ptrType(FileMode).prototype.Perm=function(){return new FileMode(this.$get()).Perm();};fileStat.ptr.prototype.Name=function(){var fs;fs=this;return fs.name;};fileStat.prototype.Name=function(){return this.$val.Name();};fileStat.ptr.prototype.IsDir=function(){var fs;fs=this;return new FileMode(fs.Mode()).IsDir();};fileStat.prototype.IsDir=function(){return this.$val.IsDir();};fileStat.ptr.prototype.Size=function(){var fs;fs=this;return fs.size;};fileStat.prototype.Size=function(){return this.$val.Size();};fileStat.ptr.prototype.Mode=function(){var fs;fs=this;return fs.mode;};fileStat.prototype.Mode=function(){return this.$val.Mode();};fileStat.ptr.prototype.ModTime=function(){var fs;fs=this;return fs.modTime;};fileStat.prototype.ModTime=function(){return this.$val.ModTime();};fileStat.ptr.prototype.Sys=function(){var fs;fs=this;return fs.sys;};fileStat.prototype.Sys=function(){return this.$val.Sys();};ptrType$1.methods=[{prop:"close",name:"close",pkg:"os",typ:$funcType([],[],false)}];ptrType$2.methods=[{prop:"Error",name:"Error",pkg:"",typ:$funcType([],[$String],false)},{prop:"Timeout",name:"Timeout",pkg:"",typ:$funcType([],[$Bool],false)}];ptrType$4.methods=[{prop:"Error",name:"Error",pkg:"",typ:$funcType([],[$String],false)},{prop:"Timeout",name:"Timeout",pkg:"",typ:$funcType([],[$Bool],false)}];ptrType$3.methods=[{prop:"Error",name:"Error",pkg:"",typ:$funcType([],[$String],false)}];ptrType$13.methods=[{prop:"close",name:"close",pkg:"os",typ:$funcType([],[$error],false)}];ptrType$18.methods=[{prop:"Control",name:"Control",pkg:"",typ:$funcType([funcType$2],[$error],false)},{prop:"Read",name:"Read",pkg:"",typ:$funcType([funcType$3],[$error],false)},{prop:"Write",name:"Write",pkg:"",typ:$funcType([funcType$3],[$error],false)}];ptrType.methods=[{prop:"Readdir",name:"Readdir",pkg:"",typ:$funcType([$Int],[sliceType$1,$error],false)},{prop:"Readdirnames",name:"Readdirnames",pkg:"",typ:$funcType([$Int],[sliceType,$error],false)},{prop:"readdirnames",name:"readdirnames",pkg:"os",typ:$funcType([$Int],[sliceType,$error],false)},{prop:"Name",name:"Name",pkg:"",typ:$funcType([],[$String],false)},{prop:"Read",name:"Read",pkg:"",typ:$funcType([sliceType$2],[$Int,$error],false)},{prop:"ReadAt",name:"ReadAt",pkg:"",typ:$funcType([sliceType$2,$Int64],[$Int,$error],false)},{prop:"Write",name:"Write",pkg:"",typ:$funcType([sliceType$2],[$Int,$error],false)},{prop:"WriteAt",name:"WriteAt",pkg:"",typ:$funcType([sliceType$2,$Int64],[$Int,$error],false)},{prop:"Seek",name:"Seek",pkg:"",typ:$funcType([$Int64,$Int],[$Int64,$error],false)},{prop:"WriteString",name:"WriteString",pkg:"",typ:$funcType([$String],[$Int,$error],false)},{prop:"wrapErr",name:"wrapErr",pkg:"os",typ:$funcType([$String,$error],[$error],false)},{prop:"Chmod",name:"Chmod",pkg:"",typ:$funcType([FileMode],[$error],false)},{prop:"SetDeadline",name:"SetDeadline",pkg:"",typ:$funcType([time.Time],[$error],false)},{prop:"SetReadDeadline",name:"SetReadDeadline",pkg:"",typ:$funcType([time.Time],[$error],false)},{prop:"SetWriteDeadline",name:"SetWriteDeadline",pkg:"",typ:$funcType([time.Time],[$error],false)},{prop:"SyscallConn",name:"SyscallConn",pkg:"",typ:$funcType([],[syscall.RawConn,$error],false)},{prop:"chmod",name:"chmod",pkg:"os",typ:$funcType([FileMode],[$error],false)},{prop:"Chown",name:"Chown",pkg:"",typ:$funcType([$Int,$Int],[$error],false)},{prop:"Truncate",name:"Truncate",pkg:"",typ:$funcType([$Int64],[$error],false)},{prop:"Sync",name:"Sync",pkg:"",typ:$funcType([],[$error],false)},{prop:"Chdir",name:"Chdir",pkg:"",typ:$funcType([],[$error],false)},{prop:"setDeadline",name:"setDeadline",pkg:"os",typ:$funcType([time.Time],[$error],false)},{prop:"setReadDeadline",name:"setReadDeadline",pkg:"os",typ:$funcType([time.Time],[$error],false)},{prop:"setWriteDeadline",name:"setWriteDeadline",pkg:"os",typ:$funcType([time.Time],[$error],false)},{prop:"checkValid",name:"checkValid",pkg:"os",typ:$funcType([$String],[$error],false)},{prop:"Fd",name:"Fd",pkg:"",typ:$funcType([],[$Uintptr],false)},{prop:"Close",name:"Close",pkg:"",typ:$funcType([],[$error],false)},{prop:"read",name:"read",pkg:"os",typ:$funcType([sliceType$2],[$Int,$error],false)},{prop:"pread",name:"pread",pkg:"os",typ:$funcType([sliceType$2,$Int64],[$Int,$error],false)},{prop:"write",name:"write",pkg:"os",typ:$funcType([sliceType$2],[$Int,$error],false)},{prop:"pwrite",name:"pwrite",pkg:"os",typ:$funcType([sliceType$2,$Int64],[$Int,$error],false)},{prop:"seek",name:"seek",pkg:"os",typ:$funcType([$Int64,$Int],[$Int64,$error],false)},{prop:"readdir",name:"readdir",pkg:"os",typ:$funcType([$Int],[sliceType$1,$error],false)},{prop:"Stat",name:"Stat",pkg:"",typ:$funcType([],[FileInfo,$error],false)}];FileMode.methods=[{prop:"String",name:"String",pkg:"",typ:$funcType([],[$String],false)},{prop:"IsDir",name:"IsDir",pkg:"",typ:$funcType([],[$Bool],false)},{prop:"IsRegular",name:"IsRegular",pkg:"",typ:$funcType([],[$Bool],false)},{prop:"Perm",name:"Perm",pkg:"",typ:$funcType([],[FileMode],false)}];ptrType$16.methods=[{prop:"Name",name:"Name",pkg:"",typ:$funcType([],[$String],false)},{prop:"IsDir",name:"IsDir",pkg:"",typ:$funcType([],[$Bool],false)},{prop:"Size",name:"Size",pkg:"",typ:$funcType([],[$Int64],false)},{prop:"Mode",name:"Mode",pkg:"",typ:$funcType([],[FileMode],false)},{prop:"ModTime",name:"ModTime",pkg:"",typ:$funcType([],[time.Time],false)},{prop:"Sys",name:"Sys",pkg:"",typ:$funcType([],[$emptyInterface],false)}];dirInfo.init("os",[{prop:"buf",name:"buf",embedded:false,exported:false,typ:sliceType$2,tag:""},{prop:"nbuf",name:"nbuf",embedded:false,exported:false,typ:$Int,tag:""},{prop:"bufp",name:"bufp",embedded:false,exported:false,typ:$Int,tag:""}]);timeout.init([{prop:"Timeout",name:"Timeout",pkg:"",typ:$funcType([],[$Bool],false)}]);PathError.init("",[{prop:"Op",name:"Op",embedded:false,exported:true,typ:$String,tag:""},{prop:"Path",name:"Path",embedded:false,exported:true,typ:$String,tag:""},{prop:"Err",name:"Err",embedded:false,exported:true,typ:$error,tag:""}]);SyscallError.init("",[{prop:"Syscall",name:"Syscall",embedded:false,exported:true,typ:$String,tag:""},{prop:"Err",name:"Err",embedded:false,exported:true,typ:$error,tag:""}]);LinkError.init("",[{prop:"Op",name:"Op",embedded:false,exported:true,typ:$String,tag:""},{prop:"Old",name:"Old",embedded:false,exported:true,typ:$String,tag:""},{prop:"New",name:"New",embedded:false,exported:true,typ:$String,tag:""},{prop:"Err",name:"Err",embedded:false,exported:true,typ:$error,tag:""}]);file.init("os",[{prop:"pfd",name:"pfd",embedded:false,exported:false,typ:poll.FD,tag:""},{prop:"name",name:"name",embedded:false,exported:false,typ:$String,tag:""},{prop:"dirinfo",name:"dirinfo",embedded:false,exported:false,typ:ptrType$1,tag:""},{prop:"nonblock",name:"nonblock",embedded:false,exported:false,typ:$Bool,tag:""},{prop:"stdoutOrErr",name:"stdoutOrErr",embedded:false,exported:false,typ:$Bool,tag:""}]);rawConn.init("os",[{prop:"file",name:"file",embedded:false,exported:false,typ:ptrType,tag:""}]);File.init("os",[{prop:"file",name:"file",embedded:true,exported:false,typ:ptrType$13,tag:""}]);FileInfo.init([{prop:"IsDir",name:"IsDir",pkg:"",typ:$funcType([],[$Bool],false)},{prop:"ModTime",name:"ModTime",pkg:"",typ:$funcType([],[time.Time],false)},{prop:"Mode",name:"Mode",pkg:"",typ:$funcType([],[FileMode],false)},{prop:"Name",name:"Name",pkg:"",typ:$funcType([],[$String],false)},{prop:"Size",name:"Size",pkg:"",typ:$funcType([],[$Int64],false)},{prop:"Sys",name:"Sys",pkg:"",typ:$funcType([],[$emptyInterface],false)}]);fileStat.init("os",[{prop:"name",name:"name",embedded:false,exported:false,typ:$String,tag:""},{prop:"size",name:"size",embedded:false,exported:false,typ:$Int64,tag:""},{prop:"mode",name:"mode",embedded:false,exported:false,typ:FileMode,tag:""},{prop:"modTime",name:"modTime",embedded:false,exported:false,typ:time.Time,tag:""},{prop:"sys",name:"sys",embedded:false,exported:false,typ:syscall.Stat_t,tag:""}]);$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=errors.$init();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=js.$init();/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=poll.$init();/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=unix.$init();/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=testlog.$init();/* */$s=5;case 5:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=io.$init();/* */$s=6;case 6:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=runtime.$init();/* */$s=7;case 7:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=sync.$init();/* */$s=8;case 8:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=atomic.$init();/* */$s=9;case 9:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=syscall.$init();/* */$s=10;case 10:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=time.$init();/* */$s=11;case 11:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$pkg.Args=sliceType.nil;$pkg.ErrInvalid=errors.New("invalid argument");$pkg.ErrPermission=errors.New("permission denied");$pkg.ErrExist=errors.New("file already exists");$pkg.ErrNotExist=errors.New("file does not exist");$pkg.ErrClosed=errors.New("file already closed");errFinished=errors.New("os: process already finished");$pkg.Stdin=NewFile(syscall.Stdin>>>0,"/dev/stdin");$pkg.Stdout=NewFile(syscall.Stdout>>>0,"/dev/stdout");$pkg.Stderr=NewFile(syscall.Stderr>>>0,"/dev/stderr");lstat=Lstat;init();init$1();/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["fmt"]=function(){var $pkg={},$init,errors,fmtsort,io,math,os,reflect,strconv,sync,utf8,fmtFlags,fmt,State,Formatter,Stringer,GoStringer,buffer,pp,scanError,ss,ssave,sliceType,ptrType,ptrType$1,arrayType,arrayType$1,sliceType$1,sliceType$2,arrayType$2,ptrType$2,ptrType$5,ptrType$25,funcType,ppFree,space,ssFree,complexError,boolError,newPrinter,Fprintf,Printf,Sprintf,Errorf,Fprint,Print,Fprintln,Println,getField,tooLarge,parsenum,intFromArg,parseArgNumber,isSpace,notSpace,indexRune;errors=$packages["errors"];fmtsort=$packages["internal/fmtsort"];io=$packages["io"];math=$packages["math"];os=$packages["os"];reflect=$packages["reflect"];strconv=$packages["strconv"];sync=$packages["sync"];utf8=$packages["unicode/utf8"];fmtFlags=$pkg.fmtFlags=$newType(0,$kindStruct,"fmt.fmtFlags",true,"fmt",false,function(widPresent_,precPresent_,minus_,plus_,sharp_,space_,zero_,plusV_,sharpV_){this.$val=this;if(arguments.length===0){this.widPresent=false;this.precPresent=false;this.minus=false;this.plus=false;this.sharp=false;this.space=false;this.zero=false;this.plusV=false;this.sharpV=false;return;}this.widPresent=widPresent_;this.precPresent=precPresent_;this.minus=minus_;this.plus=plus_;this.sharp=sharp_;this.space=space_;this.zero=zero_;this.plusV=plusV_;this.sharpV=sharpV_;});fmt=$pkg.fmt=$newType(0,$kindStruct,"fmt.fmt",true,"fmt",false,function(buf_,fmtFlags_,wid_,prec_,intbuf_){this.$val=this;if(arguments.length===0){this.buf=ptrType$1.nil;this.fmtFlags=new fmtFlags.ptr(false,false,false,false,false,false,false,false,false);this.wid=0;this.prec=0;this.intbuf=arrayType.zero();return;}this.buf=buf_;this.fmtFlags=fmtFlags_;this.wid=wid_;this.prec=prec_;this.intbuf=intbuf_;});State=$pkg.State=$newType(8,$kindInterface,"fmt.State",true,"fmt",true,null);Formatter=$pkg.Formatter=$newType(8,$kindInterface,"fmt.Formatter",true,"fmt",true,null);Stringer=$pkg.Stringer=$newType(8,$kindInterface,"fmt.Stringer",true,"fmt",true,null);GoStringer=$pkg.GoStringer=$newType(8,$kindInterface,"fmt.GoStringer",true,"fmt",true,null);buffer=$pkg.buffer=$newType(12,$kindSlice,"fmt.buffer",true,"fmt",false,null);pp=$pkg.pp=$newType(0,$kindStruct,"fmt.pp",true,"fmt",false,function(buf_,arg_,value_,fmt_,reordered_,goodArgNum_,panicking_,erroring_){this.$val=this;if(arguments.length===0){this.buf=buffer.nil;this.arg=$ifaceNil;this.value=new reflect.Value.ptr(ptrType.nil,0,0);this.fmt=new fmt.ptr(ptrType$1.nil,new fmtFlags.ptr(false,false,false,false,false,false,false,false,false),0,0,arrayType.zero());this.reordered=false;this.goodArgNum=false;this.panicking=false;this.erroring=false;return;}this.buf=buf_;this.arg=arg_;this.value=value_;this.fmt=fmt_;this.reordered=reordered_;this.goodArgNum=goodArgNum_;this.panicking=panicking_;this.erroring=erroring_;});scanError=$pkg.scanError=$newType(0,$kindStruct,"fmt.scanError",true,"fmt",false,function(err_){this.$val=this;if(arguments.length===0){this.err=$ifaceNil;return;}this.err=err_;});ss=$pkg.ss=$newType(0,$kindStruct,"fmt.ss",true,"fmt",false,function(rs_,buf_,count_,atEOF_,ssave_){this.$val=this;if(arguments.length===0){this.rs=$ifaceNil;this.buf=buffer.nil;this.count=0;this.atEOF=false;this.ssave=new ssave.ptr(false,false,false,0,0,0);return;}this.rs=rs_;this.buf=buf_;this.count=count_;this.atEOF=atEOF_;this.ssave=ssave_;});ssave=$pkg.ssave=$newType(0,$kindStruct,"fmt.ssave",true,"fmt",false,function(validSave_,nlIsEnd_,nlIsSpace_,argLimit_,limit_,maxWid_){this.$val=this;if(arguments.length===0){this.validSave=false;this.nlIsEnd=false;this.nlIsSpace=false;this.argLimit=0;this.limit=0;this.maxWid=0;return;}this.validSave=validSave_;this.nlIsEnd=nlIsEnd_;this.nlIsSpace=nlIsSpace_;this.argLimit=argLimit_;this.limit=limit_;this.maxWid=maxWid_;});sliceType=$sliceType($emptyInterface);ptrType=$ptrType(reflect.rtype);ptrType$1=$ptrType(buffer);arrayType=$arrayType($Uint8,68);arrayType$1=$arrayType($Uint16,2);sliceType$1=$sliceType(arrayType$1);sliceType$2=$sliceType($Uint8);arrayType$2=$arrayType($Uint8,5);ptrType$2=$ptrType(pp);ptrType$5=$ptrType(ss);ptrType$25=$ptrType(fmt);funcType=$funcType([$Int32],[$Bool],false);fmt.ptr.prototype.clearflags=function(){var f;f=this;fmtFlags.copy(f.fmtFlags,new fmtFlags.ptr(false,false,false,false,false,false,false,false,false));};fmt.prototype.clearflags=function(){return this.$val.clearflags();};fmt.ptr.prototype.init=function(buf){var buf,f;f=this;f.buf=buf;f.clearflags();};fmt.prototype.init=function(buf){return this.$val.init(buf);};fmt.ptr.prototype.writePadding=function(n){var _i,_ref,buf,f,i,n,newLen,oldLen,padByte,padding;f=this;if(n<=0){return;}buf=f.buf.$get();oldLen=buf.$length;newLen=oldLen+n>>0;if(newLen>buf.$capacity){buf=$makeSlice(buffer,$imul(buf.$capacity,2)+n>>0);$copySlice(buf,f.buf.$get());}padByte=32;if(f.fmtFlags.zero){padByte=48;}padding=$subslice(buf,oldLen,newLen);_ref=padding;_i=0;while(true){if(!(_i<_ref.$length)){break;}i=_i;i<0||i>=padding.$length?($throwRuntimeError("index out of range"),undefined):padding.$array[padding.$offset+i]=padByte;_i++;}f.buf.$set($subslice(buf,0,newLen));};fmt.prototype.writePadding=function(n){return this.$val.writePadding(n);};fmt.ptr.prototype.pad=function(b){var b,f,width;f=this;if(!f.fmtFlags.widPresent||f.wid===0){f.buf.Write(b);return;}width=f.wid-utf8.RuneCount(b)>>0;if(!f.fmtFlags.minus){f.writePadding(width);f.buf.Write(b);}else{f.buf.Write(b);f.writePadding(width);}};fmt.prototype.pad=function(b){return this.$val.pad(b);};fmt.ptr.prototype.padString=function(s){var f,s,width;f=this;if(!f.fmtFlags.widPresent||f.wid===0){f.buf.WriteString(s);return;}width=f.wid-utf8.RuneCountInString(s)>>0;if(!f.fmtFlags.minus){f.writePadding(width);f.buf.WriteString(s);}else{f.buf.WriteString(s);f.writePadding(width);}};fmt.prototype.padString=function(s){return this.$val.padString(s);};fmt.ptr.prototype.fmtBoolean=function(v){var f,v;f=this;if(v){f.padString("true");}else{f.padString("false");}};fmt.prototype.fmtBoolean=function(v){return this.$val.fmtBoolean(v);};fmt.ptr.prototype.fmtUnicode=function(u){var buf,f,i,oldZero,prec,u,width;f=this;buf=$subslice(new sliceType$2(f.intbuf),0);prec=4;if(f.fmtFlags.precPresent&&f.prec>4){prec=f.prec;width=(((2+prec>>0)+2>>0)+4>>0)+1>>0;if(width>buf.$length){buf=$makeSlice(sliceType$2,width);}}i=buf.$length;if(f.fmtFlags.sharp&&(u.$high<0||u.$high===0&&u.$low<=1114111)&&strconv.IsPrint(u.$low>>0)){i=i-1>>0;i<0||i>=buf.$length?($throwRuntimeError("index out of range"),undefined):buf.$array[buf.$offset+i]=39;i=i-utf8.RuneLen(u.$low>>0)>>0;utf8.EncodeRune($subslice(buf,i),u.$low>>0);i=i-1>>0;i<0||i>=buf.$length?($throwRuntimeError("index out of range"),undefined):buf.$array[buf.$offset+i]=39;i=i-1>>0;i<0||i>=buf.$length?($throwRuntimeError("index out of range"),undefined):buf.$array[buf.$offset+i]=32;}while(true){if(!(u.$high>0||u.$high===0&&u.$low>=16)){break;}i=i-1>>0;i<0||i>=buf.$length?($throwRuntimeError("index out of range"),undefined):buf.$array[buf.$offset+i]="0123456789ABCDEFX".charCodeAt($flatten64(new $Uint64(u.$high&0,(u.$low&15)>>>0)));prec=prec-1>>0;u=$shiftRightUint64(u,4);}i=i-1>>0;i<0||i>=buf.$length?($throwRuntimeError("index out of range"),undefined):buf.$array[buf.$offset+i]="0123456789ABCDEFX".charCodeAt($flatten64(u));prec=prec-1>>0;while(true){if(!(prec>0)){break;}i=i-1>>0;i<0||i>=buf.$length?($throwRuntimeError("index out of range"),undefined):buf.$array[buf.$offset+i]=48;prec=prec-1>>0;}i=i-1>>0;i<0||i>=buf.$length?($throwRuntimeError("index out of range"),undefined):buf.$array[buf.$offset+i]=43;i=i-1>>0;i<0||i>=buf.$length?($throwRuntimeError("index out of range"),undefined):buf.$array[buf.$offset+i]=85;oldZero=f.fmtFlags.zero;f.fmtFlags.zero=false;f.pad($subslice(buf,i));f.fmtFlags.zero=oldZero;};fmt.prototype.fmtUnicode=function(u){return this.$val.fmtUnicode(u);};fmt.ptr.prototype.fmtInteger=function(u,base,isSigned,digits){var _1,_2,base,buf,digits,f,i,isSigned,negative,next,oldZero,oldZero$1,prec,u,width,x,x$1,x$2,x$3,x$4;f=this;negative=isSigned&&(x=new $Int64(u.$high,u.$low),x.$high<0||x.$high===0&&x.$low<0);if(negative){u=new $Uint64(-u.$high,-u.$low);}buf=$subslice(new sliceType$2(f.intbuf),0);if(f.fmtFlags.widPresent||f.fmtFlags.precPresent){width=(3+f.wid>>0)+f.prec>>0;if(width>buf.$length){buf=$makeSlice(sliceType$2,width);}}prec=0;if(f.fmtFlags.precPresent){prec=f.prec;if(prec===0&&u.$high===0&&u.$low===0){oldZero=f.fmtFlags.zero;f.fmtFlags.zero=false;f.writePadding(f.wid);f.fmtFlags.zero=oldZero;return;}}else if(f.fmtFlags.zero&&f.fmtFlags.widPresent){prec=f.wid;if(negative||f.fmtFlags.plus||f.fmtFlags.space){prec=prec-1>>0;}}i=buf.$length;_1=base;if(_1===10){while(true){if(!(u.$high>0||u.$high===0&&u.$low>=10)){break;}i=i-1>>0;next=$div64(u,new $Uint64(0,10),false);i<0||i>=buf.$length?($throwRuntimeError("index out of range"),undefined):buf.$array[buf.$offset+i]=(x$1=new $Uint64(0+u.$high,48+u.$low),x$2=$mul64(next,new $Uint64(0,10)),new $Uint64(x$1.$high-x$2.$high,x$1.$low-x$2.$low)).$low<<24>>>24;u=next;}}else if(_1===16){while(true){if(!(u.$high>0||u.$high===0&&u.$low>=16)){break;}i=i-1>>0;i<0||i>=buf.$length?($throwRuntimeError("index out of range"),undefined):buf.$array[buf.$offset+i]=digits.charCodeAt($flatten64(new $Uint64(u.$high&0,(u.$low&15)>>>0)));u=$shiftRightUint64(u,4);}}else if(_1===8){while(true){if(!(u.$high>0||u.$high===0&&u.$low>=8)){break;}i=i-1>>0;i<0||i>=buf.$length?($throwRuntimeError("index out of range"),undefined):buf.$array[buf.$offset+i]=(x$3=new $Uint64(u.$high&0,(u.$low&7)>>>0),new $Uint64(0+x$3.$high,48+x$3.$low)).$low<<24>>>24;u=$shiftRightUint64(u,3);}}else if(_1===2){while(true){if(!(u.$high>0||u.$high===0&&u.$low>=2)){break;}i=i-1>>0;i<0||i>=buf.$length?($throwRuntimeError("index out of range"),undefined):buf.$array[buf.$offset+i]=(x$4=new $Uint64(u.$high&0,(u.$low&1)>>>0),new $Uint64(0+x$4.$high,48+x$4.$low)).$low<<24>>>24;u=$shiftRightUint64(u,1);}}else{$panic(new $String("fmt: unknown base; can't happen"));}i=i-1>>0;i<0||i>=buf.$length?($throwRuntimeError("index out of range"),undefined):buf.$array[buf.$offset+i]=digits.charCodeAt($flatten64(u));while(true){if(!(i>0&&prec>buf.$length-i>>0)){break;}i=i-1>>0;i<0||i>=buf.$length?($throwRuntimeError("index out of range"),undefined):buf.$array[buf.$offset+i]=48;}if(f.fmtFlags.sharp){_2=base;if(_2===8){if(!((i<0||i>=buf.$length?($throwRuntimeError("index out of range"),undefined):buf.$array[buf.$offset+i])===48)){i=i-1>>0;i<0||i>=buf.$length?($throwRuntimeError("index out of range"),undefined):buf.$array[buf.$offset+i]=48;}}else if(_2===16){i=i-1>>0;i<0||i>=buf.$length?($throwRuntimeError("index out of range"),undefined):buf.$array[buf.$offset+i]=digits.charCodeAt(16);i=i-1>>0;i<0||i>=buf.$length?($throwRuntimeError("index out of range"),undefined):buf.$array[buf.$offset+i]=48;}}if(negative){i=i-1>>0;i<0||i>=buf.$length?($throwRuntimeError("index out of range"),undefined):buf.$array[buf.$offset+i]=45;}else if(f.fmtFlags.plus){i=i-1>>0;i<0||i>=buf.$length?($throwRuntimeError("index out of range"),undefined):buf.$array[buf.$offset+i]=43;}else if(f.fmtFlags.space){i=i-1>>0;i<0||i>=buf.$length?($throwRuntimeError("index out of range"),undefined):buf.$array[buf.$offset+i]=32;}oldZero$1=f.fmtFlags.zero;f.fmtFlags.zero=false;f.pad($subslice(buf,i));f.fmtFlags.zero=oldZero$1;};fmt.prototype.fmtInteger=function(u,base,isSigned,digits){return this.$val.fmtInteger(u,base,isSigned,digits);};fmt.ptr.prototype.truncateString=function(s){var _i,_ref,_rune,f,i,n,s;f=this;if(f.fmtFlags.precPresent){n=f.prec;_ref=s;_i=0;while(true){if(!(_i<_ref.length)){break;}_rune=$decodeRune(_ref,_i);i=_i;n=n-1>>0;if(n<0){return $substring(s,0,i);}_i+=_rune[1];}}return s;};fmt.prototype.truncateString=function(s){return this.$val.truncateString(s);};fmt.ptr.prototype.truncate=function(b){var _tuple,b,f,i,n,wid;f=this;if(f.fmtFlags.precPresent){n=f.prec;i=0;while(true){if(!(i<b.$length)){break;}n=n-1>>0;if(n<0){return $subslice(b,0,i);}wid=1;if((i<0||i>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+i])>=128){_tuple=utf8.DecodeRune($subslice(b,i));wid=_tuple[1];}i=i+wid>>0;}}return b;};fmt.prototype.truncate=function(b){return this.$val.truncate(b);};fmt.ptr.prototype.fmtS=function(s){var f,s;f=this;s=f.truncateString(s);f.padString(s);};fmt.prototype.fmtS=function(s){return this.$val.fmtS(s);};fmt.ptr.prototype.fmtBs=function(b){var b,f;f=this;b=f.truncate(b);f.pad(b);};fmt.prototype.fmtBs=function(b){return this.$val.fmtBs(b);};fmt.ptr.prototype.fmtSbx=function(s,b,digits){var b,buf,c,digits,f,i,length,s,width;f=this;length=b.$length;if(b===sliceType$2.nil){length=s.length;}if(f.fmtFlags.precPresent&&f.prec<length){length=f.prec;}width=$imul(2,length);if(width>0){if(f.fmtFlags.space){if(f.fmtFlags.sharp){width=$imul(width,2);}width=width+(length-1>>0)>>0;}else if(f.fmtFlags.sharp){width=width+2>>0;}}else{if(f.fmtFlags.widPresent){f.writePadding(f.wid);}return;}if(f.fmtFlags.widPresent&&f.wid>width&&!f.fmtFlags.minus){f.writePadding(f.wid-width>>0);}buf=f.buf.$get();if(f.fmtFlags.sharp){buf=$append(buf,48,digits.charCodeAt(16));}c=0;i=0;while(true){if(!(i<length)){break;}if(f.fmtFlags.space&&i>0){buf=$append(buf,32);if(f.fmtFlags.sharp){buf=$append(buf,48,digits.charCodeAt(16));}}if(!(b===sliceType$2.nil)){c=i<0||i>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+i];}else{c=s.charCodeAt(i);}buf=$append(buf,digits.charCodeAt(c>>>4<<24>>>24),digits.charCodeAt((c&15)>>>0));i=i+1>>0;}f.buf.$set(buf);if(f.fmtFlags.widPresent&&f.wid>width&&f.fmtFlags.minus){f.writePadding(f.wid-width>>0);}};fmt.prototype.fmtSbx=function(s,b,digits){return this.$val.fmtSbx(s,b,digits);};fmt.ptr.prototype.fmtSx=function(s,digits){var digits,f,s;f=this;f.fmtSbx(s,sliceType$2.nil,digits);};fmt.prototype.fmtSx=function(s,digits){return this.$val.fmtSx(s,digits);};fmt.ptr.prototype.fmtBx=function(b,digits){var b,digits,f;f=this;f.fmtSbx("",b,digits);};fmt.prototype.fmtBx=function(b,digits){return this.$val.fmtBx(b,digits);};fmt.ptr.prototype.fmtQ=function(s){var buf,f,s;f=this;s=f.truncateString(s);if(f.fmtFlags.sharp&&strconv.CanBackquote(s)){f.padString("`"+s+"`");return;}buf=$subslice(new sliceType$2(f.intbuf),0,0);if(f.fmtFlags.plus){f.pad(strconv.AppendQuoteToASCII(buf,s));}else{f.pad(strconv.AppendQuote(buf,s));}};fmt.prototype.fmtQ=function(s){return this.$val.fmtQ(s);};fmt.ptr.prototype.fmtC=function(c){var buf,c,f,r,w;f=this;r=c.$low>>0;if(c.$high>0||c.$high===0&&c.$low>1114111){r=65533;}buf=$subslice(new sliceType$2(f.intbuf),0,0);w=utf8.EncodeRune($subslice(buf,0,4),r);f.pad($subslice(buf,0,w));};fmt.prototype.fmtC=function(c){return this.$val.fmtC(c);};fmt.ptr.prototype.fmtQc=function(c){var buf,c,f,r;f=this;r=c.$low>>0;if(c.$high>0||c.$high===0&&c.$low>1114111){r=65533;}buf=$subslice(new sliceType$2(f.intbuf),0,0);if(f.fmtFlags.plus){f.pad(strconv.AppendQuoteRuneToASCII(buf,r));}else{f.pad(strconv.AppendQuoteRune(buf,r));}};fmt.prototype.fmtQc=function(c){return this.$val.fmtQc(c);};fmt.ptr.prototype.fmtFloat=function(v,size,verb,prec){var _1,_2,digits,f,hasDecimalPoint,i,num,oldZero,prec,size,tail,tailBuf,v,verb;f=this;if(f.fmtFlags.precPresent){prec=f.prec;}num=strconv.AppendFloat($subslice(new sliceType$2(f.intbuf),0,1),v,verb<<24>>>24,prec,size);if((1>=num.$length?($throwRuntimeError("index out of range"),undefined):num.$array[num.$offset+1])===45||(1>=num.$length?($throwRuntimeError("index out of range"),undefined):num.$array[num.$offset+1])===43){num=$subslice(num,1);}else{0>=num.$length?($throwRuntimeError("index out of range"),undefined):num.$array[num.$offset+0]=43;}if(f.fmtFlags.space&&(0>=num.$length?($throwRuntimeError("index out of range"),undefined):num.$array[num.$offset+0])===43&&!f.fmtFlags.plus){0>=num.$length?($throwRuntimeError("index out of range"),undefined):num.$array[num.$offset+0]=32;}if((1>=num.$length?($throwRuntimeError("index out of range"),undefined):num.$array[num.$offset+1])===73||(1>=num.$length?($throwRuntimeError("index out of range"),undefined):num.$array[num.$offset+1])===78){oldZero=f.fmtFlags.zero;f.fmtFlags.zero=false;if((1>=num.$length?($throwRuntimeError("index out of range"),undefined):num.$array[num.$offset+1])===78&&!f.fmtFlags.space&&!f.fmtFlags.plus){num=$subslice(num,1);}f.pad(num);f.fmtFlags.zero=oldZero;return;}if(f.fmtFlags.sharp&&!(verb===98)){digits=0;_1=verb;if(_1===118||_1===103||_1===71){digits=prec;if(digits===-1){digits=6;}}tailBuf=arrayType$2.zero();tail=$subslice(new sliceType$2(tailBuf),0,0);hasDecimalPoint=false;i=1;while(true){if(!(i<num.$length)){break;}_2=i<0||i>=num.$length?($throwRuntimeError("index out of range"),undefined):num.$array[num.$offset+i];if(_2===46){hasDecimalPoint=true;}else if(_2===101||_2===69){tail=$appendSlice(tail,$subslice(num,i));num=$subslice(num,0,i);}else{digits=digits-1>>0;}i=i+1>>0;}if(!hasDecimalPoint){num=$append(num,46);}while(true){if(!(digits>0)){break;}num=$append(num,48);digits=digits-1>>0;}num=$appendSlice(num,tail);}if(f.fmtFlags.plus||!((0>=num.$length?($throwRuntimeError("index out of range"),undefined):num.$array[num.$offset+0])===43)){if(f.fmtFlags.zero&&f.fmtFlags.widPresent&&f.wid>num.$length){f.buf.WriteByte(0>=num.$length?($throwRuntimeError("index out of range"),undefined):num.$array[num.$offset+0]);f.writePadding(f.wid-num.$length>>0);f.buf.Write($subslice(num,1));return;}f.pad(num);return;}f.pad($subslice(num,1));};fmt.prototype.fmtFloat=function(v,size,verb,prec){return this.$val.fmtFloat(v,size,verb,prec);};$ptrType(buffer).prototype.Write=function(p){var b,p;b=this;b.$set($appendSlice(b.$get(),p));};$ptrType(buffer).prototype.WriteString=function(s){var b,s;b=this;b.$set($appendSlice(b.$get(),s));};$ptrType(buffer).prototype.WriteByte=function(c){var b,c;b=this;b.$set($append(b.$get(),c));};$ptrType(buffer).prototype.WriteRune=function(r){var b,bp,n,r,w,x;bp=this;if(r<128){bp.$set($append(bp.$get(),r<<24>>>24));return;}b=bp.$get();n=b.$length;while(true){if(!(n+4>>0>b.$capacity)){break;}b=$append(b,0);}w=utf8.EncodeRune((x=$subslice(b,n,n+4>>0),$subslice(new sliceType$2(x.$array),x.$offset,x.$offset+x.$length)),r);bp.$set($subslice(b,0,n+w>>0));};newPrinter=function(){var _r,p,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;p=$f.p;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=ppFree.Get();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}p=$assertType(_r,ptrType$2);p.panicking=false;p.erroring=false;p.fmt.init(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p)));$s=-1;return p;/* */}return;}if($f===undefined){$f={$blk:newPrinter};}$f._r=_r;$f.p=p;$f.$s=$s;$f.$r=$r;return $f;};pp.ptr.prototype.free=function(){var p;p=this;if(p.buf.$capacity>65536){return;}p.buf=$subslice(p.buf,0,0);p.arg=$ifaceNil;p.value=new reflect.Value.ptr(ptrType.nil,0,0);ppFree.Put(p);};pp.prototype.free=function(){return this.$val.free();};pp.ptr.prototype.Width=function(){var _tmp,_tmp$1,ok,p,wid;wid=0;ok=false;p=this;_tmp=p.fmt.wid;_tmp$1=p.fmt.fmtFlags.widPresent;wid=_tmp;ok=_tmp$1;return[wid,ok];};pp.prototype.Width=function(){return this.$val.Width();};pp.ptr.prototype.Precision=function(){var _tmp,_tmp$1,ok,p,prec;prec=0;ok=false;p=this;_tmp=p.fmt.prec;_tmp$1=p.fmt.fmtFlags.precPresent;prec=_tmp;ok=_tmp$1;return[prec,ok];};pp.prototype.Precision=function(){return this.$val.Precision();};pp.ptr.prototype.Flag=function(b){var _1,b,p;p=this;_1=b;if(_1===45){return p.fmt.fmtFlags.minus;}else if(_1===43){return p.fmt.fmtFlags.plus||p.fmt.fmtFlags.plusV;}else if(_1===35){return p.fmt.fmtFlags.sharp||p.fmt.fmtFlags.sharpV;}else if(_1===32){return p.fmt.fmtFlags.space;}else if(_1===48){return p.fmt.fmtFlags.zero;}return false;};pp.prototype.Flag=function(b){return this.$val.Flag(b);};pp.ptr.prototype.Write=function(b){var _tmp,_tmp$1,b,err,p,ret;ret=0;err=$ifaceNil;p=this;(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).Write(b);_tmp=b.$length;_tmp$1=$ifaceNil;ret=_tmp;err=_tmp$1;return[ret,err];};pp.prototype.Write=function(b){return this.$val.Write(b);};pp.ptr.prototype.WriteString=function(s){var _tmp,_tmp$1,err,p,ret,s;ret=0;err=$ifaceNil;p=this;(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteString(s);_tmp=s.length;_tmp$1=$ifaceNil;ret=_tmp;err=_tmp$1;return[ret,err];};pp.prototype.WriteString=function(s){return this.$val.WriteString(s);};Fprintf=function(w,format,a){var _r,_r$1,_tuple,a,err,format,n,p,w,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_tuple=$f._tuple;a=$f.a;err=$f.err;format=$f.format;n=$f.n;p=$f.p;w=$f.w;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:n=0;err=$ifaceNil;_r=newPrinter();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}p=_r;$r=p.doPrintf(format,a);/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}_r$1=w.Write((x=p.buf,$subslice(new sliceType$2(x.$array),x.$offset,x.$offset+x.$length)));/* */$s=3;case 3:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple=_r$1;n=_tuple[0];err=_tuple[1];p.free();$s=-1;return[n,err];/* */}return;}if($f===undefined){$f={$blk:Fprintf};}$f._r=_r;$f._r$1=_r$1;$f._tuple=_tuple;$f.a=a;$f.err=err;$f.format=format;$f.n=n;$f.p=p;$f.w=w;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};$pkg.Fprintf=Fprintf;Printf=function(format,a){var _r,_tuple,a,err,format,n,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tuple=$f._tuple;a=$f.a;err=$f.err;format=$f.format;n=$f.n;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:n=0;err=$ifaceNil;_r=Fprintf(os.Stdout,format,a);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;n=_tuple[0];err=_tuple[1];$s=-1;return[n,err];/* */}return;}if($f===undefined){$f={$blk:Printf};}$f._r=_r;$f._tuple=_tuple;$f.a=a;$f.err=err;$f.format=format;$f.n=n;$f.$s=$s;$f.$r=$r;return $f;};$pkg.Printf=Printf;Sprintf=function(format,a){var _r,a,format,p,s,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;a=$f.a;format=$f.format;p=$f.p;s=$f.s;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=newPrinter();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}p=_r;$r=p.doPrintf(format,a);/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}s=$bytesToString(p.buf);p.free();$s=-1;return s;/* */}return;}if($f===undefined){$f={$blk:Sprintf};}$f._r=_r;$f.a=a;$f.format=format;$f.p=p;$f.s=s;$f.$s=$s;$f.$r=$r;return $f;};$pkg.Sprintf=Sprintf;Errorf=function(format,a){var _r,_r$1,a,format,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;a=$f.a;format=$f.format;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=Sprintf(format,a);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_r$1=errors.New(_r);/* */$s=2;case 2:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}$s=-1;return _r$1;/* */}return;}if($f===undefined){$f={$blk:Errorf};}$f._r=_r;$f._r$1=_r$1;$f.a=a;$f.format=format;$f.$s=$s;$f.$r=$r;return $f;};$pkg.Errorf=Errorf;Fprint=function(w,a){var _r,_r$1,_tuple,a,err,n,p,w,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_tuple=$f._tuple;a=$f.a;err=$f.err;n=$f.n;p=$f.p;w=$f.w;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:n=0;err=$ifaceNil;_r=newPrinter();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}p=_r;$r=p.doPrint(a);/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}_r$1=w.Write((x=p.buf,$subslice(new sliceType$2(x.$array),x.$offset,x.$offset+x.$length)));/* */$s=3;case 3:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple=_r$1;n=_tuple[0];err=_tuple[1];p.free();$s=-1;return[n,err];/* */}return;}if($f===undefined){$f={$blk:Fprint};}$f._r=_r;$f._r$1=_r$1;$f._tuple=_tuple;$f.a=a;$f.err=err;$f.n=n;$f.p=p;$f.w=w;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};$pkg.Fprint=Fprint;Print=function(a){var _r,_tuple,a,err,n,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tuple=$f._tuple;a=$f.a;err=$f.err;n=$f.n;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:n=0;err=$ifaceNil;_r=Fprint(os.Stdout,a);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;n=_tuple[0];err=_tuple[1];$s=-1;return[n,err];/* */}return;}if($f===undefined){$f={$blk:Print};}$f._r=_r;$f._tuple=_tuple;$f.a=a;$f.err=err;$f.n=n;$f.$s=$s;$f.$r=$r;return $f;};$pkg.Print=Print;Fprintln=function(w,a){var _r,_r$1,_tuple,a,err,n,p,w,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_tuple=$f._tuple;a=$f.a;err=$f.err;n=$f.n;p=$f.p;w=$f.w;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:n=0;err=$ifaceNil;_r=newPrinter();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}p=_r;$r=p.doPrintln(a);/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}_r$1=w.Write((x=p.buf,$subslice(new sliceType$2(x.$array),x.$offset,x.$offset+x.$length)));/* */$s=3;case 3:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple=_r$1;n=_tuple[0];err=_tuple[1];p.free();$s=-1;return[n,err];/* */}return;}if($f===undefined){$f={$blk:Fprintln};}$f._r=_r;$f._r$1=_r$1;$f._tuple=_tuple;$f.a=a;$f.err=err;$f.n=n;$f.p=p;$f.w=w;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};$pkg.Fprintln=Fprintln;Println=function(a){var _r,_tuple,a,err,n,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tuple=$f._tuple;a=$f.a;err=$f.err;n=$f.n;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:n=0;err=$ifaceNil;_r=Fprintln(os.Stdout,a);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;n=_tuple[0];err=_tuple[1];$s=-1;return[n,err];/* */}return;}if($f===undefined){$f={$blk:Println};}$f._r=_r;$f._tuple=_tuple;$f.a=a;$f.err=err;$f.n=n;$f.$s=$s;$f.$r=$r;return $f;};$pkg.Println=Println;getField=function(v,i){var _r,_r$1,i,v,val,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;i=$f.i;v=$f.v;val=$f.val;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=$clone(v,reflect.Value).Field(i);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}val=_r;/* */if($clone(val,reflect.Value).Kind()===20&&!$clone(val,reflect.Value).IsNil()){$s=2;continue;}/* */$s=3;continue;/* if (($clone(val, reflect.Value).Kind() === 20) && !$clone(val, reflect.Value).IsNil()) { */case 2:_r$1=$clone(val,reflect.Value).Elem();/* */$s=4;case 4:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}val=_r$1;/* } */case 3:$s=-1;return val;/* */}return;}if($f===undefined){$f={$blk:getField};}$f._r=_r;$f._r$1=_r$1;$f.i=i;$f.v=v;$f.val=val;$f.$s=$s;$f.$r=$r;return $f;};tooLarge=function(x){var x;return x>1000000||x<-1000000;};parsenum=function(s,start,end){var _tmp,_tmp$1,_tmp$2,_tmp$3,_tmp$4,_tmp$5,end,isnum,newi,num,s,start;num=0;isnum=false;newi=0;if(start>=end){_tmp=0;_tmp$1=false;_tmp$2=end;num=_tmp;isnum=_tmp$1;newi=_tmp$2;return[num,isnum,newi];}newi=start;while(true){if(!(newi<end&&48<=s.charCodeAt(newi)&&s.charCodeAt(newi)<=57)){break;}if(tooLarge(num)){_tmp$3=0;_tmp$4=false;_tmp$5=end;num=_tmp$3;isnum=_tmp$4;newi=_tmp$5;return[num,isnum,newi];}num=$imul(num,10)+(s.charCodeAt(newi)-48<<24>>>24>>0)>>0;isnum=true;newi=newi+1>>0;}return[num,isnum,newi];};pp.ptr.prototype.unknownType=function(v){var _r,p,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;p=$f.p;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:p=this;if(!$clone(v,reflect.Value).IsValid()){(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteString("<nil>");$s=-1;return;}(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteByte(63);_r=$clone(v,reflect.Value).Type().String();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$r=(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteString(_r);/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteByte(63);$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:pp.ptr.prototype.unknownType};}$f._r=_r;$f.p=p;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};pp.prototype.unknownType=function(v){return this.$val.unknownType(v);};pp.ptr.prototype.badVerb=function(verb){var _r,_r$1,p,verb,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;p=$f.p;verb=$f.verb;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:p=this;p.erroring=true;(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteString("%!");(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteRune(verb);(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteByte(40);/* */if(!$interfaceIsEqual(p.arg,$ifaceNil)){$s=2;continue;}/* */if($clone(p.value,reflect.Value).IsValid()){$s=3;continue;}/* */$s=4;continue;/* if (!($interfaceIsEqual(p.arg, $ifaceNil))) { */case 2:_r=reflect.TypeOf(p.arg).String();/* */$s=6;case 6:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$r=(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteString(_r);/* */$s=7;case 7:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteByte(61);$r=p.printArg(p.arg,118);/* */$s=8;case 8:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=5;continue;/* } else if ($clone(p.value, reflect.Value).IsValid()) { */case 3:_r$1=$clone(p.value,reflect.Value).Type().String();/* */$s=9;case 9:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}$r=(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteString(_r$1);/* */$s=10;case 10:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteByte(61);$r=p.printValue($clone(p.value,reflect.Value),118,0);/* */$s=11;case 11:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=5;continue;/* } else { */case 4:(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteString("<nil>");/* } */case 5:case 1:(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteByte(41);p.erroring=false;$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:pp.ptr.prototype.badVerb};}$f._r=_r;$f._r$1=_r$1;$f.p=p;$f.verb=verb;$f.$s=$s;$f.$r=$r;return $f;};pp.prototype.badVerb=function(verb){return this.$val.badVerb(verb);};pp.ptr.prototype.fmtBool=function(v,verb){var _1,p,v,verb,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;p=$f.p;v=$f.v;verb=$f.verb;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:p=this;_1=verb;/* */if(_1===116||_1===118){$s=2;continue;}/* */$s=3;continue;/* if ((_1 === (116)) || (_1 === (118))) { */case 2:p.fmt.fmtBoolean(v);$s=4;continue;/* } else { */case 3:$r=p.badVerb(verb);/* */$s=5;case 5:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 4:case 1:$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:pp.ptr.prototype.fmtBool};}$f._1=_1;$f.p=p;$f.v=v;$f.verb=verb;$f.$s=$s;$f.$r=$r;return $f;};pp.prototype.fmtBool=function(v,verb){return this.$val.fmtBool(v,verb);};pp.ptr.prototype.fmt0x64=function(v,leading0x){var leading0x,p,sharp,v;p=this;sharp=p.fmt.fmtFlags.sharp;p.fmt.fmtFlags.sharp=leading0x;p.fmt.fmtInteger(v,16,false,"0123456789abcdefx");p.fmt.fmtFlags.sharp=sharp;};pp.prototype.fmt0x64=function(v,leading0x){return this.$val.fmt0x64(v,leading0x);};pp.ptr.prototype.fmtInteger=function(v,isSigned,verb){var _1,isSigned,p,v,verb,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;isSigned=$f.isSigned;p=$f.p;v=$f.v;verb=$f.verb;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:p=this;_1=verb;/* */if(_1===118){$s=2;continue;}/* */if(_1===100){$s=3;continue;}/* */if(_1===98){$s=4;continue;}/* */if(_1===111){$s=5;continue;}/* */if(_1===120){$s=6;continue;}/* */if(_1===88){$s=7;continue;}/* */if(_1===99){$s=8;continue;}/* */if(_1===113){$s=9;continue;}/* */if(_1===85){$s=10;continue;}/* */$s=11;continue;/* if (_1 === (118)) { */case 2:if(p.fmt.fmtFlags.sharpV&&!isSigned){p.fmt0x64(v,true);}else{p.fmt.fmtInteger(v,10,isSigned,"0123456789abcdefx");}$s=12;continue;/* } else if (_1 === (100)) { */case 3:p.fmt.fmtInteger(v,10,isSigned,"0123456789abcdefx");$s=12;continue;/* } else if (_1 === (98)) { */case 4:p.fmt.fmtInteger(v,2,isSigned,"0123456789abcdefx");$s=12;continue;/* } else if (_1 === (111)) { */case 5:p.fmt.fmtInteger(v,8,isSigned,"0123456789abcdefx");$s=12;continue;/* } else if (_1 === (120)) { */case 6:p.fmt.fmtInteger(v,16,isSigned,"0123456789abcdefx");$s=12;continue;/* } else if (_1 === (88)) { */case 7:p.fmt.fmtInteger(v,16,isSigned,"0123456789ABCDEFX");$s=12;continue;/* } else if (_1 === (99)) { */case 8:p.fmt.fmtC(v);$s=12;continue;/* } else if (_1 === (113)) { */case 9:/* */if(v.$high<0||v.$high===0&&v.$low<=1114111){$s=13;continue;}/* */$s=14;continue;/* if ((v.$high < 0 || (v.$high === 0 && v.$low <= 1114111))) { */case 13:p.fmt.fmtQc(v);$s=15;continue;/* } else { */case 14:$r=p.badVerb(verb);/* */$s=16;case 16:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 15:$s=12;continue;/* } else if (_1 === (85)) { */case 10:p.fmt.fmtUnicode(v);$s=12;continue;/* } else { */case 11:$r=p.badVerb(verb);/* */$s=17;case 17:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 12:case 1:$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:pp.ptr.prototype.fmtInteger};}$f._1=_1;$f.isSigned=isSigned;$f.p=p;$f.v=v;$f.verb=verb;$f.$s=$s;$f.$r=$r;return $f;};pp.prototype.fmtInteger=function(v,isSigned,verb){return this.$val.fmtInteger(v,isSigned,verb);};pp.ptr.prototype.fmtFloat=function(v,size,verb){var _1,p,size,v,verb,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;p=$f.p;size=$f.size;v=$f.v;verb=$f.verb;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:p=this;_1=verb;/* */if(_1===118){$s=2;continue;}/* */if(_1===98||_1===103||_1===71){$s=3;continue;}/* */if(_1===102||_1===101||_1===69){$s=4;continue;}/* */if(_1===70){$s=5;continue;}/* */$s=6;continue;/* if (_1 === (118)) { */case 2:p.fmt.fmtFloat(v,size,103,-1);$s=7;continue;/* } else if ((_1 === (98)) || (_1 === (103)) || (_1 === (71))) { */case 3:p.fmt.fmtFloat(v,size,verb,-1);$s=7;continue;/* } else if ((_1 === (102)) || (_1 === (101)) || (_1 === (69))) { */case 4:p.fmt.fmtFloat(v,size,verb,6);$s=7;continue;/* } else if (_1 === (70)) { */case 5:p.fmt.fmtFloat(v,size,102,6);$s=7;continue;/* } else { */case 6:$r=p.badVerb(verb);/* */$s=8;case 8:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 7:case 1:$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:pp.ptr.prototype.fmtFloat};}$f._1=_1;$f.p=p;$f.size=size;$f.v=v;$f.verb=verb;$f.$s=$s;$f.$r=$r;return $f;};pp.prototype.fmtFloat=function(v,size,verb){return this.$val.fmtFloat(v,size,verb);};pp.ptr.prototype.fmtComplex=function(v,size,verb){var _1,_q,_q$1,oldPlus,p,size,v,verb,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_q=$f._q;_q$1=$f._q$1;oldPlus=$f.oldPlus;p=$f.p;size=$f.size;v=$f.v;verb=$f.verb;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:p=this;_1=verb;/* */if(_1===118||_1===98||_1===103||_1===71||_1===102||_1===70||_1===101||_1===69){$s=2;continue;}/* */$s=3;continue;/* if ((_1 === (118)) || (_1 === (98)) || (_1 === (103)) || (_1 === (71)) || (_1 === (102)) || (_1 === (70)) || (_1 === (101)) || (_1 === (69))) { */case 2:oldPlus=p.fmt.fmtFlags.plus;(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteByte(40);$r=p.fmtFloat(v.$real,(_q=size/2,_q===_q&&_q!==1/0&&_q!==-1/0?_q>>0:$throwRuntimeError("integer divide by zero")),verb);/* */$s=5;case 5:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}p.fmt.fmtFlags.plus=true;$r=p.fmtFloat(v.$imag,(_q$1=size/2,_q$1===_q$1&&_q$1!==1/0&&_q$1!==-1/0?_q$1>>0:$throwRuntimeError("integer divide by zero")),verb);/* */$s=6;case 6:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteString("i)");p.fmt.fmtFlags.plus=oldPlus;$s=4;continue;/* } else { */case 3:$r=p.badVerb(verb);/* */$s=7;case 7:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 4:case 1:$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:pp.ptr.prototype.fmtComplex};}$f._1=_1;$f._q=_q;$f._q$1=_q$1;$f.oldPlus=oldPlus;$f.p=p;$f.size=size;$f.v=v;$f.verb=verb;$f.$s=$s;$f.$r=$r;return $f;};pp.prototype.fmtComplex=function(v,size,verb){return this.$val.fmtComplex(v,size,verb);};pp.ptr.prototype.fmtString=function(v,verb){var _1,p,v,verb,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;p=$f.p;v=$f.v;verb=$f.verb;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:p=this;_1=verb;/* */if(_1===118){$s=2;continue;}/* */if(_1===115){$s=3;continue;}/* */if(_1===120){$s=4;continue;}/* */if(_1===88){$s=5;continue;}/* */if(_1===113){$s=6;continue;}/* */$s=7;continue;/* if (_1 === (118)) { */case 2:if(p.fmt.fmtFlags.sharpV){p.fmt.fmtQ(v);}else{p.fmt.fmtS(v);}$s=8;continue;/* } else if (_1 === (115)) { */case 3:p.fmt.fmtS(v);$s=8;continue;/* } else if (_1 === (120)) { */case 4:p.fmt.fmtSx(v,"0123456789abcdefx");$s=8;continue;/* } else if (_1 === (88)) { */case 5:p.fmt.fmtSx(v,"0123456789ABCDEFX");$s=8;continue;/* } else if (_1 === (113)) { */case 6:p.fmt.fmtQ(v);$s=8;continue;/* } else { */case 7:$r=p.badVerb(verb);/* */$s=9;case 9:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 8:case 1:$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:pp.ptr.prototype.fmtString};}$f._1=_1;$f.p=p;$f.v=v;$f.verb=verb;$f.$s=$s;$f.$r=$r;return $f;};pp.prototype.fmtString=function(v,verb){return this.$val.fmtString(v,verb);};pp.ptr.prototype.fmtBytes=function(v,verb,typeString){var _1,_i,_i$1,_r,_ref,_ref$1,c,c$1,i,i$1,p,typeString,v,verb,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_i=$f._i;_i$1=$f._i$1;_r=$f._r;_ref=$f._ref;_ref$1=$f._ref$1;c=$f.c;c$1=$f.c$1;i=$f.i;i$1=$f.i$1;p=$f.p;typeString=$f.typeString;v=$f.v;verb=$f.verb;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:p=this;_1=verb;/* */if(_1===118||_1===100){$s=2;continue;}/* */if(_1===115){$s=3;continue;}/* */if(_1===120){$s=4;continue;}/* */if(_1===88){$s=5;continue;}/* */if(_1===113){$s=6;continue;}/* */$s=7;continue;/* if ((_1 === (118)) || (_1 === (100))) { */case 2:if(p.fmt.fmtFlags.sharpV){(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteString(typeString);if(v===sliceType$2.nil){(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteString("(nil)");$s=-1;return;}(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteByte(123);_ref=v;_i=0;while(true){if(!(_i<_ref.$length)){break;}i=_i;c=_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i];if(i>0){(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteString(", ");}p.fmt0x64(new $Uint64(0,c),true);_i++;}(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteByte(125);}else{(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteByte(91);_ref$1=v;_i$1=0;while(true){if(!(_i$1<_ref$1.$length)){break;}i$1=_i$1;c$1=_i$1<0||_i$1>=_ref$1.$length?($throwRuntimeError("index out of range"),undefined):_ref$1.$array[_ref$1.$offset+_i$1];if(i$1>0){(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteByte(32);}p.fmt.fmtInteger(new $Uint64(0,c$1),10,false,"0123456789abcdefx");_i$1++;}(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteByte(93);}$s=8;continue;/* } else if (_1 === (115)) { */case 3:p.fmt.fmtBs(v);$s=8;continue;/* } else if (_1 === (120)) { */case 4:p.fmt.fmtBx(v,"0123456789abcdefx");$s=8;continue;/* } else if (_1 === (88)) { */case 5:p.fmt.fmtBx(v,"0123456789ABCDEFX");$s=8;continue;/* } else if (_1 === (113)) { */case 6:p.fmt.fmtQ($bytesToString(v));$s=8;continue;/* } else { */case 7:_r=reflect.ValueOf(v);/* */$s=9;case 9:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$r=p.printValue($clone(_r,reflect.Value),verb,0);/* */$s=10;case 10:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 8:case 1:$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:pp.ptr.prototype.fmtBytes};}$f._1=_1;$f._i=_i;$f._i$1=_i$1;$f._r=_r;$f._ref=_ref;$f._ref$1=_ref$1;$f.c=c;$f.c$1=c$1;$f.i=i;$f.i$1=i$1;$f.p=p;$f.typeString=typeString;$f.v=v;$f.verb=verb;$f.$s=$s;$f.$r=$r;return $f;};pp.prototype.fmtBytes=function(v,verb,typeString){return this.$val.fmtBytes(v,verb,typeString);};pp.ptr.prototype.fmtPointer=function(value,verb){var _1,_2,_r,p,u,value,verb,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_2=$f._2;_r=$f._r;p=$f.p;u=$f.u;value=$f.value;verb=$f.verb;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:p=this;u=0;_1=$clone(value,reflect.Value).Kind();/* */if(_1===18||_1===19||_1===21||_1===22||_1===23||_1===26){$s=2;continue;}/* */$s=3;continue;/* if ((_1 === (18)) || (_1 === (19)) || (_1 === (21)) || (_1 === (22)) || (_1 === (23)) || (_1 === (26))) { */case 2:u=$clone(value,reflect.Value).Pointer();$s=4;continue;/* } else { */case 3:$r=p.badVerb(verb);/* */$s=5;case 5:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return;/* } */case 4:case 1:_2=verb;/* */if(_2===118){$s=7;continue;}/* */if(_2===112){$s=8;continue;}/* */if(_2===98||_2===111||_2===100||_2===120||_2===88){$s=9;continue;}/* */$s=10;continue;/* if (_2 === (118)) { */case 7:/* */if(p.fmt.fmtFlags.sharpV){$s=12;continue;}/* */$s=13;continue;/* if (p.fmt.fmtFlags.sharpV) { */case 12:(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteByte(40);_r=$clone(value,reflect.Value).Type().String();/* */$s=15;case 15:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$r=(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteString(_r);/* */$s=16;case 16:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteString(")(");if(u===0){(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteString("nil");}else{p.fmt0x64(new $Uint64(0,u.constructor===Number?u:1),true);}(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteByte(41);$s=14;continue;/* } else { */case 13:if(u===0){p.fmt.padString("<nil>");}else{p.fmt0x64(new $Uint64(0,u.constructor===Number?u:1),!p.fmt.fmtFlags.sharp);}/* } */case 14:$s=11;continue;/* } else if (_2 === (112)) { */case 8:p.fmt0x64(new $Uint64(0,u.constructor===Number?u:1),!p.fmt.fmtFlags.sharp);$s=11;continue;/* } else if ((_2 === (98)) || (_2 === (111)) || (_2 === (100)) || (_2 === (120)) || (_2 === (88))) { */case 9:$r=p.fmtInteger(new $Uint64(0,u.constructor===Number?u:1),false,verb);/* */$s=17;case 17:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=11;continue;/* } else { */case 10:$r=p.badVerb(verb);/* */$s=18;case 18:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 11:case 6:$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:pp.ptr.prototype.fmtPointer};}$f._1=_1;$f._2=_2;$f._r=_r;$f.p=p;$f.u=u;$f.value=value;$f.verb=verb;$f.$s=$s;$f.$r=$r;return $f;};pp.prototype.fmtPointer=function(value,verb){return this.$val.fmtPointer(value,verb);};pp.ptr.prototype.catchPanic=function(arg,verb,method){var _r,arg,err,method,oldFlags,p,v,verb,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;arg=$f.arg;err=$f.err;method=$f.method;oldFlags=$f.oldFlags;p=$f.p;v=$f.v;verb=$f.verb;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:p=this;err=$recover();/* */if(!$interfaceIsEqual(err,$ifaceNil)){$s=1;continue;}/* */$s=2;continue;/* if (!($interfaceIsEqual(err, $ifaceNil))) { */case 1:_r=reflect.ValueOf(arg);/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}v=_r;if($clone(v,reflect.Value).Kind()===22&&$clone(v,reflect.Value).IsNil()){(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteString("<nil>");$s=-1;return;}if(p.panicking){$panic(err);}oldFlags=$clone(p.fmt.fmtFlags,fmtFlags);p.fmt.clearflags();(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteString("%!");(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteRune(verb);(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteString("(PANIC=");(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteString(method);(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteString(" method: ");p.panicking=true;$r=p.printArg(err,118);/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}p.panicking=false;(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteByte(41);fmtFlags.copy(p.fmt.fmtFlags,oldFlags);/* } */case 2:$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:pp.ptr.prototype.catchPanic};}$f._r=_r;$f.arg=arg;$f.err=err;$f.method=method;$f.oldFlags=oldFlags;$f.p=p;$f.v=v;$f.verb=verb;$f.$s=$s;$f.$r=$r;return $f;};pp.prototype.catchPanic=function(arg,verb,method){return this.$val.catchPanic(arg,verb,method);};pp.ptr.prototype.handleMethods=function(verb){var _1,_r,_r$1,_r$2,_ref,_tuple,_tuple$1,formatter,handled,ok,ok$1,p,stringer,v,v$1,verb,$s,$deferred,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_ref=$f._ref;_tuple=$f._tuple;_tuple$1=$f._tuple$1;formatter=$f.formatter;handled=$f.handled;ok=$f.ok;ok$1=$f.ok$1;p=$f.p;stringer=$f.stringer;v=$f.v;v$1=$f.v$1;verb=$f.verb;$s=$f.$s;$deferred=$f.$deferred;$r=$f.$r;}var $err=null;try{s:while(true){switch($s){case 0:$deferred=[];$deferred.index=$curGoroutine.deferStack.length;$curGoroutine.deferStack.push($deferred);handled=false;p=this;if(p.erroring){$s=-1;return handled;}_tuple=$assertType(p.arg,Formatter,true);formatter=_tuple[0];ok=_tuple[1];/* */if(ok){$s=1;continue;}/* */$s=2;continue;/* if (ok) { */case 1:handled=true;$deferred.push([$methodVal(p,"catchPanic"),[p.arg,verb,"Format"]]);$r=formatter.Format(p,verb);/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return handled;/* } */case 2:/* */if(p.fmt.fmtFlags.sharpV){$s=4;continue;}/* */$s=5;continue;/* if (p.fmt.fmtFlags.sharpV) { */case 4:_tuple$1=$assertType(p.arg,GoStringer,true);stringer=_tuple$1[0];ok$1=_tuple$1[1];/* */if(ok$1){$s=7;continue;}/* */$s=8;continue;/* if (ok$1) { */case 7:handled=true;$deferred.push([$methodVal(p,"catchPanic"),[p.arg,verb,"GoString"]]);_r=stringer.GoString();/* */$s=9;case 9:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$r=p.fmt.fmtS(_r);/* */$s=10;case 10:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return handled;/* } */case 8:$s=6;continue;/* } else { */case 5:_1=verb;/* */if(_1===118||_1===115||_1===120||_1===88||_1===113){$s=12;continue;}/* */$s=13;continue;/* if ((_1 === (118)) || (_1 === (115)) || (_1 === (120)) || (_1 === (88)) || (_1 === (113))) { */case 12:_ref=p.arg;/* */if($assertType(_ref,$error,true)[1]){$s=14;continue;}/* */if($assertType(_ref,Stringer,true)[1]){$s=15;continue;}/* */$s=16;continue;/* if ($assertType(_ref, $error, true)[1]) { */case 14:v=_ref;handled=true;$deferred.push([$methodVal(p,"catchPanic"),[p.arg,verb,"Error"]]);_r$1=v.Error();/* */$s=17;case 17:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}$r=p.fmtString(_r$1,verb);/* */$s=18;case 18:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return handled;/* } else if ($assertType(_ref, Stringer, true)[1]) { */case 15:v$1=_ref;handled=true;$deferred.push([$methodVal(p,"catchPanic"),[p.arg,verb,"String"]]);_r$2=v$1.String();/* */$s=19;case 19:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}$r=p.fmtString(_r$2,verb);/* */$s=20;case 20:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return handled;/* } */case 16:/* } */case 13:case 11:/* } */case 6:handled=false;$s=-1;return handled;/* */}return;}}catch(err){$err=err;$s=-1;}finally{$callDeferred($deferred,$err);if(!$curGoroutine.asleep){return handled;}if($curGoroutine.asleep){if($f===undefined){$f={$blk:pp.ptr.prototype.handleMethods};}$f._1=_1;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._ref=_ref;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f.formatter=formatter;$f.handled=handled;$f.ok=ok;$f.ok$1=ok$1;$f.p=p;$f.stringer=stringer;$f.v=v;$f.v$1=v$1;$f.verb=verb;$f.$s=$s;$f.$deferred=$deferred;$f.$r=$r;return $f;}}};pp.prototype.handleMethods=function(verb){return this.$val.handleMethods(verb);};pp.ptr.prototype.printArg=function(arg,verb){var _1,_2,_r,_r$1,_r$2,_r$3,_r$4,_r$5,_ref,arg,f,f$1,f$10,f$11,f$12,f$13,f$14,f$15,f$16,f$17,f$18,f$19,f$2,f$3,f$4,f$5,f$6,f$7,f$8,f$9,p,verb,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_2=$f._2;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_ref=$f._ref;arg=$f.arg;f=$f.f;f$1=$f.f$1;f$10=$f.f$10;f$11=$f.f$11;f$12=$f.f$12;f$13=$f.f$13;f$14=$f.f$14;f$15=$f.f$15;f$16=$f.f$16;f$17=$f.f$17;f$18=$f.f$18;f$19=$f.f$19;f$2=$f.f$2;f$3=$f.f$3;f$4=$f.f$4;f$5=$f.f$5;f$6=$f.f$6;f$7=$f.f$7;f$8=$f.f$8;f$9=$f.f$9;p=$f.p;verb=$f.verb;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:p=this;p.arg=arg;p.value=new reflect.Value.ptr(ptrType.nil,0,0);/* */if($interfaceIsEqual(arg,$ifaceNil)){$s=1;continue;}/* */$s=2;continue;/* if ($interfaceIsEqual(arg, $ifaceNil)) { */case 1:_1=verb;/* */if(_1===84||_1===118){$s=4;continue;}/* */$s=5;continue;/* if ((_1 === (84)) || (_1 === (118))) { */case 4:p.fmt.padString("<nil>");$s=6;continue;/* } else { */case 5:$r=p.badVerb(verb);/* */$s=7;case 7:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 6:case 3:$s=-1;return;/* } */case 2:_2=verb;/* */if(_2===84){$s=9;continue;}/* */if(_2===112){$s=10;continue;}/* */$s=11;continue;/* if (_2 === (84)) { */case 9:_r=reflect.TypeOf(arg).String();/* */$s=12;case 12:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$r=p.fmt.fmtS(_r);/* */$s=13;case 13:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return;/* } else if (_2 === (112)) { */case 10:_r$1=reflect.ValueOf(arg);/* */$s=14;case 14:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}$r=p.fmtPointer($clone(_r$1,reflect.Value),112);/* */$s=15;case 15:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return;/* } */case 11:case 8:_ref=arg;/* */if($assertType(_ref,$Bool,true)[1]){$s=16;continue;}/* */if($assertType(_ref,$Float32,true)[1]){$s=17;continue;}/* */if($assertType(_ref,$Float64,true)[1]){$s=18;continue;}/* */if($assertType(_ref,$Complex64,true)[1]){$s=19;continue;}/* */if($assertType(_ref,$Complex128,true)[1]){$s=20;continue;}/* */if($assertType(_ref,$Int,true)[1]){$s=21;continue;}/* */if($assertType(_ref,$Int8,true)[1]){$s=22;continue;}/* */if($assertType(_ref,$Int16,true)[1]){$s=23;continue;}/* */if($assertType(_ref,$Int32,true)[1]){$s=24;continue;}/* */if($assertType(_ref,$Int64,true)[1]){$s=25;continue;}/* */if($assertType(_ref,$Uint,true)[1]){$s=26;continue;}/* */if($assertType(_ref,$Uint8,true)[1]){$s=27;continue;}/* */if($assertType(_ref,$Uint16,true)[1]){$s=28;continue;}/* */if($assertType(_ref,$Uint32,true)[1]){$s=29;continue;}/* */if($assertType(_ref,$Uint64,true)[1]){$s=30;continue;}/* */if($assertType(_ref,$Uintptr,true)[1]){$s=31;continue;}/* */if($assertType(_ref,$String,true)[1]){$s=32;continue;}/* */if($assertType(_ref,sliceType$2,true)[1]){$s=33;continue;}/* */if($assertType(_ref,reflect.Value,true)[1]){$s=34;continue;}/* */$s=35;continue;/* if ($assertType(_ref, $Bool, true)[1]) { */case 16:f=_ref.$val;$r=p.fmtBool(f,verb);/* */$s=37;case 37:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=36;continue;/* } else if ($assertType(_ref, $Float32, true)[1]) { */case 17:f$1=_ref.$val;$r=p.fmtFloat(f$1,32,verb);/* */$s=38;case 38:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=36;continue;/* } else if ($assertType(_ref, $Float64, true)[1]) { */case 18:f$2=_ref.$val;$r=p.fmtFloat(f$2,64,verb);/* */$s=39;case 39:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=36;continue;/* } else if ($assertType(_ref, $Complex64, true)[1]) { */case 19:f$3=_ref.$val;$r=p.fmtComplex(new $Complex128(f$3.$real,f$3.$imag),64,verb);/* */$s=40;case 40:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=36;continue;/* } else if ($assertType(_ref, $Complex128, true)[1]) { */case 20:f$4=_ref.$val;$r=p.fmtComplex(f$4,128,verb);/* */$s=41;case 41:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=36;continue;/* } else if ($assertType(_ref, $Int, true)[1]) { */case 21:f$5=_ref.$val;$r=p.fmtInteger(new $Uint64(0,f$5),true,verb);/* */$s=42;case 42:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=36;continue;/* } else if ($assertType(_ref, $Int8, true)[1]) { */case 22:f$6=_ref.$val;$r=p.fmtInteger(new $Uint64(0,f$6),true,verb);/* */$s=43;case 43:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=36;continue;/* } else if ($assertType(_ref, $Int16, true)[1]) { */case 23:f$7=_ref.$val;$r=p.fmtInteger(new $Uint64(0,f$7),true,verb);/* */$s=44;case 44:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=36;continue;/* } else if ($assertType(_ref, $Int32, true)[1]) { */case 24:f$8=_ref.$val;$r=p.fmtInteger(new $Uint64(0,f$8),true,verb);/* */$s=45;case 45:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=36;continue;/* } else if ($assertType(_ref, $Int64, true)[1]) { */case 25:f$9=_ref.$val;$r=p.fmtInteger(new $Uint64(f$9.$high,f$9.$low),true,verb);/* */$s=46;case 46:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=36;continue;/* } else if ($assertType(_ref, $Uint, true)[1]) { */case 26:f$10=_ref.$val;$r=p.fmtInteger(new $Uint64(0,f$10),false,verb);/* */$s=47;case 47:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=36;continue;/* } else if ($assertType(_ref, $Uint8, true)[1]) { */case 27:f$11=_ref.$val;$r=p.fmtInteger(new $Uint64(0,f$11),false,verb);/* */$s=48;case 48:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=36;continue;/* } else if ($assertType(_ref, $Uint16, true)[1]) { */case 28:f$12=_ref.$val;$r=p.fmtInteger(new $Uint64(0,f$12),false,verb);/* */$s=49;case 49:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=36;continue;/* } else if ($assertType(_ref, $Uint32, true)[1]) { */case 29:f$13=_ref.$val;$r=p.fmtInteger(new $Uint64(0,f$13),false,verb);/* */$s=50;case 50:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=36;continue;/* } else if ($assertType(_ref, $Uint64, true)[1]) { */case 30:f$14=_ref.$val;$r=p.fmtInteger(f$14,false,verb);/* */$s=51;case 51:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=36;continue;/* } else if ($assertType(_ref, $Uintptr, true)[1]) { */case 31:f$15=_ref.$val;$r=p.fmtInteger(new $Uint64(0,f$15.constructor===Number?f$15:1),false,verb);/* */$s=52;case 52:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=36;continue;/* } else if ($assertType(_ref, $String, true)[1]) { */case 32:f$16=_ref.$val;$r=p.fmtString(f$16,verb);/* */$s=53;case 53:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=36;continue;/* } else if ($assertType(_ref, sliceType$2, true)[1]) { */case 33:f$17=_ref.$val;$r=p.fmtBytes(f$17,verb,"[]byte");/* */$s=54;case 54:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=36;continue;/* } else if ($assertType(_ref, reflect.Value, true)[1]) { */case 34:f$18=_ref.$val;/* */if($clone(f$18,reflect.Value).IsValid()&&$clone(f$18,reflect.Value).CanInterface()){$s=55;continue;}/* */$s=56;continue;/* if ($clone(f$18, reflect.Value).IsValid() && $clone(f$18, reflect.Value).CanInterface()) { */case 55:_r$2=$clone(f$18,reflect.Value).Interface();/* */$s=57;case 57:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}p.arg=_r$2;_r$3=p.handleMethods(verb);/* */$s=60;case 60:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}/* */if(_r$3){$s=58;continue;}/* */$s=59;continue;/* if (_r$3) { */case 58:$s=-1;return;/* } */case 59:/* } */case 56:$r=p.printValue($clone(f$18,reflect.Value),verb,0);/* */$s=61;case 61:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=36;continue;/* } else { */case 35:f$19=_ref;_r$4=p.handleMethods(verb);/* */$s=64;case 64:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}/* */if(!_r$4){$s=62;continue;}/* */$s=63;continue;/* if (!_r$4) { */case 62:_r$5=reflect.ValueOf(f$19);/* */$s=65;case 65:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}$r=p.printValue($clone(_r$5,reflect.Value),verb,0);/* */$s=66;case 66:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 63:/* } */case 36:$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:pp.ptr.prototype.printArg};}$f._1=_1;$f._2=_2;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._ref=_ref;$f.arg=arg;$f.f=f;$f.f$1=f$1;$f.f$10=f$10;$f.f$11=f$11;$f.f$12=f$12;$f.f$13=f$13;$f.f$14=f$14;$f.f$15=f$15;$f.f$16=f$16;$f.f$17=f$17;$f.f$18=f$18;$f.f$19=f$19;$f.f$2=f$2;$f.f$3=f$3;$f.f$4=f$4;$f.f$5=f$5;$f.f$6=f$6;$f.f$7=f$7;$f.f$8=f$8;$f.f$9=f$9;$f.p=p;$f.verb=verb;$f.$s=$s;$f.$r=$r;return $f;};pp.prototype.printArg=function(arg,verb){return this.$val.printArg(arg,verb);};pp.ptr.prototype.printValue=function(value,verb,depth){var _1,_2,_3,_4,_arg,_arg$1,_arg$2,_i,_i$1,_r,_r$1,_r$10,_r$11,_r$12,_r$13,_r$14,_r$15,_r$16,_r$17,_r$18,_r$19,_r$2,_r$20,_r$21,_r$3,_r$4,_r$5,_r$6,_r$7,_r$8,_r$9,_ref,_ref$1,a,bytes,depth,f,i,i$1,i$2,i$3,i$4,key,name,p,sorted,t,value,value$1,verb,x,x$1,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_2=$f._2;_3=$f._3;_4=$f._4;_arg=$f._arg;_arg$1=$f._arg$1;_arg$2=$f._arg$2;_i=$f._i;_i$1=$f._i$1;_r=$f._r;_r$1=$f._r$1;_r$10=$f._r$10;_r$11=$f._r$11;_r$12=$f._r$12;_r$13=$f._r$13;_r$14=$f._r$14;_r$15=$f._r$15;_r$16=$f._r$16;_r$17=$f._r$17;_r$18=$f._r$18;_r$19=$f._r$19;_r$2=$f._r$2;_r$20=$f._r$20;_r$21=$f._r$21;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_r$7=$f._r$7;_r$8=$f._r$8;_r$9=$f._r$9;_ref=$f._ref;_ref$1=$f._ref$1;a=$f.a;bytes=$f.bytes;depth=$f.depth;f=$f.f;i=$f.i;i$1=$f.i$1;i$2=$f.i$2;i$3=$f.i$3;i$4=$f.i$4;key=$f.key;name=$f.name;p=$f.p;sorted=$f.sorted;t=$f.t;value=$f.value;value$1=$f.value$1;verb=$f.verb;x=$f.x;x$1=$f.x$1;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:p=this;/* */if(depth>0&&$clone(value,reflect.Value).IsValid()&&$clone(value,reflect.Value).CanInterface()){$s=1;continue;}/* */$s=2;continue;/* if (depth > 0 && $clone(value, reflect.Value).IsValid() && $clone(value, reflect.Value).CanInterface()) { */case 1:_r=$clone(value,reflect.Value).Interface();/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}p.arg=_r;_r$1=p.handleMethods(verb);/* */$s=6;case 6:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}/* */if(_r$1){$s=4;continue;}/* */$s=5;continue;/* if (_r$1) { */case 4:$s=-1;return;/* } */case 5:/* } */case 2:p.arg=$ifaceNil;p.value=value;f=value;_1=$clone(value,reflect.Value).Kind();/* */if(_1===0){$s=8;continue;}/* */if(_1===1){$s=9;continue;}/* */if(_1===2||_1===3||_1===4||_1===5||_1===6){$s=10;continue;}/* */if(_1===7||_1===8||_1===9||_1===10||_1===11||_1===12){$s=11;continue;}/* */if(_1===13){$s=12;continue;}/* */if(_1===14){$s=13;continue;}/* */if(_1===15){$s=14;continue;}/* */if(_1===16){$s=15;continue;}/* */if(_1===24){$s=16;continue;}/* */if(_1===21){$s=17;continue;}/* */if(_1===25){$s=18;continue;}/* */if(_1===20){$s=19;continue;}/* */if(_1===17||_1===23){$s=20;continue;}/* */if(_1===22){$s=21;continue;}/* */if(_1===18||_1===19||_1===26){$s=22;continue;}/* */$s=23;continue;/* if (_1 === (0)) { */case 8:/* */if(depth===0){$s=25;continue;}/* */$s=26;continue;/* if (depth === 0) { */case 25:(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteString("<invalid reflect.Value>");$s=27;continue;/* } else { */case 26:_2=verb;/* */if(_2===118){$s=29;continue;}/* */$s=30;continue;/* if (_2 === (118)) { */case 29:(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteString("<nil>");$s=31;continue;/* } else { */case 30:$r=p.badVerb(verb);/* */$s=32;case 32:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 31:case 28:/* } */case 27:$s=24;continue;/* } else if (_1 === (1)) { */case 9:$r=p.fmtBool($clone(f,reflect.Value).Bool(),verb);/* */$s=33;case 33:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=24;continue;/* } else if ((_1 === (2)) || (_1 === (3)) || (_1 === (4)) || (_1 === (5)) || (_1 === (6))) { */case 10:$r=p.fmtInteger((x=$clone(f,reflect.Value).Int(),new $Uint64(x.$high,x.$low)),true,verb);/* */$s=34;case 34:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=24;continue;/* } else if ((_1 === (7)) || (_1 === (8)) || (_1 === (9)) || (_1 === (10)) || (_1 === (11)) || (_1 === (12))) { */case 11:$r=p.fmtInteger($clone(f,reflect.Value).Uint(),false,verb);/* */$s=35;case 35:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=24;continue;/* } else if (_1 === (13)) { */case 12:$r=p.fmtFloat($clone(f,reflect.Value).Float(),32,verb);/* */$s=36;case 36:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=24;continue;/* } else if (_1 === (14)) { */case 13:$r=p.fmtFloat($clone(f,reflect.Value).Float(),64,verb);/* */$s=37;case 37:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=24;continue;/* } else if (_1 === (15)) { */case 14:$r=p.fmtComplex($clone(f,reflect.Value).Complex(),64,verb);/* */$s=38;case 38:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=24;continue;/* } else if (_1 === (16)) { */case 15:$r=p.fmtComplex($clone(f,reflect.Value).Complex(),128,verb);/* */$s=39;case 39:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=24;continue;/* } else if (_1 === (24)) { */case 16:_r$2=$clone(f,reflect.Value).String();/* */$s=40;case 40:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}$r=p.fmtString(_r$2,verb);/* */$s=41;case 41:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=24;continue;/* } else if (_1 === (21)) { */case 17:/* */if(p.fmt.fmtFlags.sharpV){$s=42;continue;}/* */$s=43;continue;/* if (p.fmt.fmtFlags.sharpV) { */case 42:_r$3=$clone(f,reflect.Value).Type().String();/* */$s=45;case 45:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}$r=(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteString(_r$3);/* */$s=46;case 46:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}if($clone(f,reflect.Value).IsNil()){(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteString("(nil)");$s=-1;return;}(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteByte(123);$s=44;continue;/* } else { */case 43:(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteString("map[");/* } */case 44:_r$4=fmtsort.Sort($clone(f,reflect.Value));/* */$s=47;case 47:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}sorted=_r$4;_ref=sorted.Key;_i=0;/* while (true) { */case 48:/* if (!(_i < _ref.$length)) { break; } */if(!(_i<_ref.$length)){$s=49;continue;}i=_i;key=_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i];if(i>0){if(p.fmt.fmtFlags.sharpV){(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteString(", ");}else{(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteByte(32);}}$r=p.printValue($clone(key,reflect.Value),verb,depth+1>>0);/* */$s=50;case 50:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteByte(58);$r=p.printValue($clone((x$1=sorted.Value,i<0||i>=x$1.$length?($throwRuntimeError("index out of range"),undefined):x$1.$array[x$1.$offset+i]),reflect.Value),verb,depth+1>>0);/* */$s=51;case 51:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}_i++;/* } */$s=48;continue;case 49:if(p.fmt.fmtFlags.sharpV){(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteByte(125);}else{(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteByte(93);}$s=24;continue;/* } else if (_1 === (25)) { */case 18:/* */if(p.fmt.fmtFlags.sharpV){$s=52;continue;}/* */$s=53;continue;/* if (p.fmt.fmtFlags.sharpV) { */case 52:_r$5=$clone(f,reflect.Value).Type().String();/* */$s=54;case 54:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}$r=(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteString(_r$5);/* */$s=55;case 55:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 53:(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteByte(123);i$1=0;/* while (true) { */case 56:/* if (!(i$1 < $clone(f, reflect.Value).NumField())) { break; } */if(!(i$1<$clone(f,reflect.Value).NumField())){$s=57;continue;}if(i$1>0){if(p.fmt.fmtFlags.sharpV){(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteString(", ");}else{(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteByte(32);}}/* */if(p.fmt.fmtFlags.plusV||p.fmt.fmtFlags.sharpV){$s=58;continue;}/* */$s=59;continue;/* if (p.fmt.fmtFlags.plusV || p.fmt.fmtFlags.sharpV) { */case 58:_r$6=$clone(f,reflect.Value).Type().Field(i$1);/* */$s=60;case 60:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}name=_r$6.Name;if(!(name==="")){(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteString(name);(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteByte(58);}/* } */case 59:_r$7=getField($clone(f,reflect.Value),i$1);/* */$s=61;case 61:if($c){$c=false;_r$7=_r$7.$blk();}if(_r$7&&_r$7.$blk!==undefined){break s;}$r=p.printValue($clone(_r$7,reflect.Value),verb,depth+1>>0);/* */$s=62;case 62:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}i$1=i$1+1>>0;/* } */$s=56;continue;case 57:(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteByte(125);$s=24;continue;/* } else if (_1 === (20)) { */case 19:_r$8=$clone(f,reflect.Value).Elem();/* */$s=63;case 63:if($c){$c=false;_r$8=_r$8.$blk();}if(_r$8&&_r$8.$blk!==undefined){break s;}value$1=_r$8;/* */if(!$clone(value$1,reflect.Value).IsValid()){$s=64;continue;}/* */$s=65;continue;/* if (!$clone(value$1, reflect.Value).IsValid()) { */case 64:/* */if(p.fmt.fmtFlags.sharpV){$s=67;continue;}/* */$s=68;continue;/* if (p.fmt.fmtFlags.sharpV) { */case 67:_r$9=$clone(f,reflect.Value).Type().String();/* */$s=70;case 70:if($c){$c=false;_r$9=_r$9.$blk();}if(_r$9&&_r$9.$blk!==undefined){break s;}$r=(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteString(_r$9);/* */$s=71;case 71:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteString("(nil)");$s=69;continue;/* } else { */case 68:(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteString("<nil>");/* } */case 69:$s=66;continue;/* } else { */case 65:$r=p.printValue($clone(value$1,reflect.Value),verb,depth+1>>0);/* */$s=72;case 72:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 66:$s=24;continue;/* } else if ((_1 === (17)) || (_1 === (23))) { */case 20:_3=verb;/* */if(_3===115||_3===113||_3===120||_3===88){$s=74;continue;}/* */$s=75;continue;/* if ((_3 === (115)) || (_3 === (113)) || (_3 === (120)) || (_3 === (88))) { */case 74:t=$clone(f,reflect.Value).Type();_r$10=t.Elem();/* */$s=78;case 78:if($c){$c=false;_r$10=_r$10.$blk();}if(_r$10&&_r$10.$blk!==undefined){break s;}_r$11=_r$10.Kind();/* */$s=79;case 79:if($c){$c=false;_r$11=_r$11.$blk();}if(_r$11&&_r$11.$blk!==undefined){break s;}/* */if(_r$11===8){$s=76;continue;}/* */$s=77;continue;/* if (_r$11 === 8) { */case 76:bytes=sliceType$2.nil;/* */if($clone(f,reflect.Value).Kind()===23){$s=80;continue;}/* */if($clone(f,reflect.Value).CanAddr()){$s=81;continue;}/* */$s=82;continue;/* if ($clone(f, reflect.Value).Kind() === 23) { */case 80:_r$12=$clone(f,reflect.Value).Bytes();/* */$s=84;case 84:if($c){$c=false;_r$12=_r$12.$blk();}if(_r$12&&_r$12.$blk!==undefined){break s;}bytes=_r$12;$s=83;continue;/* } else if ($clone(f, reflect.Value).CanAddr()) { */case 81:_r$13=$clone(f,reflect.Value).Slice(0,$clone(f,reflect.Value).Len());/* */$s=85;case 85:if($c){$c=false;_r$13=_r$13.$blk();}if(_r$13&&_r$13.$blk!==undefined){break s;}_r$14=$clone(_r$13,reflect.Value).Bytes();/* */$s=86;case 86:if($c){$c=false;_r$14=_r$14.$blk();}if(_r$14&&_r$14.$blk!==undefined){break s;}bytes=_r$14;$s=83;continue;/* } else { */case 82:bytes=$makeSlice(sliceType$2,$clone(f,reflect.Value).Len());_ref$1=bytes;_i$1=0;/* while (true) { */case 87:/* if (!(_i$1 < _ref$1.$length)) { break; } */if(!(_i$1<_ref$1.$length)){$s=88;continue;}i$2=_i$1;_r$15=$clone(f,reflect.Value).Index(i$2);/* */$s=89;case 89:if($c){$c=false;_r$15=_r$15.$blk();}if(_r$15&&_r$15.$blk!==undefined){break s;}_r$16=$clone(_r$15,reflect.Value).Uint();/* */$s=90;case 90:if($c){$c=false;_r$16=_r$16.$blk();}if(_r$16&&_r$16.$blk!==undefined){break s;}i$2<0||i$2>=bytes.$length?($throwRuntimeError("index out of range"),undefined):bytes.$array[bytes.$offset+i$2]=_r$16.$low<<24>>>24;_i$1++;/* } */$s=87;continue;case 88:/* } */case 83:_arg=bytes;_arg$1=verb;_r$17=t.String();/* */$s=91;case 91:if($c){$c=false;_r$17=_r$17.$blk();}if(_r$17&&_r$17.$blk!==undefined){break s;}_arg$2=_r$17;$r=p.fmtBytes(_arg,_arg$1,_arg$2);/* */$s=92;case 92:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return;/* } */case 77:/* } */case 75:case 73:/* */if(p.fmt.fmtFlags.sharpV){$s=93;continue;}/* */$s=94;continue;/* if (p.fmt.fmtFlags.sharpV) { */case 93:_r$18=$clone(f,reflect.Value).Type().String();/* */$s=96;case 96:if($c){$c=false;_r$18=_r$18.$blk();}if(_r$18&&_r$18.$blk!==undefined){break s;}$r=(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteString(_r$18);/* */$s=97;case 97:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}if($clone(f,reflect.Value).Kind()===23&&$clone(f,reflect.Value).IsNil()){(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteString("(nil)");$s=-1;return;}(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteByte(123);i$3=0;/* while (true) { */case 98:/* if (!(i$3 < $clone(f, reflect.Value).Len())) { break; } */if(!(i$3<$clone(f,reflect.Value).Len())){$s=99;continue;}if(i$3>0){(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteString(", ");}_r$19=$clone(f,reflect.Value).Index(i$3);/* */$s=100;case 100:if($c){$c=false;_r$19=_r$19.$blk();}if(_r$19&&_r$19.$blk!==undefined){break s;}$r=p.printValue($clone(_r$19,reflect.Value),verb,depth+1>>0);/* */$s=101;case 101:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}i$3=i$3+1>>0;/* } */$s=98;continue;case 99:(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteByte(125);$s=95;continue;/* } else { */case 94:(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteByte(91);i$4=0;/* while (true) { */case 102:/* if (!(i$4 < $clone(f, reflect.Value).Len())) { break; } */if(!(i$4<$clone(f,reflect.Value).Len())){$s=103;continue;}if(i$4>0){(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteByte(32);}_r$20=$clone(f,reflect.Value).Index(i$4);/* */$s=104;case 104:if($c){$c=false;_r$20=_r$20.$blk();}if(_r$20&&_r$20.$blk!==undefined){break s;}$r=p.printValue($clone(_r$20,reflect.Value),verb,depth+1>>0);/* */$s=105;case 105:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}i$4=i$4+1>>0;/* } */$s=102;continue;case 103:(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteByte(93);/* } */case 95:$s=24;continue;/* } else if (_1 === (22)) { */case 21:/* */if(depth===0&&!($clone(f,reflect.Value).Pointer()===0)){$s=106;continue;}/* */$s=107;continue;/* if ((depth === 0) && !(($clone(f, reflect.Value).Pointer() === 0))) { */case 106:_r$21=$clone(f,reflect.Value).Elem();/* */$s=109;case 109:if($c){$c=false;_r$21=_r$21.$blk();}if(_r$21&&_r$21.$blk!==undefined){break s;}a=_r$21;_4=$clone(a,reflect.Value).Kind();/* */if(_4===17||_4===23||_4===25||_4===21){$s=110;continue;}/* */$s=111;continue;/* if ((_4 === (17)) || (_4 === (23)) || (_4 === (25)) || (_4 === (21))) { */case 110:(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteByte(38);$r=p.printValue($clone(a,reflect.Value),verb,depth+1>>0);/* */$s=112;case 112:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return;/* } */case 111:case 108:/* } */case 107:$r=p.fmtPointer($clone(f,reflect.Value),verb);/* */$s=113;case 113:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=24;continue;/* } else if ((_1 === (18)) || (_1 === (19)) || (_1 === (26))) { */case 22:$r=p.fmtPointer($clone(f,reflect.Value),verb);/* */$s=114;case 114:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=24;continue;/* } else { */case 23:$r=p.unknownType($clone(f,reflect.Value));/* */$s=115;case 115:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 24:case 7:$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:pp.ptr.prototype.printValue};}$f._1=_1;$f._2=_2;$f._3=_3;$f._4=_4;$f._arg=_arg;$f._arg$1=_arg$1;$f._arg$2=_arg$2;$f._i=_i;$f._i$1=_i$1;$f._r=_r;$f._r$1=_r$1;$f._r$10=_r$10;$f._r$11=_r$11;$f._r$12=_r$12;$f._r$13=_r$13;$f._r$14=_r$14;$f._r$15=_r$15;$f._r$16=_r$16;$f._r$17=_r$17;$f._r$18=_r$18;$f._r$19=_r$19;$f._r$2=_r$2;$f._r$20=_r$20;$f._r$21=_r$21;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._r$7=_r$7;$f._r$8=_r$8;$f._r$9=_r$9;$f._ref=_ref;$f._ref$1=_ref$1;$f.a=a;$f.bytes=bytes;$f.depth=depth;$f.f=f;$f.i=i;$f.i$1=i$1;$f.i$2=i$2;$f.i$3=i$3;$f.i$4=i$4;$f.key=key;$f.name=name;$f.p=p;$f.sorted=sorted;$f.t=t;$f.value=value;$f.value$1=value$1;$f.verb=verb;$f.x=x;$f.x$1=x$1;$f.$s=$s;$f.$r=$r;return $f;};pp.prototype.printValue=function(value,verb,depth){return this.$val.printValue(value,verb,depth);};intFromArg=function(a,argNum){var _1,_r,_tuple,a,argNum,isInt,n,n$1,newArgNum,num,v,x,x$1,x$2,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_r=$f._r;_tuple=$f._tuple;a=$f.a;argNum=$f.argNum;isInt=$f.isInt;n=$f.n;n$1=$f.n$1;newArgNum=$f.newArgNum;num=$f.num;v=$f.v;x=$f.x;x$1=$f.x$1;x$2=$f.x$2;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:num=0;isInt=false;newArgNum=0;newArgNum=argNum;/* */if(argNum<a.$length){$s=1;continue;}/* */$s=2;continue;/* if (argNum < a.$length) { */case 1:_tuple=$assertType(argNum<0||argNum>=a.$length?($throwRuntimeError("index out of range"),undefined):a.$array[a.$offset+argNum],$Int,true);num=_tuple[0];isInt=_tuple[1];/* */if(!isInt){$s=3;continue;}/* */$s=4;continue;/* if (!isInt) { */case 3:_r=reflect.ValueOf(argNum<0||argNum>=a.$length?($throwRuntimeError("index out of range"),undefined):a.$array[a.$offset+argNum]);/* */$s=6;case 6:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}v=_r;_1=$clone(v,reflect.Value).Kind();if(_1===2||_1===3||_1===4||_1===5||_1===6){n=$clone(v,reflect.Value).Int();if(x=new $Int64(0,n.$low+(n.$high>>31)*4294967296>>0),x.$high===n.$high&&x.$low===n.$low){num=n.$low+(n.$high>>31)*4294967296>>0;isInt=true;}}else if(_1===7||_1===8||_1===9||_1===10||_1===11||_1===12){n$1=$clone(v,reflect.Value).Uint();if((x$1=new $Int64(n$1.$high,n$1.$low),x$1.$high>0||x$1.$high===0&&x$1.$low>=0)&&(x$2=new $Uint64(0,n$1.$low>>0),x$2.$high===n$1.$high&&x$2.$low===n$1.$low)){num=n$1.$low>>0;isInt=true;}}case 5:/* } */case 4:newArgNum=argNum+1>>0;if(tooLarge(num)){num=0;isInt=false;}/* } */case 2:$s=-1;return[num,isInt,newArgNum];/* */}return;}if($f===undefined){$f={$blk:intFromArg};}$f._1=_1;$f._r=_r;$f._tuple=_tuple;$f.a=a;$f.argNum=argNum;$f.isInt=isInt;$f.n=n;$f.n$1=n$1;$f.newArgNum=newArgNum;$f.num=num;$f.v=v;$f.x=x;$f.x$1=x$1;$f.x$2=x$2;$f.$s=$s;$f.$r=$r;return $f;};parseArgNumber=function(format){var _tmp,_tmp$1,_tmp$10,_tmp$11,_tmp$2,_tmp$3,_tmp$4,_tmp$5,_tmp$6,_tmp$7,_tmp$8,_tmp$9,_tuple,format,i,index,newi,ok,ok$1,wid,width;index=0;wid=0;ok=false;if(format.length<3){_tmp=0;_tmp$1=1;_tmp$2=false;index=_tmp;wid=_tmp$1;ok=_tmp$2;return[index,wid,ok];}i=1;while(true){if(!(i<format.length)){break;}if(format.charCodeAt(i)===93){_tuple=parsenum(format,1,i);width=_tuple[0];ok$1=_tuple[1];newi=_tuple[2];if(!ok$1||!(newi===i)){_tmp$3=0;_tmp$4=i+1>>0;_tmp$5=false;index=_tmp$3;wid=_tmp$4;ok=_tmp$5;return[index,wid,ok];}_tmp$6=width-1>>0;_tmp$7=i+1>>0;_tmp$8=true;index=_tmp$6;wid=_tmp$7;ok=_tmp$8;return[index,wid,ok];}i=i+1>>0;}_tmp$9=0;_tmp$10=1;_tmp$11=false;index=_tmp$9;wid=_tmp$10;ok=_tmp$11;return[index,wid,ok];};pp.ptr.prototype.argNumber=function(argNum,format,i,numArgs){var _tmp,_tmp$1,_tmp$2,_tmp$3,_tmp$4,_tmp$5,_tmp$6,_tmp$7,_tmp$8,_tuple,argNum,format,found,i,index,newArgNum,newi,numArgs,ok,p,wid;newArgNum=0;newi=0;found=false;p=this;if(format.length<=i||!(format.charCodeAt(i)===91)){_tmp=argNum;_tmp$1=i;_tmp$2=false;newArgNum=_tmp;newi=_tmp$1;found=_tmp$2;return[newArgNum,newi,found];}p.reordered=true;_tuple=parseArgNumber($substring(format,i));index=_tuple[0];wid=_tuple[1];ok=_tuple[2];if(ok&&0<=index&&index<numArgs){_tmp$3=index;_tmp$4=i+wid>>0;_tmp$5=true;newArgNum=_tmp$3;newi=_tmp$4;found=_tmp$5;return[newArgNum,newi,found];}p.goodArgNum=false;_tmp$6=argNum;_tmp$7=i+wid>>0;_tmp$8=ok;newArgNum=_tmp$6;newi=_tmp$7;found=_tmp$8;return[newArgNum,newi,found];};pp.prototype.argNumber=function(argNum,format,i,numArgs){return this.$val.argNumber(argNum,format,i,numArgs);};pp.ptr.prototype.badArgNum=function(verb){var p,verb;p=this;(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteString("%!");(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteRune(verb);(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteString("(BADINDEX)");};pp.prototype.badArgNum=function(verb){return this.$val.badArgNum(verb);};pp.ptr.prototype.missingArg=function(verb){var p,verb;p=this;(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteString("%!");(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteRune(verb);(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteString("(MISSING)");};pp.prototype.missingArg=function(verb){return this.$val.missingArg(verb);};pp.ptr.prototype.doPrintf=function(format,a){var _1,_i,_r,_r$1,_r$2,_ref,_tmp,_tmp$1,_tuple,_tuple$1,_tuple$2,_tuple$3,_tuple$4,_tuple$5,_tuple$6,_tuple$7,a,afterIndex,arg,argNum,c,end,format,i,i$1,lasti,p,size,verb,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_i=$f._i;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_ref=$f._ref;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;_tuple$4=$f._tuple$4;_tuple$5=$f._tuple$5;_tuple$6=$f._tuple$6;_tuple$7=$f._tuple$7;a=$f.a;afterIndex=$f.afterIndex;arg=$f.arg;argNum=$f.argNum;c=$f.c;end=$f.end;format=$f.format;i=$f.i;i$1=$f.i$1;lasti=$f.lasti;p=$f.p;size=$f.size;verb=$f.verb;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:p=this;end=format.length;argNum=0;afterIndex=false;p.reordered=false;i=0;/* while (true) { */case 1:/* if (!(i < end)) { break; } */if(!(i<end)){$s=2;continue;}p.goodArgNum=true;lasti=i;while(true){if(!(i<end&&!(format.charCodeAt(i)===37))){break;}i=i+1>>0;}if(i>lasti){(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteString($substring(format,lasti,i));}if(i>=end){/* break; */$s=2;continue;}i=i+1>>0;p.fmt.clearflags();/* while (true) { */case 3:/* if (!(i < end)) { break; } */if(!(i<end)){$s=4;continue;}c=format.charCodeAt(i);_1=c;/* */if(_1===35){$s=6;continue;}/* */if(_1===48){$s=7;continue;}/* */if(_1===43){$s=8;continue;}/* */if(_1===45){$s=9;continue;}/* */if(_1===32){$s=10;continue;}/* */$s=11;continue;/* if (_1 === (35)) { */case 6:p.fmt.fmtFlags.sharp=true;$s=12;continue;/* } else if (_1 === (48)) { */case 7:p.fmt.fmtFlags.zero=!p.fmt.fmtFlags.minus;$s=12;continue;/* } else if (_1 === (43)) { */case 8:p.fmt.fmtFlags.plus=true;$s=12;continue;/* } else if (_1 === (45)) { */case 9:p.fmt.fmtFlags.minus=true;p.fmt.fmtFlags.zero=false;$s=12;continue;/* } else if (_1 === (32)) { */case 10:p.fmt.fmtFlags.space=true;$s=12;continue;/* } else { */case 11:/* */if(97<=c&&c<=122&&argNum<a.$length){$s=13;continue;}/* */$s=14;continue;/* if (97 <= c && c <= 122 && argNum < a.$length) { */case 13:if(c===118){p.fmt.fmtFlags.sharpV=p.fmt.fmtFlags.sharp;p.fmt.fmtFlags.sharp=false;p.fmt.fmtFlags.plusV=p.fmt.fmtFlags.plus;p.fmt.fmtFlags.plus=false;}$r=p.printArg(argNum<0||argNum>=a.$length?($throwRuntimeError("index out of range"),undefined):a.$array[a.$offset+argNum],c>>0);/* */$s=15;case 15:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}argNum=argNum+1>>0;i=i+1>>0;/* continue formatLoop; */$s=1;continue s;/* } */case 14:/* break simpleFormat; */$s=4;continue s;/* } */case 12:case 5:i=i+1>>0;/* } */$s=3;continue;case 4:_tuple=p.argNumber(argNum,format,i,a.$length);argNum=_tuple[0];i=_tuple[1];afterIndex=_tuple[2];/* */if(i<end&&format.charCodeAt(i)===42){$s=16;continue;}/* */$s=17;continue;/* if (i < end && (format.charCodeAt(i) === 42)) { */case 16:i=i+1>>0;_r=intFromArg(a,argNum);/* */$s=19;case 19:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple$1=_r;p.fmt.wid=_tuple$1[0];p.fmt.fmtFlags.widPresent=_tuple$1[1];argNum=_tuple$1[2];if(!p.fmt.fmtFlags.widPresent){(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteString("%!(BADWIDTH)");}if(p.fmt.wid<0){p.fmt.wid=-p.fmt.wid;p.fmt.fmtFlags.minus=true;p.fmt.fmtFlags.zero=false;}afterIndex=false;$s=18;continue;/* } else { */case 17:_tuple$2=parsenum(format,i,end);p.fmt.wid=_tuple$2[0];p.fmt.fmtFlags.widPresent=_tuple$2[1];i=_tuple$2[2];if(afterIndex&&p.fmt.fmtFlags.widPresent){p.goodArgNum=false;}/* } */case 18:/* */if(i+1>>0<end&&format.charCodeAt(i)===46){$s=20;continue;}/* */$s=21;continue;/* if ((i + 1 >> 0) < end && (format.charCodeAt(i) === 46)) { */case 20:i=i+1>>0;if(afterIndex){p.goodArgNum=false;}_tuple$3=p.argNumber(argNum,format,i,a.$length);argNum=_tuple$3[0];i=_tuple$3[1];afterIndex=_tuple$3[2];/* */if(i<end&&format.charCodeAt(i)===42){$s=22;continue;}/* */$s=23;continue;/* if (i < end && (format.charCodeAt(i) === 42)) { */case 22:i=i+1>>0;_r$1=intFromArg(a,argNum);/* */$s=25;case 25:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$4=_r$1;p.fmt.prec=_tuple$4[0];p.fmt.fmtFlags.precPresent=_tuple$4[1];argNum=_tuple$4[2];if(p.fmt.prec<0){p.fmt.prec=0;p.fmt.fmtFlags.precPresent=false;}if(!p.fmt.fmtFlags.precPresent){(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteString("%!(BADPREC)");}afterIndex=false;$s=24;continue;/* } else { */case 23:_tuple$5=parsenum(format,i,end);p.fmt.prec=_tuple$5[0];p.fmt.fmtFlags.precPresent=_tuple$5[1];i=_tuple$5[2];if(!p.fmt.fmtFlags.precPresent){p.fmt.prec=0;p.fmt.fmtFlags.precPresent=true;}/* } */case 24:/* } */case 21:if(!afterIndex){_tuple$6=p.argNumber(argNum,format,i,a.$length);argNum=_tuple$6[0];i=_tuple$6[1];afterIndex=_tuple$6[2];}if(i>=end){(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteString("%!(NOVERB)");/* break; */$s=2;continue;}_tmp=format.charCodeAt(i)>>0;_tmp$1=1;verb=_tmp;size=_tmp$1;if(verb>=128){_tuple$7=utf8.DecodeRuneInString($substring(format,i));verb=_tuple$7[0];size=_tuple$7[1];}i=i+size>>0;/* */if(verb===37){$s=27;continue;}/* */if(!p.goodArgNum){$s=28;continue;}/* */if(argNum>=a.$length){$s=29;continue;}/* */if(verb===118){$s=30;continue;}/* */$s=31;continue;/* if ((verb === 37)) { */case 27:(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteByte(37);$s=32;continue;/* } else if (!p.goodArgNum) { */case 28:p.badArgNum(verb);$s=32;continue;/* } else if (argNum >= a.$length) { */case 29:p.missingArg(verb);$s=32;continue;/* } else if ((verb === 118)) { */case 30:p.fmt.fmtFlags.sharpV=p.fmt.fmtFlags.sharp;p.fmt.fmtFlags.sharp=false;p.fmt.fmtFlags.plusV=p.fmt.fmtFlags.plus;p.fmt.fmtFlags.plus=false;$r=p.printArg(argNum<0||argNum>=a.$length?($throwRuntimeError("index out of range"),undefined):a.$array[a.$offset+argNum],verb);/* */$s=33;case 33:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}argNum=argNum+1>>0;$s=32;continue;/* } else { */case 31:$r=p.printArg(argNum<0||argNum>=a.$length?($throwRuntimeError("index out of range"),undefined):a.$array[a.$offset+argNum],verb);/* */$s=34;case 34:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}argNum=argNum+1>>0;/* } */case 32:case 26:/* } */$s=1;continue;case 2:/* */if(!p.reordered&&argNum<a.$length){$s=35;continue;}/* */$s=36;continue;/* if (!p.reordered && argNum < a.$length) { */case 35:p.fmt.clearflags();(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteString("%!(EXTRA ");_ref=$subslice(a,argNum);_i=0;/* while (true) { */case 37:/* if (!(_i < _ref.$length)) { break; } */if(!(_i<_ref.$length)){$s=38;continue;}i$1=_i;arg=_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i];if(i$1>0){(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteString(", ");}/* */if($interfaceIsEqual(arg,$ifaceNil)){$s=39;continue;}/* */$s=40;continue;/* if ($interfaceIsEqual(arg, $ifaceNil)) { */case 39:(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteString("<nil>");$s=41;continue;/* } else { */case 40:_r$2=reflect.TypeOf(arg).String();/* */$s=42;case 42:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}$r=(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteString(_r$2);/* */$s=43;case 43:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteByte(61);$r=p.printArg(arg,118);/* */$s=44;case 44:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 41:_i++;/* } */$s=37;continue;case 38:(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteByte(41);/* } */case 36:$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:pp.ptr.prototype.doPrintf};}$f._1=_1;$f._i=_i;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._ref=_ref;$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f._tuple$4=_tuple$4;$f._tuple$5=_tuple$5;$f._tuple$6=_tuple$6;$f._tuple$7=_tuple$7;$f.a=a;$f.afterIndex=afterIndex;$f.arg=arg;$f.argNum=argNum;$f.c=c;$f.end=end;$f.format=format;$f.i=i;$f.i$1=i$1;$f.lasti=lasti;$f.p=p;$f.size=size;$f.verb=verb;$f.$s=$s;$f.$r=$r;return $f;};pp.prototype.doPrintf=function(format,a){return this.$val.doPrintf(format,a);};pp.ptr.prototype.doPrint=function(a){var _i,_r,_ref,_v,a,arg,argNum,isString,p,prevString,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_i=$f._i;_r=$f._r;_ref=$f._ref;_v=$f._v;a=$f.a;arg=$f.arg;argNum=$f.argNum;isString=$f.isString;p=$f.p;prevString=$f.prevString;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:p=this;prevString=false;_ref=a;_i=0;/* while (true) { */case 1:/* if (!(_i < _ref.$length)) { break; } */if(!(_i<_ref.$length)){$s=2;continue;}argNum=_i;arg=_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i];if(!!$interfaceIsEqual(arg,$ifaceNil)){_v=false;$s=3;continue s;}_r=reflect.TypeOf(arg).Kind();/* */$s=4;case 4:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_v=_r===24;case 3:isString=_v;if(argNum>0&&!isString&&!prevString){(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteByte(32);}$r=p.printArg(arg,118);/* */$s=5;case 5:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}prevString=isString;_i++;/* } */$s=1;continue;case 2:$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:pp.ptr.prototype.doPrint};}$f._i=_i;$f._r=_r;$f._ref=_ref;$f._v=_v;$f.a=a;$f.arg=arg;$f.argNum=argNum;$f.isString=isString;$f.p=p;$f.prevString=prevString;$f.$s=$s;$f.$r=$r;return $f;};pp.prototype.doPrint=function(a){return this.$val.doPrint(a);};pp.ptr.prototype.doPrintln=function(a){var _i,_ref,a,arg,argNum,p,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_i=$f._i;_ref=$f._ref;a=$f.a;arg=$f.arg;argNum=$f.argNum;p=$f.p;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:p=this;_ref=a;_i=0;/* while (true) { */case 1:/* if (!(_i < _ref.$length)) { break; } */if(!(_i<_ref.$length)){$s=2;continue;}argNum=_i;arg=_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i];if(argNum>0){(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteByte(32);}$r=p.printArg(arg,118);/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}_i++;/* } */$s=1;continue;case 2:(p.$ptr_buf||(p.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},p))).WriteByte(10);$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:pp.ptr.prototype.doPrintln};}$f._i=_i;$f._ref=_ref;$f.a=a;$f.arg=arg;$f.argNum=argNum;$f.p=p;$f.$s=$s;$f.$r=$r;return $f;};pp.prototype.doPrintln=function(a){return this.$val.doPrintln(a);};ss.ptr.prototype.Read=function(buf){var _tmp,_tmp$1,buf,err,n,s;n=0;err=$ifaceNil;s=this;_tmp=0;_tmp$1=errors.New("ScanState's Read should not be called. Use ReadRune");n=_tmp;err=_tmp$1;return[n,err];};ss.prototype.Read=function(buf){return this.$val.Read(buf);};ss.ptr.prototype.ReadRune=function(){var _r,_tuple,err,r,s,size,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tuple=$f._tuple;err=$f.err;r=$f.r;s=$f.s;size=$f.size;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:r=0;size=0;err=$ifaceNil;s=this;if(s.atEOF||s.count>=s.ssave.argLimit){err=io.EOF;$s=-1;return[r,size,err];}_r=s.rs.ReadRune();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;r=_tuple[0];size=_tuple[1];err=_tuple[2];if($interfaceIsEqual(err,$ifaceNil)){s.count=s.count+1>>0;if(s.ssave.nlIsEnd&&r===10){s.atEOF=true;}}else if($interfaceIsEqual(err,io.EOF)){s.atEOF=true;}$s=-1;return[r,size,err];/* */}return;}if($f===undefined){$f={$blk:ss.ptr.prototype.ReadRune};}$f._r=_r;$f._tuple=_tuple;$f.err=err;$f.r=r;$f.s=s;$f.size=size;$f.$s=$s;$f.$r=$r;return $f;};ss.prototype.ReadRune=function(){return this.$val.ReadRune();};ss.ptr.prototype.Width=function(){var _tmp,_tmp$1,_tmp$2,_tmp$3,ok,s,wid;wid=0;ok=false;s=this;if(s.ssave.maxWid===1073741824){_tmp=0;_tmp$1=false;wid=_tmp;ok=_tmp$1;return[wid,ok];}_tmp$2=s.ssave.maxWid;_tmp$3=true;wid=_tmp$2;ok=_tmp$3;return[wid,ok];};ss.prototype.Width=function(){return this.$val.Width();};ss.ptr.prototype.getRune=function(){var _r,_tuple,err,r,s,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tuple=$f._tuple;err=$f.err;r=$f.r;s=$f.s;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:r=0;s=this;_r=s.ReadRune();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;r=_tuple[0];err=_tuple[2];if(!$interfaceIsEqual(err,$ifaceNil)){if($interfaceIsEqual(err,io.EOF)){r=-1;$s=-1;return r;}s.error(err);}$s=-1;return r;/* */}return;}if($f===undefined){$f={$blk:ss.ptr.prototype.getRune};}$f._r=_r;$f._tuple=_tuple;$f.err=err;$f.r=r;$f.s=s;$f.$s=$s;$f.$r=$r;return $f;};ss.prototype.getRune=function(){return this.$val.getRune();};ss.ptr.prototype.UnreadRune=function(){var _r,s,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;s=$f.s;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:s=this;_r=s.rs.UnreadRune();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_r;s.atEOF=false;s.count=s.count-1>>0;$s=-1;return $ifaceNil;/* */}return;}if($f===undefined){$f={$blk:ss.ptr.prototype.UnreadRune};}$f._r=_r;$f.s=s;$f.$s=$s;$f.$r=$r;return $f;};ss.prototype.UnreadRune=function(){return this.$val.UnreadRune();};ss.ptr.prototype.error=function(err){var err,s,x;s=this;$panic((x=new scanError.ptr(err),new x.constructor.elem(x)));};ss.prototype.error=function(err){return this.$val.error(err);};ss.ptr.prototype.errorString=function(err){var err,s,x;s=this;$panic((x=new scanError.ptr(errors.New(err)),new x.constructor.elem(x)));};ss.prototype.errorString=function(err){return this.$val.errorString(err);};ss.ptr.prototype.Token=function(skipSpace,f){var _r,err,f,s,skipSpace,tok,$s,$deferred,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;err=$f.err;f=$f.f;s=$f.s;skipSpace=$f.skipSpace;tok=$f.tok;$s=$f.$s;$deferred=$f.$deferred;$r=$f.$r;}var $err=null;try{s:while(true){switch($s){case 0:$deferred=[];$deferred.index=$curGoroutine.deferStack.length;$curGoroutine.deferStack.push($deferred);err=[err];tok=sliceType$2.nil;err[0]=$ifaceNil;s=this;$deferred.push([function(err){return function(){var _tuple,e,ok,se;e=$recover();if(!$interfaceIsEqual(e,$ifaceNil)){_tuple=$assertType(e,scanError,true);se=$clone(_tuple[0],scanError);ok=_tuple[1];if(ok){err[0]=se.err;}else{$panic(e);}}};}(err),[]]);if(f===$throwNilPointerError){f=notSpace;}s.buf=$subslice(s.buf,0,0);_r=s.token(skipSpace,f);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}tok=_r;$s=-1;return[tok,err[0]];/* */}return;}}catch(err){$err=err;$s=-1;}finally{$callDeferred($deferred,$err);if(!$curGoroutine.asleep){return[tok,err[0]];}if($curGoroutine.asleep){if($f===undefined){$f={$blk:ss.ptr.prototype.Token};}$f._r=_r;$f.err=err;$f.f=f;$f.s=s;$f.skipSpace=skipSpace;$f.tok=tok;$f.$s=$s;$f.$deferred=$deferred;$f.$r=$r;return $f;}}};ss.prototype.Token=function(skipSpace,f){return this.$val.Token(skipSpace,f);};isSpace=function(r){var _i,_ref,r,rng,rx;if(r>=65536){return false;}rx=r<<16>>>16;_ref=space;_i=0;while(true){if(!(_i<_ref.$length)){break;}rng=$clone(_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i],arrayType$1);if(rx<rng[0]){return false;}if(rx<=rng[1]){return true;}_i++;}return false;};notSpace=function(r){var r;return!isSpace(r);};ss.ptr.prototype.free=function(old){var old,s;s=this;if(old.validSave){ssave.copy(s.ssave,old);return;}if(s.buf.$capacity>1024){return;}s.buf=$subslice(s.buf,0,0);s.rs=$ifaceNil;ssFree.Put(s);};ss.prototype.free=function(old){return this.$val.free(old);};ss.ptr.prototype.SkipSpace=function(){var _r,_r$1,_r$2,_v,r,s,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_v=$f._v;r=$f.r;s=$f.s;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:s=this;/* while (true) { */case 1:_r=s.getRune();/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}r=_r;if(r===-1){$s=-1;return;}if(!(r===13)){_v=false;$s=6;continue s;}_r$1=s.peek("\n");/* */$s=7;case 7:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_v=_r$1;case 6:/* */if(_v){$s=4;continue;}/* */$s=5;continue;/* if (_v) { */case 4:/* continue; */$s=1;continue;/* } */case 5:/* */if(r===10){$s=8;continue;}/* */$s=9;continue;/* if (r === 10) { */case 8:if(s.ssave.nlIsSpace){/* continue; */$s=1;continue;}s.errorString("unexpected newline");$s=-1;return;/* } */case 9:/* */if(!isSpace(r)){$s=10;continue;}/* */$s=11;continue;/* if (!isSpace(r)) { */case 10:_r$2=s.UnreadRune();/* */$s=12;case 12:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_r$2;/* break; */$s=2;continue;/* } */case 11:/* } */$s=1;continue;case 2:$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:ss.ptr.prototype.SkipSpace};}$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._v=_v;$f.r=r;$f.s=s;$f.$s=$s;$f.$r=$r;return $f;};ss.prototype.SkipSpace=function(){return this.$val.SkipSpace();};ss.ptr.prototype.token=function(skipSpace,f){var _r,_r$1,_r$2,f,r,s,skipSpace,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;f=$f.f;r=$f.r;s=$f.s;skipSpace=$f.skipSpace;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:s=this;/* */if(skipSpace){$s=1;continue;}/* */$s=2;continue;/* if (skipSpace) { */case 1:$r=s.SkipSpace();/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 2:/* while (true) { */case 4:_r=s.getRune();/* */$s=6;case 6:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}r=_r;if(r===-1){/* break; */$s=5;continue;}_r$1=f(r);/* */$s=9;case 9:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}/* */if(!_r$1){$s=7;continue;}/* */$s=8;continue;/* if (!_r$1) { */case 7:_r$2=s.UnreadRune();/* */$s=10;case 10:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_r$2;/* break; */$s=5;continue;/* } */case 8:(s.$ptr_buf||(s.$ptr_buf=new ptrType$1(function(){return this.$target.buf;},function($v){this.$target.buf=$v;},s))).WriteRune(r);/* } */$s=4;continue;case 5:$s=-1;return x=s.buf,$subslice(new sliceType$2(x.$array),x.$offset,x.$offset+x.$length);/* */}return;}if($f===undefined){$f={$blk:ss.ptr.prototype.token};}$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f.f=f;$f.r=r;$f.s=s;$f.skipSpace=skipSpace;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};ss.prototype.token=function(skipSpace,f){return this.$val.token(skipSpace,f);};indexRune=function(s,r){var _i,_ref,_rune,c,i,r,s;_ref=s;_i=0;while(true){if(!(_i<_ref.length)){break;}_rune=$decodeRune(_ref,_i);i=_i;c=_rune[0];if(c===r){return i;}_i+=_rune[1];}return-1;};ss.ptr.prototype.peek=function(ok){var _r,_r$1,ok,r,s,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;ok=$f.ok;r=$f.r;s=$f.s;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:s=this;_r=s.getRune();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}r=_r;/* */if(!(r===-1)){$s=2;continue;}/* */$s=3;continue;/* if (!((r === -1))) { */case 2:_r$1=s.UnreadRune();/* */$s=4;case 4:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_r$1;/* } */case 3:$s=-1;return indexRune(ok,r)>=0;/* */}return;}if($f===undefined){$f={$blk:ss.ptr.prototype.peek};}$f._r=_r;$f._r$1=_r$1;$f.ok=ok;$f.r=r;$f.s=s;$f.$s=$s;$f.$r=$r;return $f;};ss.prototype.peek=function(ok){return this.$val.peek(ok);};ptrType$25.methods=[{prop:"clearflags",name:"clearflags",pkg:"fmt",typ:$funcType([],[],false)},{prop:"init",name:"init",pkg:"fmt",typ:$funcType([ptrType$1],[],false)},{prop:"writePadding",name:"writePadding",pkg:"fmt",typ:$funcType([$Int],[],false)},{prop:"pad",name:"pad",pkg:"fmt",typ:$funcType([sliceType$2],[],false)},{prop:"padString",name:"padString",pkg:"fmt",typ:$funcType([$String],[],false)},{prop:"fmtBoolean",name:"fmtBoolean",pkg:"fmt",typ:$funcType([$Bool],[],false)},{prop:"fmtUnicode",name:"fmtUnicode",pkg:"fmt",typ:$funcType([$Uint64],[],false)},{prop:"fmtInteger",name:"fmtInteger",pkg:"fmt",typ:$funcType([$Uint64,$Int,$Bool,$String],[],false)},{prop:"truncateString",name:"truncateString",pkg:"fmt",typ:$funcType([$String],[$String],false)},{prop:"truncate",name:"truncate",pkg:"fmt",typ:$funcType([sliceType$2],[sliceType$2],false)},{prop:"fmtS",name:"fmtS",pkg:"fmt",typ:$funcType([$String],[],false)},{prop:"fmtBs",name:"fmtBs",pkg:"fmt",typ:$funcType([sliceType$2],[],false)},{prop:"fmtSbx",name:"fmtSbx",pkg:"fmt",typ:$funcType([$String,sliceType$2,$String],[],false)},{prop:"fmtSx",name:"fmtSx",pkg:"fmt",typ:$funcType([$String,$String],[],false)},{prop:"fmtBx",name:"fmtBx",pkg:"fmt",typ:$funcType([sliceType$2,$String],[],false)},{prop:"fmtQ",name:"fmtQ",pkg:"fmt",typ:$funcType([$String],[],false)},{prop:"fmtC",name:"fmtC",pkg:"fmt",typ:$funcType([$Uint64],[],false)},{prop:"fmtQc",name:"fmtQc",pkg:"fmt",typ:$funcType([$Uint64],[],false)},{prop:"fmtFloat",name:"fmtFloat",pkg:"fmt",typ:$funcType([$Float64,$Int,$Int32,$Int],[],false)}];ptrType$1.methods=[{prop:"Write",name:"Write",pkg:"",typ:$funcType([sliceType$2],[],false)},{prop:"WriteString",name:"WriteString",pkg:"",typ:$funcType([$String],[],false)},{prop:"WriteByte",name:"WriteByte",pkg:"",typ:$funcType([$Uint8],[],false)},{prop:"WriteRune",name:"WriteRune",pkg:"",typ:$funcType([$Int32],[],false)}];ptrType$2.methods=[{prop:"free",name:"free",pkg:"fmt",typ:$funcType([],[],false)},{prop:"Width",name:"Width",pkg:"",typ:$funcType([],[$Int,$Bool],false)},{prop:"Precision",name:"Precision",pkg:"",typ:$funcType([],[$Int,$Bool],false)},{prop:"Flag",name:"Flag",pkg:"",typ:$funcType([$Int],[$Bool],false)},{prop:"Write",name:"Write",pkg:"",typ:$funcType([sliceType$2],[$Int,$error],false)},{prop:"WriteString",name:"WriteString",pkg:"",typ:$funcType([$String],[$Int,$error],false)},{prop:"unknownType",name:"unknownType",pkg:"fmt",typ:$funcType([reflect.Value],[],false)},{prop:"badVerb",name:"badVerb",pkg:"fmt",typ:$funcType([$Int32],[],false)},{prop:"fmtBool",name:"fmtBool",pkg:"fmt",typ:$funcType([$Bool,$Int32],[],false)},{prop:"fmt0x64",name:"fmt0x64",pkg:"fmt",typ:$funcType([$Uint64,$Bool],[],false)},{prop:"fmtInteger",name:"fmtInteger",pkg:"fmt",typ:$funcType([$Uint64,$Bool,$Int32],[],false)},{prop:"fmtFloat",name:"fmtFloat",pkg:"fmt",typ:$funcType([$Float64,$Int,$Int32],[],false)},{prop:"fmtComplex",name:"fmtComplex",pkg:"fmt",typ:$funcType([$Complex128,$Int,$Int32],[],false)},{prop:"fmtString",name:"fmtString",pkg:"fmt",typ:$funcType([$String,$Int32],[],false)},{prop:"fmtBytes",name:"fmtBytes",pkg:"fmt",typ:$funcType([sliceType$2,$Int32,$String],[],false)},{prop:"fmtPointer",name:"fmtPointer",pkg:"fmt",typ:$funcType([reflect.Value,$Int32],[],false)},{prop:"catchPanic",name:"catchPanic",pkg:"fmt",typ:$funcType([$emptyInterface,$Int32,$String],[],false)},{prop:"handleMethods",name:"handleMethods",pkg:"fmt",typ:$funcType([$Int32],[$Bool],false)},{prop:"printArg",name:"printArg",pkg:"fmt",typ:$funcType([$emptyInterface,$Int32],[],false)},{prop:"printValue",name:"printValue",pkg:"fmt",typ:$funcType([reflect.Value,$Int32,$Int],[],false)},{prop:"argNumber",name:"argNumber",pkg:"fmt",typ:$funcType([$Int,$String,$Int,$Int],[$Int,$Int,$Bool],false)},{prop:"badArgNum",name:"badArgNum",pkg:"fmt",typ:$funcType([$Int32],[],false)},{prop:"missingArg",name:"missingArg",pkg:"fmt",typ:$funcType([$Int32],[],false)},{prop:"doPrintf",name:"doPrintf",pkg:"fmt",typ:$funcType([$String,sliceType],[],false)},{prop:"doPrint",name:"doPrint",pkg:"fmt",typ:$funcType([sliceType],[],false)},{prop:"doPrintln",name:"doPrintln",pkg:"fmt",typ:$funcType([sliceType],[],false)}];ptrType$5.methods=[{prop:"Read",name:"Read",pkg:"",typ:$funcType([sliceType$2],[$Int,$error],false)},{prop:"ReadRune",name:"ReadRune",pkg:"",typ:$funcType([],[$Int32,$Int,$error],false)},{prop:"Width",name:"Width",pkg:"",typ:$funcType([],[$Int,$Bool],false)},{prop:"getRune",name:"getRune",pkg:"fmt",typ:$funcType([],[$Int32],false)},{prop:"mustReadRune",name:"mustReadRune",pkg:"fmt",typ:$funcType([],[$Int32],false)},{prop:"UnreadRune",name:"UnreadRune",pkg:"",typ:$funcType([],[$error],false)},{prop:"error",name:"error",pkg:"fmt",typ:$funcType([$error],[],false)},{prop:"errorString",name:"errorString",pkg:"fmt",typ:$funcType([$String],[],false)},{prop:"Token",name:"Token",pkg:"",typ:$funcType([$Bool,funcType],[sliceType$2,$error],false)},{prop:"free",name:"free",pkg:"fmt",typ:$funcType([ssave],[],false)},{prop:"SkipSpace",name:"SkipSpace",pkg:"",typ:$funcType([],[],false)},{prop:"token",name:"token",pkg:"fmt",typ:$funcType([$Bool,funcType],[sliceType$2],false)},{prop:"consume",name:"consume",pkg:"fmt",typ:$funcType([$String,$Bool],[$Bool],false)},{prop:"peek",name:"peek",pkg:"fmt",typ:$funcType([$String],[$Bool],false)},{prop:"notEOF",name:"notEOF",pkg:"fmt",typ:$funcType([],[],false)},{prop:"accept",name:"accept",pkg:"fmt",typ:$funcType([$String],[$Bool],false)},{prop:"okVerb",name:"okVerb",pkg:"fmt",typ:$funcType([$Int32,$String,$String],[$Bool],false)},{prop:"scanBool",name:"scanBool",pkg:"fmt",typ:$funcType([$Int32],[$Bool],false)},{prop:"getBase",name:"getBase",pkg:"fmt",typ:$funcType([$Int32],[$Int,$String],false)},{prop:"scanNumber",name:"scanNumber",pkg:"fmt",typ:$funcType([$String,$Bool],[$String],false)},{prop:"scanRune",name:"scanRune",pkg:"fmt",typ:$funcType([$Int],[$Int64],false)},{prop:"scanBasePrefix",name:"scanBasePrefix",pkg:"fmt",typ:$funcType([],[$Int,$String,$Bool],false)},{prop:"scanInt",name:"scanInt",pkg:"fmt",typ:$funcType([$Int32,$Int],[$Int64],false)},{prop:"scanUint",name:"scanUint",pkg:"fmt",typ:$funcType([$Int32,$Int],[$Uint64],false)},{prop:"floatToken",name:"floatToken",pkg:"fmt",typ:$funcType([],[$String],false)},{prop:"complexTokens",name:"complexTokens",pkg:"fmt",typ:$funcType([],[$String,$String],false)},{prop:"convertFloat",name:"convertFloat",pkg:"fmt",typ:$funcType([$String,$Int],[$Float64],false)},{prop:"scanComplex",name:"scanComplex",pkg:"fmt",typ:$funcType([$Int32,$Int],[$Complex128],false)},{prop:"convertString",name:"convertString",pkg:"fmt",typ:$funcType([$Int32],[$String],false)},{prop:"quotedString",name:"quotedString",pkg:"fmt",typ:$funcType([],[$String],false)},{prop:"hexByte",name:"hexByte",pkg:"fmt",typ:$funcType([],[$Uint8,$Bool],false)},{prop:"hexString",name:"hexString",pkg:"fmt",typ:$funcType([],[$String],false)},{prop:"scanOne",name:"scanOne",pkg:"fmt",typ:$funcType([$Int32,$emptyInterface],[],false)},{prop:"doScan",name:"doScan",pkg:"fmt",typ:$funcType([sliceType],[$Int,$error],false)},{prop:"advance",name:"advance",pkg:"fmt",typ:$funcType([$String],[$Int],false)},{prop:"doScanf",name:"doScanf",pkg:"fmt",typ:$funcType([$String,sliceType],[$Int,$error],false)}];fmtFlags.init("fmt",[{prop:"widPresent",name:"widPresent",embedded:false,exported:false,typ:$Bool,tag:""},{prop:"precPresent",name:"precPresent",embedded:false,exported:false,typ:$Bool,tag:""},{prop:"minus",name:"minus",embedded:false,exported:false,typ:$Bool,tag:""},{prop:"plus",name:"plus",embedded:false,exported:false,typ:$Bool,tag:""},{prop:"sharp",name:"sharp",embedded:false,exported:false,typ:$Bool,tag:""},{prop:"space",name:"space",embedded:false,exported:false,typ:$Bool,tag:""},{prop:"zero",name:"zero",embedded:false,exported:false,typ:$Bool,tag:""},{prop:"plusV",name:"plusV",embedded:false,exported:false,typ:$Bool,tag:""},{prop:"sharpV",name:"sharpV",embedded:false,exported:false,typ:$Bool,tag:""}]);fmt.init("fmt",[{prop:"buf",name:"buf",embedded:false,exported:false,typ:ptrType$1,tag:""},{prop:"fmtFlags",name:"fmtFlags",embedded:true,exported:false,typ:fmtFlags,tag:""},{prop:"wid",name:"wid",embedded:false,exported:false,typ:$Int,tag:""},{prop:"prec",name:"prec",embedded:false,exported:false,typ:$Int,tag:""},{prop:"intbuf",name:"intbuf",embedded:false,exported:false,typ:arrayType,tag:""}]);State.init([{prop:"Flag",name:"Flag",pkg:"",typ:$funcType([$Int],[$Bool],false)},{prop:"Precision",name:"Precision",pkg:"",typ:$funcType([],[$Int,$Bool],false)},{prop:"Width",name:"Width",pkg:"",typ:$funcType([],[$Int,$Bool],false)},{prop:"Write",name:"Write",pkg:"",typ:$funcType([sliceType$2],[$Int,$error],false)}]);Formatter.init([{prop:"Format",name:"Format",pkg:"",typ:$funcType([State,$Int32],[],false)}]);Stringer.init([{prop:"String",name:"String",pkg:"",typ:$funcType([],[$String],false)}]);GoStringer.init([{prop:"GoString",name:"GoString",pkg:"",typ:$funcType([],[$String],false)}]);buffer.init($Uint8);pp.init("fmt",[{prop:"buf",name:"buf",embedded:false,exported:false,typ:buffer,tag:""},{prop:"arg",name:"arg",embedded:false,exported:false,typ:$emptyInterface,tag:""},{prop:"value",name:"value",embedded:false,exported:false,typ:reflect.Value,tag:""},{prop:"fmt",name:"fmt",embedded:false,exported:false,typ:fmt,tag:""},{prop:"reordered",name:"reordered",embedded:false,exported:false,typ:$Bool,tag:""},{prop:"goodArgNum",name:"goodArgNum",embedded:false,exported:false,typ:$Bool,tag:""},{prop:"panicking",name:"panicking",embedded:false,exported:false,typ:$Bool,tag:""},{prop:"erroring",name:"erroring",embedded:false,exported:false,typ:$Bool,tag:""}]);scanError.init("fmt",[{prop:"err",name:"err",embedded:false,exported:false,typ:$error,tag:""}]);ss.init("fmt",[{prop:"rs",name:"rs",embedded:false,exported:false,typ:io.RuneScanner,tag:""},{prop:"buf",name:"buf",embedded:false,exported:false,typ:buffer,tag:""},{prop:"count",name:"count",embedded:false,exported:false,typ:$Int,tag:""},{prop:"atEOF",name:"atEOF",embedded:false,exported:false,typ:$Bool,tag:""},{prop:"ssave",name:"ssave",embedded:true,exported:false,typ:ssave,tag:""}]);ssave.init("fmt",[{prop:"validSave",name:"validSave",embedded:false,exported:false,typ:$Bool,tag:""},{prop:"nlIsEnd",name:"nlIsEnd",embedded:false,exported:false,typ:$Bool,tag:""},{prop:"nlIsSpace",name:"nlIsSpace",embedded:false,exported:false,typ:$Bool,tag:""},{prop:"argLimit",name:"argLimit",embedded:false,exported:false,typ:$Int,tag:""},{prop:"limit",name:"limit",embedded:false,exported:false,typ:$Int,tag:""},{prop:"maxWid",name:"maxWid",embedded:false,exported:false,typ:$Int,tag:""}]);$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=errors.$init();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=fmtsort.$init();/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=io.$init();/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=math.$init();/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=os.$init();/* */$s=5;case 5:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=reflect.$init();/* */$s=6;case 6:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=strconv.$init();/* */$s=7;case 7:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=sync.$init();/* */$s=8;case 8:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=utf8.$init();/* */$s=9;case 9:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}ppFree=new sync.Pool.ptr(0,0,sliceType.nil,function(){return new pp.ptr(buffer.nil,$ifaceNil,new reflect.Value.ptr(ptrType.nil,0,0),new fmt.ptr(ptrType$1.nil,new fmtFlags.ptr(false,false,false,false,false,false,false,false,false),0,0,arrayType.zero()),false,false,false,false);});space=new sliceType$1([$toNativeArray($kindUint16,[9,13]),$toNativeArray($kindUint16,[32,32]),$toNativeArray($kindUint16,[133,133]),$toNativeArray($kindUint16,[160,160]),$toNativeArray($kindUint16,[5760,5760]),$toNativeArray($kindUint16,[8192,8202]),$toNativeArray($kindUint16,[8232,8233]),$toNativeArray($kindUint16,[8239,8239]),$toNativeArray($kindUint16,[8287,8287]),$toNativeArray($kindUint16,[12288,12288])]);ssFree=new sync.Pool.ptr(0,0,sliceType.nil,function(){return new ss.ptr($ifaceNil,buffer.nil,0,false,new ssave.ptr(false,false,false,0,0,0));});complexError=errors.New("syntax error scanning complex number");boolError=errors.New("syntax error scanning boolean");/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["math/rand"]=function(){var $pkg={},$init,nosync,math,Source,Source64,Rand,lockedSource,rngSource,arrayType,ptrType,ptrType$1,sliceType,ptrType$2,ptrType$3,funcType,sliceType$1,ptrType$5,ke,we,fe,kn,wn,fn,globalRand,rngCooked,absInt32,NewSource,New,read,Seed,Int,Intn,Float64,seedrand;nosync=$packages["github.com/gopherjs/gopherjs/nosync"];math=$packages["math"];Source=$pkg.Source=$newType(8,$kindInterface,"rand.Source",true,"math/rand",true,null);Source64=$pkg.Source64=$newType(8,$kindInterface,"rand.Source64",true,"math/rand",true,null);Rand=$pkg.Rand=$newType(0,$kindStruct,"rand.Rand",true,"math/rand",true,function(src_,s64_,readVal_,readPos_){this.$val=this;if(arguments.length===0){this.src=$ifaceNil;this.s64=$ifaceNil;this.readVal=new $Int64(0,0);this.readPos=0;return;}this.src=src_;this.s64=s64_;this.readVal=readVal_;this.readPos=readPos_;});lockedSource=$pkg.lockedSource=$newType(0,$kindStruct,"rand.lockedSource",true,"math/rand",false,function(lk_,src_){this.$val=this;if(arguments.length===0){this.lk=new nosync.Mutex.ptr(false);this.src=$ifaceNil;return;}this.lk=lk_;this.src=src_;});rngSource=$pkg.rngSource=$newType(0,$kindStruct,"rand.rngSource",true,"math/rand",false,function(tap_,feed_,vec_){this.$val=this;if(arguments.length===0){this.tap=0;this.feed=0;this.vec=arrayType.zero();return;}this.tap=tap_;this.feed=feed_;this.vec=vec_;});arrayType=$arrayType($Int64,607);ptrType=$ptrType(lockedSource);ptrType$1=$ptrType($Int8);sliceType=$sliceType($Int);ptrType$2=$ptrType($Int64);ptrType$3=$ptrType(Rand);funcType=$funcType([$Int,$Int],[],false);sliceType$1=$sliceType($Uint8);ptrType$5=$ptrType(rngSource);Rand.ptr.prototype.ExpFloat64=function(){var _r,_r$1,_r$2,_r$3,i,j,r,x,x$1,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;i=$f.i;j=$f.j;r=$f.r;x=$f.x;x$1=$f.x$1;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:r=this;/* while (true) { */case 1:_r=r.Uint32();/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}j=_r;i=(j&255)>>>0;x=j*(i<0||i>=we.length?($throwRuntimeError("index out of range"),undefined):we[i]);if(j<(i<0||i>=ke.length?($throwRuntimeError("index out of range"),undefined):ke[i])){$s=-1;return x;}/* */if(i===0){$s=4;continue;}/* */$s=5;continue;/* if (i === 0) { */case 4:_r$1=r.Float64();/* */$s=6;case 6:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_r$2=math.Log(_r$1);/* */$s=7;case 7:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}$s=-1;return 7.69711747013105-_r$2;/* } */case 5:_r$3=r.Float64();/* */$s=10;case 10:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}/* */if($fround((i<0||i>=fe.length?($throwRuntimeError("index out of range"),undefined):fe[i])+$fround($fround(_r$3)*$fround((x$1=i-1>>>0,x$1<0||x$1>=fe.length?($throwRuntimeError("index out of range"),undefined):fe[x$1])-(i<0||i>=fe.length?($throwRuntimeError("index out of range"),undefined):fe[i]))))<$fround(math.Exp(-x))){$s=8;continue;}/* */$s=9;continue;/* if ($fround(((i < 0 || i >= fe.length) ? ($throwRuntimeError("index out of range"), undefined) : fe[i]) + $fround(($fround(_r$3)) * ($fround((x$1 = i - 1 >>> 0, ((x$1 < 0 || x$1 >= fe.length) ? ($throwRuntimeError("index out of range"), undefined) : fe[x$1])) - ((i < 0 || i >= fe.length) ? ($throwRuntimeError("index out of range"), undefined) : fe[i]))))) < ($fround(math.Exp(-x)))) { */case 8:$s=-1;return x;/* } */case 9:/* } */$s=1;continue;case 2:$s=-1;return 0;/* */}return;}if($f===undefined){$f={$blk:Rand.ptr.prototype.ExpFloat64};}$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f.i=i;$f.j=j;$f.r=r;$f.x=x;$f.x$1=x$1;$f.$s=$s;$f.$r=$r;return $f;};Rand.prototype.ExpFloat64=function(){return this.$val.ExpFloat64();};absInt32=function(i){var i;if(i<0){return-i>>>0;}return i>>>0;};Rand.ptr.prototype.NormFloat64=function(){var _r,_r$1,_r$2,_r$3,_r$4,_r$5,i,j,r,x,x$1,y,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;i=$f.i;j=$f.j;r=$f.r;x=$f.x;x$1=$f.x$1;y=$f.y;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:r=this;/* while (true) { */case 1:_r=r.Uint32();/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}j=_r>>0;i=j&127;x=j*(i<0||i>=wn.length?($throwRuntimeError("index out of range"),undefined):wn[i]);if(absInt32(j)<(i<0||i>=kn.length?($throwRuntimeError("index out of range"),undefined):kn[i])){$s=-1;return x;}/* */if(i===0){$s=4;continue;}/* */$s=5;continue;/* if (i === 0) { */case 4:/* while (true) { */case 6:_r$1=r.Float64();/* */$s=8;case 8:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_r$2=math.Log(_r$1);/* */$s=9;case 9:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}x=-_r$2*0.29047645161474317;_r$3=r.Float64();/* */$s=10;case 10:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_r$4=math.Log(_r$3);/* */$s=11;case 11:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}y=-_r$4;if(y+y>=x*x){/* break; */$s=7;continue;}/* } */$s=6;continue;case 7:if(j>0){$s=-1;return 3.442619855899+x;}$s=-1;return-3.442619855899-x;/* } */case 5:_r$5=r.Float64();/* */$s=14;case 14:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}/* */if($fround((i<0||i>=fn.length?($throwRuntimeError("index out of range"),undefined):fn[i])+$fround($fround(_r$5)*$fround((x$1=i-1>>0,x$1<0||x$1>=fn.length?($throwRuntimeError("index out of range"),undefined):fn[x$1])-(i<0||i>=fn.length?($throwRuntimeError("index out of range"),undefined):fn[i]))))<$fround(math.Exp(-0.5*x*x))){$s=12;continue;}/* */$s=13;continue;/* if ($fround(((i < 0 || i >= fn.length) ? ($throwRuntimeError("index out of range"), undefined) : fn[i]) + $fround(($fround(_r$5)) * ($fround((x$1 = i - 1 >> 0, ((x$1 < 0 || x$1 >= fn.length) ? ($throwRuntimeError("index out of range"), undefined) : fn[x$1])) - ((i < 0 || i >= fn.length) ? ($throwRuntimeError("index out of range"), undefined) : fn[i]))))) < ($fround(math.Exp(-0.5 * x * x)))) { */case 12:$s=-1;return x;/* } */case 13:/* } */$s=1;continue;case 2:$s=-1;return 0;/* */}return;}if($f===undefined){$f={$blk:Rand.ptr.prototype.NormFloat64};}$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f.i=i;$f.j=j;$f.r=r;$f.x=x;$f.x$1=x$1;$f.y=y;$f.$s=$s;$f.$r=$r;return $f;};Rand.prototype.NormFloat64=function(){return this.$val.NormFloat64();};NewSource=function(seed){var rng,seed;rng=new rngSource.ptr(0,0,arrayType.zero());rng.Seed(seed);return rng;};$pkg.NewSource=NewSource;New=function(src){var _tuple,s64,src;_tuple=$assertType(src,Source64,true);s64=_tuple[0];return new Rand.ptr(src,s64,new $Int64(0,0),0);};$pkg.New=New;Rand.ptr.prototype.Seed=function(seed){var _tuple,lk,ok,r,seed,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_tuple=$f._tuple;lk=$f.lk;ok=$f.ok;r=$f.r;seed=$f.seed;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:r=this;_tuple=$assertType(r.src,ptrType,true);lk=_tuple[0];ok=_tuple[1];/* */if(ok){$s=1;continue;}/* */$s=2;continue;/* if (ok) { */case 1:$r=lk.seedPos(seed,r.$ptr_readPos||(r.$ptr_readPos=new ptrType$1(function(){return this.$target.readPos;},function($v){this.$target.readPos=$v;},r)));/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return;/* } */case 2:$r=r.src.Seed(seed);/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}r.readPos=0;$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:Rand.ptr.prototype.Seed};}$f._tuple=_tuple;$f.lk=lk;$f.ok=ok;$f.r=r;$f.seed=seed;$f.$s=$s;$f.$r=$r;return $f;};Rand.prototype.Seed=function(seed){return this.$val.Seed(seed);};Rand.ptr.prototype.Int63=function(){var _r,r,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;r=$f.r;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:r=this;_r=r.src.Int63();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r;/* */}return;}if($f===undefined){$f={$blk:Rand.ptr.prototype.Int63};}$f._r=_r;$f.r=r;$f.$s=$s;$f.$r=$r;return $f;};Rand.prototype.Int63=function(){return this.$val.Int63();};Rand.ptr.prototype.Uint32=function(){var _r,r,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;r=$f.r;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:r=this;_r=r.Int63();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return $shiftRightInt64(_r,31).$low>>>0;/* */}return;}if($f===undefined){$f={$blk:Rand.ptr.prototype.Uint32};}$f._r=_r;$f.r=r;$f.$s=$s;$f.$r=$r;return $f;};Rand.prototype.Uint32=function(){return this.$val.Uint32();};Rand.ptr.prototype.Uint64=function(){var _r,_r$1,_r$2,r,x,x$1,x$2,x$3,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;r=$f.r;x=$f.x;x$1=$f.x$1;x$2=$f.x$2;x$3=$f.x$3;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:r=this;/* */if(!$interfaceIsEqual(r.s64,$ifaceNil)){$s=1;continue;}/* */$s=2;continue;/* if (!($interfaceIsEqual(r.s64, $ifaceNil))) { */case 1:_r=r.s64.Uint64();/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r;/* } */case 2:_r$1=r.Int63();/* */$s=4;case 4:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_r$2=r.Int63();/* */$s=5;case 5:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}$s=-1;return x=$shiftRightUint64((x$1=_r$1,new $Uint64(x$1.$high,x$1.$low)),31),x$2=$shiftLeft64((x$3=_r$2,new $Uint64(x$3.$high,x$3.$low)),32),new $Uint64(x.$high|x$2.$high,(x.$low|x$2.$low)>>>0);/* */}return;}if($f===undefined){$f={$blk:Rand.ptr.prototype.Uint64};}$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f.r=r;$f.x=x;$f.x$1=x$1;$f.x$2=x$2;$f.x$3=x$3;$f.$s=$s;$f.$r=$r;return $f;};Rand.prototype.Uint64=function(){return this.$val.Uint64();};Rand.ptr.prototype.Int31=function(){var _r,r,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;r=$f.r;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:r=this;_r=r.Int63();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return(x=$shiftRightInt64(_r,32),x.$low+(x.$high>>31)*4294967296)>>0;/* */}return;}if($f===undefined){$f={$blk:Rand.ptr.prototype.Int31};}$f._r=_r;$f.r=r;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};Rand.prototype.Int31=function(){return this.$val.Int31();};Rand.ptr.prototype.Int=function(){var _r,r,u,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;r=$f.r;u=$f.u;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:r=this;_r=r.Int63();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}u=_r.$low>>>0;$s=-1;return u<<1>>>0>>>1>>>0>>0;/* */}return;}if($f===undefined){$f={$blk:Rand.ptr.prototype.Int};}$f._r=_r;$f.r=r;$f.u=u;$f.$s=$s;$f.$r=$r;return $f;};Rand.prototype.Int=function(){return this.$val.Int();};Rand.ptr.prototype.Int63n=function(n){var _r,_r$1,_r$2,max,n,r,v,x,x$1,x$2,x$3,x$4,x$5,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;max=$f.max;n=$f.n;r=$f.r;v=$f.v;x=$f.x;x$1=$f.x$1;x$2=$f.x$2;x$3=$f.x$3;x$4=$f.x$4;x$5=$f.x$5;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:r=this;if(n.$high<0||n.$high===0&&n.$low<=0){$panic(new $String("invalid argument to Int63n"));}/* */if(x=(x$1=new $Int64(n.$high-0,n.$low-1),new $Int64(n.$high&x$1.$high,(n.$low&x$1.$low)>>>0)),x.$high===0&&x.$low===0){$s=1;continue;}/* */$s=2;continue;/* if ((x = (x$1 = new $Int64(n.$high - 0, n.$low - 1), new $Int64(n.$high & x$1.$high, (n.$low & x$1.$low) >>> 0)), (x.$high === 0 && x.$low === 0))) { */case 1:_r=r.Int63();/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return x$2=_r,x$3=new $Int64(n.$high-0,n.$low-1),new $Int64(x$2.$high&x$3.$high,(x$2.$low&x$3.$low)>>>0);/* } */case 2:max=(x$4=(x$5=$div64(new $Uint64(2147483648,0),new $Uint64(n.$high,n.$low),true),new $Uint64(2147483647-x$5.$high,4294967295-x$5.$low)),new $Int64(x$4.$high,x$4.$low));_r$1=r.Int63();/* */$s=4;case 4:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}v=_r$1;/* while (true) { */case 5:/* if (!((v.$high > max.$high || (v.$high === max.$high && v.$low > max.$low)))) { break; } */if(!(v.$high>max.$high||v.$high===max.$high&&v.$low>max.$low)){$s=6;continue;}_r$2=r.Int63();/* */$s=7;case 7:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}v=_r$2;/* } */$s=5;continue;case 6:$s=-1;return $div64(v,n,true);/* */}return;}if($f===undefined){$f={$blk:Rand.ptr.prototype.Int63n};}$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f.max=max;$f.n=n;$f.r=r;$f.v=v;$f.x=x;$f.x$1=x$1;$f.x$2=x$2;$f.x$3=x$3;$f.x$4=x$4;$f.x$5=x$5;$f.$s=$s;$f.$r=$r;return $f;};Rand.prototype.Int63n=function(n){return this.$val.Int63n(n);};Rand.ptr.prototype.Int31n=function(n){var _r,_r$1,_r$2,_r$3,_r$4,max,n,r,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;max=$f.max;n=$f.n;r=$f.r;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:r=this;if(n<=0){$panic(new $String("invalid argument to Int31n"));}/* */if((n&n-1>>0)===0){$s=1;continue;}/* */$s=2;continue;/* if ((n & ((n - 1 >> 0))) === 0) { */case 1:_r=r.Int31();/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r&n-1>>0;/* } */case 2:max=2147483647-(_r$1=2147483648%(n>>>0),_r$1===_r$1?_r$1:$throwRuntimeError("integer divide by zero"))>>>0>>0;_r$2=r.Int31();/* */$s=4;case 4:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}v=_r$2;/* while (true) { */case 5:/* if (!(v > max)) { break; } */if(!(v>max)){$s=6;continue;}_r$3=r.Int31();/* */$s=7;case 7:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}v=_r$3;/* } */$s=5;continue;case 6:$s=-1;return _r$4=v%n,_r$4===_r$4?_r$4:$throwRuntimeError("integer divide by zero");/* */}return;}if($f===undefined){$f={$blk:Rand.ptr.prototype.Int31n};}$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f.max=max;$f.n=n;$f.r=r;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};Rand.prototype.Int31n=function(n){return this.$val.Int31n(n);};Rand.ptr.prototype.int31n=function(n){var _r,_r$1,_r$2,low,n,prod,r,thresh,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;low=$f.low;n=$f.n;prod=$f.prod;r=$f.r;thresh=$f.thresh;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:r=this;_r=r.Uint32();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}v=_r;prod=$mul64(new $Uint64(0,v),new $Uint64(0,n));low=prod.$low>>>0;/* */if(low<n>>>0){$s=2;continue;}/* */$s=3;continue;/* if (low < ((n >>> 0))) { */case 2:thresh=(_r$1=(-n>>>0)%(n>>>0),_r$1===_r$1?_r$1:$throwRuntimeError("integer divide by zero"));/* while (true) { */case 4:/* if (!(low < thresh)) { break; } */if(!(low<thresh)){$s=5;continue;}_r$2=r.Uint32();/* */$s=6;case 6:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}v=_r$2;prod=$mul64(new $Uint64(0,v),new $Uint64(0,n));low=prod.$low>>>0;/* } */$s=4;continue;case 5:/* } */case 3:$s=-1;return $shiftRightUint64(prod,32).$low>>0;/* */}return;}if($f===undefined){$f={$blk:Rand.ptr.prototype.int31n};}$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f.low=low;$f.n=n;$f.prod=prod;$f.r=r;$f.thresh=thresh;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};Rand.prototype.int31n=function(n){return this.$val.int31n(n);};Rand.ptr.prototype.Intn=function(n){var _r,_r$1,n,r,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;n=$f.n;r=$f.r;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:r=this;if(n<=0){$panic(new $String("invalid argument to Intn"));}/* */if(n<=2147483647){$s=1;continue;}/* */$s=2;continue;/* if (n <= 2147483647) { */case 1:_r=r.Int31n(n>>0);/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r>>0;/* } */case 2:_r$1=r.Int63n(new $Int64(0,n));/* */$s=4;case 4:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}$s=-1;return(x=_r$1,x.$low+(x.$high>>31)*4294967296)>>0;/* */}return;}if($f===undefined){$f={$blk:Rand.ptr.prototype.Intn};}$f._r=_r;$f._r$1=_r$1;$f.n=n;$f.r=r;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};Rand.prototype.Intn=function(n){return this.$val.Intn(n);};Rand.ptr.prototype.Float64=function(){var _r,f,r,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;f=$f.f;r=$f.r;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:r=this;/* again: */case 1:_r=r.Int63();/* */$s=2;case 2:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}f=$flatten64(_r)/9.223372036854776e+18;/* */if(f===1){$s=3;continue;}/* */$s=4;continue;/* if (f === 1) { */case 3:/* goto again */$s=1;continue;/* } */case 4:$s=-1;return f;/* */}return;}if($f===undefined){$f={$blk:Rand.ptr.prototype.Float64};}$f._r=_r;$f.f=f;$f.r=r;$f.$s=$s;$f.$r=$r;return $f;};Rand.prototype.Float64=function(){return this.$val.Float64();};Rand.ptr.prototype.Float32=function(){var _r,f,r,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;f=$f.f;r=$f.r;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:r=this;/* again: */case 1:_r=r.Float64();/* */$s=2;case 2:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}f=$fround(_r);/* */if(f===1){$s=3;continue;}/* */$s=4;continue;/* if (f === 1) { */case 3:/* goto again */$s=1;continue;/* } */case 4:$s=-1;return f;/* */}return;}if($f===undefined){$f={$blk:Rand.ptr.prototype.Float32};}$f._r=_r;$f.f=f;$f.r=r;$f.$s=$s;$f.$r=$r;return $f;};Rand.prototype.Float32=function(){return this.$val.Float32();};Rand.ptr.prototype.Perm=function(n){var _r,i,j,m,n,r,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;i=$f.i;j=$f.j;m=$f.m;n=$f.n;r=$f.r;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:r=this;m=$makeSlice(sliceType,n);i=0;/* while (true) { */case 1:/* if (!(i < n)) { break; } */if(!(i<n)){$s=2;continue;}_r=r.Intn(i+1>>0);/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}j=_r;i<0||i>=m.$length?($throwRuntimeError("index out of range"),undefined):m.$array[m.$offset+i]=j<0||j>=m.$length?($throwRuntimeError("index out of range"),undefined):m.$array[m.$offset+j];j<0||j>=m.$length?($throwRuntimeError("index out of range"),undefined):m.$array[m.$offset+j]=i;i=i+1>>0;/* } */$s=1;continue;case 2:$s=-1;return m;/* */}return;}if($f===undefined){$f={$blk:Rand.ptr.prototype.Perm};}$f._r=_r;$f.i=i;$f.j=j;$f.m=m;$f.n=n;$f.r=r;$f.$s=$s;$f.$r=$r;return $f;};Rand.prototype.Perm=function(n){return this.$val.Perm(n);};Rand.ptr.prototype.Shuffle=function(n,swap){var _r,_r$1,i,j,j$1,n,r,swap,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;i=$f.i;j=$f.j;j$1=$f.j$1;n=$f.n;r=$f.r;swap=$f.swap;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:r=this;if(n<0){$panic(new $String("invalid argument to Shuffle"));}i=n-1>>0;/* while (true) { */case 1:/* if (!(i > 2147483646)) { break; } */if(!(i>2147483646)){$s=2;continue;}_r=r.Int63n(new $Int64(0,i+1>>0));/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}j=(x=_r,x.$low+(x.$high>>31)*4294967296)>>0;$r=swap(i,j);/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}i=i-1>>0;/* } */$s=1;continue;case 2:/* while (true) { */case 5:/* if (!(i > 0)) { break; } */if(!(i>0)){$s=6;continue;}_r$1=r.int31n(i+1>>0>>0);/* */$s=7;case 7:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}j$1=_r$1>>0;$r=swap(i,j$1);/* */$s=8;case 8:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}i=i-1>>0;/* } */$s=5;continue;case 6:$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:Rand.ptr.prototype.Shuffle};}$f._r=_r;$f._r$1=_r$1;$f.i=i;$f.j=j;$f.j$1=j$1;$f.n=n;$f.r=r;$f.swap=swap;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};Rand.prototype.Shuffle=function(n,swap){return this.$val.Shuffle(n,swap);};Rand.ptr.prototype.Read=function(p){var _r,_r$1,_tuple,_tuple$1,_tuple$2,err,lk,n,ok,p,r,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;err=$f.err;lk=$f.lk;n=$f.n;ok=$f.ok;p=$f.p;r=$f.r;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:n=0;err=$ifaceNil;r=this;_tuple=$assertType(r.src,ptrType,true);lk=_tuple[0];ok=_tuple[1];/* */if(ok){$s=1;continue;}/* */$s=2;continue;/* if (ok) { */case 1:_r=lk.read(p,r.$ptr_readVal||(r.$ptr_readVal=new ptrType$2(function(){return this.$target.readVal;},function($v){this.$target.readVal=$v;},r)),r.$ptr_readPos||(r.$ptr_readPos=new ptrType$1(function(){return this.$target.readPos;},function($v){this.$target.readPos=$v;},r)));/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple$1=_r;n=_tuple$1[0];err=_tuple$1[1];$s=-1;return[n,err];/* } */case 2:_r$1=read(p,$methodVal(r,"Int63"),r.$ptr_readVal||(r.$ptr_readVal=new ptrType$2(function(){return this.$target.readVal;},function($v){this.$target.readVal=$v;},r)),r.$ptr_readPos||(r.$ptr_readPos=new ptrType$1(function(){return this.$target.readPos;},function($v){this.$target.readPos=$v;},r)));/* */$s=4;case 4:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$2=_r$1;n=_tuple$2[0];err=_tuple$2[1];$s=-1;return[n,err];/* */}return;}if($f===undefined){$f={$blk:Rand.ptr.prototype.Read};}$f._r=_r;$f._r$1=_r$1;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f.err=err;$f.lk=lk;$f.n=n;$f.ok=ok;$f.p=p;$f.r=r;$f.$s=$s;$f.$r=$r;return $f;};Rand.prototype.Read=function(p){return this.$val.Read(p);};read=function(p,int63,readVal,readPos){var _r,err,int63,n,p,pos,readPos,readVal,val,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;err=$f.err;int63=$f.int63;n=$f.n;p=$f.p;pos=$f.pos;readPos=$f.readPos;readVal=$f.readVal;val=$f.val;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:n=0;err=$ifaceNil;pos=readPos.$get();val=readVal.$get();n=0;/* while (true) { */case 1:/* if (!(n < p.$length)) { break; } */if(!(n<p.$length)){$s=2;continue;}/* */if(pos===0){$s=3;continue;}/* */$s=4;continue;/* if (pos === 0) { */case 3:_r=int63();/* */$s=5;case 5:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}val=_r;pos=7;/* } */case 4:n<0||n>=p.$length?($throwRuntimeError("index out of range"),undefined):p.$array[p.$offset+n]=val.$low<<24>>>24;val=$shiftRightInt64(val,8);pos=pos-1<<24>>24;n=n+1>>0;/* } */$s=1;continue;case 2:readPos.$set(pos);readVal.$set(val);$s=-1;return[n,err];/* */}return;}if($f===undefined){$f={$blk:read};}$f._r=_r;$f.err=err;$f.int63=int63;$f.n=n;$f.p=p;$f.pos=pos;$f.readPos=readPos;$f.readVal=readVal;$f.val=val;$f.$s=$s;$f.$r=$r;return $f;};Seed=function(seed){var seed,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;seed=$f.seed;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=globalRand.Seed(seed);/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:Seed};}$f.seed=seed;$f.$s=$s;$f.$r=$r;return $f;};$pkg.Seed=Seed;Int=function(){var _r,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=globalRand.Int();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r;/* */}return;}if($f===undefined){$f={$blk:Int};}$f._r=_r;$f.$s=$s;$f.$r=$r;return $f;};$pkg.Int=Int;Intn=function(n){var _r,n,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;n=$f.n;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=globalRand.Intn(n);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r;/* */}return;}if($f===undefined){$f={$blk:Intn};}$f._r=_r;$f.n=n;$f.$s=$s;$f.$r=$r;return $f;};$pkg.Intn=Intn;Float64=function(){var _r,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=globalRand.Float64();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r;/* */}return;}if($f===undefined){$f={$blk:Float64};}$f._r=_r;$f.$s=$s;$f.$r=$r;return $f;};$pkg.Float64=Float64;lockedSource.ptr.prototype.Int63=function(){var _r,n,r,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;n=$f.n;r=$f.r;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:n=new $Int64(0,0);r=this;r.lk.Lock();_r=r.src.Int63();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}n=_r;r.lk.Unlock();$s=-1;return n;/* */}return;}if($f===undefined){$f={$blk:lockedSource.ptr.prototype.Int63};}$f._r=_r;$f.n=n;$f.r=r;$f.$s=$s;$f.$r=$r;return $f;};lockedSource.prototype.Int63=function(){return this.$val.Int63();};lockedSource.ptr.prototype.Uint64=function(){var _r,n,r,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;n=$f.n;r=$f.r;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:n=new $Uint64(0,0);r=this;r.lk.Lock();_r=r.src.Uint64();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}n=_r;r.lk.Unlock();$s=-1;return n;/* */}return;}if($f===undefined){$f={$blk:lockedSource.ptr.prototype.Uint64};}$f._r=_r;$f.n=n;$f.r=r;$f.$s=$s;$f.$r=$r;return $f;};lockedSource.prototype.Uint64=function(){return this.$val.Uint64();};lockedSource.ptr.prototype.Seed=function(seed){var r,seed,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;r=$f.r;seed=$f.seed;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:r=this;r.lk.Lock();$r=r.src.Seed(seed);/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}r.lk.Unlock();$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:lockedSource.ptr.prototype.Seed};}$f.r=r;$f.seed=seed;$f.$s=$s;$f.$r=$r;return $f;};lockedSource.prototype.Seed=function(seed){return this.$val.Seed(seed);};lockedSource.ptr.prototype.seedPos=function(seed,readPos){var r,readPos,seed,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;r=$f.r;readPos=$f.readPos;seed=$f.seed;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:r=this;r.lk.Lock();$r=r.src.Seed(seed);/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}readPos.$set(0);r.lk.Unlock();$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:lockedSource.ptr.prototype.seedPos};}$f.r=r;$f.readPos=readPos;$f.seed=seed;$f.$s=$s;$f.$r=$r;return $f;};lockedSource.prototype.seedPos=function(seed,readPos){return this.$val.seedPos(seed,readPos);};lockedSource.ptr.prototype.read=function(p,readVal,readPos){var _r,_tuple,err,n,p,r,readPos,readVal,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tuple=$f._tuple;err=$f.err;n=$f.n;p=$f.p;r=$f.r;readPos=$f.readPos;readVal=$f.readVal;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:n=0;err=$ifaceNil;r=this;r.lk.Lock();_r=read(p,$methodVal(r.src,"Int63"),readVal,readPos);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;n=_tuple[0];err=_tuple[1];r.lk.Unlock();$s=-1;return[n,err];/* */}return;}if($f===undefined){$f={$blk:lockedSource.ptr.prototype.read};}$f._r=_r;$f._tuple=_tuple;$f.err=err;$f.n=n;$f.p=p;$f.r=r;$f.readPos=readPos;$f.readVal=readVal;$f.$s=$s;$f.$r=$r;return $f;};lockedSource.prototype.read=function(p,readVal,readPos){return this.$val.read(p,readVal,readPos);};seedrand=function(x){var _q,_r,hi,lo,x;hi=(_q=x/44488,_q===_q&&_q!==1/0&&_q!==-1/0?_q>>0:$throwRuntimeError("integer divide by zero"));lo=(_r=x%44488,_r===_r?_r:$throwRuntimeError("integer divide by zero"));x=$imul(48271,lo)-$imul(3399,hi)>>0;if(x<0){x=x+2147483647>>0;}return x;};rngSource.ptr.prototype.Seed=function(seed){var i,rng,seed,u,x,x$1,x$2,x$3,x$4,x$5;rng=this;rng.tap=0;rng.feed=334;seed=$div64(seed,new $Int64(0,2147483647),true);if(seed.$high<0||seed.$high===0&&seed.$low<0){seed=(x=new $Int64(0,2147483647),new $Int64(seed.$high+x.$high,seed.$low+x.$low));}if(seed.$high===0&&seed.$low===0){seed=new $Int64(0,89482311);}x$1=seed.$low+(seed.$high>>31)*4294967296>>0;i=-20;while(true){if(!(i<607)){break;}x$1=seedrand(x$1);if(i>=0){u=new $Int64(0,0);u=$shiftLeft64(new $Int64(0,x$1),40);x$1=seedrand(x$1);u=(x$2=$shiftLeft64(new $Int64(0,x$1),20),new $Int64(u.$high^x$2.$high,(u.$low^x$2.$low)>>>0));x$1=seedrand(x$1);u=(x$3=new $Int64(0,x$1),new $Int64(u.$high^x$3.$high,(u.$low^x$3.$low)>>>0));u=(x$4=i<0||i>=rngCooked.length?($throwRuntimeError("index out of range"),undefined):rngCooked[i],new $Int64(u.$high^x$4.$high,(u.$low^x$4.$low)>>>0));x$5=rng.vec,i<0||i>=x$5.length?($throwRuntimeError("index out of range"),undefined):x$5[i]=u;}i=i+1>>0;}};rngSource.prototype.Seed=function(seed){return this.$val.Seed(seed);};rngSource.ptr.prototype.Int63=function(){var rng,x,x$1;rng=this;return x=(x$1=rng.Uint64(),new $Uint64(x$1.$high&2147483647,(x$1.$low&4294967295)>>>0)),new $Int64(x.$high,x.$low);};rngSource.prototype.Int63=function(){return this.$val.Int63();};rngSource.ptr.prototype.Uint64=function(){var rng,x,x$1,x$2,x$3,x$4,x$5,x$6,x$7,x$8;rng=this;rng.tap=rng.tap-1>>0;if(rng.tap<0){rng.tap=rng.tap+607>>0;}rng.feed=rng.feed-1>>0;if(rng.feed<0){rng.feed=rng.feed+607>>0;}x$6=(x=(x$1=rng.vec,x$2=rng.feed,x$2<0||x$2>=x$1.length?($throwRuntimeError("index out of range"),undefined):x$1[x$2]),x$3=(x$4=rng.vec,x$5=rng.tap,x$5<0||x$5>=x$4.length?($throwRuntimeError("index out of range"),undefined):x$4[x$5]),new $Int64(x.$high+x$3.$high,x.$low+x$3.$low));x$7=rng.vec,x$8=rng.feed,x$8<0||x$8>=x$7.length?($throwRuntimeError("index out of range"),undefined):x$7[x$8]=x$6;return new $Uint64(x$6.$high,x$6.$low);};rngSource.prototype.Uint64=function(){return this.$val.Uint64();};ptrType$3.methods=[{prop:"ExpFloat64",name:"ExpFloat64",pkg:"",typ:$funcType([],[$Float64],false)},{prop:"NormFloat64",name:"NormFloat64",pkg:"",typ:$funcType([],[$Float64],false)},{prop:"Seed",name:"Seed",pkg:"",typ:$funcType([$Int64],[],false)},{prop:"Int63",name:"Int63",pkg:"",typ:$funcType([],[$Int64],false)},{prop:"Uint32",name:"Uint32",pkg:"",typ:$funcType([],[$Uint32],false)},{prop:"Uint64",name:"Uint64",pkg:"",typ:$funcType([],[$Uint64],false)},{prop:"Int31",name:"Int31",pkg:"",typ:$funcType([],[$Int32],false)},{prop:"Int",name:"Int",pkg:"",typ:$funcType([],[$Int],false)},{prop:"Int63n",name:"Int63n",pkg:"",typ:$funcType([$Int64],[$Int64],false)},{prop:"Int31n",name:"Int31n",pkg:"",typ:$funcType([$Int32],[$Int32],false)},{prop:"int31n",name:"int31n",pkg:"math/rand",typ:$funcType([$Int32],[$Int32],false)},{prop:"Intn",name:"Intn",pkg:"",typ:$funcType([$Int],[$Int],false)},{prop:"Float64",name:"Float64",pkg:"",typ:$funcType([],[$Float64],false)},{prop:"Float32",name:"Float32",pkg:"",typ:$funcType([],[$Float32],false)},{prop:"Perm",name:"Perm",pkg:"",typ:$funcType([$Int],[sliceType],false)},{prop:"Shuffle",name:"Shuffle",pkg:"",typ:$funcType([$Int,funcType],[],false)},{prop:"Read",name:"Read",pkg:"",typ:$funcType([sliceType$1],[$Int,$error],false)}];ptrType.methods=[{prop:"Int63",name:"Int63",pkg:"",typ:$funcType([],[$Int64],false)},{prop:"Uint64",name:"Uint64",pkg:"",typ:$funcType([],[$Uint64],false)},{prop:"Seed",name:"Seed",pkg:"",typ:$funcType([$Int64],[],false)},{prop:"seedPos",name:"seedPos",pkg:"math/rand",typ:$funcType([$Int64,ptrType$1],[],false)},{prop:"read",name:"read",pkg:"math/rand",typ:$funcType([sliceType$1,ptrType$2,ptrType$1],[$Int,$error],false)}];ptrType$5.methods=[{prop:"Seed",name:"Seed",pkg:"",typ:$funcType([$Int64],[],false)},{prop:"Int63",name:"Int63",pkg:"",typ:$funcType([],[$Int64],false)},{prop:"Uint64",name:"Uint64",pkg:"",typ:$funcType([],[$Uint64],false)}];Source.init([{prop:"Int63",name:"Int63",pkg:"",typ:$funcType([],[$Int64],false)},{prop:"Seed",name:"Seed",pkg:"",typ:$funcType([$Int64],[],false)}]);Source64.init([{prop:"Int63",name:"Int63",pkg:"",typ:$funcType([],[$Int64],false)},{prop:"Seed",name:"Seed",pkg:"",typ:$funcType([$Int64],[],false)},{prop:"Uint64",name:"Uint64",pkg:"",typ:$funcType([],[$Uint64],false)}]);Rand.init("math/rand",[{prop:"src",name:"src",embedded:false,exported:false,typ:Source,tag:""},{prop:"s64",name:"s64",embedded:false,exported:false,typ:Source64,tag:""},{prop:"readVal",name:"readVal",embedded:false,exported:false,typ:$Int64,tag:""},{prop:"readPos",name:"readPos",embedded:false,exported:false,typ:$Int8,tag:""}]);lockedSource.init("math/rand",[{prop:"lk",name:"lk",embedded:false,exported:false,typ:nosync.Mutex,tag:""},{prop:"src",name:"src",embedded:false,exported:false,typ:Source64,tag:""}]);rngSource.init("math/rand",[{prop:"tap",name:"tap",embedded:false,exported:false,typ:$Int,tag:""},{prop:"feed",name:"feed",embedded:false,exported:false,typ:$Int,tag:""},{prop:"vec",name:"vec",embedded:false,exported:false,typ:arrayType,tag:""}]);$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=nosync.$init();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=math.$init();/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}ke=$toNativeArray($kindUint32,[3801129273,0,2615860924,3279400049,3571300752,3733536696,3836274812,3906990442,3958562475,3997804264,4028649213,4053523342,4074002619,4091154507,4105727352,4118261130,4129155133,4138710916,4147160435,4154685009,4161428406,4167506077,4173011791,4178022498,4182601930,4186803325,4190671498,4194244443,4197554582,4200629752,4203493986,4206168142,4208670408,4211016720,4213221098,4215295924,4217252177,4219099625,4220846988,4222502074,4224071896,4225562770,4226980400,4228329951,4229616109,4230843138,4232014925,4233135020,4234206673,4235232866,4236216336,4237159604,4238064994,4238934652,4239770563,4240574564,4241348362,4242093539,4242811568,4243503822,4244171579,4244816032,4245438297,4246039419,4246620374,4247182079,4247725394,4248251127,4248760037,4249252839,4249730206,4250192773,4250641138,4251075867,4251497493,4251906522,4252303431,4252688672,4253062674,4253425844,4253778565,4254121205,4254454110,4254777611,4255092022,4255397640,4255694750,4255983622,4256264513,4256537670,4256803325,4257061702,4257313014,4257557464,4257795244,4258026541,4258251531,4258470383,4258683258,4258890309,4259091685,4259287526,4259477966,4259663135,4259843154,4260018142,4260188212,4260353470,4260514019,4260669958,4260821380,4260968374,4261111028,4261249421,4261383632,4261513736,4261639802,4261761900,4261880092,4261994441,4262105003,4262211835,4262314988,4262414513,4262510454,4262602857,4262691764,4262777212,4262859239,4262937878,4263013162,4263085118,4263153776,4263219158,4263281289,4263340187,4263395872,4263448358,4263497660,4263543789,4263586755,4263626565,4263663224,4263696735,4263727099,4263754314,4263778377,4263799282,4263817020,4263831582,4263842955,4263851124,4263856071,4263857776,4263856218,4263851370,4263843206,4263831695,4263816804,4263798497,4263776735,4263751476,4263722676,4263690284,4263654251,4263614520,4263571032,4263523724,4263472530,4263417377,4263358192,4263294892,4263227394,4263155608,4263079437,4262998781,4262913534,4262823581,4262728804,4262629075,4262524261,4262414220,4262298801,4262177846,4262051187,4261918645,4261780032,4261635148,4261483780,4261325704,4261160681,4260988457,4260808763,4260621313,4260425802,4260221905,4260009277,4259787550,4259556329,4259315195,4259063697,4258801357,4258527656,4258242044,4257943926,4257632664,4257307571,4256967906,4256612870,4256241598,4255853155,4255446525,4255020608,4254574202,4254106002,4253614578,4253098370,4252555662,4251984571,4251383021,4250748722,4250079132,4249371435,4248622490,4247828790,4246986404,4246090910,4245137315,4244119963,4243032411,4241867296,4240616155,4239269214,4237815118,4236240596,4234530035,4232664930,4230623176,4228378137,4225897409,4223141146,4220059768,4216590757,4212654085,4208145538,4202926710,4196809522,4189531420,4180713890,4169789475,4155865042,4137444620,4111806704,4073393724,4008685917,3873074895]);we=$toNativeArray($kindFloat32,[2.0249555365836613e-09,1.4866739783681027e-11,2.4409616689036184e-11,3.1968806074589295e-11,3.844677007314168e-11,4.42282044321729e-11,4.951644302919611e-11,5.443358958023836e-11,5.905943789574764e-11,6.34494193296753e-11,6.764381416113352e-11,7.167294535648239e-11,7.556032188826833e-11,7.932458162551725e-11,8.298078890689453e-11,8.654132271912474e-11,9.001651507523079e-11,9.341507428706208e-11,9.674443190998971e-11,1.0001099254308699e-10,1.0322031424037093e-10,1.0637725422757427e-10,1.0948611461891744e-10,1.1255067711157807e-10,1.1557434870246297e-10,1.1856014781042035e-10,1.2151082917633005e-10,1.2442885610752796e-10,1.2731647680563896e-10,1.3017574518325858e-10,1.330085347417409e-10,1.3581656632677408e-10,1.386014220061682e-10,1.413645728254309e-10,1.4410737880776736e-10,1.4683107507629245e-10,1.4953686899854546e-10,1.522258291641876e-10,1.5489899640730442e-10,1.575573282952547e-10,1.6020171300645814e-10,1.628330109637588e-10,1.6545202707884954e-10,1.68059510752272e-10,1.7065616975120435e-10,1.73242697965037e-10,1.758197337720091e-10,1.783878739169964e-10,1.8094774290045024e-10,1.834998542005195e-10,1.8604476292871652e-10,1.8858298256319017e-10,1.9111498494872592e-10,1.9364125580789704e-10,1.9616222535212557e-10,1.9867835154840918e-10,2.011900368525943e-10,2.0369768372052732e-10,2.062016807302669e-10,2.0870240258208383e-10,2.1120022397624894e-10,2.136955057352452e-10,2.1618855317040442e-10,2.1867974098199738e-10,2.2116936060356807e-10,2.2365774510202385e-10,2.2614519978869652e-10,2.2863201609713002e-10,2.3111849933865614e-10,2.3360494094681883e-10,2.3609159072179864e-10,2.3857874009713953e-10,2.4106666662859766e-10,2.4355562011635357e-10,2.460458781161634e-10,2.485376904282077e-10,2.5103127909709144e-10,2.5352694943414633e-10,2.560248957284017e-10,2.585253955356137e-10,2.610286709003873e-10,2.6353494386732734e-10,2.6604446423661443e-10,2.6855745405285347e-10,2.71074163116225e-10,2.7359478571575835e-10,2.7611959940720965e-10,2.786487707240326e-10,2.8118254946640775e-10,2.8372118543451563e-10,2.8626484516180994e-10,2.8881380620404684e-10,2.9136826285025563e-10,2.9392840938946563e-10,2.96494523377433e-10,2.990667713476114e-10,3.016454031001814e-10,3.042306406797479e-10,3.068226783753403e-10,3.09421765987139e-10,3.12028125559749e-10,3.1464195138219964e-10,3.17263521010247e-10,3.1989300097734485e-10,3.225306410836737e-10,3.2517669112941405e-10,3.2783134540359526e-10,3.3049485370639786e-10,3.3316743808242677e-10,3.3584937608743815e-10,3.385408342548857e-10,3.4124211789610115e-10,3.4395342130011386e-10,3.4667499426710435e-10,3.494071143528288e-10,3.521500313574677e-10,3.54903967325626e-10,3.576691720574843e-10,3.6044595086437425e-10,3.632345535464765e-10,3.660352021483959e-10,3.688482297370399e-10,3.716738583570134e-10,3.7451239331964814e-10,3.773641121807003e-10,3.802292924959261e-10,3.831082673322328e-10,3.8600128648980103e-10,3.8890865527996255e-10,3.9183070676962473e-10,3.9476774627011935e-10,3.977200790927782e-10,4.006880383045086e-10,4.0367195697221803e-10,4.066721681628138e-10,4.0968900494320337e-10,4.127228558914453e-10,4.15774054074447e-10,4.188429603146915e-10,4.2192993543466173e-10,4.25035395767992e-10,4.2815970213716525e-10,4.313032986313914e-10,4.3446651831757777e-10,4.376498607960855e-10,4.408536868893975e-10,4.4407846844229937e-10,4.4732464954400086e-10,4.5059267428371186e-10,4.538830145062178e-10,4.5719619756745544e-10,4.605326675566346e-10,4.638929240741163e-10,4.672775499869886e-10,4.706869893844612e-10,4.74121908400349e-10,4.775827511238617e-10,4.810701836888143e-10,4.845848167178701e-10,4.881271498113904e-10,4.916979601254923e-10,4.952977472605369e-10,4.989272883726414e-10,5.025872495956207e-10,5.062783525744408e-10,5.100013189540675e-10,5.13756870379467e-10,5.175458395179078e-10,5.21369003525507e-10,5.252272505806843e-10,5.29121357839557e-10,5.330522134805449e-10,5.3702081670437e-10,5.41028055689452e-10,5.450749851476644e-10,5.491624932574268e-10,5.532918012640664e-10,5.574638528571541e-10,5.616799247931681e-10,5.659410717839819e-10,5.702485705860738e-10,5.746036979559221e-10,5.790077306500052e-10,5.83462111958255e-10,5.879682296594524e-10,5.925275825546805e-10,5.971417249561739e-10,6.01812211176167e-10,6.065408175714992e-10,6.113292094767075e-10,6.16179329782085e-10,6.21092954844471e-10,6.260721940876124e-10,6.311191569352559e-10,6.362359528111483e-10,6.414249686947926e-10,6.466885360545405e-10,6.520292639144998e-10,6.574497612987784e-10,6.629528592760892e-10,6.685415554485985e-10,6.742187919073217e-10,6.799880103436351e-10,6.858525969377638e-10,6.918161599145378e-10,6.978825850545434e-10,7.040559801829716e-10,7.103406751696184e-10,7.167412219288849e-10,7.232625609532306e-10,7.2990985477972e-10,7.366885990123251e-10,7.436047333442275e-10,7.506645305355164e-10,7.57874762946642e-10,7.652426470272644e-10,7.727759543385559e-10,7.804830115532013e-10,7.883728114777e-10,7.964550685635174e-10,8.047402189070851e-10,8.132396422944055e-10,8.219657177122031e-10,8.309318788590758e-10,8.401527806789488e-10,8.496445214056791e-10,8.594246980742071e-10,8.695127395874636e-10,8.799300732498239e-10,8.90700457834015e-10,9.01850316648023e-10,9.134091816243028e-10,9.254100818978372e-10,9.37890431984556e-10,9.508922538259412e-10,9.64463842123564e-10,9.78660263939446e-10,9.935448019859905e-10,1.0091912860943353e-09,1.0256859805934937e-09,1.0431305819125214e-09,1.0616465484503124e-09,1.0813799855569073e-09,1.1025096391392708e-09,1.1252564435793033e-09,1.149898620766976e-09,1.176793218427008e-09,1.2064089727203964e-09,1.2393785997488749e-09,1.2765849488616254e-09,1.319313880365769e-09,1.36954347862428e-09,1.4305497897382224e-09,1.5083649884672923e-09,1.6160853766322703e-09,1.7921247819074893e-09]);fe=$toNativeArray($kindFloat32,[1,0.9381436705589294,0.900469958782196,0.8717043399810791,0.847785472869873,0.8269932866096497,0.8084216713905334,0.7915276288986206,0.7759568691253662,0.7614634037017822,0.7478685975074768,0.7350381016731262,0.7228676676750183,0.7112747430801392,0.7001926302909851,0.6895664930343628,0.6793505549430847,0.669506311416626,0.6600008606910706,0.6508058309555054,0.6418967247009277,0.633251965045929,0.62485271692276,0.6166821718215942,0.608725368976593,0.6009689569473267,0.5934008955955505,0.5860103368759155,0.5787873864173889,0.5717230439186096,0.5648092031478882,0.5580382943153381,0.5514034032821655,0.5448982119560242,0.5385168790817261,0.5322538614273071,0.526104211807251,0.5200631618499756,0.5141264200210571,0.5082897543907166,0.5025495290756226,0.4969019889831543,0.4913438558578491,0.4858720004558563,0.48048335313796997,0.4751752018928528,0.4699448347091675,0.4647897481918335,0.4597076177597046,0.4546961486339569,0.4497532546520233,0.44487687945365906,0.4400651156902313,0.4353161156177521,0.4306281507015228,0.42599955201148987,0.42142874002456665,0.4169141948223114,0.4124544560909271,0.40804818272590637,0.4036940038204193,0.39939069747924805,0.3951369822025299,0.39093172550201416,0.38677382469177246,0.38266217708587646,0.378595769405365,0.37457355856895447,0.37059465050697327,0.366658091545105,0.362762987613678,0.358908474445343,0.35509374737739563,0.35131800174713135,0.3475804924964905,0.34388044476509094,0.34021714329719543,0.33658990263938904,0.3329980671405792,0.3294409513473511,0.32591795921325684,0.32242849469184875,0.3189719021320343,0.3155476748943329,0.31215524673461914,0.3087940812110901,0.30546361207962036,0.30216339230537415,0.29889291524887085,0.29565170407295227,0.2924392819404602,0.2892552316188812,0.28609907627105713,0.2829704284667969,0.27986884117126465,0.2767939269542694,0.2737452983856201,0.2707225978374481,0.26772540807724,0.26475343108177185,0.2618062496185303,0.258883535861969,0.2559850215911865,0.25311028957366943,0.25025907158851624,0.24743106961250305,0.2446259707212448,0.24184346199035645,0.23908329010009766,0.23634515702724457,0.2336287796497345,0.23093391954898834,0.22826029360294342,0.22560766339302063,0.22297576069831848,0.22036437690258026,0.21777324378490448,0.21520215272903442,0.212650865316391,0.21011915802955627,0.20760682225227356,0.20511364936828613,0.20263944566249847,0.20018397271633148,0.19774706661701202,0.1953285187482834,0.19292815029621124,0.19054576754570007,0.18818120658397675,0.18583425879478455,0.18350479006767273,0.18119260668754578,0.17889754474163055,0.17661945521831512,0.17435817420482635,0.1721135377883911,0.16988539695739746,0.16767361760139465,0.16547803580760956,0.16329853236675262,0.16113494336605072,0.1589871346950531,0.15685498714447021,0.15473836660385132,0.15263713896274567,0.1505511850118637,0.1484803706407547,0.14642459154129028,0.1443837285041809,0.14235764741897583,0.1403462439775467,0.13834942877292633,0.136367067694664,0.13439907133579254,0.1324453204870224,0.1305057406425476,0.12858019769191742,0.12666863203048706,0.12477091699838638,0.12288697808980942,0.1210167184472084,0.11916005611419678,0.11731690168380737,0.11548716574907303,0.11367076635360718,0.11186762899160385,0.11007767915725708,0.1083008274435997,0.10653700679540634,0.10478614270687103,0.1030481606721878,0.10132300108671188,0.0996105819940567,0.09791085124015808,0.09622374176979065,0.09454918652772903,0.09288713335990906,0.09123751521110535,0.08960027992725372,0.08797537535429001,0.08636274188756943,0.0847623273730278,0.08317409455776215,0.08159798383712769,0.08003395050764084,0.07848194986581802,0.07694194465875626,0.07541389018297195,0.07389774918556213,0.07239348441362381,0.070901058614254,0.06942043453454971,0.06795158982276917,0.06649449467658997,0.06504911929368973,0.06361543387174606,0.06219341605901718,0.06078304722905159,0.0593843050301075,0.05799717456102371,0.05662164092063904,0.05525768920779228,0.05390531197190285,0.05256449431180954,0.05123523622751236,0.04991753399372101,0.04861138388514519,0.047316793352365494,0.04603376239538193,0.044762298464775085,0.04350241273641586,0.04225412383675575,0.04101744294166565,0.039792392402887344,0.03857899457216263,0.03737728297710419,0.03618728369474411,0.03500903770327568,0.03384258225560188,0.0326879620552063,0.031545232981443405,0.030414443463087082,0.0292956605553627,0.028188949450850487,0.027094384655356407,0.02601204626262188,0.024942025542259216,0.023884421214461327,0.022839335724711418,0.021806888282299042,0.020787203684449196,0.019780423492193222,0.018786700442433357,0.017806200310587883,0.016839107498526573,0.015885621309280396,0.014945968054234982,0.01402039173990488,0.013109165243804455,0.012212592177093029,0.011331013403832912,0.010464809834957123,0.009614413604140282,0.008780314587056637,0.007963077165186405,0.007163353264331818,0.0063819061033427715,0.005619642324745655,0.004877655766904354,0.004157294984906912,0.003460264764726162,0.0027887988835573196,0.0021459676790982485,0.001536299823783338,0.0009672692976891994,0.0004541343660093844]);kn=$toNativeArray($kindUint32,[1991057938,0,1611602771,1826899878,1918584482,1969227037,2001281515,2023368125,2039498179,2051788381,2061460127,2069267110,2075699398,2081089314,2085670119,2089610331,2093034710,2096037586,2098691595,2101053571,2103168620,2105072996,2106796166,2108362327,2109791536,2111100552,2112303493,2113412330,2114437283,2115387130,2116269447,2117090813,2117856962,2118572919,2119243101,2119871411,2120461303,2121015852,2121537798,2122029592,2122493434,2122931299,2123344971,2123736059,2124106020,2124456175,2124787725,2125101763,2125399283,2125681194,2125948325,2126201433,2126441213,2126668298,2126883268,2127086657,2127278949,2127460589,2127631985,2127793506,2127945490,2128088244,2128222044,2128347141,2128463758,2128572095,2128672327,2128764606,2128849065,2128925811,2128994934,2129056501,2129110560,2129157136,2129196237,2129227847,2129251929,2129268426,2129277255,2129278312,2129271467,2129256561,2129233410,2129201800,2129161480,2129112170,2129053545,2128985244,2128906855,2128817916,2128717911,2128606255,2128482298,2128345305,2128194452,2128028813,2127847342,2127648860,2127432031,2127195339,2126937058,2126655214,2126347546,2126011445,2125643893,2125241376,2124799783,2124314271,2123779094,2123187386,2122530867,2121799464,2120980787,2120059418,2119015917,2117825402,2116455471,2114863093,2112989789,2110753906,2108037662,2104664315,2100355223,2094642347,2086670106,2074676188,2054300022,2010539237]);wn=$toNativeArray($kindFloat32,[1.7290404663583558e-09,1.2680928529462676e-10,1.689751810696194e-10,1.9862687883343e-10,2.223243117382978e-10,2.4244936613904144e-10,2.601613091623989e-10,2.761198769629658e-10,2.9073962681813725e-10,3.042996965518796e-10,3.169979556627567e-10,3.289802041894774e-10,3.4035738116777736e-10,3.5121602848242617e-10,3.61625090983253e-10,3.7164057942185025e-10,3.813085680537398e-10,3.906675816178762e-10,3.997501218933053e-10,4.0858399996679395e-10,4.1719308563337165e-10,4.255982233303257e-10,4.3381759295968436e-10,4.4186720948857783e-10,4.497613115272969e-10,4.57512583373898e-10,4.6513240481438345e-10,4.726310454117311e-10,4.800177477726209e-10,4.873009773476156e-10,4.944885056978876e-10,5.015873272284921e-10,5.086040477664255e-10,5.155446070048697e-10,5.224146670812502e-10,5.292193350214802e-10,5.359634958068682e-10,5.426517013518151e-10,5.492881705038144e-10,5.558769555769061e-10,5.624218868405251e-10,5.689264614971989e-10,5.75394121238304e-10,5.818281967329142e-10,5.882316855831959e-10,5.946076964136182e-10,6.009590047817426e-10,6.072883862451306e-10,6.135985053390414e-10,6.19892026598734e-10,6.261713370037114e-10,6.324390455780815e-10,6.386973727678935e-10,6.449488165749528e-10,6.511955974453087e-10,6.574400468473129e-10,6.636843297158634e-10,6.699307220081607e-10,6.761814441702541e-10,6.824387166481927e-10,6.887046488657234e-10,6.949815167800466e-10,7.012714853260604e-10,7.075767749498141e-10,7.13899661608508e-10,7.202424212593428e-10,7.266072743483676e-10,7.329966078550854e-10,7.394128087589991e-10,7.458582640396116e-10,7.523354716987285e-10,7.588469852493063e-10,7.653954137154528e-10,7.719834771435785e-10,7.786139510912449e-10,7.852897221383159e-10,7.920137878869582e-10,7.987892014504894e-10,8.056192379868321e-10,8.125072836762115e-10,8.194568912323064e-10,8.264716688799467e-10,8.3355555791087e-10,8.407127216614185e-10,8.479473234679347e-10,8.552640262671218e-10,8.626675485068347e-10,8.701631637464402e-10,8.777562010564566e-10,8.854524335966119e-10,8.932581896381464e-10,9.011799639857543e-10,9.092249730890956e-10,9.174008219758889e-10,9.25715837318819e-10,9.341788453909317e-10,9.42799727177146e-10,9.515889187738935e-10,9.605578554783278e-10,9.697193048552322e-10,9.790869226478094e-10,9.886760299337993e-10,9.985036131254788e-10,1.008588212947359e-09,1.0189509236369076e-09,1.0296150598776421e-09,1.040606933955246e-09,1.0519566329136865e-09,1.0636980185552147e-09,1.0758701707302976e-09,1.0885182755160372e-09,1.101694735439196e-09,1.115461056855338e-09,1.1298901814171813e-09,1.1450695946990663e-09,1.1611052119775422e-09,1.178127595480305e-09,1.1962995039027646e-09,1.2158286599728285e-09,1.2369856250415978e-09,1.2601323318151003e-09,1.2857697129220469e-09,1.3146201904845611e-09,1.3477839955200466e-09,1.3870635751089821e-09,1.43574030442295e-09,1.5008658760251592e-09,1.6030947680434338e-09]);fn=$toNativeArray($kindFloat32,[1,0.963599681854248,0.9362826943397522,0.9130436182022095,0.8922816514968872,0.8732430338859558,0.8555005788803101,0.8387836217880249,0.8229072093963623,0.8077383041381836,0.7931770086288452,0.7791460752487183,0.7655841708183289,0.7524415850639343,0.7396772503852844,0.7272568941116333,0.7151514887809753,0.7033361196517944,0.6917891502380371,0.6804918646812439,0.6694276928901672,0.6585819721221924,0.6479418277740479,0.6374954581260681,0.6272324919700623,0.6171433925628662,0.6072195172309875,0.5974531769752502,0.5878370404243469,0.5783646702766418,0.5690299868583679,0.5598273873329163,0.550751805305481,0.5417983531951904,0.5329626798629761,0.5242405533790588,0.5156282186508179,0.5071220397949219,0.49871864914894104,0.4904148280620575,0.48220765590667725,0.47409430146217346,0.466072142124176,0.45813870429992676,0.45029163360595703,0.44252872467041016,0.4348478317260742,0.42724698781967163,0.41972434520721436,0.41227802634239197,0.40490642189979553,0.39760786294937134,0.3903807997703552,0.3832238018512726,0.3761354684829712,0.3691144585609436,0.36215949058532715,0.3552693724632263,0.3484429717063904,0.3416791558265686,0.33497685194015503,0.32833510637283325,0.3217529058456421,0.3152293860912323,0.30876362323760986,0.3023548424243927,0.2960021495819092,0.2897048592567444,0.28346219658851624,0.2772735059261322,0.271138072013855,0.2650552988052368,0.25902456045150757,0.25304529070854187,0.24711695313453674,0.24123899638652802,0.23541094362735748,0.22963231801986694,0.22390270233154297,0.21822164952754974,0.21258877217769623,0.20700371265411377,0.20146611332893372,0.1959756463766098,0.19053204357624054,0.18513499200344086,0.17978426814079285,0.1744796335697174,0.16922089457511902,0.16400785744190216,0.1588403731584549,0.15371830761432648,0.14864157140254974,0.14361007511615753,0.13862377405166626,0.13368265330791473,0.12878671288490295,0.12393598258495331,0.11913054436445236,0.11437050998210907,0.10965602099895477,0.1049872562289238,0.10036443918943405,0.09578784555196762,0.09125780314207077,0.08677466958761215,0.08233889937400818,0.07795098423957825,0.07361150532960892,0.06932111829519272,0.06508058309555054,0.06089077144861221,0.05675266310572624,0.05266740173101425,0.048636294901371,0.044660862535238266,0.040742866694927216,0.03688438981771469,0.03308788686990738,0.029356317594647408,0.025693291798233986,0.02210330404341221,0.018592102453112602,0.015167297795414925,0.011839478276669979,0.0086244847625494,0.005548994988203049,0.0026696291752159595]);rngCooked=$toNativeArray($kindInt64,[new $Int64(-973649357,3952672746),new $Int64(-1065661887,3130416987),new $Int64(324977939,3414273807),new $Int64(1241840476,2806224363),new $Int64(-1477934308,1997590414),new $Int64(2103305448,2402795971),new $Int64(1663160183,1140819369),new $Int64(1120601685,1788868961),new $Int64(1848035537,1089001426),new $Int64(1235702047,873593504),new $Int64(1911387977,581324885),new $Int64(-1654874170,1609182556),new $Int64(1069394745,1241596776),new $Int64(1895445337,1771189259),new $Int64(-1374618802,3467012610),new $Int64(-140526423,2344407434),new $Int64(-1745367887,782467244),new $Int64(26335124,3404933915),new $Int64(1063924276,618867887),new $Int64(-968700782,520164395),new $Int64(-1591572833,1341358184),new $Int64(-1515085039,665794848),new $Int64(1527227641,3183648150),new $Int64(1781176124,696329606),new $Int64(1789146075,4151988961),new $Int64(-2087444114,998951326),new $Int64(-612324923,1364957564),new $Int64(63173359,4090230633),new $Int64(-1498029007,4009697548),new $Int64(248009524,2569622517),new $Int64(778703922,3742421481),new $Int64(-1109106023,1506914633),new $Int64(1738099768,1983412561),new $Int64(236311649,1436266083),new $Int64(-1111517500,3922894967),new $Int64(-1336974714,1792680179),new $Int64(563141142,1188796351),new $Int64(1349617468,405968250),new $Int64(1044074554,433754187),new $Int64(870549669,4073162024),new $Int64(-1094251604,433121399),new $Int64(2451824,4162580594),new $Int64(-137262572,4132415622),new $Int64(-1536231048,3033822028),new $Int64(2016407895,824682382),new $Int64(2366218,3583765414),new $Int64(-624604839,535386927),new $Int64(1637219058,2286693689),new $Int64(1453075389,2968466525),new $Int64(193683513,1351410206),new $Int64(-283806096,1412813499),new $Int64(492736522,4126267639),new $Int64(512765208,2105529399),new $Int64(2132966268,2413882233),new $Int64(947457634,32226200),new $Int64(1149341356,2032329073),new $Int64(106485445,1356518208),new $Int64(-2067810156,3430061722),new $Int64(-1484435135,3820169661),new $Int64(-1665985194,2981816134),new $Int64(1017155588,4184371017),new $Int64(206574701,2119206761),new $Int64(-852109057,2472200560),new $Int64(-560457548,2853524696),new $Int64(1307803389,1681119904),new $Int64(-174986835,95608918),new $Int64(392686347,3690479145),new $Int64(-1205570926,1397922290),new $Int64(-1159314025,1516129515),new $Int64(-320178155,1547420459),new $Int64(1311333971,1470949486),new $Int64(-1953469798,1336785672),new $Int64(-45086614,4131677129),new $Int64(-1392278100,4246329084),new $Int64(-1142500187,3788585631),new $Int64(-66478285,3080389532),new $Int64(-646438364,2215402037),new $Int64(391002300,1171593935),new $Int64(1408774047,1423855166),new $Int64(-519177718,2276716302),new $Int64(-368453140,2068027241),new $Int64(1369359303,3427553297),new $Int64(189241615,3289637845),new $Int64(1057480830,3486407650),new $Int64(-1512910664,3071877822),new $Int64(1159653919,3363620705),new $Int64(-934256930,4159821533),new $Int64(-76621938,1894661),new $Int64(-674493898,1156868282),new $Int64(348271067,776219088),new $Int64(-501428838,2425634259),new $Int64(1716021749,680510161),new $Int64(-574263456,1310101429),new $Int64(1095885995,2964454134),new $Int64(-325695512,3467098407),new $Int64(1990672920,2109628894),new $Int64(-2139648704,1232604732),new $Int64(-1838070714,3261916179),new $Int64(1699175360,434597899),new $Int64(235436061,1624796439),new $Int64(-1626402839,3589632480),new $Int64(1198416575,864579159),new $Int64(-1938748161,1380889830),new $Int64(619206309,2654509477),new $Int64(1419738251,1468209306),new $Int64(-1744284772,100794388),new $Int64(-1191421458,2991674471),new $Int64(-208666741,2224662036),new $Int64(-173659161,977097250),new $Int64(1351320195,726419512),new $Int64(-183459897,1747974366),new $Int64(-753095183,1556430604),new $Int64(-1049492215,1080776742),new $Int64(-385846958,280794874),new $Int64(117767733,919835643),new $Int64(-967009426,3434019658),new $Int64(-1951414480,2461941785),new $Int64(133215641,3615001066),new $Int64(417204809,3103414427),new $Int64(790056561,3380809712),new $Int64(-1267681408,2724693469),new $Int64(547796833,598827710),new $Int64(-1846559452,3452273442),new $Int64(-75778224,649274915),new $Int64(-801301329,2585724112),new $Int64(-1510934263,3165579553),new $Int64(1185578221,2635894283),new $Int64(-52910178,2053289721),new $Int64(985976581,3169337108),new $Int64(1170569632,144717764),new $Int64(1079216270,1383666384),new $Int64(-124804942,681540375),new $Int64(1375448925,537050586),new $Int64(-1964768344,315246468),new $Int64(226402871,849323088),new $Int64(-885062465,45543944),new $Int64(-946445250,2319052083),new $Int64(-40708194,3613090841),new $Int64(560472520,2992171180),new $Int64(-381863169,2068244785),new $Int64(917538188,4239862634),new $Int64(-1369555809,3892253031),new $Int64(720683925,958186149),new $Int64(-423297785,1877702262),new $Int64(1357886971,837674867),new $Int64(1837048883,1507589294),new $Int64(1905518400,873336795),new $Int64(-1879761037,2764496274),new $Int64(-1806480530,4196182374),new $Int64(-1066765755,550964545),new $Int64(818747069,420611474),new $Int64(-1924830376,204265180),new $Int64(1549974541,1787046383),new $Int64(1215581865,3102292318),new $Int64(418321538,1552199393),new $Int64(1243493047,980542004),new $Int64(267284263,3293718720),new $Int64(1179528763,3771917473),new $Int64(599484404,2195808264),new $Int64(252818753,3894702887),new $Int64(-1367475956,2099949527),new $Int64(1424094358,338442522),new $Int64(490737398,637158004),new $Int64(-1727621530,281976339),new $Int64(574970164,3619802330),new $Int64(-431930823,3084554784),new $Int64(-1264611183,4129772886),new $Int64(-2104399043,1680378557),new $Int64(-1621962591,3339087776),new $Int64(1680500332,4220317857),new $Int64(-1935828963,2959322499),new $Int64(1675600481,1488354890),new $Int64(-834863562,3958162143),new $Int64(-1226511573,2773705983),new $Int64(1876039582,225908689),new $Int64(-1183735113,908216283),new $Int64(-605696219,3574646075),new $Int64(-1827723091,1936937569),new $Int64(1519770881,75492235),new $Int64(816689472,1935193178),new $Int64(2142521206,2018250883),new $Int64(455141620,3943126022),new $Int64(-601399488,3066544345),new $Int64(1932392669,2793082663),new $Int64(-1239009361,3297036421),new $Int64(1640597065,2206987825),new $Int64(-553246738,807894872),new $Int64(-1781325307,766252117),new $Int64(2060649606,3833114345),new $Int64(845619743,1255067973),new $Int64(1201145605,741697208),new $Int64(-1476242608,2810093753),new $Int64(1109032642,4229340371),new $Int64(1462188720,1361684224),new $Int64(-1159399429,1906263026),new $Int64(475781207,3904421704),new $Int64(-623537128,1769075545),new $Int64(1062308525,2621599764),new $Int64(1279509432,3431891480),new $Int64(-1742751146,1871896503),new $Int64(128756421,1412808876),new $Int64(1605404688,952876175),new $Int64(-230443691,1824438899),new $Int64(1662295856,1005035476),new $Int64(-156574141,527508597),new $Int64(1288873303,3066806859),new $Int64(565995893,3244940914),new $Int64(-889746188,209092916),new $Int64(-247669406,1242699167),new $Int64(-713830396,456723774),new $Int64(1776978905,1001252870),new $Int64(1468772157,2026725874),new $Int64(857254202,2137562569),new $Int64(765939740,3183366709),new $Int64(1533887628,2612072960),new $Int64(56977098,1727148468),new $Int64(-1197583895,3803658212),new $Int64(1883670356,479946959),new $Int64(685713571,1562982345),new $Int64(-1946242443,1766109365),new $Int64(700596547,3257093788),new $Int64(-184714929,2365720207),new $Int64(93384808,3742754173),new $Int64(-458385235,2878193673),new $Int64(1096135042,2174002182),new $Int64(-834260953,3573511231),new $Int64(-754572527,1760299077),new $Int64(-1375627191,2260779833),new $Int64(-866019274,1452805722),new $Int64(-1229671918,2940011802),new $Int64(1890251082,1886183802),new $Int64(893897673,2514369088),new $Int64(1644345561,3924317791),new $Int64(-1974867432,500935732),new $Int64(1403501753,676580929),new $Int64(-1565912283,1184984890),new $Int64(-691968413,1271474274),new $Int64(-1828754738,3163791473),new $Int64(2051027584,2842487377),new $Int64(1511537551,2170968612),new $Int64(573262976,3535856740),new $Int64(-2053227187,1488599718),new $Int64(-1180531831,3408913763),new $Int64(-2086531912,2501050084),new $Int64(-875130448,1639124157),new $Int64(-2009482504,4088176393),new $Int64(1574896563,3989947576),new $Int64(-165243708,3414355209),new $Int64(-792329287,2275136352),new $Int64(-2057774345,2151835223),new $Int64(-931144933,1654534827),new $Int64(-679921451,377892833),new $Int64(-482716010,660204544),new $Int64(85706799,390828249),new $Int64(-1422172693,3402783878),new $Int64(-1468634160,3717936603),new $Int64(1113532086,2211058823),new $Int64(1564224320,2692150867),new $Int64(1952770442,1928910388),new $Int64(788716862,3931011137),new $Int64(1083670504,1112701047),new $Int64(-68150572,2452299106),new $Int64(-896164822,2337204777),new $Int64(1774877857,273889282),new $Int64(1798719843,1462008793),new $Int64(2138834788,1554494002),new $Int64(-1194967131,182675323),new $Int64(-1598554764,1882802136),new $Int64(589279648,3700220025),new $Int64(381039426,3083431543),new $Int64(-851859191,3622207527),new $Int64(338126939,432729309),new $Int64(-1667470126,2391914317),new $Int64(-1849558151,235747924),new $Int64(2120733629,3088823825),new $Int64(-745079795,2314658321),new $Int64(1165929723,2957634338),new $Int64(501323675,4117056981),new $Int64(1564699815,1482500298),new $Int64(-740826490,840489337),new $Int64(799522364,3483178565),new $Int64(532129761,2074004656),new $Int64(724246478,3643392642),new $Int64(-665153481,1583624461),new $Int64(-885822954,287473085),new $Int64(1667835381,3136843981),new $Int64(1138806821,1266970974),new $Int64(135185781,1998688839),new $Int64(392094735,1492900209),new $Int64(1031326774,1538112737),new $Int64(-2070568842,2207265429),new $Int64(-1886797613,963263315),new $Int64(1671145500,2295892134),new $Int64(1068469660,2002560897),new $Int64(-356250305,1369254035),new $Int64(33436120,3353312708),new $Int64(57507843,947771099),new $Int64(-1945755145,1747061399),new $Int64(1507240140,2047354631),new $Int64(720000810,4165367136),new $Int64(479265078,3388864963),new $Int64(-952181250,286492130),new $Int64(2045622690,2795735007),new $Int64(-715730566,3703961339),new $Int64(-148436487,1797825479),new $Int64(1429039600,1116589674),new $Int64(-1665420098,2593309206),new $Int64(1329049334,3404995677),new $Int64(-750579440,3453462936),new $Int64(1014767077,3016498634),new $Int64(75698599,1650371545),new $Int64(1592007860,212344364),new $Int64(1127766888,3843932156),new $Int64(-748019856,3573129983),new $Int64(-890581831,665897820),new $Int64(1071492673,1675628772),new $Int64(243225682,2831752928),new $Int64(2120298836,1486294219),new $Int64(-1954407413,268782709),new $Int64(-1002123503,4186179080),new $Int64(624342951,1613720397),new $Int64(857179861,2703686015),new $Int64(-911618704,2205342611),new $Int64(-672703993,1411666394),new $Int64(-1528454899,677744900),new $Int64(-1876628533,4172867247),new $Int64(135494707,2163418403),new $Int64(849547544,2841526879),new $Int64(-1117516959,1082141470),new $Int64(-1770111792,4046134367),new $Int64(51415528,2142943655),new $Int64(-249824333,3124627521),new $Int64(998228909,219992939),new $Int64(-1078790951,1756846531),new $Int64(1283749206,1225118210),new $Int64(-525858006,1647770243),new $Int64(-2035959705,444807907),new $Int64(2036369448,3952076173),new $Int64(53201823,1461839639),new $Int64(315761893,3699250910),new $Int64(702974850,1373688981),new $Int64(734022261,147523747),new $Int64(-2047330906,1211276581),new $Int64(1294440951,2548832680),new $Int64(1144696256,1995631888),new $Int64(-1992983070,2011457303),new $Int64(-1351022674,3057425772),new $Int64(667839456,81484597),new $Int64(-1681980888,3646681560),new $Int64(-1372462725,635548515),new $Int64(602489502,2508044581),new $Int64(-1794220117,1014917157),new $Int64(719992433,3214891315),new $Int64(-1294799037,959582252),new $Int64(226415134,3347040449),new $Int64(-362868096,4102971975),new $Int64(397887437,4078022210),new $Int64(-536803826,2851767182),new $Int64(-1398321012,1540160644),new $Int64(-1549098876,1057290595),new $Int64(-112592988,3907769253),new $Int64(579300318,4248952684),new $Int64(-1054576049,132554364),new $Int64(-1085862414,1029351092),new $Int64(697840928,2583007416),new $Int64(298619124,1486185789),new $Int64(55905697,2871589073),new $Int64(2017643612,723203291),new $Int64(146250550,2494333952),new $Int64(-1082993397,2230939180),new $Int64(-1804568072,3943232912),new $Int64(1768732449,2181367922),new $Int64(-729261111,2889274791),new $Int64(1824032949,2046728161),new $Int64(1653899792,1376052477),new $Int64(1022327048,381236993),new $Int64(-1113097690,3188942166),new $Int64(-74480109,350070824),new $Int64(144881592,61758415),new $Int64(-741824226,3492950336),new $Int64(-2030042720,3093818430),new $Int64(-453590535,2962480613),new $Int64(-1912050708,3154871160),new $Int64(-1636478569,3228564679),new $Int64(610731502,888276216),new $Int64(-946702974,3574998604),new $Int64(-1277068380,1967526716),new $Int64(-1556147941,1554691298),new $Int64(-1573024234,339944798),new $Int64(1223764147,1154515356),new $Int64(1825645307,967516237),new $Int64(1546195135,596588202),new $Int64(-1867600880,3764362170),new $Int64(-1655392592,266611402),new $Int64(-393255880,2047856075),new $Int64(-1000726433,21444105),new $Int64(-949424754,3065563181),new $Int64(-232418803,1140663212),new $Int64(633187674,2323741028),new $Int64(2126290159,3103873707),new $Int64(1008658319,2766828349),new $Int64(-485587503,1970872996),new $Int64(1628585413,3766615585),new $Int64(-595148528,2036813414),new $Int64(-1994877121,3105536507),new $Int64(13954645,3396176938),new $Int64(-721402003,1377154485),new $Int64(-61839181,3807014186),new $Int64(543009040,3710110597),new $Int64(-1751425519,916420443),new $Int64(734556788,2103831255),new $Int64(-1766161494,717331943),new $Int64(-1574598896,3550505941),new $Int64(45939673,378749927),new $Int64(-1997615719,611017331),new $Int64(592130075,758907650),new $Int64(1012992349,154266815),new $Int64(-1040454942,1407468696),new $Int64(-1678191250,970098704),new $Int64(-285057486,1971660656),new $Int64(998365243,3332747885),new $Int64(1947089649,1935189867),new $Int64(1510248801,203520055),new $Int64(-1305165746,3916463034),new $Int64(-388598655,3474113316),new $Int64(1036101639,316544223),new $Int64(-1773744891,1650844677),new $Int64(-907191419,4267565603),new $Int64(-1070275024,2501167616),new $Int64(-1520651863,3929401789),new $Int64(-2091360852,337170252),new $Int64(-960502090,2061966842),new $Int64(-304190848,2508461464),new $Int64(-1941471116,2791377107),new $Int64(1240791848,1227227588),new $Int64(1813978778,1709681848),new $Int64(1153692192,3768820575),new $Int64(-1002297449,2887126398),new $Int64(-1447111334,296561685),new $Int64(700300844,3729960077),new $Int64(-1572311344,372833036),new $Int64(2078875613,2409779288),new $Int64(1829161290,555274064),new $Int64(-1105595719,4239804901),new $Int64(1839403216,3723486978),new $Int64(-1649093095,2145871984),new $Int64(-1582765715,3565480803),new $Int64(-1568653827,2197313814),new $Int64(974785092,3613674566),new $Int64(438638731,3042093666),new $Int64(-96556264,3324034321),new $Int64(869420878,3708873369),new $Int64(946682149,1698090092),new $Int64(1618900382,4213940712),new $Int64(-1843479747,2087477361),new $Int64(-1766167800,2407950639),new $Int64(-1296225558,3942568569),new $Int64(-1223900450,4088074412),new $Int64(723260036,2964773675),new $Int64(-673921829,1539178386),new $Int64(1062961552,2694849566),new $Int64(460977733,2120273838),new $Int64(-1604570740,2484608657),new $Int64(880846449,2956190677),new $Int64(1970902366,4223313749),new $Int64(662161910,3502682327),new $Int64(705634754,4133891139),new $Int64(-1031359300,1166449596),new $Int64(1038247601,3362705993),new $Int64(93734798,3892921029),new $Int64(1876124043,786869787),new $Int64(1057490746,1046342263),new $Int64(242763728,493777327),new $Int64(-853573201,3304827646),new $Int64(616460742,125356352),new $Int64(499300063,74094113),new $Int64(-795586925,2500816079),new $Int64(-490248444,514015239),new $Int64(1377565129,543520454),new $Int64(-2039776725,3614531153),new $Int64(2056746300,2356753985),new $Int64(1390062617,2018141668),new $Int64(131272971,2087974891),new $Int64(-1502927041,3166972343),new $Int64(372256200,1517638666),new $Int64(-935275664,173466846),new $Int64(-695774461,4241513471),new $Int64(-1413550842,2783126920),new $Int64(1972004134,4167264826),new $Int64(29260506,3907395640),new $Int64(-910901561,1539634186),new $Int64(-595957298,178241987),new $Int64(-113277636,182168164),new $Int64(-1102530459,2386154934),new $Int64(1379126408,4077374341),new $Int64(-2114679722,1732699140),new $Int64(-421057745,1041306002),new $Int64(1860414813,2068001749),new $Int64(1005320202,3208962910),new $Int64(844054010,697710380),new $Int64(-1509359403,2228431183),new $Int64(-810313977,3554678728),new $Int64(-750989047,173470263),new $Int64(-85886265,3848297795),new $Int64(-926936977,246236185),new $Int64(-1984190461,2066374846),new $Int64(1771673660,312890749),new $Int64(703378057,3573310289),new $Int64(-598851901,143166754),new $Int64(613554316,2081511079),new $Int64(1197802104,486038032),new $Int64(-1906483789,2982218564),new $Int64(364901986,1000939191),new $Int64(1902782651,2750454885),new $Int64(-671844857,3375313137),new $Int64(-1643868040,881302957),new $Int64(-1508784745,2514186393),new $Int64(-1703622845,360024739),new $Int64(1399671872,292500025),new $Int64(1381210821,2276300752),new $Int64(521803381,4069087683),new $Int64(-1938982667,1637778212),new $Int64(720490469,1676670893),new $Int64(1067262482,3855174429),new $Int64(2114075974,2067248671),new $Int64(-89426259,2884561259),new $Int64(-805741095,2456511185),new $Int64(983726246,561175414),new $Int64(-1719489563,432588903),new $Int64(885133709,4059399550),new $Int64(-93096266,1075014784),new $Int64(-1733832628,2728058415),new $Int64(1839142064,1299703678),new $Int64(1262333188,2347583393),new $Int64(1285481956,2468164145),new $Int64(-1158354011,1140014346),new $Int64(2033889184,1936972070),new $Int64(-1737578993,3870530098),new $Int64(-484494257,1717789158),new $Int64(-232997156,1153452491),new $Int64(-990424416,3948827651),new $Int64(-1357145630,2101413152),new $Int64(1495744672,3854091229),new $Int64(83644069,4215565463),new $Int64(-1385277313,1202710438),new $Int64(-564909037,2072216740),new $Int64(705690639,2066751068),new $Int64(-2113583312,173902580),new $Int64(-741983806,142459001),new $Int64(172391592,1889151926),new $Int64(-498943125,3034199774),new $Int64(1618587731,516490102),new $Int64(93114264,3692577783),new $Int64(-2078821353,2953948865),new $Int64(-320938673,4041040923),new $Int64(-1942517976,592046130),new $Int64(-705643640,384297211),new $Int64(-2051649464,265863924),new $Int64(2101717619,1333136237),new $Int64(1499611781,1406273556),new $Int64(1074670496,426305476),new $Int64(125704633,2750898176),new $Int64(488068495,1633944332),new $Int64(2037723464,3236349343),new $Int64(-1703423246,4013676611),new $Int64(1718532237,2265047407),new $Int64(1433593806,875071080),new $Int64(-343047503,1418843655),new $Int64(2009228711,451657300),new $Int64(1229446621,1866374663),new $Int64(1653472867,1551455622),new $Int64(577191481,3560962459),new $Int64(1669204077,3347903778),new $Int64(-298327194,2675874918),new $Int64(-1831355577,2762991672),new $Int64(530492383,3689068477),new $Int64(844089962,4071997905),new $Int64(1508155730,1381702441),new $Int64(2089931018,2373284878),new $Int64(-864267462,2143983064),new $Int64(308739063,1938207195),new $Int64(1754949306,1188152253),new $Int64(1272345009,615870490),new $Int64(742653194,2662252621),new $Int64(1477718295,3839976789),new $Int64(-2091334213,306752547),new $Int64(-1426688067,2162363077),new $Int64(-57052633,2767224719),new $Int64(-1471624099,2628837712),new $Int64(1678405918,2967771969),new $Int64(1694285728,499792248),new $Int64(-1744131281,4285253508),new $Int64(962357072,2856511070),new $Int64(679471692,2526409716),new $Int64(-1793706473,1240875658),new $Int64(-914893422,2577342868),new $Int64(-1001298215,4136853496),new $Int64(-1477114974,2403540137),new $Int64(1372824515,1371410668),new $Int64(-176562048,371758825),new $Int64(-441063112,1528834084),new $Int64(-71688630,1504757260),new $Int64(-1461820072,699052551),new $Int64(-505543539,3347789870),new $Int64(1951619734,3430604759),new $Int64(2119672219,1935601723),new $Int64(966789690,834676166)]);globalRand=New(new lockedSource.ptr(new nosync.Mutex.ptr(false),$assertType(NewSource(new $Int64(0,1)),Source64)));/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["container/heap"]=function(){var $pkg={},$init,sort,Init,Push,Pop,Remove,up,down;sort=$packages["sort"];Init=function(h){var _q,_r,_r$1,h,i,n,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_q=$f._q;_r=$f._r;_r$1=$f._r$1;h=$f.h;i=$f.i;n=$f.n;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=h.Len();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}n=_r;i=(_q=n/2,_q===_q&&_q!==1/0&&_q!==-1/0?_q>>0:$throwRuntimeError("integer divide by zero"))-1>>0;/* while (true) { */case 2:/* if (!(i >= 0)) { break; } */if(!(i>=0)){$s=3;continue;}_r$1=down(h,i,n);/* */$s=4;case 4:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_r$1;i=i-1>>0;/* } */$s=2;continue;case 3:$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:Init};}$f._q=_q;$f._r=_r;$f._r$1=_r$1;$f.h=h;$f.i=i;$f.n=n;$f.$s=$s;$f.$r=$r;return $f;};$pkg.Init=Init;Push=function(h,x){var _arg,_arg$1,_r,h,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_arg=$f._arg;_arg$1=$f._arg$1;_r=$f._r;h=$f.h;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=h.Push(x);/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}_arg=h;_r=h.Len();/* */$s=2;case 2:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_arg$1=_r-1>>0;$r=up(_arg,_arg$1);/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:Push};}$f._arg=_arg;$f._arg$1=_arg$1;$f._r=_r;$f.h=h;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};$pkg.Push=Push;Pop=function(h){var _r,_r$1,_r$2,h,n,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;h=$f.h;n=$f.n;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=h.Len();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}n=_r-1>>0;$r=h.Swap(0,n);/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}_r$1=down(h,0,n);/* */$s=3;case 3:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_r$1;_r$2=h.Pop();/* */$s=4;case 4:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}$s=-1;return _r$2;/* */}return;}if($f===undefined){$f={$blk:Pop};}$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f.h=h;$f.n=n;$f.$s=$s;$f.$r=$r;return $f;};$pkg.Pop=Pop;Remove=function(h,i){var _r,_r$1,_r$2,h,i,n,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;h=$f.h;i=$f.i;n=$f.n;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=h.Len();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}n=_r-1>>0;/* */if(!(n===i)){$s=2;continue;}/* */$s=3;continue;/* if (!((n === i))) { */case 2:$r=h.Swap(i,n);/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}_r$1=down(h,i,n);/* */$s=7;case 7:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}/* */if(!_r$1){$s=5;continue;}/* */$s=6;continue;/* if (!_r$1) { */case 5:$r=up(h,i);/* */$s=8;case 8:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 6:/* } */case 3:_r$2=h.Pop();/* */$s=9;case 9:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}$s=-1;return _r$2;/* */}return;}if($f===undefined){$f={$blk:Remove};}$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f.h=h;$f.i=i;$f.n=n;$f.$s=$s;$f.$r=$r;return $f;};$pkg.Remove=Remove;up=function(h,j){var _q,_r,_v,h,i,j,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_q=$f._q;_r=$f._r;_v=$f._v;h=$f.h;i=$f.i;j=$f.j;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:/* while (true) { */case 1:i=(_q=(j-1>>0)/2,_q===_q&&_q!==1/0&&_q!==-1/0?_q>>0:$throwRuntimeError("integer divide by zero"));if(i===j){_v=true;$s=5;continue s;}_r=h.Less(j,i);/* */$s=6;case 6:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_v=!_r;case 5:/* */if(_v){$s=3;continue;}/* */$s=4;continue;/* if (_v) { */case 3:/* break; */$s=2;continue;/* } */case 4:$r=h.Swap(i,j);/* */$s=7;case 7:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}j=i;/* } */$s=1;continue;case 2:$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:up};}$f._q=_q;$f._r=_r;$f._v=_v;$f.h=h;$f.i=i;$f.j=j;$f.$s=$s;$f.$r=$r;return $f;};down=function(h,i0,n){var _r,_r$1,_v,h,i,i0,j,j1,j2,n,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_v=$f._v;h=$f.h;i=$f.i;i0=$f.i0;j=$f.j;j1=$f.j1;j2=$f.j2;n=$f.n;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:i=i0;/* while (true) { */case 1:j1=$imul(2,i)+1>>0;if(j1>=n||j1<0){/* break; */$s=2;continue;}j=j1;j2=j1+1>>0;if(!(j2<n)){_v=false;$s=5;continue s;}_r=h.Less(j2,j1);/* */$s=6;case 6:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_v=_r;case 5:/* */if(_v){$s=3;continue;}/* */$s=4;continue;/* if (_v) { */case 3:j=j2;/* } */case 4:_r$1=h.Less(j,i);/* */$s=9;case 9:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}/* */if(!_r$1){$s=7;continue;}/* */$s=8;continue;/* if (!_r$1) { */case 7:/* break; */$s=2;continue;/* } */case 8:$r=h.Swap(i,j);/* */$s=10;case 10:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}i=j;/* } */$s=1;continue;case 2:$s=-1;return i>i0;/* */}return;}if($f===undefined){$f={$blk:down};}$f._r=_r;$f._r$1=_r$1;$f._v=_v;$f.h=h;$f.i=i;$f.i0=i0;$f.j=j;$f.j1=j1;$f.j2=j2;$f.n=n;$f.$s=$s;$f.$r=$r;return $f;};$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=sort.$init();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["tool/astar"]=function(){var $pkg={},$init,heap,math,reflect,Node,NodeMap,NeighborsNode,priorityQueue,ptrType,sliceType,ptrType$1,ReverseSlice,BuildPath,ShortedPathTree;heap=$packages["container/heap"];math=$packages["math"];reflect=$packages["reflect"];Node=$pkg.Node=$newType(0,$kindStruct,"astar.Node",true,"tool/astar",true,function(Pather_,Cost_,Rank_,parent_,open_,closed_,index_){this.$val=this;if(arguments.length===0){this.Pather=$ifaceNil;this.Cost=0;this.Rank=0;this.parent=ptrType.nil;this.open=false;this.closed=false;this.index=0;return;}this.Pather=Pather_;this.Cost=Cost_;this.Rank=Rank_;this.parent=parent_;this.open=open_;this.closed=closed_;this.index=index_;});NodeMap=$pkg.NodeMap=$newType(4,$kindMap,"astar.NodeMap",true,"tool/astar",true,null);NeighborsNode=$pkg.NeighborsNode=$newType(0,$kindStruct,"astar.NeighborsNode",true,"tool/astar",true,function(Pather_,Cost_){this.$val=this;if(arguments.length===0){this.Pather=$ifaceNil;this.Cost=0;return;}this.Pather=Pather_;this.Cost=Cost_;});priorityQueue=$pkg.priorityQueue=$newType(12,$kindSlice,"astar.priorityQueue",true,"tool/astar",false,null);ptrType=$ptrType(Node);sliceType=$sliceType($emptyInterface);ptrType$1=$ptrType(priorityQueue);NodeMap.prototype.get=function(p){var _entry,_key,_tuple,n,nm,ok,p;nm=this.$val;_tuple=(_entry=nm[$emptyInterface.keyFor(p)],_entry!==undefined?[_entry.v,true]:[ptrType.nil,false]);n=_tuple[0];ok=_tuple[1];if(!ok){n=new Node.ptr(p,0,0,ptrType.nil,false,false,0);_key=p;(nm||$throwRuntimeError("assignment to entry in nil map"))[$emptyInterface.keyFor(_key)]={k:_key,v:n};}return n;};$ptrType(NodeMap).prototype.get=function(p){return new NodeMap(this.$get()).get(p);};ReverseSlice=function(s){var _r,_r$1,_r$2,_tmp,_tmp$1,_tmp$2,_tmp$3,i,j,s,size,swap,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tmp$2=$f._tmp$2;_tmp$3=$f._tmp$3;i=$f.i;j=$f.j;s=$f.s;size=$f.size;swap=$f.swap;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=reflect.ValueOf(s);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_r$1=$clone(_r,reflect.Value).Len();/* */$s=2;case 2:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}size=_r$1;_r$2=reflect.Swapper(s);/* */$s=3;case 3:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}swap=_r$2;_tmp=0;_tmp$1=size-1>>0;i=_tmp;j=_tmp$1;/* while (true) { */case 4:/* if (!(i < j)) { break; } */if(!(i<j)){$s=5;continue;}$r=swap(i,j);/* */$s=6;case 6:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}_tmp$2=i+1>>0;_tmp$3=j-1>>0;i=_tmp$2;j=_tmp$3;/* } */$s=4;continue;case 5:$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:ReverseSlice};}$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tmp$2=_tmp$2;$f._tmp$3=_tmp$3;$f.i=i;$f.j=j;$f.s=s;$f.size=size;$f.swap=swap;$f.$s=$s;$f.$r=$r;return $f;};$pkg.ReverseSlice=ReverseSlice;BuildPath=function(current){var curr,current,p,path,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;curr=$f.curr;current=$f.current;p=$f.p;path=$f.path;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:path=sliceType.nil;p=new sliceType([]);curr=current;while(true){if(!!(curr===ptrType.nil)){break;}p=$append(p,curr.Pather);curr=curr.parent;}$r=ReverseSlice(p);/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}path=p;$s=-1;return path;/* */}return;}if($f===undefined){$f={$blk:BuildPath};}$f.curr=curr;$f.current=current;$f.p=p;$f.path=path;$f.$s=$s;$f.$r=$r;return $f;};$pkg.BuildPath=BuildPath;ShortedPathTree=function(from,isGoal,pathNeighbors,pathEstimatedCost){var Cost,_i,_r,_r$1,_r$2,_r$3,_r$4,_ref,_tmp,_tmp$1,_tmp$2,_tmp$3,current,found,from,fromNode,isFind,isGoal,neighbor,neighborNode,nm,nq,pathEstimatedCost,pathNeighbors,tree,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;Cost=$f.Cost;_i=$f._i;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_ref=$f._ref;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tmp$2=$f._tmp$2;_tmp$3=$f._tmp$3;current=$f.current;found=$f.found;from=$f.from;fromNode=$f.fromNode;isFind=$f.isFind;isGoal=$f.isGoal;neighbor=$f.neighbor;neighborNode=$f.neighborNode;nm=$f.nm;nq=$f.nq;pathEstimatedCost=$f.pathEstimatedCost;pathNeighbors=$f.pathNeighbors;tree=$f.tree;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:tree=false;found=false;nm=$makeMap($emptyInterface.keyFor,[]);nq=$newDataPointer(new priorityQueue([]),ptrType$1);$r=heap.Init(nq);/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}fromNode=new NodeMap(nm).get(from);fromNode.open=true;fromNode.Rank=1.7976931348623157e+308;$r=heap.Push(nq,fromNode);/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* while (true) { */case 3:if(nq.Len()===0){_tmp=nm;_tmp$1=false;tree=_tmp;found=_tmp$1;$s=-1;return[tree,found];}_r=heap.Pop(nq);/* */$s=5;case 5:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}current=$assertType(_r,ptrType);current.open=false;current.closed=true;_r$1=isGoal(current);/* */$s=6;case 6:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}isFind=_r$1;if(isFind){_tmp$2=nm;_tmp$3=true;tree=_tmp$2;found=_tmp$3;$s=-1;return[tree,found];}_r$2=pathNeighbors(current);/* */$s=7;case 7:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_ref=_r$2;_i=0;/* while (true) { */case 8:/* if (!(_i < _ref.$length)) { break; } */if(!(_i<_ref.$length)){$s=9;continue;}neighbor=$clone(_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i],NeighborsNode);Cost=current.Cost+neighbor.Cost;neighborNode=new NodeMap(nm).get(neighbor.Pather);/* */if(Cost<neighborNode.Cost){$s=10;continue;}/* */$s=11;continue;/* if (Cost < neighborNode.Cost) { */case 10:/* */if(neighborNode.open){$s=12;continue;}/* */$s=13;continue;/* if (neighborNode.open) { */case 12:_r$3=heap.Remove(nq,neighborNode.index);/* */$s=14;case 14:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_r$3;/* } */case 13:neighborNode.open=false;neighborNode.closed=false;/* } */case 11:/* */if(!neighborNode.open&&!neighborNode.closed){$s=15;continue;}/* */$s=16;continue;/* if (!neighborNode.open && !neighborNode.closed) { */case 15:neighborNode.Cost=Cost;neighborNode.open=true;_r$4=pathEstimatedCost(neighborNode);/* */$s=17;case 17:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}neighborNode.Rank=Cost+_r$4;neighborNode.parent=current;$r=heap.Push(nq,neighborNode);/* */$s=18;case 18:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 16:_i++;/* } */$s=8;continue;case 9:/* } */$s=3;continue;case 4:$s=-1;return[tree,found];/* */}return;}if($f===undefined){$f={$blk:ShortedPathTree};}$f.Cost=Cost;$f._i=_i;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._ref=_ref;$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tmp$2=_tmp$2;$f._tmp$3=_tmp$3;$f.current=current;$f.found=found;$f.from=from;$f.fromNode=fromNode;$f.isFind=isFind;$f.isGoal=isGoal;$f.neighbor=neighbor;$f.neighborNode=neighborNode;$f.nm=nm;$f.nq=nq;$f.pathEstimatedCost=pathEstimatedCost;$f.pathNeighbors=pathNeighbors;$f.tree=tree;$f.$s=$s;$f.$r=$r;return $f;};$pkg.ShortedPathTree=ShortedPathTree;priorityQueue.prototype.Len=function(){var pq;pq=this;return pq.$length;};$ptrType(priorityQueue).prototype.Len=function(){return this.$get().Len();};priorityQueue.prototype.Less=function(i,j){var i,j,pq;pq=this;return(i<0||i>=pq.$length?($throwRuntimeError("index out of range"),undefined):pq.$array[pq.$offset+i]).Rank<(j<0||j>=pq.$length?($throwRuntimeError("index out of range"),undefined):pq.$array[pq.$offset+j]).Rank;};$ptrType(priorityQueue).prototype.Less=function(i,j){return this.$get().Less(i,j);};priorityQueue.prototype.Swap=function(i,j){var _tmp,_tmp$1,i,j,pq;pq=this;_tmp=j<0||j>=pq.$length?($throwRuntimeError("index out of range"),undefined):pq.$array[pq.$offset+j];_tmp$1=i<0||i>=pq.$length?($throwRuntimeError("index out of range"),undefined):pq.$array[pq.$offset+i];i<0||i>=pq.$length?($throwRuntimeError("index out of range"),undefined):pq.$array[pq.$offset+i]=_tmp;j<0||j>=pq.$length?($throwRuntimeError("index out of range"),undefined):pq.$array[pq.$offset+j]=_tmp$1;(i<0||i>=pq.$length?($throwRuntimeError("index out of range"),undefined):pq.$array[pq.$offset+i]).index=i;(j<0||j>=pq.$length?($throwRuntimeError("index out of range"),undefined):pq.$array[pq.$offset+j]).index=j;};$ptrType(priorityQueue).prototype.Swap=function(i,j){return this.$get().Swap(i,j);};$ptrType(priorityQueue).prototype.Push=function(x){var n,no,pq,x;pq=this;n=pq.$get().$length;no=$assertType(x,ptrType);no.index=n;pq.$set($append(pq.$get(),no));};$ptrType(priorityQueue).prototype.Pop=function(){var n,no,old,pq,x;pq=this;old=pq.$get();n=old.$length;no=(x=n-1>>0,x<0||x>=old.$length?($throwRuntimeError("index out of range"),undefined):old.$array[old.$offset+x]);no.index=-1;pq.$set($subslice(old,0,n-1>>0));return no;};NodeMap.methods=[{prop:"get",name:"get",pkg:"tool/astar",typ:$funcType([$emptyInterface],[ptrType],false)}];priorityQueue.methods=[{prop:"Len",name:"Len",pkg:"",typ:$funcType([],[$Int],false)},{prop:"Less",name:"Less",pkg:"",typ:$funcType([$Int,$Int],[$Bool],false)},{prop:"Swap",name:"Swap",pkg:"",typ:$funcType([$Int,$Int],[],false)}];ptrType$1.methods=[{prop:"Push",name:"Push",pkg:"",typ:$funcType([$emptyInterface],[],false)},{prop:"Pop",name:"Pop",pkg:"",typ:$funcType([],[$emptyInterface],false)}];Node.init("tool/astar",[{prop:"Pather",name:"Pather",embedded:false,exported:true,typ:$emptyInterface,tag:""},{prop:"Cost",name:"Cost",embedded:false,exported:true,typ:$Float64,tag:""},{prop:"Rank",name:"Rank",embedded:false,exported:true,typ:$Float64,tag:""},{prop:"parent",name:"parent",embedded:false,exported:false,typ:ptrType,tag:""},{prop:"open",name:"open",embedded:false,exported:false,typ:$Bool,tag:""},{prop:"closed",name:"closed",embedded:false,exported:false,typ:$Bool,tag:""},{prop:"index",name:"index",embedded:false,exported:false,typ:$Int,tag:""}]);NodeMap.init($emptyInterface,ptrType);NeighborsNode.init("",[{prop:"Pather",name:"Pather",embedded:false,exported:true,typ:$emptyInterface,tag:""},{prop:"Cost",name:"Cost",embedded:false,exported:true,typ:$Float64,tag:""}]);priorityQueue.init(ptrType);$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=heap.$init();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=math.$init();/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=reflect.$init();/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["app/tool/protocol"]=function(){var $pkg={},$init,fmt,rand,time,astar,StateReasonWin,StateReasonLose,StateReasonGiveUp,IModel,Position,Robot,Item,Pilot,Weapon,Component,Player,Tag,RobotMenu,BattleMenu,BattleAnimation,BattleResult,HitMark,NewGameplayWithSelection,NewModelWithTest,sliceType,arrayType,sliceType$2,arrayType$1,sliceType$3,mapType,sliceType$11,arrayType$2,mapType$1,mapType$2,sliceType$12,mapType$3,mapType$4,mapType$5,mapType$6,funcType,funcType$1,mapType$7,_r,DifferencePosition,IntersectionPosition,KesStringComponent,AssocStringComponent,KesStringPilot,AssocStringPilot,DissocStringPilot,TryGetStringPilot,TryGetStringPlayer,AssocStringPosition,DissocStringPosition,TryGetStringPosition,KesStringRobot,AssocStringRobot,DissocStringRobot,TryGetStringRobot,AssocStringTag,DissocStringTag,TryGetStringTag,KesStringWeapon,AssocStringWeapon,TryGetStringWeapon,FilterStringWeapon;fmt=$packages["fmt"];rand=$packages["math/rand"];time=$packages["time"];astar=$packages["tool/astar"];StateReasonWin=$pkg.StateReasonWin=$newType(0,$kindStruct,"protocol.StateReasonWin",true,"app/tool/protocol",true,function(){this.$val=this;if(arguments.length===0){return;}});StateReasonLose=$pkg.StateReasonLose=$newType(0,$kindStruct,"protocol.StateReasonLose",true,"app/tool/protocol",true,function(){this.$val=this;if(arguments.length===0){return;}});StateReasonGiveUp=$pkg.StateReasonGiveUp=$newType(0,$kindStruct,"protocol.StateReasonGiveUp",true,"app/tool/protocol",true,function(){this.$val=this;if(arguments.length===0){return;}});IModel=$pkg.IModel=$newType(8,$kindInterface,"protocol.IModel",true,"app/tool/protocol",true,null);Position=$pkg.Position=$newType(8,$kindArray,"protocol.Position",true,"app/tool/protocol",true,null);Robot=$pkg.Robot=$newType(0,$kindStruct,"protocol.Robot",true,"app/tool/protocol",true,function(ID_,PlayerID_,ProtoID_,PilotID_,Transform_,HP_,EN_,WeaponsByTransform_,Components_,Title_,MaxHP_,MaxEN_,Armor_,BeamArmor_,Cost_,Power_,MaxPower_,Suitability_,UnlockExp_,Weapons_){this.$val=this;if(arguments.length===0){this.ID="";this.PlayerID="";this.ProtoID="";this.PilotID="";this.Transform="";this.HP=0;this.EN=0;this.WeaponsByTransform=false;this.Components=false;this.Title="";this.MaxHP=0;this.MaxEN=0;this.Armor=0;this.BeamArmor=0;this.Cost=0;this.Power=0;this.MaxPower=0;this.Suitability=arrayType.zero();this.UnlockExp=0;this.Weapons=false;return;}this.ID=ID_;this.PlayerID=PlayerID_;this.ProtoID=ProtoID_;this.PilotID=PilotID_;this.Transform=Transform_;this.HP=HP_;this.EN=EN_;this.WeaponsByTransform=WeaponsByTransform_;this.Components=Components_;this.Title=Title_;this.MaxHP=MaxHP_;this.MaxEN=MaxEN_;this.Armor=Armor_;this.BeamArmor=BeamArmor_;this.Cost=Cost_;this.Power=Power_;this.MaxPower=MaxPower_;this.Suitability=Suitability_;this.UnlockExp=UnlockExp_;this.Weapons=Weapons_;});Item=$pkg.Item=$newType(0,$kindStruct,"protocol.Item",true,"app/tool/protocol",true,function(ID_,ProtoID_,Title_){this.$val=this;if(arguments.length===0){this.ID="";this.ProtoID="";this.Title="";return;}this.ID=ID_;this.ProtoID=ProtoID_;this.Title=Title_;});Pilot=$pkg.Pilot=$newType(0,$kindStruct,"protocol.Pilot",true,"app/tool/protocol",true,function(ID_,ProtoID_,Title_,Melee_,Range_,Atk_,Tech_,Evade_,Guard_,ExpMelee_,ExpRange_,ExpEvade_,ExpGuard_,Exp_){this.$val=this;if(arguments.length===0){this.ID="";this.ProtoID="";this.Title="";this.Melee=0;this.Range=0;this.Atk=0;this.Tech=0;this.Evade=0;this.Guard=0;this.ExpMelee=0;this.ExpRange=0;this.ExpEvade=0;this.ExpGuard=0;this.Exp=0;return;}this.ID=ID_;this.ProtoID=ProtoID_;this.Title=Title_;this.Melee=Melee_;this.Range=Range_;this.Atk=Atk_;this.Tech=Tech_;this.Evade=Evade_;this.Guard=Guard_;this.ExpMelee=ExpMelee_;this.ExpRange=ExpRange_;this.ExpEvade=ExpEvade_;this.ExpGuard=ExpGuard_;this.Exp=Exp_;});Weapon=$pkg.Weapon=$newType(0,$kindStruct,"protocol.Weapon",true,"app/tool/protocol",true,function(ID_,ProtoID_,BulletCount_,Title_,PowerCost_,Range_,EnergyCost_,MaxBulletCount_,Suitability_,Ability_,EnergyType_,Type_,Accuracy_,Damage_,Curage_,UnlockExp_){this.$val=this;if(arguments.length===0){this.ID="";this.ProtoID="";this.BulletCount=0;this.Title="";this.PowerCost=0;this.Range=arrayType$1.zero();this.EnergyCost=0;this.MaxBulletCount=0;this.Suitability=arrayType.zero();this.Ability=sliceType$3.nil;this.EnergyType="";this.Type="";this.Accuracy=0;this.Damage=0;this.Curage=0;this.UnlockExp=0;return;}this.ID=ID_;this.ProtoID=ProtoID_;this.BulletCount=BulletCount_;this.Title=Title_;this.PowerCost=PowerCost_;this.Range=Range_;this.EnergyCost=EnergyCost_;this.MaxBulletCount=MaxBulletCount_;this.Suitability=Suitability_;this.Ability=Ability_;this.EnergyType=EnergyType_;this.Type=Type_;this.Accuracy=Accuracy_;this.Damage=Damage_;this.Curage=Curage_;this.UnlockExp=UnlockExp_;});Component=$pkg.Component=$newType(0,$kindStruct,"protocol.Component",true,"app/tool/protocol",true,function(ID_,ProtoID_,Title_,Cost_,Desc_,Value_,PowerCost_,Action_){this.$val=this;if(arguments.length===0){this.ID="";this.ProtoID="";this.Title="";this.Cost=0;this.Desc="";this.Value=sliceType$3.nil;this.PowerCost=0;this.Action="";return;}this.ID=ID_;this.ProtoID=ProtoID_;this.Title=Title_;this.Cost=Cost_;this.Desc=Desc_;this.Value=Value_;this.PowerCost=PowerCost_;this.Action=Action_;});Player=$pkg.Player=$newType(0,$kindStruct,"protocol.Player",true,"app/tool/protocol",true,function(ID_,GroupID_){this.$val=this;if(arguments.length===0){this.ID="";this.GroupID="";return;}this.ID=ID_;this.GroupID=GroupID_;});Tag=$pkg.Tag=$newType(0,$kindStruct,"protocol.Tag",true,"app/tool/protocol",true,function(MoveCount_,Sky_,IsDone_){this.$val=this;if(arguments.length===0){this.MoveCount=0;this.Sky=false;this.IsDone=false;return;}this.MoveCount=MoveCount_;this.Sky=Sky_;this.IsDone=IsDone_;});RobotMenu=$pkg.RobotMenu=$newType(0,$kindStruct,"protocol.RobotMenu",true,"app/tool/protocol",true,function(Active_,ActiveRobotID_,Options_,RowFunctionMapping_,Weapons_,InvalidWeapons_,Transforms_){this.$val=this;if(arguments.length===0){this.Active=false;this.ActiveRobotID="";this.Options=sliceType$12.nil;this.RowFunctionMapping=false;this.Weapons=false;this.InvalidWeapons=false;this.Transforms=false;return;}this.Active=Active_;this.ActiveRobotID=ActiveRobotID_;this.Options=Options_;this.RowFunctionMapping=RowFunctionMapping_;this.Weapons=Weapons_;this.InvalidWeapons=InvalidWeapons_;this.Transforms=Transforms_;});BattleMenu=$pkg.BattleMenu=$newType(0,$kindStruct,"protocol.BattleMenu",true,"app/tool/protocol",true,function(Active_,AttackRobot_,AttackPilot_,AttackWeapon_,DeffenceRobot_,DeffencePilot_){this.$val=this;if(arguments.length===0){this.Active=false;this.AttackRobot=new Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType.zero(),0,false);this.AttackPilot=new Pilot.ptr("","","",0,0,0,0,0,0,0,0,0,0,0);this.AttackWeapon=new Weapon.ptr("","",0,"",0,arrayType$1.zero(),0,0,arrayType.zero(),sliceType$3.nil,"","",0,0,0,0);this.DeffenceRobot=new Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType.zero(),0,false);this.DeffencePilot=new Pilot.ptr("","","",0,0,0,0,0,0,0,0,0,0,0);return;}this.Active=Active_;this.AttackRobot=AttackRobot_;this.AttackPilot=AttackPilot_;this.AttackWeapon=AttackWeapon_;this.DeffenceRobot=DeffenceRobot_;this.DeffencePilot=DeffencePilot_;});BattleAnimation=$pkg.BattleAnimation=$newType(0,$kindStruct,"protocol.BattleAnimation",true,"app/tool/protocol",true,function(Type_,RobotBefore_,RobotAfter_,Damage_,Positions_,AimPosition_){this.$val=this;if(arguments.length===0){this.Type=0;this.RobotBefore=new Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType.zero(),0,false);this.RobotAfter=new Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType.zero(),0,false);this.Damage=0;this.Positions=false;this.AimPosition=arrayType$2.zero();return;}this.Type=Type_;this.RobotBefore=RobotBefore_;this.RobotAfter=RobotAfter_;this.Damage=Damage_;this.Positions=Positions_;this.AimPosition=AimPosition_;});BattleResult=$pkg.BattleResult=$newType(0,$kindStruct,"protocol.BattleResult",true,"app/tool/protocol",true,function(Animations_){this.$val=this;if(arguments.length===0){this.Animations=sliceType$11.nil;return;}this.Animations=Animations_;});HitMark=$pkg.HitMark=$newType(0,$kindStruct,"protocol.HitMark",true,"app/tool/protocol",true,function(HitRate_,Rate_){this.$val=this;if(arguments.length===0){this.HitRate=0;this.Rate=0;return;}this.HitRate=HitRate_;this.Rate=Rate_;});NewGameplayWithSelection=$pkg.NewGameplayWithSelection=$newType(0,$kindStruct,"protocol.NewGameplayWithSelection",true,"app/tool/protocol",true,function(UnitSelection_,LevelSelection_){this.$val=this;if(arguments.length===0){this.UnitSelection=false;this.LevelSelection="";return;}this.UnitSelection=UnitSelection_;this.LevelSelection=LevelSelection_;});NewModelWithTest=$pkg.NewModelWithTest=$newType(0,$kindStruct,"protocol.NewModelWithTest",true,"app/tool/protocol",true,function(){this.$val=this;if(arguments.length===0){return;}});sliceType=$sliceType($emptyInterface);arrayType=$arrayType($Float64,4);sliceType$2=$sliceType(Position);arrayType$1=$arrayType($Int,2);sliceType$3=$sliceType($String);mapType=$mapType($String,Weapon);sliceType$11=$sliceType(BattleAnimation);arrayType$2=$arrayType(Position,2);mapType$1=$mapType($String,mapType);mapType$2=$mapType($String,Component);sliceType$12=$sliceType(sliceType$3);mapType$3=$mapType($Int,$Int);mapType$4=$mapType($String,$String);mapType$5=$mapType($String,Robot);mapType$6=$mapType($String,Position);funcType=$funcType([Position],[Position],false);funcType$1=$funcType([Robot],[Robot],false);mapType$7=$mapType($String,$Bool);DifferencePosition=function(a,b){var _i,_i$1,_ref,_ref$1,a,b,has,ret,v,v2;ret=new sliceType$2([]);_ref=a;_i=0;while(true){if(!(_i<_ref.$length)){break;}v=$clone(_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i],Position);has=false;_ref$1=b;_i$1=0;while(true){if(!(_i$1<_ref$1.$length)){break;}v2=$clone(_i$1<0||_i$1>=_ref$1.$length?($throwRuntimeError("index out of range"),undefined):_ref$1.$array[_ref$1.$offset+_i$1],Position);if($equal(v,v2,Position)){has=true;break;}_i$1++;}if(has===false){ret=$append(ret,v);}_i++;}return ret;};$pkg.DifferencePosition=DifferencePosition;IntersectionPosition=function(a,b){var _i,_i$1,_ref,_ref$1,a,b,ret,v,v2;ret=new sliceType$2([]);_ref=a;_i=0;while(true){if(!(_i<_ref.$length)){break;}v=$clone(_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i],Position);_ref$1=b;_i$1=0;while(true){if(!(_i$1<_ref$1.$length)){break;}v2=$clone(_i$1<0||_i$1>=_ref$1.$length?($throwRuntimeError("index out of range"),undefined):_ref$1.$array[_ref$1.$offset+_i$1],Position);if($equal(v,v2,Position)){ret=$append(ret,v);}_i$1++;}_i++;}return ret;};$pkg.IntersectionPosition=IntersectionPosition;KesStringComponent=function(dict){var _entry,_i,_keys,_ref,dict,k,ret;ret=$makeSlice(sliceType$3,0,$keys(dict).length);_ref=dict;_i=0;_keys=$keys(_ref);while(true){if(!(_i<_keys.length)){break;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;continue;}k=_entry.k;ret=$append(ret,k);_i++;}return ret;};$pkg.KesStringComponent=KesStringComponent;AssocStringComponent=function(a,k,v){var _entry,_i,_key,_key$1,_keys,_ref,a,k,k$1,ret,v,v$1;ret=$makeMap($String.keyFor,[]);_ref=a;_i=0;_keys=$keys(_ref);while(true){if(!(_i<_keys.length)){break;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;continue;}k$1=_entry.k;v$1=$clone(_entry.v,Component);_key=k$1;(ret||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key)]={k:_key,v:$clone(v$1,Component)};_i++;}_key$1=k;(ret||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key$1)]={k:_key$1,v:$clone(v,Component)};return ret;};$pkg.AssocStringComponent=AssocStringComponent;KesStringPilot=function(dict){var _entry,_i,_keys,_ref,dict,k,ret;ret=$makeSlice(sliceType$3,0,$keys(dict).length);_ref=dict;_i=0;_keys=$keys(_ref);while(true){if(!(_i<_keys.length)){break;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;continue;}k=_entry.k;ret=$append(ret,k);_i++;}return ret;};$pkg.KesStringPilot=KesStringPilot;AssocStringPilot=function(a,k,v){var _entry,_i,_key,_key$1,_keys,_ref,a,k,k$1,ret,v,v$1;ret=$makeMap($String.keyFor,[]);_ref=a;_i=0;_keys=$keys(_ref);while(true){if(!(_i<_keys.length)){break;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;continue;}k$1=_entry.k;v$1=$clone(_entry.v,Pilot);_key=k$1;(ret||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key)]={k:_key,v:$clone(v$1,Pilot)};_i++;}_key$1=k;(ret||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key$1)]={k:_key$1,v:$clone(v,Pilot)};return ret;};$pkg.AssocStringPilot=AssocStringPilot;DissocStringPilot=function(a,k){var _entry,_i,_key,_keys,_ref,a,k,k$1,ret,v;ret=$makeMap($String.keyFor,[]);_ref=a;_i=0;_keys=$keys(_ref);while(true){if(!(_i<_keys.length)){break;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;continue;}k$1=_entry.k;v=$clone(_entry.v,Pilot);_key=k$1;(ret||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key)]={k:_key,v:$clone(v,Pilot)};_i++;}delete ret[$String.keyFor(k)];return ret;};$pkg.DissocStringPilot=DissocStringPilot;TryGetStringPilot=function(a,k){var _entry,_r$1,_tuple,a,has,k,ret,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_r$1=$f._r$1;_tuple=$f._tuple;a=$f.a;has=$f.has;k=$f.k;ret=$f.ret;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_tuple=(_entry=a[$String.keyFor(k)],_entry!==undefined?[_entry.v,true]:[new Pilot.ptr("","","",0,0,0,0,0,0,0,0,0,0,0),false]);ret=$clone(_tuple[0],Pilot);has=_tuple[1];/* */if(has===false){$s=1;continue;}/* */$s=2;continue;/* if (has === false) { */case 1:_r$1=fmt.Errorf("[TryGetStringPilot] key not found: %v",new sliceType([new $String(k)]));/* */$s=3;case 3:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}$s=-1;return[ret,_r$1];/* } */case 2:$s=-1;return[ret,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:TryGetStringPilot};}$f._entry=_entry;$f._r$1=_r$1;$f._tuple=_tuple;$f.a=a;$f.has=has;$f.k=k;$f.ret=ret;$f.$s=$s;$f.$r=$r;return $f;};$pkg.TryGetStringPilot=TryGetStringPilot;TryGetStringPlayer=function(a,k){var _entry,_r$1,_tuple,a,has,k,ret,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_r$1=$f._r$1;_tuple=$f._tuple;a=$f.a;has=$f.has;k=$f.k;ret=$f.ret;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_tuple=(_entry=a[$String.keyFor(k)],_entry!==undefined?[_entry.v,true]:[new Player.ptr("",""),false]);ret=$clone(_tuple[0],Player);has=_tuple[1];/* */if(has===false){$s=1;continue;}/* */$s=2;continue;/* if (has === false) { */case 1:_r$1=fmt.Errorf("[TryGetStringPlayer] key not found: %v",new sliceType([new $String(k)]));/* */$s=3;case 3:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}$s=-1;return[ret,_r$1];/* } */case 2:$s=-1;return[ret,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:TryGetStringPlayer};}$f._entry=_entry;$f._r$1=_r$1;$f._tuple=_tuple;$f.a=a;$f.has=has;$f.k=k;$f.ret=ret;$f.$s=$s;$f.$r=$r;return $f;};$pkg.TryGetStringPlayer=TryGetStringPlayer;AssocStringPosition=function(a,k,v){var _entry,_i,_key,_key$1,_keys,_ref,a,k,k$1,ret,v,v$1;ret=$makeMap($String.keyFor,[]);_ref=a;_i=0;_keys=$keys(_ref);while(true){if(!(_i<_keys.length)){break;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;continue;}k$1=_entry.k;v$1=$clone(_entry.v,Position);_key=k$1;(ret||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key)]={k:_key,v:$clone(v$1,Position)};_i++;}_key$1=k;(ret||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key$1)]={k:_key$1,v:$clone(v,Position)};return ret;};$pkg.AssocStringPosition=AssocStringPosition;DissocStringPosition=function(a,k){var _entry,_i,_key,_keys,_ref,a,k,k$1,ret,v;ret=$makeMap($String.keyFor,[]);_ref=a;_i=0;_keys=$keys(_ref);while(true){if(!(_i<_keys.length)){break;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;continue;}k$1=_entry.k;v=$clone(_entry.v,Position);_key=k$1;(ret||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key)]={k:_key,v:$clone(v,Position)};_i++;}delete ret[$String.keyFor(k)];return ret;};$pkg.DissocStringPosition=DissocStringPosition;TryGetStringPosition=function(a,k){var _entry,_r$1,_tuple,a,has,k,ret,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_r$1=$f._r$1;_tuple=$f._tuple;a=$f.a;has=$f.has;k=$f.k;ret=$f.ret;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_tuple=(_entry=a[$String.keyFor(k)],_entry!==undefined?[_entry.v,true]:[arrayType$1.zero(),false]);ret=$clone(_tuple[0],Position);has=_tuple[1];/* */if(has===false){$s=1;continue;}/* */$s=2;continue;/* if (has === false) { */case 1:_r$1=fmt.Errorf("[TryGetStringPosition] key not found: %v",new sliceType([new $String(k)]));/* */$s=3;case 3:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}$s=-1;return[ret,_r$1];/* } */case 2:$s=-1;return[ret,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:TryGetStringPosition};}$f._entry=_entry;$f._r$1=_r$1;$f._tuple=_tuple;$f.a=a;$f.has=has;$f.k=k;$f.ret=ret;$f.$s=$s;$f.$r=$r;return $f;};$pkg.TryGetStringPosition=TryGetStringPosition;KesStringRobot=function(dict){var _entry,_i,_keys,_ref,dict,k,ret;ret=$makeSlice(sliceType$3,0,$keys(dict).length);_ref=dict;_i=0;_keys=$keys(_ref);while(true){if(!(_i<_keys.length)){break;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;continue;}k=_entry.k;ret=$append(ret,k);_i++;}return ret;};$pkg.KesStringRobot=KesStringRobot;AssocStringRobot=function(a,k,v){var _entry,_i,_key,_key$1,_keys,_ref,a,k,k$1,ret,v,v$1;ret=$makeMap($String.keyFor,[]);_ref=a;_i=0;_keys=$keys(_ref);while(true){if(!(_i<_keys.length)){break;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;continue;}k$1=_entry.k;v$1=$clone(_entry.v,Robot);_key=k$1;(ret||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key)]={k:_key,v:$clone(v$1,Robot)};_i++;}_key$1=k;(ret||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key$1)]={k:_key$1,v:$clone(v,Robot)};return ret;};$pkg.AssocStringRobot=AssocStringRobot;DissocStringRobot=function(a,k){var _entry,_i,_key,_keys,_ref,a,k,k$1,ret,v;ret=$makeMap($String.keyFor,[]);_ref=a;_i=0;_keys=$keys(_ref);while(true){if(!(_i<_keys.length)){break;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;continue;}k$1=_entry.k;v=$clone(_entry.v,Robot);_key=k$1;(ret||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key)]={k:_key,v:$clone(v,Robot)};_i++;}delete ret[$String.keyFor(k)];return ret;};$pkg.DissocStringRobot=DissocStringRobot;TryGetStringRobot=function(a,k){var _entry,_r$1,_tuple,a,has,k,ret,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_r$1=$f._r$1;_tuple=$f._tuple;a=$f.a;has=$f.has;k=$f.k;ret=$f.ret;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_tuple=(_entry=a[$String.keyFor(k)],_entry!==undefined?[_entry.v,true]:[new Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType.zero(),0,false),false]);ret=$clone(_tuple[0],Robot);has=_tuple[1];/* */if(has===false){$s=1;continue;}/* */$s=2;continue;/* if (has === false) { */case 1:_r$1=fmt.Errorf("[TryGetStringRobot] key not found: %v",new sliceType([new $String(k)]));/* */$s=3;case 3:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}$s=-1;return[ret,_r$1];/* } */case 2:$s=-1;return[ret,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:TryGetStringRobot};}$f._entry=_entry;$f._r$1=_r$1;$f._tuple=_tuple;$f.a=a;$f.has=has;$f.k=k;$f.ret=ret;$f.$s=$s;$f.$r=$r;return $f;};$pkg.TryGetStringRobot=TryGetStringRobot;AssocStringTag=function(a,k,v){var _entry,_i,_key,_key$1,_keys,_ref,a,k,k$1,ret,v,v$1;ret=$makeMap($String.keyFor,[]);_ref=a;_i=0;_keys=$keys(_ref);while(true){if(!(_i<_keys.length)){break;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;continue;}k$1=_entry.k;v$1=$clone(_entry.v,Tag);_key=k$1;(ret||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key)]={k:_key,v:$clone(v$1,Tag)};_i++;}_key$1=k;(ret||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key$1)]={k:_key$1,v:$clone(v,Tag)};return ret;};$pkg.AssocStringTag=AssocStringTag;DissocStringTag=function(a,k){var _entry,_i,_key,_keys,_ref,a,k,k$1,ret,v;ret=$makeMap($String.keyFor,[]);_ref=a;_i=0;_keys=$keys(_ref);while(true){if(!(_i<_keys.length)){break;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;continue;}k$1=_entry.k;v=$clone(_entry.v,Tag);_key=k$1;(ret||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key)]={k:_key,v:$clone(v,Tag)};_i++;}delete ret[$String.keyFor(k)];return ret;};$pkg.DissocStringTag=DissocStringTag;TryGetStringTag=function(a,k){var _entry,_r$1,_tuple,a,has,k,ret,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_r$1=$f._r$1;_tuple=$f._tuple;a=$f.a;has=$f.has;k=$f.k;ret=$f.ret;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_tuple=(_entry=a[$String.keyFor(k)],_entry!==undefined?[_entry.v,true]:[new Tag.ptr(0,false,false),false]);ret=$clone(_tuple[0],Tag);has=_tuple[1];/* */if(has===false){$s=1;continue;}/* */$s=2;continue;/* if (has === false) { */case 1:_r$1=fmt.Errorf("[TryGetStringTag] key not found: %v",new sliceType([new $String(k)]));/* */$s=3;case 3:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}$s=-1;return[ret,_r$1];/* } */case 2:$s=-1;return[ret,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:TryGetStringTag};}$f._entry=_entry;$f._r$1=_r$1;$f._tuple=_tuple;$f.a=a;$f.has=has;$f.k=k;$f.ret=ret;$f.$s=$s;$f.$r=$r;return $f;};$pkg.TryGetStringTag=TryGetStringTag;KesStringWeapon=function(dict){var _entry,_i,_keys,_ref,dict,k,ret;ret=$makeSlice(sliceType$3,0,$keys(dict).length);_ref=dict;_i=0;_keys=$keys(_ref);while(true){if(!(_i<_keys.length)){break;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;continue;}k=_entry.k;ret=$append(ret,k);_i++;}return ret;};$pkg.KesStringWeapon=KesStringWeapon;AssocStringWeapon=function(a,k,v){var _entry,_i,_key,_key$1,_keys,_ref,a,k,k$1,ret,v,v$1;ret=$makeMap($String.keyFor,[]);_ref=a;_i=0;_keys=$keys(_ref);while(true){if(!(_i<_keys.length)){break;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;continue;}k$1=_entry.k;v$1=$clone(_entry.v,Weapon);_key=k$1;(ret||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key)]={k:_key,v:$clone(v$1,Weapon)};_i++;}_key$1=k;(ret||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key$1)]={k:_key$1,v:$clone(v,Weapon)};return ret;};$pkg.AssocStringWeapon=AssocStringWeapon;TryGetStringWeapon=function(a,k){var _entry,_r$1,_tuple,a,has,k,ret,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_r$1=$f._r$1;_tuple=$f._tuple;a=$f.a;has=$f.has;k=$f.k;ret=$f.ret;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_tuple=(_entry=a[$String.keyFor(k)],_entry!==undefined?[_entry.v,true]:[new Weapon.ptr("","",0,"",0,arrayType$1.zero(),0,0,arrayType.zero(),sliceType$3.nil,"","",0,0,0,0),false]);ret=$clone(_tuple[0],Weapon);has=_tuple[1];/* */if(has===false){$s=1;continue;}/* */$s=2;continue;/* if (has === false) { */case 1:_r$1=fmt.Errorf("[TryGetStringWeapon] key not found: %v",new sliceType([new $String(k)]));/* */$s=3;case 3:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}$s=-1;return[ret,_r$1];/* } */case 2:$s=-1;return[ret,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:TryGetStringWeapon};}$f._entry=_entry;$f._r$1=_r$1;$f._tuple=_tuple;$f.a=a;$f.has=has;$f.k=k;$f.ret=ret;$f.$s=$s;$f.$r=$r;return $f;};$pkg.TryGetStringWeapon=TryGetStringWeapon;FilterStringWeapon=function(a,filterF){var _entry,_i,_key,_keys,_r$1,_ref,a,filterF,k,ret,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_i=$f._i;_key=$f._key;_keys=$f._keys;_r$1=$f._r$1;_ref=$f._ref;a=$f.a;filterF=$f.filterF;k=$f.k;ret=$f.ret;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:ret=$makeMap($String.keyFor,[]);_ref=a;_i=0;_keys=$keys(_ref);/* while (true) { */case 1:/* if (!(_i < _keys.length)) { break; } */if(!(_i<_keys.length)){$s=2;continue;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;/* continue; */$s=1;continue;}k=_entry.k;v=$clone(_entry.v,Weapon);_r$1=filterF(k,$clone(v,Weapon));/* */$s=5;case 5:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}/* */if(_r$1){$s=3;continue;}/* */$s=4;continue;/* if (_r$1) { */case 3:_key=k;(ret||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key)]={k:_key,v:$clone(v,Weapon)};/* } */case 4:_i++;/* } */$s=1;continue;case 2:$s=-1;return ret;/* */}return;}if($f===undefined){$f={$blk:FilterStringWeapon};}$f._entry=_entry;$f._i=_i;$f._key=_key;$f._keys=_keys;$f._r$1=_r$1;$f._ref=_ref;$f.a=a;$f.filterF=filterF;$f.k=k;$f.ret=ret;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};$pkg.FilterStringWeapon=FilterStringWeapon;BattleResult.ptr.prototype.MapPosition=function(mapF){var _entry,_i,_i$1,_i$2,_key,_keys,_r$1,_r$2,_ref,_ref$1,_ref$2,animation,i,localAnims,locals,mapF,pos,pos$1,result,robotID,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_i=$f._i;_i$1=$f._i$1;_i$2=$f._i$2;_key=$f._key;_keys=$f._keys;_r$1=$f._r$1;_r$2=$f._r$2;_ref=$f._ref;_ref$1=$f._ref$1;_ref$2=$f._ref$2;animation=$f.animation;i=$f.i;localAnims=$f.localAnims;locals=$f.locals;mapF=$f.mapF;pos=$f.pos;pos$1=$f.pos$1;result=$f.result;robotID=$f.robotID;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:result=this;localAnims=new sliceType$11([]);_ref=result.Animations;_i=0;/* while (true) { */case 1:/* if (!(_i < _ref.$length)) { break; } */if(!(_i<_ref.$length)){$s=2;continue;}animation=$clone(_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i],BattleAnimation);locals=$makeMap($String.keyFor,[]);_ref$1=animation.Positions;_i$1=0;_keys=$keys(_ref$1);/* while (true) { */case 3:/* if (!(_i$1 < _keys.length)) { break; } */if(!(_i$1<_keys.length)){$s=4;continue;}_entry=_ref$1[_keys[_i$1]];if(_entry===undefined){_i$1++;/* continue; */$s=3;continue;}robotID=_entry.k;pos=$clone(_entry.v,Position);_r$1=mapF($clone(pos,Position));/* */$s=5;case 5:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_key=robotID;(locals||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key)]={k:_key,v:$clone(_r$1,Position)};_i$1++;/* } */$s=3;continue;case 4:animation.Positions=locals;_ref$2=animation.AimPosition;_i$2=0;/* while (true) { */case 6:/* if (!(_i$2 < 2)) { break; } */if(!(_i$2<2)){$s=7;continue;}i=_i$2;pos$1=$clone(_i$2<0||_i$2>=_ref$2.length?($throwRuntimeError("index out of range"),undefined):_ref$2[_i$2],Position);_r$2=mapF($clone(pos$1,Position));/* */$s=8;case 8:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}Position.copy((x=animation.AimPosition,i<0||i>=x.length?($throwRuntimeError("index out of range"),undefined):x[i]),_r$2);_i$2++;/* } */$s=6;continue;case 7:localAnims=$append(localAnims,animation);_i++;/* } */$s=1;continue;case 2:result.Animations=localAnims;$s=-1;return result;/* */}return;}if($f===undefined){$f={$blk:BattleResult.ptr.prototype.MapPosition};}$f._entry=_entry;$f._i=_i;$f._i$1=_i$1;$f._i$2=_i$2;$f._key=_key;$f._keys=_keys;$f._r$1=_r$1;$f._r$2=_r$2;$f._ref=_ref;$f._ref$1=_ref$1;$f._ref$2=_ref$2;$f.animation=animation;$f.i=i;$f.localAnims=localAnims;$f.locals=locals;$f.mapF=mapF;$f.pos=pos;$f.pos$1=pos$1;$f.result=result;$f.robotID=robotID;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};BattleResult.prototype.MapPosition=function(mapF){return this.$val.MapPosition(mapF);};BattleResult.ptr.prototype.MapRobot=function(mapF){var _i,_r$1,_r$2,_ref,animation,localAnims,mapF,result,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_i=$f._i;_r$1=$f._r$1;_r$2=$f._r$2;_ref=$f._ref;animation=$f.animation;localAnims=$f.localAnims;mapF=$f.mapF;result=$f.result;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:result=this;localAnims=new sliceType$11([]);_ref=result.Animations;_i=0;/* while (true) { */case 1:/* if (!(_i < _ref.$length)) { break; } */if(!(_i<_ref.$length)){$s=2;continue;}animation=$clone(_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i],BattleAnimation);_r$1=mapF($clone(animation.RobotBefore,Robot));/* */$s=3;case 3:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}Robot.copy(animation.RobotBefore,_r$1);_r$2=mapF($clone(animation.RobotAfter,Robot));/* */$s=4;case 4:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}Robot.copy(animation.RobotAfter,_r$2);localAnims=$append(localAnims,animation);_i++;/* } */$s=1;continue;case 2:result.Animations=localAnims;$s=-1;return result;/* */}return;}if($f===undefined){$f={$blk:BattleResult.ptr.prototype.MapRobot};}$f._i=_i;$f._r$1=_r$1;$f._r$2=_r$2;$f._ref=_ref;$f.animation=animation;$f.localAnims=localAnims;$f.mapF=mapF;$f.result=result;$f.$s=$s;$f.$r=$r;return $f;};BattleResult.prototype.MapRobot=function(mapF){return this.$val.MapRobot(mapF);};BattleResult.methods=[{prop:"MapPosition",name:"MapPosition",pkg:"",typ:$funcType([funcType],[BattleResult],false)},{prop:"MapRobot",name:"MapRobot",pkg:"",typ:$funcType([funcType$1],[BattleResult],false)}];StateReasonWin.init("",[]);StateReasonLose.init("",[]);StateReasonGiveUp.init("",[]);IModel.init([{prop:"AssocComponentRobot",name:"AssocComponentRobot",pkg:"",typ:$funcType([$String,$String],[IModel,$error],false)},{prop:"AssocRobotPilot",name:"AssocRobotPilot",pkg:"",typ:$funcType([$String,$String],[IModel,$error],false)},{prop:"AssocWeaponRobot",name:"AssocWeaponRobot",pkg:"",typ:$funcType([$String,$String],[IModel,$error],false)},{prop:"BuyComponent",name:"BuyComponent",pkg:"",typ:$funcType([$String],[IModel,$error],false)},{prop:"BuyPilot",name:"BuyPilot",pkg:"",typ:$funcType([$String],[IModel,$error],false)},{prop:"BuyRobot",name:"BuyRobot",pkg:"",typ:$funcType([$String],[IModel,$error],false)},{prop:"BuyWeapon",name:"BuyWeapon",pkg:"",typ:$funcType([$String],[IModel,$error],false)},{prop:"DissocComponentRobot",name:"DissocComponentRobot",pkg:"",typ:$funcType([$String],[IModel,$error],false)},{prop:"DissocRobotPilot",name:"DissocRobotPilot",pkg:"",typ:$funcType([$String],[IModel,$error],false)},{prop:"DissocWeaponRobot",name:"DissocWeaponRobot",pkg:"",typ:$funcType([$String],[IModel,$error],false)},{prop:"GetCursor",name:"GetCursor",pkg:"",typ:$funcType([],[Position],false)},{prop:"GetMoveRange",name:"GetMoveRange",pkg:"",typ:$funcType([],[sliceType$2],false)},{prop:"Load",name:"Load",pkg:"",typ:$funcType([],[IModel,$error],false)},{prop:"New",name:"New",pkg:"",typ:$funcType([$emptyInterface],[IModel,$error],false)},{prop:"NextPlayer",name:"NextPlayer",pkg:"",typ:$funcType([],[IModel,$error],false)},{prop:"ObservePage",name:"ObservePage",pkg:"",typ:$funcType([$emptyInterface,$Int],[$emptyInterface,$error],false)},{prop:"ObserveRobot",name:"ObserveRobot",pkg:"",typ:$funcType([Robot,$Bool],[Robot,$error],false)},{prop:"OnApplyPassLevel",name:"OnApplyPassLevel",pkg:"",typ:$funcType([$emptyInterface],[$emptyInterface,$error],false)},{prop:"OnClickSystemMenu",name:"OnClickSystemMenu",pkg:"",typ:$funcType([$emptyInterface,$String],[$emptyInterface,$error],false)},{prop:"OnDisableBattleMenu",name:"OnDisableBattleMenu",pkg:"",typ:$funcType([$emptyInterface],[$emptyInterface,$error],false)},{prop:"OnDisableRobotMenu",name:"OnDisableRobotMenu",pkg:"",typ:$funcType([$emptyInterface],[$emptyInterface,$error],false)},{prop:"OnEnableBattleMenu",name:"OnEnableBattleMenu",pkg:"",typ:$funcType([$emptyInterface,$String,$String,$String],[$emptyInterface,$error],false)},{prop:"OnEnableRobotMenu",name:"OnEnableRobotMenu",pkg:"",typ:$funcType([$emptyInterface,$String],[$emptyInterface,$error],false)},{prop:"OnEnemyTurnPhase",name:"OnEnemyTurnPhase",pkg:"",typ:$funcType([$emptyInterface],[$emptyInterface,$Bool,$error],false)},{prop:"OnEventPlayerTurnPhase",name:"OnEventPlayerTurnPhase",pkg:"",typ:$funcType([$emptyInterface,$emptyInterface],[$emptyInterface,$error],false)},{prop:"OnLineBattleMenuPhase",name:"OnLineBattleMenuPhase",pkg:"",typ:$funcType([$emptyInterface,$Bool,$String,$String,Position],[$emptyInterface,$Bool,$error],false)},{prop:"OnPlayerTurnEnd",name:"OnPlayerTurnEnd",pkg:"",typ:$funcType([$emptyInterface,Player],[$emptyInterface,$error],false)},{prop:"OnPlayerTurnStart",name:"OnPlayerTurnStart",pkg:"",typ:$funcType([$emptyInterface,Player],[$emptyInterface,$error],false)},{prop:"OnRobotDone",name:"OnRobotDone",pkg:"",typ:$funcType([$emptyInterface,$String],[$emptyInterface,$error],false)},{prop:"OnRobotMove",name:"OnRobotMove",pkg:"",typ:$funcType([$emptyInterface,$String,astar.NodeMap,Position],[$emptyInterface,$error],false)},{prop:"OnRobotSkyGround",name:"OnRobotSkyGround",pkg:"",typ:$funcType([$emptyInterface,$String,$Bool],[$emptyInterface,$error],false)},{prop:"OnRobotTransform",name:"OnRobotTransform",pkg:"",typ:$funcType([$emptyInterface,$String,$String],[$emptyInterface,$error],false)},{prop:"OnSingleBattleMenuPhase",name:"OnSingleBattleMenuPhase",pkg:"",typ:$funcType([$emptyInterface,$Bool,$String,$String,$String],[$emptyInterface,$Bool,$error],false)},{prop:"QueryActivePlayer",name:"QueryActivePlayer",pkg:"",typ:$funcType([],[Player,$error],false)},{prop:"QueryMoveCount",name:"QueryMoveCount",pkg:"",typ:$funcType([$String],[$Int],false)},{prop:"QueryMoveRangeTree",name:"QueryMoveRangeTree",pkg:"",typ:$funcType([$String],[astar.NodeMap,$error],false)},{prop:"QueryUnitByPosition",name:"QueryUnitByPosition",pkg:"",typ:$funcType([Position],[$String],false)},{prop:"QueryUnitsByRegion",name:"QueryUnitsByRegion",pkg:"",typ:$funcType([Position,Position],[sliceType$3],false)},{prop:"Save",name:"Save",pkg:"",typ:$funcType([],[$error],false)},{prop:"SetCursor",name:"SetCursor",pkg:"",typ:$funcType([Position],[IModel],false)},{prop:"SetMoveRange",name:"SetMoveRange",pkg:"",typ:$funcType([sliceType$2],[IModel],false)},{prop:"State",name:"State",pkg:"",typ:$funcType([],[$String],false)},{prop:"StateReason",name:"StateReason",pkg:"",typ:$funcType([],[$emptyInterface],false)}]);Position.init($Int,2);Robot.init("",[{prop:"ID",name:"ID",embedded:false,exported:true,typ:$String,tag:""},{prop:"PlayerID",name:"PlayerID",embedded:false,exported:true,typ:$String,tag:""},{prop:"ProtoID",name:"ProtoID",embedded:false,exported:true,typ:$String,tag:""},{prop:"PilotID",name:"PilotID",embedded:false,exported:true,typ:$String,tag:""},{prop:"Transform",name:"Transform",embedded:false,exported:true,typ:$String,tag:""},{prop:"HP",name:"HP",embedded:false,exported:true,typ:$Int,tag:""},{prop:"EN",name:"EN",embedded:false,exported:true,typ:$Int,tag:""},{prop:"WeaponsByTransform",name:"WeaponsByTransform",embedded:false,exported:true,typ:mapType$1,tag:""},{prop:"Components",name:"Components",embedded:false,exported:true,typ:mapType$2,tag:""},{prop:"Title",name:"Title",embedded:false,exported:true,typ:$String,tag:""},{prop:"MaxHP",name:"MaxHP",embedded:false,exported:true,typ:$Int,tag:""},{prop:"MaxEN",name:"MaxEN",embedded:false,exported:true,typ:$Int,tag:""},{prop:"Armor",name:"Armor",embedded:false,exported:true,typ:$Int,tag:""},{prop:"BeamArmor",name:"BeamArmor",embedded:false,exported:true,typ:$Int,tag:""},{prop:"Cost",name:"Cost",embedded:false,exported:true,typ:$Int,tag:""},{prop:"Power",name:"Power",embedded:false,exported:true,typ:$Int,tag:""},{prop:"MaxPower",name:"MaxPower",embedded:false,exported:true,typ:$Int,tag:""},{prop:"Suitability",name:"Suitability",embedded:false,exported:true,typ:arrayType,tag:""},{prop:"UnlockExp",name:"UnlockExp",embedded:false,exported:true,typ:$Int,tag:""},{prop:"Weapons",name:"Weapons",embedded:false,exported:true,typ:mapType,tag:""}]);Item.init("",[{prop:"ID",name:"ID",embedded:false,exported:true,typ:$String,tag:""},{prop:"ProtoID",name:"ProtoID",embedded:false,exported:true,typ:$String,tag:""},{prop:"Title",name:"Title",embedded:false,exported:true,typ:$String,tag:""}]);Pilot.init("",[{prop:"ID",name:"ID",embedded:false,exported:true,typ:$String,tag:""},{prop:"ProtoID",name:"ProtoID",embedded:false,exported:true,typ:$String,tag:""},{prop:"Title",name:"Title",embedded:false,exported:true,typ:$String,tag:""},{prop:"Melee",name:"Melee",embedded:false,exported:true,typ:$Int,tag:""},{prop:"Range",name:"Range",embedded:false,exported:true,typ:$Int,tag:""},{prop:"Atk",name:"Atk",embedded:false,exported:true,typ:$Int,tag:""},{prop:"Tech",name:"Tech",embedded:false,exported:true,typ:$Int,tag:""},{prop:"Evade",name:"Evade",embedded:false,exported:true,typ:$Int,tag:""},{prop:"Guard",name:"Guard",embedded:false,exported:true,typ:$Int,tag:""},{prop:"ExpMelee",name:"ExpMelee",embedded:false,exported:true,typ:$Int,tag:""},{prop:"ExpRange",name:"ExpRange",embedded:false,exported:true,typ:$Int,tag:""},{prop:"ExpEvade",name:"ExpEvade",embedded:false,exported:true,typ:$Int,tag:""},{prop:"ExpGuard",name:"ExpGuard",embedded:false,exported:true,typ:$Int,tag:""},{prop:"Exp",name:"Exp",embedded:false,exported:true,typ:$Int,tag:""}]);Weapon.init("",[{prop:"ID",name:"ID",embedded:false,exported:true,typ:$String,tag:""},{prop:"ProtoID",name:"ProtoID",embedded:false,exported:true,typ:$String,tag:""},{prop:"BulletCount",name:"BulletCount",embedded:false,exported:true,typ:$Int,tag:""},{prop:"Title",name:"Title",embedded:false,exported:true,typ:$String,tag:""},{prop:"PowerCost",name:"PowerCost",embedded:false,exported:true,typ:$Int,tag:""},{prop:"Range",name:"Range",embedded:false,exported:true,typ:arrayType$1,tag:""},{prop:"EnergyCost",name:"EnergyCost",embedded:false,exported:true,typ:$Int,tag:""},{prop:"MaxBulletCount",name:"MaxBulletCount",embedded:false,exported:true,typ:$Int,tag:""},{prop:"Suitability",name:"Suitability",embedded:false,exported:true,typ:arrayType,tag:""},{prop:"Ability",name:"Ability",embedded:false,exported:true,typ:sliceType$3,tag:""},{prop:"EnergyType",name:"EnergyType",embedded:false,exported:true,typ:$String,tag:""},{prop:"Type",name:"Type",embedded:false,exported:true,typ:$String,tag:""},{prop:"Accuracy",name:"Accuracy",embedded:false,exported:true,typ:$Float64,tag:""},{prop:"Damage",name:"Damage",embedded:false,exported:true,typ:$Int,tag:""},{prop:"Curage",name:"Curage",embedded:false,exported:true,typ:$Int,tag:""},{prop:"UnlockExp",name:"UnlockExp",embedded:false,exported:true,typ:$Int,tag:""}]);Component.init("",[{prop:"ID",name:"ID",embedded:false,exported:true,typ:$String,tag:""},{prop:"ProtoID",name:"ProtoID",embedded:false,exported:true,typ:$String,tag:""},{prop:"Title",name:"Title",embedded:false,exported:true,typ:$String,tag:""},{prop:"Cost",name:"Cost",embedded:false,exported:true,typ:$Int,tag:""},{prop:"Desc",name:"Desc",embedded:false,exported:true,typ:$String,tag:""},{prop:"Value",name:"Value",embedded:false,exported:true,typ:sliceType$3,tag:""},{prop:"PowerCost",name:"PowerCost",embedded:false,exported:true,typ:$Int,tag:""},{prop:"Action",name:"Action",embedded:false,exported:true,typ:$String,tag:""}]);Player.init("",[{prop:"ID",name:"ID",embedded:false,exported:true,typ:$String,tag:""},{prop:"GroupID",name:"GroupID",embedded:false,exported:true,typ:$String,tag:""}]);Tag.init("",[{prop:"MoveCount",name:"MoveCount",embedded:false,exported:true,typ:$Int,tag:""},{prop:"Sky",name:"Sky",embedded:false,exported:true,typ:$Bool,tag:""},{prop:"IsDone",name:"IsDone",embedded:false,exported:true,typ:$Bool,tag:""}]);RobotMenu.init("",[{prop:"Active",name:"Active",embedded:false,exported:true,typ:$Bool,tag:""},{prop:"ActiveRobotID",name:"ActiveRobotID",embedded:false,exported:true,typ:$String,tag:""},{prop:"Options",name:"Options",embedded:false,exported:true,typ:sliceType$12,tag:""},{prop:"RowFunctionMapping",name:"RowFunctionMapping",embedded:false,exported:true,typ:mapType$3,tag:""},{prop:"Weapons",name:"Weapons",embedded:false,exported:true,typ:mapType,tag:""},{prop:"InvalidWeapons",name:"InvalidWeapons",embedded:false,exported:true,typ:mapType$4,tag:""},{prop:"Transforms",name:"Transforms",embedded:false,exported:true,typ:mapType$5,tag:""}]);BattleMenu.init("",[{prop:"Active",name:"Active",embedded:false,exported:true,typ:$Bool,tag:""},{prop:"AttackRobot",name:"AttackRobot",embedded:false,exported:true,typ:Robot,tag:""},{prop:"AttackPilot",name:"AttackPilot",embedded:false,exported:true,typ:Pilot,tag:""},{prop:"AttackWeapon",name:"AttackWeapon",embedded:false,exported:true,typ:Weapon,tag:""},{prop:"DeffenceRobot",name:"DeffenceRobot",embedded:false,exported:true,typ:Robot,tag:""},{prop:"DeffencePilot",name:"DeffencePilot",embedded:false,exported:true,typ:Pilot,tag:""}]);BattleAnimation.init("",[{prop:"Type",name:"Type",embedded:false,exported:true,typ:$Int,tag:""},{prop:"RobotBefore",name:"RobotBefore",embedded:false,exported:true,typ:Robot,tag:""},{prop:"RobotAfter",name:"RobotAfter",embedded:false,exported:true,typ:Robot,tag:""},{prop:"Damage",name:"Damage",embedded:false,exported:true,typ:$Int,tag:""},{prop:"Positions",name:"Positions",embedded:false,exported:true,typ:mapType$6,tag:""},{prop:"AimPosition",name:"AimPosition",embedded:false,exported:true,typ:arrayType$2,tag:""}]);BattleResult.init("",[{prop:"Animations",name:"Animations",embedded:false,exported:true,typ:sliceType$11,tag:""}]);HitMark.init("",[{prop:"HitRate",name:"HitRate",embedded:false,exported:true,typ:$Float64,tag:""},{prop:"Rate",name:"Rate",embedded:false,exported:true,typ:$Float64,tag:""}]);NewGameplayWithSelection.init("",[{prop:"UnitSelection",name:"UnitSelection",embedded:false,exported:true,typ:mapType$7,tag:""},{prop:"LevelSelection",name:"LevelSelection",embedded:false,exported:true,typ:$String,tag:""}]);NewModelWithTest.init("",[]);$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=fmt.$init();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=rand.$init();/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=time.$init();/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=astar.$init();/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}_r=fmt.Errorf("ErrTerminate",new sliceType([]));/* */$s=5;case 5:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$pkg.ErrTerminate=_r;$pkg.LogCategoryPhase="LogCategoryPhase";$pkg.LogCategoryDetail="LogCategoryDetail";$pkg.LogCategoryRender="LogCategoryRender";$pkg.LogCategoryInfo="LogCategoryInfo";$pkg.LogCategoryWarning="LogCategoryWarning";/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["bytes"]=function(){var $pkg={},$init,errors,bytealg,io,unicode,utf8,Buffer,readOp,ptrType,sliceType,errNegativeRead,IndexByte,Equal,makeSlice,EqualFold;errors=$packages["errors"];bytealg=$packages["internal/bytealg"];io=$packages["io"];unicode=$packages["unicode"];utf8=$packages["unicode/utf8"];Buffer=$pkg.Buffer=$newType(0,$kindStruct,"bytes.Buffer",true,"bytes",true,function(buf_,off_,lastRead_){this.$val=this;if(arguments.length===0){this.buf=sliceType.nil;this.off=0;this.lastRead=0;return;}this.buf=buf_;this.off=off_;this.lastRead=lastRead_;});readOp=$pkg.readOp=$newType(1,$kindInt8,"bytes.readOp",true,"bytes",false,null);ptrType=$ptrType(Buffer);sliceType=$sliceType($Uint8);IndexByte=function(s,c){var _i,_ref,b,c,i,s;_ref=s;_i=0;while(true){if(!(_i<_ref.$length)){break;}i=_i;b=_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i];if(b===c){return i;}_i++;}return-1;};$pkg.IndexByte=IndexByte;Equal=function(a,b){var _i,_ref,a,b,c,i;if(!(a.$length===b.$length)){return false;}_ref=a;_i=0;while(true){if(!(_i<_ref.$length)){break;}i=_i;c=_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i];if(!(c===(i<0||i>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+i]))){return false;}_i++;}return true;};$pkg.Equal=Equal;Buffer.ptr.prototype.Bytes=function(){var b;b=this;return $subslice(b.buf,b.off);};Buffer.prototype.Bytes=function(){return this.$val.Bytes();};Buffer.ptr.prototype.String=function(){var b;b=this;if(b===ptrType.nil){return"<nil>";}return $bytesToString($subslice(b.buf,b.off));};Buffer.prototype.String=function(){return this.$val.String();};Buffer.ptr.prototype.empty=function(){var b;b=this;return b.buf.$length<=b.off;};Buffer.prototype.empty=function(){return this.$val.empty();};Buffer.ptr.prototype.Len=function(){var b;b=this;return b.buf.$length-b.off>>0;};Buffer.prototype.Len=function(){return this.$val.Len();};Buffer.ptr.prototype.Cap=function(){var b;b=this;return b.buf.$capacity;};Buffer.prototype.Cap=function(){return this.$val.Cap();};Buffer.ptr.prototype.Truncate=function(n){var b,n;b=this;if(n===0){b.Reset();return;}b.lastRead=0;if(n<0||n>b.Len()){$panic(new $String("bytes.Buffer: truncation out of range"));}b.buf=$subslice(b.buf,0,b.off+n>>0);};Buffer.prototype.Truncate=function(n){return this.$val.Truncate(n);};Buffer.ptr.prototype.Reset=function(){var b;b=this;b.buf=$subslice(b.buf,0,0);b.off=0;b.lastRead=0;};Buffer.prototype.Reset=function(){return this.$val.Reset();};Buffer.ptr.prototype.tryGrowByReslice=function(n){var b,l,n;b=this;l=b.buf.$length;if(n<=b.buf.$capacity-l>>0){b.buf=$subslice(b.buf,0,l+n>>0);return[l,true];}return[0,false];};Buffer.prototype.tryGrowByReslice=function(n){return this.$val.tryGrowByReslice(n);};Buffer.ptr.prototype.grow=function(n){var _q,_tuple,b,buf,c,i,m,n,ok;b=this;m=b.Len();if(m===0&&!(b.off===0)){b.Reset();}_tuple=b.tryGrowByReslice(n);i=_tuple[0];ok=_tuple[1];if(ok){return i;}if(b.buf===sliceType.nil&&n<=64){b.buf=$makeSlice(sliceType,n,64);return 0;}c=b.buf.$capacity;if(n<=(_q=c/2,_q===_q&&_q!==1/0&&_q!==-1/0?_q>>0:$throwRuntimeError("integer divide by zero"))-m>>0){$copySlice(b.buf,$subslice(b.buf,b.off));}else if(c>(2147483647-c>>0)-n>>0){$panic($pkg.ErrTooLarge);}else{buf=makeSlice($imul(2,c)+n>>0);$copySlice(buf,$subslice(b.buf,b.off));b.buf=buf;}b.off=0;b.buf=$subslice(b.buf,0,m+n>>0);return m;};Buffer.prototype.grow=function(n){return this.$val.grow(n);};Buffer.ptr.prototype.Grow=function(n){var b,m,n;b=this;if(n<0){$panic(new $String("bytes.Buffer.Grow: negative count"));}m=b.grow(n);b.buf=$subslice(b.buf,0,m);};Buffer.prototype.Grow=function(n){return this.$val.Grow(n);};Buffer.ptr.prototype.Write=function(p){var _tmp,_tmp$1,_tuple,b,err,m,n,ok,p;n=0;err=$ifaceNil;b=this;b.lastRead=0;_tuple=b.tryGrowByReslice(p.$length);m=_tuple[0];ok=_tuple[1];if(!ok){m=b.grow(p.$length);}_tmp=$copySlice($subslice(b.buf,m),p);_tmp$1=$ifaceNil;n=_tmp;err=_tmp$1;return[n,err];};Buffer.prototype.Write=function(p){return this.$val.Write(p);};Buffer.ptr.prototype.WriteString=function(s){var _tmp,_tmp$1,_tuple,b,err,m,n,ok,s;n=0;err=$ifaceNil;b=this;b.lastRead=0;_tuple=b.tryGrowByReslice(s.length);m=_tuple[0];ok=_tuple[1];if(!ok){m=b.grow(s.length);}_tmp=$copyString($subslice(b.buf,m),s);_tmp$1=$ifaceNil;n=_tmp;err=_tmp$1;return[n,err];};Buffer.prototype.WriteString=function(s){return this.$val.WriteString(s);};Buffer.ptr.prototype.ReadFrom=function(r){var _r,_tmp,_tmp$1,_tmp$2,_tmp$3,_tuple,b,e,err,i,m,n,r,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tmp$2=$f._tmp$2;_tmp$3=$f._tmp$3;_tuple=$f._tuple;b=$f.b;e=$f.e;err=$f.err;i=$f.i;m=$f.m;n=$f.n;r=$f.r;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:n=new $Int64(0,0);err=$ifaceNil;b=this;b.lastRead=0;/* while (true) { */case 1:i=b.grow(512);b.buf=$subslice(b.buf,0,i);_r=r.Read($subslice(b.buf,i,b.buf.$capacity));/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;m=_tuple[0];e=_tuple[1];if(m<0){$panic(errNegativeRead);}b.buf=$subslice(b.buf,0,i+m>>0);n=(x=new $Int64(0,m),new $Int64(n.$high+x.$high,n.$low+x.$low));if($interfaceIsEqual(e,io.EOF)){_tmp=n;_tmp$1=$ifaceNil;n=_tmp;err=_tmp$1;$s=-1;return[n,err];}if(!$interfaceIsEqual(e,$ifaceNil)){_tmp$2=n;_tmp$3=e;n=_tmp$2;err=_tmp$3;$s=-1;return[n,err];}/* } */$s=1;continue;case 2:$s=-1;return[n,err];/* */}return;}if($f===undefined){$f={$blk:Buffer.ptr.prototype.ReadFrom};}$f._r=_r;$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tmp$2=_tmp$2;$f._tmp$3=_tmp$3;$f._tuple=_tuple;$f.b=b;$f.e=e;$f.err=err;$f.i=i;$f.m=m;$f.n=n;$f.r=r;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};Buffer.prototype.ReadFrom=function(r){return this.$val.ReadFrom(r);};makeSlice=function(n){var n,$deferred;/* */var $err=null;try{$deferred=[];$deferred.index=$curGoroutine.deferStack.length;$curGoroutine.deferStack.push($deferred);$deferred.push([function(){if(!$interfaceIsEqual($recover(),$ifaceNil)){$panic($pkg.ErrTooLarge);}},[]]);return $makeSlice(sliceType,n);/* */}catch(err){$err=err;return sliceType.nil;}finally{$callDeferred($deferred,$err);}};Buffer.ptr.prototype.WriteTo=function(w){var _r,_tmp,_tmp$1,_tmp$2,_tmp$3,_tmp$4,_tmp$5,_tuple,b,e,err,m,n,nBytes,w,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tmp$2=$f._tmp$2;_tmp$3=$f._tmp$3;_tmp$4=$f._tmp$4;_tmp$5=$f._tmp$5;_tuple=$f._tuple;b=$f.b;e=$f.e;err=$f.err;m=$f.m;n=$f.n;nBytes=$f.nBytes;w=$f.w;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:n=new $Int64(0,0);err=$ifaceNil;b=this;b.lastRead=0;nBytes=b.Len();/* */if(nBytes>0){$s=1;continue;}/* */$s=2;continue;/* if (nBytes > 0) { */case 1:_r=w.Write($subslice(b.buf,b.off));/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;m=_tuple[0];e=_tuple[1];if(m>nBytes){$panic(new $String("bytes.Buffer.WriteTo: invalid Write count"));}b.off=b.off+m>>0;n=new $Int64(0,m);if(!$interfaceIsEqual(e,$ifaceNil)){_tmp=n;_tmp$1=e;n=_tmp;err=_tmp$1;$s=-1;return[n,err];}if(!(m===nBytes)){_tmp$2=n;_tmp$3=io.ErrShortWrite;n=_tmp$2;err=_tmp$3;$s=-1;return[n,err];}/* } */case 2:b.Reset();_tmp$4=n;_tmp$5=$ifaceNil;n=_tmp$4;err=_tmp$5;$s=-1;return[n,err];/* */}return;}if($f===undefined){$f={$blk:Buffer.ptr.prototype.WriteTo};}$f._r=_r;$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tmp$2=_tmp$2;$f._tmp$3=_tmp$3;$f._tmp$4=_tmp$4;$f._tmp$5=_tmp$5;$f._tuple=_tuple;$f.b=b;$f.e=e;$f.err=err;$f.m=m;$f.n=n;$f.nBytes=nBytes;$f.w=w;$f.$s=$s;$f.$r=$r;return $f;};Buffer.prototype.WriteTo=function(w){return this.$val.WriteTo(w);};Buffer.ptr.prototype.WriteByte=function(c){var _tuple,b,c,m,ok,x;b=this;b.lastRead=0;_tuple=b.tryGrowByReslice(1);m=_tuple[0];ok=_tuple[1];if(!ok){m=b.grow(1);}x=b.buf,m<0||m>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+m]=c;return $ifaceNil;};Buffer.prototype.WriteByte=function(c){return this.$val.WriteByte(c);};Buffer.ptr.prototype.WriteRune=function(r){var _tmp,_tmp$1,_tmp$2,_tmp$3,_tuple,b,err,m,n,ok,r;n=0;err=$ifaceNil;b=this;if(r<128){b.WriteByte(r<<24>>>24);_tmp=1;_tmp$1=$ifaceNil;n=_tmp;err=_tmp$1;return[n,err];}b.lastRead=0;_tuple=b.tryGrowByReslice(4);m=_tuple[0];ok=_tuple[1];if(!ok){m=b.grow(4);}n=utf8.EncodeRune($subslice(b.buf,m,m+4>>0),r);b.buf=$subslice(b.buf,0,m+n>>0);_tmp$2=n;_tmp$3=$ifaceNil;n=_tmp$2;err=_tmp$3;return[n,err];};Buffer.prototype.WriteRune=function(r){return this.$val.WriteRune(r);};Buffer.ptr.prototype.Read=function(p){var _tmp,_tmp$1,_tmp$2,_tmp$3,_tmp$4,_tmp$5,b,err,n,p;n=0;err=$ifaceNil;b=this;b.lastRead=0;if(b.empty()){b.Reset();if(p.$length===0){_tmp=0;_tmp$1=$ifaceNil;n=_tmp;err=_tmp$1;return[n,err];}_tmp$2=0;_tmp$3=io.EOF;n=_tmp$2;err=_tmp$3;return[n,err];}n=$copySlice(p,$subslice(b.buf,b.off));b.off=b.off+n>>0;if(n>0){b.lastRead=-1;}_tmp$4=n;_tmp$5=$ifaceNil;n=_tmp$4;err=_tmp$5;return[n,err];};Buffer.prototype.Read=function(p){return this.$val.Read(p);};Buffer.ptr.prototype.Next=function(n){var b,data,m,n;b=this;b.lastRead=0;m=b.Len();if(n>m){n=m;}data=$subslice(b.buf,b.off,b.off+n>>0);b.off=b.off+n>>0;if(n>0){b.lastRead=-1;}return data;};Buffer.prototype.Next=function(n){return this.$val.Next(n);};Buffer.ptr.prototype.ReadByte=function(){var b,c,x,x$1;b=this;if(b.empty()){b.Reset();return[0,io.EOF];}c=(x=b.buf,x$1=b.off,x$1<0||x$1>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+x$1]);b.off=b.off+1>>0;b.lastRead=-1;return[c,$ifaceNil];};Buffer.prototype.ReadByte=function(){return this.$val.ReadByte();};Buffer.ptr.prototype.ReadRune=function(){var _tmp,_tmp$1,_tmp$2,_tmp$3,_tmp$4,_tmp$5,_tmp$6,_tmp$7,_tmp$8,_tuple,b,c,err,n,r,size,x,x$1;r=0;size=0;err=$ifaceNil;b=this;if(b.empty()){b.Reset();_tmp=0;_tmp$1=0;_tmp$2=io.EOF;r=_tmp;size=_tmp$1;err=_tmp$2;return[r,size,err];}c=(x=b.buf,x$1=b.off,x$1<0||x$1>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+x$1]);if(c<128){b.off=b.off+1>>0;b.lastRead=1;_tmp$3=c>>0;_tmp$4=1;_tmp$5=$ifaceNil;r=_tmp$3;size=_tmp$4;err=_tmp$5;return[r,size,err];}_tuple=utf8.DecodeRune($subslice(b.buf,b.off));r=_tuple[0];n=_tuple[1];b.off=b.off+n>>0;b.lastRead=n<<24>>24;_tmp$6=r;_tmp$7=n;_tmp$8=$ifaceNil;r=_tmp$6;size=_tmp$7;err=_tmp$8;return[r,size,err];};Buffer.prototype.ReadRune=function(){return this.$val.ReadRune();};Buffer.ptr.prototype.UnreadRune=function(){var b;b=this;if(b.lastRead<=0){return errors.New("bytes.Buffer: UnreadRune: previous operation was not a successful ReadRune");}if(b.off>=b.lastRead>>0){b.off=b.off-(b.lastRead>>0)>>0;}b.lastRead=0;return $ifaceNil;};Buffer.prototype.UnreadRune=function(){return this.$val.UnreadRune();};Buffer.ptr.prototype.UnreadByte=function(){var b;b=this;if(b.lastRead===0){return errors.New("bytes.Buffer: UnreadByte: previous operation was not a successful read");}b.lastRead=0;if(b.off>0){b.off=b.off-1>>0;}return $ifaceNil;};Buffer.prototype.UnreadByte=function(){return this.$val.UnreadByte();};Buffer.ptr.prototype.ReadBytes=function(delim){var _tmp,_tmp$1,_tuple,b,delim,err,line,slice;line=sliceType.nil;err=$ifaceNil;b=this;_tuple=b.readSlice(delim);slice=_tuple[0];err=_tuple[1];line=$appendSlice(line,slice);_tmp=line;_tmp$1=err;line=_tmp;err=_tmp$1;return[line,err];};Buffer.prototype.ReadBytes=function(delim){return this.$val.ReadBytes(delim);};Buffer.ptr.prototype.readSlice=function(delim){var _tmp,_tmp$1,b,delim,end,err,i,line;line=sliceType.nil;err=$ifaceNil;b=this;i=IndexByte($subslice(b.buf,b.off),delim);end=(b.off+i>>0)+1>>0;if(i<0){end=b.buf.$length;err=io.EOF;}line=$subslice(b.buf,b.off,end);b.off=end;b.lastRead=-1;_tmp=line;_tmp$1=err;line=_tmp;err=_tmp$1;return[line,err];};Buffer.prototype.readSlice=function(delim){return this.$val.readSlice(delim);};Buffer.ptr.prototype.ReadString=function(delim){var _tmp,_tmp$1,_tuple,b,delim,err,line,slice;line="";err=$ifaceNil;b=this;_tuple=b.readSlice(delim);slice=_tuple[0];err=_tuple[1];_tmp=$bytesToString(slice);_tmp$1=err;line=_tmp;err=_tmp$1;return[line,err];};Buffer.prototype.ReadString=function(delim){return this.$val.ReadString(delim);};EqualFold=function(s,t){var _tmp,_tmp$1,_tmp$10,_tmp$11,_tmp$2,_tmp$3,_tmp$4,_tmp$5,_tmp$6,_tmp$7,_tmp$8,_tmp$9,_tuple,_tuple$1,r,r$1,r$2,s,size,size$1,sr,t,tr;while(true){if(!(!(s.$length===0)&&!(t.$length===0))){break;}_tmp=0;_tmp$1=0;sr=_tmp;tr=_tmp$1;if((0>=s.$length?($throwRuntimeError("index out of range"),undefined):s.$array[s.$offset+0])<128){_tmp$2=(0>=s.$length?($throwRuntimeError("index out of range"),undefined):s.$array[s.$offset+0])>>0;_tmp$3=$subslice(s,1);sr=_tmp$2;s=_tmp$3;}else{_tuple=utf8.DecodeRune(s);r=_tuple[0];size=_tuple[1];_tmp$4=r;_tmp$5=$subslice(s,size);sr=_tmp$4;s=_tmp$5;}if((0>=t.$length?($throwRuntimeError("index out of range"),undefined):t.$array[t.$offset+0])<128){_tmp$6=(0>=t.$length?($throwRuntimeError("index out of range"),undefined):t.$array[t.$offset+0])>>0;_tmp$7=$subslice(t,1);tr=_tmp$6;t=_tmp$7;}else{_tuple$1=utf8.DecodeRune(t);r$1=_tuple$1[0];size$1=_tuple$1[1];_tmp$8=r$1;_tmp$9=$subslice(t,size$1);tr=_tmp$8;t=_tmp$9;}if(tr===sr){continue;}if(tr<sr){_tmp$10=sr;_tmp$11=tr;tr=_tmp$10;sr=_tmp$11;}if(tr<128){if(65<=sr&&sr<=90&&tr===(sr+97>>0)-65>>0){continue;}return false;}r$2=unicode.SimpleFold(sr);while(true){if(!(!(r$2===sr)&&r$2<tr)){break;}r$2=unicode.SimpleFold(r$2);}if(r$2===tr){continue;}return false;}return s.$length===t.$length;};$pkg.EqualFold=EqualFold;ptrType.methods=[{prop:"Bytes",name:"Bytes",pkg:"",typ:$funcType([],[sliceType],false)},{prop:"String",name:"String",pkg:"",typ:$funcType([],[$String],false)},{prop:"empty",name:"empty",pkg:"bytes",typ:$funcType([],[$Bool],false)},{prop:"Len",name:"Len",pkg:"",typ:$funcType([],[$Int],false)},{prop:"Cap",name:"Cap",pkg:"",typ:$funcType([],[$Int],false)},{prop:"Truncate",name:"Truncate",pkg:"",typ:$funcType([$Int],[],false)},{prop:"Reset",name:"Reset",pkg:"",typ:$funcType([],[],false)},{prop:"tryGrowByReslice",name:"tryGrowByReslice",pkg:"bytes",typ:$funcType([$Int],[$Int,$Bool],false)},{prop:"grow",name:"grow",pkg:"bytes",typ:$funcType([$Int],[$Int],false)},{prop:"Grow",name:"Grow",pkg:"",typ:$funcType([$Int],[],false)},{prop:"Write",name:"Write",pkg:"",typ:$funcType([sliceType],[$Int,$error],false)},{prop:"WriteString",name:"WriteString",pkg:"",typ:$funcType([$String],[$Int,$error],false)},{prop:"ReadFrom",name:"ReadFrom",pkg:"",typ:$funcType([io.Reader],[$Int64,$error],false)},{prop:"WriteTo",name:"WriteTo",pkg:"",typ:$funcType([io.Writer],[$Int64,$error],false)},{prop:"WriteByte",name:"WriteByte",pkg:"",typ:$funcType([$Uint8],[$error],false)},{prop:"WriteRune",name:"WriteRune",pkg:"",typ:$funcType([$Int32],[$Int,$error],false)},{prop:"Read",name:"Read",pkg:"",typ:$funcType([sliceType],[$Int,$error],false)},{prop:"Next",name:"Next",pkg:"",typ:$funcType([$Int],[sliceType],false)},{prop:"ReadByte",name:"ReadByte",pkg:"",typ:$funcType([],[$Uint8,$error],false)},{prop:"ReadRune",name:"ReadRune",pkg:"",typ:$funcType([],[$Int32,$Int,$error],false)},{prop:"UnreadRune",name:"UnreadRune",pkg:"",typ:$funcType([],[$error],false)},{prop:"UnreadByte",name:"UnreadByte",pkg:"",typ:$funcType([],[$error],false)},{prop:"ReadBytes",name:"ReadBytes",pkg:"",typ:$funcType([$Uint8],[sliceType,$error],false)},{prop:"readSlice",name:"readSlice",pkg:"bytes",typ:$funcType([$Uint8],[sliceType,$error],false)},{prop:"ReadString",name:"ReadString",pkg:"",typ:$funcType([$Uint8],[$String,$error],false)}];Buffer.init("bytes",[{prop:"buf",name:"buf",embedded:false,exported:false,typ:sliceType,tag:""},{prop:"off",name:"off",embedded:false,exported:false,typ:$Int,tag:""},{prop:"lastRead",name:"lastRead",embedded:false,exported:false,typ:readOp,tag:""}]);$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=errors.$init();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=bytealg.$init();/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=io.$init();/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=unicode.$init();/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=utf8.$init();/* */$s=5;case 5:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$pkg.ErrTooLarge=errors.New("bytes.Buffer: too large");errNegativeRead=errors.New("bytes.Buffer: reader returned negative count from Read");/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["encoding"]=function(){var $pkg={},$init,TextMarshaler,TextUnmarshaler,sliceType;TextMarshaler=$pkg.TextMarshaler=$newType(8,$kindInterface,"encoding.TextMarshaler",true,"encoding",true,null);TextUnmarshaler=$pkg.TextUnmarshaler=$newType(8,$kindInterface,"encoding.TextUnmarshaler",true,"encoding",true,null);sliceType=$sliceType($Uint8);TextMarshaler.init([{prop:"MarshalText",name:"MarshalText",pkg:"",typ:$funcType([],[sliceType,$error],false)}]);TextUnmarshaler.init([{prop:"UnmarshalText",name:"UnmarshalText",pkg:"",typ:$funcType([sliceType],[$error],false)}]);$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["encoding/binary"]=function(){var $pkg={},$init,errors,io,math,reflect,bigEndian,sliceType,overflow;errors=$packages["errors"];io=$packages["io"];math=$packages["math"];reflect=$packages["reflect"];bigEndian=$pkg.bigEndian=$newType(0,$kindStruct,"binary.bigEndian",true,"encoding/binary",false,function(){this.$val=this;if(arguments.length===0){return;}});sliceType=$sliceType($Uint8);bigEndian.ptr.prototype.Uint16=function(b){var b;$unused(1>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+1]);return((1>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+1])<<16>>>16|(0>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+0])<<16>>>16<<8<<16>>>16)>>>0;};bigEndian.prototype.Uint16=function(b){return this.$val.Uint16(b);};bigEndian.ptr.prototype.PutUint16=function(b,v){var b,v;$unused(1>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+1]);0>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+0]=v>>>8<<16>>>16<<24>>>24;1>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+1]=v<<24>>>24;};bigEndian.prototype.PutUint16=function(b,v){return this.$val.PutUint16(b,v);};bigEndian.ptr.prototype.Uint32=function(b){var b;$unused(3>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+3]);return((((3>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+3])>>>0|(2>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+2])>>>0<<8>>>0)>>>0|(1>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+1])>>>0<<16>>>0)>>>0|(0>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+0])>>>0<<24>>>0)>>>0;};bigEndian.prototype.Uint32=function(b){return this.$val.Uint32(b);};bigEndian.ptr.prototype.PutUint32=function(b,v){var b,v;$unused(3>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+3]);0>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+0]=v>>>24>>>0<<24>>>24;1>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+1]=v>>>16>>>0<<24>>>24;2>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+2]=v>>>8>>>0<<24>>>24;3>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+3]=v<<24>>>24;};bigEndian.prototype.PutUint32=function(b,v){return this.$val.PutUint32(b,v);};bigEndian.ptr.prototype.Uint64=function(b){var b,x,x$1,x$10,x$11,x$12,x$13,x$2,x$3,x$4,x$5,x$6,x$7,x$8,x$9;$unused(7>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+7]);return x=(x$1=(x$2=(x$3=(x$4=(x$5=(x$6=new $Uint64(0,7>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+7]),x$7=$shiftLeft64(new $Uint64(0,6>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+6]),8),new $Uint64(x$6.$high|x$7.$high,(x$6.$low|x$7.$low)>>>0)),x$8=$shiftLeft64(new $Uint64(0,5>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+5]),16),new $Uint64(x$5.$high|x$8.$high,(x$5.$low|x$8.$low)>>>0)),x$9=$shiftLeft64(new $Uint64(0,4>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+4]),24),new $Uint64(x$4.$high|x$9.$high,(x$4.$low|x$9.$low)>>>0)),x$10=$shiftLeft64(new $Uint64(0,3>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+3]),32),new $Uint64(x$3.$high|x$10.$high,(x$3.$low|x$10.$low)>>>0)),x$11=$shiftLeft64(new $Uint64(0,2>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+2]),40),new $Uint64(x$2.$high|x$11.$high,(x$2.$low|x$11.$low)>>>0)),x$12=$shiftLeft64(new $Uint64(0,1>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+1]),48),new $Uint64(x$1.$high|x$12.$high,(x$1.$low|x$12.$low)>>>0)),x$13=$shiftLeft64(new $Uint64(0,0>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+0]),56),new $Uint64(x.$high|x$13.$high,(x.$low|x$13.$low)>>>0);};bigEndian.prototype.Uint64=function(b){return this.$val.Uint64(b);};bigEndian.ptr.prototype.PutUint64=function(b,v){var b,v;$unused(7>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+7]);0>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+0]=$shiftRightUint64(v,56).$low<<24>>>24;1>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+1]=$shiftRightUint64(v,48).$low<<24>>>24;2>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+2]=$shiftRightUint64(v,40).$low<<24>>>24;3>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+3]=$shiftRightUint64(v,32).$low<<24>>>24;4>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+4]=$shiftRightUint64(v,24).$low<<24>>>24;5>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+5]=$shiftRightUint64(v,16).$low<<24>>>24;6>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+6]=$shiftRightUint64(v,8).$low<<24>>>24;7>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+7]=v.$low<<24>>>24;};bigEndian.prototype.PutUint64=function(b,v){return this.$val.PutUint64(b,v);};bigEndian.ptr.prototype.String=function(){return"BigEndian";};bigEndian.prototype.String=function(){return this.$val.String();};bigEndian.ptr.prototype.GoString=function(){return"binary.BigEndian";};bigEndian.prototype.GoString=function(){return this.$val.GoString();};bigEndian.methods=[{prop:"Uint16",name:"Uint16",pkg:"",typ:$funcType([sliceType],[$Uint16],false)},{prop:"PutUint16",name:"PutUint16",pkg:"",typ:$funcType([sliceType,$Uint16],[],false)},{prop:"Uint32",name:"Uint32",pkg:"",typ:$funcType([sliceType],[$Uint32],false)},{prop:"PutUint32",name:"PutUint32",pkg:"",typ:$funcType([sliceType,$Uint32],[],false)},{prop:"Uint64",name:"Uint64",pkg:"",typ:$funcType([sliceType],[$Uint64],false)},{prop:"PutUint64",name:"PutUint64",pkg:"",typ:$funcType([sliceType,$Uint64],[],false)},{prop:"String",name:"String",pkg:"",typ:$funcType([],[$String],false)},{prop:"GoString",name:"GoString",pkg:"",typ:$funcType([],[$String],false)}];bigEndian.init("",[]);$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=errors.$init();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=io.$init();/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=math.$init();/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=reflect.$init();/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$pkg.BigEndian=new bigEndian.ptr();overflow=errors.New("binary: varint overflows a 64-bit integer");/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["encoding/base64"]=function(){var $pkg={},$init,binary,io,strconv,Encoding,encoder,CorruptInputError,arrayType,arrayType$1,sliceType,ptrType,arrayType$2,arrayType$3,arrayType$4,ptrType$1,NewEncoding,NewEncoder;binary=$packages["encoding/binary"];io=$packages["io"];strconv=$packages["strconv"];Encoding=$pkg.Encoding=$newType(0,$kindStruct,"base64.Encoding",true,"encoding/base64",true,function(encode_,decodeMap_,padChar_,strict_){this.$val=this;if(arguments.length===0){this.encode=arrayType.zero();this.decodeMap=arrayType$1.zero();this.padChar=0;this.strict=false;return;}this.encode=encode_;this.decodeMap=decodeMap_;this.padChar=padChar_;this.strict=strict_;});encoder=$pkg.encoder=$newType(0,$kindStruct,"base64.encoder",true,"encoding/base64",false,function(err_,enc_,w_,buf_,nbuf_,out_){this.$val=this;if(arguments.length===0){this.err=$ifaceNil;this.enc=ptrType.nil;this.w=$ifaceNil;this.buf=arrayType$2.zero();this.nbuf=0;this.out=arrayType$3.zero();return;}this.err=err_;this.enc=enc_;this.w=w_;this.buf=buf_;this.nbuf=nbuf_;this.out=out_;});CorruptInputError=$pkg.CorruptInputError=$newType(8,$kindInt64,"base64.CorruptInputError",true,"encoding/base64",true,null);arrayType=$arrayType($Uint8,64);arrayType$1=$arrayType($Uint8,256);sliceType=$sliceType($Uint8);ptrType=$ptrType(Encoding);arrayType$2=$arrayType($Uint8,3);arrayType$3=$arrayType($Uint8,1024);arrayType$4=$arrayType($Uint8,4);ptrType$1=$ptrType(encoder);NewEncoding=function(encoder$1){var e,encoder$1,i,i$1,i$2,x,x$1,x$2;if(!(encoder$1.length===64)){$panic(new $String("encoding alphabet is not 64-bytes long"));}i=0;while(true){if(!(i<encoder$1.length)){break;}if(encoder$1.charCodeAt(i)===10||encoder$1.charCodeAt(i)===13){$panic(new $String("encoding alphabet contains newline character"));}i=i+1>>0;}e=new Encoding.ptr(arrayType.zero(),arrayType$1.zero(),0,false);e.padChar=61;$copyString(new sliceType(e.encode),encoder$1);i$1=0;while(true){if(!(i$1<256)){break;}x=e.decodeMap,i$1<0||i$1>=x.length?($throwRuntimeError("index out of range"),undefined):x[i$1]=255;i$1=i$1+1>>0;}i$2=0;while(true){if(!(i$2<encoder$1.length)){break;}x$1=e.decodeMap,x$2=encoder$1.charCodeAt(i$2),x$2<0||x$2>=x$1.length?($throwRuntimeError("index out of range"),undefined):x$1[x$2]=i$2<<24>>>24;i$2=i$2+1>>0;}return e;};$pkg.NewEncoding=NewEncoding;Encoding.ptr.prototype.WithPadding=function(padding){var enc,i,padding,x;enc=this;if(padding===13||padding===10||padding>255){$panic(new $String("invalid padding"));}i=0;while(true){if(!(i<64)){break;}if((x=enc.encode,i<0||i>=x.length?($throwRuntimeError("index out of range"),undefined):x[i])>>0===padding){$panic(new $String("padding contained in alphabet"));}i=i+1>>0;}enc.padChar=padding;return enc;};Encoding.prototype.WithPadding=function(padding){return this.$val.WithPadding(padding);};Encoding.ptr.prototype.Strict=function(){var enc;enc=this;enc.strict=true;return enc;};Encoding.prototype.Strict=function(){return this.$val.Strict();};Encoding.ptr.prototype.Encode=function(dst,src){var _1,_q,_tmp,_tmp$1,di,dst,enc,n,remain,si,src,val,val$1,x,x$1,x$10,x$11,x$12,x$13,x$14,x$15,x$16,x$17,x$18,x$19,x$2,x$20,x$21,x$22,x$23,x$24,x$25,x$26,x$27,x$28,x$3,x$4,x$5,x$6,x$7,x$8,x$9;enc=this;if(src.$length===0){return;}_tmp=0;_tmp$1=0;di=_tmp;si=_tmp$1;n=$imul((_q=src.$length/3,_q===_q&&_q!==1/0&&_q!==-1/0?_q>>0:$throwRuntimeError("integer divide by zero")),3);while(true){if(!(si<n)){break;}val=(((x=si+0>>0,x<0||x>=src.$length?($throwRuntimeError("index out of range"),undefined):src.$array[src.$offset+x])>>>0<<16>>>0|(x$1=si+1>>0,x$1<0||x$1>=src.$length?($throwRuntimeError("index out of range"),undefined):src.$array[src.$offset+x$1])>>>0<<8>>>0)>>>0|(x$2=si+2>>0,x$2<0||x$2>=src.$length?($throwRuntimeError("index out of range"),undefined):src.$array[src.$offset+x$2])>>>0)>>>0;x$5=di+0>>0,x$5<0||x$5>=dst.$length?($throwRuntimeError("index out of range"),undefined):dst.$array[dst.$offset+x$5]=(x$3=enc.encode,x$4=(val>>>18>>>0&63)>>>0,x$4<0||x$4>=x$3.length?($throwRuntimeError("index out of range"),undefined):x$3[x$4]);x$8=di+1>>0,x$8<0||x$8>=dst.$length?($throwRuntimeError("index out of range"),undefined):dst.$array[dst.$offset+x$8]=(x$6=enc.encode,x$7=(val>>>12>>>0&63)>>>0,x$7<0||x$7>=x$6.length?($throwRuntimeError("index out of range"),undefined):x$6[x$7]);x$11=di+2>>0,x$11<0||x$11>=dst.$length?($throwRuntimeError("index out of range"),undefined):dst.$array[dst.$offset+x$11]=(x$9=enc.encode,x$10=(val>>>6>>>0&63)>>>0,x$10<0||x$10>=x$9.length?($throwRuntimeError("index out of range"),undefined):x$9[x$10]);x$14=di+3>>0,x$14<0||x$14>=dst.$length?($throwRuntimeError("index out of range"),undefined):dst.$array[dst.$offset+x$14]=(x$12=enc.encode,x$13=(val&63)>>>0,x$13<0||x$13>=x$12.length?($throwRuntimeError("index out of range"),undefined):x$12[x$13]);si=si+3>>0;di=di+4>>0;}remain=src.$length-si>>0;if(remain===0){return;}val$1=(x$15=si+0>>0,x$15<0||x$15>=src.$length?($throwRuntimeError("index out of range"),undefined):src.$array[src.$offset+x$15])>>>0<<16>>>0;if(remain===2){val$1=(val$1|(x$16=si+1>>0,x$16<0||x$16>=src.$length?($throwRuntimeError("index out of range"),undefined):src.$array[src.$offset+x$16])>>>0<<8>>>0)>>>0;}x$19=di+0>>0,x$19<0||x$19>=dst.$length?($throwRuntimeError("index out of range"),undefined):dst.$array[dst.$offset+x$19]=(x$17=enc.encode,x$18=(val$1>>>18>>>0&63)>>>0,x$18<0||x$18>=x$17.length?($throwRuntimeError("index out of range"),undefined):x$17[x$18]);x$22=di+1>>0,x$22<0||x$22>=dst.$length?($throwRuntimeError("index out of range"),undefined):dst.$array[dst.$offset+x$22]=(x$20=enc.encode,x$21=(val$1>>>12>>>0&63)>>>0,x$21<0||x$21>=x$20.length?($throwRuntimeError("index out of range"),undefined):x$20[x$21]);_1=remain;if(_1===2){x$25=di+2>>0,x$25<0||x$25>=dst.$length?($throwRuntimeError("index out of range"),undefined):dst.$array[dst.$offset+x$25]=(x$23=enc.encode,x$24=(val$1>>>6>>>0&63)>>>0,x$24<0||x$24>=x$23.length?($throwRuntimeError("index out of range"),undefined):x$23[x$24]);if(!(enc.padChar===-1)){x$26=di+3>>0,x$26<0||x$26>=dst.$length?($throwRuntimeError("index out of range"),undefined):dst.$array[dst.$offset+x$26]=enc.padChar<<24>>>24;}}else if(_1===1){if(!(enc.padChar===-1)){x$27=di+2>>0,x$27<0||x$27>=dst.$length?($throwRuntimeError("index out of range"),undefined):dst.$array[dst.$offset+x$27]=enc.padChar<<24>>>24;x$28=di+3>>0,x$28<0||x$28>=dst.$length?($throwRuntimeError("index out of range"),undefined):dst.$array[dst.$offset+x$28]=enc.padChar<<24>>>24;}}};Encoding.prototype.Encode=function(dst,src){return this.$val.Encode(dst,src);};Encoding.ptr.prototype.EncodeToString=function(src){var buf,enc,src;enc=this;buf=$makeSlice(sliceType,enc.EncodedLen(src.$length));enc.Encode(buf,src);return $bytesToString(buf);};Encoding.prototype.EncodeToString=function(src){return this.$val.EncodeToString(src);};encoder.ptr.prototype.Write=function(p){var _q,_r,_r$1,_r$2,_tmp,_tmp$1,_tmp$2,_tmp$3,_tmp$4,_tmp$5,_tuple,_tuple$1,e,err,i,i$1,n,nn,p,x,x$1,x$2,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_q=$f._q;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tmp$2=$f._tmp$2;_tmp$3=$f._tmp$3;_tmp$4=$f._tmp$4;_tmp$5=$f._tmp$5;_tuple=$f._tuple;_tuple$1=$f._tuple$1;e=$f.e;err=$f.err;i=$f.i;i$1=$f.i$1;n=$f.n;nn=$f.nn;p=$f.p;x=$f.x;x$1=$f.x$1;x$2=$f.x$2;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:n=0;err=$ifaceNil;e=this;if(!$interfaceIsEqual(e.err,$ifaceNil)){_tmp=0;_tmp$1=e.err;n=_tmp;err=_tmp$1;$s=-1;return[n,err];}/* */if(e.nbuf>0){$s=1;continue;}/* */$s=2;continue;/* if (e.nbuf > 0) { */case 1:i=0;i=0;while(true){if(!(i<p.$length&&e.nbuf<3)){break;}x=e.buf,x$1=e.nbuf,x$1<0||x$1>=x.length?($throwRuntimeError("index out of range"),undefined):x[x$1]=i<0||i>=p.$length?($throwRuntimeError("index out of range"),undefined):p.$array[p.$offset+i];e.nbuf=e.nbuf+1>>0;i=i+1>>0;}n=n+i>>0;p=$subslice(p,i);if(e.nbuf<3){$s=-1;return[n,err];}e.enc.Encode(new sliceType(e.out),new sliceType(e.buf));_r=e.w.Write($subslice(new sliceType(e.out),0,4));/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;e.err=_tuple[1];if(!$interfaceIsEqual(e.err,$ifaceNil)){_tmp$2=n;_tmp$3=e.err;n=_tmp$2;err=_tmp$3;$s=-1;return[n,err];}e.nbuf=0;/* } */case 2:/* while (true) { */case 4:/* if (!(p.$length >= 3)) { break; } */if(!(p.$length>=3)){$s=5;continue;}nn=768;if(nn>p.$length){nn=p.$length;nn=nn-(_r$1=nn%3,_r$1===_r$1?_r$1:$throwRuntimeError("integer divide by zero"))>>0;}e.enc.Encode(new sliceType(e.out),$subslice(p,0,nn));_r$2=e.w.Write($subslice(new sliceType(e.out),0,$imul((_q=nn/3,_q===_q&&_q!==1/0&&_q!==-1/0?_q>>0:$throwRuntimeError("integer divide by zero")),4)));/* */$s=6;case 6:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$1=_r$2;e.err=_tuple$1[1];if(!$interfaceIsEqual(e.err,$ifaceNil)){_tmp$4=n;_tmp$5=e.err;n=_tmp$4;err=_tmp$5;$s=-1;return[n,err];}n=n+nn>>0;p=$subslice(p,nn);/* } */$s=4;continue;case 5:i$1=0;while(true){if(!(i$1<p.$length)){break;}x$2=e.buf,i$1<0||i$1>=x$2.length?($throwRuntimeError("index out of range"),undefined):x$2[i$1]=i$1<0||i$1>=p.$length?($throwRuntimeError("index out of range"),undefined):p.$array[p.$offset+i$1];i$1=i$1+1>>0;}e.nbuf=p.$length;n=n+p.$length>>0;$s=-1;return[n,err];/* */}return;}if($f===undefined){$f={$blk:encoder.ptr.prototype.Write};}$f._q=_q;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tmp$2=_tmp$2;$f._tmp$3=_tmp$3;$f._tmp$4=_tmp$4;$f._tmp$5=_tmp$5;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f.e=e;$f.err=err;$f.i=i;$f.i$1=i$1;$f.n=n;$f.nn=nn;$f.p=p;$f.x=x;$f.x$1=x$1;$f.x$2=x$2;$f.$s=$s;$f.$r=$r;return $f;};encoder.prototype.Write=function(p){return this.$val.Write(p);};encoder.ptr.prototype.Close=function(){var _r,_tuple,e,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tuple=$f._tuple;e=$f.e;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:e=this;/* */if($interfaceIsEqual(e.err,$ifaceNil)&&e.nbuf>0){$s=1;continue;}/* */$s=2;continue;/* if ($interfaceIsEqual(e.err, $ifaceNil) && e.nbuf > 0) { */case 1:e.enc.Encode(new sliceType(e.out),$subslice(new sliceType(e.buf),0,e.nbuf));_r=e.w.Write($subslice(new sliceType(e.out),0,e.enc.EncodedLen(e.nbuf)));/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;e.err=_tuple[1];e.nbuf=0;/* } */case 2:$s=-1;return e.err;/* */}return;}if($f===undefined){$f={$blk:encoder.ptr.prototype.Close};}$f._r=_r;$f._tuple=_tuple;$f.e=e;$f.$s=$s;$f.$r=$r;return $f;};encoder.prototype.Close=function(){return this.$val.Close();};NewEncoder=function(enc,w){var enc,w;return new encoder.ptr($ifaceNil,enc,w,arrayType$2.zero(),0,arrayType$3.zero());};$pkg.NewEncoder=NewEncoder;Encoding.ptr.prototype.EncodedLen=function(n){var _q,_q$1,enc,n;enc=this;if(enc.padChar===-1){return _q=($imul(n,8)+5>>0)/6,_q===_q&&_q!==1/0&&_q!==-1/0?_q>>0:$throwRuntimeError("integer divide by zero");}return $imul((_q$1=(n+2>>0)/3,_q$1===_q$1&&_q$1!==1/0&&_q$1!==-1/0?_q$1>>0:$throwRuntimeError("integer divide by zero")),4);};Encoding.prototype.EncodedLen=function(n){return this.$val.EncodedLen(n);};CorruptInputError.prototype.Error=function(){var e;e=this;return"illegal base64 data at input byte "+strconv.FormatInt(new $Int64(e.$high,e.$low),10);};$ptrType(CorruptInputError).prototype.Error=function(){return this.$get().Error();};Encoding.ptr.prototype.decodeQuantum=function(dst,src,si){var _1,_2,_tmp,_tmp$1,_tmp$10,_tmp$11,_tmp$12,_tmp$13,_tmp$14,_tmp$15,_tmp$16,_tmp$17,_tmp$18,_tmp$19,_tmp$2,_tmp$20,_tmp$21,_tmp$22,_tmp$23,_tmp$24,_tmp$25,_tmp$26,_tmp$27,_tmp$28,_tmp$29,_tmp$3,_tmp$30,_tmp$31,_tmp$32,_tmp$33,_tmp$34,_tmp$35,_tmp$36,_tmp$37,_tmp$38,_tmp$39,_tmp$4,_tmp$40,_tmp$41,_tmp$42,_tmp$43,_tmp$44,_tmp$5,_tmp$6,_tmp$7,_tmp$8,_tmp$9,dbuf,dinc,dlen,dst,enc,err,in$1,j,n,nsi,out,si,src,val,x;nsi=0;n=0;err=$ifaceNil;enc=this;dbuf=arrayType$4.zero();_tmp=3;_tmp$1=4;dinc=_tmp;dlen=_tmp$1;j=0;while(true){if(!(j<4)){break;}if(src.$length===si){if(j===0){_tmp$2=si;_tmp$3=0;_tmp$4=$ifaceNil;nsi=_tmp$2;n=_tmp$3;err=_tmp$4;return[nsi,n,err];}else if(j===1||!(enc.padChar===-1)){_tmp$5=si;_tmp$6=0;_tmp$7=new CorruptInputError(0,si-j>>0);nsi=_tmp$5;n=_tmp$6;err=_tmp$7;return[nsi,n,err];}_tmp$8=j-1>>0;_tmp$9=j;dinc=_tmp$8;dlen=_tmp$9;break;}in$1=si<0||si>=src.$length?($throwRuntimeError("index out of range"),undefined):src.$array[src.$offset+si];si=si+1>>0;out=(x=enc.decodeMap,in$1<0||in$1>=x.length?($throwRuntimeError("index out of range"),undefined):x[in$1]);if(!(out===255)){j<0||j>=dbuf.length?($throwRuntimeError("index out of range"),undefined):dbuf[j]=out;j=j+1>>0;continue;}if(in$1===10||in$1===13){j=j-1>>0;j=j+1>>0;continue;}if(!(in$1>>0===enc.padChar)){_tmp$10=si;_tmp$11=0;_tmp$12=new CorruptInputError(0,si-1>>0);nsi=_tmp$10;n=_tmp$11;err=_tmp$12;return[nsi,n,err];}_1=j;if(_1===0||_1===1){_tmp$13=si;_tmp$14=0;_tmp$15=new CorruptInputError(0,si-1>>0);nsi=_tmp$13;n=_tmp$14;err=_tmp$15;return[nsi,n,err];}else if(_1===2){while(true){if(!(si<src.$length&&((si<0||si>=src.$length?($throwRuntimeError("index out of range"),undefined):src.$array[src.$offset+si])===10||(si<0||si>=src.$length?($throwRuntimeError("index out of range"),undefined):src.$array[src.$offset+si])===13))){break;}si=si+1>>0;}if(si===src.$length){_tmp$16=si;_tmp$17=0;_tmp$18=new CorruptInputError(0,src.$length);nsi=_tmp$16;n=_tmp$17;err=_tmp$18;return[nsi,n,err];}if(!((si<0||si>=src.$length?($throwRuntimeError("index out of range"),undefined):src.$array[src.$offset+si])>>0===enc.padChar)){_tmp$19=si;_tmp$20=0;_tmp$21=new CorruptInputError(0,si-1>>0);nsi=_tmp$19;n=_tmp$20;err=_tmp$21;return[nsi,n,err];}si=si+1>>0;}while(true){if(!(si<src.$length&&((si<0||si>=src.$length?($throwRuntimeError("index out of range"),undefined):src.$array[src.$offset+si])===10||(si<0||si>=src.$length?($throwRuntimeError("index out of range"),undefined):src.$array[src.$offset+si])===13))){break;}si=si+1>>0;}if(si<src.$length){err=new CorruptInputError(0,si);}_tmp$22=3;_tmp$23=j;dinc=_tmp$22;dlen=_tmp$23;break;}val=(((dbuf[0]>>>0<<18>>>0|dbuf[1]>>>0<<12>>>0)>>>0|dbuf[2]>>>0<<6>>>0)>>>0|dbuf[3]>>>0)>>>0;_tmp$24=val>>>0>>>0<<24>>>24;_tmp$25=val>>>8>>>0<<24>>>24;_tmp$26=val>>>16>>>0<<24>>>24;dbuf[2]=_tmp$24;dbuf[1]=_tmp$25;dbuf[0]=_tmp$26;_2=dlen;if(_2===4){2>=dst.$length?($throwRuntimeError("index out of range"),undefined):dst.$array[dst.$offset+2]=dbuf[2];dbuf[2]=0;1>=dst.$length?($throwRuntimeError("index out of range"),undefined):dst.$array[dst.$offset+1]=dbuf[1];if(enc.strict&&!(dbuf[2]===0)){_tmp$27=si;_tmp$28=0;_tmp$29=new CorruptInputError(0,si-1>>0);nsi=_tmp$27;n=_tmp$28;err=_tmp$29;return[nsi,n,err];}dbuf[1]=0;0>=dst.$length?($throwRuntimeError("index out of range"),undefined):dst.$array[dst.$offset+0]=dbuf[0];if(enc.strict&&(!(dbuf[1]===0)||!(dbuf[2]===0))){_tmp$30=si;_tmp$31=0;_tmp$32=new CorruptInputError(0,si-2>>0);nsi=_tmp$30;n=_tmp$31;err=_tmp$32;return[nsi,n,err];}}else if(_2===3){1>=dst.$length?($throwRuntimeError("index out of range"),undefined):dst.$array[dst.$offset+1]=dbuf[1];if(enc.strict&&!(dbuf[2]===0)){_tmp$33=si;_tmp$34=0;_tmp$35=new CorruptInputError(0,si-1>>0);nsi=_tmp$33;n=_tmp$34;err=_tmp$35;return[nsi,n,err];}dbuf[1]=0;0>=dst.$length?($throwRuntimeError("index out of range"),undefined):dst.$array[dst.$offset+0]=dbuf[0];if(enc.strict&&(!(dbuf[1]===0)||!(dbuf[2]===0))){_tmp$36=si;_tmp$37=0;_tmp$38=new CorruptInputError(0,si-2>>0);nsi=_tmp$36;n=_tmp$37;err=_tmp$38;return[nsi,n,err];}}else if(_2===2){0>=dst.$length?($throwRuntimeError("index out of range"),undefined):dst.$array[dst.$offset+0]=dbuf[0];if(enc.strict&&(!(dbuf[1]===0)||!(dbuf[2]===0))){_tmp$39=si;_tmp$40=0;_tmp$41=new CorruptInputError(0,si-2>>0);nsi=_tmp$39;n=_tmp$40;err=_tmp$41;return[nsi,n,err];}}dst=$subslice(dst,dinc);_tmp$42=si;_tmp$43=dlen-1>>0;_tmp$44=err;nsi=_tmp$42;n=_tmp$43;err=_tmp$44;return[nsi,n,err];};Encoding.prototype.decodeQuantum=function(dst,src,si){return this.$val.decodeQuantum(dst,src,si);};Encoding.ptr.prototype.DecodeString=function(s){var _tuple,dbuf,enc,err,n,s;enc=this;dbuf=$makeSlice(sliceType,enc.DecodedLen(s.length));_tuple=enc.Decode(dbuf,new sliceType($stringToBytes(s)));n=_tuple[0];err=_tuple[1];return[$subslice(dbuf,0,n),err];};Encoding.prototype.DecodeString=function(s){return this.$val.DecodeString(s);};Encoding.ptr.prototype.Decode=function(dst,src){var _tmp,_tmp$1,_tmp$2,_tmp$3,_tmp$4,_tmp$5,_tmp$6,_tmp$7,_tmp$8,_tmp$9,_tuple,_tuple$1,_tuple$2,_tuple$3,_tuple$4,dn,dn$1,dst,enc,err,n,ninc,ninc$1,ninc$2,ok,ok$1,si,src;n=0;err=$ifaceNil;enc=this;if(src.$length===0){_tmp=0;_tmp$1=$ifaceNil;n=_tmp;err=_tmp$1;return[n,err];}si=0;while(true){if(!(false&&src.$length-si>>0>=8&&dst.$length-n>>0>=8)){break;}_tuple=enc.decode64($subslice(src,si));dn=_tuple[0];ok=_tuple[1];if(ok){$clone(binary.BigEndian,binary.bigEndian).PutUint64($subslice(dst,n),dn);n=n+6>>0;si=si+8>>0;}else{ninc=0;_tuple$1=enc.decodeQuantum($subslice(dst,n),src,si);si=_tuple$1[0];ninc=_tuple$1[1];err=_tuple$1[2];n=n+ninc>>0;if(!$interfaceIsEqual(err,$ifaceNil)){_tmp$2=n;_tmp$3=err;n=_tmp$2;err=_tmp$3;return[n,err];}}}while(true){if(!(src.$length-si>>0>=4&&dst.$length-n>>0>=4)){break;}_tuple$2=enc.decode32($subslice(src,si));dn$1=_tuple$2[0];ok$1=_tuple$2[1];if(ok$1){$clone(binary.BigEndian,binary.bigEndian).PutUint32($subslice(dst,n),dn$1);n=n+3>>0;si=si+4>>0;}else{ninc$1=0;_tuple$3=enc.decodeQuantum($subslice(dst,n),src,si);si=_tuple$3[0];ninc$1=_tuple$3[1];err=_tuple$3[2];n=n+ninc$1>>0;if(!$interfaceIsEqual(err,$ifaceNil)){_tmp$4=n;_tmp$5=err;n=_tmp$4;err=_tmp$5;return[n,err];}}}while(true){if(!(si<src.$length)){break;}ninc$2=0;_tuple$4=enc.decodeQuantum($subslice(dst,n),src,si);si=_tuple$4[0];ninc$2=_tuple$4[1];err=_tuple$4[2];n=n+ninc$2>>0;if(!$interfaceIsEqual(err,$ifaceNil)){_tmp$6=n;_tmp$7=err;n=_tmp$6;err=_tmp$7;return[n,err];}}_tmp$8=n;_tmp$9=err;n=_tmp$8;err=_tmp$9;return[n,err];};Encoding.prototype.Decode=function(dst,src){return this.$val.Decode(dst,src);};Encoding.ptr.prototype.decode32=function(src){var _tmp,_tmp$1,_tmp$2,_tmp$3,_tmp$4,_tmp$5,_tmp$6,_tmp$7,_tmp$8,_tmp$9,dn,enc,n,ok,src,x,x$1,x$2,x$3,x$4,x$5,x$6,x$7;dn=0;ok=false;enc=this;n=0;$unused(3>=src.$length?($throwRuntimeError("index out of range"),undefined):src.$array[src.$offset+3]);n=(x=enc.decodeMap,x$1=0>=src.$length?($throwRuntimeError("index out of range"),undefined):src.$array[src.$offset+0],x$1<0||x$1>=x.length?($throwRuntimeError("index out of range"),undefined):x[x$1])>>>0;if(n===255){_tmp=0;_tmp$1=false;dn=_tmp;ok=_tmp$1;return[dn,ok];}dn=(dn|n<<26>>>0)>>>0;n=(x$2=enc.decodeMap,x$3=1>=src.$length?($throwRuntimeError("index out of range"),undefined):src.$array[src.$offset+1],x$3<0||x$3>=x$2.length?($throwRuntimeError("index out of range"),undefined):x$2[x$3])>>>0;if(n===255){_tmp$2=0;_tmp$3=false;dn=_tmp$2;ok=_tmp$3;return[dn,ok];}dn=(dn|n<<20>>>0)>>>0;n=(x$4=enc.decodeMap,x$5=2>=src.$length?($throwRuntimeError("index out of range"),undefined):src.$array[src.$offset+2],x$5<0||x$5>=x$4.length?($throwRuntimeError("index out of range"),undefined):x$4[x$5])>>>0;if(n===255){_tmp$4=0;_tmp$5=false;dn=_tmp$4;ok=_tmp$5;return[dn,ok];}dn=(dn|n<<14>>>0)>>>0;n=(x$6=enc.decodeMap,x$7=3>=src.$length?($throwRuntimeError("index out of range"),undefined):src.$array[src.$offset+3],x$7<0||x$7>=x$6.length?($throwRuntimeError("index out of range"),undefined):x$6[x$7])>>>0;if(n===255){_tmp$6=0;_tmp$7=false;dn=_tmp$6;ok=_tmp$7;return[dn,ok];}dn=(dn|n<<8>>>0)>>>0;_tmp$8=dn;_tmp$9=true;dn=_tmp$8;ok=_tmp$9;return[dn,ok];};Encoding.prototype.decode32=function(src){return this.$val.decode32(src);};Encoding.ptr.prototype.decode64=function(src){var _tmp,_tmp$1,_tmp$10,_tmp$11,_tmp$12,_tmp$13,_tmp$14,_tmp$15,_tmp$16,_tmp$17,_tmp$2,_tmp$3,_tmp$4,_tmp$5,_tmp$6,_tmp$7,_tmp$8,_tmp$9,dn,enc,n,ok,src,x,x$1,x$10,x$11,x$12,x$13,x$14,x$15,x$16,x$17,x$18,x$19,x$2,x$20,x$21,x$22,x$23,x$3,x$4,x$5,x$6,x$7,x$8,x$9;dn=new $Uint64(0,0);ok=false;enc=this;n=new $Uint64(0,0);$unused(7>=src.$length?($throwRuntimeError("index out of range"),undefined):src.$array[src.$offset+7]);n=new $Uint64(0,(x=enc.decodeMap,x$1=0>=src.$length?($throwRuntimeError("index out of range"),undefined):src.$array[src.$offset+0],x$1<0||x$1>=x.length?($throwRuntimeError("index out of range"),undefined):x[x$1]));if(n.$high===0&&n.$low===255){_tmp=new $Uint64(0,0);_tmp$1=false;dn=_tmp;ok=_tmp$1;return[dn,ok];}dn=(x$2=$shiftLeft64(n,58),new $Uint64(dn.$high|x$2.$high,(dn.$low|x$2.$low)>>>0));n=new $Uint64(0,(x$3=enc.decodeMap,x$4=1>=src.$length?($throwRuntimeError("index out of range"),undefined):src.$array[src.$offset+1],x$4<0||x$4>=x$3.length?($throwRuntimeError("index out of range"),undefined):x$3[x$4]));if(n.$high===0&&n.$low===255){_tmp$2=new $Uint64(0,0);_tmp$3=false;dn=_tmp$2;ok=_tmp$3;return[dn,ok];}dn=(x$5=$shiftLeft64(n,52),new $Uint64(dn.$high|x$5.$high,(dn.$low|x$5.$low)>>>0));n=new $Uint64(0,(x$6=enc.decodeMap,x$7=2>=src.$length?($throwRuntimeError("index out of range"),undefined):src.$array[src.$offset+2],x$7<0||x$7>=x$6.length?($throwRuntimeError("index out of range"),undefined):x$6[x$7]));if(n.$high===0&&n.$low===255){_tmp$4=new $Uint64(0,0);_tmp$5=false;dn=_tmp$4;ok=_tmp$5;return[dn,ok];}dn=(x$8=$shiftLeft64(n,46),new $Uint64(dn.$high|x$8.$high,(dn.$low|x$8.$low)>>>0));n=new $Uint64(0,(x$9=enc.decodeMap,x$10=3>=src.$length?($throwRuntimeError("index out of range"),undefined):src.$array[src.$offset+3],x$10<0||x$10>=x$9.length?($throwRuntimeError("index out of range"),undefined):x$9[x$10]));if(n.$high===0&&n.$low===255){_tmp$6=new $Uint64(0,0);_tmp$7=false;dn=_tmp$6;ok=_tmp$7;return[dn,ok];}dn=(x$11=$shiftLeft64(n,40),new $Uint64(dn.$high|x$11.$high,(dn.$low|x$11.$low)>>>0));n=new $Uint64(0,(x$12=enc.decodeMap,x$13=4>=src.$length?($throwRuntimeError("index out of range"),undefined):src.$array[src.$offset+4],x$13<0||x$13>=x$12.length?($throwRuntimeError("index out of range"),undefined):x$12[x$13]));if(n.$high===0&&n.$low===255){_tmp$8=new $Uint64(0,0);_tmp$9=false;dn=_tmp$8;ok=_tmp$9;return[dn,ok];}dn=(x$14=$shiftLeft64(n,34),new $Uint64(dn.$high|x$14.$high,(dn.$low|x$14.$low)>>>0));n=new $Uint64(0,(x$15=enc.decodeMap,x$16=5>=src.$length?($throwRuntimeError("index out of range"),undefined):src.$array[src.$offset+5],x$16<0||x$16>=x$15.length?($throwRuntimeError("index out of range"),undefined):x$15[x$16]));if(n.$high===0&&n.$low===255){_tmp$10=new $Uint64(0,0);_tmp$11=false;dn=_tmp$10;ok=_tmp$11;return[dn,ok];}dn=(x$17=$shiftLeft64(n,28),new $Uint64(dn.$high|x$17.$high,(dn.$low|x$17.$low)>>>0));n=new $Uint64(0,(x$18=enc.decodeMap,x$19=6>=src.$length?($throwRuntimeError("index out of range"),undefined):src.$array[src.$offset+6],x$19<0||x$19>=x$18.length?($throwRuntimeError("index out of range"),undefined):x$18[x$19]));if(n.$high===0&&n.$low===255){_tmp$12=new $Uint64(0,0);_tmp$13=false;dn=_tmp$12;ok=_tmp$13;return[dn,ok];}dn=(x$20=$shiftLeft64(n,22),new $Uint64(dn.$high|x$20.$high,(dn.$low|x$20.$low)>>>0));n=new $Uint64(0,(x$21=enc.decodeMap,x$22=7>=src.$length?($throwRuntimeError("index out of range"),undefined):src.$array[src.$offset+7],x$22<0||x$22>=x$21.length?($throwRuntimeError("index out of range"),undefined):x$21[x$22]));if(n.$high===0&&n.$low===255){_tmp$14=new $Uint64(0,0);_tmp$15=false;dn=_tmp$14;ok=_tmp$15;return[dn,ok];}dn=(x$23=$shiftLeft64(n,16),new $Uint64(dn.$high|x$23.$high,(dn.$low|x$23.$low)>>>0));_tmp$16=dn;_tmp$17=true;dn=_tmp$16;ok=_tmp$17;return[dn,ok];};Encoding.prototype.decode64=function(src){return this.$val.decode64(src);};Encoding.ptr.prototype.DecodedLen=function(n){var _q,_q$1,enc,n;enc=this;if(enc.padChar===-1){return _q=$imul(n,6)/8,_q===_q&&_q!==1/0&&_q!==-1/0?_q>>0:$throwRuntimeError("integer divide by zero");}return $imul((_q$1=n/4,_q$1===_q$1&&_q$1!==1/0&&_q$1!==-1/0?_q$1>>0:$throwRuntimeError("integer divide by zero")),3);};Encoding.prototype.DecodedLen=function(n){return this.$val.DecodedLen(n);};Encoding.methods=[{prop:"WithPadding",name:"WithPadding",pkg:"",typ:$funcType([$Int32],[ptrType],false)},{prop:"Strict",name:"Strict",pkg:"",typ:$funcType([],[ptrType],false)}];ptrType.methods=[{prop:"Encode",name:"Encode",pkg:"",typ:$funcType([sliceType,sliceType],[],false)},{prop:"EncodeToString",name:"EncodeToString",pkg:"",typ:$funcType([sliceType],[$String],false)},{prop:"EncodedLen",name:"EncodedLen",pkg:"",typ:$funcType([$Int],[$Int],false)},{prop:"decodeQuantum",name:"decodeQuantum",pkg:"encoding/base64",typ:$funcType([sliceType,sliceType,$Int],[$Int,$Int,$error],false)},{prop:"DecodeString",name:"DecodeString",pkg:"",typ:$funcType([$String],[sliceType,$error],false)},{prop:"Decode",name:"Decode",pkg:"",typ:$funcType([sliceType,sliceType],[$Int,$error],false)},{prop:"decode32",name:"decode32",pkg:"encoding/base64",typ:$funcType([sliceType],[$Uint32,$Bool],false)},{prop:"decode64",name:"decode64",pkg:"encoding/base64",typ:$funcType([sliceType],[$Uint64,$Bool],false)},{prop:"DecodedLen",name:"DecodedLen",pkg:"",typ:$funcType([$Int],[$Int],false)}];ptrType$1.methods=[{prop:"Write",name:"Write",pkg:"",typ:$funcType([sliceType],[$Int,$error],false)},{prop:"Close",name:"Close",pkg:"",typ:$funcType([],[$error],false)}];CorruptInputError.methods=[{prop:"Error",name:"Error",pkg:"",typ:$funcType([],[$String],false)}];Encoding.init("encoding/base64",[{prop:"encode",name:"encode",embedded:false,exported:false,typ:arrayType,tag:""},{prop:"decodeMap",name:"decodeMap",embedded:false,exported:false,typ:arrayType$1,tag:""},{prop:"padChar",name:"padChar",embedded:false,exported:false,typ:$Int32,tag:""},{prop:"strict",name:"strict",embedded:false,exported:false,typ:$Bool,tag:""}]);encoder.init("encoding/base64",[{prop:"err",name:"err",embedded:false,exported:false,typ:$error,tag:""},{prop:"enc",name:"enc",embedded:false,exported:false,typ:ptrType,tag:""},{prop:"w",name:"w",embedded:false,exported:false,typ:io.Writer,tag:""},{prop:"buf",name:"buf",embedded:false,exported:false,typ:arrayType$2,tag:""},{prop:"nbuf",name:"nbuf",embedded:false,exported:false,typ:$Int,tag:""},{prop:"out",name:"out",embedded:false,exported:false,typ:arrayType$3,tag:""}]);$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=binary.$init();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=io.$init();/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=strconv.$init();/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$pkg.StdEncoding=NewEncoding("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");$pkg.URLEncoding=NewEncoding("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_");$pkg.RawStdEncoding=$clone($pkg.StdEncoding,Encoding).WithPadding(-1);$pkg.RawURLEncoding=$clone($pkg.URLEncoding,Encoding).WithPadding(-1);/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["strings"]=function(){var $pkg={},$init,errors,js,bytealg,io,sync,unicode,utf8,Builder,ptrType,sliceType,IndexByte,Index,ContainsRune,IndexRune,Join;errors=$packages["errors"];js=$packages["github.com/gopherjs/gopherjs/js"];bytealg=$packages["internal/bytealg"];io=$packages["io"];sync=$packages["sync"];unicode=$packages["unicode"];utf8=$packages["unicode/utf8"];Builder=$pkg.Builder=$newType(0,$kindStruct,"strings.Builder",true,"strings",true,function(addr_,buf_){this.$val=this;if(arguments.length===0){this.addr=ptrType.nil;this.buf=sliceType.nil;return;}this.addr=addr_;this.buf=buf_;});ptrType=$ptrType(Builder);sliceType=$sliceType($Uint8);IndexByte=function(s,c){var c,s;return $parseInt(s.indexOf($global.String.fromCharCode(c)))>>0;};$pkg.IndexByte=IndexByte;Index=function(s,sep){var s,sep;return $parseInt(s.indexOf(sep))>>0;};$pkg.Index=Index;Builder.ptr.prototype.String=function(){var b;b=this;return $bytesToString(b.buf);};Builder.prototype.String=function(){return this.$val.String();};Builder.ptr.prototype.copyCheck=function(){var b;b=this;if(b.addr===ptrType.nil){b.addr=b;}else if(!(b.addr===b)){$panic(new $String("strings: illegal use of non-zero Builder copied by value"));}};Builder.prototype.copyCheck=function(){return this.$val.copyCheck();};Builder.ptr.prototype.Len=function(){var b;b=this;return b.buf.$length;};Builder.prototype.Len=function(){return this.$val.Len();};Builder.ptr.prototype.Cap=function(){var b;b=this;return b.buf.$capacity;};Builder.prototype.Cap=function(){return this.$val.Cap();};Builder.ptr.prototype.Reset=function(){var b;b=this;b.addr=ptrType.nil;b.buf=sliceType.nil;};Builder.prototype.Reset=function(){return this.$val.Reset();};Builder.ptr.prototype.grow=function(n){var b,buf,n;b=this;buf=$makeSlice(sliceType,b.buf.$length,$imul(2,b.buf.$capacity)+n>>0);$copySlice(buf,b.buf);b.buf=buf;};Builder.prototype.grow=function(n){return this.$val.grow(n);};Builder.ptr.prototype.Grow=function(n){var b,n;b=this;b.copyCheck();if(n<0){$panic(new $String("strings.Builder.Grow: negative count"));}if(b.buf.$capacity-b.buf.$length>>0<n){b.grow(n);}};Builder.prototype.Grow=function(n){return this.$val.Grow(n);};Builder.ptr.prototype.Write=function(p){var b,p;b=this;b.copyCheck();b.buf=$appendSlice(b.buf,p);return[p.$length,$ifaceNil];};Builder.prototype.Write=function(p){return this.$val.Write(p);};Builder.ptr.prototype.WriteByte=function(c){var b,c;b=this;b.copyCheck();b.buf=$append(b.buf,c);return $ifaceNil;};Builder.prototype.WriteByte=function(c){return this.$val.WriteByte(c);};Builder.ptr.prototype.WriteRune=function(r){var b,l,n,r;b=this;b.copyCheck();if(r<128){b.buf=$append(b.buf,r<<24>>>24);return[1,$ifaceNil];}l=b.buf.$length;if(b.buf.$capacity-l>>0<4){b.grow(4);}n=utf8.EncodeRune($subslice(b.buf,l,l+4>>0),r);b.buf=$subslice(b.buf,0,l+n>>0);return[n,$ifaceNil];};Builder.prototype.WriteRune=function(r){return this.$val.WriteRune(r);};Builder.ptr.prototype.WriteString=function(s){var b,s;b=this;b.copyCheck();b.buf=$appendSlice(b.buf,s);return[s.length,$ifaceNil];};Builder.prototype.WriteString=function(s){return this.$val.WriteString(s);};ContainsRune=function(s,r){var r,s;return IndexRune(s,r)>=0;};$pkg.ContainsRune=ContainsRune;IndexRune=function(s,r){var _i,_ref,_rune,i,r,r$1,s;if(0<=r&&r<128){return IndexByte(s,r<<24>>>24);}else if(r===65533){_ref=s;_i=0;while(true){if(!(_i<_ref.length)){break;}_rune=$decodeRune(_ref,_i);i=_i;r$1=_rune[0];if(r$1===65533){return i;}_i+=_rune[1];}return-1;}else if(!utf8.ValidRune(r)){return-1;}else{return Index(s,$encodeRune(r));}};$pkg.IndexRune=IndexRune;Join=function(a,sep){var _1,_i,_ref,a,b,i,n,s,sep;_1=a.$length;if(_1===0){return"";}else if(_1===1){return 0>=a.$length?($throwRuntimeError("index out of range"),undefined):a.$array[a.$offset+0];}n=$imul(sep.length,a.$length-1>>0);i=0;while(true){if(!(i<a.$length)){break;}n=n+(i<0||i>=a.$length?($throwRuntimeError("index out of range"),undefined):a.$array[a.$offset+i]).length>>0;i=i+1>>0;}b=new Builder.ptr(ptrType.nil,sliceType.nil);b.Grow(n);b.WriteString(0>=a.$length?($throwRuntimeError("index out of range"),undefined):a.$array[a.$offset+0]);_ref=$subslice(a,1);_i=0;while(true){if(!(_i<_ref.$length)){break;}s=_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i];b.WriteString(sep);b.WriteString(s);_i++;}return b.String();};$pkg.Join=Join;ptrType.methods=[{prop:"String",name:"String",pkg:"",typ:$funcType([],[$String],false)},{prop:"copyCheck",name:"copyCheck",pkg:"strings",typ:$funcType([],[],false)},{prop:"Len",name:"Len",pkg:"",typ:$funcType([],[$Int],false)},{prop:"Cap",name:"Cap",pkg:"",typ:$funcType([],[$Int],false)},{prop:"Reset",name:"Reset",pkg:"",typ:$funcType([],[],false)},{prop:"grow",name:"grow",pkg:"strings",typ:$funcType([$Int],[],false)},{prop:"Grow",name:"Grow",pkg:"",typ:$funcType([$Int],[],false)},{prop:"Write",name:"Write",pkg:"",typ:$funcType([sliceType],[$Int,$error],false)},{prop:"WriteByte",name:"WriteByte",pkg:"",typ:$funcType([$Uint8],[$error],false)},{prop:"WriteRune",name:"WriteRune",pkg:"",typ:$funcType([$Int32],[$Int,$error],false)},{prop:"WriteString",name:"WriteString",pkg:"",typ:$funcType([$String],[$Int,$error],false)}];Builder.init("strings",[{prop:"addr",name:"addr",embedded:false,exported:false,typ:ptrType,tag:""},{prop:"buf",name:"buf",embedded:false,exported:false,typ:sliceType,tag:""}]);$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=errors.$init();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=js.$init();/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=bytealg.$init();/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=io.$init();/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=sync.$init();/* */$s=5;case 5:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=unicode.$init();/* */$s=6;case 6:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=utf8.$init();/* */$s=7;case 7:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["unicode/utf16"]=function(){var $pkg={},$init,IsSurrogate,DecodeRune;IsSurrogate=function(r){var r;return 55296<=r&&r<57344;};$pkg.IsSurrogate=IsSurrogate;DecodeRune=function(r1,r2){var r1,r2;if(55296<=r1&&r1<56320&&56320<=r2&&r2<57344){return(r1-55296>>0<<10>>0|r2-56320>>0)+65536>>0;}return 65533;};$pkg.DecodeRune=DecodeRune;$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["encoding/json"]=function(){var $pkg={},$init,bytes,encoding,base64,errors,fmt,nosync,io,math,reflect,sort,strconv,strings,unicode,utf16,utf8,Unmarshaler,UnmarshalTypeError,InvalidUnmarshalError,Number,decodeState,unquotedValue,Marshaler,UnsupportedTypeError,UnsupportedValueError,MarshalerError,encodeState,jsonError,encOpts,encoderFunc,floatEncoder,structEncoder,mapEncoder,sliceEncoder,arrayEncoder,ptrEncoder,condAddrEncoder,reflectWithString,field,byIndex,SyntaxError,scanner,tagOptions,sliceType,sliceType$1,ptrType,ptrType$1,ptrType$2,sliceType$2,structType,ptrType$4,ptrType$5,mapType,sliceType$3,ptrType$6,ptrType$7,arrayType,sliceType$4,ptrType$12,ptrType$13,ptrType$14,ptrType$15,ptrType$17,ptrType$18,funcType,ptrType$19,ptrType$20,funcType$1,nullLiteral,textUnmarshalerType,numberType,hex,encodeStatePool,encoderCache,marshalerType,textMarshalerType,float32Encoder,float64Encoder,fieldCache,safeSet,htmlSafeSet,_r,_r$1,_r$2,Unmarshal,isValidNumber,indirect,getu4,unquote,unquoteBytes,Marshal,HTMLEscape,newEncodeState,isEmptyValue,valueEncoder,typeEncoder,newTypeEncoder,invalidValueEncoder,marshalerEncoder,addrMarshalerEncoder,textMarshalerEncoder,addrTextMarshalerEncoder,boolEncoder,intEncoder,uintEncoder,stringEncoder,interfaceEncoder,unsupportedTypeEncoder,newStructEncoder,newMapEncoder,encodeByteSlice,newSliceEncoder,newArrayEncoder,newPtrEncoder,newCondAddrEncoder,isValidTag,typeByIndex,typeFields,dominantField,cachedTypeFields,foldFunc,equalFoldRight,asciiEqualFold,simpleLetterEqualFold,compact,checkValid,isSpace,stateBeginValueOrEmpty,stateBeginValue,stateBeginStringOrEmpty,stateBeginString,stateEndValue,stateEndTop,stateInString,stateInStringEsc,stateInStringEscU,stateInStringEscU1,stateInStringEscU12,stateInStringEscU123,stateNeg,state1,state0,stateDot,stateDot0,stateE,stateESign,stateE0,stateT,stateTr,stateTru,stateF,stateFa,stateFal,stateFals,stateN,stateNu,stateNul,stateError,quoteChar,parseTag;bytes=$packages["bytes"];encoding=$packages["encoding"];base64=$packages["encoding/base64"];errors=$packages["errors"];fmt=$packages["fmt"];nosync=$packages["github.com/gopherjs/gopherjs/nosync"];io=$packages["io"];math=$packages["math"];reflect=$packages["reflect"];sort=$packages["sort"];strconv=$packages["strconv"];strings=$packages["strings"];unicode=$packages["unicode"];utf16=$packages["unicode/utf16"];utf8=$packages["unicode/utf8"];Unmarshaler=$pkg.Unmarshaler=$newType(8,$kindInterface,"json.Unmarshaler",true,"encoding/json",true,null);UnmarshalTypeError=$pkg.UnmarshalTypeError=$newType(0,$kindStruct,"json.UnmarshalTypeError",true,"encoding/json",true,function(Value_,Type_,Offset_,Struct_,Field_){this.$val=this;if(arguments.length===0){this.Value="";this.Type=$ifaceNil;this.Offset=new $Int64(0,0);this.Struct="";this.Field="";return;}this.Value=Value_;this.Type=Type_;this.Offset=Offset_;this.Struct=Struct_;this.Field=Field_;});InvalidUnmarshalError=$pkg.InvalidUnmarshalError=$newType(0,$kindStruct,"json.InvalidUnmarshalError",true,"encoding/json",true,function(Type_){this.$val=this;if(arguments.length===0){this.Type=$ifaceNil;return;}this.Type=Type_;});Number=$pkg.Number=$newType(8,$kindString,"json.Number",true,"encoding/json",true,null);decodeState=$pkg.decodeState=$newType(0,$kindStruct,"json.decodeState",true,"encoding/json",false,function(data_,off_,opcode_,scan_,errorContext_,savedError_,useNumber_,disallowUnknownFields_){this.$val=this;if(arguments.length===0){this.data=sliceType$1.nil;this.off=0;this.opcode=0;this.scan=new scanner.ptr($throwNilPointerError,false,sliceType$2.nil,$ifaceNil,new $Int64(0,0));this.errorContext=new structType.ptr($ifaceNil,"");this.savedError=$ifaceNil;this.useNumber=false;this.disallowUnknownFields=false;return;}this.data=data_;this.off=off_;this.opcode=opcode_;this.scan=scan_;this.errorContext=errorContext_;this.savedError=savedError_;this.useNumber=useNumber_;this.disallowUnknownFields=disallowUnknownFields_;});unquotedValue=$pkg.unquotedValue=$newType(0,$kindStruct,"json.unquotedValue",true,"encoding/json",false,function(){this.$val=this;if(arguments.length===0){return;}});Marshaler=$pkg.Marshaler=$newType(8,$kindInterface,"json.Marshaler",true,"encoding/json",true,null);UnsupportedTypeError=$pkg.UnsupportedTypeError=$newType(0,$kindStruct,"json.UnsupportedTypeError",true,"encoding/json",true,function(Type_){this.$val=this;if(arguments.length===0){this.Type=$ifaceNil;return;}this.Type=Type_;});UnsupportedValueError=$pkg.UnsupportedValueError=$newType(0,$kindStruct,"json.UnsupportedValueError",true,"encoding/json",true,function(Value_,Str_){this.$val=this;if(arguments.length===0){this.Value=new reflect.Value.ptr(ptrType$5.nil,0,0);this.Str="";return;}this.Value=Value_;this.Str=Str_;});MarshalerError=$pkg.MarshalerError=$newType(0,$kindStruct,"json.MarshalerError",true,"encoding/json",true,function(Type_,Err_){this.$val=this;if(arguments.length===0){this.Type=$ifaceNil;this.Err=$ifaceNil;return;}this.Type=Type_;this.Err=Err_;});encodeState=$pkg.encodeState=$newType(0,$kindStruct,"json.encodeState",true,"encoding/json",false,function(Buffer_,scratch_){this.$val=this;if(arguments.length===0){this.Buffer=new bytes.Buffer.ptr(sliceType$1.nil,0,0);this.scratch=arrayType.zero();return;}this.Buffer=Buffer_;this.scratch=scratch_;});jsonError=$pkg.jsonError=$newType(0,$kindStruct,"json.jsonError",true,"encoding/json",false,function(error_){this.$val=this;if(arguments.length===0){this.error=$ifaceNil;return;}this.error=error_;});encOpts=$pkg.encOpts=$newType(0,$kindStruct,"json.encOpts",true,"encoding/json",false,function(quoted_,escapeHTML_){this.$val=this;if(arguments.length===0){this.quoted=false;this.escapeHTML=false;return;}this.quoted=quoted_;this.escapeHTML=escapeHTML_;});encoderFunc=$pkg.encoderFunc=$newType(4,$kindFunc,"json.encoderFunc",true,"encoding/json",false,null);floatEncoder=$pkg.floatEncoder=$newType(4,$kindInt,"json.floatEncoder",true,"encoding/json",false,null);structEncoder=$pkg.structEncoder=$newType(0,$kindStruct,"json.structEncoder",true,"encoding/json",false,function(fields_){this.$val=this;if(arguments.length===0){this.fields=sliceType$3.nil;return;}this.fields=fields_;});mapEncoder=$pkg.mapEncoder=$newType(0,$kindStruct,"json.mapEncoder",true,"encoding/json",false,function(elemEnc_){this.$val=this;if(arguments.length===0){this.elemEnc=$throwNilPointerError;return;}this.elemEnc=elemEnc_;});sliceEncoder=$pkg.sliceEncoder=$newType(0,$kindStruct,"json.sliceEncoder",true,"encoding/json",false,function(arrayEnc_){this.$val=this;if(arguments.length===0){this.arrayEnc=$throwNilPointerError;return;}this.arrayEnc=arrayEnc_;});arrayEncoder=$pkg.arrayEncoder=$newType(0,$kindStruct,"json.arrayEncoder",true,"encoding/json",false,function(elemEnc_){this.$val=this;if(arguments.length===0){this.elemEnc=$throwNilPointerError;return;}this.elemEnc=elemEnc_;});ptrEncoder=$pkg.ptrEncoder=$newType(0,$kindStruct,"json.ptrEncoder",true,"encoding/json",false,function(elemEnc_){this.$val=this;if(arguments.length===0){this.elemEnc=$throwNilPointerError;return;}this.elemEnc=elemEnc_;});condAddrEncoder=$pkg.condAddrEncoder=$newType(0,$kindStruct,"json.condAddrEncoder",true,"encoding/json",false,function(canAddrEnc_,elseEnc_){this.$val=this;if(arguments.length===0){this.canAddrEnc=$throwNilPointerError;this.elseEnc=$throwNilPointerError;return;}this.canAddrEnc=canAddrEnc_;this.elseEnc=elseEnc_;});reflectWithString=$pkg.reflectWithString=$newType(0,$kindStruct,"json.reflectWithString",true,"encoding/json",false,function(v_,s_){this.$val=this;if(arguments.length===0){this.v=new reflect.Value.ptr(ptrType$5.nil,0,0);this.s="";return;}this.v=v_;this.s=s_;});field=$pkg.field=$newType(0,$kindStruct,"json.field",true,"encoding/json",false,function(name_,nameBytes_,equalFold_,nameNonEsc_,nameEscHTML_,tag_,index_,typ_,omitEmpty_,quoted_,encoder_){this.$val=this;if(arguments.length===0){this.name="";this.nameBytes=sliceType$1.nil;this.equalFold=$throwNilPointerError;this.nameNonEsc="";this.nameEscHTML="";this.tag=false;this.index=sliceType$2.nil;this.typ=$ifaceNil;this.omitEmpty=false;this.quoted=false;this.encoder=$throwNilPointerError;return;}this.name=name_;this.nameBytes=nameBytes_;this.equalFold=equalFold_;this.nameNonEsc=nameNonEsc_;this.nameEscHTML=nameEscHTML_;this.tag=tag_;this.index=index_;this.typ=typ_;this.omitEmpty=omitEmpty_;this.quoted=quoted_;this.encoder=encoder_;});byIndex=$pkg.byIndex=$newType(12,$kindSlice,"json.byIndex",true,"encoding/json",false,null);SyntaxError=$pkg.SyntaxError=$newType(0,$kindStruct,"json.SyntaxError",true,"encoding/json",true,function(msg_,Offset_){this.$val=this;if(arguments.length===0){this.msg="";this.Offset=new $Int64(0,0);return;}this.msg=msg_;this.Offset=Offset_;});scanner=$pkg.scanner=$newType(0,$kindStruct,"json.scanner",true,"encoding/json",false,function(step_,endTop_,parseState_,err_,bytes_){this.$val=this;if(arguments.length===0){this.step=$throwNilPointerError;this.endTop=false;this.parseState=sliceType$2.nil;this.err=$ifaceNil;this.bytes=new $Int64(0,0);return;}this.step=step_;this.endTop=endTop_;this.parseState=parseState_;this.err=err_;this.bytes=bytes_;});tagOptions=$pkg.tagOptions=$newType(8,$kindString,"json.tagOptions",true,"encoding/json",false,null);sliceType=$sliceType($emptyInterface);sliceType$1=$sliceType($Uint8);ptrType=$ptrType(encoding.TextUnmarshaler);ptrType$1=$ptrType(Marshaler);ptrType$2=$ptrType(encoding.TextMarshaler);sliceType$2=$sliceType($Int);structType=$structType("",[{prop:"Struct",name:"Struct",embedded:false,exported:true,typ:reflect.Type,tag:""},{prop:"Field",name:"Field",embedded:false,exported:true,typ:$String,tag:""}]);ptrType$4=$ptrType(UnmarshalTypeError);ptrType$5=$ptrType(reflect.rtype);mapType=$mapType($String,$emptyInterface);sliceType$3=$sliceType(field);ptrType$6=$ptrType(field);ptrType$7=$ptrType(encodeState);arrayType=$arrayType($Uint8,64);sliceType$4=$sliceType(reflectWithString);ptrType$12=$ptrType(InvalidUnmarshalError);ptrType$13=$ptrType(decodeState);ptrType$14=$ptrType(UnsupportedTypeError);ptrType$15=$ptrType(UnsupportedValueError);ptrType$17=$ptrType(MarshalerError);ptrType$18=$ptrType(reflectWithString);funcType=$funcType([sliceType$1,sliceType$1],[$Bool],false);ptrType$19=$ptrType(SyntaxError);ptrType$20=$ptrType(scanner);funcType$1=$funcType([ptrType$20,$Uint8],[$Int],false);Unmarshal=function(data,v){var _r$3,_r$4,d,data,err,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r$3=$f._r$3;_r$4=$f._r$4;d=$f.d;data=$f.data;err=$f.err;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:d=new decodeState.ptr(sliceType$1.nil,0,0,new scanner.ptr($throwNilPointerError,false,sliceType$2.nil,$ifaceNil,new $Int64(0,0)),new structType.ptr($ifaceNil,""),$ifaceNil,false,false);_r$3=checkValid(data,d.scan);/* */$s=1;case 1:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}err=_r$3;if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return err;}d.init(data);_r$4=d.unmarshal(v);/* */$s=2;case 2:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}$s=-1;return _r$4;/* */}return;}if($f===undefined){$f={$blk:Unmarshal};}$f._r$3=_r$3;$f._r$4=_r$4;$f.d=d;$f.data=data;$f.err=err;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};$pkg.Unmarshal=Unmarshal;UnmarshalTypeError.ptr.prototype.Error=function(){var _r$3,_r$4,e,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r$3=$f._r$3;_r$4=$f._r$4;e=$f.e;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:e=this;/* */if(!(e.Struct==="")||!(e.Field==="")){$s=1;continue;}/* */$s=2;continue;/* if (!(e.Struct === "") || !(e.Field === "")) { */case 1:_r$3=e.Type.String();/* */$s=3;case 3:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}$s=-1;return"json: cannot unmarshal "+e.Value+" into Go struct field "+e.Struct+"."+e.Field+" of type "+_r$3;/* } */case 2:_r$4=e.Type.String();/* */$s=4;case 4:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}$s=-1;return"json: cannot unmarshal "+e.Value+" into Go value of type "+_r$4;/* */}return;}if($f===undefined){$f={$blk:UnmarshalTypeError.ptr.prototype.Error};}$f._r$3=_r$3;$f._r$4=_r$4;$f.e=e;$f.$s=$s;$f.$r=$r;return $f;};UnmarshalTypeError.prototype.Error=function(){return this.$val.Error();};InvalidUnmarshalError.ptr.prototype.Error=function(){var _r$3,_r$4,_r$5,e,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;e=$f.e;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:e=this;if($interfaceIsEqual(e.Type,$ifaceNil)){$s=-1;return"json: Unmarshal(nil)";}_r$3=e.Type.Kind();/* */$s=3;case 3:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}/* */if(!(_r$3===22)){$s=1;continue;}/* */$s=2;continue;/* if (!((_r$3 === 22))) { */case 1:_r$4=e.Type.String();/* */$s=4;case 4:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}$s=-1;return"json: Unmarshal(non-pointer "+_r$4+")";/* } */case 2:_r$5=e.Type.String();/* */$s=5;case 5:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}$s=-1;return"json: Unmarshal(nil "+_r$5+")";/* */}return;}if($f===undefined){$f={$blk:InvalidUnmarshalError.ptr.prototype.Error};}$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f.e=e;$f.$s=$s;$f.$r=$r;return $f;};InvalidUnmarshalError.prototype.Error=function(){return this.$val.Error();};decodeState.ptr.prototype.unmarshal=function(v){var _r$3,_r$4,_r$5,d,err,rv,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;d=$f.d;err=$f.err;rv=$f.rv;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:d=this;_r$3=reflect.ValueOf(v);/* */$s=1;case 1:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}rv=_r$3;if(!($clone(rv,reflect.Value).Kind()===22)||$clone(rv,reflect.Value).IsNil()){$s=-1;return new InvalidUnmarshalError.ptr(reflect.TypeOf(v));}d.scan.reset();$r=d.scanWhile(9);/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}_r$4=d.value($clone(rv,reflect.Value));/* */$s=3;case 3:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}err=_r$4;/* */if(!$interfaceIsEqual(err,$ifaceNil)){$s=4;continue;}/* */$s=5;continue;/* if (!($interfaceIsEqual(err, $ifaceNil))) { */case 4:_r$5=d.addErrorContext(err);/* */$s=6;case 6:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}$s=-1;return _r$5;/* } */case 5:$s=-1;return d.savedError;/* */}return;}if($f===undefined){$f={$blk:decodeState.ptr.prototype.unmarshal};}$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f.d=d;$f.err=err;$f.rv=rv;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};decodeState.prototype.unmarshal=function(v){return this.$val.unmarshal(v);};Number.prototype.String=function(){var n;n=this.$val;return n;};$ptrType(Number).prototype.String=function(){return new Number(this.$get()).String();};Number.prototype.Float64=function(){var n;n=this.$val;return strconv.ParseFloat(n,64);};$ptrType(Number).prototype.Float64=function(){return new Number(this.$get()).Float64();};Number.prototype.Int64=function(){var n;n=this.$val;return strconv.ParseInt(n,10,64);};$ptrType(Number).prototype.Int64=function(){return new Number(this.$get()).Int64();};isValidNumber=function(s){var s;if(s===""){return false;}if(s.charCodeAt(0)===45){s=$substring(s,1);if(s===""){return false;}}if(s.charCodeAt(0)===48){s=$substring(s,1);}else if(49<=s.charCodeAt(0)&&s.charCodeAt(0)<=57){s=$substring(s,1);while(true){if(!(s.length>0&&48<=s.charCodeAt(0)&&s.charCodeAt(0)<=57)){break;}s=$substring(s,1);}}else{return false;}if(s.length>=2&&s.charCodeAt(0)===46&&48<=s.charCodeAt(1)&&s.charCodeAt(1)<=57){s=$substring(s,2);while(true){if(!(s.length>0&&48<=s.charCodeAt(0)&&s.charCodeAt(0)<=57)){break;}s=$substring(s,1);}}if(s.length>=2&&(s.charCodeAt(0)===101||s.charCodeAt(0)===69)){s=$substring(s,1);if(s.charCodeAt(0)===43||s.charCodeAt(0)===45){s=$substring(s,1);if(s===""){return false;}}while(true){if(!(s.length>0&&48<=s.charCodeAt(0)&&s.charCodeAt(0)<=57)){break;}s=$substring(s,1);}}return s==="";};decodeState.ptr.prototype.readIndex=function(){var d;d=this;return d.off-1>>0;};decodeState.prototype.readIndex=function(){return this.$val.readIndex();};decodeState.ptr.prototype.init=function(data){var d,data;d=this;d.data=data;d.off=0;d.savedError=$ifaceNil;d.errorContext.Struct=$ifaceNil;d.errorContext.Field="";return d;};decodeState.prototype.init=function(data){return this.$val.init(data);};decodeState.ptr.prototype.saveError=function(err){var _r$3,d,err,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r$3=$f._r$3;d=$f.d;err=$f.err;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:d=this;/* */if($interfaceIsEqual(d.savedError,$ifaceNil)){$s=1;continue;}/* */$s=2;continue;/* if ($interfaceIsEqual(d.savedError, $ifaceNil)) { */case 1:_r$3=d.addErrorContext(err);/* */$s=3;case 3:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}d.savedError=_r$3;/* } */case 2:$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:decodeState.ptr.prototype.saveError};}$f._r$3=_r$3;$f.d=d;$f.err=err;$f.$s=$s;$f.$r=$r;return $f;};decodeState.prototype.saveError=function(err){return this.$val.saveError(err);};decodeState.ptr.prototype.addErrorContext=function(err){var _r$3,_ref,d,err,err$1,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r$3=$f._r$3;_ref=$f._ref;d=$f.d;err=$f.err;err$1=$f.err$1;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:d=this;/* */if(!$interfaceIsEqual(d.errorContext.Struct,$ifaceNil)||!(d.errorContext.Field==="")){$s=1;continue;}/* */$s=2;continue;/* if (!($interfaceIsEqual(d.errorContext.Struct, $ifaceNil)) || !(d.errorContext.Field === "")) { */case 1:_ref=err;/* */if($assertType(_ref,ptrType$4,true)[1]){$s=3;continue;}/* */$s=4;continue;/* if ($assertType(_ref, ptrType$4, true)[1]) { */case 3:err$1=_ref.$val;_r$3=d.errorContext.Struct.Name();/* */$s=5;case 5:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}err$1.Struct=_r$3;err$1.Field=d.errorContext.Field;$s=-1;return err$1;/* } */case 4:/* } */case 2:$s=-1;return err;/* */}return;}if($f===undefined){$f={$blk:decodeState.ptr.prototype.addErrorContext};}$f._r$3=_r$3;$f._ref=_ref;$f.d=d;$f.err=err;$f.err$1=err$1;$f.$s=$s;$f.$r=$r;return $f;};decodeState.prototype.addErrorContext=function(err){return this.$val.addErrorContext(err);};decodeState.ptr.prototype.skip=function(){var _r$3,_tmp,_tmp$1,_tmp$2,d,data,depth,i,op,s,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r$3=$f._r$3;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tmp$2=$f._tmp$2;d=$f.d;data=$f.data;depth=$f.depth;i=$f.i;op=$f.op;s=$f.s;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:d=this;_tmp=d.scan;_tmp$1=d.data;_tmp$2=d.off;s=_tmp;data=_tmp$1;i=_tmp$2;depth=s.parseState.$length;/* while (true) { */case 1:_r$3=s.step(s,i<0||i>=data.$length?($throwRuntimeError("index out of range"),undefined):data.$array[data.$offset+i]);/* */$s=3;case 3:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}op=_r$3;i=i+1>>0;if(s.parseState.$length<depth){d.off=i;d.opcode=op;$s=-1;return;}/* } */$s=1;continue;case 2:$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:decodeState.ptr.prototype.skip};}$f._r$3=_r$3;$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tmp$2=_tmp$2;$f.d=d;$f.data=data;$f.depth=depth;$f.i=i;$f.op=op;$f.s=s;$f.$s=$s;$f.$r=$r;return $f;};decodeState.prototype.skip=function(){return this.$val.skip();};decodeState.ptr.prototype.scanNext=function(){var _r$3,_r$4,d,x,x$1,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r$3=$f._r$3;_r$4=$f._r$4;d=$f.d;x=$f.x;x$1=$f.x$1;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:d=this;/* */if(d.off<d.data.$length){$s=1;continue;}/* */$s=2;continue;/* if (d.off < d.data.$length) { */case 1:_r$3=d.scan.step(d.scan,(x=d.data,x$1=d.off,x$1<0||x$1>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+x$1]));/* */$s=4;case 4:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}d.opcode=_r$3;d.off=d.off+1>>0;$s=3;continue;/* } else { */case 2:_r$4=d.scan.eof();/* */$s=5;case 5:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}d.opcode=_r$4;d.off=d.data.$length+1>>0;/* } */case 3:$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:decodeState.ptr.prototype.scanNext};}$f._r$3=_r$3;$f._r$4=_r$4;$f.d=d;$f.x=x;$f.x$1=x$1;$f.$s=$s;$f.$r=$r;return $f;};decodeState.prototype.scanNext=function(){return this.$val.scanNext();};decodeState.ptr.prototype.scanWhile=function(op){var _r$3,_r$4,_tmp,_tmp$1,_tmp$2,d,data,i,newOp,op,s,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r$3=$f._r$3;_r$4=$f._r$4;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tmp$2=$f._tmp$2;d=$f.d;data=$f.data;i=$f.i;newOp=$f.newOp;op=$f.op;s=$f.s;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:d=this;_tmp=d.scan;_tmp$1=d.data;_tmp$2=d.off;s=_tmp;data=_tmp$1;i=_tmp$2;/* while (true) { */case 1:/* if (!(i < data.$length)) { break; } */if(!(i<data.$length)){$s=2;continue;}_r$3=s.step(s,i<0||i>=data.$length?($throwRuntimeError("index out of range"),undefined):data.$array[data.$offset+i]);/* */$s=3;case 3:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}newOp=_r$3;i=i+1>>0;if(!(newOp===op)){d.opcode=newOp;d.off=i;$s=-1;return;}/* } */$s=1;continue;case 2:d.off=data.$length+1>>0;_r$4=d.scan.eof();/* */$s=4;case 4:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}d.opcode=_r$4;$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:decodeState.ptr.prototype.scanWhile};}$f._r$3=_r$3;$f._r$4=_r$4;$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tmp$2=_tmp$2;$f.d=d;$f.data=data;$f.i=i;$f.newOp=newOp;$f.op=op;$f.s=s;$f.$s=$s;$f.$r=$r;return $f;};decodeState.prototype.scanWhile=function(op){return this.$val.scanWhile(op);};decodeState.ptr.prototype.value=function(v){var _1,_r$3,_r$4,_r$5,d,err,err$1,err$2,start,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;d=$f.d;err=$f.err;err$1=$f.err$1;err$2=$f.err$2;start=$f.start;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:d=this;_1=d.opcode;/* */if(_1===6){$s=2;continue;}/* */if(_1===2){$s=3;continue;}/* */if(_1===1){$s=4;continue;}/* */$s=5;continue;/* if (_1 === (6)) { */case 2:/* */if($clone(v,reflect.Value).IsValid()){$s=7;continue;}/* */$s=8;continue;/* if ($clone(v, reflect.Value).IsValid()) { */case 7:_r$3=d.array($clone(v,reflect.Value));/* */$s=10;case 10:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}err=_r$3;if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return err;}$s=9;continue;/* } else { */case 8:$r=d.skip();/* */$s=11;case 11:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 9:$r=d.scanNext();/* */$s=12;case 12:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=6;continue;/* } else if (_1 === (2)) { */case 3:/* */if($clone(v,reflect.Value).IsValid()){$s=13;continue;}/* */$s=14;continue;/* if ($clone(v, reflect.Value).IsValid()) { */case 13:_r$4=d.object($clone(v,reflect.Value));/* */$s=16;case 16:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}err$1=_r$4;if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return err$1;}$s=15;continue;/* } else { */case 14:$r=d.skip();/* */$s=17;case 17:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 15:$r=d.scanNext();/* */$s=18;case 18:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=6;continue;/* } else if (_1 === (1)) { */case 4:start=d.readIndex();$r=d.scanWhile(0);/* */$s=19;case 19:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* */if($clone(v,reflect.Value).IsValid()){$s=20;continue;}/* */$s=21;continue;/* if ($clone(v, reflect.Value).IsValid()) { */case 20:_r$5=d.literalStore($subslice(d.data,start,d.readIndex()),$clone(v,reflect.Value),false);/* */$s=22;case 22:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}err$2=_r$5;if(!$interfaceIsEqual(err$2,$ifaceNil)){$s=-1;return err$2;}/* } */case 21:$s=6;continue;/* } else { */case 5:$panic(new $String("JSON decoder out of sync - data changing underfoot?"));/* } */case 6:case 1:$s=-1;return $ifaceNil;/* */}return;}if($f===undefined){$f={$blk:decodeState.ptr.prototype.value};}$f._1=_1;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f.d=d;$f.err=err;$f.err$1=err$1;$f.err$2=err$2;$f.start=start;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};decodeState.prototype.value=function(v){return this.$val.value(v);};decodeState.ptr.prototype.valueQuoted=function(){var _1,_r$3,_ref,d,v,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_r$3=$f._r$3;_ref=$f._ref;d=$f.d;v=$f.v;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:d=this;_1=d.opcode;/* */if(_1===6||_1===2){$s=2;continue;}/* */if(_1===1){$s=3;continue;}/* */$s=4;continue;/* if ((_1 === (6)) || (_1 === (2))) { */case 2:$r=d.skip();/* */$s=6;case 6:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=d.scanNext();/* */$s=7;case 7:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=5;continue;/* } else if (_1 === (1)) { */case 3:_r$3=d.literalInterface();/* */$s=8;case 8:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}v=_r$3;_ref=v;if(_ref===$ifaceNil||$assertType(_ref,$String,true)[1]){$s=-1;return v;}$s=5;continue;/* } else { */case 4:$panic(new $String("JSON decoder out of sync - data changing underfoot?"));/* } */case 5:case 1:$s=-1;return x=new unquotedValue.ptr(),new x.constructor.elem(x);/* */}return;}if($f===undefined){$f={$blk:decodeState.ptr.prototype.valueQuoted};}$f._1=_1;$f._r$3=_r$3;$f._ref=_ref;$f.d=d;$f.v=v;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};decodeState.prototype.valueQuoted=function(){return this.$val.valueQuoted();};indirect=function(v,decodingNull){var _r$10,_r$11,_r$12,_r$13,_r$14,_r$3,_r$4,_r$5,_r$6,_r$7,_r$8,_r$9,_tuple,_tuple$1,_v,_v$1,_v$2,decodingNull,e,haveAddr,ok,ok$1,u,u$1,v,v0,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r$10=$f._r$10;_r$11=$f._r$11;_r$12=$f._r$12;_r$13=$f._r$13;_r$14=$f._r$14;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_r$7=$f._r$7;_r$8=$f._r$8;_r$9=$f._r$9;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_v=$f._v;_v$1=$f._v$1;_v$2=$f._v$2;decodingNull=$f.decodingNull;e=$f.e;haveAddr=$f.haveAddr;ok=$f.ok;ok$1=$f.ok$1;u=$f.u;u$1=$f.u$1;v=$f.v;v0=$f.v0;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v0=v;haveAddr=false;if(!!($clone(v,reflect.Value).Kind()===22)){_v=false;$s=3;continue s;}_r$3=$clone(v,reflect.Value).Type().Name();/* */$s=4;case 4:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_v=!(_r$3==="");case 3:/* */if(_v&&$clone(v,reflect.Value).CanAddr()){$s=1;continue;}/* */$s=2;continue;/* if (_v && $clone(v, reflect.Value).CanAddr()) { */case 1:haveAddr=true;v=$clone(v,reflect.Value).Addr();/* } */case 2:/* while (true) { */case 5:/* */if($clone(v,reflect.Value).Kind()===20&&!$clone(v,reflect.Value).IsNil()){$s=7;continue;}/* */$s=8;continue;/* if (($clone(v, reflect.Value).Kind() === 20) && !$clone(v, reflect.Value).IsNil()) { */case 7:_r$4=$clone(v,reflect.Value).Elem();/* */$s=9;case 9:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}e=_r$4;if(!($clone(e,reflect.Value).Kind()===22&&!$clone(e,reflect.Value).IsNil())){_v$1=false;$s=12;continue s;}if(!decodingNull){_v$2=true;$s=13;continue s;}_r$5=$clone(e,reflect.Value).Elem();/* */$s=14;case 14:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}_r$6=$clone(_r$5,reflect.Value).Kind();/* */$s=15;case 15:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}_v$2=_r$6===22;case 13:_v$1=_v$2;case 12:/* */if(_v$1){$s=10;continue;}/* */$s=11;continue;/* if (_v$1) { */case 10:haveAddr=false;v=e;/* continue; */$s=5;continue;/* } */case 11:/* } */case 8:if(!($clone(v,reflect.Value).Kind()===22)){/* break; */$s=6;continue;}_r$7=$clone(v,reflect.Value).Elem();/* */$s=18;case 18:if($c){$c=false;_r$7=_r$7.$blk();}if(_r$7&&_r$7.$blk!==undefined){break s;}_r$8=$clone(_r$7,reflect.Value).Kind();/* */$s=19;case 19:if($c){$c=false;_r$8=_r$8.$blk();}if(_r$8&&_r$8.$blk!==undefined){break s;}/* */if(!(_r$8===22)&&decodingNull&&$clone(v,reflect.Value).CanSet()){$s=16;continue;}/* */$s=17;continue;/* if (!((_r$8 === 22)) && decodingNull && $clone(v, reflect.Value).CanSet()) { */case 16:/* break; */$s=6;continue;/* } */case 17:/* */if($clone(v,reflect.Value).IsNil()){$s=20;continue;}/* */$s=21;continue;/* if ($clone(v, reflect.Value).IsNil()) { */case 20:_r$9=$clone(v,reflect.Value).Type().Elem();/* */$s=22;case 22:if($c){$c=false;_r$9=_r$9.$blk();}if(_r$9&&_r$9.$blk!==undefined){break s;}_r$10=reflect.New(_r$9);/* */$s=23;case 23:if($c){$c=false;_r$10=_r$10.$blk();}if(_r$10&&_r$10.$blk!==undefined){break s;}$r=$clone(v,reflect.Value).Set($clone(_r$10,reflect.Value));/* */$s=24;case 24:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 21:_r$11=$clone(v,reflect.Value).Type().NumMethod();/* */$s=27;case 27:if($c){$c=false;_r$11=_r$11.$blk();}if(_r$11&&_r$11.$blk!==undefined){break s;}/* */if(_r$11>0&&$clone(v,reflect.Value).CanInterface()){$s=25;continue;}/* */$s=26;continue;/* if (_r$11 > 0 && $clone(v, reflect.Value).CanInterface()) { */case 25:_r$12=$clone(v,reflect.Value).Interface();/* */$s=28;case 28:if($c){$c=false;_r$12=_r$12.$blk();}if(_r$12&&_r$12.$blk!==undefined){break s;}_tuple=$assertType(_r$12,Unmarshaler,true);u=_tuple[0];ok=_tuple[1];if(ok){$s=-1;return[u,$ifaceNil,new reflect.Value.ptr(ptrType$5.nil,0,0)];}/* */if(!decodingNull){$s=29;continue;}/* */$s=30;continue;/* if (!decodingNull) { */case 29:_r$13=$clone(v,reflect.Value).Interface();/* */$s=31;case 31:if($c){$c=false;_r$13=_r$13.$blk();}if(_r$13&&_r$13.$blk!==undefined){break s;}_tuple$1=$assertType(_r$13,encoding.TextUnmarshaler,true);u$1=_tuple$1[0];ok$1=_tuple$1[1];if(ok$1){$s=-1;return[$ifaceNil,u$1,new reflect.Value.ptr(ptrType$5.nil,0,0)];}/* } */case 30:/* } */case 26:/* */if(haveAddr){$s=32;continue;}/* */$s=33;continue;/* if (haveAddr) { */case 32:v=v0;haveAddr=false;$s=34;continue;/* } else { */case 33:_r$14=$clone(v,reflect.Value).Elem();/* */$s=35;case 35:if($c){$c=false;_r$14=_r$14.$blk();}if(_r$14&&_r$14.$blk!==undefined){break s;}v=_r$14;/* } */case 34:/* } */$s=5;continue;case 6:$s=-1;return[$ifaceNil,$ifaceNil,v];/* */}return;}if($f===undefined){$f={$blk:indirect};}$f._r$10=_r$10;$f._r$11=_r$11;$f._r$12=_r$12;$f._r$13=_r$13;$f._r$14=_r$14;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._r$7=_r$7;$f._r$8=_r$8;$f._r$9=_r$9;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._v=_v;$f._v$1=_v$1;$f._v$2=_v$2;$f.decodingNull=decodingNull;$f.e=e;$f.haveAddr=haveAddr;$f.ok=ok;$f.ok$1=ok$1;$f.u=u;$f.u$1=u$1;$f.v=v;$f.v0=v0;$f.$s=$s;$f.$r=$r;return $f;};decodeState.ptr.prototype.array=function(v){var _1,_q,_r$10,_r$11,_r$12,_r$13,_r$14,_r$15,_r$3,_r$4,_r$5,_r$6,_r$7,_r$8,_r$9,_tuple,ai,d,err,err$1,i,newcap,newv,pv,start,u,ut,v,z,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_q=$f._q;_r$10=$f._r$10;_r$11=$f._r$11;_r$12=$f._r$12;_r$13=$f._r$13;_r$14=$f._r$14;_r$15=$f._r$15;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_r$7=$f._r$7;_r$8=$f._r$8;_r$9=$f._r$9;_tuple=$f._tuple;ai=$f.ai;d=$f.d;err=$f.err;err$1=$f.err$1;i=$f.i;newcap=$f.newcap;newv=$f.newv;pv=$f.pv;start=$f.start;u=$f.u;ut=$f.ut;v=$f.v;z=$f.z;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:d=this;_r$3=indirect($clone(v,reflect.Value),false);/* */$s=1;case 1:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_tuple=_r$3;u=_tuple[0];ut=_tuple[1];pv=_tuple[2];/* */if(!$interfaceIsEqual(u,$ifaceNil)){$s=2;continue;}/* */$s=3;continue;/* if (!($interfaceIsEqual(u, $ifaceNil))) { */case 2:start=d.readIndex();$r=d.skip();/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}_r$4=u.UnmarshalJSON($subslice(d.data,start,d.off));/* */$s=5;case 5:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}$s=-1;return _r$4;/* } */case 3:/* */if(!$interfaceIsEqual(ut,$ifaceNil)){$s=6;continue;}/* */$s=7;continue;/* if (!($interfaceIsEqual(ut, $ifaceNil))) { */case 6:$r=d.saveError(new UnmarshalTypeError.ptr("array",$clone(v,reflect.Value).Type(),new $Int64(0,d.off),"",""));/* */$s=8;case 8:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=d.skip();/* */$s=9;case 9:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return $ifaceNil;/* } */case 7:v=pv;_1=$clone(v,reflect.Value).Kind();/* */if(_1===20){$s=11;continue;}/* */if(_1===17||_1===23){$s=12;continue;}/* */$s=13;continue;/* if (_1 === (20)) { */case 11:/* */if($clone(v,reflect.Value).NumMethod()===0){$s=15;continue;}/* */$s=16;continue;/* if ($clone(v, reflect.Value).NumMethod() === 0) { */case 15:_r$5=d.arrayInterface();/* */$s=17;case 17:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}ai=_r$5;_r$6=reflect.ValueOf(ai);/* */$s=18;case 18:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}$r=$clone(v,reflect.Value).Set($clone(_r$6,reflect.Value));/* */$s=19;case 19:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return $ifaceNil;/* } */case 16:$r=d.saveError(new UnmarshalTypeError.ptr("array",$clone(v,reflect.Value).Type(),new $Int64(0,d.off),"",""));/* */$s=20;case 20:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=d.skip();/* */$s=21;case 21:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return $ifaceNil;/* } else if ((_1 === (17)) || (_1 === (23))) { */case 12:/* break; */$s=10;continue;$s=14;continue;/* } else { */case 13:$r=d.saveError(new UnmarshalTypeError.ptr("array",$clone(v,reflect.Value).Type(),new $Int64(0,d.off),"",""));/* */$s=22;case 22:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=d.skip();/* */$s=23;case 23:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return $ifaceNil;/* } */case 14:case 10:i=0;/* while (true) { */case 24:$r=d.scanWhile(9);/* */$s=26;case 26:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}if(d.opcode===8){/* break; */$s=25;continue;}/* */if($clone(v,reflect.Value).Kind()===23){$s=27;continue;}/* */$s=28;continue;/* if ($clone(v, reflect.Value).Kind() === 23) { */case 27:/* */if(i>=$clone(v,reflect.Value).Cap()){$s=29;continue;}/* */$s=30;continue;/* if (i >= $clone(v, reflect.Value).Cap()) { */case 29:newcap=$clone(v,reflect.Value).Cap()+(_q=$clone(v,reflect.Value).Cap()/2,_q===_q&&_q!==1/0&&_q!==-1/0?_q>>0:$throwRuntimeError("integer divide by zero"))>>0;if(newcap<4){newcap=4;}_r$7=reflect.MakeSlice($clone(v,reflect.Value).Type(),$clone(v,reflect.Value).Len(),newcap);/* */$s=31;case 31:if($c){$c=false;_r$7=_r$7.$blk();}if(_r$7&&_r$7.$blk!==undefined){break s;}newv=_r$7;_r$8=reflect.Copy($clone(newv,reflect.Value),$clone(v,reflect.Value));/* */$s=32;case 32:if($c){$c=false;_r$8=_r$8.$blk();}if(_r$8&&_r$8.$blk!==undefined){break s;}_r$8;$r=$clone(v,reflect.Value).Set($clone(newv,reflect.Value));/* */$s=33;case 33:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 30:if(i>=$clone(v,reflect.Value).Len()){$clone(v,reflect.Value).SetLen(i+1>>0);}/* } */case 28:/* */if(i<$clone(v,reflect.Value).Len()){$s=34;continue;}/* */$s=35;continue;/* if (i < $clone(v, reflect.Value).Len()) { */case 34:_r$9=$clone(v,reflect.Value).Index(i);/* */$s=37;case 37:if($c){$c=false;_r$9=_r$9.$blk();}if(_r$9&&_r$9.$blk!==undefined){break s;}_r$10=d.value($clone(_r$9,reflect.Value));/* */$s=38;case 38:if($c){$c=false;_r$10=_r$10.$blk();}if(_r$10&&_r$10.$blk!==undefined){break s;}err=_r$10;if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return err;}$s=36;continue;/* } else { */case 35:_r$11=d.value(new reflect.Value.ptr(ptrType$5.nil,0,0));/* */$s=39;case 39:if($c){$c=false;_r$11=_r$11.$blk();}if(_r$11&&_r$11.$blk!==undefined){break s;}err$1=_r$11;if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return err$1;}/* } */case 36:i=i+1>>0;/* */if(d.opcode===9){$s=40;continue;}/* */$s=41;continue;/* if (d.opcode === 9) { */case 40:$r=d.scanWhile(9);/* */$s=42;case 42:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 41:if(d.opcode===8){/* break; */$s=25;continue;}if(!(d.opcode===7)){$panic(new $String("JSON decoder out of sync - data changing underfoot?"));}/* } */$s=24;continue;case 25:/* */if(i<$clone(v,reflect.Value).Len()){$s=43;continue;}/* */$s=44;continue;/* if (i < $clone(v, reflect.Value).Len()) { */case 43:/* */if($clone(v,reflect.Value).Kind()===17){$s=45;continue;}/* */$s=46;continue;/* if ($clone(v, reflect.Value).Kind() === 17) { */case 45:_r$12=$clone(v,reflect.Value).Type().Elem();/* */$s=48;case 48:if($c){$c=false;_r$12=_r$12.$blk();}if(_r$12&&_r$12.$blk!==undefined){break s;}_r$13=reflect.Zero(_r$12);/* */$s=49;case 49:if($c){$c=false;_r$13=_r$13.$blk();}if(_r$13&&_r$13.$blk!==undefined){break s;}z=_r$13;/* while (true) { */case 50:/* if (!(i < $clone(v, reflect.Value).Len())) { break; } */if(!(i<$clone(v,reflect.Value).Len())){$s=51;continue;}_r$14=$clone(v,reflect.Value).Index(i);/* */$s=52;case 52:if($c){$c=false;_r$14=_r$14.$blk();}if(_r$14&&_r$14.$blk!==undefined){break s;}$r=$clone(_r$14,reflect.Value).Set($clone(z,reflect.Value));/* */$s=53;case 53:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}i=i+1>>0;/* } */$s=50;continue;case 51:$s=47;continue;/* } else { */case 46:$clone(v,reflect.Value).SetLen(i);/* } */case 47:/* } */case 44:/* */if(i===0&&$clone(v,reflect.Value).Kind()===23){$s=54;continue;}/* */$s=55;continue;/* if ((i === 0) && ($clone(v, reflect.Value).Kind() === 23)) { */case 54:_r$15=reflect.MakeSlice($clone(v,reflect.Value).Type(),0,0);/* */$s=56;case 56:if($c){$c=false;_r$15=_r$15.$blk();}if(_r$15&&_r$15.$blk!==undefined){break s;}$r=$clone(v,reflect.Value).Set($clone(_r$15,reflect.Value));/* */$s=57;case 57:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 55:$s=-1;return $ifaceNil;/* */}return;}if($f===undefined){$f={$blk:decodeState.ptr.prototype.array};}$f._1=_1;$f._q=_q;$f._r$10=_r$10;$f._r$11=_r$11;$f._r$12=_r$12;$f._r$13=_r$13;$f._r$14=_r$14;$f._r$15=_r$15;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._r$7=_r$7;$f._r$8=_r$8;$f._r$9=_r$9;$f._tuple=_tuple;$f.ai=ai;$f.d=d;$f.err=err;$f.err$1=err$1;$f.i=i;$f.newcap=newcap;$f.newv=newv;$f.pv=pv;$f.start=start;$f.u=u;$f.ut=ut;$f.v=v;$f.z=z;$f.$s=$s;$f.$r=$r;return $f;};decodeState.prototype.array=function(v){return this.$val.array(v);};decodeState.ptr.prototype.object=function(v){var _1,_2,_3,_arg,_i,_i$1,_r$10,_r$11,_r$12,_r$13,_r$14,_r$15,_r$16,_r$17,_r$18,_r$19,_r$20,_r$21,_r$22,_r$23,_r$24,_r$25,_r$26,_r$27,_r$28,_r$29,_r$3,_r$30,_r$31,_r$32,_r$33,_r$34,_r$35,_r$36,_r$37,_r$38,_r$39,_r$4,_r$40,_r$41,_r$42,_r$43,_r$44,_r$45,_r$5,_r$6,_r$7,_r$8,_r$9,_ref,_ref$1,_ref$2,_tuple,_tuple$1,_tuple$2,_tuple$3,_v,_v$1,_v$2,d,destring,elemType,err,err$1,err$2,err$3,err$4,err$5,f,ff,fields,i,i$1,item,key,kt,kv,mapElem,n,n$1,oi,ok,originalErrorContext,pv,qv,qv$1,qv$2,s,s$1,start,start$1,subv,t,u,ut,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_2=$f._2;_3=$f._3;_arg=$f._arg;_i=$f._i;_i$1=$f._i$1;_r$10=$f._r$10;_r$11=$f._r$11;_r$12=$f._r$12;_r$13=$f._r$13;_r$14=$f._r$14;_r$15=$f._r$15;_r$16=$f._r$16;_r$17=$f._r$17;_r$18=$f._r$18;_r$19=$f._r$19;_r$20=$f._r$20;_r$21=$f._r$21;_r$22=$f._r$22;_r$23=$f._r$23;_r$24=$f._r$24;_r$25=$f._r$25;_r$26=$f._r$26;_r$27=$f._r$27;_r$28=$f._r$28;_r$29=$f._r$29;_r$3=$f._r$3;_r$30=$f._r$30;_r$31=$f._r$31;_r$32=$f._r$32;_r$33=$f._r$33;_r$34=$f._r$34;_r$35=$f._r$35;_r$36=$f._r$36;_r$37=$f._r$37;_r$38=$f._r$38;_r$39=$f._r$39;_r$4=$f._r$4;_r$40=$f._r$40;_r$41=$f._r$41;_r$42=$f._r$42;_r$43=$f._r$43;_r$44=$f._r$44;_r$45=$f._r$45;_r$5=$f._r$5;_r$6=$f._r$6;_r$7=$f._r$7;_r$8=$f._r$8;_r$9=$f._r$9;_ref=$f._ref;_ref$1=$f._ref$1;_ref$2=$f._ref$2;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;_v=$f._v;_v$1=$f._v$1;_v$2=$f._v$2;d=$f.d;destring=$f.destring;elemType=$f.elemType;err=$f.err;err$1=$f.err$1;err$2=$f.err$2;err$3=$f.err$3;err$4=$f.err$4;err$5=$f.err$5;f=$f.f;ff=$f.ff;fields=$f.fields;i=$f.i;i$1=$f.i$1;item=$f.item;key=$f.key;kt=$f.kt;kv=$f.kv;mapElem=$f.mapElem;n=$f.n;n$1=$f.n$1;oi=$f.oi;ok=$f.ok;originalErrorContext=$f.originalErrorContext;pv=$f.pv;qv=$f.qv;qv$1=$f.qv$1;qv$2=$f.qv$2;s=$f.s;s$1=$f.s$1;start=$f.start;start$1=$f.start$1;subv=$f.subv;t=$f.t;u=$f.u;ut=$f.ut;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:d=this;_r$3=indirect($clone(v,reflect.Value),false);/* */$s=1;case 1:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_tuple=_r$3;u=_tuple[0];ut=_tuple[1];pv=_tuple[2];/* */if(!$interfaceIsEqual(u,$ifaceNil)){$s=2;continue;}/* */$s=3;continue;/* if (!($interfaceIsEqual(u, $ifaceNil))) { */case 2:start=d.readIndex();$r=d.skip();/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}_r$4=u.UnmarshalJSON($subslice(d.data,start,d.off));/* */$s=5;case 5:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}$s=-1;return _r$4;/* } */case 3:/* */if(!$interfaceIsEqual(ut,$ifaceNil)){$s=6;continue;}/* */$s=7;continue;/* if (!($interfaceIsEqual(ut, $ifaceNil))) { */case 6:$r=d.saveError(new UnmarshalTypeError.ptr("object",$clone(v,reflect.Value).Type(),new $Int64(0,d.off),"",""));/* */$s=8;case 8:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=d.skip();/* */$s=9;case 9:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return $ifaceNil;/* } */case 7:v=pv;t=$clone(v,reflect.Value).Type();/* */if($clone(v,reflect.Value).Kind()===20&&$clone(v,reflect.Value).NumMethod()===0){$s=10;continue;}/* */$s=11;continue;/* if (($clone(v, reflect.Value).Kind() === 20) && ($clone(v, reflect.Value).NumMethod() === 0)) { */case 10:_r$5=d.objectInterface();/* */$s=12;case 12:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}oi=_r$5;_r$6=reflect.ValueOf(new mapType(oi));/* */$s=13;case 13:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}$r=$clone(v,reflect.Value).Set($clone(_r$6,reflect.Value));/* */$s=14;case 14:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return $ifaceNil;/* } */case 11:fields=sliceType$3.nil;_1=$clone(v,reflect.Value).Kind();/* */if(_1===21){$s=16;continue;}/* */if(_1===25){$s=17;continue;}/* */$s=18;continue;/* if (_1 === (21)) { */case 16:_r$7=t.Key();/* */$s=21;case 21:if($c){$c=false;_r$7=_r$7.$blk();}if(_r$7&&_r$7.$blk!==undefined){break s;}_r$8=_r$7.Kind();/* */$s=22;case 22:if($c){$c=false;_r$8=_r$8.$blk();}if(_r$8&&_r$8.$blk!==undefined){break s;}_2=_r$8;/* */if(_2===24||_2===2||_2===3||_2===4||_2===5||_2===6||_2===7||_2===8||_2===9||_2===10||_2===11||_2===12){$s=23;continue;}_r$9=t.Key();/* */$s=26;case 26:if($c){$c=false;_r$9=_r$9.$blk();}if(_r$9&&_r$9.$blk!==undefined){break s;}_r$10=reflect.PtrTo(_r$9);/* */$s=27;case 27:if($c){$c=false;_r$10=_r$10.$blk();}if(_r$10&&_r$10.$blk!==undefined){break s;}_r$11=_r$10.Implements(textUnmarshalerType);/* */$s=28;case 28:if($c){$c=false;_r$11=_r$11.$blk();}if(_r$11&&_r$11.$blk!==undefined){break s;}/* */if(!_r$11){$s=24;continue;}/* */$s=25;continue;/* if ((_2 === (24)) || (_2 === (2)) || (_2 === (3)) || (_2 === (4)) || (_2 === (5)) || (_2 === (6)) || (_2 === (7)) || (_2 === (8)) || (_2 === (9)) || (_2 === (10)) || (_2 === (11)) || (_2 === (12))) { */case 23:$s=25;continue;/* } else if (!_r$11) { */case 24:$r=d.saveError(new UnmarshalTypeError.ptr("object",t,new $Int64(0,d.off),"",""));/* */$s=29;case 29:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=d.skip();/* */$s=30;case 30:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return $ifaceNil;/* } */case 25:case 20:/* */if($clone(v,reflect.Value).IsNil()){$s=31;continue;}/* */$s=32;continue;/* if ($clone(v, reflect.Value).IsNil()) { */case 31:_r$12=reflect.MakeMap(t);/* */$s=33;case 33:if($c){$c=false;_r$12=_r$12.$blk();}if(_r$12&&_r$12.$blk!==undefined){break s;}$r=$clone(v,reflect.Value).Set($clone(_r$12,reflect.Value));/* */$s=34;case 34:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 32:$s=19;continue;/* } else if (_1 === (25)) { */case 17:_r$13=cachedTypeFields(t);/* */$s=35;case 35:if($c){$c=false;_r$13=_r$13.$blk();}if(_r$13&&_r$13.$blk!==undefined){break s;}fields=_r$13;$s=19;continue;/* } else { */case 18:$r=d.saveError(new UnmarshalTypeError.ptr("object",t,new $Int64(0,d.off),"",""));/* */$s=36;case 36:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=d.skip();/* */$s=37;case 37:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return $ifaceNil;/* } */case 19:case 15:mapElem=new reflect.Value.ptr(ptrType$5.nil,0,0);originalErrorContext=$clone(d.errorContext,structType);/* while (true) { */case 38:$r=d.scanWhile(9);/* */$s=40;case 40:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}if(d.opcode===5){/* break; */$s=39;continue;}if(!(d.opcode===1)){$panic(new $String("JSON decoder out of sync - data changing underfoot?"));}start$1=d.readIndex();$r=d.scanWhile(0);/* */$s=41;case 41:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}item=$subslice(d.data,start$1,d.readIndex());_tuple$1=unquoteBytes(item);key=_tuple$1[0];ok=_tuple$1[1];if(!ok){$panic(new $String("JSON decoder out of sync - data changing underfoot?"));}subv=new reflect.Value.ptr(ptrType$5.nil,0,0);destring=false;/* */if($clone(v,reflect.Value).Kind()===21){$s=42;continue;}/* */$s=43;continue;/* if ($clone(v, reflect.Value).Kind() === 21) { */case 42:_r$14=t.Elem();/* */$s=45;case 45:if($c){$c=false;_r$14=_r$14.$blk();}if(_r$14&&_r$14.$blk!==undefined){break s;}elemType=_r$14;/* */if(!$clone(mapElem,reflect.Value).IsValid()){$s=46;continue;}/* */$s=47;continue;/* if (!$clone(mapElem, reflect.Value).IsValid()) { */case 46:_r$15=$clone(reflect.New(elemType),reflect.Value).Elem();/* */$s=49;case 49:if($c){$c=false;_r$15=_r$15.$blk();}if(_r$15&&_r$15.$blk!==undefined){break s;}mapElem=_r$15;$s=48;continue;/* } else { */case 47:_r$16=reflect.Zero(elemType);/* */$s=50;case 50:if($c){$c=false;_r$16=_r$16.$blk();}if(_r$16&&_r$16.$blk!==undefined){break s;}$r=$clone(mapElem,reflect.Value).Set($clone(_r$16,reflect.Value));/* */$s=51;case 51:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 48:subv=mapElem;$s=44;continue;/* } else { */case 43:f=ptrType$6.nil;_ref=fields;_i=0;/* while (true) { */case 52:/* if (!(_i < _ref.$length)) { break; } */if(!(_i<_ref.$length)){$s=53;continue;}i=_i;ff=i<0||i>=fields.$length?($throwRuntimeError("index out of range"),undefined):fields.$array[fields.$offset+i];if(bytes.Equal(ff.nameBytes,key)){f=ff;/* break; */$s=53;continue;}if(!(f===ptrType$6.nil)){_v=false;$s=56;continue s;}_r$17=ff.equalFold(ff.nameBytes,key);/* */$s=57;case 57:if($c){$c=false;_r$17=_r$17.$blk();}if(_r$17&&_r$17.$blk!==undefined){break s;}_v=_r$17;case 56:/* */if(_v){$s=54;continue;}/* */$s=55;continue;/* if (_v) { */case 54:f=ff;/* } */case 55:_i++;/* } */$s=52;continue;case 53:/* */if(!(f===ptrType$6.nil)){$s=58;continue;}/* */if(d.disallowUnknownFields){$s=59;continue;}/* */$s=60;continue;/* if (!(f === ptrType$6.nil)) { */case 58:subv=v;destring=f.quoted;_ref$1=f.index;_i$1=0;/* while (true) { */case 61:/* if (!(_i$1 < _ref$1.$length)) { break; } */if(!(_i$1<_ref$1.$length)){$s=62;continue;}i$1=_i$1<0||_i$1>=_ref$1.$length?($throwRuntimeError("index out of range"),undefined):_ref$1.$array[_ref$1.$offset+_i$1];/* */if($clone(subv,reflect.Value).Kind()===22){$s=63;continue;}/* */$s=64;continue;/* if ($clone(subv, reflect.Value).Kind() === 22) { */case 63:/* */if($clone(subv,reflect.Value).IsNil()){$s=65;continue;}/* */$s=66;continue;/* if ($clone(subv, reflect.Value).IsNil()) { */case 65:/* */if(!$clone(subv,reflect.Value).CanSet()){$s=67;continue;}/* */$s=68;continue;/* if (!$clone(subv, reflect.Value).CanSet()) { */case 67:_r$18=$clone(subv,reflect.Value).Type().Elem();/* */$s=69;case 69:if($c){$c=false;_r$18=_r$18.$blk();}if(_r$18&&_r$18.$blk!==undefined){break s;}_arg=_r$18;_r$19=fmt.Errorf("json: cannot set embedded pointer to unexported struct: %v",new sliceType([_arg]));/* */$s=70;case 70:if($c){$c=false;_r$19=_r$19.$blk();}if(_r$19&&_r$19.$blk!==undefined){break s;}$r=d.saveError(_r$19);/* */$s=71;case 71:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}subv=new reflect.Value.ptr(ptrType$5.nil,0,0);destring=false;/* break; */$s=62;continue;/* } */case 68:_r$20=$clone(subv,reflect.Value).Type().Elem();/* */$s=72;case 72:if($c){$c=false;_r$20=_r$20.$blk();}if(_r$20&&_r$20.$blk!==undefined){break s;}_r$21=reflect.New(_r$20);/* */$s=73;case 73:if($c){$c=false;_r$21=_r$21.$blk();}if(_r$21&&_r$21.$blk!==undefined){break s;}$r=$clone(subv,reflect.Value).Set($clone(_r$21,reflect.Value));/* */$s=74;case 74:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 66:_r$22=$clone(subv,reflect.Value).Elem();/* */$s=75;case 75:if($c){$c=false;_r$22=_r$22.$blk();}if(_r$22&&_r$22.$blk!==undefined){break s;}subv=_r$22;/* } */case 64:_r$23=$clone(subv,reflect.Value).Field(i$1);/* */$s=76;case 76:if($c){$c=false;_r$23=_r$23.$blk();}if(_r$23&&_r$23.$blk!==undefined){break s;}subv=_r$23;_i$1++;/* } */$s=61;continue;case 62:d.errorContext.Field=f.name;d.errorContext.Struct=t;$s=60;continue;/* } else if (d.disallowUnknownFields) { */case 59:_r$24=fmt.Errorf("json: unknown field %q",new sliceType([key]));/* */$s=77;case 77:if($c){$c=false;_r$24=_r$24.$blk();}if(_r$24&&_r$24.$blk!==undefined){break s;}$r=d.saveError(_r$24);/* */$s=78;case 78:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 60:/* } */case 44:/* */if(d.opcode===9){$s=79;continue;}/* */$s=80;continue;/* if (d.opcode === 9) { */case 79:$r=d.scanWhile(9);/* */$s=81;case 81:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 80:if(!(d.opcode===3)){$panic(new $String("JSON decoder out of sync - data changing underfoot?"));}$r=d.scanWhile(9);/* */$s=82;case 82:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* */if(destring){$s=83;continue;}/* */$s=84;continue;/* if (destring) { */case 83:_r$25=d.valueQuoted();/* */$s=86;case 86:if($c){$c=false;_r$25=_r$25.$blk();}if(_r$25&&_r$25.$blk!==undefined){break s;}_ref$2=_r$25;/* */if(_ref$2===$ifaceNil){$s=87;continue;}/* */if($assertType(_ref$2,$String,true)[1]){$s=88;continue;}/* */$s=89;continue;/* if (_ref$2 === $ifaceNil) { */case 87:qv=_ref$2;_r$26=d.literalStore(nullLiteral,$clone(subv,reflect.Value),false);/* */$s=91;case 91:if($c){$c=false;_r$26=_r$26.$blk();}if(_r$26&&_r$26.$blk!==undefined){break s;}err=_r$26;if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return err;}$s=90;continue;/* } else if ($assertType(_ref$2, $String, true)[1]) { */case 88:qv$1=_ref$2.$val;_r$27=d.literalStore(new sliceType$1($stringToBytes(qv$1)),$clone(subv,reflect.Value),true);/* */$s=92;case 92:if($c){$c=false;_r$27=_r$27.$blk();}if(_r$27&&_r$27.$blk!==undefined){break s;}err$1=_r$27;if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return err$1;}$s=90;continue;/* } else { */case 89:qv$2=_ref$2;_r$28=fmt.Errorf("json: invalid use of ,string struct tag, trying to unmarshal unquoted value into %v",new sliceType([$clone(subv,reflect.Value).Type()]));/* */$s=93;case 93:if($c){$c=false;_r$28=_r$28.$blk();}if(_r$28&&_r$28.$blk!==undefined){break s;}$r=d.saveError(_r$28);/* */$s=94;case 94:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 90:$s=85;continue;/* } else { */case 84:_r$29=d.value($clone(subv,reflect.Value));/* */$s=95;case 95:if($c){$c=false;_r$29=_r$29.$blk();}if(_r$29&&_r$29.$blk!==undefined){break s;}err$2=_r$29;if(!$interfaceIsEqual(err$2,$ifaceNil)){$s=-1;return err$2;}/* } */case 85:/* */if($clone(v,reflect.Value).Kind()===21){$s=96;continue;}/* */$s=97;continue;/* if ($clone(v, reflect.Value).Kind() === 21) { */case 96:_r$30=t.Key();/* */$s=98;case 98:if($c){$c=false;_r$30=_r$30.$blk();}if(_r$30&&_r$30.$blk!==undefined){break s;}kt=_r$30;kv=new reflect.Value.ptr(ptrType$5.nil,0,0);_r$31=kt.Kind();/* */$s=104;case 104:if($c){$c=false;_r$31=_r$31.$blk();}if(_r$31&&_r$31.$blk!==undefined){break s;}/* */if(_r$31===24){$s=100;continue;}_r$32=reflect.PtrTo(kt).Implements(textUnmarshalerType);/* */$s=105;case 105:if($c){$c=false;_r$32=_r$32.$blk();}if(_r$32&&_r$32.$blk!==undefined){break s;}/* */if(_r$32){$s=101;continue;}/* */$s=102;continue;/* if ((_r$31 === 24)) { */case 100:_r$33=reflect.ValueOf(key);/* */$s=106;case 106:if($c){$c=false;_r$33=_r$33.$blk();}if(_r$33&&_r$33.$blk!==undefined){break s;}_r$34=$clone(_r$33,reflect.Value).Convert(kt);/* */$s=107;case 107:if($c){$c=false;_r$34=_r$34.$blk();}if(_r$34&&_r$34.$blk!==undefined){break s;}kv=_r$34;$s=103;continue;/* } else if (_r$32) { */case 101:kv=reflect.New(kt);_r$35=d.literalStore(item,$clone(kv,reflect.Value),true);/* */$s=108;case 108:if($c){$c=false;_r$35=_r$35.$blk();}if(_r$35&&_r$35.$blk!==undefined){break s;}err$3=_r$35;if(!$interfaceIsEqual(err$3,$ifaceNil)){$s=-1;return err$3;}_r$36=$clone(kv,reflect.Value).Elem();/* */$s=109;case 109:if($c){$c=false;_r$36=_r$36.$blk();}if(_r$36&&_r$36.$blk!==undefined){break s;}kv=_r$36;$s=103;continue;/* } else { */case 102:_r$37=kt.Kind();/* */$s=111;case 111:if($c){$c=false;_r$37=_r$37.$blk();}if(_r$37&&_r$37.$blk!==undefined){break s;}_3=_r$37;/* */if(_3===2||_3===3||_3===4||_3===5||_3===6){$s=112;continue;}/* */if(_3===7||_3===8||_3===9||_3===10||_3===11||_3===12){$s=113;continue;}/* */$s=114;continue;/* if ((_3 === (2)) || (_3 === (3)) || (_3 === (4)) || (_3 === (5)) || (_3 === (6))) { */case 112:s=$bytesToString(key);_tuple$2=strconv.ParseInt(s,10,64);n=_tuple$2[0];err$4=_tuple$2[1];if(!$interfaceIsEqual(err$4,$ifaceNil)){_v$1=true;$s=118;continue s;}_r$38=reflect.Zero(kt);/* */$s=119;case 119:if($c){$c=false;_r$38=_r$38.$blk();}if(_r$38&&_r$38.$blk!==undefined){break s;}_r$39=$clone(_r$38,reflect.Value).OverflowInt(n);/* */$s=120;case 120:if($c){$c=false;_r$39=_r$39.$blk();}if(_r$39&&_r$39.$blk!==undefined){break s;}_v$1=_r$39;case 118:/* */if(_v$1){$s=116;continue;}/* */$s=117;continue;/* if (_v$1) { */case 116:$r=d.saveError(new UnmarshalTypeError.ptr("number "+s,kt,new $Int64(0,start$1+1>>0),"",""));/* */$s=121;case 121:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* break; */$s=110;continue;/* } */case 117:_r$40=reflect.ValueOf(n);/* */$s=122;case 122:if($c){$c=false;_r$40=_r$40.$blk();}if(_r$40&&_r$40.$blk!==undefined){break s;}_r$41=$clone(_r$40,reflect.Value).Convert(kt);/* */$s=123;case 123:if($c){$c=false;_r$41=_r$41.$blk();}if(_r$41&&_r$41.$blk!==undefined){break s;}kv=_r$41;$s=115;continue;/* } else if ((_3 === (7)) || (_3 === (8)) || (_3 === (9)) || (_3 === (10)) || (_3 === (11)) || (_3 === (12))) { */case 113:s$1=$bytesToString(key);_tuple$3=strconv.ParseUint(s$1,10,64);n$1=_tuple$3[0];err$5=_tuple$3[1];if(!$interfaceIsEqual(err$5,$ifaceNil)){_v$2=true;$s=126;continue s;}_r$42=reflect.Zero(kt);/* */$s=127;case 127:if($c){$c=false;_r$42=_r$42.$blk();}if(_r$42&&_r$42.$blk!==undefined){break s;}_r$43=$clone(_r$42,reflect.Value).OverflowUint(n$1);/* */$s=128;case 128:if($c){$c=false;_r$43=_r$43.$blk();}if(_r$43&&_r$43.$blk!==undefined){break s;}_v$2=_r$43;case 126:/* */if(_v$2){$s=124;continue;}/* */$s=125;continue;/* if (_v$2) { */case 124:$r=d.saveError(new UnmarshalTypeError.ptr("number "+s$1,kt,new $Int64(0,start$1+1>>0),"",""));/* */$s=129;case 129:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* break; */$s=110;continue;/* } */case 125:_r$44=reflect.ValueOf(n$1);/* */$s=130;case 130:if($c){$c=false;_r$44=_r$44.$blk();}if(_r$44&&_r$44.$blk!==undefined){break s;}_r$45=$clone(_r$44,reflect.Value).Convert(kt);/* */$s=131;case 131:if($c){$c=false;_r$45=_r$45.$blk();}if(_r$45&&_r$45.$blk!==undefined){break s;}kv=_r$45;$s=115;continue;/* } else { */case 114:$panic(new $String("json: Unexpected key type"));/* } */case 115:case 110:/* } */case 103:case 99:/* */if($clone(kv,reflect.Value).IsValid()){$s=132;continue;}/* */$s=133;continue;/* if ($clone(kv, reflect.Value).IsValid()) { */case 132:$r=$clone(v,reflect.Value).SetMapIndex($clone(kv,reflect.Value),$clone(subv,reflect.Value));/* */$s=134;case 134:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 133:/* } */case 97:/* */if(d.opcode===9){$s=135;continue;}/* */$s=136;continue;/* if (d.opcode === 9) { */case 135:$r=d.scanWhile(9);/* */$s=137;case 137:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 136:if(d.opcode===5){/* break; */$s=39;continue;}if(!(d.opcode===4)){$panic(new $String("JSON decoder out of sync - data changing underfoot?"));}structType.copy(d.errorContext,originalErrorContext);/* } */$s=38;continue;case 39:$s=-1;return $ifaceNil;/* */}return;}if($f===undefined){$f={$blk:decodeState.ptr.prototype.object};}$f._1=_1;$f._2=_2;$f._3=_3;$f._arg=_arg;$f._i=_i;$f._i$1=_i$1;$f._r$10=_r$10;$f._r$11=_r$11;$f._r$12=_r$12;$f._r$13=_r$13;$f._r$14=_r$14;$f._r$15=_r$15;$f._r$16=_r$16;$f._r$17=_r$17;$f._r$18=_r$18;$f._r$19=_r$19;$f._r$20=_r$20;$f._r$21=_r$21;$f._r$22=_r$22;$f._r$23=_r$23;$f._r$24=_r$24;$f._r$25=_r$25;$f._r$26=_r$26;$f._r$27=_r$27;$f._r$28=_r$28;$f._r$29=_r$29;$f._r$3=_r$3;$f._r$30=_r$30;$f._r$31=_r$31;$f._r$32=_r$32;$f._r$33=_r$33;$f._r$34=_r$34;$f._r$35=_r$35;$f._r$36=_r$36;$f._r$37=_r$37;$f._r$38=_r$38;$f._r$39=_r$39;$f._r$4=_r$4;$f._r$40=_r$40;$f._r$41=_r$41;$f._r$42=_r$42;$f._r$43=_r$43;$f._r$44=_r$44;$f._r$45=_r$45;$f._r$5=_r$5;$f._r$6=_r$6;$f._r$7=_r$7;$f._r$8=_r$8;$f._r$9=_r$9;$f._ref=_ref;$f._ref$1=_ref$1;$f._ref$2=_ref$2;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f._v=_v;$f._v$1=_v$1;$f._v$2=_v$2;$f.d=d;$f.destring=destring;$f.elemType=elemType;$f.err=err;$f.err$1=err$1;$f.err$2=err$2;$f.err$3=err$3;$f.err$4=err$4;$f.err$5=err$5;$f.f=f;$f.ff=ff;$f.fields=fields;$f.i=i;$f.i$1=i$1;$f.item=item;$f.key=key;$f.kt=kt;$f.kv=kv;$f.mapElem=mapElem;$f.n=n;$f.n$1=n$1;$f.oi=oi;$f.ok=ok;$f.originalErrorContext=originalErrorContext;$f.pv=pv;$f.qv=qv;$f.qv$1=qv$1;$f.qv$2=qv$2;$f.s=s;$f.s$1=s$1;$f.start=start;$f.start$1=start$1;$f.subv=subv;$f.t=t;$f.u=u;$f.ut=ut;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};decodeState.prototype.object=function(v){return this.$val.object(v);};decodeState.ptr.prototype.convertNumber=function(s){var _tuple,d,err,f,s;d=this;if(d.useNumber){return[new Number(s),$ifaceNil];}_tuple=strconv.ParseFloat(s,64);f=_tuple[0];err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){return[$ifaceNil,new UnmarshalTypeError.ptr("number "+s,reflect.TypeOf(new $Float64(0)),new $Int64(0,d.off),"","")];}return[new $Float64(f),$ifaceNil];};decodeState.prototype.convertNumber=function(s){return this.$val.convertNumber(s);};decodeState.ptr.prototype.literalStore=function(item,v,fromQuoted){var _1,_2,_3,_4,_5,_6,_arg,_arg$1,_r$10,_r$11,_r$12,_r$13,_r$14,_r$15,_r$16,_r$17,_r$18,_r$19,_r$20,_r$21,_r$22,_r$23,_r$3,_r$4,_r$5,_r$6,_r$7,_r$8,_r$9,_tuple,_tuple$1,_tuple$2,_tuple$3,_tuple$4,_tuple$5,_tuple$6,_tuple$7,b,c,d,err,err$1,err$2,err$3,err$4,fromQuoted,isNull,item,n,n$1,n$2,n$3,n$4,ok,ok$1,pv,s,s$1,s$2,u,ut,v,val,value,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_2=$f._2;_3=$f._3;_4=$f._4;_5=$f._5;_6=$f._6;_arg=$f._arg;_arg$1=$f._arg$1;_r$10=$f._r$10;_r$11=$f._r$11;_r$12=$f._r$12;_r$13=$f._r$13;_r$14=$f._r$14;_r$15=$f._r$15;_r$16=$f._r$16;_r$17=$f._r$17;_r$18=$f._r$18;_r$19=$f._r$19;_r$20=$f._r$20;_r$21=$f._r$21;_r$22=$f._r$22;_r$23=$f._r$23;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_r$7=$f._r$7;_r$8=$f._r$8;_r$9=$f._r$9;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;_tuple$4=$f._tuple$4;_tuple$5=$f._tuple$5;_tuple$6=$f._tuple$6;_tuple$7=$f._tuple$7;b=$f.b;c=$f.c;d=$f.d;err=$f.err;err$1=$f.err$1;err$2=$f.err$2;err$3=$f.err$3;err$4=$f.err$4;fromQuoted=$f.fromQuoted;isNull=$f.isNull;item=$f.item;n=$f.n;n$1=$f.n$1;n$2=$f.n$2;n$3=$f.n$3;n$4=$f.n$4;ok=$f.ok;ok$1=$f.ok$1;pv=$f.pv;s=$f.s;s$1=$f.s$1;s$2=$f.s$2;u=$f.u;ut=$f.ut;v=$f.v;val=$f.val;value=$f.value;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:d=this;/* */if(item.$length===0){$s=1;continue;}/* */$s=2;continue;/* if (item.$length === 0) { */case 1:_r$3=fmt.Errorf("json: invalid use of ,string struct tag, trying to unmarshal %q into %v",new sliceType([item,$clone(v,reflect.Value).Type()]));/* */$s=3;case 3:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}$r=d.saveError(_r$3);/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return $ifaceNil;/* } */case 2:isNull=(0>=item.$length?($throwRuntimeError("index out of range"),undefined):item.$array[item.$offset+0])===110;_r$4=indirect($clone(v,reflect.Value),isNull);/* */$s=5;case 5:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}_tuple=_r$4;u=_tuple[0];ut=_tuple[1];pv=_tuple[2];/* */if(!$interfaceIsEqual(u,$ifaceNil)){$s=6;continue;}/* */$s=7;continue;/* if (!($interfaceIsEqual(u, $ifaceNil))) { */case 6:_r$5=u.UnmarshalJSON(item);/* */$s=8;case 8:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}$s=-1;return _r$5;/* } */case 7:/* */if(!$interfaceIsEqual(ut,$ifaceNil)){$s=9;continue;}/* */$s=10;continue;/* if (!($interfaceIsEqual(ut, $ifaceNil))) { */case 9:/* */if(!((0>=item.$length?($throwRuntimeError("index out of range"),undefined):item.$array[item.$offset+0])===34)){$s=11;continue;}/* */$s=12;continue;/* if (!(((0 >= item.$length ? ($throwRuntimeError("index out of range"), undefined) : item.$array[item.$offset + 0]) === 34))) { */case 11:/* */if(fromQuoted){$s=13;continue;}/* */$s=14;continue;/* if (fromQuoted) { */case 13:_r$6=fmt.Errorf("json: invalid use of ,string struct tag, trying to unmarshal %q into %v",new sliceType([item,$clone(v,reflect.Value).Type()]));/* */$s=15;case 15:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}$r=d.saveError(_r$6);/* */$s=16;case 16:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return $ifaceNil;/* } */case 14:val="number";_1=0>=item.$length?($throwRuntimeError("index out of range"),undefined):item.$array[item.$offset+0];if(_1===110){val="null";}else if(_1===116||_1===102){val="bool";}$r=d.saveError(new UnmarshalTypeError.ptr(val,$clone(v,reflect.Value).Type(),new $Int64(0,d.readIndex()),"",""));/* */$s=17;case 17:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return $ifaceNil;/* } */case 12:_tuple$1=unquoteBytes(item);s=_tuple$1[0];ok=_tuple$1[1];/* */if(!ok){$s=18;continue;}/* */$s=19;continue;/* if (!ok) { */case 18:/* */if(fromQuoted){$s=20;continue;}/* */$s=21;continue;/* if (fromQuoted) { */case 20:_r$7=fmt.Errorf("json: invalid use of ,string struct tag, trying to unmarshal %q into %v",new sliceType([item,$clone(v,reflect.Value).Type()]));/* */$s=22;case 22:if($c){$c=false;_r$7=_r$7.$blk();}if(_r$7&&_r$7.$blk!==undefined){break s;}$s=-1;return _r$7;/* } */case 21:$panic(new $String("JSON decoder out of sync - data changing underfoot?"));/* } */case 19:_r$8=ut.UnmarshalText(s);/* */$s=23;case 23:if($c){$c=false;_r$8=_r$8.$blk();}if(_r$8&&_r$8.$blk!==undefined){break s;}$s=-1;return _r$8;/* } */case 10:v=pv;c=0>=item.$length?($throwRuntimeError("index out of range"),undefined):item.$array[item.$offset+0];_2=c;/* */if(_2===110){$s=25;continue;}/* */if(_2===116||_2===102){$s=26;continue;}/* */if(_2===34){$s=27;continue;}/* */$s=28;continue;/* if (_2 === (110)) { */case 25:/* */if(fromQuoted&&!($bytesToString(item)==="null")){$s=30;continue;}/* */$s=31;continue;/* if (fromQuoted && !(($bytesToString(item)) === "null")) { */case 30:_r$9=fmt.Errorf("json: invalid use of ,string struct tag, trying to unmarshal %q into %v",new sliceType([item,$clone(v,reflect.Value).Type()]));/* */$s=32;case 32:if($c){$c=false;_r$9=_r$9.$blk();}if(_r$9&&_r$9.$blk!==undefined){break s;}$r=d.saveError(_r$9);/* */$s=33;case 33:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* break; */$s=24;continue;/* } */case 31:_3=$clone(v,reflect.Value).Kind();/* */if(_3===20||_3===22||_3===21||_3===23){$s=35;continue;}/* */$s=36;continue;/* if ((_3 === (20)) || (_3 === (22)) || (_3 === (21)) || (_3 === (23))) { */case 35:_r$10=reflect.Zero($clone(v,reflect.Value).Type());/* */$s=37;case 37:if($c){$c=false;_r$10=_r$10.$blk();}if(_r$10&&_r$10.$blk!==undefined){break s;}$r=$clone(v,reflect.Value).Set($clone(_r$10,reflect.Value));/* */$s=38;case 38:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 36:case 34:$s=29;continue;/* } else if ((_2 === (116)) || (_2 === (102))) { */case 26:value=(0>=item.$length?($throwRuntimeError("index out of range"),undefined):item.$array[item.$offset+0])===116;/* */if(fromQuoted&&!($bytesToString(item)==="true")&&!($bytesToString(item)==="false")){$s=39;continue;}/* */$s=40;continue;/* if (fromQuoted && !(($bytesToString(item)) === "true") && !(($bytesToString(item)) === "false")) { */case 39:_r$11=fmt.Errorf("json: invalid use of ,string struct tag, trying to unmarshal %q into %v",new sliceType([item,$clone(v,reflect.Value).Type()]));/* */$s=41;case 41:if($c){$c=false;_r$11=_r$11.$blk();}if(_r$11&&_r$11.$blk!==undefined){break s;}$r=d.saveError(_r$11);/* */$s=42;case 42:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* break; */$s=24;continue;/* } */case 40:_4=$clone(v,reflect.Value).Kind();/* */if(_4===1){$s=44;continue;}/* */if(_4===20){$s=45;continue;}/* */if(fromQuoted){$s=46;continue;}/* */$s=47;continue;/* if (_4 === (1)) { */case 44:$clone(v,reflect.Value).SetBool(value);$s=48;continue;/* } else if (_4 === (20)) { */case 45:/* */if($clone(v,reflect.Value).NumMethod()===0){$s=49;continue;}/* */$s=50;continue;/* if ($clone(v, reflect.Value).NumMethod() === 0) { */case 49:_r$12=reflect.ValueOf(new $Bool(value));/* */$s=52;case 52:if($c){$c=false;_r$12=_r$12.$blk();}if(_r$12&&_r$12.$blk!==undefined){break s;}$r=$clone(v,reflect.Value).Set($clone(_r$12,reflect.Value));/* */$s=53;case 53:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=51;continue;/* } else { */case 50:$r=d.saveError(new UnmarshalTypeError.ptr("bool",$clone(v,reflect.Value).Type(),new $Int64(0,d.readIndex()),"",""));/* */$s=54;case 54:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 51:$s=48;continue;/* } else if (fromQuoted) { */case 46:_r$13=fmt.Errorf("json: invalid use of ,string struct tag, trying to unmarshal %q into %v",new sliceType([item,$clone(v,reflect.Value).Type()]));/* */$s=55;case 55:if($c){$c=false;_r$13=_r$13.$blk();}if(_r$13&&_r$13.$blk!==undefined){break s;}$r=d.saveError(_r$13);/* */$s=56;case 56:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=48;continue;/* } else { */case 47:$r=d.saveError(new UnmarshalTypeError.ptr("bool",$clone(v,reflect.Value).Type(),new $Int64(0,d.readIndex()),"",""));/* */$s=57;case 57:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 48:case 43:$s=29;continue;/* } else if (_2 === (34)) { */case 27:_tuple$2=unquoteBytes(item);s$1=_tuple$2[0];ok$1=_tuple$2[1];/* */if(!ok$1){$s=58;continue;}/* */$s=59;continue;/* if (!ok$1) { */case 58:/* */if(fromQuoted){$s=60;continue;}/* */$s=61;continue;/* if (fromQuoted) { */case 60:_r$14=fmt.Errorf("json: invalid use of ,string struct tag, trying to unmarshal %q into %v",new sliceType([item,$clone(v,reflect.Value).Type()]));/* */$s=62;case 62:if($c){$c=false;_r$14=_r$14.$blk();}if(_r$14&&_r$14.$blk!==undefined){break s;}$s=-1;return _r$14;/* } */case 61:$panic(new $String("JSON decoder out of sync - data changing underfoot?"));/* } */case 59:_5=$clone(v,reflect.Value).Kind();/* */if(_5===23){$s=64;continue;}/* */if(_5===24){$s=65;continue;}/* */if(_5===20){$s=66;continue;}/* */$s=67;continue;/* if (_5 === (23)) { */case 64:_r$15=$clone(v,reflect.Value).Type().Elem();/* */$s=71;case 71:if($c){$c=false;_r$15=_r$15.$blk();}if(_r$15&&_r$15.$blk!==undefined){break s;}_r$16=_r$15.Kind();/* */$s=72;case 72:if($c){$c=false;_r$16=_r$16.$blk();}if(_r$16&&_r$16.$blk!==undefined){break s;}/* */if(!(_r$16===8)){$s=69;continue;}/* */$s=70;continue;/* if (!((_r$16 === 8))) { */case 69:$r=d.saveError(new UnmarshalTypeError.ptr("string",$clone(v,reflect.Value).Type(),new $Int64(0,d.readIndex()),"",""));/* */$s=73;case 73:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* break; */$s=63;continue;/* } */case 70:b=$makeSlice(sliceType$1,base64.StdEncoding.DecodedLen(s$1.$length));_tuple$3=base64.StdEncoding.Decode(b,s$1);n=_tuple$3[0];err=_tuple$3[1];/* */if(!$interfaceIsEqual(err,$ifaceNil)){$s=74;continue;}/* */$s=75;continue;/* if (!($interfaceIsEqual(err, $ifaceNil))) { */case 74:$r=d.saveError(err);/* */$s=76;case 76:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* break; */$s=63;continue;/* } */case 75:$r=$clone(v,reflect.Value).SetBytes($subslice(b,0,n));/* */$s=77;case 77:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=68;continue;/* } else if (_5 === (24)) { */case 65:$clone(v,reflect.Value).SetString($bytesToString(s$1));$s=68;continue;/* } else if (_5 === (20)) { */case 66:/* */if($clone(v,reflect.Value).NumMethod()===0){$s=78;continue;}/* */$s=79;continue;/* if ($clone(v, reflect.Value).NumMethod() === 0) { */case 78:_r$17=reflect.ValueOf(new $String($bytesToString(s$1)));/* */$s=81;case 81:if($c){$c=false;_r$17=_r$17.$blk();}if(_r$17&&_r$17.$blk!==undefined){break s;}$r=$clone(v,reflect.Value).Set($clone(_r$17,reflect.Value));/* */$s=82;case 82:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=80;continue;/* } else { */case 79:$r=d.saveError(new UnmarshalTypeError.ptr("string",$clone(v,reflect.Value).Type(),new $Int64(0,d.readIndex()),"",""));/* */$s=83;case 83:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 80:$s=68;continue;/* } else { */case 67:$r=d.saveError(new UnmarshalTypeError.ptr("string",$clone(v,reflect.Value).Type(),new $Int64(0,d.readIndex()),"",""));/* */$s=84;case 84:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 68:case 63:$s=29;continue;/* } else { */case 28:/* */if(!(c===45)&&(c<48||c>57)){$s=85;continue;}/* */$s=86;continue;/* if (!((c === 45)) && (c < 48 || c > 57)) { */case 85:/* */if(fromQuoted){$s=87;continue;}/* */$s=88;continue;/* if (fromQuoted) { */case 87:_r$18=fmt.Errorf("json: invalid use of ,string struct tag, trying to unmarshal %q into %v",new sliceType([item,$clone(v,reflect.Value).Type()]));/* */$s=89;case 89:if($c){$c=false;_r$18=_r$18.$blk();}if(_r$18&&_r$18.$blk!==undefined){break s;}$s=-1;return _r$18;/* } */case 88:$panic(new $String("JSON decoder out of sync - data changing underfoot?"));/* } */case 86:s$2=$bytesToString(item);_6=$clone(v,reflect.Value).Kind();/* */if(_6===20){$s=91;continue;}/* */if(_6===2||_6===3||_6===4||_6===5||_6===6){$s=92;continue;}/* */if(_6===7||_6===8||_6===9||_6===10||_6===11||_6===12){$s=93;continue;}/* */if(_6===13||_6===14){$s=94;continue;}/* */$s=95;continue;/* if (_6 === (20)) { */case 91:_tuple$4=d.convertNumber(s$2);n$1=_tuple$4[0];err$1=_tuple$4[1];/* */if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=97;continue;}/* */$s=98;continue;/* if (!($interfaceIsEqual(err$1, $ifaceNil))) { */case 97:$r=d.saveError(err$1);/* */$s=99;case 99:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* break; */$s=90;continue;/* } */case 98:/* */if(!($clone(v,reflect.Value).NumMethod()===0)){$s=100;continue;}/* */$s=101;continue;/* if (!(($clone(v, reflect.Value).NumMethod() === 0))) { */case 100:$r=d.saveError(new UnmarshalTypeError.ptr("number",$clone(v,reflect.Value).Type(),new $Int64(0,d.readIndex()),"",""));/* */$s=102;case 102:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* break; */$s=90;continue;/* } */case 101:_r$19=reflect.ValueOf(n$1);/* */$s=103;case 103:if($c){$c=false;_r$19=_r$19.$blk();}if(_r$19&&_r$19.$blk!==undefined){break s;}$r=$clone(v,reflect.Value).Set($clone(_r$19,reflect.Value));/* */$s=104;case 104:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=96;continue;/* } else if ((_6 === (2)) || (_6 === (3)) || (_6 === (4)) || (_6 === (5)) || (_6 === (6))) { */case 92:_tuple$5=strconv.ParseInt(s$2,10,64);n$2=_tuple$5[0];err$2=_tuple$5[1];/* */if(!$interfaceIsEqual(err$2,$ifaceNil)||$clone(v,reflect.Value).OverflowInt(n$2)){$s=105;continue;}/* */$s=106;continue;/* if (!($interfaceIsEqual(err$2, $ifaceNil)) || $clone(v, reflect.Value).OverflowInt(n$2)) { */case 105:$r=d.saveError(new UnmarshalTypeError.ptr("number "+s$2,$clone(v,reflect.Value).Type(),new $Int64(0,d.readIndex()),"",""));/* */$s=107;case 107:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* break; */$s=90;continue;/* } */case 106:$clone(v,reflect.Value).SetInt(n$2);$s=96;continue;/* } else if ((_6 === (7)) || (_6 === (8)) || (_6 === (9)) || (_6 === (10)) || (_6 === (11)) || (_6 === (12))) { */case 93:_tuple$6=strconv.ParseUint(s$2,10,64);n$3=_tuple$6[0];err$3=_tuple$6[1];/* */if(!$interfaceIsEqual(err$3,$ifaceNil)||$clone(v,reflect.Value).OverflowUint(n$3)){$s=108;continue;}/* */$s=109;continue;/* if (!($interfaceIsEqual(err$3, $ifaceNil)) || $clone(v, reflect.Value).OverflowUint(n$3)) { */case 108:$r=d.saveError(new UnmarshalTypeError.ptr("number "+s$2,$clone(v,reflect.Value).Type(),new $Int64(0,d.readIndex()),"",""));/* */$s=110;case 110:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* break; */$s=90;continue;/* } */case 109:$clone(v,reflect.Value).SetUint(n$3);$s=96;continue;/* } else if ((_6 === (13)) || (_6 === (14))) { */case 94:_arg=s$2;_r$20=$clone(v,reflect.Value).Type().Bits();/* */$s=111;case 111:if($c){$c=false;_r$20=_r$20.$blk();}if(_r$20&&_r$20.$blk!==undefined){break s;}_arg$1=_r$20;_r$21=strconv.ParseFloat(_arg,_arg$1);/* */$s=112;case 112:if($c){$c=false;_r$21=_r$21.$blk();}if(_r$21&&_r$21.$blk!==undefined){break s;}_tuple$7=_r$21;n$4=_tuple$7[0];err$4=_tuple$7[1];/* */if(!$interfaceIsEqual(err$4,$ifaceNil)||$clone(v,reflect.Value).OverflowFloat(n$4)){$s=113;continue;}/* */$s=114;continue;/* if (!($interfaceIsEqual(err$4, $ifaceNil)) || $clone(v, reflect.Value).OverflowFloat(n$4)) { */case 113:$r=d.saveError(new UnmarshalTypeError.ptr("number "+s$2,$clone(v,reflect.Value).Type(),new $Int64(0,d.readIndex()),"",""));/* */$s=115;case 115:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* break; */$s=90;continue;/* } */case 114:$clone(v,reflect.Value).SetFloat(n$4);$s=96;continue;/* } else { */case 95:/* */if($clone(v,reflect.Value).Kind()===24&&$interfaceIsEqual($clone(v,reflect.Value).Type(),numberType)){$s=116;continue;}/* */$s=117;continue;/* if (($clone(v, reflect.Value).Kind() === 24) && $interfaceIsEqual($clone(v, reflect.Value).Type(), numberType)) { */case 116:$clone(v,reflect.Value).SetString(s$2);/* */if(!isValidNumber(s$2)){$s=118;continue;}/* */$s=119;continue;/* if (!isValidNumber(s$2)) { */case 118:_r$22=fmt.Errorf("json: invalid number literal, trying to unmarshal %q into Number",new sliceType([item]));/* */$s=120;case 120:if($c){$c=false;_r$22=_r$22.$blk();}if(_r$22&&_r$22.$blk!==undefined){break s;}$s=-1;return _r$22;/* } */case 119:/* break; */$s=90;continue;/* } */case 117:/* */if(fromQuoted){$s=121;continue;}/* */$s=122;continue;/* if (fromQuoted) { */case 121:_r$23=fmt.Errorf("json: invalid use of ,string struct tag, trying to unmarshal %q into %v",new sliceType([item,$clone(v,reflect.Value).Type()]));/* */$s=123;case 123:if($c){$c=false;_r$23=_r$23.$blk();}if(_r$23&&_r$23.$blk!==undefined){break s;}$s=-1;return _r$23;/* } */case 122:$r=d.saveError(new UnmarshalTypeError.ptr("number",$clone(v,reflect.Value).Type(),new $Int64(0,d.readIndex()),"",""));/* */$s=124;case 124:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 96:case 90:/* } */case 29:case 24:$s=-1;return $ifaceNil;/* */}return;}if($f===undefined){$f={$blk:decodeState.ptr.prototype.literalStore};}$f._1=_1;$f._2=_2;$f._3=_3;$f._4=_4;$f._5=_5;$f._6=_6;$f._arg=_arg;$f._arg$1=_arg$1;$f._r$10=_r$10;$f._r$11=_r$11;$f._r$12=_r$12;$f._r$13=_r$13;$f._r$14=_r$14;$f._r$15=_r$15;$f._r$16=_r$16;$f._r$17=_r$17;$f._r$18=_r$18;$f._r$19=_r$19;$f._r$20=_r$20;$f._r$21=_r$21;$f._r$22=_r$22;$f._r$23=_r$23;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._r$7=_r$7;$f._r$8=_r$8;$f._r$9=_r$9;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f._tuple$4=_tuple$4;$f._tuple$5=_tuple$5;$f._tuple$6=_tuple$6;$f._tuple$7=_tuple$7;$f.b=b;$f.c=c;$f.d=d;$f.err=err;$f.err$1=err$1;$f.err$2=err$2;$f.err$3=err$3;$f.err$4=err$4;$f.fromQuoted=fromQuoted;$f.isNull=isNull;$f.item=item;$f.n=n;$f.n$1=n$1;$f.n$2=n$2;$f.n$3=n$3;$f.n$4=n$4;$f.ok=ok;$f.ok$1=ok$1;$f.pv=pv;$f.s=s;$f.s$1=s$1;$f.s$2=s$2;$f.u=u;$f.ut=ut;$f.v=v;$f.val=val;$f.value=value;$f.$s=$s;$f.$r=$r;return $f;};decodeState.prototype.literalStore=function(item,v,fromQuoted){return this.$val.literalStore(item,v,fromQuoted);};decodeState.ptr.prototype.valueInterface=function(){var _1,_r$3,_r$4,_r$5,d,val,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;d=$f.d;val=$f.val;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:val=$ifaceNil;d=this;_1=d.opcode;/* */if(_1===6){$s=2;continue;}/* */if(_1===2){$s=3;continue;}/* */if(_1===1){$s=4;continue;}/* */$s=5;continue;/* if (_1 === (6)) { */case 2:_r$3=d.arrayInterface();/* */$s=7;case 7:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}val=_r$3;$r=d.scanNext();/* */$s=8;case 8:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=6;continue;/* } else if (_1 === (2)) { */case 3:_r$4=d.objectInterface();/* */$s=9;case 9:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}val=new mapType(_r$4);$r=d.scanNext();/* */$s=10;case 10:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=6;continue;/* } else if (_1 === (1)) { */case 4:_r$5=d.literalInterface();/* */$s=11;case 11:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}val=_r$5;$s=6;continue;/* } else { */case 5:$panic(new $String("JSON decoder out of sync - data changing underfoot?"));/* } */case 6:case 1:$s=-1;return val;/* */}return;}if($f===undefined){$f={$blk:decodeState.ptr.prototype.valueInterface};}$f._1=_1;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f.d=d;$f.val=val;$f.$s=$s;$f.$r=$r;return $f;};decodeState.prototype.valueInterface=function(){return this.$val.valueInterface();};decodeState.ptr.prototype.arrayInterface=function(){var _r$3,d,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r$3=$f._r$3;d=$f.d;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:d=this;v=$makeSlice(sliceType,0);/* while (true) { */case 1:$r=d.scanWhile(9);/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}if(d.opcode===8){/* break; */$s=2;continue;}_r$3=d.valueInterface();/* */$s=4;case 4:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}v=$append(v,_r$3);/* */if(d.opcode===9){$s=5;continue;}/* */$s=6;continue;/* if (d.opcode === 9) { */case 5:$r=d.scanWhile(9);/* */$s=7;case 7:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 6:if(d.opcode===8){/* break; */$s=2;continue;}if(!(d.opcode===7)){$panic(new $String("JSON decoder out of sync - data changing underfoot?"));}/* } */$s=1;continue;case 2:$s=-1;return v;/* */}return;}if($f===undefined){$f={$blk:decodeState.ptr.prototype.arrayInterface};}$f._r$3=_r$3;$f.d=d;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};decodeState.prototype.arrayInterface=function(){return this.$val.arrayInterface();};decodeState.ptr.prototype.objectInterface=function(){var _key,_r$3,_tuple,d,item,key,m,ok,start,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_key=$f._key;_r$3=$f._r$3;_tuple=$f._tuple;d=$f.d;item=$f.item;key=$f.key;m=$f.m;ok=$f.ok;start=$f.start;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:d=this;m={};/* while (true) { */case 1:$r=d.scanWhile(9);/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}if(d.opcode===5){/* break; */$s=2;continue;}if(!(d.opcode===1)){$panic(new $String("JSON decoder out of sync - data changing underfoot?"));}start=d.readIndex();$r=d.scanWhile(0);/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}item=$subslice(d.data,start,d.readIndex());_tuple=unquote(item);key=_tuple[0];ok=_tuple[1];if(!ok){$panic(new $String("JSON decoder out of sync - data changing underfoot?"));}/* */if(d.opcode===9){$s=5;continue;}/* */$s=6;continue;/* if (d.opcode === 9) { */case 5:$r=d.scanWhile(9);/* */$s=7;case 7:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 6:if(!(d.opcode===3)){$panic(new $String("JSON decoder out of sync - data changing underfoot?"));}$r=d.scanWhile(9);/* */$s=8;case 8:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}_r$3=d.valueInterface();/* */$s=9;case 9:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_key=key;(m||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key)]={k:_key,v:_r$3};/* */if(d.opcode===9){$s=10;continue;}/* */$s=11;continue;/* if (d.opcode === 9) { */case 10:$r=d.scanWhile(9);/* */$s=12;case 12:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 11:if(d.opcode===5){/* break; */$s=2;continue;}if(!(d.opcode===4)){$panic(new $String("JSON decoder out of sync - data changing underfoot?"));}/* } */$s=1;continue;case 2:$s=-1;return m;/* */}return;}if($f===undefined){$f={$blk:decodeState.ptr.prototype.objectInterface};}$f._key=_key;$f._r$3=_r$3;$f._tuple=_tuple;$f.d=d;$f.item=item;$f.key=key;$f.m=m;$f.ok=ok;$f.start=start;$f.$s=$s;$f.$r=$r;return $f;};decodeState.prototype.objectInterface=function(){return this.$val.objectInterface();};decodeState.ptr.prototype.literalInterface=function(){var _1,_tuple,_tuple$1,c,d,err,item,n,ok,s,start,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_tuple=$f._tuple;_tuple$1=$f._tuple$1;c=$f.c;d=$f.d;err=$f.err;item=$f.item;n=$f.n;ok=$f.ok;s=$f.s;start=$f.start;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:d=this;start=d.readIndex();$r=d.scanWhile(0);/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}item=$subslice(d.data,start,d.readIndex());c=0>=item.$length?($throwRuntimeError("index out of range"),undefined):item.$array[item.$offset+0];_1=c;/* */if(_1===110){$s=3;continue;}/* */if(_1===116||_1===102){$s=4;continue;}/* */if(_1===34){$s=5;continue;}/* */$s=6;continue;/* if (_1 === (110)) { */case 3:$s=-1;return $ifaceNil;/* } else if ((_1 === (116)) || (_1 === (102))) { */case 4:$s=-1;return new $Bool(c===116);/* } else if (_1 === (34)) { */case 5:_tuple=unquote(item);s=_tuple[0];ok=_tuple[1];if(!ok){$panic(new $String("JSON decoder out of sync - data changing underfoot?"));}$s=-1;return new $String(s);/* } else { */case 6:if(!(c===45)&&(c<48||c>57)){$panic(new $String("JSON decoder out of sync - data changing underfoot?"));}_tuple$1=d.convertNumber($bytesToString(item));n=_tuple$1[0];err=_tuple$1[1];/* */if(!$interfaceIsEqual(err,$ifaceNil)){$s=8;continue;}/* */$s=9;continue;/* if (!($interfaceIsEqual(err, $ifaceNil))) { */case 8:$r=d.saveError(err);/* */$s=10;case 10:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 9:$s=-1;return n;/* } */case 7:case 2:$s=-1;return $ifaceNil;/* */}return;}if($f===undefined){$f={$blk:decodeState.ptr.prototype.literalInterface};}$f._1=_1;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f.c=c;$f.d=d;$f.err=err;$f.item=item;$f.n=n;$f.ok=ok;$f.s=s;$f.start=start;$f.$s=$s;$f.$r=$r;return $f;};decodeState.prototype.literalInterface=function(){return this.$val.literalInterface();};getu4=function(s){var _i,_ref,c,r,s;if(s.$length<6||!((0>=s.$length?($throwRuntimeError("index out of range"),undefined):s.$array[s.$offset+0])===92)||!((1>=s.$length?($throwRuntimeError("index out of range"),undefined):s.$array[s.$offset+1])===117)){return-1;}r=0;_ref=$subslice(s,2,6);_i=0;while(true){if(!(_i<_ref.$length)){break;}c=_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i];if(48<=c&&c<=57){c=c-48<<24>>>24;}else if(97<=c&&c<=102){c=(c-97<<24>>>24)+10<<24>>>24;}else if(65<=c&&c<=70){c=(c-65<<24>>>24)+10<<24>>>24;}else{return-1;}r=$imul(r,16)+(c>>0)>>0;_i++;}return r;};unquote=function(s){var _tuple,ok,s,t;t="";ok=false;_tuple=unquoteBytes(s);s=_tuple[0];ok=_tuple[1];t=$bytesToString(s);return[t,ok];};unquoteBytes=function(s){var _1,_tmp,_tmp$1,_tmp$2,_tmp$3,_tuple,_tuple$1,b,c,c$1,dec,nb,ok,r,rr,rr$1,rr$2,rr1,s,size,size$1,t,w,x;t=sliceType$1.nil;ok=false;if(s.$length<2||!((0>=s.$length?($throwRuntimeError("index out of range"),undefined):s.$array[s.$offset+0])===34)||!((x=s.$length-1>>0,x<0||x>=s.$length?($throwRuntimeError("index out of range"),undefined):s.$array[s.$offset+x])===34)){return[t,ok];}s=$subslice(s,1,s.$length-1>>0);r=0;while(true){if(!(r<s.$length)){break;}c=r<0||r>=s.$length?($throwRuntimeError("index out of range"),undefined):s.$array[s.$offset+r];if(c===92||c===34||c<32){break;}if(c<128){r=r+1>>0;continue;}_tuple=utf8.DecodeRune($subslice(s,r));rr=_tuple[0];size=_tuple[1];if(rr===65533&&size===1){break;}r=r+size>>0;}if(r===s.$length){_tmp=s;_tmp$1=true;t=_tmp;ok=_tmp$1;return[t,ok];}b=$makeSlice(sliceType$1,s.$length+8>>0);w=$copySlice(b,$subslice(s,0,r));while(true){if(!(r<s.$length)){break;}if(w>=b.$length-8>>0){nb=$makeSlice(sliceType$1,$imul(b.$length+4>>0,2));$copySlice(nb,$subslice(b,0,w));b=nb;}c$1=r<0||r>=s.$length?($throwRuntimeError("index out of range"),undefined):s.$array[s.$offset+r];if(c$1===92){r=r+1>>0;if(r>=s.$length){return[t,ok];}switch(0){default:_1=r<0||r>=s.$length?($throwRuntimeError("index out of range"),undefined):s.$array[s.$offset+r];if(_1===34||_1===92||_1===47||_1===39){w<0||w>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+w]=r<0||r>=s.$length?($throwRuntimeError("index out of range"),undefined):s.$array[s.$offset+r];r=r+1>>0;w=w+1>>0;}else if(_1===98){w<0||w>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+w]=8;r=r+1>>0;w=w+1>>0;}else if(_1===102){w<0||w>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+w]=12;r=r+1>>0;w=w+1>>0;}else if(_1===110){w<0||w>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+w]=10;r=r+1>>0;w=w+1>>0;}else if(_1===114){w<0||w>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+w]=13;r=r+1>>0;w=w+1>>0;}else if(_1===116){w<0||w>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+w]=9;r=r+1>>0;w=w+1>>0;}else if(_1===117){r=r-1>>0;rr$1=getu4($subslice(s,r));if(rr$1<0){return[t,ok];}r=r+6>>0;if(utf16.IsSurrogate(rr$1)){rr1=getu4($subslice(s,r));dec=utf16.DecodeRune(rr$1,rr1);if(!(dec===65533)){r=r+6>>0;w=w+utf8.EncodeRune($subslice(b,w),dec)>>0;break;}rr$1=65533;}w=w+utf8.EncodeRune($subslice(b,w),rr$1)>>0;}else{return[t,ok];}}}else if(c$1===34||c$1<32){return[t,ok];}else if(c$1<128){w<0||w>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+w]=c$1;r=r+1>>0;w=w+1>>0;}else{_tuple$1=utf8.DecodeRune($subslice(s,r));rr$2=_tuple$1[0];size$1=_tuple$1[1];r=r+size$1>>0;w=w+utf8.EncodeRune($subslice(b,w),rr$2)>>0;}}_tmp$2=$subslice(b,0,w);_tmp$3=true;t=_tmp$2;ok=_tmp$3;return[t,ok];};Marshal=function(v){var _r$3,_r$4,buf,e,err,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r$3=$f._r$3;_r$4=$f._r$4;buf=$f.buf;e=$f.e;err=$f.err;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r$3=newEncodeState();/* */$s=1;case 1:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}e=_r$3;_r$4=e.marshal(v,new encOpts.ptr(false,true));/* */$s=2;case 2:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}err=_r$4;if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[sliceType$1.nil,err];}buf=$appendSlice(sliceType$1.nil,e.Buffer.Bytes());e.Buffer.Reset();encodeStatePool.Put(e);$s=-1;return[buf,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:Marshal};}$f._r$3=_r$3;$f._r$4=_r$4;$f.buf=buf;$f.e=e;$f.err=err;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};$pkg.Marshal=Marshal;HTMLEscape=function(dst,src){var _i,_ref,c,dst,i,src,start,x,x$1,x$2;start=0;_ref=src;_i=0;while(true){if(!(_i<_ref.$length)){break;}i=_i;c=_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i];if(c===60||c===62||c===38){if(start<i){dst.Write($subslice(src,start,i));}dst.WriteString("\\u00");dst.WriteByte(hex.charCodeAt(c>>>4<<24>>>24));dst.WriteByte(hex.charCodeAt((c&15)>>>0));start=i+1>>0;}if(c===226&&i+2>>0<src.$length&&(x=i+1>>0,x<0||x>=src.$length?($throwRuntimeError("index out of range"),undefined):src.$array[src.$offset+x])===128&&((x$1=i+2>>0,x$1<0||x$1>=src.$length?($throwRuntimeError("index out of range"),undefined):src.$array[src.$offset+x$1])&~1)<<24>>>24===168){if(start<i){dst.Write($subslice(src,start,i));}dst.WriteString("\\u202");dst.WriteByte(hex.charCodeAt(((x$2=i+2>>0,x$2<0||x$2>=src.$length?($throwRuntimeError("index out of range"),undefined):src.$array[src.$offset+x$2])&15)>>>0));start=i+3>>0;}_i++;}if(start<src.$length){dst.Write($subslice(src,start));}};$pkg.HTMLEscape=HTMLEscape;UnsupportedTypeError.ptr.prototype.Error=function(){var _r$3,e,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r$3=$f._r$3;e=$f.e;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:e=this;_r$3=e.Type.String();/* */$s=1;case 1:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}$s=-1;return"json: unsupported type: "+_r$3;/* */}return;}if($f===undefined){$f={$blk:UnsupportedTypeError.ptr.prototype.Error};}$f._r$3=_r$3;$f.e=e;$f.$s=$s;$f.$r=$r;return $f;};UnsupportedTypeError.prototype.Error=function(){return this.$val.Error();};UnsupportedValueError.ptr.prototype.Error=function(){var e;e=this;return"json: unsupported value: "+e.Str;};UnsupportedValueError.prototype.Error=function(){return this.$val.Error();};MarshalerError.ptr.prototype.Error=function(){var _r$3,_r$4,e,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r$3=$f._r$3;_r$4=$f._r$4;e=$f.e;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:e=this;_r$3=e.Type.String();/* */$s=1;case 1:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_r$4=e.Err.Error();/* */$s=2;case 2:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}$s=-1;return"json: error calling MarshalJSON for type "+_r$3+": "+_r$4;/* */}return;}if($f===undefined){$f={$blk:MarshalerError.ptr.prototype.Error};}$f._r$3=_r$3;$f._r$4=_r$4;$f.e=e;$f.$s=$s;$f.$r=$r;return $f;};MarshalerError.prototype.Error=function(){return this.$val.Error();};newEncodeState=function(){var _r$3,e,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r$3=$f._r$3;e=$f.e;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r$3=encodeStatePool.Get();/* */$s=1;case 1:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}v=_r$3;if(!$interfaceIsEqual(v,$ifaceNil)){e=$assertType(v,ptrType$7);e.Buffer.Reset();$s=-1;return e;}$s=-1;return new encodeState.ptr(new bytes.Buffer.ptr(sliceType$1.nil,0,0),arrayType.zero());/* */}return;}if($f===undefined){$f={$blk:newEncodeState};}$f._r$3=_r$3;$f.e=e;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};encodeState.ptr.prototype.marshal=function(v,opts){var _r$3,e,err,opts,v,$s,$deferred,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r$3=$f._r$3;e=$f.e;err=$f.err;opts=$f.opts;v=$f.v;$s=$f.$s;$deferred=$f.$deferred;$r=$f.$r;}var $err=null;try{s:while(true){switch($s){case 0:$deferred=[];$deferred.index=$curGoroutine.deferStack.length;$curGoroutine.deferStack.push($deferred);err=[err];err[0]=$ifaceNil;e=this;$deferred.push([function(err){return function(){var _tuple,je,ok,r;r=$recover();if(!$interfaceIsEqual(r,$ifaceNil)){_tuple=$assertType(r,jsonError,true);je=$clone(_tuple[0],jsonError);ok=_tuple[1];if(ok){err[0]=je.error;}else{$panic(r);}}};}(err),[]]);_r$3=reflect.ValueOf(v);/* */$s=1;case 1:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}$r=e.reflectValue($clone(_r$3,reflect.Value),$clone(opts,encOpts));/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}err[0]=$ifaceNil;$s=-1;return err[0];/* */}return;}}catch(err){$err=err;$s=-1;}finally{$callDeferred($deferred,$err);if(!$curGoroutine.asleep){return err[0];}if($curGoroutine.asleep){if($f===undefined){$f={$blk:encodeState.ptr.prototype.marshal};}$f._r$3=_r$3;$f.e=e;$f.err=err;$f.opts=opts;$f.v=v;$f.$s=$s;$f.$deferred=$deferred;$f.$r=$r;return $f;}}};encodeState.prototype.marshal=function(v,opts){return this.$val.marshal(v,opts);};encodeState.ptr.prototype.error=function(err){var e,err,x;e=this;$panic((x=new jsonError.ptr(err),new x.constructor.elem(x)));};encodeState.prototype.error=function(err){return this.$val.error(err);};isEmptyValue=function(v){var _1,v,x,x$1;_1=$clone(v,reflect.Value).Kind();if(_1===17||_1===21||_1===23||_1===24){return $clone(v,reflect.Value).Len()===0;}else if(_1===1){return!$clone(v,reflect.Value).Bool();}else if(_1===2||_1===3||_1===4||_1===5||_1===6){return x=$clone(v,reflect.Value).Int(),x.$high===0&&x.$low===0;}else if(_1===7||_1===8||_1===9||_1===10||_1===11||_1===12){return x$1=$clone(v,reflect.Value).Uint(),x$1.$high===0&&x$1.$low===0;}else if(_1===13||_1===14){return $clone(v,reflect.Value).Float()===0;}else if(_1===20||_1===22){return $clone(v,reflect.Value).IsNil();}return false;};encodeState.ptr.prototype.reflectValue=function(v,opts){var _r$3,e,opts,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r$3=$f._r$3;e=$f.e;opts=$f.opts;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:e=this;_r$3=valueEncoder($clone(v,reflect.Value));/* */$s=1;case 1:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}$r=_r$3(e,$clone(v,reflect.Value),$clone(opts,encOpts));/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:encodeState.ptr.prototype.reflectValue};}$f._r$3=_r$3;$f.e=e;$f.opts=opts;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};encodeState.prototype.reflectValue=function(v,opts){return this.$val.reflectValue(v,opts);};valueEncoder=function(v){var _r$3,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r$3=$f._r$3;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:if(!$clone(v,reflect.Value).IsValid()){$s=-1;return invalidValueEncoder;}_r$3=typeEncoder($clone(v,reflect.Value).Type());/* */$s=1;case 1:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}$s=-1;return _r$3;/* */}return;}if($f===undefined){$f={$blk:valueEncoder};}$f._r$3=_r$3;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};typeEncoder=function(t){var _r$3,_tuple,_tuple$1,f,fi,fi$1,loaded,ok,t,wg,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r$3=$f._r$3;_tuple=$f._tuple;_tuple$1=$f._tuple$1;f=$f.f;fi=$f.fi;fi$1=$f.fi$1;loaded=$f.loaded;ok=$f.ok;t=$f.t;wg=$f.wg;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:f=[f];wg=[wg];_tuple=encoderCache.Load(t);fi=_tuple[0];ok=_tuple[1];if(ok){$s=-1;return $assertType(fi,encoderFunc);}wg[0]=new nosync.WaitGroup.ptr(0);f[0]=$throwNilPointerError;wg[0].Add(1);_tuple$1=encoderCache.LoadOrStore(t,new encoderFunc(function(f,wg){return function $b(e,v,opts){var e,opts,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;e=$f.e;opts=$f.opts;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:wg[0].Wait();$r=f[0](e,$clone(v,reflect.Value),$clone(opts,encOpts));/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:$b};}$f.e=e;$f.opts=opts;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};}(f,wg)));fi$1=_tuple$1[0];loaded=_tuple$1[1];if(loaded){$s=-1;return $assertType(fi$1,encoderFunc);}_r$3=newTypeEncoder(t,true);/* */$s=1;case 1:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}f[0]=_r$3;wg[0].Done();encoderCache.Store(t,new encoderFunc(f[0]));$s=-1;return f[0];/* */}return;}if($f===undefined){$f={$blk:typeEncoder};}$f._r$3=_r$3;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f.f=f;$f.fi=fi;$f.fi$1=fi$1;$f.loaded=loaded;$f.ok=ok;$f.t=t;$f.wg=wg;$f.$s=$s;$f.$r=$r;return $f;};newTypeEncoder=function(t,allowAddr){var _1,_arg,_arg$1,_arg$2,_arg$3,_r$10,_r$11,_r$12,_r$13,_r$14,_r$15,_r$16,_r$17,_r$18,_r$3,_r$4,_r$5,_r$6,_r$7,_r$8,_r$9,allowAddr,t,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_arg=$f._arg;_arg$1=$f._arg$1;_arg$2=$f._arg$2;_arg$3=$f._arg$3;_r$10=$f._r$10;_r$11=$f._r$11;_r$12=$f._r$12;_r$13=$f._r$13;_r$14=$f._r$14;_r$15=$f._r$15;_r$16=$f._r$16;_r$17=$f._r$17;_r$18=$f._r$18;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_r$7=$f._r$7;_r$8=$f._r$8;_r$9=$f._r$9;allowAddr=$f.allowAddr;t=$f.t;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r$3=t.Implements(marshalerType);/* */$s=3;case 3:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}/* */if(_r$3){$s=1;continue;}/* */$s=2;continue;/* if (_r$3) { */case 1:$s=-1;return marshalerEncoder;/* } */case 2:_r$4=t.Kind();/* */$s=6;case 6:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}/* */if(!(_r$4===22)&&allowAddr){$s=4;continue;}/* */$s=5;continue;/* if (!((_r$4 === 22)) && allowAddr) { */case 4:_r$5=reflect.PtrTo(t).Implements(marshalerType);/* */$s=9;case 9:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}/* */if(_r$5){$s=7;continue;}/* */$s=8;continue;/* if (_r$5) { */case 7:_arg=addrMarshalerEncoder;_r$6=newTypeEncoder(t,false);/* */$s=10;case 10:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}_arg$1=_r$6;_r$7=newCondAddrEncoder(_arg,_arg$1);/* */$s=11;case 11:if($c){$c=false;_r$7=_r$7.$blk();}if(_r$7&&_r$7.$blk!==undefined){break s;}$s=-1;return _r$7;/* } */case 8:/* } */case 5:_r$8=t.Implements(textMarshalerType);/* */$s=14;case 14:if($c){$c=false;_r$8=_r$8.$blk();}if(_r$8&&_r$8.$blk!==undefined){break s;}/* */if(_r$8){$s=12;continue;}/* */$s=13;continue;/* if (_r$8) { */case 12:$s=-1;return textMarshalerEncoder;/* } */case 13:_r$9=t.Kind();/* */$s=17;case 17:if($c){$c=false;_r$9=_r$9.$blk();}if(_r$9&&_r$9.$blk!==undefined){break s;}/* */if(!(_r$9===22)&&allowAddr){$s=15;continue;}/* */$s=16;continue;/* if (!((_r$9 === 22)) && allowAddr) { */case 15:_r$10=reflect.PtrTo(t).Implements(textMarshalerType);/* */$s=20;case 20:if($c){$c=false;_r$10=_r$10.$blk();}if(_r$10&&_r$10.$blk!==undefined){break s;}/* */if(_r$10){$s=18;continue;}/* */$s=19;continue;/* if (_r$10) { */case 18:_arg$2=addrTextMarshalerEncoder;_r$11=newTypeEncoder(t,false);/* */$s=21;case 21:if($c){$c=false;_r$11=_r$11.$blk();}if(_r$11&&_r$11.$blk!==undefined){break s;}_arg$3=_r$11;_r$12=newCondAddrEncoder(_arg$2,_arg$3);/* */$s=22;case 22:if($c){$c=false;_r$12=_r$12.$blk();}if(_r$12&&_r$12.$blk!==undefined){break s;}$s=-1;return _r$12;/* } */case 19:/* } */case 16:_r$13=t.Kind();/* */$s=24;case 24:if($c){$c=false;_r$13=_r$13.$blk();}if(_r$13&&_r$13.$blk!==undefined){break s;}_1=_r$13;/* */if(_1===1){$s=25;continue;}/* */if(_1===2||_1===3||_1===4||_1===5||_1===6){$s=26;continue;}/* */if(_1===7||_1===8||_1===9||_1===10||_1===11||_1===12){$s=27;continue;}/* */if(_1===13){$s=28;continue;}/* */if(_1===14){$s=29;continue;}/* */if(_1===24){$s=30;continue;}/* */if(_1===20){$s=31;continue;}/* */if(_1===25){$s=32;continue;}/* */if(_1===21){$s=33;continue;}/* */if(_1===23){$s=34;continue;}/* */if(_1===17){$s=35;continue;}/* */if(_1===22){$s=36;continue;}/* */$s=37;continue;/* if (_1 === (1)) { */case 25:$s=-1;return boolEncoder;/* } else if ((_1 === (2)) || (_1 === (3)) || (_1 === (4)) || (_1 === (5)) || (_1 === (6))) { */case 26:$s=-1;return intEncoder;/* } else if ((_1 === (7)) || (_1 === (8)) || (_1 === (9)) || (_1 === (10)) || (_1 === (11)) || (_1 === (12))) { */case 27:$s=-1;return uintEncoder;/* } else if (_1 === (13)) { */case 28:$s=-1;return float32Encoder;/* } else if (_1 === (14)) { */case 29:$s=-1;return float64Encoder;/* } else if (_1 === (24)) { */case 30:$s=-1;return stringEncoder;/* } else if (_1 === (20)) { */case 31:$s=-1;return interfaceEncoder;/* } else if (_1 === (25)) { */case 32:_r$14=newStructEncoder(t);/* */$s=39;case 39:if($c){$c=false;_r$14=_r$14.$blk();}if(_r$14&&_r$14.$blk!==undefined){break s;}$s=-1;return _r$14;/* } else if (_1 === (21)) { */case 33:_r$15=newMapEncoder(t);/* */$s=40;case 40:if($c){$c=false;_r$15=_r$15.$blk();}if(_r$15&&_r$15.$blk!==undefined){break s;}$s=-1;return _r$15;/* } else if (_1 === (23)) { */case 34:_r$16=newSliceEncoder(t);/* */$s=41;case 41:if($c){$c=false;_r$16=_r$16.$blk();}if(_r$16&&_r$16.$blk!==undefined){break s;}$s=-1;return _r$16;/* } else if (_1 === (17)) { */case 35:_r$17=newArrayEncoder(t);/* */$s=42;case 42:if($c){$c=false;_r$17=_r$17.$blk();}if(_r$17&&_r$17.$blk!==undefined){break s;}$s=-1;return _r$17;/* } else if (_1 === (22)) { */case 36:_r$18=newPtrEncoder(t);/* */$s=43;case 43:if($c){$c=false;_r$18=_r$18.$blk();}if(_r$18&&_r$18.$blk!==undefined){break s;}$s=-1;return _r$18;/* } else { */case 37:$s=-1;return unsupportedTypeEncoder;/* } */case 38:case 23:$s=-1;return $throwNilPointerError;/* */}return;}if($f===undefined){$f={$blk:newTypeEncoder};}$f._1=_1;$f._arg=_arg;$f._arg$1=_arg$1;$f._arg$2=_arg$2;$f._arg$3=_arg$3;$f._r$10=_r$10;$f._r$11=_r$11;$f._r$12=_r$12;$f._r$13=_r$13;$f._r$14=_r$14;$f._r$15=_r$15;$f._r$16=_r$16;$f._r$17=_r$17;$f._r$18=_r$18;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._r$7=_r$7;$f._r$8=_r$8;$f._r$9=_r$9;$f.allowAddr=allowAddr;$f.t=t;$f.$s=$s;$f.$r=$r;return $f;};invalidValueEncoder=function(e,v,param){var e,param,v;e.Buffer.WriteString("null");};marshalerEncoder=function(e,v,opts){var _r$3,_r$4,_r$5,_tuple,_tuple$1,b,e,err,m,ok,opts,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_tuple=$f._tuple;_tuple$1=$f._tuple$1;b=$f.b;e=$f.e;err=$f.err;m=$f.m;ok=$f.ok;opts=$f.opts;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:if($clone(v,reflect.Value).Kind()===22&&$clone(v,reflect.Value).IsNil()){e.Buffer.WriteString("null");$s=-1;return;}_r$3=$clone(v,reflect.Value).Interface();/* */$s=1;case 1:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_tuple=$assertType(_r$3,Marshaler,true);m=_tuple[0];ok=_tuple[1];if(!ok){e.Buffer.WriteString("null");$s=-1;return;}_r$4=m.MarshalJSON();/* */$s=2;case 2:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}_tuple$1=_r$4;b=_tuple$1[0];err=_tuple$1[1];/* */if($interfaceIsEqual(err,$ifaceNil)){$s=3;continue;}/* */$s=4;continue;/* if ($interfaceIsEqual(err, $ifaceNil)) { */case 3:_r$5=compact(e.Buffer,b,opts.escapeHTML);/* */$s=5;case 5:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}err=_r$5;/* } */case 4:if(!$interfaceIsEqual(err,$ifaceNil)){e.error(new MarshalerError.ptr($clone(v,reflect.Value).Type(),err));}$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:marshalerEncoder};}$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f.b=b;$f.e=e;$f.err=err;$f.m=m;$f.ok=ok;$f.opts=opts;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};addrMarshalerEncoder=function(e,v,param){var _r$3,_r$4,_r$5,_tuple,b,e,err,m,param,v,va,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_tuple=$f._tuple;b=$f.b;e=$f.e;err=$f.err;m=$f.m;param=$f.param;v=$f.v;va=$f.va;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:va=$clone(v,reflect.Value).Addr();if($clone(va,reflect.Value).IsNil()){e.Buffer.WriteString("null");$s=-1;return;}_r$3=$clone(va,reflect.Value).Interface();/* */$s=1;case 1:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}m=$assertType(_r$3,Marshaler);_r$4=m.MarshalJSON();/* */$s=2;case 2:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}_tuple=_r$4;b=_tuple[0];err=_tuple[1];/* */if($interfaceIsEqual(err,$ifaceNil)){$s=3;continue;}/* */$s=4;continue;/* if ($interfaceIsEqual(err, $ifaceNil)) { */case 3:_r$5=compact(e.Buffer,b,true);/* */$s=5;case 5:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}err=_r$5;/* } */case 4:if(!$interfaceIsEqual(err,$ifaceNil)){e.error(new MarshalerError.ptr($clone(v,reflect.Value).Type(),err));}$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:addrMarshalerEncoder};}$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._tuple=_tuple;$f.b=b;$f.e=e;$f.err=err;$f.m=m;$f.param=param;$f.v=v;$f.va=va;$f.$s=$s;$f.$r=$r;return $f;};textMarshalerEncoder=function(e,v,opts){var _r$3,_r$4,_tuple,b,e,err,m,opts,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r$3=$f._r$3;_r$4=$f._r$4;_tuple=$f._tuple;b=$f.b;e=$f.e;err=$f.err;m=$f.m;opts=$f.opts;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:if($clone(v,reflect.Value).Kind()===22&&$clone(v,reflect.Value).IsNil()){e.Buffer.WriteString("null");$s=-1;return;}_r$3=$clone(v,reflect.Value).Interface();/* */$s=1;case 1:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}m=$assertType(_r$3,encoding.TextMarshaler);_r$4=m.MarshalText();/* */$s=2;case 2:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}_tuple=_r$4;b=_tuple[0];err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){e.error(new MarshalerError.ptr($clone(v,reflect.Value).Type(),err));}e.stringBytes(b,opts.escapeHTML);$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:textMarshalerEncoder};}$f._r$3=_r$3;$f._r$4=_r$4;$f._tuple=_tuple;$f.b=b;$f.e=e;$f.err=err;$f.m=m;$f.opts=opts;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};addrTextMarshalerEncoder=function(e,v,opts){var _r$3,_r$4,_tuple,b,e,err,m,opts,v,va,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r$3=$f._r$3;_r$4=$f._r$4;_tuple=$f._tuple;b=$f.b;e=$f.e;err=$f.err;m=$f.m;opts=$f.opts;v=$f.v;va=$f.va;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:va=$clone(v,reflect.Value).Addr();if($clone(va,reflect.Value).IsNil()){e.Buffer.WriteString("null");$s=-1;return;}_r$3=$clone(va,reflect.Value).Interface();/* */$s=1;case 1:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}m=$assertType(_r$3,encoding.TextMarshaler);_r$4=m.MarshalText();/* */$s=2;case 2:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}_tuple=_r$4;b=_tuple[0];err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){e.error(new MarshalerError.ptr($clone(v,reflect.Value).Type(),err));}e.stringBytes(b,opts.escapeHTML);$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:addrTextMarshalerEncoder};}$f._r$3=_r$3;$f._r$4=_r$4;$f._tuple=_tuple;$f.b=b;$f.e=e;$f.err=err;$f.m=m;$f.opts=opts;$f.v=v;$f.va=va;$f.$s=$s;$f.$r=$r;return $f;};boolEncoder=function(e,v,opts){var e,opts,v;if(opts.quoted){e.Buffer.WriteByte(34);}if($clone(v,reflect.Value).Bool()){e.Buffer.WriteString("true");}else{e.Buffer.WriteString("false");}if(opts.quoted){e.Buffer.WriteByte(34);}};intEncoder=function(e,v,opts){var b,e,opts,v;b=strconv.AppendInt($subslice(new sliceType$1(e.scratch),0,0),$clone(v,reflect.Value).Int(),10);if(opts.quoted){e.Buffer.WriteByte(34);}e.Buffer.Write(b);if(opts.quoted){e.Buffer.WriteByte(34);}};uintEncoder=function(e,v,opts){var b,e,opts,v;b=strconv.AppendUint($subslice(new sliceType$1(e.scratch),0,0),$clone(v,reflect.Value).Uint(),10);if(opts.quoted){e.Buffer.WriteByte(34);}e.Buffer.Write(b);if(opts.quoted){e.Buffer.WriteByte(34);}};floatEncoder.prototype.encode=function(e,v,opts){var abs,b,bits,e,f,fmt$1,n,opts,v,x,x$1,x$2,x$3,x$4;bits=this.$val;f=$clone(v,reflect.Value).Float();if(math.IsInf(f,0)||math.IsNaN(f)){e.error(new UnsupportedValueError.ptr($clone(v,reflect.Value),strconv.FormatFloat(f,103,-1,bits>>0)));}b=$subslice(new sliceType$1(e.scratch),0,0);abs=math.Abs(f);fmt$1=102;if(!(abs===0)){if(bits===64&&(abs<1e-06||abs>=1e+21)||bits===32&&($fround(abs)<9.999999974752427e-07||$fround(abs)>=1.0000000200408773e+21)){fmt$1=101;}}b=strconv.AppendFloat(b,f,fmt$1,-1,bits>>0);if(fmt$1===101){n=b.$length;if(n>=4&&(x=n-4>>0,x<0||x>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+x])===101&&(x$1=n-3>>0,x$1<0||x$1>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+x$1])===45&&(x$2=n-2>>0,x$2<0||x$2>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+x$2])===48){x$4=n-2>>0,x$4<0||x$4>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+x$4]=(x$3=n-1>>0,x$3<0||x$3>=b.$length?($throwRuntimeError("index out of range"),undefined):b.$array[b.$offset+x$3]);b=$subslice(b,0,n-1>>0);}}if(opts.quoted){e.Buffer.WriteByte(34);}e.Buffer.Write(b);if(opts.quoted){e.Buffer.WriteByte(34);}};$ptrType(floatEncoder).prototype.encode=function(e,v,opts){return new floatEncoder(this.$get()).encode(e,v,opts);};stringEncoder=function(e,v,opts){var _r$3,_r$4,_r$5,_r$6,_r$7,_tuple,e,err,numStr,opts,sb,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_r$7=$f._r$7;_tuple=$f._tuple;e=$f.e;err=$f.err;numStr=$f.numStr;opts=$f.opts;sb=$f.sb;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:/* */if($interfaceIsEqual($clone(v,reflect.Value).Type(),numberType)){$s=1;continue;}/* */$s=2;continue;/* if ($interfaceIsEqual($clone(v, reflect.Value).Type(), numberType)) { */case 1:_r$3=$clone(v,reflect.Value).String();/* */$s=3;case 3:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}numStr=_r$3;if(numStr===""){numStr="0";}/* */if(!isValidNumber(numStr)){$s=4;continue;}/* */$s=5;continue;/* if (!isValidNumber(numStr)) { */case 4:_r$4=fmt.Errorf("json: invalid number literal %q",new sliceType([new $String(numStr)]));/* */$s=6;case 6:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}$r=e.error(_r$4);/* */$s=7;case 7:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 5:e.Buffer.WriteString(numStr);$s=-1;return;/* } */case 2:/* */if(opts.quoted){$s=8;continue;}/* */$s=9;continue;/* if (opts.quoted) { */case 8:_r$5=$clone(v,reflect.Value).String();/* */$s=11;case 11:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}_r$6=Marshal(new $String(_r$5));/* */$s=12;case 12:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}_tuple=_r$6;sb=_tuple[0];err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){e.error(err);}e.string($bytesToString(sb),opts.escapeHTML);$s=10;continue;/* } else { */case 9:_r$7=$clone(v,reflect.Value).String();/* */$s=13;case 13:if($c){$c=false;_r$7=_r$7.$blk();}if(_r$7&&_r$7.$blk!==undefined){break s;}$r=e.string(_r$7,opts.escapeHTML);/* */$s=14;case 14:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 10:$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:stringEncoder};}$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._r$7=_r$7;$f._tuple=_tuple;$f.e=e;$f.err=err;$f.numStr=numStr;$f.opts=opts;$f.sb=sb;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};interfaceEncoder=function(e,v,opts){var _r$3,e,opts,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r$3=$f._r$3;e=$f.e;opts=$f.opts;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:if($clone(v,reflect.Value).IsNil()){e.Buffer.WriteString("null");$s=-1;return;}_r$3=$clone(v,reflect.Value).Elem();/* */$s=1;case 1:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}$r=e.reflectValue($clone(_r$3,reflect.Value),$clone(opts,encOpts));/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:interfaceEncoder};}$f._r$3=_r$3;$f.e=e;$f.opts=opts;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};unsupportedTypeEncoder=function(e,v,param){var e,param,v;e.error(new UnsupportedTypeError.ptr($clone(v,reflect.Value).Type()));};structEncoder.ptr.prototype.encode=function(e,v,opts){var _i,_i$1,_r$3,_r$4,_ref,_ref$1,e,f,fv,i,i$1,next,opts,se,v,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_i=$f._i;_i$1=$f._i$1;_r$3=$f._r$3;_r$4=$f._r$4;_ref=$f._ref;_ref$1=$f._ref$1;e=$f.e;f=$f.f;fv=$f.fv;i=$f.i;i$1=$f.i$1;next=$f.next;opts=$f.opts;se=$f.se;v=$f.v;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:se=this;next=123;_ref=se.fields;_i=0;/* while (true) { */case 1:/* if (!(_i < _ref.$length)) { break; } */if(!(_i<_ref.$length)){$s=2;continue;}i=_i;f=(x=se.fields,i<0||i>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+i]);fv=v;_ref$1=f.index;_i$1=0;/* while (true) { */case 3:/* if (!(_i$1 < _ref$1.$length)) { break; } */if(!(_i$1<_ref$1.$length)){$s=4;continue;}i$1=_i$1<0||_i$1>=_ref$1.$length?($throwRuntimeError("index out of range"),undefined):_ref$1.$array[_ref$1.$offset+_i$1];/* */if($clone(fv,reflect.Value).Kind()===22){$s=5;continue;}/* */$s=6;continue;/* if ($clone(fv, reflect.Value).Kind() === 22) { */case 5:/* */if($clone(fv,reflect.Value).IsNil()){$s=7;continue;}/* */$s=8;continue;/* if ($clone(fv, reflect.Value).IsNil()) { */case 7:_i++;/* continue FieldLoop; */$s=1;continue s;/* } */case 8:_r$3=$clone(fv,reflect.Value).Elem();/* */$s=9;case 9:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}fv=_r$3;/* } */case 6:_r$4=$clone(fv,reflect.Value).Field(i$1);/* */$s=10;case 10:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}fv=_r$4;_i$1++;/* } */$s=3;continue;case 4:/* */if(f.omitEmpty&&isEmptyValue($clone(fv,reflect.Value))){$s=11;continue;}/* */$s=12;continue;/* if (f.omitEmpty && isEmptyValue($clone(fv, reflect.Value))) { */case 11:_i++;/* continue; */$s=1;continue;/* } */case 12:e.Buffer.WriteByte(next);next=44;if(opts.escapeHTML){e.Buffer.WriteString(f.nameEscHTML);}else{e.Buffer.WriteString(f.nameNonEsc);}opts.quoted=f.quoted;$r=f.encoder(e,$clone(fv,reflect.Value),$clone(opts,encOpts));/* */$s=13;case 13:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}_i++;/* } */$s=1;continue;case 2:if(next===123){e.Buffer.WriteString("{}");}else{e.Buffer.WriteByte(125);}$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:structEncoder.ptr.prototype.encode};}$f._i=_i;$f._i$1=_i$1;$f._r$3=_r$3;$f._r$4=_r$4;$f._ref=_ref;$f._ref$1=_ref$1;$f.e=e;$f.f=f;$f.fv=fv;$f.i=i;$f.i$1=i$1;$f.next=next;$f.opts=opts;$f.se=se;$f.v=v;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};structEncoder.prototype.encode=function(e,v,opts){return this.$val.encode(e,v,opts);};newStructEncoder=function(t){var _r$3,se,t,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r$3=$f._r$3;se=$f.se;t=$f.t;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r$3=cachedTypeFields(t);/* */$s=1;case 1:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}se=new structEncoder.ptr(_r$3);$s=-1;return $methodVal($clone(se,structEncoder),"encode");/* */}return;}if($f===undefined){$f={$blk:newStructEncoder};}$f._r$3=_r$3;$f.se=se;$f.t=t;$f.$s=$s;$f.$r=$r;return $f;};mapEncoder.ptr.prototype.encode=function(e,v,opts){var _arg,_arg$1,_arg$2,_i,_i$1,_r$3,_r$4,_r$5,_ref,_ref$1,e,err,i,i$1,keys,kv,me,opts,sv,v,v$1,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_arg=$f._arg;_arg$1=$f._arg$1;_arg$2=$f._arg$2;_i=$f._i;_i$1=$f._i$1;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_ref=$f._ref;_ref$1=$f._ref$1;e=$f.e;err=$f.err;i=$f.i;i$1=$f.i$1;keys=$f.keys;kv=$f.kv;me=$f.me;opts=$f.opts;sv=$f.sv;v=$f.v;v$1=$f.v$1;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:sv=[sv];me=this;if($clone(v,reflect.Value).IsNil()){e.Buffer.WriteString("null");$s=-1;return;}e.Buffer.WriteByte(123);_r$3=$clone(v,reflect.Value).MapKeys();/* */$s=1;case 1:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}keys=_r$3;sv[0]=$makeSlice(sliceType$4,keys.$length);_ref=keys;_i=0;/* while (true) { */case 2:/* if (!(_i < _ref.$length)) { break; } */if(!(_i<_ref.$length)){$s=3;continue;}i=_i;v$1=_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i];(i<0||i>=sv[0].$length?($throwRuntimeError("index out of range"),undefined):sv[0].$array[sv[0].$offset+i]).v=v$1;_r$4=(i<0||i>=sv[0].$length?($throwRuntimeError("index out of range"),undefined):sv[0].$array[sv[0].$offset+i]).resolve();/* */$s=4;case 4:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}err=_r$4;if(!$interfaceIsEqual(err,$ifaceNil)){e.error(new MarshalerError.ptr($clone(v$1,reflect.Value).Type(),err));}_i++;/* } */$s=2;continue;case 3:$r=sort.Slice(sv[0],function(sv){return function(i$1,j){var i$1,j;return(i$1<0||i$1>=sv[0].$length?($throwRuntimeError("index out of range"),undefined):sv[0].$array[sv[0].$offset+i$1]).s<(j<0||j>=sv[0].$length?($throwRuntimeError("index out of range"),undefined):sv[0].$array[sv[0].$offset+j]).s;};}(sv));/* */$s=5;case 5:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}_ref$1=sv[0];_i$1=0;/* while (true) { */case 6:/* if (!(_i$1 < _ref$1.$length)) { break; } */if(!(_i$1<_ref$1.$length)){$s=7;continue;}i$1=_i$1;kv=$clone(_i$1<0||_i$1>=_ref$1.$length?($throwRuntimeError("index out of range"),undefined):_ref$1.$array[_ref$1.$offset+_i$1],reflectWithString);if(i$1>0){e.Buffer.WriteByte(44);}e.string(kv.s,opts.escapeHTML);e.Buffer.WriteByte(58);_arg=e;_r$5=$clone(v,reflect.Value).MapIndex($clone(kv.v,reflect.Value));/* */$s=8;case 8:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}_arg$1=$clone(_r$5,reflect.Value);_arg$2=$clone(opts,encOpts);$r=me.elemEnc(_arg,_arg$1,_arg$2);/* */$s=9;case 9:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}_i$1++;/* } */$s=6;continue;case 7:e.Buffer.WriteByte(125);$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:mapEncoder.ptr.prototype.encode};}$f._arg=_arg;$f._arg$1=_arg$1;$f._arg$2=_arg$2;$f._i=_i;$f._i$1=_i$1;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._ref=_ref;$f._ref$1=_ref$1;$f.e=e;$f.err=err;$f.i=i;$f.i$1=i$1;$f.keys=keys;$f.kv=kv;$f.me=me;$f.opts=opts;$f.sv=sv;$f.v=v;$f.v$1=v$1;$f.$s=$s;$f.$r=$r;return $f;};mapEncoder.prototype.encode=function(e,v,opts){return this.$val.encode(e,v,opts);};newMapEncoder=function(t){var _1,_r$3,_r$4,_r$5,_r$6,_r$7,_r$8,me,t,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_r$7=$f._r$7;_r$8=$f._r$8;me=$f.me;t=$f.t;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r$3=t.Key();/* */$s=2;case 2:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_r$4=_r$3.Kind();/* */$s=3;case 3:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}_1=_r$4;/* */if(_1===24||_1===2||_1===3||_1===4||_1===5||_1===6||_1===7||_1===8||_1===9||_1===10||_1===11||_1===12){$s=4;continue;}_r$5=t.Key();/* */$s=7;case 7:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}_r$6=_r$5.Implements(textMarshalerType);/* */$s=8;case 8:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}/* */if(!_r$6){$s=5;continue;}/* */$s=6;continue;/* if ((_1 === (24)) || (_1 === (2)) || (_1 === (3)) || (_1 === (4)) || (_1 === (5)) || (_1 === (6)) || (_1 === (7)) || (_1 === (8)) || (_1 === (9)) || (_1 === (10)) || (_1 === (11)) || (_1 === (12))) { */case 4:$s=6;continue;/* } else if (!_r$6) { */case 5:$s=-1;return unsupportedTypeEncoder;/* } */case 6:case 1:_r$7=t.Elem();/* */$s=9;case 9:if($c){$c=false;_r$7=_r$7.$blk();}if(_r$7&&_r$7.$blk!==undefined){break s;}_r$8=typeEncoder(_r$7);/* */$s=10;case 10:if($c){$c=false;_r$8=_r$8.$blk();}if(_r$8&&_r$8.$blk!==undefined){break s;}me=new mapEncoder.ptr(_r$8);$s=-1;return $methodVal($clone(me,mapEncoder),"encode");/* */}return;}if($f===undefined){$f={$blk:newMapEncoder};}$f._1=_1;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._r$7=_r$7;$f._r$8=_r$8;$f.me=me;$f.t=t;$f.$s=$s;$f.$r=$r;return $f;};encodeByteSlice=function(e,v,param){var _r$3,_r$4,_r$5,dst,dst$1,e,enc,encodedLen,param,s,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;dst=$f.dst;dst$1=$f.dst$1;e=$f.e;enc=$f.enc;encodedLen=$f.encodedLen;param=$f.param;s=$f.s;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:if($clone(v,reflect.Value).IsNil()){e.Buffer.WriteString("null");$s=-1;return;}_r$3=$clone(v,reflect.Value).Bytes();/* */$s=1;case 1:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}s=_r$3;e.Buffer.WriteByte(34);encodedLen=base64.StdEncoding.EncodedLen(s.$length);/* */if(encodedLen<=64){$s=2;continue;}/* */if(encodedLen<=1024){$s=3;continue;}/* */$s=4;continue;/* if (encodedLen <= 64) { */case 2:dst=$subslice(new sliceType$1(e.scratch),0,encodedLen);base64.StdEncoding.Encode(dst,s);e.Buffer.Write(dst);$s=5;continue;/* } else if (encodedLen <= 1024) { */case 3:dst$1=$makeSlice(sliceType$1,encodedLen);base64.StdEncoding.Encode(dst$1,s);e.Buffer.Write(dst$1);$s=5;continue;/* } else { */case 4:enc=base64.NewEncoder(base64.StdEncoding,e);_r$4=enc.Write(s);/* */$s=6;case 6:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}_r$4;_r$5=enc.Close();/* */$s=7;case 7:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}_r$5;/* } */case 5:e.Buffer.WriteByte(34);$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:encodeByteSlice};}$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f.dst=dst;$f.dst$1=dst$1;$f.e=e;$f.enc=enc;$f.encodedLen=encodedLen;$f.param=param;$f.s=s;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};sliceEncoder.ptr.prototype.encode=function(e,v,opts){var e,opts,se,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;e=$f.e;opts=$f.opts;se=$f.se;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:se=this;if($clone(v,reflect.Value).IsNil()){e.Buffer.WriteString("null");$s=-1;return;}$r=se.arrayEnc(e,$clone(v,reflect.Value),$clone(opts,encOpts));/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:sliceEncoder.ptr.prototype.encode};}$f.e=e;$f.opts=opts;$f.se=se;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};sliceEncoder.prototype.encode=function(e,v,opts){return this.$val.encode(e,v,opts);};newSliceEncoder=function(t){var _r$3,_r$4,_r$5,_r$6,_r$7,_r$8,_r$9,_v,enc,p,t,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_r$7=$f._r$7;_r$8=$f._r$8;_r$9=$f._r$9;_v=$f._v;enc=$f.enc;p=$f.p;t=$f.t;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r$3=t.Elem();/* */$s=3;case 3:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_r$4=_r$3.Kind();/* */$s=4;case 4:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}/* */if(_r$4===8){$s=1;continue;}/* */$s=2;continue;/* if (_r$4 === 8) { */case 1:_r$5=t.Elem();/* */$s=5;case 5:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}_r$6=reflect.PtrTo(_r$5);/* */$s=6;case 6:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}p=_r$6;_r$7=p.Implements(marshalerType);/* */$s=10;case 10:if($c){$c=false;_r$7=_r$7.$blk();}if(_r$7&&_r$7.$blk!==undefined){break s;}if(!!_r$7){_v=false;$s=9;continue s;}_r$8=p.Implements(textMarshalerType);/* */$s=11;case 11:if($c){$c=false;_r$8=_r$8.$blk();}if(_r$8&&_r$8.$blk!==undefined){break s;}_v=!_r$8;case 9:/* */if(_v){$s=7;continue;}/* */$s=8;continue;/* if (_v) { */case 7:$s=-1;return encodeByteSlice;/* } */case 8:/* } */case 2:_r$9=newArrayEncoder(t);/* */$s=12;case 12:if($c){$c=false;_r$9=_r$9.$blk();}if(_r$9&&_r$9.$blk!==undefined){break s;}enc=new sliceEncoder.ptr(_r$9);$s=-1;return $methodVal($clone(enc,sliceEncoder),"encode");/* */}return;}if($f===undefined){$f={$blk:newSliceEncoder};}$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._r$7=_r$7;$f._r$8=_r$8;$f._r$9=_r$9;$f._v=_v;$f.enc=enc;$f.p=p;$f.t=t;$f.$s=$s;$f.$r=$r;return $f;};arrayEncoder.ptr.prototype.encode=function(e,v,opts){var _arg,_arg$1,_arg$2,_r$3,ae,e,i,n,opts,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_arg=$f._arg;_arg$1=$f._arg$1;_arg$2=$f._arg$2;_r$3=$f._r$3;ae=$f.ae;e=$f.e;i=$f.i;n=$f.n;opts=$f.opts;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:ae=this;e.Buffer.WriteByte(91);n=$clone(v,reflect.Value).Len();i=0;/* while (true) { */case 1:/* if (!(i < n)) { break; } */if(!(i<n)){$s=2;continue;}if(i>0){e.Buffer.WriteByte(44);}_arg=e;_r$3=$clone(v,reflect.Value).Index(i);/* */$s=3;case 3:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_arg$1=$clone(_r$3,reflect.Value);_arg$2=$clone(opts,encOpts);$r=ae.elemEnc(_arg,_arg$1,_arg$2);/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}i=i+1>>0;/* } */$s=1;continue;case 2:e.Buffer.WriteByte(93);$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:arrayEncoder.ptr.prototype.encode};}$f._arg=_arg;$f._arg$1=_arg$1;$f._arg$2=_arg$2;$f._r$3=_r$3;$f.ae=ae;$f.e=e;$f.i=i;$f.n=n;$f.opts=opts;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};arrayEncoder.prototype.encode=function(e,v,opts){return this.$val.encode(e,v,opts);};newArrayEncoder=function(t){var _r$3,_r$4,enc,t,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r$3=$f._r$3;_r$4=$f._r$4;enc=$f.enc;t=$f.t;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r$3=t.Elem();/* */$s=1;case 1:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_r$4=typeEncoder(_r$3);/* */$s=2;case 2:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}enc=new arrayEncoder.ptr(_r$4);$s=-1;return $methodVal($clone(enc,arrayEncoder),"encode");/* */}return;}if($f===undefined){$f={$blk:newArrayEncoder};}$f._r$3=_r$3;$f._r$4=_r$4;$f.enc=enc;$f.t=t;$f.$s=$s;$f.$r=$r;return $f;};ptrEncoder.ptr.prototype.encode=function(e,v,opts){var _arg,_arg$1,_arg$2,_r$3,e,opts,pe,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_arg=$f._arg;_arg$1=$f._arg$1;_arg$2=$f._arg$2;_r$3=$f._r$3;e=$f.e;opts=$f.opts;pe=$f.pe;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:pe=this;if($clone(v,reflect.Value).IsNil()){e.Buffer.WriteString("null");$s=-1;return;}_arg=e;_r$3=$clone(v,reflect.Value).Elem();/* */$s=1;case 1:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_arg$1=$clone(_r$3,reflect.Value);_arg$2=$clone(opts,encOpts);$r=pe.elemEnc(_arg,_arg$1,_arg$2);/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:ptrEncoder.ptr.prototype.encode};}$f._arg=_arg;$f._arg$1=_arg$1;$f._arg$2=_arg$2;$f._r$3=_r$3;$f.e=e;$f.opts=opts;$f.pe=pe;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};ptrEncoder.prototype.encode=function(e,v,opts){return this.$val.encode(e,v,opts);};newPtrEncoder=function(t){var _r$3,_r$4,enc,t,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r$3=$f._r$3;_r$4=$f._r$4;enc=$f.enc;t=$f.t;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r$3=t.Elem();/* */$s=1;case 1:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_r$4=typeEncoder(_r$3);/* */$s=2;case 2:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}enc=new ptrEncoder.ptr(_r$4);$s=-1;return $methodVal($clone(enc,ptrEncoder),"encode");/* */}return;}if($f===undefined){$f={$blk:newPtrEncoder};}$f._r$3=_r$3;$f._r$4=_r$4;$f.enc=enc;$f.t=t;$f.$s=$s;$f.$r=$r;return $f;};condAddrEncoder.ptr.prototype.encode=function(e,v,opts){var ce,e,opts,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;ce=$f.ce;e=$f.e;opts=$f.opts;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:ce=this;/* */if($clone(v,reflect.Value).CanAddr()){$s=1;continue;}/* */$s=2;continue;/* if ($clone(v, reflect.Value).CanAddr()) { */case 1:$r=ce.canAddrEnc(e,$clone(v,reflect.Value),$clone(opts,encOpts));/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=3;continue;/* } else { */case 2:$r=ce.elseEnc(e,$clone(v,reflect.Value),$clone(opts,encOpts));/* */$s=5;case 5:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 3:$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:condAddrEncoder.ptr.prototype.encode};}$f.ce=ce;$f.e=e;$f.opts=opts;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};condAddrEncoder.prototype.encode=function(e,v,opts){return this.$val.encode(e,v,opts);};newCondAddrEncoder=function(canAddrEnc,elseEnc){var canAddrEnc,elseEnc,enc;enc=new condAddrEncoder.ptr(canAddrEnc,elseEnc);return $methodVal($clone(enc,condAddrEncoder),"encode");};isValidTag=function(s){var _i,_ref,_rune,c,s;if(s===""){return false;}_ref=s;_i=0;while(true){if(!(_i<_ref.length)){break;}_rune=$decodeRune(_ref,_i);c=_rune[0];if(strings.ContainsRune("!#$%&()*+-./:<=>?@[]^_{|}~ ",c)){}else if(!unicode.IsLetter(c)&&!unicode.IsDigit(c)){return false;}_i+=_rune[1];}return true;};typeByIndex=function(t,index){var _i,_r$3,_r$4,_r$5,_ref,i,index,t,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_i=$f._i;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_ref=$f._ref;i=$f.i;index=$f.index;t=$f.t;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_ref=index;_i=0;/* while (true) { */case 1:/* if (!(_i < _ref.$length)) { break; } */if(!(_i<_ref.$length)){$s=2;continue;}i=_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i];_r$3=t.Kind();/* */$s=5;case 5:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}/* */if(_r$3===22){$s=3;continue;}/* */$s=4;continue;/* if (_r$3 === 22) { */case 3:_r$4=t.Elem();/* */$s=6;case 6:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}t=_r$4;/* } */case 4:_r$5=t.Field(i);/* */$s=7;case 7:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}t=_r$5.Type;_i++;/* } */$s=1;continue;case 2:$s=-1;return t;/* */}return;}if($f===undefined){$f={$blk:typeByIndex};}$f._i=_i;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._ref=_ref;$f.i=i;$f.index=index;$f.t=t;$f.$s=$s;$f.$r=$r;return $f;};reflectWithString.ptr.prototype.resolve=function(){var _1,_r$3,_r$4,_r$5,_tuple,_tuple$1,buf,err,ok,tm,w,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_tuple=$f._tuple;_tuple$1=$f._tuple$1;buf=$f.buf;err=$f.err;ok=$f.ok;tm=$f.tm;w=$f.w;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:w=this;/* */if($clone(w.v,reflect.Value).Kind()===24){$s=1;continue;}/* */$s=2;continue;/* if ($clone(w.v, reflect.Value).Kind() === 24) { */case 1:_r$3=$clone(w.v,reflect.Value).String();/* */$s=3;case 3:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}w.s=_r$3;$s=-1;return $ifaceNil;/* } */case 2:_r$4=$clone(w.v,reflect.Value).Interface();/* */$s=4;case 4:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}_tuple=$assertType(_r$4,encoding.TextMarshaler,true);tm=_tuple[0];ok=_tuple[1];/* */if(ok){$s=5;continue;}/* */$s=6;continue;/* if (ok) { */case 5:_r$5=tm.MarshalText();/* */$s=7;case 7:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}_tuple$1=_r$5;buf=_tuple$1[0];err=_tuple$1[1];w.s=$bytesToString(buf);$s=-1;return err;/* } */case 6:_1=$clone(w.v,reflect.Value).Kind();if(_1===2||_1===3||_1===4||_1===5||_1===6){w.s=strconv.FormatInt($clone(w.v,reflect.Value).Int(),10);$s=-1;return $ifaceNil;}else if(_1===7||_1===8||_1===9||_1===10||_1===11||_1===12){w.s=strconv.FormatUint($clone(w.v,reflect.Value).Uint(),10);$s=-1;return $ifaceNil;}$panic(new $String("unexpected map key type"));$s=-1;return $ifaceNil;/* */}return;}if($f===undefined){$f={$blk:reflectWithString.ptr.prototype.resolve};}$f._1=_1;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f.buf=buf;$f.err=err;$f.ok=ok;$f.tm=tm;$f.w=w;$f.$s=$s;$f.$r=$r;return $f;};reflectWithString.prototype.resolve=function(){return this.$val.resolve();};encodeState.ptr.prototype.string=function(s,escapeHTML){var _1,_tuple,b,c,e,escapeHTML,i,s,size,start;e=this;e.Buffer.WriteByte(34);start=0;i=0;while(true){if(!(i<s.length)){break;}b=s.charCodeAt(i);if(b<128){if((b<0||b>=htmlSafeSet.length?($throwRuntimeError("index out of range"),undefined):htmlSafeSet[b])||!escapeHTML&&(b<0||b>=safeSet.length?($throwRuntimeError("index out of range"),undefined):safeSet[b])){i=i+1>>0;continue;}if(start<i){e.Buffer.WriteString($substring(s,start,i));}e.Buffer.WriteByte(92);_1=b;if(_1===92||_1===34){e.Buffer.WriteByte(b);}else if(_1===10){e.Buffer.WriteByte(110);}else if(_1===13){e.Buffer.WriteByte(114);}else if(_1===9){e.Buffer.WriteByte(116);}else{e.Buffer.WriteString("u00");e.Buffer.WriteByte(hex.charCodeAt(b>>>4<<24>>>24));e.Buffer.WriteByte(hex.charCodeAt((b&15)>>>0));}i=i+1>>0;start=i;continue;}_tuple=utf8.DecodeRuneInString($substring(s,i));c=_tuple[0];size=_tuple[1];if(c===65533&&size===1){if(start<i){e.Buffer.WriteString($substring(s,start,i));}e.Buffer.WriteString("\\ufffd");i=i+size>>0;start=i;continue;}if(c===8232||c===8233){if(start<i){e.Buffer.WriteString($substring(s,start,i));}e.Buffer.WriteString("\\u202");e.Buffer.WriteByte(hex.charCodeAt(c&15));i=i+size>>0;start=i;continue;}i=i+size>>0;}if(start<s.length){e.Buffer.WriteString($substring(s,start));}e.Buffer.WriteByte(34);};encodeState.prototype.string=function(s,escapeHTML){return this.$val.string(s,escapeHTML);};encodeState.ptr.prototype.stringBytes=function(s,escapeHTML){var _1,_tuple,b,c,e,escapeHTML,i,s,size,start;e=this;e.Buffer.WriteByte(34);start=0;i=0;while(true){if(!(i<s.$length)){break;}b=i<0||i>=s.$length?($throwRuntimeError("index out of range"),undefined):s.$array[s.$offset+i];if(b<128){if((b<0||b>=htmlSafeSet.length?($throwRuntimeError("index out of range"),undefined):htmlSafeSet[b])||!escapeHTML&&(b<0||b>=safeSet.length?($throwRuntimeError("index out of range"),undefined):safeSet[b])){i=i+1>>0;continue;}if(start<i){e.Buffer.Write($subslice(s,start,i));}e.Buffer.WriteByte(92);_1=b;if(_1===92||_1===34){e.Buffer.WriteByte(b);}else if(_1===10){e.Buffer.WriteByte(110);}else if(_1===13){e.Buffer.WriteByte(114);}else if(_1===9){e.Buffer.WriteByte(116);}else{e.Buffer.WriteString("u00");e.Buffer.WriteByte(hex.charCodeAt(b>>>4<<24>>>24));e.Buffer.WriteByte(hex.charCodeAt((b&15)>>>0));}i=i+1>>0;start=i;continue;}_tuple=utf8.DecodeRune($subslice(s,i));c=_tuple[0];size=_tuple[1];if(c===65533&&size===1){if(start<i){e.Buffer.Write($subslice(s,start,i));}e.Buffer.WriteString("\\ufffd");i=i+size>>0;start=i;continue;}if(c===8232||c===8233){if(start<i){e.Buffer.Write($subslice(s,start,i));}e.Buffer.WriteString("\\u202");e.Buffer.WriteByte(hex.charCodeAt(c&15));i=i+size>>0;start=i;continue;}i=i+size>>0;}if(start<s.$length){e.Buffer.Write($subslice(s,start));}e.Buffer.WriteByte(34);};encodeState.prototype.stringBytes=function(s,escapeHTML){return this.$val.stringBytes(s,escapeHTML);};byIndex.prototype.Len=function(){var x;x=this;return x.$length;};$ptrType(byIndex).prototype.Len=function(){return this.$get().Len();};byIndex.prototype.Swap=function(i,j){var _tmp,_tmp$1,i,j,x;x=this;_tmp=$clone(j<0||j>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+j],field);_tmp$1=$clone(i<0||i>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+i],field);field.copy(i<0||i>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+i],_tmp);field.copy(j<0||j>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+j],_tmp$1);};$ptrType(byIndex).prototype.Swap=function(i,j){return this.$get().Swap(i,j);};byIndex.prototype.Less=function(i,j){var _i,_ref,i,j,k,x,x$1,x$2,xik;x=this;_ref=(i<0||i>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+i]).index;_i=0;while(true){if(!(_i<_ref.$length)){break;}k=_i;xik=_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i];if(k>=(j<0||j>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+j]).index.$length){return false;}if(!(xik===(x$1=(j<0||j>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+j]).index,k<0||k>=x$1.$length?($throwRuntimeError("index out of range"),undefined):x$1.$array[x$1.$offset+k]))){return xik<(x$2=(j<0||j>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+j]).index,k<0||k>=x$2.$length?($throwRuntimeError("index out of range"),undefined):x$2.$array[x$2.$offset+k]);}_i++;}return(i<0||i>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+i]).index.$length<(j<0||j>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+j]).index.$length;};$ptrType(byIndex).prototype.Less=function(i,j){return this.$get().Less(i,j);};typeFields=function(t){var _1,_entry,_entry$1,_entry$2,_entry$3,_i,_i$1,_key,_key$1,_r$10,_r$11,_r$12,_r$13,_r$14,_r$15,_r$3,_r$4,_r$5,_r$6,_r$7,_r$8,_r$9,_ref,_ref$1,_tmp,_tmp$1,_tmp$2,_tmp$3,_tmp$4,_tmp$5,_tuple,_tuple$1,_v,_v$1,_v$2,advance,count,current,dominant,f,f$1,fi,field$1,fields,fj,ft,i,i$1,i$2,index,isUnexported,name,name$1,nameEscBuf,next,nextCount,ok,opts,out,quoted,sf,t,t$1,tag,tagged,visited,x,x$1,x$2,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_entry=$f._entry;_entry$1=$f._entry$1;_entry$2=$f._entry$2;_entry$3=$f._entry$3;_i=$f._i;_i$1=$f._i$1;_key=$f._key;_key$1=$f._key$1;_r$10=$f._r$10;_r$11=$f._r$11;_r$12=$f._r$12;_r$13=$f._r$13;_r$14=$f._r$14;_r$15=$f._r$15;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_r$7=$f._r$7;_r$8=$f._r$8;_r$9=$f._r$9;_ref=$f._ref;_ref$1=$f._ref$1;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tmp$2=$f._tmp$2;_tmp$3=$f._tmp$3;_tmp$4=$f._tmp$4;_tmp$5=$f._tmp$5;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_v=$f._v;_v$1=$f._v$1;_v$2=$f._v$2;advance=$f.advance;count=$f.count;current=$f.current;dominant=$f.dominant;f=$f.f;f$1=$f.f$1;fi=$f.fi;field$1=$f.field$1;fields=$f.fields;fj=$f.fj;ft=$f.ft;i=$f.i;i$1=$f.i$1;i$2=$f.i$2;index=$f.index;isUnexported=$f.isUnexported;name=$f.name;name$1=$f.name$1;nameEscBuf=$f.nameEscBuf;next=$f.next;nextCount=$f.nextCount;ok=$f.ok;opts=$f.opts;out=$f.out;quoted=$f.quoted;sf=$f.sf;t=$f.t;t$1=$f.t$1;tag=$f.tag;tagged=$f.tagged;visited=$f.visited;x=$f.x;x$1=$f.x$1;x$2=$f.x$2;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:fields=[fields];nameEscBuf=[nameEscBuf];current=new sliceType$3([]);next=new sliceType$3([new field.ptr("",sliceType$1.nil,$throwNilPointerError,"","",false,sliceType$2.nil,t,false,false,$throwNilPointerError)]);count=$makeMap(reflect.Type.keyFor,[]);nextCount=$makeMap(reflect.Type.keyFor,[]);visited=$makeMap(reflect.Type.keyFor,[]);fields[0]=sliceType$3.nil;nameEscBuf[0]=new bytes.Buffer.ptr(sliceType$1.nil,0,0);/* while (true) { */case 1:/* if (!(next.$length > 0)) { break; } */if(!(next.$length>0)){$s=2;continue;}_tmp=next;_tmp$1=$subslice(current,0,0);current=_tmp;next=_tmp$1;_tmp$2=nextCount;_tmp$3=$makeMap(reflect.Type.keyFor,[]);count=_tmp$2;nextCount=_tmp$3;_ref=current;_i=0;/* while (true) { */case 3:/* if (!(_i < _ref.$length)) { break; } */if(!(_i<_ref.$length)){$s=4;continue;}f=$clone(_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i],field);/* */if(_entry=visited[reflect.Type.keyFor(f.typ)],_entry!==undefined?_entry.v:false){$s=5;continue;}/* */$s=6;continue;/* if ((_entry = visited[reflect.Type.keyFor(f.typ)], _entry !== undefined ? _entry.v : false)) { */case 5:_i++;/* continue; */$s=3;continue;/* } */case 6:_key=f.typ;(visited||$throwRuntimeError("assignment to entry in nil map"))[reflect.Type.keyFor(_key)]={k:_key,v:true};i=0;/* while (true) { */case 7:_r$3=f.typ.NumField();/* */$s=9;case 9:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}/* if (!(i < _r$3)) { break; } */if(!(i<_r$3)){$s=8;continue;}_r$4=f.typ.Field(i);/* */$s=10;case 10:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}sf=$clone(_r$4,reflect.StructField);isUnexported=!(sf.PkgPath==="");/* */if(sf.Anonymous){$s=11;continue;}/* */if(isUnexported){$s=12;continue;}/* */$s=13;continue;/* if (sf.Anonymous) { */case 11:t$1=sf.Type;_r$5=t$1.Kind();/* */$s=16;case 16:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}/* */if(_r$5===22){$s=14;continue;}/* */$s=15;continue;/* if (_r$5 === 22) { */case 14:_r$6=t$1.Elem();/* */$s=17;case 17:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}t$1=_r$6;/* } */case 15:if(!isUnexported){_v=false;$s=20;continue s;}_r$7=t$1.Kind();/* */$s=21;case 21:if($c){$c=false;_r$7=_r$7.$blk();}if(_r$7&&_r$7.$blk!==undefined){break s;}_v=!(_r$7===25);case 20:/* */if(_v){$s=18;continue;}/* */$s=19;continue;/* if (_v) { */case 18:i=i+1>>0;/* continue; */$s=7;continue;/* } */case 19:$s=13;continue;/* } else if (isUnexported) { */case 12:i=i+1>>0;/* continue; */$s=7;continue;/* } */case 13:tag=new reflect.StructTag(sf.Tag).Get("json");/* */if(tag==="-"){$s=22;continue;}/* */$s=23;continue;/* if (tag === "-") { */case 22:i=i+1>>0;/* continue; */$s=7;continue;/* } */case 23:_tuple=parseTag(tag);name=_tuple[0];opts=_tuple[1];if(!isValidTag(name)){name="";}index=$makeSlice(sliceType$2,f.index.$length+1>>0);$copySlice(index,f.index);x=f.index.$length,x<0||x>=index.$length?($throwRuntimeError("index out of range"),undefined):index.$array[index.$offset+x]=i;ft=sf.Type;_r$8=ft.Name();/* */$s=27;case 27:if($c){$c=false;_r$8=_r$8.$blk();}if(_r$8&&_r$8.$blk!==undefined){break s;}if(!(_r$8==="")){_v$1=false;$s=26;continue s;}_r$9=ft.Kind();/* */$s=28;case 28:if($c){$c=false;_r$9=_r$9.$blk();}if(_r$9&&_r$9.$blk!==undefined){break s;}_v$1=_r$9===22;case 26:/* */if(_v$1){$s=24;continue;}/* */$s=25;continue;/* if (_v$1) { */case 24:_r$10=ft.Elem();/* */$s=29;case 29:if($c){$c=false;_r$10=_r$10.$blk();}if(_r$10&&_r$10.$blk!==undefined){break s;}ft=_r$10;/* } */case 25:quoted=false;/* */if(new tagOptions(opts).Contains("string")){$s=30;continue;}/* */$s=31;continue;/* if (new tagOptions(opts).Contains("string")) { */case 30:_r$11=ft.Kind();/* */$s=33;case 33:if($c){$c=false;_r$11=_r$11.$blk();}if(_r$11&&_r$11.$blk!==undefined){break s;}_1=_r$11;if(_1===1||_1===2||_1===3||_1===4||_1===5||_1===6||_1===7||_1===8||_1===9||_1===10||_1===11||_1===12||_1===13||_1===14||_1===24){quoted=true;}case 32:/* } */case 31:if(!(name==="")||!sf.Anonymous){_v$2=true;$s=36;continue s;}_r$12=ft.Kind();/* */$s=37;case 37:if($c){$c=false;_r$12=_r$12.$blk();}if(_r$12&&_r$12.$blk!==undefined){break s;}_v$2=!(_r$12===25);case 36:/* */if(_v$2){$s=34;continue;}/* */$s=35;continue;/* if (_v$2) { */case 34:tagged=!(name==="");if(name===""){name=sf.Name;}field$1=new field.ptr(name,sliceType$1.nil,$throwNilPointerError,"","",tagged,index,ft,new tagOptions(opts).Contains("omitempty"),quoted,$throwNilPointerError);field$1.nameBytes=new sliceType$1($stringToBytes(field$1.name));field$1.equalFold=foldFunc(field$1.nameBytes);nameEscBuf[0].Reset();nameEscBuf[0].WriteString("\"");HTMLEscape(nameEscBuf[0],field$1.nameBytes);nameEscBuf[0].WriteString("\":");field$1.nameEscHTML=nameEscBuf[0].String();field$1.nameNonEsc="\""+field$1.name+"\":";fields[0]=$append(fields[0],field$1);if((_entry$1=count[reflect.Type.keyFor(f.typ)],_entry$1!==undefined?_entry$1.v:0)>1){fields[0]=$append(fields[0],(x$1=fields[0].$length-1>>0,x$1<0||x$1>=fields[0].$length?($throwRuntimeError("index out of range"),undefined):fields[0].$array[fields[0].$offset+x$1]));}i=i+1>>0;/* continue; */$s=7;continue;/* } */case 35:_key$1=ft;(nextCount||$throwRuntimeError("assignment to entry in nil map"))[reflect.Type.keyFor(_key$1)]={k:_key$1,v:(_entry$2=nextCount[reflect.Type.keyFor(ft)],_entry$2!==undefined?_entry$2.v:0)+1>>0};/* */if((_entry$3=nextCount[reflect.Type.keyFor(ft)],_entry$3!==undefined?_entry$3.v:0)===1){$s=38;continue;}/* */$s=39;continue;/* if ((_entry$3 = nextCount[reflect.Type.keyFor(ft)], _entry$3 !== undefined ? _entry$3.v : 0) === 1) { */case 38:_r$13=ft.Name();/* */$s=40;case 40:if($c){$c=false;_r$13=_r$13.$blk();}if(_r$13&&_r$13.$blk!==undefined){break s;}next=$append(next,new field.ptr(_r$13,sliceType$1.nil,$throwNilPointerError,"","",false,index,ft,false,false,$throwNilPointerError));/* } */case 39:i=i+1>>0;/* } */$s=7;continue;case 8:_i++;/* } */$s=3;continue;case 4:/* } */$s=1;continue;case 2:$r=sort.Slice(fields[0],function(fields,nameEscBuf){return function(i$1,j){var i$1,j,x$2;x$2=fields[0];if(!((i$1<0||i$1>=x$2.$length?($throwRuntimeError("index out of range"),undefined):x$2.$array[x$2.$offset+i$1]).name===(j<0||j>=x$2.$length?($throwRuntimeError("index out of range"),undefined):x$2.$array[x$2.$offset+j]).name)){return(i$1<0||i$1>=x$2.$length?($throwRuntimeError("index out of range"),undefined):x$2.$array[x$2.$offset+i$1]).name<(j<0||j>=x$2.$length?($throwRuntimeError("index out of range"),undefined):x$2.$array[x$2.$offset+j]).name;}if(!((i$1<0||i$1>=x$2.$length?($throwRuntimeError("index out of range"),undefined):x$2.$array[x$2.$offset+i$1]).index.$length===(j<0||j>=x$2.$length?($throwRuntimeError("index out of range"),undefined):x$2.$array[x$2.$offset+j]).index.$length)){return(i$1<0||i$1>=x$2.$length?($throwRuntimeError("index out of range"),undefined):x$2.$array[x$2.$offset+i$1]).index.$length<(j<0||j>=x$2.$length?($throwRuntimeError("index out of range"),undefined):x$2.$array[x$2.$offset+j]).index.$length;}if(!((i$1<0||i$1>=x$2.$length?($throwRuntimeError("index out of range"),undefined):x$2.$array[x$2.$offset+i$1]).tag===(j<0||j>=x$2.$length?($throwRuntimeError("index out of range"),undefined):x$2.$array[x$2.$offset+j]).tag)){return(i$1<0||i$1>=x$2.$length?($throwRuntimeError("index out of range"),undefined):x$2.$array[x$2.$offset+i$1]).tag;}return $subslice(new byIndex(x$2.$array),x$2.$offset,x$2.$offset+x$2.$length).Less(i$1,j);};}(fields,nameEscBuf));/* */$s=41;case 41:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}out=$subslice(fields[0],0,0);_tmp$4=0;_tmp$5=0;advance=_tmp$4;i$1=_tmp$5;/* while (true) { */case 42:/* if (!(i$1 < fields[0].$length)) { break; } */if(!(i$1<fields[0].$length)){$s=43;continue;}fi=$clone(i$1<0||i$1>=fields[0].$length?($throwRuntimeError("index out of range"),undefined):fields[0].$array[fields[0].$offset+i$1],field);name$1=fi.name;advance=1;while(true){if(!(i$1+advance>>0<fields[0].$length)){break;}fj=$clone((x$2=i$1+advance>>0,x$2<0||x$2>=fields[0].$length?($throwRuntimeError("index out of range"),undefined):fields[0].$array[fields[0].$offset+x$2]),field);if(!(fj.name===name$1)){break;}advance=advance+1>>0;}if(advance===1){out=$append(out,fi);i$1=i$1+advance>>0;/* continue; */$s=42;continue;}_tuple$1=dominantField($subslice(fields[0],i$1,i$1+advance>>0));dominant=$clone(_tuple$1[0],field);ok=_tuple$1[1];if(ok){out=$append(out,dominant);}i$1=i$1+advance>>0;/* } */$s=42;continue;case 43:fields[0]=out;$r=sort.Sort($subslice(new byIndex(fields[0].$array),fields[0].$offset,fields[0].$offset+fields[0].$length));/* */$s=44;case 44:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}_ref$1=fields[0];_i$1=0;/* while (true) { */case 45:/* if (!(_i$1 < _ref$1.$length)) { break; } */if(!(_i$1<_ref$1.$length)){$s=46;continue;}i$2=_i$1;f$1=i$2<0||i$2>=fields[0].$length?($throwRuntimeError("index out of range"),undefined):fields[0].$array[fields[0].$offset+i$2];_r$14=typeByIndex(t,f$1.index);/* */$s=47;case 47:if($c){$c=false;_r$14=_r$14.$blk();}if(_r$14&&_r$14.$blk!==undefined){break s;}_r$15=typeEncoder(_r$14);/* */$s=48;case 48:if($c){$c=false;_r$15=_r$15.$blk();}if(_r$15&&_r$15.$blk!==undefined){break s;}f$1.encoder=_r$15;_i$1++;/* } */$s=45;continue;case 46:$s=-1;return fields[0];/* */}return;}if($f===undefined){$f={$blk:typeFields};}$f._1=_1;$f._entry=_entry;$f._entry$1=_entry$1;$f._entry$2=_entry$2;$f._entry$3=_entry$3;$f._i=_i;$f._i$1=_i$1;$f._key=_key;$f._key$1=_key$1;$f._r$10=_r$10;$f._r$11=_r$11;$f._r$12=_r$12;$f._r$13=_r$13;$f._r$14=_r$14;$f._r$15=_r$15;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._r$7=_r$7;$f._r$8=_r$8;$f._r$9=_r$9;$f._ref=_ref;$f._ref$1=_ref$1;$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tmp$2=_tmp$2;$f._tmp$3=_tmp$3;$f._tmp$4=_tmp$4;$f._tmp$5=_tmp$5;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._v=_v;$f._v$1=_v$1;$f._v$2=_v$2;$f.advance=advance;$f.count=count;$f.current=current;$f.dominant=dominant;$f.f=f;$f.f$1=f$1;$f.fi=fi;$f.field$1=field$1;$f.fields=fields;$f.fj=fj;$f.ft=ft;$f.i=i;$f.i$1=i$1;$f.i$2=i$2;$f.index=index;$f.isUnexported=isUnexported;$f.name=name;$f.name$1=name$1;$f.nameEscBuf=nameEscBuf;$f.next=next;$f.nextCount=nextCount;$f.ok=ok;$f.opts=opts;$f.out=out;$f.quoted=quoted;$f.sf=sf;$f.t=t;$f.t$1=t$1;$f.tag=tag;$f.tagged=tagged;$f.visited=visited;$f.x=x;$f.x$1=x$1;$f.x$2=x$2;$f.$s=$s;$f.$r=$r;return $f;};dominantField=function(fields){var fields;if(fields.$length>1&&(0>=fields.$length?($throwRuntimeError("index out of range"),undefined):fields.$array[fields.$offset+0]).index.$length===(1>=fields.$length?($throwRuntimeError("index out of range"),undefined):fields.$array[fields.$offset+1]).index.$length&&(0>=fields.$length?($throwRuntimeError("index out of range"),undefined):fields.$array[fields.$offset+0]).tag===(1>=fields.$length?($throwRuntimeError("index out of range"),undefined):fields.$array[fields.$offset+1]).tag){return[new field.ptr("",sliceType$1.nil,$throwNilPointerError,"","",false,sliceType$2.nil,$ifaceNil,false,false,$throwNilPointerError),false];}return[0>=fields.$length?($throwRuntimeError("index out of range"),undefined):fields.$array[fields.$offset+0],true];};cachedTypeFields=function(t){var _arg,_arg$1,_r$3,_r$4,_tuple,_tuple$1,f,f$1,ok,t,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_arg=$f._arg;_arg$1=$f._arg$1;_r$3=$f._r$3;_r$4=$f._r$4;_tuple=$f._tuple;_tuple$1=$f._tuple$1;f=$f.f;f$1=$f.f$1;ok=$f.ok;t=$f.t;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_tuple=fieldCache.Load(t);f=_tuple[0];ok=_tuple[1];if(ok){$s=-1;return $assertType(f,sliceType$3);}_arg=t;_r$3=typeFields(t);/* */$s=1;case 1:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_arg$1=_r$3;_r$4=fieldCache.LoadOrStore(_arg,_arg$1);/* */$s=2;case 2:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}_tuple$1=_r$4;f$1=_tuple$1[0];$s=-1;return $assertType(f$1,sliceType$3);/* */}return;}if($f===undefined){$f={$blk:cachedTypeFields};}$f._arg=_arg;$f._arg$1=_arg$1;$f._r$3=_r$3;$f._r$4=_r$4;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f.f=f;$f.f$1=f$1;$f.ok=ok;$f.t=t;$f.$s=$s;$f.$r=$r;return $f;};foldFunc=function(s){var _i,_ref,b,nonLetter,s,special,upper;nonLetter=false;special=false;_ref=s;_i=0;while(true){if(!(_i<_ref.$length)){break;}b=_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i];if(b>=128){return bytes.EqualFold;}upper=(b&223)>>>0;if(upper<65||upper>90){nonLetter=true;}else if(upper===75||upper===83){special=true;}_i++;}if(special){return equalFoldRight;}if(nonLetter){return asciiEqualFold;}return simpleLetterEqualFold;};equalFoldRight=function(s,t){var _1,_i,_ref,_tuple,s,sb,sbUpper,size,t,tb,tr;_ref=s;_i=0;while(true){if(!(_i<_ref.$length)){break;}sb=_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i];if(t.$length===0){return false;}tb=0>=t.$length?($throwRuntimeError("index out of range"),undefined):t.$array[t.$offset+0];if(tb<128){if(!(sb===tb)){sbUpper=(sb&223)>>>0;if(65<=sbUpper&&sbUpper<=90){if(!(sbUpper===(tb&223)>>>0)){return false;}}else{return false;}}t=$subslice(t,1);_i++;continue;}_tuple=utf8.DecodeRune(t);tr=_tuple[0];size=_tuple[1];_1=sb;if(_1===115||_1===83){if(!(tr===383)){return false;}}else if(_1===107||_1===75){if(!(tr===8490)){return false;}}else{return false;}t=$subslice(t,size);_i++;}if(t.$length>0){return false;}return true;};asciiEqualFold=function(s,t){var _i,_ref,i,s,sb,t,tb;if(!(s.$length===t.$length)){return false;}_ref=s;_i=0;while(true){if(!(_i<_ref.$length)){break;}i=_i;sb=_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i];tb=i<0||i>=t.$length?($throwRuntimeError("index out of range"),undefined):t.$array[t.$offset+i];if(sb===tb){_i++;continue;}if(97<=sb&&sb<=122||65<=sb&&sb<=90){if(!((sb&223)>>>0===(tb&223)>>>0)){return false;}}else{return false;}_i++;}return true;};simpleLetterEqualFold=function(s,t){var _i,_ref,b,i,s,t;if(!(s.$length===t.$length)){return false;}_ref=s;_i=0;while(true){if(!(_i<_ref.$length)){break;}i=_i;b=_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i];if(!((b&223)>>>0===((i<0||i>=t.$length?($throwRuntimeError("index out of range"),undefined):t.$array[t.$offset+i])&223)>>>0)){return false;}_i++;}return true;};compact=function(dst,src,escape){var _i,_r$3,_r$4,_ref,c,dst,escape,i,origLen,scan,src,start,v,x,x$1,x$2,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_i=$f._i;_r$3=$f._r$3;_r$4=$f._r$4;_ref=$f._ref;c=$f.c;dst=$f.dst;escape=$f.escape;i=$f.i;origLen=$f.origLen;scan=$f.scan;src=$f.src;start=$f.start;v=$f.v;x=$f.x;x$1=$f.x$1;x$2=$f.x$2;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:scan=[scan];origLen=dst.Len();scan[0]=new scanner.ptr($throwNilPointerError,false,sliceType$2.nil,$ifaceNil,new $Int64(0,0));scan[0].reset();start=0;_ref=src;_i=0;/* while (true) { */case 1:/* if (!(_i < _ref.$length)) { break; } */if(!(_i<_ref.$length)){$s=2;continue;}i=_i;c=_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i];if(escape&&(c===60||c===62||c===38)){if(start<i){dst.Write($subslice(src,start,i));}dst.WriteString("\\u00");dst.WriteByte(hex.charCodeAt(c>>>4<<24>>>24));dst.WriteByte(hex.charCodeAt((c&15)>>>0));start=i+1>>0;}if(c===226&&i+2>>0<src.$length&&(x=i+1>>0,x<0||x>=src.$length?($throwRuntimeError("index out of range"),undefined):src.$array[src.$offset+x])===128&&((x$1=i+2>>0,x$1<0||x$1>=src.$length?($throwRuntimeError("index out of range"),undefined):src.$array[src.$offset+x$1])&~1)<<24>>>24===168){if(start<i){dst.Write($subslice(src,start,i));}dst.WriteString("\\u202");dst.WriteByte(hex.charCodeAt(((x$2=i+2>>0,x$2<0||x$2>=src.$length?($throwRuntimeError("index out of range"),undefined):src.$array[src.$offset+x$2])&15)>>>0));start=i+3>>0;}_r$3=scan[0].step(scan[0],c);/* */$s=3;case 3:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}v=_r$3;if(v>=9){if(v===11){/* break; */$s=2;continue;}if(start<i){dst.Write($subslice(src,start,i));}start=i+1>>0;}_i++;/* } */$s=1;continue;case 2:_r$4=scan[0].eof();/* */$s=6;case 6:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}/* */if(_r$4===11){$s=4;continue;}/* */$s=5;continue;/* if (_r$4 === 11) { */case 4:dst.Truncate(origLen);$s=-1;return scan[0].err;/* } */case 5:if(start<src.$length){dst.Write($subslice(src,start));}$s=-1;return $ifaceNil;/* */}return;}if($f===undefined){$f={$blk:compact};}$f._i=_i;$f._r$3=_r$3;$f._r$4=_r$4;$f._ref=_ref;$f.c=c;$f.dst=dst;$f.escape=escape;$f.i=i;$f.origLen=origLen;$f.scan=scan;$f.src=src;$f.start=start;$f.v=v;$f.x=x;$f.x$1=x$1;$f.x$2=x$2;$f.$s=$s;$f.$r=$r;return $f;};checkValid=function(data,scan){var _i,_r$3,_r$4,_ref,c,data,scan,x,x$1,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_i=$f._i;_r$3=$f._r$3;_r$4=$f._r$4;_ref=$f._ref;c=$f.c;data=$f.data;scan=$f.scan;x=$f.x;x$1=$f.x$1;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:scan.reset();_ref=data;_i=0;/* while (true) { */case 1:/* if (!(_i < _ref.$length)) { break; } */if(!(_i<_ref.$length)){$s=2;continue;}c=_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i];scan.bytes=(x=scan.bytes,x$1=new $Int64(0,1),new $Int64(x.$high+x$1.$high,x.$low+x$1.$low));_r$3=scan.step(scan,c);/* */$s=5;case 5:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}/* */if(_r$3===11){$s=3;continue;}/* */$s=4;continue;/* if (_r$3 === 11) { */case 3:$s=-1;return scan.err;/* } */case 4:_i++;/* } */$s=1;continue;case 2:_r$4=scan.eof();/* */$s=8;case 8:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}/* */if(_r$4===11){$s=6;continue;}/* */$s=7;continue;/* if (_r$4 === 11) { */case 6:$s=-1;return scan.err;/* } */case 7:$s=-1;return $ifaceNil;/* */}return;}if($f===undefined){$f={$blk:checkValid};}$f._i=_i;$f._r$3=_r$3;$f._r$4=_r$4;$f._ref=_ref;$f.c=c;$f.data=data;$f.scan=scan;$f.x=x;$f.x$1=x$1;$f.$s=$s;$f.$r=$r;return $f;};SyntaxError.ptr.prototype.Error=function(){var e;e=this;return e.msg;};SyntaxError.prototype.Error=function(){return this.$val.Error();};scanner.ptr.prototype.reset=function(){var s;s=this;s.step=stateBeginValue;s.parseState=$subslice(s.parseState,0,0);s.err=$ifaceNil;s.endTop=false;};scanner.prototype.reset=function(){return this.$val.reset();};scanner.ptr.prototype.eof=function(){var _r$3,s,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r$3=$f._r$3;s=$f.s;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:s=this;if(!$interfaceIsEqual(s.err,$ifaceNil)){$s=-1;return 11;}if(s.endTop){$s=-1;return 10;}_r$3=s.step(s,32);/* */$s=1;case 1:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_r$3;if(s.endTop){$s=-1;return 10;}if($interfaceIsEqual(s.err,$ifaceNil)){s.err=new SyntaxError.ptr("unexpected end of JSON input",s.bytes);}$s=-1;return 11;/* */}return;}if($f===undefined){$f={$blk:scanner.ptr.prototype.eof};}$f._r$3=_r$3;$f.s=s;$f.$s=$s;$f.$r=$r;return $f;};scanner.prototype.eof=function(){return this.$val.eof();};scanner.ptr.prototype.pushParseState=function(p){var p,s;s=this;s.parseState=$append(s.parseState,p);};scanner.prototype.pushParseState=function(p){return this.$val.pushParseState(p);};scanner.ptr.prototype.popParseState=function(){var n,s;s=this;n=s.parseState.$length-1>>0;s.parseState=$subslice(s.parseState,0,n);if(n===0){s.step=stateEndTop;s.endTop=true;}else{s.step=stateEndValue;}};scanner.prototype.popParseState=function(){return this.$val.popParseState();};isSpace=function(c){var c;return c===32||c===9||c===13||c===10;};stateBeginValueOrEmpty=function(s,c){var c,s;if(c<=32&&isSpace(c)){return 9;}if(c===93){return stateEndValue(s,c);}return stateBeginValue(s,c);};stateBeginValue=function(s,c){var _1,c,s;if(c<=32&&isSpace(c)){return 9;}_1=c;if(_1===123){s.step=stateBeginStringOrEmpty;s.pushParseState(0);return 2;}else if(_1===91){s.step=stateBeginValueOrEmpty;s.pushParseState(2);return 6;}else if(_1===34){s.step=stateInString;return 1;}else if(_1===45){s.step=stateNeg;return 1;}else if(_1===48){s.step=state0;return 1;}else if(_1===116){s.step=stateT;return 1;}else if(_1===102){s.step=stateF;return 1;}else if(_1===110){s.step=stateN;return 1;}if(49<=c&&c<=57){s.step=state1;return 1;}return s.error(c,"looking for beginning of value");};stateBeginStringOrEmpty=function(s,c){var c,n,s,x,x$1;if(c<=32&&isSpace(c)){return 9;}if(c===125){n=s.parseState.$length;x=s.parseState,x$1=n-1>>0,x$1<0||x$1>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+x$1]=1;return stateEndValue(s,c);}return stateBeginString(s,c);};stateBeginString=function(s,c){var c,s;if(c<=32&&isSpace(c)){return 9;}if(c===34){s.step=stateInString;return 1;}return s.error(c,"looking for beginning of object key string");};stateEndValue=function(s,c){var _1,c,n,ps,s,x,x$1,x$2,x$3,x$4,x$5;n=s.parseState.$length;if(n===0){s.step=stateEndTop;s.endTop=true;return stateEndTop(s,c);}if(c<=32&&isSpace(c)){s.step=stateEndValue;return 9;}ps=(x=s.parseState,x$1=n-1>>0,x$1<0||x$1>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+x$1]);_1=ps;if(_1===0){if(c===58){x$2=s.parseState,x$3=n-1>>0,x$3<0||x$3>=x$2.$length?($throwRuntimeError("index out of range"),undefined):x$2.$array[x$2.$offset+x$3]=1;s.step=stateBeginValue;return 3;}return s.error(c,"after object key");}else if(_1===1){if(c===44){x$4=s.parseState,x$5=n-1>>0,x$5<0||x$5>=x$4.$length?($throwRuntimeError("index out of range"),undefined):x$4.$array[x$4.$offset+x$5]=0;s.step=stateBeginString;return 4;}if(c===125){s.popParseState();return 5;}return s.error(c,"after object key:value pair");}else if(_1===2){if(c===44){s.step=stateBeginValue;return 7;}if(c===93){s.popParseState();return 8;}return s.error(c,"after array element");}return s.error(c,"");};stateEndTop=function(s,c){var c,s;if(!isSpace(c)){s.error(c,"after top-level value");}return 10;};stateInString=function(s,c){var c,s;if(c===34){s.step=stateEndValue;return 0;}if(c===92){s.step=stateInStringEsc;return 0;}if(c<32){return s.error(c,"in string literal");}return 0;};stateInStringEsc=function(s,c){var _1,c,s;_1=c;if(_1===98||_1===102||_1===110||_1===114||_1===116||_1===92||_1===47||_1===34){s.step=stateInString;return 0;}else if(_1===117){s.step=stateInStringEscU;return 0;}return s.error(c,"in string escape code");};stateInStringEscU=function(s,c){var c,s;if(48<=c&&c<=57||97<=c&&c<=102||65<=c&&c<=70){s.step=stateInStringEscU1;return 0;}return s.error(c,"in \\u hexadecimal character escape");};stateInStringEscU1=function(s,c){var c,s;if(48<=c&&c<=57||97<=c&&c<=102||65<=c&&c<=70){s.step=stateInStringEscU12;return 0;}return s.error(c,"in \\u hexadecimal character escape");};stateInStringEscU12=function(s,c){var c,s;if(48<=c&&c<=57||97<=c&&c<=102||65<=c&&c<=70){s.step=stateInStringEscU123;return 0;}return s.error(c,"in \\u hexadecimal character escape");};stateInStringEscU123=function(s,c){var c,s;if(48<=c&&c<=57||97<=c&&c<=102||65<=c&&c<=70){s.step=stateInString;return 0;}return s.error(c,"in \\u hexadecimal character escape");};stateNeg=function(s,c){var c,s;if(c===48){s.step=state0;return 0;}if(49<=c&&c<=57){s.step=state1;return 0;}return s.error(c,"in numeric literal");};state1=function(s,c){var c,s;if(48<=c&&c<=57){s.step=state1;return 0;}return state0(s,c);};state0=function(s,c){var c,s;if(c===46){s.step=stateDot;return 0;}if(c===101||c===69){s.step=stateE;return 0;}return stateEndValue(s,c);};stateDot=function(s,c){var c,s;if(48<=c&&c<=57){s.step=stateDot0;return 0;}return s.error(c,"after decimal point in numeric literal");};stateDot0=function(s,c){var c,s;if(48<=c&&c<=57){return 0;}if(c===101||c===69){s.step=stateE;return 0;}return stateEndValue(s,c);};stateE=function(s,c){var c,s;if(c===43||c===45){s.step=stateESign;return 0;}return stateESign(s,c);};stateESign=function(s,c){var c,s;if(48<=c&&c<=57){s.step=stateE0;return 0;}return s.error(c,"in exponent of numeric literal");};stateE0=function(s,c){var c,s;if(48<=c&&c<=57){return 0;}return stateEndValue(s,c);};stateT=function(s,c){var c,s;if(c===114){s.step=stateTr;return 0;}return s.error(c,"in literal true (expecting 'r')");};stateTr=function(s,c){var c,s;if(c===117){s.step=stateTru;return 0;}return s.error(c,"in literal true (expecting 'u')");};stateTru=function(s,c){var c,s;if(c===101){s.step=stateEndValue;return 0;}return s.error(c,"in literal true (expecting 'e')");};stateF=function(s,c){var c,s;if(c===97){s.step=stateFa;return 0;}return s.error(c,"in literal false (expecting 'a')");};stateFa=function(s,c){var c,s;if(c===108){s.step=stateFal;return 0;}return s.error(c,"in literal false (expecting 'l')");};stateFal=function(s,c){var c,s;if(c===115){s.step=stateFals;return 0;}return s.error(c,"in literal false (expecting 's')");};stateFals=function(s,c){var c,s;if(c===101){s.step=stateEndValue;return 0;}return s.error(c,"in literal false (expecting 'e')");};stateN=function(s,c){var c,s;if(c===117){s.step=stateNu;return 0;}return s.error(c,"in literal null (expecting 'u')");};stateNu=function(s,c){var c,s;if(c===108){s.step=stateNul;return 0;}return s.error(c,"in literal null (expecting 'l')");};stateNul=function(s,c){var c,s;if(c===108){s.step=stateEndValue;return 0;}return s.error(c,"in literal null (expecting 'l')");};stateError=function(s,c){var c,s;return 11;};scanner.ptr.prototype.error=function(c,context){var c,context,s;s=this;s.step=stateError;s.err=new SyntaxError.ptr("invalid character "+quoteChar(c)+" "+context,s.bytes);return 11;};scanner.prototype.error=function(c,context){return this.$val.error(c,context);};quoteChar=function(c){var c,s;if(c===39){return"'\\''";}if(c===34){return"'\"'";}s=strconv.Quote($encodeRune(c));return"'"+$substring(s,1,s.length-1>>0)+"'";};parseTag=function(tag){var idx,tag;idx=strings.Index(tag,",");if(!(idx===-1)){return[$substring(tag,0,idx),$substring(tag,idx+1>>0)];}return[tag,""];};tagOptions.prototype.Contains=function(optionName){var _tmp,_tmp$1,i,next,o,optionName,s;o=this.$val;if(o.length===0){return false;}s=o;while(true){if(!!(s==="")){break;}next="";i=strings.Index(s,",");if(i>=0){_tmp=$substring(s,0,i);_tmp$1=$substring(s,i+1>>0);s=_tmp;next=_tmp$1;}if(s===optionName){return true;}s=next;}return false;};$ptrType(tagOptions).prototype.Contains=function(optionName){return new tagOptions(this.$get()).Contains(optionName);};ptrType$4.methods=[{prop:"Error",name:"Error",pkg:"",typ:$funcType([],[$String],false)}];ptrType$12.methods=[{prop:"Error",name:"Error",pkg:"",typ:$funcType([],[$String],false)}];Number.methods=[{prop:"String",name:"String",pkg:"",typ:$funcType([],[$String],false)},{prop:"Float64",name:"Float64",pkg:"",typ:$funcType([],[$Float64,$error],false)},{prop:"Int64",name:"Int64",pkg:"",typ:$funcType([],[$Int64,$error],false)}];ptrType$13.methods=[{prop:"unmarshal",name:"unmarshal",pkg:"encoding/json",typ:$funcType([$emptyInterface],[$error],false)},{prop:"readIndex",name:"readIndex",pkg:"encoding/json",typ:$funcType([],[$Int],false)},{prop:"init",name:"init",pkg:"encoding/json",typ:$funcType([sliceType$1],[ptrType$13],false)},{prop:"saveError",name:"saveError",pkg:"encoding/json",typ:$funcType([$error],[],false)},{prop:"addErrorContext",name:"addErrorContext",pkg:"encoding/json",typ:$funcType([$error],[$error],false)},{prop:"skip",name:"skip",pkg:"encoding/json",typ:$funcType([],[],false)},{prop:"scanNext",name:"scanNext",pkg:"encoding/json",typ:$funcType([],[],false)},{prop:"scanWhile",name:"scanWhile",pkg:"encoding/json",typ:$funcType([$Int],[],false)},{prop:"value",name:"value",pkg:"encoding/json",typ:$funcType([reflect.Value],[$error],false)},{prop:"valueQuoted",name:"valueQuoted",pkg:"encoding/json",typ:$funcType([],[$emptyInterface],false)},{prop:"array",name:"array",pkg:"encoding/json",typ:$funcType([reflect.Value],[$error],false)},{prop:"object",name:"object",pkg:"encoding/json",typ:$funcType([reflect.Value],[$error],false)},{prop:"convertNumber",name:"convertNumber",pkg:"encoding/json",typ:$funcType([$String],[$emptyInterface,$error],false)},{prop:"literalStore",name:"literalStore",pkg:"encoding/json",typ:$funcType([sliceType$1,reflect.Value,$Bool],[$error],false)},{prop:"valueInterface",name:"valueInterface",pkg:"encoding/json",typ:$funcType([],[$emptyInterface],false)},{prop:"arrayInterface",name:"arrayInterface",pkg:"encoding/json",typ:$funcType([],[sliceType],false)},{prop:"objectInterface",name:"objectInterface",pkg:"encoding/json",typ:$funcType([],[mapType],false)},{prop:"literalInterface",name:"literalInterface",pkg:"encoding/json",typ:$funcType([],[$emptyInterface],false)}];ptrType$14.methods=[{prop:"Error",name:"Error",pkg:"",typ:$funcType([],[$String],false)}];ptrType$15.methods=[{prop:"Error",name:"Error",pkg:"",typ:$funcType([],[$String],false)}];ptrType$17.methods=[{prop:"Error",name:"Error",pkg:"",typ:$funcType([],[$String],false)}];ptrType$7.methods=[{prop:"marshal",name:"marshal",pkg:"encoding/json",typ:$funcType([$emptyInterface,encOpts],[$error],false)},{prop:"error",name:"error",pkg:"encoding/json",typ:$funcType([$error],[],false)},{prop:"reflectValue",name:"reflectValue",pkg:"encoding/json",typ:$funcType([reflect.Value,encOpts],[],false)},{prop:"string",name:"string",pkg:"encoding/json",typ:$funcType([$String,$Bool],[],false)},{prop:"stringBytes",name:"stringBytes",pkg:"encoding/json",typ:$funcType([sliceType$1,$Bool],[],false)}];floatEncoder.methods=[{prop:"encode",name:"encode",pkg:"encoding/json",typ:$funcType([ptrType$7,reflect.Value,encOpts],[],false)}];structEncoder.methods=[{prop:"encode",name:"encode",pkg:"encoding/json",typ:$funcType([ptrType$7,reflect.Value,encOpts],[],false)}];mapEncoder.methods=[{prop:"encode",name:"encode",pkg:"encoding/json",typ:$funcType([ptrType$7,reflect.Value,encOpts],[],false)}];sliceEncoder.methods=[{prop:"encode",name:"encode",pkg:"encoding/json",typ:$funcType([ptrType$7,reflect.Value,encOpts],[],false)}];arrayEncoder.methods=[{prop:"encode",name:"encode",pkg:"encoding/json",typ:$funcType([ptrType$7,reflect.Value,encOpts],[],false)}];ptrEncoder.methods=[{prop:"encode",name:"encode",pkg:"encoding/json",typ:$funcType([ptrType$7,reflect.Value,encOpts],[],false)}];condAddrEncoder.methods=[{prop:"encode",name:"encode",pkg:"encoding/json",typ:$funcType([ptrType$7,reflect.Value,encOpts],[],false)}];ptrType$18.methods=[{prop:"resolve",name:"resolve",pkg:"encoding/json",typ:$funcType([],[$error],false)}];byIndex.methods=[{prop:"Len",name:"Len",pkg:"",typ:$funcType([],[$Int],false)},{prop:"Swap",name:"Swap",pkg:"",typ:$funcType([$Int,$Int],[],false)},{prop:"Less",name:"Less",pkg:"",typ:$funcType([$Int,$Int],[$Bool],false)}];ptrType$19.methods=[{prop:"Error",name:"Error",pkg:"",typ:$funcType([],[$String],false)}];ptrType$20.methods=[{prop:"reset",name:"reset",pkg:"encoding/json",typ:$funcType([],[],false)},{prop:"eof",name:"eof",pkg:"encoding/json",typ:$funcType([],[$Int],false)},{prop:"pushParseState",name:"pushParseState",pkg:"encoding/json",typ:$funcType([$Int],[],false)},{prop:"popParseState",name:"popParseState",pkg:"encoding/json",typ:$funcType([],[],false)},{prop:"error",name:"error",pkg:"encoding/json",typ:$funcType([$Uint8,$String],[$Int],false)}];tagOptions.methods=[{prop:"Contains",name:"Contains",pkg:"",typ:$funcType([$String],[$Bool],false)}];Unmarshaler.init([{prop:"UnmarshalJSON",name:"UnmarshalJSON",pkg:"",typ:$funcType([sliceType$1],[$error],false)}]);UnmarshalTypeError.init("",[{prop:"Value",name:"Value",embedded:false,exported:true,typ:$String,tag:""},{prop:"Type",name:"Type",embedded:false,exported:true,typ:reflect.Type,tag:""},{prop:"Offset",name:"Offset",embedded:false,exported:true,typ:$Int64,tag:""},{prop:"Struct",name:"Struct",embedded:false,exported:true,typ:$String,tag:""},{prop:"Field",name:"Field",embedded:false,exported:true,typ:$String,tag:""}]);InvalidUnmarshalError.init("",[{prop:"Type",name:"Type",embedded:false,exported:true,typ:reflect.Type,tag:""}]);decodeState.init("encoding/json",[{prop:"data",name:"data",embedded:false,exported:false,typ:sliceType$1,tag:""},{prop:"off",name:"off",embedded:false,exported:false,typ:$Int,tag:""},{prop:"opcode",name:"opcode",embedded:false,exported:false,typ:$Int,tag:""},{prop:"scan",name:"scan",embedded:false,exported:false,typ:scanner,tag:""},{prop:"errorContext",name:"errorContext",embedded:false,exported:false,typ:structType,tag:""},{prop:"savedError",name:"savedError",embedded:false,exported:false,typ:$error,tag:""},{prop:"useNumber",name:"useNumber",embedded:false,exported:false,typ:$Bool,tag:""},{prop:"disallowUnknownFields",name:"disallowUnknownFields",embedded:false,exported:false,typ:$Bool,tag:""}]);unquotedValue.init("",[]);Marshaler.init([{prop:"MarshalJSON",name:"MarshalJSON",pkg:"",typ:$funcType([],[sliceType$1,$error],false)}]);UnsupportedTypeError.init("",[{prop:"Type",name:"Type",embedded:false,exported:true,typ:reflect.Type,tag:""}]);UnsupportedValueError.init("",[{prop:"Value",name:"Value",embedded:false,exported:true,typ:reflect.Value,tag:""},{prop:"Str",name:"Str",embedded:false,exported:true,typ:$String,tag:""}]);MarshalerError.init("",[{prop:"Type",name:"Type",embedded:false,exported:true,typ:reflect.Type,tag:""},{prop:"Err",name:"Err",embedded:false,exported:true,typ:$error,tag:""}]);encodeState.init("encoding/json",[{prop:"Buffer",name:"Buffer",embedded:true,exported:true,typ:bytes.Buffer,tag:""},{prop:"scratch",name:"scratch",embedded:false,exported:false,typ:arrayType,tag:""}]);jsonError.init("encoding/json",[{prop:"error",name:"error",embedded:true,exported:false,typ:$error,tag:""}]);encOpts.init("encoding/json",[{prop:"quoted",name:"quoted",embedded:false,exported:false,typ:$Bool,tag:""},{prop:"escapeHTML",name:"escapeHTML",embedded:false,exported:false,typ:$Bool,tag:""}]);encoderFunc.init([ptrType$7,reflect.Value,encOpts],[],false);structEncoder.init("encoding/json",[{prop:"fields",name:"fields",embedded:false,exported:false,typ:sliceType$3,tag:""}]);mapEncoder.init("encoding/json",[{prop:"elemEnc",name:"elemEnc",embedded:false,exported:false,typ:encoderFunc,tag:""}]);sliceEncoder.init("encoding/json",[{prop:"arrayEnc",name:"arrayEnc",embedded:false,exported:false,typ:encoderFunc,tag:""}]);arrayEncoder.init("encoding/json",[{prop:"elemEnc",name:"elemEnc",embedded:false,exported:false,typ:encoderFunc,tag:""}]);ptrEncoder.init("encoding/json",[{prop:"elemEnc",name:"elemEnc",embedded:false,exported:false,typ:encoderFunc,tag:""}]);condAddrEncoder.init("encoding/json",[{prop:"canAddrEnc",name:"canAddrEnc",embedded:false,exported:false,typ:encoderFunc,tag:""},{prop:"elseEnc",name:"elseEnc",embedded:false,exported:false,typ:encoderFunc,tag:""}]);reflectWithString.init("encoding/json",[{prop:"v",name:"v",embedded:false,exported:false,typ:reflect.Value,tag:""},{prop:"s",name:"s",embedded:false,exported:false,typ:$String,tag:""}]);field.init("encoding/json",[{prop:"name",name:"name",embedded:false,exported:false,typ:$String,tag:""},{prop:"nameBytes",name:"nameBytes",embedded:false,exported:false,typ:sliceType$1,tag:""},{prop:"equalFold",name:"equalFold",embedded:false,exported:false,typ:funcType,tag:""},{prop:"nameNonEsc",name:"nameNonEsc",embedded:false,exported:false,typ:$String,tag:""},{prop:"nameEscHTML",name:"nameEscHTML",embedded:false,exported:false,typ:$String,tag:""},{prop:"tag",name:"tag",embedded:false,exported:false,typ:$Bool,tag:""},{prop:"index",name:"index",embedded:false,exported:false,typ:sliceType$2,tag:""},{prop:"typ",name:"typ",embedded:false,exported:false,typ:reflect.Type,tag:""},{prop:"omitEmpty",name:"omitEmpty",embedded:false,exported:false,typ:$Bool,tag:""},{prop:"quoted",name:"quoted",embedded:false,exported:false,typ:$Bool,tag:""},{prop:"encoder",name:"encoder",embedded:false,exported:false,typ:encoderFunc,tag:""}]);byIndex.init(field);SyntaxError.init("encoding/json",[{prop:"msg",name:"msg",embedded:false,exported:false,typ:$String,tag:""},{prop:"Offset",name:"Offset",embedded:false,exported:true,typ:$Int64,tag:""}]);scanner.init("encoding/json",[{prop:"step",name:"step",embedded:false,exported:false,typ:funcType$1,tag:""},{prop:"endTop",name:"endTop",embedded:false,exported:false,typ:$Bool,tag:""},{prop:"parseState",name:"parseState",embedded:false,exported:false,typ:sliceType$2,tag:""},{prop:"err",name:"err",embedded:false,exported:false,typ:$error,tag:""},{prop:"bytes",name:"bytes",embedded:false,exported:false,typ:$Int64,tag:""}]);$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=bytes.$init();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=encoding.$init();/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=base64.$init();/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=errors.$init();/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=fmt.$init();/* */$s=5;case 5:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=nosync.$init();/* */$s=6;case 6:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=io.$init();/* */$s=7;case 7:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=math.$init();/* */$s=8;case 8:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=reflect.$init();/* */$s=9;case 9:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=sort.$init();/* */$s=10;case 10:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=strconv.$init();/* */$s=11;case 11:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=strings.$init();/* */$s=12;case 12:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=unicode.$init();/* */$s=13;case 13:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=utf16.$init();/* */$s=14;case 14:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=utf8.$init();/* */$s=15;case 15:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}encodeStatePool=new nosync.Pool.ptr(sliceType.nil,$throwNilPointerError);encoderCache=new nosync.Map.ptr(false);fieldCache=new nosync.Map.ptr(false);nullLiteral=new sliceType$1($stringToBytes("null"));_r=reflect.TypeOf(ptrType.nil).Elem();/* */$s=16;case 16:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}textUnmarshalerType=_r;numberType=reflect.TypeOf(new Number(""));hex="0123456789abcdef";_r$1=reflect.TypeOf(ptrType$1.nil).Elem();/* */$s=17;case 17:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}marshalerType=_r$1;_r$2=reflect.TypeOf(ptrType$2.nil).Elem();/* */$s=18;case 18:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}textMarshalerType=_r$2;float32Encoder=$methodVal(new floatEncoder(32),"encode");float64Encoder=$methodVal(new floatEncoder(64),"encode");safeSet=$toNativeArray($kindBool,[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,true,true,false,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,false,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true]);htmlSafeSet=$toNativeArray($kindBool,[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,true,true,false,true,true,true,false,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,false,true,false,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,false,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true]);/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["app/tool/data"]=function(){var $pkg={},$init,json,fmt,rand,RobotProto,PilotProto,WeaponProto,ComponentProto,TerrainProto,TerrainMappingProto,ConfigProto,Data,sliceType,sliceType$2,sliceType$4,arrayType,arrayType$1,sliceType$6,sliceType$7,mapType,mapType$1,mapType$2,mapType$3,mapType$4,mapType$5,mapType$6,KesStringComponentProto,TryGetStringComponentProto,KesStringPilotProto,TryGetStringPilotProto,KesStringRobotProto,ValsStringRobotProto,TryGetStringRobotProto,AssocStringString,DissocStringString,KesStringWeaponProto,TryGetStringWeaponProto,GetSuitabilityIDBelongTerrain,init,RandRobotProto;json=$packages["encoding/json"];fmt=$packages["fmt"];rand=$packages["math/rand"];RobotProto=$pkg.RobotProto=$newType(0,$kindStruct,"data.RobotProto",true,"app/tool/data",true,function(ID_,Title_,Cost_,Power_,HP_,EN_,Weapons_,Components_,Suitability_,Transform_,UnlockExp_,Enemy_){this.$val=this;if(arguments.length===0){this.ID="";this.Title="";this.Cost=0;this.Power=0;this.HP=0;this.EN=0;this.Weapons=sliceType.nil;this.Components=sliceType.nil;this.Suitability=arrayType.zero();this.Transform=sliceType.nil;this.UnlockExp=0;this.Enemy=false;return;}this.ID=ID_;this.Title=Title_;this.Cost=Cost_;this.Power=Power_;this.HP=HP_;this.EN=EN_;this.Weapons=Weapons_;this.Components=Components_;this.Suitability=Suitability_;this.Transform=Transform_;this.UnlockExp=UnlockExp_;this.Enemy=Enemy_;});PilotProto=$pkg.PilotProto=$newType(0,$kindStruct,"data.PilotProto",true,"app/tool/data",true,function(ID_,Title_,Cost_,Melee_,Range_,Atk_,Evade_,Guard_,Tech_,Ability_,UnlockExp_){this.$val=this;if(arguments.length===0){this.ID="";this.Title="";this.Cost=0;this.Melee=0;this.Range=0;this.Atk=0;this.Evade=0;this.Guard=0;this.Tech=0;this.Ability=sliceType.nil;this.UnlockExp=0;return;}this.ID=ID_;this.Title=Title_;this.Cost=Cost_;this.Melee=Melee_;this.Range=Range_;this.Atk=Atk_;this.Evade=Evade_;this.Guard=Guard_;this.Tech=Tech_;this.Ability=Ability_;this.UnlockExp=UnlockExp_;});WeaponProto=$pkg.WeaponProto=$newType(0,$kindStruct,"data.WeaponProto",true,"app/tool/data",true,function(ID_,Title_,Cost_,Range_,EnergyCost_,MaxBulletCount_,Suitability_,Ability_,EnergyType_,Type_,Accuracy_,Damage_,Curage_,PowerCost_,UnlockExp_){this.$val=this;if(arguments.length===0){this.ID="";this.Title="";this.Cost=0;this.Range=arrayType$1.zero();this.EnergyCost=0;this.MaxBulletCount=0;this.Suitability=arrayType.zero();this.Ability=sliceType.nil;this.EnergyType="";this.Type="";this.Accuracy=0;this.Damage=0;this.Curage=0;this.PowerCost=0;this.UnlockExp=0;return;}this.ID=ID_;this.Title=Title_;this.Cost=Cost_;this.Range=Range_;this.EnergyCost=EnergyCost_;this.MaxBulletCount=MaxBulletCount_;this.Suitability=Suitability_;this.Ability=Ability_;this.EnergyType=EnergyType_;this.Type=Type_;this.Accuracy=Accuracy_;this.Damage=Damage_;this.Curage=Curage_;this.PowerCost=PowerCost_;this.UnlockExp=UnlockExp_;});ComponentProto=$pkg.ComponentProto=$newType(0,$kindStruct,"data.ComponentProto",true,"app/tool/data",true,function(ID_,Title_,Cost_,Desc_,Value_,PowerCost_,Action_,UnlockExp_){this.$val=this;if(arguments.length===0){this.ID="";this.Title="";this.Cost=0;this.Desc="";this.Value=sliceType.nil;this.PowerCost=0;this.Action="";this.UnlockExp=0;return;}this.ID=ID_;this.Title=Title_;this.Cost=Cost_;this.Desc=Desc_;this.Value=Value_;this.PowerCost=PowerCost_;this.Action=Action_;this.UnlockExp=UnlockExp_;});TerrainProto=$pkg.TerrainProto=$newType(0,$kindStruct,"data.TerrainProto",true,"app/tool/data",true,function(ID_,Title_,Cost_,HitRate_,Damage_){this.$val=this;if(arguments.length===0){this.ID="";this.Title="";this.Cost=arrayType.zero();this.HitRate=0;this.Damage=0;return;}this.ID=ID_;this.Title=Title_;this.Cost=Cost_;this.HitRate=HitRate_;this.Damage=Damage_;});TerrainMappingProto=$pkg.TerrainMappingProto=$newType(0,$kindStruct,"data.TerrainMappingProto",true,"app/tool/data",true,function(Terrain_){this.$val=this;if(arguments.length===0){this.Terrain="";return;}this.Terrain=Terrain_;});ConfigProto=$pkg.ConfigProto=$newType(0,$kindStruct,"data.ConfigProto",true,"app/tool/data",true,function(ID_,PowerCostForMove_,Award_,Robots_,Weapons_,Components_,Pilots_){this.$val=this;if(arguments.length===0){this.ID="";this.PowerCostForMove=0;this.Award=sliceType$7.nil;this.Robots=sliceType.nil;this.Weapons=sliceType.nil;this.Components=sliceType.nil;this.Pilots=sliceType.nil;return;}this.ID=ID_;this.PowerCostForMove=PowerCostForMove_;this.Award=Award_;this.Robots=Robots_;this.Weapons=Weapons_;this.Components=Components_;this.Pilots=Pilots_;});Data=$pkg.Data=$newType(0,$kindStruct,"data.Data",true,"app/tool/data",true,function(Robot_,Pilot_,Weapon_,Component_,TerrainMapping_,Terrain_,Config_){this.$val=this;if(arguments.length===0){this.Robot=false;this.Pilot=false;this.Weapon=false;this.Component=false;this.TerrainMapping=false;this.Terrain=false;this.Config=false;return;}this.Robot=Robot_;this.Pilot=Pilot_;this.Weapon=Weapon_;this.Component=Component_;this.TerrainMapping=TerrainMapping_;this.Terrain=Terrain_;this.Config=Config_;});sliceType=$sliceType($String);sliceType$2=$sliceType($emptyInterface);sliceType$4=$sliceType(RobotProto);arrayType=$arrayType($Float64,4);arrayType$1=$arrayType($Int,2);sliceType$6=$sliceType($Uint8);sliceType$7=$sliceType($Float64);mapType=$mapType($String,RobotProto);mapType$1=$mapType($String,PilotProto);mapType$2=$mapType($String,WeaponProto);mapType$3=$mapType($String,ComponentProto);mapType$4=$mapType($String,TerrainMappingProto);mapType$5=$mapType($String,TerrainProto);mapType$6=$mapType($String,ConfigProto);KesStringComponentProto=function(dict){var _entry,_i,_keys,_ref,dict,k,ret;ret=$makeSlice(sliceType,0,$keys(dict).length);_ref=dict;_i=0;_keys=$keys(_ref);while(true){if(!(_i<_keys.length)){break;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;continue;}k=_entry.k;ret=$append(ret,k);_i++;}return ret;};$pkg.KesStringComponentProto=KesStringComponentProto;TryGetStringComponentProto=function(a,k){var _entry,_r,_tuple,a,has,k,ret,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_r=$f._r;_tuple=$f._tuple;a=$f.a;has=$f.has;k=$f.k;ret=$f.ret;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_tuple=(_entry=a[$String.keyFor(k)],_entry!==undefined?[_entry.v,true]:[new ComponentProto.ptr("","",0,"",sliceType.nil,0,"",0),false]);ret=$clone(_tuple[0],ComponentProto);has=_tuple[1];/* */if(has===false){$s=1;continue;}/* */$s=2;continue;/* if (has === false) { */case 1:_r=fmt.Errorf("[TryGetStringComponentProto] key not found: %v",new sliceType$2([new $String(k)]));/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return[ret,_r];/* } */case 2:$s=-1;return[ret,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:TryGetStringComponentProto};}$f._entry=_entry;$f._r=_r;$f._tuple=_tuple;$f.a=a;$f.has=has;$f.k=k;$f.ret=ret;$f.$s=$s;$f.$r=$r;return $f;};$pkg.TryGetStringComponentProto=TryGetStringComponentProto;KesStringPilotProto=function(dict){var _entry,_i,_keys,_ref,dict,k,ret;ret=$makeSlice(sliceType,0,$keys(dict).length);_ref=dict;_i=0;_keys=$keys(_ref);while(true){if(!(_i<_keys.length)){break;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;continue;}k=_entry.k;ret=$append(ret,k);_i++;}return ret;};$pkg.KesStringPilotProto=KesStringPilotProto;TryGetStringPilotProto=function(a,k){var _entry,_r,_tuple,a,has,k,ret,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_r=$f._r;_tuple=$f._tuple;a=$f.a;has=$f.has;k=$f.k;ret=$f.ret;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_tuple=(_entry=a[$String.keyFor(k)],_entry!==undefined?[_entry.v,true]:[new PilotProto.ptr("","",0,0,0,0,0,0,0,sliceType.nil,0),false]);ret=$clone(_tuple[0],PilotProto);has=_tuple[1];/* */if(has===false){$s=1;continue;}/* */$s=2;continue;/* if (has === false) { */case 1:_r=fmt.Errorf("[TryGetStringPilotProto] key not found: %v",new sliceType$2([new $String(k)]));/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return[ret,_r];/* } */case 2:$s=-1;return[ret,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:TryGetStringPilotProto};}$f._entry=_entry;$f._r=_r;$f._tuple=_tuple;$f.a=a;$f.has=has;$f.k=k;$f.ret=ret;$f.$s=$s;$f.$r=$r;return $f;};$pkg.TryGetStringPilotProto=TryGetStringPilotProto;KesStringRobotProto=function(dict){var _entry,_i,_keys,_ref,dict,k,ret;ret=$makeSlice(sliceType,0,$keys(dict).length);_ref=dict;_i=0;_keys=$keys(_ref);while(true){if(!(_i<_keys.length)){break;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;continue;}k=_entry.k;ret=$append(ret,k);_i++;}return ret;};$pkg.KesStringRobotProto=KesStringRobotProto;ValsStringRobotProto=function(dict){var _entry,_i,_keys,_ref,dict,ret,v;ret=$makeSlice(sliceType$4,0,$keys(dict).length);_ref=dict;_i=0;_keys=$keys(_ref);while(true){if(!(_i<_keys.length)){break;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;continue;}v=$clone(_entry.v,RobotProto);ret=$append(ret,v);_i++;}return ret;};$pkg.ValsStringRobotProto=ValsStringRobotProto;TryGetStringRobotProto=function(a,k){var _entry,_r,_tuple,a,has,k,ret,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_r=$f._r;_tuple=$f._tuple;a=$f.a;has=$f.has;k=$f.k;ret=$f.ret;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_tuple=(_entry=a[$String.keyFor(k)],_entry!==undefined?[_entry.v,true]:[new RobotProto.ptr("","",0,0,0,0,sliceType.nil,sliceType.nil,arrayType.zero(),sliceType.nil,0,false),false]);ret=$clone(_tuple[0],RobotProto);has=_tuple[1];/* */if(has===false){$s=1;continue;}/* */$s=2;continue;/* if (has === false) { */case 1:_r=fmt.Errorf("[TryGetStringRobotProto] key not found: %v",new sliceType$2([new $String(k)]));/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return[ret,_r];/* } */case 2:$s=-1;return[ret,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:TryGetStringRobotProto};}$f._entry=_entry;$f._r=_r;$f._tuple=_tuple;$f.a=a;$f.has=has;$f.k=k;$f.ret=ret;$f.$s=$s;$f.$r=$r;return $f;};$pkg.TryGetStringRobotProto=TryGetStringRobotProto;AssocStringString=function(a,k,v){var _entry,_i,_key,_key$1,_keys,_ref,a,k,k$1,ret,v,v$1;ret=$makeMap($String.keyFor,[]);_ref=a;_i=0;_keys=$keys(_ref);while(true){if(!(_i<_keys.length)){break;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;continue;}k$1=_entry.k;v$1=_entry.v;_key=k$1;(ret||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key)]={k:_key,v:v$1};_i++;}_key$1=k;(ret||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key$1)]={k:_key$1,v:v};return ret;};$pkg.AssocStringString=AssocStringString;DissocStringString=function(a,k){var _entry,_i,_key,_keys,_ref,a,k,k$1,ret,v;ret=$makeMap($String.keyFor,[]);_ref=a;_i=0;_keys=$keys(_ref);while(true){if(!(_i<_keys.length)){break;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;continue;}k$1=_entry.k;v=_entry.v;_key=k$1;(ret||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key)]={k:_key,v:v};_i++;}delete ret[$String.keyFor(k)];return ret;};$pkg.DissocStringString=DissocStringString;KesStringWeaponProto=function(dict){var _entry,_i,_keys,_ref,dict,k,ret;ret=$makeSlice(sliceType,0,$keys(dict).length);_ref=dict;_i=0;_keys=$keys(_ref);while(true){if(!(_i<_keys.length)){break;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;continue;}k=_entry.k;ret=$append(ret,k);_i++;}return ret;};$pkg.KesStringWeaponProto=KesStringWeaponProto;TryGetStringWeaponProto=function(a,k){var _entry,_r,_tuple,a,has,k,ret,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_r=$f._r;_tuple=$f._tuple;a=$f.a;has=$f.has;k=$f.k;ret=$f.ret;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_tuple=(_entry=a[$String.keyFor(k)],_entry!==undefined?[_entry.v,true]:[new WeaponProto.ptr("","",0,arrayType$1.zero(),0,0,arrayType.zero(),sliceType.nil,"","",0,0,0,0,0),false]);ret=$clone(_tuple[0],WeaponProto);has=_tuple[1];/* */if(has===false){$s=1;continue;}/* */$s=2;continue;/* if (has === false) { */case 1:_r=fmt.Errorf("[TryGetStringWeaponProto] key not found: %v",new sliceType$2([new $String(k)]));/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return[ret,_r];/* } */case 2:$s=-1;return[ret,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:TryGetStringWeaponProto};}$f._entry=_entry;$f._r=_r;$f._tuple=_tuple;$f.a=a;$f.has=has;$f.k=k;$f.ret=ret;$f.$s=$s;$f.$r=$r;return $f;};$pkg.TryGetStringWeaponProto=TryGetStringWeaponProto;GetSuitabilityIDBelongTerrain=function(terrain){var _1,_r,terrain,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_r=$f._r;terrain=$f.terrain;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_1=terrain.ID;/* */if(_1==="shallowSea"||_1==="deepSea"){$s=2;continue;}/* */if(_1==="mountain"||_1==="plain"||_1==="forest"||_1==="road"||_1==="city"||_1==="beach"||_1==="award"){$s=3;continue;}/* */$s=4;continue;/* if (_1 === ("shallowSea") || _1 === ("deepSea")) { */case 2:$s=-1;return[1,$ifaceNil];/* } else if (_1 === ("mountain") || _1 === ("plain") || _1 === ("forest") || _1 === ("road") || _1 === ("city") || _1 === ("beach") || _1 === ("award")) { */case 3:$s=-1;return[0,$ifaceNil];/* } else { */case 4:_r=fmt.Errorf("unknown terrain(%v)\n",new sliceType$2([new $String(terrain.ID)]));/* */$s=6;case 6:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return[0,_r];/* } */case 5:case 1:$s=-1;return[0,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:GetSuitabilityIDBelongTerrain};}$f._1=_1;$f._r=_r;$f.terrain=terrain;$f.$s=$s;$f.$r=$r;return $f;};$pkg.GetSuitabilityIDBelongTerrain=GetSuitabilityIDBelongTerrain;init=function(){var _r,_r$1,_r$2,err,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;err=$f.err;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=json.Unmarshal(new sliceType$6($stringToBytes("{\n    \"component\": {\n        \"energy1\": {\n            \"id\": \"energy1\",\n            \"title\": \"\xE8\x83\xBD\xE9\x87\x8F\xE5\xA4\xBEL1\",\n            \"unlockExp\": 0,\n            \"cost\": 1000,\n            \"desc\": \"\xE5\xA2\x9E\xE5\x8A\xA0{0}\xE8\x83\xBD\xE9\x87\x8F.\",\n            \"value\": [\n                \"25\"\n            ],\n            \"powerCost\": 10,\n            \"action\": \"equipment\"\n        },\n        \"energy2\": {\n            \"id\": \"energy2\",\n            \"title\": \"\xE8\x83\xBD\xE9\x87\x8F\xE5\xA4\xBEL2\",\n            \"unlockExp\": 0,\n            \"cost\": 2000,\n            \"desc\": \"\xE5\xA2\x9E\xE5\x8A\xA0{0}\xE8\x83\xBD\xE9\x87\x8F.\",\n            \"value\": [\n                \"50\"\n            ],\n            \"powerCost\": 13,\n            \"action\": \"equipment\"\n        },\n        \"energy3\": {\n            \"id\": \"energy3\",\n            \"title\": \"\xE8\x83\xBD\xE9\x87\x8F\xE5\xA4\xBEL3\",\n            \"unlockExp\": 3,\n            \"cost\": 3000,\n            \"desc\": \"\xE5\xA2\x9E\xE5\x8A\xA0{0}\xE8\x83\xBD\xE9\x87\x8F.\",\n            \"value\": [\n                \"75\"\n            ],\n            \"powerCost\": 16,\n            \"action\": \"equipment\"\n        },\n        \"energy4\": {\n            \"id\": \"energy4\",\n            \"title\": \"\xE8\x83\xBD\xE9\x87\x8F\xE5\xA4\xBEL4\",\n            \"unlockExp\": 3,\n            \"cost\": 4000,\n            \"desc\": \"\xE5\xA2\x9E\xE5\x8A\xA0{0}\xE8\x83\xBD\xE9\x87\x8F.\",\n            \"value\": [\n                \"100\"\n            ],\n            \"powerCost\": 19,\n            \"action\": \"equipment\"\n        },\n        \"energy5\": {\n            \"id\": \"energy5\",\n            \"title\": \"\xE8\x83\xBD\xE9\x87\x8F\xE5\xA4\xBEL5\",\n            \"unlockExp\": 5,\n            \"cost\": 5000,\n            \"desc\": \"\xE5\xA2\x9E\xE5\x8A\xA0{0}\xE8\x83\xBD\xE9\x87\x8F.\",\n            \"value\": [\n                \"125\"\n            ],\n            \"powerCost\": 22,\n            \"action\": \"equipment\"\n        },\n        \"armor1\": {\n            \"id\": \"armor1\",\n            \"title\": \"\xE8\xA3\x9D\xE7\x94\xB2L1\",\n            \"unlockExp\": 0,\n            \"cost\": 1000,\n            \"desc\": \"\xE5\xA2\x9E\xE5\x8A\xA0{0}\xE8\x80\x90\xE4\xB9\x85. \xE8\xA2\xAB\xE5\xAF\xA6\xE5\xBD\x88\xE5\x82\xB7\xE5\xAE\xB3-{1}\",\n            \"value\": [\n                \"500.0\",\n                \"100.0\"\n            ],\n            \"powerCost\": 10,\n            \"action\": \"equipment\"\n        },\n        \"armor2\": {\n            \"id\": \"armor2\",\n            \"title\": \"\xE8\xA3\x9D\xE7\x94\xB2L2\",\n            \"unlockExp\": 0,\n            \"cost\": 2000,\n            \"desc\": \"\xE5\xA2\x9E\xE5\x8A\xA0{0}\xE8\x80\x90\xE4\xB9\x85. \xE8\xA2\xAB\xE5\xAF\xA6\xE5\xBD\x88\xE5\x82\xB7\xE5\xAE\xB3-{1}\",\n            \"value\": [\n                \"1000.0\",\n                \"200.0\"\n            ],\n            \"powerCost\": 13,\n            \"action\": \"equipment\"\n        },\n        \"armor3\": {\n            \"id\": \"armor3\",\n            \"title\": \"\xE8\xA3\x9D\xE7\x94\xB2L3\",\n            \"unlockExp\": 3,\n            \"cost\": 3000,\n            \"desc\": \"\xE5\xA2\x9E\xE5\x8A\xA0{0}\xE8\x80\x90\xE4\xB9\x85. \xE8\xA2\xAB\xE5\xAF\xA6\xE5\xBD\x88\xE5\x82\xB7\xE5\xAE\xB3-{1}\",\n            \"value\": [\n                \"1500.0\",\n                \"300.0\"\n            ],\n            \"powerCost\": 16,\n            \"action\": \"equipment\"\n        },\n        \"armor4\": {\n            \"id\": \"armor4\",\n            \"title\": \"\xE8\xA3\x9D\xE7\x94\xB2L4\",\n            \"unlockExp\": 3,\n            \"cost\": 4000,\n            \"desc\": \"\xE5\xA2\x9E\xE5\x8A\xA0{0}\xE8\x80\x90\xE4\xB9\x85. \xE8\xA2\xAB\xE5\xAF\xA6\xE5\xBD\x88\xE5\x82\xB7\xE5\xAE\xB3-{1}\",\n            \"value\": [\n                \"2000.0\",\n                \"400.0\"\n            ],\n            \"powerCost\": 19,\n            \"action\": \"equipment\"\n        },\n        \"armor5\": {\n            \"id\": \"armor5\",\n            \"title\": \"\xE8\xA3\x9D\xE7\x94\xB2L5\",\n            \"unlockExp\": 5,\n            \"cost\": 5000,\n            \"desc\": \"\xE5\xA2\x9E\xE5\x8A\xA0{0}\xE8\x80\x90\xE4\xB9\x85. \xE8\xA2\xAB\xE5\xAF\xA6\xE5\xBD\x88\xE5\x82\xB7\xE5\xAE\xB3-{1}\",\n            \"value\": [\n                \"2500.0\",\n                \"500.0\"\n            ],\n            \"powerCost\": 22,\n            \"action\": \"equipment\"\n        },\n        \"beam_armor1\": {\n            \"id\": \"beam_armor1\",\n            \"title\": \"\xE5\x85\x89\xE6\x9D\x9F\xE8\xA3\x9D\xE7\x94\xB2L1\",\n            \"unlockExp\": 0,\n            \"cost\": 1000,\n            \"desc\": \"\xE5\xA2\x9E\xE5\x8A\xA0{0}\xE8\x80\x90\xE4\xB9\x85. \xE8\xA2\xAB\xE5\x85\x89\xE6\x9D\x9F\xE5\x82\xB7\xE5\xAE\xB3-{1}\",\n            \"value\": [\n                \"500.0\",\n                \"100.0\"\n            ],\n            \"powerCost\": 10,\n            \"action\": \"equipment\"\n        },\n        \"beam_armor2\": {\n            \"id\": \"beam_armor2\",\n            \"title\": \"\xE5\x85\x89\xE6\x9D\x9F\xE8\xA3\x9D\xE7\x94\xB2L2\",\n            \"unlockExp\": 0,\n            \"cost\": 2000,\n            \"desc\": \"\xE5\xA2\x9E\xE5\x8A\xA0{0}\xE8\x80\x90\xE4\xB9\x85. \xE8\xA2\xAB\xE5\x85\x89\xE6\x9D\x9F\xE5\x82\xB7\xE5\xAE\xB3-{1}\",\n            \"value\": [\n                \"1000.0\",\n                \"200.0\"\n            ],\n            \"powerCost\": 13,\n            \"action\": \"equipment\"\n        },\n        \"beam_armor3\": {\n            \"id\": \"beam_armor3\",\n            \"title\": \"\xE5\x85\x89\xE6\x9D\x9F\xE8\xA3\x9D\xE7\x94\xB2L3\",\n            \"unlockExp\": 3,\n            \"cost\": 3000,\n            \"desc\": \"\xE5\xA2\x9E\xE5\x8A\xA0{0}\xE8\x80\x90\xE4\xB9\x85. \xE8\xA2\xAB\xE5\x85\x89\xE6\x9D\x9F\xE5\x82\xB7\xE5\xAE\xB3-{1}\",\n            \"value\": [\n                \"1500.0\",\n                \"300.0\"\n            ],\n            \"powerCost\": 16,\n            \"action\": \"equipment\"\n        },\n        \"beam_armor4\": {\n            \"id\": \"beam_armor4\",\n            \"title\": \"\xE5\x85\x89\xE6\x9D\x9F\xE8\xA3\x9D\xE7\x94\xB2L4\",\n            \"unlockExp\": 3,\n            \"cost\": 4000,\n            \"desc\": \"\xE5\xA2\x9E\xE5\x8A\xA0{0}\xE8\x80\x90\xE4\xB9\x85. \xE8\xA2\xAB\xE5\x85\x89\xE6\x9D\x9F\xE5\x82\xB7\xE5\xAE\xB3-{1}\",\n            \"value\": [\n                \"2000.0\",\n                \"400.0\"\n            ],\n            \"powerCost\": 19,\n            \"action\": \"equipment\"\n        },\n        \"beam_armor5\": {\n            \"id\": \"beam_armor5\",\n            \"title\": \"\xE5\x85\x89\xE6\x9D\x9F\xE8\xA3\x9D\xE7\x94\xB2L5\",\n            \"unlockExp\": 5,\n            \"cost\": 5000,\n            \"desc\": \"\xE5\xA2\x9E\xE5\x8A\xA0{0}\xE8\x80\x90\xE4\xB9\x85. \xE8\xA2\xAB\xE5\x85\x89\xE6\x9D\x9F\xE5\x82\xB7\xE5\xAE\xB3-{1}\",\n            \"value\": [\n                \"2500.0\",\n                \"500.0\"\n            ],\n            \"powerCost\": 22,\n            \"action\": \"equipment\"\n        },\n        \"fire_armor\": {\n            \"id\": \"fire_armor\",\n            \"title\": \"\xE9\x98\xB2\xE7\x81\xAB\xE8\xA3\x9D\xE7\x94\xB2\",\n            \"unlockExp\": 3,\n            \"cost\": 2000,\n            \"desc\": \"\xE5\xA2\x9E\xE5\x8A\xA0{0}\xE8\x80\x90\xE4\xB9\x85. \xE4\xB8\x8D\xE5\x8F\x97\xE7\x81\xAB\xE7\x84\xB0\xE6\xAD\xA6\xE5\x99\xA8\xE5\xBD\xB1\xE9\x9F\xBF. \xE8\xA2\xAB\xE7\x81\xAB\xE7\x84\xB0\xE5\x82\xB7\xE5\xAE\xB3-{1}\",\n            \"value\": [\n                \"500.0\",\n                \"1000.0\"\n            ],\n            \"powerCost\": 10,\n            \"action\": \"equipment\"\n        },\n        \"lighting_armor\": {\n            \"id\": \"lighting_armor\",\n            \"title\": \"\xE9\x98\xB2\xE9\x9B\xBB\xE8\xA3\x9D\xE7\x94\xB2\",\n            \"unlockExp\": 3,\n            \"cost\": 2000,\n            \"desc\": \"\xE5\xA2\x9E\xE5\x8A\xA0{0}\xE8\x80\x90\xE4\xB9\x85. \xE4\xB8\x8D\xE5\x8F\x97\xE9\x9B\xB7\xE9\x9B\xBB\xE6\xAD\xA6\xE5\x99\xA8\xE5\xBD\xB1\xE9\x9F\xBF. \xE8\xA2\xAB\xE9\x9B\xB7\xE9\x9B\xBB\xE5\x82\xB7\xE5\xAE\xB3-{1}\",\n            \"value\": [\n                \"500.0\",\n                \"1000.0\"\n            ],\n            \"powerCost\": 10,\n            \"action\": \"equipment\"\n        },\n        \"engine1\": {\n            \"id\": \"engine1\",\n            \"title\": \"\xE5\xBC\x95\xE6\x93\x8EL1\",\n            \"unlockExp\": 0,\n            \"cost\": 1000,\n            \"desc\": \"\xE5\xA2\x9E\xE5\x8A\xA0{0}power\",\n            \"value\": [\n                \"20\"\n            ],\n            \"powerCost\": 0,\n            \"action\": \"equipment\"\n        },\n        \"engine2\": {\n            \"id\": \"engine2\",\n            \"title\": \"\xE5\xBC\x95\xE6\x93\x8EL2\",\n            \"unlockExp\": 3,\n            \"cost\": 2000,\n            \"desc\": \"\xE5\xA2\x9E\xE5\x8A\xA0{0}power\",\n            \"value\": [\n                \"40\"\n            ],\n            \"powerCost\": 0,\n            \"action\": \"equipment\"\n        },\n        \"engine3\": {\n            \"id\": \"engine3\",\n            \"title\": \"\xE5\xBC\x95\xE6\x93\x8EL3\",\n            \"unlockExp\": 5,\n            \"cost\": 3000,\n            \"desc\": \"\xE5\xA2\x9E\xE5\x8A\xA0{0}power\",\n            \"value\": [\n                \"60\"\n            ],\n            \"powerCost\": 0,\n            \"action\": \"equipment\"\n        },\n        \"engine4\": {\n            \"id\": \"engine4\",\n            \"title\": \"\xE5\xBC\x95\xE6\x93\x8EL4\",\n            \"unlockExp\": 7,\n            \"cost\": 4000,\n            \"desc\": \"\xE5\xA2\x9E\xE5\x8A\xA0{0}power\",\n            \"value\": [\n                \"80\"\n            ],\n            \"powerCost\": 0,\n            \"action\": \"equipment\"\n        },\n        \"engine5\": {\n            \"id\": \"engine5\",\n            \"title\": \"\xE5\xBC\x95\xE6\x93\x8EL5\",\n            \"unlockExp\": 9,\n            \"cost\": 5000,\n            \"desc\": \"\xE5\xA2\x9E\xE5\x8A\xA0{0}power\",\n            \"value\": [\n                \"100\"\n            ],\n            \"powerCost\": 0,\n            \"action\": \"equipment\"\n        },\n        \"fixPack\": {\n            \"id\": \"fixPack\",\n            \"title\": \"\xE4\xBF\xAE\xE5\xBE\xA9\xE5\x8C\x85\",\n            \"unlockExp\": 0,\n            \"cost\": 1000,\n            \"desc\": \"\xE5\x9B\x9E\xE5\xBE\xA9{0}HP\",\n            \"value\": [\n                \"3000\"\n            ],\n            \"powerCost\": 10,\n            \"action\": \"item\"\n        },\n        \"energyPack\": {\n            \"id\": \"energyPack\",\n            \"title\": \"\xE8\x83\xBD\xE9\x87\x8F\xE5\x8C\x85\",\n            \"unlockExp\": 0,\n            \"cost\": 1000,\n            \"desc\": \"\xE5\x9B\x9E\xE5\xBE\xA9{0}EN\",\n            \"value\": [\n                \"80\"\n            ],\n            \"powerCost\": 10,\n            \"action\": \"item\"\n        },\n        \"bulletPack\": {\n            \"id\": \"bulletPack\",\n            \"title\": \"\xE5\xBD\x88\xE5\xA4\xBE\",\n            \"unlockExp\": 3,\n            \"cost\": 1000,\n            \"desc\": \"\xE6\x89\x80\xE6\x9C\x89\xE5\xBD\x88\xE8\x97\xA5\xE9\xA1\x9E\xE6\xAD\xA6\xE5\x99\xA8\xE5\xBD\x88\xE6\x95\xB8\xE8\xA3\x9C\xE5\x85\x85{0}\",\n            \"value\": [\n                \"3\"\n            ],\n            \"powerCost\": 10,\n            \"action\": \"item\"\n        },\n        \"shield\": {\n            \"id\": \"shield\",\n            \"title\": \"\xE7\x9B\xBE\",\n            \"unlockExp\": 3,\n            \"cost\": 1000,\n            \"desc\": \"\xE6\xA9\x9F\xE7\x8E\x87{0}\xE8\xA2\xAB\xE5\xAF\xA6\xE5\xBD\x88\xE5\x82\xB7\xE5\xAE\xB3-{1}.\",\n            \"value\": [\n                \"0.2\",\n                \"3000\"\n            ],\n            \"powerCost\": 10,\n            \"action\": \"equipment\"\n        },\n        \"beam_shield\": {\n            \"id\": \"beam_shield\",\n            \"title\": \"\xE5\x85\x89\xE6\x9D\x9F\xE7\x9B\xBE\",\n            \"unlockExp\": 3,\n            \"cost\": 1000,\n            \"desc\": \"\xE6\xA9\x9F\xE7\x8E\x87{0}\xE8\xA2\xAB\xE5\x85\x89\xE6\x9D\x9F\xE5\x82\xB7\xE5\xAE\xB3-{1}.\",\n            \"value\": [\n                \"0.2\",\n                \"3000\"\n            ],\n            \"powerCost\": 10,\n            \"action\": \"equipment\"\n        },\n        \"psArmor\": {\n            \"id\": \"psArmor\",\n            \"title\": \"ps\xE8\xA3\x9D\xE7\x94\xB2\",\n            \"unlockExp\": 3,\n            \"cost\": 3000,\n            \"desc\": \"\xE8\xA2\xAB\xE5\xAF\xA6\xE5\xBD\x88\xE5\x82\xB7\xE5\xAE\xB3-{1}\",\n            \"value\": [\n                \"2000\"\n            ],\n            \"powerCost\": 10,\n            \"action\": \"equipment\"\n        },\n        \"afterimage\": {\n            \"id\": \"afterimage\",\n            \"title\": \"\xE6\xAE\x98\xE5\x83\x8F\",\n            \"unlockExp\": 5,\n            \"cost\": 10000,\n            \"desc\": \"\xE6\xB0\xA3\xE5\x8A\x9B{0}\xE4\xBB\xA5\xE4\xB8\x8A\xE6\x99\x82, \xE6\xA9\x9F\xE7\x8E\x87{1}\xE9\x96\x83\xE9\x81\xBF\xE6\x94\xBB\xE6\x93\x8A\",\n            \"value\": [\n                \"130\",\n                \"0.7\"\n            ],\n            \"powerCost\": 30,\n            \"action\": \"equipment\"\n        },\n        \"defensiveWeapon\": {\n            \"id\": \"defensiveWeapon\",\n            \"title\": \"\xE9\x98\xB2\xE7\xA6\xA6\xE5\x85\xB5\xE5\x99\xA8\",\n            \"unlockExp\": 5,\n            \"cost\": 1000,\n            \"desc\": \"\xE4\xBE\x9D\xE6\x8A\x80\xE9\x87\x8F\xE6\x9C\x89\xE6\xA9\x9F\xE7\x8E\x87\xE9\x98\xB2\xE7\xA6\xA6[\xE9\xA3\x9B\xE8\xA1\x8C\xE5\x85\xB5\xE5\x99\xA8]\",\n            \"value\": [],\n            \"powerCost\": 10,\n            \"action\": \"equipment\"\n        },\n        \"zeroSystem\": {\n            \"id\": \"zeroSystem\",\n            \"title\": \"\xE9\x9B\xB6\xE5\xBC\x8F\xE7\xB3\xBB\xE7\xB5\xB1\",\n            \"unlockExp\": 5,\n            \"cost\": 1000,\n            \"desc\": \"\xE6\xAD\xA6\xE5\x99\xA8\xE7\x9A\x84\xE6\x9C\x80\xE7\xB5\x82\xE5\x91\xBD\xE4\xB8\xAD\xE5\xA2\x9E\xE5\x8A\xA0{0}%\xEF\xBC\x8C\xE8\x87\xAA\xE8\xBA\xAB\xE7\x9A\x84\xE6\x9C\x80\xE7\xB5\x82\xE8\xA2\xAB\xE5\x91\xBD\xE4\xB8\xAD\xE7\x8E\x87\xE6\xB8\x9B\xE5\xB0\x91{1}%\",\n            \"value\": [\n                \"10\",\n                \"15\"\n            ],\n            \"powerCost\": 10,\n            \"action\": \"equipment\"\n        },\n        \"shejililiang\": {\n            \"id\": \"shejililiang\",\n            \"title\": \"\xE5\xB0\x84\xE6\x93\x8A\xE5\x8A\x9B\xE9\x87\x8F\",\n            \"unlockExp\": 5,\n            \"cost\": 1000,\n            \"desc\": \"\xE5\xB0\x84\xE6\x93\x8A\xE7\xB3\xBB\xE6\xAD\xA6\xE5\x99\xA8\xE5\xB0\x84\xE7\xA8\x8B\xE5\xA2\x9E\xE5\x8A\xA0{0}\",\n            \"value\": [\n                \"1\"\n            ],\n            \"powerCost\": 10,\n            \"action\": \"equipment\"\n        },\n        \"gedouliliang\": {\n            \"id\": \"gedouliliang\",\n            \"title\": \"\xE6\xA0\xBC\xE9\xAC\xA5\xE5\x8A\x9B\xE9\x87\x8F\",\n            \"unlockExp\": 5,\n            \"cost\": 1000,\n            \"desc\": \"\xE6\xA0\xBC\xE9\xAC\xA5\xE7\xB3\xBB\xE6\xAD\xA6\xE5\x99\xA8\xE5\xB0\x84\xE7\xA8\x8B\xE5\xA2\x9E\xE5\x8A\xA0{0}\",\n            \"value\": [\n                \"1\"\n            ],\n            \"powerCost\": 10,\n            \"action\": \"equipment\"\n        },\n        \"gushou\": {\n            \"id\": \"gushou\",\n            \"title\": \"\xE5\x9B\xBA\xE5\xAE\x88\",\n            \"unlockExp\": 5,\n            \"cost\": 1000,\n            \"desc\": \"\xE9\x80\x99\xE5\x80\x8B\xE5\x9B\x9E\xE5\x90\x88\xE6\xB2\x92\xE6\x9C\x89\xE6\x94\xBB\xE6\x93\x8A\xE7\x9A\x84\xE8\xA9\xB1\xEF\xBC\x8C\xE4\xB8\x8B\xE5\x80\x8B\xE5\x90\x88\xE5\x9B\x9E\xE9\x96\x8B\xE5\xA7\x8B\xE5\x89\x8D\xE5\x8F\x97\xE5\x82\xB7\xE5\xAE\xB3\xE6\xB8\x9B\xE5\xB0\x91{0}\",\n            \"value\": [\n                \"1000\"\n            ],\n            \"powerCost\": 10,\n            \"action\": \"equipment\"\n        },\n        \"gedouwang\": {\n            \"id\": \"gedouwang\",\n            \"title\": \"\xE6\xA0\xBC\xE9\xAC\xA5\xE7\x8E\x8B\",\n            \"unlockExp\": 5,\n            \"cost\": 1000,\n            \"desc\": \"\xE8\x8B\xA5\xE6\x89\x80\xE6\x9C\x89\xE6\xAD\xA6\xE5\x99\xA8\xE9\x83\xBD\xE6\x98\xAF\xE6\xA0\xBC\xE9\xAC\xA5\xE7\xB3\xBB\xEF\xBC\x8C\xE6\xAD\xA6\xE5\x99\xA8\xE5\x82\xB7\xE5\xAE\xB3*{0}%, \xE5\x9B\x9E\xE9\x81\xBF*{1}%\",\n            \"value\": [\n                \"1.2\",\n                \"1.2\"\n            ],\n            \"powerCost\": 10,\n            \"action\": \"equipment\"\n        },\n        \"shejiwang\": {\n            \"id\": \"shejiwang\",\n            \"title\": \"\xE5\xB0\x84\xE6\x93\x8A\xE7\x8E\x8B\",\n            \"unlockExp\": 5,\n            \"cost\": 1000,\n            \"desc\": \"\xE8\x8B\xA5\xE6\x89\x80\xE6\x9C\x89\xE6\xAD\xA6\xE5\x99\xA8\xE9\x83\xBD\xE6\x98\xAF\xE5\xB0\x84\xE6\x93\x8A\xE7\xB3\xBB\xEF\xBC\x8C\xE5\xB0\x84\xE6\x93\x8A\xE5\x82\xB7\xE5\xAE\xB3*{0}%, \xE5\x8F\x97\xE5\x82\xB7\xE5\xAE\xB3\xE6\xB8\x9B\xE5\xB0\x91{0}\",\n            \"value\": [\n                \"1.2\",\n                \"500\"\n            ],\n            \"powerCost\": 10,\n            \"action\": \"equipment\"\n        },\n        \"feixingwang\": {\n            \"id\": \"feixingwang\",\n            \"title\": \"\xE9\xA3\x9B\xE8\xA1\x8C\xE7\x8E\x8B\",\n            \"unlockExp\": 5,\n            \"cost\": 1000,\n            \"desc\": \"\xE9\xA3\x9B\xE8\xA1\x8C\xE7\x8B\x80\xE6\x85\x8B\xE6\x99\x82\xEF\xBC\x8C\xE7\xA7\xBB\xE5\x8B\x95\xE5\x8A\x9B+{0}\xEF\xBC\x8C\xE5\x9B\x9E\xE9\x81\xBF+{1}%\",\n            \"value\": [\n                \"2\",\n                \"1.2\"\n            ],\n            \"powerCost\": 10,\n            \"action\": \"equipment\"\n        },\n        \"shengwuzhuangjia\": {\n            \"id\": \"shengwuzhuangjia\",\n            \"title\": \"\xE7\x94\x9F\xE7\x89\xA9\xE8\xA3\x9D\xE7\x94\xB2\",\n            \"unlockExp\": 5,\n            \"cost\": 1000,\n            \"desc\": \"\xE5\xA2\x9E\xE5\x8A\xA0{0}\xE8\xA3\x9D\xE4\xB8\xAD. \xE6\xAF\x8F\xE5\x9B\x9E\xE5\x90\x88\xE9\x96\x8B\xE5\xA7\x8B\xE5\x9B\x9E\xE5\xBE\xA9{1}%\xE6\x9C\x80\xE5\xA4\xA7hp.\",\n            \"value\": [\n                \"300\",\n                \"0.1\"\n            ],\n            \"powerCost\": 10,\n            \"action\": \"equipment\"\n        },\n        \"feixingqi\": {\n            \"id\": \"feixingqi\",\n            \"title\": \"\xE9\xA3\x9B\xE8\xA1\x8C\xE5\x99\xA8\",\n            \"unlockExp\": 5,\n            \"cost\": 1000,\n            \"desc\": \"\xE7\xA9\xBA\xE4\xB8\xAD\xE9\x81\xA9\xE6\x80\xA7\xE8\xAE\x8A\xE6\x88\x90{0}\",\n            \"value\": [\n                \"0.8\"\n            ],\n            \"powerCost\": 10,\n            \"action\": \"equipment\"\n        },\n        \"pensheqidian\": {\n            \"id\": \"pensheqidian\",\n            \"title\": \"\xE5\x99\xB4\xE5\xB0\x84\xE6\xB0\xA3\xE5\xA2\x8A\",\n            \"unlockExp\": 5,\n            \"cost\": 1000,\n            \"desc\": \"\xE5\x9C\xB0\xE9\x9D\xA2\xE7\xA7\xBB\xE5\x8B\x95\xE6\x99\x82\xE5\x87\xBA\xE5\x8A\x9B*{0}\",\n            \"value\": [\n                \"1.5\"\n            ],\n            \"powerCost\": 10,\n            \"action\": \"equipment\"\n        }\n    },\n    \"componentAction\": {\n        \"equipment\": {\n            \"id\": \"equipment\",\n            \"title\": \"\xE8\xA3\x9D\xE5\x82\x99\"\n        },\n        \"item\": {\n            \"id\": \"item\",\n            \"title\": \"\xE4\xBD\xBF\xE7\x94\xA8\"\n        },\n        \"itemForSelf\": {\n            \"id\": \"itemForSelf\",\n            \"title\": \"\xE4\xBD\xBF\xE7\x94\xA8\xE8\x87\xAA\xE8\xBA\xAB\"\n        }\n    },\n    \"config\": {\n        \"default\": {\n            \"id\": \"default\",\n            \"powerCostForMove\": 5,\n            \"award\": [\n                1.2,\n                1.2\n            ],\n            \"robots\": [\n                \"medium\",\n                \"medium\",\n                \"heavy\"\n            ],\n            \"weapons\": [\n                \"beam_gun1\",\n                \"beam_gun2\",\n                \"beam_gun3\",\n                \"beam_gatling1\",\n                \"beam_gatling2\",\n                \"beam_gatling3\",\n                \"beam_sword1\",\n                \"beam_sword2\",\n                \"beam_sword3\",\n                \"machinegun1\",\n                \"machinegun2\",\n                \"shotgun3\"\n            ],\n            \"components\": [\n                \"energy1\",\n                \"energy2\",\n                \"energy3\",\n                \"armor1\",\n                \"armor2\",\n                \"armor3\",\n                \"beam_armor1\",\n                \"beam_armor2\",\n                \"beam_armor3\"\n            ],\n            \"pilots\": [\n                \"engineer\",\n                \"engineer\",\n                \"engineer\"\n            ]\n        }\n    },\n    \"level\": {\n        \"ground1\": {\n            \"id\": \"ground1\",\n            \"robots\": [\n                \"BGD\",\n                \"BGD\",\n                \"BGD\",\n                \"BYJ\",\n                \"BYJ\",\n                \"BYJ\"\n            ],\n            \"count\": 5,\n            \"groupCount\": 1,\n            \"boss\": [\n                \"moshen\"\n            ]\n        },\n        \"ground2\": {\n            \"id\": \"ground2\",\n            \"robots\": [\n                \"BGD\",\n                \"BGD\",\n                \"BGD\",\n                \"BYJ\",\n                \"BYJ\",\n                \"BYJ\"\n            ],\n            \"count\": 8,\n            \"groupCount\": 2,\n            \"boss\": []\n        },\n        \"ground3\": {\n            \"id\": \"ground3\",\n            \"robots\": [\n                \"BGD\",\n                \"BGD\",\n                \"BGD\",\n                \"BYJ\",\n                \"BYJ\",\n                \"BYJ\"\n            ],\n            \"count\": 11,\n            \"groupCount\": 2,\n            \"boss\": []\n        },\n        \"ground4\": {\n            \"id\": \"ground4\",\n            \"robots\": [\n                \"BGD\",\n                \"BGD\",\n                \"BGD\",\n                \"BYJ\",\n                \"BYJ\",\n                \"BYJ\"\n            ],\n            \"count\": 14,\n            \"groupCount\": 2,\n            \"boss\": []\n        },\n        \"ground5\": {\n            \"id\": \"ground5\",\n            \"robots\": [\n                \"BGD\",\n                \"BGD\",\n                \"BGD\",\n                \"BYJ\",\n                \"BYJ\",\n                \"BYJ\"\n            ],\n            \"count\": 17,\n            \"groupCount\": 3,\n            \"boss\": []\n        },\n        \"ground6\": {\n            \"id\": \"ground6\",\n            \"robots\": [\n                \"BGD\",\n                \"BGD\",\n                \"BGD\",\n                \"BYJ\",\n                \"BYJ\",\n                \"BYJ\"\n            ],\n            \"count\": 20,\n            \"groupCount\": 3,\n            \"boss\": []\n        },\n        \"ground7\": {\n            \"id\": \"ground7\",\n            \"robots\": [\n                \"BGD\",\n                \"BGD\",\n                \"BGD\",\n                \"BYJ\",\n                \"BYJ\",\n                \"BYJ\"\n            ],\n            \"count\": 23,\n            \"groupCount\": 3,\n            \"boss\": []\n        },\n        \"ground8\": {\n            \"id\": \"ground8\",\n            \"robots\": [\n                \"BGD\",\n                \"BGD\",\n                \"BGD\",\n                \"BYJ\",\n                \"BYJ\",\n                \"BYJ\"\n            ],\n            \"count\": 26,\n            \"groupCount\": 4,\n            \"boss\": []\n        },\n        \"ground9\": {\n            \"id\": \"ground9\",\n            \"robots\": [\n                \"BGD\",\n                \"BGD\",\n                \"BGD\",\n                \"BYJ\",\n                \"BYJ\",\n                \"BYJ\"\n            ],\n            \"count\": 29,\n            \"groupCount\": 5,\n            \"boss\": []\n        },\n        \"ground10\": {\n            \"id\": \"ground10\",\n            \"robots\": [\n                \"BGD\",\n                \"BGD\",\n                \"BGD\",\n                \"BYJ\",\n                \"BYJ\",\n                \"BYJ\"\n            ],\n            \"count\": 32,\n            \"groupCount\": 6,\n            \"boss\": []\n        },\n        \"sea1\": {\n            \"id\": \"sea1\",\n            \"robots\": [\n                \"BGD\",\n                \"BGD\",\n                \"BGD\",\n                \"BYJ\",\n                \"BYJ\",\n                \"BYJ\"\n            ],\n            \"count\": 5,\n            \"groupCount\": 1,\n            \"boss\": []\n        },\n        \"sea2\": {\n            \"id\": \"sea2\",\n            \"robots\": [\n                \"BGD\",\n                \"BGD\",\n                \"BGD\",\n                \"BYJ\",\n                \"BYJ\",\n                \"BYJ\"\n            ],\n            \"count\": 8,\n            \"groupCount\": 2,\n            \"boss\": []\n        },\n        \"sea3\": {\n            \"id\": \"sea3\",\n            \"robots\": [\n                \"BGD\",\n                \"BGD\",\n                \"BGD\",\n                \"BYJ\",\n                \"BYJ\",\n                \"BYJ\"\n            ],\n            \"count\": 11,\n            \"groupCount\": 2,\n            \"boss\": []\n        },\n        \"sea4\": {\n            \"id\": \"sea4\",\n            \"robots\": [\n                \"BGD\",\n                \"BGD\",\n                \"BGD\",\n                \"BYJ\",\n                \"BYJ\",\n                \"BYJ\"\n            ],\n            \"count\": 14,\n            \"groupCount\": 2,\n            \"boss\": []\n        },\n        \"sea5\": {\n            \"id\": \"sea5\",\n            \"robots\": [\n                \"BGD\",\n                \"BGD\",\n                \"BGD\",\n                \"BYJ\",\n                \"BYJ\",\n                \"BYJ\"\n            ],\n            \"count\": 17,\n            \"groupCount\": 3,\n            \"boss\": []\n        },\n        \"sea6\": {\n            \"id\": \"sea6\",\n            \"robots\": [\n                \"BGD\",\n                \"BGD\",\n                \"BGD\",\n                \"BYJ\",\n                \"BYJ\",\n                \"BYJ\"\n            ],\n            \"count\": 20,\n            \"groupCount\": 3,\n            \"boss\": []\n        },\n        \"sea7\": {\n            \"id\": \"sea7\",\n            \"robots\": [\n                \"BGD\",\n                \"BGD\",\n                \"BGD\",\n                \"BYJ\",\n                \"BYJ\",\n                \"BYJ\"\n            ],\n            \"count\": 23,\n            \"groupCount\": 3,\n            \"boss\": []\n        },\n        \"sea8\": {\n            \"id\": \"sea8\",\n            \"robots\": [\n                \"BGD\",\n                \"BGD\",\n                \"BGD\",\n                \"BYJ\",\n                \"BYJ\",\n                \"BYJ\"\n            ],\n            \"count\": 26,\n            \"groupCount\": 4,\n            \"boss\": []\n        },\n        \"sea9\": {\n            \"id\": \"sea9\",\n            \"robots\": [\n                \"BGD\",\n                \"BGD\",\n                \"BGD\",\n                \"BYJ\",\n                \"BYJ\",\n                \"BYJ\"\n            ],\n            \"count\": 29,\n            \"groupCount\": 5,\n            \"boss\": []\n        },\n        \"sea10\": {\n            \"id\": \"sea10\",\n            \"robots\": [\n                \"BGD\",\n                \"BGD\",\n                \"BGD\",\n                \"BYJ\",\n                \"BYJ\",\n                \"BYJ\"\n            ],\n            \"count\": 32,\n            \"groupCount\": 6,\n            \"boss\": []\n        },\n        \"sky1\": {\n            \"id\": \"sky1\",\n            \"robots\": [\n                \"BGD\",\n                \"BGD\",\n                \"BGD\",\n                \"BYJ\",\n                \"BYJ\",\n                \"BYJ\"\n            ],\n            \"count\": 5,\n            \"groupCount\": 1,\n            \"boss\": []\n        },\n        \"sky2\": {\n            \"id\": \"sky2\",\n            \"robots\": [\n                \"BGD\",\n                \"BGD\",\n                \"BGD\",\n                \"BYJ\",\n                \"BYJ\",\n                \"BYJ\"\n            ],\n            \"count\": 8,\n            \"groupCount\": 2,\n            \"boss\": []\n        },\n        \"sky3\": {\n            \"id\": \"sky3\",\n            \"robots\": [\n                \"BGD\",\n                \"BGD\",\n                \"BGD\",\n                \"BYJ\",\n                \"BYJ\",\n                \"BYJ\"\n            ],\n            \"count\": 11,\n            \"groupCount\": 2,\n            \"boss\": []\n        },\n        \"sky4\": {\n            \"id\": \"sky4\",\n            \"robots\": [\n                \"BGD\",\n                \"BGD\",\n                \"BGD\",\n                \"BYJ\",\n                \"BYJ\",\n                \"BYJ\"\n            ],\n            \"count\": 14,\n            \"groupCount\": 2,\n            \"boss\": []\n        },\n        \"sky5\": {\n            \"id\": \"sky5\",\n            \"robots\": [\n                \"BGD\",\n                \"BGD\",\n                \"BGD\",\n                \"BYJ\",\n                \"BYJ\",\n                \"BYJ\"\n            ],\n            \"count\": 17,\n            \"groupCount\": 3,\n            \"boss\": []\n        },\n        \"sky6\": {\n            \"id\": \"sky6\",\n            \"robots\": [\n                \"BGD\",\n                \"BGD\",\n                \"BGD\",\n                \"BYJ\",\n                \"BYJ\",\n                \"BYJ\"\n            ],\n            \"count\": 20,\n            \"groupCount\": 3,\n            \"boss\": []\n        },\n        \"sky7\": {\n            \"id\": \"sky7\",\n            \"robots\": [\n                \"BGD\",\n                \"BGD\",\n                \"BGD\",\n                \"BYJ\",\n                \"BYJ\",\n                \"BYJ\"\n            ],\n            \"count\": 23,\n            \"groupCount\": 3,\n            \"boss\": []\n        },\n        \"sky8\": {\n            \"id\": \"sky8\",\n            \"robots\": [\n                \"BGD\",\n                \"BGD\",\n                \"BGD\",\n                \"BYJ\",\n                \"BYJ\",\n                \"BYJ\"\n            ],\n            \"count\": 26,\n            \"groupCount\": 4,\n            \"boss\": []\n        },\n        \"sky9\": {\n            \"id\": \"sky9\",\n            \"robots\": [\n                \"BGD\",\n                \"BGD\",\n                \"BGD\",\n                \"BYJ\",\n                \"BYJ\",\n                \"BYJ\"\n            ],\n            \"count\": 29,\n            \"groupCount\": 5,\n            \"boss\": []\n        },\n        \"sky10\": {\n            \"id\": \"sky10\",\n            \"robots\": [\n                \"BGD\",\n                \"BGD\",\n                \"BGD\",\n                \"BYJ\",\n                \"BYJ\",\n                \"BYJ\"\n            ],\n            \"count\": 32,\n            \"groupCount\": 6,\n            \"boss\": []\n        },\n        \"common1\": {\n            \"id\": \"common1\",\n            \"robots\": [\n                \"BGD\",\n                \"BGD\",\n                \"BGD\",\n                \"BYJ\",\n                \"BYJ\",\n                \"BYJ\"\n            ],\n            \"count\": 5,\n            \"groupCount\": 1,\n            \"boss\": []\n        },\n        \"common2\": {\n            \"id\": \"common2\",\n            \"robots\": [\n                \"BGD\",\n                \"BGD\",\n                \"BGD\",\n                \"BYJ\",\n                \"BYJ\",\n                \"BYJ\"\n            ],\n            \"count\": 8,\n            \"groupCount\": 2,\n            \"boss\": []\n        },\n        \"common3\": {\n            \"id\": \"common3\",\n            \"robots\": [\n                \"BGD\",\n                \"BGD\",\n                \"BGD\",\n                \"BYJ\",\n                \"BYJ\",\n                \"BYJ\"\n            ],\n            \"count\": 11,\n            \"groupCount\": 2,\n            \"boss\": []\n        },\n        \"common4\": {\n            \"id\": \"common4\",\n            \"robots\": [\n                \"BGD\",\n                \"BGD\",\n                \"BGD\",\n                \"BYJ\",\n                \"BYJ\",\n                \"BYJ\"\n            ],\n            \"count\": 14,\n            \"groupCount\": 2,\n            \"boss\": []\n        },\n        \"common5\": {\n            \"id\": \"common5\",\n            \"robots\": [\n                \"BGD\",\n                \"BGD\",\n                \"BGD\",\n                \"BYJ\",\n                \"BYJ\",\n                \"BYJ\"\n            ],\n            \"count\": 17,\n            \"groupCount\": 3,\n            \"boss\": []\n        },\n        \"common6\": {\n            \"id\": \"common6\",\n            \"robots\": [\n                \"BGD\",\n                \"BGD\",\n                \"BGD\",\n                \"BYJ\",\n                \"BYJ\",\n                \"BYJ\"\n            ],\n            \"count\": 20,\n            \"groupCount\": 3,\n            \"boss\": []\n        },\n        \"common7\": {\n            \"id\": \"common7\",\n            \"robots\": [\n                \"BGD\",\n                \"BGD\",\n                \"BGD\",\n                \"BYJ\",\n                \"BYJ\",\n                \"BYJ\"\n            ],\n            \"count\": 23,\n            \"groupCount\": 3,\n            \"boss\": []\n        },\n        \"common8\": {\n            \"id\": \"common8\",\n            \"robots\": [\n                \"BGD\",\n                \"BGD\",\n                \"BGD\",\n                \"BYJ\",\n                \"BYJ\",\n                \"BYJ\"\n            ],\n            \"count\": 26,\n            \"groupCount\": 4,\n            \"boss\": []\n        },\n        \"common9\": {\n            \"id\": \"common9\",\n            \"robots\": [\n                \"BGD\",\n                \"BGD\",\n                \"BGD\",\n                \"BYJ\",\n                \"BYJ\",\n                \"BYJ\"\n            ],\n            \"count\": 29,\n            \"groupCount\": 5,\n            \"boss\": []\n        },\n        \"common10\": {\n            \"id\": \"common10\",\n            \"robots\": [\n                \"BGD\",\n                \"BGD\",\n                \"BGD\",\n                \"BYJ\",\n                \"BYJ\",\n                \"BYJ\"\n            ],\n            \"count\": 32,\n            \"groupCount\": 6,\n            \"boss\": []\n        }\n    },\n    \"pilot\": {\n        \"engineer\": {\n            \"id\": \"engineer\",\n            \"title\": \"\xE5\xB7\xA5\xE7\xA8\x8B\xE5\xB8\xAB\",\n            \"unlockExp\": 0,\n            \"cost\": 4400,\n            \"melee\": 65,\n            \"range\": 65,\n            \"atk\": 70,\n            \"evade\": 80,\n            \"guard\": 70,\n            \"tech\": 90,\n            \"ability\": [],\n            \"total\": 440\n        },\n        \"boxer\": {\n            \"id\": \"boxer\",\n            \"title\": \"\xE6\x8B\xB3\xE6\x93\x8A\xE6\x89\x8B\",\n            \"unlockExp\": 0,\n            \"cost\": 4650,\n            \"melee\": 90,\n            \"range\": 65,\n            \"atk\": 90,\n            \"evade\": 50,\n            \"guard\": 90,\n            \"tech\": 80,\n            \"ability\": [],\n            \"total\": 465\n        },\n        \"teacher\": {\n            \"id\": \"teacher\",\n            \"title\": \"\xE6\x95\x99\xE5\xB8\xAB\",\n            \"unlockExp\": 0,\n            \"cost\": 4400,\n            \"melee\": 50,\n            \"range\": 80,\n            \"atk\": 70,\n            \"evade\": 80,\n            \"guard\": 60,\n            \"tech\": 100,\n            \"ability\": [],\n            \"total\": 440\n        },\n        \"baseballPitcher\": {\n            \"id\": \"baseballPitcher\",\n            \"title\": \"\xE6\xA3\x92\xE7\x90\x83\xE6\x8A\x95\xE6\x89\x8B\",\n            \"unlockExp\": 0,\n            \"cost\": 5150,\n            \"melee\": 80,\n            \"range\": 90,\n            \"atk\": 90,\n            \"evade\": 75,\n            \"guard\": 90,\n            \"tech\": 90,\n            \"ability\": [],\n            \"total\": 515\n        },\n        \"amuro\": {\n            \"id\": \"amuro\",\n            \"title\": \"\xE9\x98\xBF\xE5\xA7\x86\xE7\xBE\x85\",\n            \"unlockExp\": 10,\n            \"cost\": 6050,\n            \"melee\": 70,\n            \"range\": 130,\n            \"atk\": 100,\n            \"evade\": 130,\n            \"guard\": 70,\n            \"tech\": 105,\n            \"ability\": [],\n            \"total\": 605\n        },\n        \"liulongma\": {\n            \"id\": \"liulongma\",\n            \"title\": \"\xE6\xB5\x81\xE9\xBE\x8D\xE9\xA6\xAC\",\n            \"unlockExp\": 10,\n            \"cost\": 6100,\n            \"melee\": 130,\n            \"range\": 70,\n            \"atk\": 110,\n            \"evade\": 65,\n            \"guard\": 135,\n            \"tech\": 100,\n            \"ability\": [],\n            \"total\": 610\n        },\n        \"doujiaer\": {\n            \"id\": \"doujiaer\",\n            \"title\": \"\xE5\x85\x9C\xE7\x94\xB2\xE5\x85\x92\",\n            \"unlockExp\": 10,\n            \"cost\": 6000,\n            \"melee\": 125,\n            \"range\": 70,\n            \"atk\": 105,\n            \"evade\": 60,\n            \"guard\": 140,\n            \"tech\": 100,\n            \"ability\": [],\n            \"total\": 600\n        },\n        \"xibuke\": {\n            \"id\": \"xibuke\",\n            \"title\": \"\xE8\xA5\xBF\xE5\xB8\x83\xE5\x85\x8B\",\n            \"unlockExp\": 10,\n            \"cost\": 6050,\n            \"melee\": 80,\n            \"range\": 120,\n            \"atk\": 100,\n            \"evade\": 125,\n            \"guard\": 75,\n            \"tech\": 105,\n            \"ability\": [],\n            \"total\": 605\n        }\n    },\n    \"pilotAbility\": {},\n    \"robot\": {\n        \"exlight\": {\n            \"id\": \"exlight\",\n            \"title\": \"\xE7\x89\xB9\xE8\xBC\x95\xE5\x9E\x8B\xE6\xA9\x9F\xE7\x94\xB2\",\n            \"enemy\": false,\n            \"unlockExp\": 0,\n            \"cost\": 24100,\n            \"power\": 30,\n            \"hp\": 5000,\n            \"en\": 200,\n            \"weapons\": [],\n            \"components\": [],\n            \"suitability\": [\n                1,\n                0.5,\n                0,\n                1\n            ],\n            \"transform\": []\n        },\n        \"light\": {\n            \"id\": \"light\",\n            \"title\": \"\xE8\xBC\x95\xE5\x9E\x8B\xE6\xA9\x9F\xE7\x94\xB2\",\n            \"enemy\": false,\n            \"unlockExp\": 0,\n            \"cost\": 28600,\n            \"power\": 45,\n            \"hp\": 5000,\n            \"en\": 200,\n            \"weapons\": [],\n            \"components\": [],\n            \"suitability\": [\n                1,\n                0.5,\n                0,\n                1\n            ],\n            \"transform\": []\n        },\n        \"normal\": {\n            \"id\": \"normal\",\n            \"title\": \"\xE5\x88\xB6\xE5\xBC\x8F\xE6\xA9\x9F\xE7\x94\xB2\",\n            \"enemy\": false,\n            \"unlockExp\": 0,\n            \"cost\": 37400,\n            \"power\": 65,\n            \"hp\": 5000,\n            \"en\": 200,\n            \"weapons\": [],\n            \"components\": [],\n            \"suitability\": [\n                1,\n                0.5,\n                0,\n                1\n            ],\n            \"transform\": []\n        },\n        \"medium\": {\n            \"id\": \"medium\",\n            \"title\": \"\xE4\xB8\xAD\xE5\x9E\x8B\xE6\xA9\x9F\xE7\x94\xB2\",\n            \"enemy\": false,\n            \"unlockExp\": 1,\n            \"cost\": 52900,\n            \"power\": 90,\n            \"hp\": 5000,\n            \"en\": 200,\n            \"weapons\": [],\n            \"components\": [],\n            \"suitability\": [\n                1,\n                0.5,\n                0,\n                1\n            ],\n            \"transform\": []\n        },\n        \"heavy\": {\n            \"id\": \"heavy\",\n            \"title\": \"\xE9\x87\x8D\xE5\x9E\x8B\xE6\xA9\x9F\xE7\x94\xB2\",\n            \"enemy\": false,\n            \"unlockExp\": 2,\n            \"cost\": 78100,\n            \"power\": 120,\n            \"hp\": 5000,\n            \"en\": 200,\n            \"weapons\": [],\n            \"components\": [],\n            \"suitability\": [\n                1,\n                0.5,\n                0,\n                1\n            ],\n            \"transform\": []\n        },\n        \"exheavy\": {\n            \"id\": \"exheavy\",\n            \"title\": \"\xE7\x89\xB9\xE9\x87\x8D\xE5\x9E\x8B\xE6\xA9\x9F\xE7\x94\xB2\",\n            \"enemy\": false,\n            \"unlockExp\": 3,\n            \"cost\": 116600,\n            \"power\": 155,\n            \"hp\": 5000,\n            \"en\": 200,\n            \"weapons\": [],\n            \"components\": [],\n            \"suitability\": [\n                1,\n                0.5,\n                0,\n                1\n            ],\n            \"transform\": []\n        },\n        \"BGD\": {\n            \"id\": \"BGD\",\n            \"title\": \"\xE5\x88\xB6\xE5\xBC\x8F\xE6\xA0\xBC\xE9\xAC\xA5\",\n            \"enemy\": true,\n            \"unlockExp\": 0,\n            \"cost\": 60500,\n            \"power\": 100,\n            \"hp\": 5000,\n            \"en\": 200,\n            \"weapons\": [\n                \"beam_sword2\",\n                \"beam_gatling1\"\n            ],\n            \"components\": [\n                \"energy1\",\n                \"armor1\"\n            ],\n            \"suitability\": [\n                1,\n                0.5,\n                0,\n                1\n            ],\n            \"transform\": []\n        },\n        \"BYJ\": {\n            \"id\": \"BYJ\",\n            \"title\": \"\xE5\x88\xB6\xE5\xBC\x8F\xE9\x81\x8A\xE6\x93\x8A\",\n            \"enemy\": true,\n            \"unlockExp\": 0,\n            \"cost\": 60500,\n            \"power\": 100,\n            \"hp\": 5000,\n            \"en\": 200,\n            \"weapons\": [\n                \"beam_sword1\",\n                \"beam_gatling2\"\n            ],\n            \"components\": [\n                \"energy1\",\n                \"armor1\"\n            ],\n            \"suitability\": [\n                1,\n                0.5,\n                0,\n                1\n            ],\n            \"transform\": []\n        },\n        \"BJJ\": {\n            \"id\": \"BJJ\",\n            \"title\": \"\xE5\x88\xB6\xE5\xBC\x8F\xE7\x8B\x99\xE6\x93\x8A\",\n            \"enemy\": true,\n            \"unlockExp\": 0,\n            \"cost\": 60500,\n            \"power\": 100,\n            \"hp\": 5000,\n            \"en\": 200,\n            \"weapons\": [\n                \"beam_sniper1\",\n                \"beam_gatling1\"\n            ],\n            \"components\": [\n                \"energy2\",\n                \"armor1\"\n            ],\n            \"suitability\": [\n                1,\n                0.5,\n                0,\n                1\n            ],\n            \"transform\": []\n        },\n        \"BGR\": {\n            \"id\": \"BGR\",\n            \"title\": \"\xE5\x88\xB6\xE5\xBC\x8F\xE5\xB9\xB2\xE6\x93\xBE\",\n            \"enemy\": true,\n            \"unlockExp\": 0,\n            \"cost\": 60500,\n            \"power\": 100,\n            \"hp\": 5000,\n            \"en\": 200,\n            \"weapons\": [\n                \"beam_sword1\",\n                \"beam_gatling1\"\n            ],\n            \"components\": [\n                \"energy1\",\n                \"armor2\"\n            ],\n            \"suitability\": [\n                1,\n                0.5,\n                0,\n                1\n            ],\n            \"transform\": []\n        },\n        \"BFD\": {\n            \"id\": \"BFD\",\n            \"title\": \"\xE5\x88\xB6\xE5\xBC\x8F\xE9\x98\xB2\xE7\x9B\xBE\",\n            \"enemy\": true,\n            \"unlockExp\": 0,\n            \"cost\": 60500,\n            \"power\": 100,\n            \"hp\": 5000,\n            \"en\": 200,\n            \"weapons\": [\n                \"beam_gun1\"\n            ],\n            \"components\": [\n                \"energy1\",\n                \"armor2\",\n                \"shield\"\n            ],\n            \"suitability\": [\n                1,\n                0.5,\n                0,\n                2\n            ],\n            \"transform\": []\n        },\n        \"seamonster\": {\n            \"id\": \"seamonster\",\n            \"title\": \"\xE5\x88\xB6\xE5\xBC\x8F\xE6\xB5\xB7\xE9\x98\xB2\",\n            \"enemy\": true,\n            \"unlockExp\": 10,\n            \"cost\": 40000,\n            \"power\": 100,\n            \"hp\": 5000,\n            \"en\": 0,\n            \"weapons\": [\n                \"torpedo3\",\n                \"sea_mine3\"\n            ],\n            \"components\": [\n                \"armor2\",\n                \"lighting_armor\"\n            ],\n            \"suitability\": [\n                0,\n                1,\n                0,\n                0\n            ],\n            \"transform\": []\n        },\n        \"gundam\": {\n            \"id\": \"gundam\",\n            \"title\": \"\xE9\x8B\xBC\xE5\xBD\x88\",\n            \"enemy\": true,\n            \"unlockExp\": 2,\n            \"cost\": 60500,\n            \"power\": 100,\n            \"hp\": 5000,\n            \"en\": 200,\n            \"weapons\": [\n                \"machinegun1\",\n                \"beam_sword1\",\n                \"beam_gun1\"\n            ],\n            \"components\": [\n                \"energy1\",\n                \"energy1\",\n                \"armor1\",\n                \"armor1\"\n            ],\n            \"suitability\": [\n                1,\n                0.5,\n                0,\n                1\n            ],\n            \"transform\": []\n        },\n        \"jimu\": {\n            \"id\": \"jimu\",\n            \"title\": \"\xE5\x90\x89\xE5\xA7\x86\",\n            \"enemy\": true,\n            \"unlockExp\": 2,\n            \"cost\": 60400,\n            \"power\": 100,\n            \"hp\": 4000,\n            \"en\": 200,\n            \"weapons\": [\n                \"machinegun1\",\n                \"beam_sword1\",\n                \"beam_gatling1\"\n            ],\n            \"components\": [\n                \"energy1\",\n                \"armor1\"\n            ],\n            \"suitability\": [\n                1,\n                0.5,\n                0,\n                1\n            ],\n            \"transform\": []\n        },\n        \"zgundam\": {\n            \"id\": \"zgundam\",\n            \"title\": \"z\xE9\x8B\xBC\xE5\xBD\x88\",\n            \"enemy\": false,\n            \"unlockExp\": 3,\n            \"cost\": 60600,\n            \"power\": 100,\n            \"hp\": 6000,\n            \"en\": 200,\n            \"weapons\": [\n                \"machinegun1\",\n                \"beam_sword1\",\n                \"beam_gun1\",\n                \"beam_mega2\"\n            ],\n            \"components\": [\n                \"energy1\",\n                \"energy1\",\n                \"armor1\",\n                \"armor1\"\n            ],\n            \"suitability\": [\n                1,\n                0.5,\n                0,\n                1\n            ],\n            \"transform\": [\n                \"zgundam_sky\"\n            ]\n        },\n        \"zgundam_sky\": {\n            \"id\": \"zgundam_sky\",\n            \"title\": \"z\xE9\x8B\xBC\xE5\xBD\x88\xE9\xA3\x9B\xE7\xBF\xBC\",\n            \"enemy\": false,\n            \"unlockExp\": 3,\n            \"cost\": 60600,\n            \"power\": 100,\n            \"hp\": 6000,\n            \"en\": 200,\n            \"weapons\": [\n                \"machinegun1\",\n                \"beam_gun1\"\n            ],\n            \"components\": [\n                \"energy1\",\n                \"energy1\",\n                \"armor1\",\n                \"armor1\"\n            ],\n            \"suitability\": [\n                0,\n                0,\n                1,\n                1\n            ],\n            \"transform\": [\n                \"zgundam\"\n            ]\n        },\n        \"gaite_sky\": {\n            \"id\": \"gaite_sky\",\n            \"title\": \"\xE7\xA9\xBA\xE8\x93\x8B\xE7\x89\xB9\",\n            \"enemy\": false,\n            \"unlockExp\": 10,\n            \"cost\": 88600,\n            \"power\": 130,\n            \"hp\": 10000,\n            \"en\": 200,\n            \"weapons\": [\n                \"gaite_handSword\",\n                \"gaite_axe\",\n                \"gaite_beam\",\n                \"gaite_cannon\"\n            ],\n            \"components\": [\n                \"energy1\",\n                \"energy2\",\n                \"armor1\",\n                \"armor2\"\n            ],\n            \"suitability\": [\n                0.75,\n                0.5,\n                1,\n                1\n            ],\n            \"transform\": [\n                \"gaite_land\",\n                \"gaite_sea\"\n            ]\n        },\n        \"gaite_land\": {\n            \"id\": \"gaite_land\",\n            \"title\": \"\xE5\x9C\xB0\xE8\x93\x8B\xE7\x89\xB9\",\n            \"enemy\": false,\n            \"unlockExp\": 10,\n            \"cost\": 88600,\n            \"power\": 130,\n            \"hp\": 10000,\n            \"en\": 200,\n            \"weapons\": [\n                \"gaite_missle\",\n                \"gaite_drill\",\n                \"gaite_powerDrill\"\n            ],\n            \"components\": [\n                \"energy1\",\n                \"energy2\",\n                \"armor1\",\n                \"armor1\"\n            ],\n            \"suitability\": [\n                1,\n                0.75,\n                0,\n                1\n            ],\n            \"transform\": [\n                \"gaite_sky\",\n                \"gaite_sea\"\n            ]\n        },\n        \"gaite_sea\": {\n            \"id\": \"gaite_sea\",\n            \"title\": \"\xE6\xB5\xB7\xE8\x93\x8B\xE7\x89\xB9\",\n            \"enemy\": false,\n            \"unlockExp\": 10,\n            \"cost\": 88600,\n            \"power\": 130,\n            \"hp\": 10000,\n            \"en\": 200,\n            \"weapons\": [\n                \"gaite_punch\",\n                \"gaite_missle\",\n                \"gaite_shan\"\n            ],\n            \"components\": [\n                \"energy1\",\n                \"energy2\",\n                \"armor2\",\n                \"armor2\"\n            ],\n            \"suitability\": [\n                0.75,\n                1,\n                0,\n                1\n            ],\n            \"transform\": [\n                \"gaite_sky\",\n                \"gaite_land\"\n            ]\n        },\n        \"moshen\": {\n            \"id\": \"moshen\",\n            \"title\": \"\xE9\xAD\x94\xE7\xA5\x9Ez\",\n            \"enemy\": false,\n            \"unlockExp\": 10,\n            \"cost\": 88800,\n            \"power\": 130,\n            \"hp\": 12000,\n            \"en\": 200,\n            \"weapons\": [\n                \"moshen_ray\",\n                \"moshen_punch\",\n                \"moshen_flypunch\",\n                \"moshen_jian\",\n                \"moshen_fire\"\n            ],\n            \"components\": [\n                \"energy1\",\n                \"energy2\",\n                \"armor2\",\n                \"armor2\"\n            ],\n            \"suitability\": [\n                1,\n                0.5,\n                0,\n                1\n            ],\n            \"transform\": []\n        },\n        \"windgundam\": {\n            \"id\": \"windgundam\",\n            \"title\": \"\xE9\x9B\xB6\xE5\xBC\x8F\xE9\x8B\xBC\xE5\xBD\x88\",\n            \"enemy\": false,\n            \"unlockExp\": 10,\n            \"cost\": 88400,\n            \"power\": 130,\n            \"hp\": 8000,\n            \"en\": 200,\n            \"weapons\": [\n                \"machinegun2\",\n                \"beam_sword1\",\n                \"beam_sniper4\",\n                \"beam_mega4\"\n            ],\n            \"components\": [\n                \"energy2\",\n                \"energy2\",\n                \"armor1\",\n                \"armor1\",\n                \"zeroSystem\"\n            ],\n            \"suitability\": [\n                1,\n                0.5,\n                1,\n                1\n            ],\n            \"transform\": [\n                \"windgundam_sky\"\n            ]\n        },\n        \"windgundam_sky\": {\n            \"id\": \"windgundam_sky\",\n            \"title\": \"\xE9\x9B\xB6\xE5\xBC\x8F\xE9\x8B\xBC\xE5\xBD\x88\xE9\xA3\x9B\xE7\xBF\xBC\",\n            \"enemy\": false,\n            \"unlockExp\": 10,\n            \"cost\": 88400,\n            \"power\": 130,\n            \"hp\": 8000,\n            \"en\": 200,\n            \"weapons\": [\n                \"machinegun2\",\n                \"beam_sniper4\"\n            ],\n            \"components\": [\n                \"energy2\",\n                \"energy2\",\n                \"armor1\",\n                \"armor1\",\n                \"zeroSystem\"\n            ],\n            \"suitability\": [\n                0,\n                0,\n                1,\n                1\n            ],\n            \"transform\": [\n                \"windgundam\"\n            ]\n        },\n        \"strikegundam\": {\n            \"id\": \"strikegundam\",\n            \"title\": \"\xE6\x94\xBB\xE6\x93\x8A\xE9\x8B\xBC\xE5\xBD\x88\",\n            \"enemy\": false,\n            \"unlockExp\": 10,\n            \"cost\": 60800,\n            \"power\": 100,\n            \"hp\": 8000,\n            \"en\": 200,\n            \"weapons\": [\n                \"machinegun1\",\n                \"beam_sword3\",\n                \"sword3\",\n                \"beam_gun1\"\n            ],\n            \"components\": [\n                \"energy1\",\n                \"energy1\",\n                \"armor1\",\n                \"armor1\",\n                \"psArmor\"\n            ],\n            \"suitability\": [\n                1,\n                0.5,\n                0,\n                1\n            ],\n            \"transform\": []\n        },\n        \"f91\": {\n            \"id\": \"f91\",\n            \"title\": \"F91\",\n            \"enemy\": false,\n            \"unlockExp\": 10,\n            \"cost\": 60600,\n            \"power\": 100,\n            \"hp\": 6000,\n            \"en\": 200,\n            \"weapons\": [\n                \"machinegun1\",\n                \"beam_sword1\",\n                \"beam_gun1\",\n                \"beam_mega2\"\n            ],\n            \"components\": [\n                \"beam_armor1\",\n                \"beam_shield\",\n                \"afterimage\"\n            ],\n            \"suitability\": [\n                1,\n                0.5,\n                0,\n                1\n            ],\n            \"transform\": []\n        },\n        \"duankongka\": {\n            \"id\": \"duankongka\",\n            \"title\": \"\xE6\x96\xB7\xE7\xA9\xBA\xE6\x88\x91\",\n            \"enemy\": false,\n            \"unlockExp\": 10,\n            \"cost\": 67600,\n            \"power\": 130,\n            \"hp\": 12000,\n            \"en\": 200,\n            \"weapons\": [\n                \"duankong_fight\",\n                \"duankong_laser\",\n                \"duankong_sword\",\n                \"duankong_shot\"\n            ],\n            \"components\": [\n                \"energy1\",\n                \"energy1\",\n                \"armor1\",\n                \"armor1\"\n            ],\n            \"suitability\": [\n                1,\n                0.5,\n                0,\n                1\n            ],\n            \"transform\": []\n        },\n        \"altrongundam\": {\n            \"id\": \"altrongundam\",\n            \"title\": \"\xE9\x9B\x99\xE9\xA0\xAD\xE9\xBE\x8D\xE9\x8B\xBC\xE5\xBD\x88\",\n            \"enemy\": false,\n            \"unlockExp\": 10,\n            \"cost\": 67600,\n            \"power\": 130,\n            \"hp\": 8000,\n            \"en\": 200,\n            \"weapons\": [\n                \"machinegun1\",\n                \"sword3\",\n                \"range_sword3\",\n                \"firegun3\"\n            ],\n            \"components\": [\n                \"armor3\",\n                \"fire_armor\"\n            ],\n            \"suitability\": [\n                1,\n                0.5,\n                0,\n                1\n            ],\n            \"transform\": []\n        }\n    },\n    \"terrain\": {\n        \"mountain\": {\n            \"id\": \"mountain\",\n            \"title\": \"\xE5\xB1\xB1\xE8\x84\x88\",\n            \"cost\": [\n                0.5,\n                0,\n                0,\n                0\n            ],\n            \"hitRate\": 0.75,\n            \"damage\": 0.5\n        },\n        \"plain\": {\n            \"id\": \"plain\",\n            \"title\": \"\xE5\xB9\xB3\xE5\x8E\x9F\",\n            \"cost\": [\n                1,\n                0,\n                0,\n                0\n            ],\n            \"hitRate\": 1,\n            \"damage\": 1\n        },\n        \"forest\": {\n            \"id\": \"forest\",\n            \"title\": \"\xE6\xA3\xAE\xE6\x9E\x97\",\n            \"cost\": [\n                0.75,\n                0,\n                0,\n                0\n            ],\n            \"hitRate\": 0.5,\n            \"damage\": 0.75\n        },\n        \"road\": {\n            \"id\": \"road\",\n            \"title\": \"\xE9\x81\x93\xE8\xB7\xAF\",\n            \"cost\": [\n                1.25,\n                0,\n                0,\n                0\n            ],\n            \"hitRate\": 1,\n            \"damage\": 1\n        },\n        \"city\": {\n            \"id\": \"city\",\n            \"title\": \"\xE5\x9F\x8E\xE5\xB8\x82\",\n            \"cost\": [\n                1,\n                0,\n                0,\n                0\n            ],\n            \"hitRate\": 0.9,\n            \"damage\": 0.75\n        },\n        \"beach\": {\n            \"id\": \"beach\",\n            \"title\": \"\xE6\xB2\xBF\xE6\xB5\xB7\",\n            \"cost\": [\n                0.75,\n                0.75,\n                0,\n                0\n            ],\n            \"hitRate\": 1,\n            \"damage\": 1\n        },\n        \"shallowSea\": {\n            \"id\": \"shallowSea\",\n            \"title\": \"\xE6\xB7\xBA\xE6\xB5\xB7\",\n            \"cost\": [\n                0,\n                1,\n                0,\n                0\n            ],\n            \"hitRate\": 0.75,\n            \"damage\": 0.75\n        },\n        \"deepSea\": {\n            \"id\": \"deepSea\",\n            \"title\": \"\xE6\xB7\xB1\xE6\xB5\xB7\",\n            \"cost\": [\n                0,\n                0.5,\n                0,\n                0\n            ],\n            \"hitRate\": 0.5,\n            \"damage\": 0.5\n        },\n        \"award\": {\n            \"id\": \"award\",\n            \"title\": \"\xE8\x83\xBD\xE9\x87\x8F\xE9\xBB\x9E\",\n            \"cost\": [\n                1,\n                1,\n                0,\n                0\n            ],\n            \"hitRate\": 1,\n            \"damage\": 1\n        }\n    },\n    \"terrainMapping\": {\n        \"0\": {\n            \"id\": \"0\",\n            \"terrain\": \"deepSea\"\n        },\n        \"1\": {\n            \"id\": \"1\",\n            \"terrain\": \"shallowSea\"\n        },\n        \"2\": {\n            \"id\": \"2\",\n            \"terrain\": \"beach\"\n        },\n        \"3\": {\n            \"id\": \"3\",\n            \"terrain\": \"plain\"\n        },\n        \"4\": {\n            \"id\": \"4\",\n            \"terrain\": \"city\"\n        },\n        \"5\": {\n            \"id\": \"5\",\n            \"terrain\": \"mountain\"\n        },\n        \"6\": {\n            \"id\": \"6\",\n            \"terrain\": \"forest\"\n        },\n        \"7\": {\n            \"id\": \"7\",\n            \"terrain\": \"award\"\n        },\n        \"8\": {\n            \"id\": \"8\",\n            \"terrain\": \"road\"\n        }\n    },\n    \"weapon\": {\n        \"beam_mega1\": {\n            \"id\": \"beam_mega1\",\n            \"title\": \"\xE7\xB2\x92\xE5\xAD\x90\xE7\x82\xAEL1\",\n            \"unlockExp\": 0,\n            \"cost\": 400,\n            \"range\": [\n                5,\n                2\n            ],\n            \"energyCost\": 10,\n            \"maxBulletCount\": 0,\n            \"suitability\": [\n                1,\n                0.5,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"beam\",\n                \"standAttack\"\n            ],\n            \"energyType\": \"energy\",\n            \"type\": \"line\",\n            \"accuracy\": 0.7,\n            \"damage\": 1350,\n            \"curage\": 0,\n            \"powerCost\": 10\n        },\n        \"beam_mega2\": {\n            \"id\": \"beam_mega2\",\n            \"title\": \"\xE7\xB2\x92\xE5\xAD\x90\xE7\x82\xAEL2\",\n            \"unlockExp\": 0,\n            \"cost\": 676,\n            \"range\": [\n                5,\n                2\n            ],\n            \"energyCost\": 16,\n            \"maxBulletCount\": 0,\n            \"suitability\": [\n                1,\n                0.5,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"beam\",\n                \"standAttack\"\n            ],\n            \"energyType\": \"energy\",\n            \"type\": \"line\",\n            \"accuracy\": 0.7,\n            \"damage\": 1750,\n            \"curage\": 0,\n            \"powerCost\": 13\n        },\n        \"beam_mega3\": {\n            \"id\": \"beam_mega3\",\n            \"title\": \"\xE7\xB2\x92\xE5\xAD\x90\xE7\x82\xAEL3\",\n            \"unlockExp\": 0,\n            \"cost\": 1024,\n            \"range\": [\n                6,\n                3\n            ],\n            \"energyCost\": 23,\n            \"maxBulletCount\": 0,\n            \"suitability\": [\n                1,\n                0.5,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"beam\",\n                \"standAttack\"\n            ],\n            \"energyType\": \"energy\",\n            \"type\": \"line\",\n            \"accuracy\": 0.7,\n            \"damage\": 2100,\n            \"curage\": 0,\n            \"powerCost\": 16\n        },\n        \"beam_mega4\": {\n            \"id\": \"beam_mega4\",\n            \"title\": \"\xE7\xB2\x92\xE5\xAD\x90\xE7\x82\xAEL4\",\n            \"unlockExp\": 3,\n            \"cost\": 1444,\n            \"range\": [\n                6,\n                3\n            ],\n            \"energyCost\": 29,\n            \"maxBulletCount\": 0,\n            \"suitability\": [\n                1,\n                0.5,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"beam\",\n                \"standAttack\"\n            ],\n            \"energyType\": \"energy\",\n            \"type\": \"line\",\n            \"accuracy\": 0.7,\n            \"damage\": 2400,\n            \"curage\": 0,\n            \"powerCost\": 19\n        },\n        \"beam_mega5\": {\n            \"id\": \"beam_mega5\",\n            \"title\": \"\xE7\xB2\x92\xE5\xAD\x90\xE7\x82\xAEL5\",\n            \"unlockExp\": 3,\n            \"cost\": 1936,\n            \"range\": [\n                7,\n                4\n            ],\n            \"energyCost\": 36,\n            \"maxBulletCount\": 0,\n            \"suitability\": [\n                1,\n                0.5,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"beam\",\n                \"standAttack\"\n            ],\n            \"energyType\": \"energy\",\n            \"type\": \"line\",\n            \"accuracy\": 0.7,\n            \"damage\": 2750,\n            \"curage\": 0,\n            \"powerCost\": 22\n        },\n        \"beam_mega6\": {\n            \"id\": \"beam_mega6\",\n            \"title\": \"\xE7\xB2\x92\xE5\xAD\x90\xE7\x82\xAEL6\",\n            \"unlockExp\": 5,\n            \"cost\": 2500,\n            \"range\": [\n                7,\n                4\n            ],\n            \"energyCost\": 43,\n            \"maxBulletCount\": 0,\n            \"suitability\": [\n                1,\n                0.5,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"beam\",\n                \"standAttack\"\n            ],\n            \"energyType\": \"energy\",\n            \"type\": \"line\",\n            \"accuracy\": 0.7,\n            \"damage\": 3050,\n            \"curage\": 0,\n            \"powerCost\": 25\n        },\n        \"beam_mega7\": {\n            \"id\": \"beam_mega7\",\n            \"title\": \"\xE7\xB2\x92\xE5\xAD\x90\xE7\x82\xAEL7\",\n            \"unlockExp\": 5,\n            \"cost\": 3136,\n            \"range\": [\n                7,\n                4\n            ],\n            \"energyCost\": 49,\n            \"maxBulletCount\": 0,\n            \"suitability\": [\n                1,\n                0.5,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"beam\",\n                \"standAttack\"\n            ],\n            \"energyType\": \"energy\",\n            \"type\": \"line\",\n            \"accuracy\": 0.7,\n            \"damage\": 3250,\n            \"curage\": 0,\n            \"powerCost\": 28\n        },\n        \"beam_sniper1\": {\n            \"id\": \"beam_sniper1\",\n            \"title\": \"\xE5\x85\x89\xE6\x9D\x9F\xE7\x8B\x99\xE6\x93\x8A\xE9\x8E\x97L1\",\n            \"unlockExp\": 0,\n            \"cost\": 400,\n            \"range\": [\n                3,\n                9\n            ],\n            \"energyCost\": 10,\n            \"maxBulletCount\": 0,\n            \"suitability\": [\n                1,\n                0.5,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"beam\",\n                \"standAttack\"\n            ],\n            \"energyType\": \"energy\",\n            \"type\": \"single\",\n            \"accuracy\": 0.7,\n            \"damage\": 1200,\n            \"curage\": 0,\n            \"powerCost\": 10\n        },\n        \"beam_sniper2\": {\n            \"id\": \"beam_sniper2\",\n            \"title\": \"\xE5\x85\x89\xE6\x9D\x9F\xE7\x8B\x99\xE6\x93\x8A\xE9\x8E\x97L2\",\n            \"unlockExp\": 0,\n            \"cost\": 676,\n            \"range\": [\n                3,\n                9\n            ],\n            \"energyCost\": 14,\n            \"maxBulletCount\": 0,\n            \"suitability\": [\n                1,\n                0.5,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"beam\",\n                \"standAttack\"\n            ],\n            \"energyType\": \"energy\",\n            \"type\": \"single\",\n            \"accuracy\": 0.7,\n            \"damage\": 1600,\n            \"curage\": 0,\n            \"powerCost\": 13\n        },\n        \"beam_sniper3\": {\n            \"id\": \"beam_sniper3\",\n            \"title\": \"\xE5\x85\x89\xE6\x9D\x9F\xE7\x8B\x99\xE6\x93\x8A\xE9\x8E\x97L3\",\n            \"unlockExp\": 0,\n            \"cost\": 1024,\n            \"range\": [\n                4,\n                12\n            ],\n            \"energyCost\": 18,\n            \"maxBulletCount\": 0,\n            \"suitability\": [\n                1,\n                0.5,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"beam\",\n                \"standAttack\"\n            ],\n            \"energyType\": \"energy\",\n            \"type\": \"single\",\n            \"accuracy\": 0.7,\n            \"damage\": 2000,\n            \"curage\": 0,\n            \"powerCost\": 16\n        },\n        \"beam_sniper4\": {\n            \"id\": \"beam_sniper4\",\n            \"title\": \"\xE5\x85\x89\xE6\x9D\x9F\xE7\x8B\x99\xE6\x93\x8A\xE9\x8E\x97L4\",\n            \"unlockExp\": 3,\n            \"cost\": 1444,\n            \"range\": [\n                4,\n                12\n            ],\n            \"energyCost\": 22,\n            \"maxBulletCount\": 0,\n            \"suitability\": [\n                1,\n                0.5,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"beam\",\n                \"standAttack\"\n            ],\n            \"energyType\": \"energy\",\n            \"type\": \"single\",\n            \"accuracy\": 0.7,\n            \"damage\": 2400,\n            \"curage\": 0,\n            \"powerCost\": 19\n        },\n        \"beam_sniper5\": {\n            \"id\": \"beam_sniper5\",\n            \"title\": \"\xE5\x85\x89\xE6\x9D\x9F\xE7\x8B\x99\xE6\x93\x8A\xE9\x8E\x97L5\",\n            \"unlockExp\": 3,\n            \"cost\": 1936,\n            \"range\": [\n                5,\n                15\n            ],\n            \"energyCost\": 26,\n            \"maxBulletCount\": 0,\n            \"suitability\": [\n                1,\n                0.5,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"beam\",\n                \"standAttack\"\n            ],\n            \"energyType\": \"energy\",\n            \"type\": \"single\",\n            \"accuracy\": 0.7,\n            \"damage\": 2800,\n            \"curage\": 0,\n            \"powerCost\": 22\n        },\n        \"beam_sniper6\": {\n            \"id\": \"beam_sniper6\",\n            \"title\": \"\xE5\x85\x89\xE6\x9D\x9F\xE7\x8B\x99\xE6\x93\x8A\xE9\x8E\x97L6\",\n            \"unlockExp\": 5,\n            \"cost\": 2500,\n            \"range\": [\n                5,\n                15\n            ],\n            \"energyCost\": 31,\n            \"maxBulletCount\": 0,\n            \"suitability\": [\n                1,\n                0.5,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"beam\",\n                \"standAttack\"\n            ],\n            \"energyType\": \"energy\",\n            \"type\": \"single\",\n            \"accuracy\": 0.7,\n            \"damage\": 3300,\n            \"curage\": 0,\n            \"powerCost\": 25\n        },\n        \"beam_sniper7\": {\n            \"id\": \"beam_sniper7\",\n            \"title\": \"\xE5\x85\x89\xE6\x9D\x9F\xE7\x8B\x99\xE6\x93\x8A\xE9\x8E\x97L7\",\n            \"unlockExp\": 5,\n            \"cost\": 3136,\n            \"range\": [\n                5,\n                15\n            ],\n            \"energyCost\": 35,\n            \"maxBulletCount\": 0,\n            \"suitability\": [\n                1,\n                0.5,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"beam\",\n                \"standAttack\"\n            ],\n            \"energyType\": \"energy\",\n            \"type\": \"single\",\n            \"accuracy\": 0.7,\n            \"damage\": 3700,\n            \"curage\": 0,\n            \"powerCost\": 28\n        },\n        \"sniper1\": {\n            \"id\": \"sniper1\",\n            \"title\": \"\xE7\x8B\x99\xE6\x93\x8A\xE7\x82\xAEL1\",\n            \"unlockExp\": 0,\n            \"cost\": 400,\n            \"range\": [\n                3,\n                9\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 6,\n            \"suitability\": [\n                1,\n                0.75,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"physic\",\n                \"standAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 0.7,\n            \"damage\": 1200,\n            \"curage\": 0,\n            \"powerCost\": 10\n        },\n        \"sniper2\": {\n            \"id\": \"sniper2\",\n            \"title\": \"\xE7\x8B\x99\xE6\x93\x8A\xE7\x82\xAEL2\",\n            \"unlockExp\": 0,\n            \"cost\": 676,\n            \"range\": [\n                3,\n                9\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 6,\n            \"suitability\": [\n                1,\n                0.75,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"physic\",\n                \"standAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 0.7,\n            \"damage\": 1500,\n            \"curage\": 0,\n            \"powerCost\": 13\n        },\n        \"sniper3\": {\n            \"id\": \"sniper3\",\n            \"title\": \"\xE7\x8B\x99\xE6\x93\x8A\xE7\x82\xAEL3\",\n            \"unlockExp\": 3,\n            \"cost\": 1024,\n            \"range\": [\n                4,\n                12\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 6,\n            \"suitability\": [\n                1,\n                0.75,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"physic\",\n                \"standAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 0.7,\n            \"damage\": 1800,\n            \"curage\": 0,\n            \"powerCost\": 16\n        },\n        \"sniper4\": {\n            \"id\": \"sniper4\",\n            \"title\": \"\xE7\x8B\x99\xE6\x93\x8A\xE7\x82\xAEL4\",\n            \"unlockExp\": 3,\n            \"cost\": 1444,\n            \"range\": [\n                4,\n                12\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 6,\n            \"suitability\": [\n                1,\n                0.75,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"physic\",\n                \"standAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 0.7,\n            \"damage\": 2100,\n            \"curage\": 0,\n            \"powerCost\": 19\n        },\n        \"sniper5\": {\n            \"id\": \"sniper5\",\n            \"title\": \"\xE7\x8B\x99\xE6\x93\x8A\xE7\x82\xAEL5\",\n            \"unlockExp\": 5,\n            \"cost\": 1936,\n            \"range\": [\n                5,\n                15\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 6,\n            \"suitability\": [\n                1,\n                0.75,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"physic\",\n                \"standAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 0.7,\n            \"damage\": 2400,\n            \"curage\": 0,\n            \"powerCost\": 22\n        },\n        \"sniper6\": {\n            \"id\": \"sniper6\",\n            \"title\": \"\xE7\x8B\x99\xE6\x93\x8A\xE7\x82\xAEL6\",\n            \"unlockExp\": 5,\n            \"cost\": 2500,\n            \"range\": [\n                5,\n                15\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 6,\n            \"suitability\": [\n                1,\n                0.75,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"physic\",\n                \"standAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 0.7,\n            \"damage\": 2700,\n            \"curage\": 0,\n            \"powerCost\": 25\n        },\n        \"sniper7\": {\n            \"id\": \"sniper7\",\n            \"title\": \"\xE7\x8B\x99\xE6\x93\x8A\xE7\x82\xAEL7\",\n            \"unlockExp\": 7,\n            \"cost\": 3136,\n            \"range\": [\n                5,\n                15\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 6,\n            \"suitability\": [\n                1,\n                0.75,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"physic\",\n                \"standAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 0.7,\n            \"damage\": 3000,\n            \"curage\": 0,\n            \"powerCost\": 28\n        },\n        \"beam_gun1\": {\n            \"id\": \"beam_gun1\",\n            \"title\": \"\xE5\x85\x89\xE6\x9D\x9F\xE9\x8E\x97L1\",\n            \"unlockExp\": 0,\n            \"cost\": 400,\n            \"range\": [\n                2,\n                4\n            ],\n            \"energyCost\": 10,\n            \"maxBulletCount\": 0,\n            \"suitability\": [\n                1,\n                0.5,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"beam\"\n            ],\n            \"energyType\": \"energy\",\n            \"type\": \"single\",\n            \"accuracy\": 0.85,\n            \"damage\": 1200,\n            \"curage\": 0,\n            \"powerCost\": 10\n        },\n        \"beam_gun2\": {\n            \"id\": \"beam_gun2\",\n            \"title\": \"\xE5\x85\x89\xE6\x9D\x9F\xE9\x8E\x97L2\",\n            \"unlockExp\": 0,\n            \"cost\": 676,\n            \"range\": [\n                2,\n                4\n            ],\n            \"energyCost\": 14,\n            \"maxBulletCount\": 0,\n            \"suitability\": [\n                1,\n                0.5,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"beam\"\n            ],\n            \"energyType\": \"energy\",\n            \"type\": \"single\",\n            \"accuracy\": 0.85,\n            \"damage\": 1600,\n            \"curage\": 0,\n            \"powerCost\": 13\n        },\n        \"beam_gun3\": {\n            \"id\": \"beam_gun3\",\n            \"title\": \"\xE5\x85\x89\xE6\x9D\x9F\xE9\x8E\x97L3\",\n            \"unlockExp\": 0,\n            \"cost\": 1024,\n            \"range\": [\n                2,\n                5\n            ],\n            \"energyCost\": 18,\n            \"maxBulletCount\": 0,\n            \"suitability\": [\n                1,\n                0.5,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"beam\"\n            ],\n            \"energyType\": \"energy\",\n            \"type\": \"single\",\n            \"accuracy\": 0.85,\n            \"damage\": 2000,\n            \"curage\": 0,\n            \"powerCost\": 16\n        },\n        \"beam_gun4\": {\n            \"id\": \"beam_gun4\",\n            \"title\": \"\xE5\x85\x89\xE6\x9D\x9F\xE9\x8E\x97L4\",\n            \"unlockExp\": 3,\n            \"cost\": 1444,\n            \"range\": [\n                2,\n                5\n            ],\n            \"energyCost\": 22,\n            \"maxBulletCount\": 0,\n            \"suitability\": [\n                1,\n                0.5,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"beam\"\n            ],\n            \"energyType\": \"energy\",\n            \"type\": \"single\",\n            \"accuracy\": 0.85,\n            \"damage\": 2400,\n            \"curage\": 0,\n            \"powerCost\": 19\n        },\n        \"beam_gun5\": {\n            \"id\": \"beam_gun5\",\n            \"title\": \"\xE5\x85\x89\xE6\x9D\x9F\xE9\x8E\x97L5\",\n            \"unlockExp\": 3,\n            \"cost\": 1936,\n            \"range\": [\n                2,\n                6\n            ],\n            \"energyCost\": 26,\n            \"maxBulletCount\": 0,\n            \"suitability\": [\n                1,\n                0.5,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"beam\"\n            ],\n            \"energyType\": \"energy\",\n            \"type\": \"single\",\n            \"accuracy\": 0.85,\n            \"damage\": 2800,\n            \"curage\": 0,\n            \"powerCost\": 22\n        },\n        \"beam_gun6\": {\n            \"id\": \"beam_gun6\",\n            \"title\": \"\xE5\x85\x89\xE6\x9D\x9F\xE9\x8E\x97L6\",\n            \"unlockExp\": 5,\n            \"cost\": 2500,\n            \"range\": [\n                2,\n                6\n            ],\n            \"energyCost\": 31,\n            \"maxBulletCount\": 0,\n            \"suitability\": [\n                1,\n                0.5,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"beam\"\n            ],\n            \"energyType\": \"energy\",\n            \"type\": \"single\",\n            \"accuracy\": 0.85,\n            \"damage\": 3300,\n            \"curage\": 0,\n            \"powerCost\": 25\n        },\n        \"beam_gun7\": {\n            \"id\": \"beam_gun7\",\n            \"title\": \"\xE5\x85\x89\xE6\x9D\x9F\xE9\x8E\x97L7\",\n            \"unlockExp\": 5,\n            \"cost\": 3136,\n            \"range\": [\n                2,\n                6\n            ],\n            \"energyCost\": 35,\n            \"maxBulletCount\": 0,\n            \"suitability\": [\n                1,\n                0.5,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"beam\"\n            ],\n            \"energyType\": \"energy\",\n            \"type\": \"single\",\n            \"accuracy\": 0.85,\n            \"damage\": 3700,\n            \"curage\": 0,\n            \"powerCost\": 28\n        },\n        \"beam_gatling1\": {\n            \"id\": \"beam_gatling1\",\n            \"title\": \"\xE5\x85\x89\xE6\x9D\x9F\xE8\xA1\x9D\xE9\x8B\x92\xE9\x8E\x97L1\",\n            \"unlockExp\": 0,\n            \"cost\": 400,\n            \"range\": [\n                2,\n                4\n            ],\n            \"energyCost\": 10,\n            \"maxBulletCount\": 0,\n            \"suitability\": [\n                1,\n                0.5,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"beam\",\n                \"multi\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"energy\",\n            \"type\": \"single\",\n            \"accuracy\": 1.3,\n            \"damage\": 960,\n            \"curage\": 0,\n            \"powerCost\": 10\n        },\n        \"beam_gatling2\": {\n            \"id\": \"beam_gatling2\",\n            \"title\": \"\xE5\x85\x89\xE6\x9D\x9F\xE8\xA1\x9D\xE9\x8B\x92\xE9\x8E\x97L2\",\n            \"unlockExp\": 0,\n            \"cost\": 676,\n            \"range\": [\n                2,\n                4\n            ],\n            \"energyCost\": 14,\n            \"maxBulletCount\": 0,\n            \"suitability\": [\n                1,\n                0.5,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"beam\",\n                \"multi\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"energy\",\n            \"type\": \"single\",\n            \"accuracy\": 1.3,\n            \"damage\": 1280,\n            \"curage\": 0,\n            \"powerCost\": 13\n        },\n        \"beam_gatling3\": {\n            \"id\": \"beam_gatling3\",\n            \"title\": \"\xE5\x85\x89\xE6\x9D\x9F\xE8\xA1\x9D\xE9\x8B\x92\xE9\x8E\x97L3\",\n            \"unlockExp\": 0,\n            \"cost\": 1024,\n            \"range\": [\n                2,\n                5\n            ],\n            \"energyCost\": 18,\n            \"maxBulletCount\": 0,\n            \"suitability\": [\n                1,\n                0.5,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"beam\",\n                \"multi\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"energy\",\n            \"type\": \"single\",\n            \"accuracy\": 1.3,\n            \"damage\": 1600,\n            \"curage\": 0,\n            \"powerCost\": 16\n        },\n        \"beam_gatling4\": {\n            \"id\": \"beam_gatling4\",\n            \"title\": \"\xE5\x85\x89\xE6\x9D\x9F\xE8\xA1\x9D\xE9\x8B\x92\xE9\x8E\x97L4\",\n            \"unlockExp\": 3,\n            \"cost\": 1444,\n            \"range\": [\n                2,\n                5\n            ],\n            \"energyCost\": 22,\n            \"maxBulletCount\": 0,\n            \"suitability\": [\n                1,\n                0.5,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"beam\",\n                \"multi\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"energy\",\n            \"type\": \"single\",\n            \"accuracy\": 1.3,\n            \"damage\": 1920,\n            \"curage\": 0,\n            \"powerCost\": 19\n        },\n        \"beam_gatling5\": {\n            \"id\": \"beam_gatling5\",\n            \"title\": \"\xE5\x85\x89\xE6\x9D\x9F\xE8\xA1\x9D\xE9\x8B\x92\xE9\x8E\x97L5\",\n            \"unlockExp\": 3,\n            \"cost\": 1936,\n            \"range\": [\n                2,\n                6\n            ],\n            \"energyCost\": 26,\n            \"maxBulletCount\": 0,\n            \"suitability\": [\n                1,\n                0.5,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"beam\",\n                \"multi\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"energy\",\n            \"type\": \"single\",\n            \"accuracy\": 1.3,\n            \"damage\": 2240,\n            \"curage\": 0,\n            \"powerCost\": 22\n        },\n        \"beam_gatling6\": {\n            \"id\": \"beam_gatling6\",\n            \"title\": \"\xE5\x85\x89\xE6\x9D\x9F\xE8\xA1\x9D\xE9\x8B\x92\xE9\x8E\x97L6\",\n            \"unlockExp\": 5,\n            \"cost\": 2500,\n            \"range\": [\n                2,\n                6\n            ],\n            \"energyCost\": 31,\n            \"maxBulletCount\": 0,\n            \"suitability\": [\n                1,\n                0.5,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"beam\",\n                \"multi\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"energy\",\n            \"type\": \"single\",\n            \"accuracy\": 1.3,\n            \"damage\": 2640,\n            \"curage\": 0,\n            \"powerCost\": 25\n        },\n        \"beam_gatling7\": {\n            \"id\": \"beam_gatling7\",\n            \"title\": \"\xE5\x85\x89\xE6\x9D\x9F\xE8\xA1\x9D\xE9\x8B\x92\xE9\x8E\x97L7\",\n            \"unlockExp\": 5,\n            \"cost\": 3136,\n            \"range\": [\n                2,\n                6\n            ],\n            \"energyCost\": 35,\n            \"maxBulletCount\": 0,\n            \"suitability\": [\n                1,\n                0.5,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"beam\",\n                \"multi\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"energy\",\n            \"type\": \"single\",\n            \"accuracy\": 1.3,\n            \"damage\": 2960,\n            \"curage\": 0,\n            \"powerCost\": 28\n        },\n        \"gatling1\": {\n            \"id\": \"gatling1\",\n            \"title\": \"\xE8\xA1\x9D\xE9\x8B\x92\xE9\x8E\x97L1\",\n            \"unlockExp\": 0,\n            \"cost\": 400,\n            \"range\": [\n                2,\n                4\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 8,\n            \"suitability\": [\n                1,\n                0.75,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"physic\",\n                \"multi\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 1.3,\n            \"damage\": 2197,\n            \"curage\": 0,\n            \"powerCost\": 10\n        },\n        \"gatling2\": {\n            \"id\": \"gatling2\",\n            \"title\": \"\xE8\xA1\x9D\xE9\x8B\x92\xE9\x8E\x97L2\",\n            \"unlockExp\": 0,\n            \"cost\": 676,\n            \"range\": [\n                2,\n                4\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 8,\n            \"suitability\": [\n                1,\n                0.75,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"physic\",\n                \"multi\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 1.3,\n            \"damage\": 2515,\n            \"curage\": 0,\n            \"powerCost\": 13\n        },\n        \"gatling3\": {\n            \"id\": \"gatling3\",\n            \"title\": \"\xE8\xA1\x9D\xE9\x8B\x92\xE9\x8E\x97L3\",\n            \"unlockExp\": 0,\n            \"cost\": 1024,\n            \"range\": [\n                2,\n                5\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 7,\n            \"suitability\": [\n                1,\n                0.75,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"physic\",\n                \"multi\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 1.3,\n            \"damage\": 2863,\n            \"curage\": 0,\n            \"powerCost\": 16\n        },\n        \"gatling4\": {\n            \"id\": \"gatling4\",\n            \"title\": \"\xE8\xA1\x9D\xE9\x8B\x92\xE9\x8E\x97L4\",\n            \"unlockExp\": 3,\n            \"cost\": 1444,\n            \"range\": [\n                2,\n                5\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 7,\n            \"suitability\": [\n                1,\n                0.75,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"physic\",\n                \"multi\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 1.3,\n            \"damage\": 3241,\n            \"curage\": 0,\n            \"powerCost\": 19\n        },\n        \"gatling5\": {\n            \"id\": \"gatling5\",\n            \"title\": \"\xE8\xA1\x9D\xE9\x8B\x92\xE9\x8E\x97L5\",\n            \"unlockExp\": 3,\n            \"cost\": 1936,\n            \"range\": [\n                2,\n                6\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 6,\n            \"suitability\": [\n                1,\n                0.75,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"physic\",\n                \"multi\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 1.3,\n            \"damage\": 3652,\n            \"curage\": 0,\n            \"powerCost\": 22\n        },\n        \"gatling6\": {\n            \"id\": \"gatling6\",\n            \"title\": \"\xE8\xA1\x9D\xE9\x8B\x92\xE9\x8E\x97L6\",\n            \"unlockExp\": 5,\n            \"cost\": 2500,\n            \"range\": [\n                2,\n                6\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 6,\n            \"suitability\": [\n                1,\n                0.75,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"physic\",\n                \"multi\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 1.3,\n            \"damage\": 4096,\n            \"curage\": 0,\n            \"powerCost\": 25\n        },\n        \"gatling7\": {\n            \"id\": \"gatling7\",\n            \"title\": \"\xE8\xA1\x9D\xE9\x8B\x92\xE9\x8E\x97L7\",\n            \"unlockExp\": 5,\n            \"cost\": 3136,\n            \"range\": [\n                2,\n                6\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 6,\n            \"suitability\": [\n                1,\n                0.75,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"physic\",\n                \"multi\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 1.3,\n            \"damage\": 4574,\n            \"curage\": 0,\n            \"powerCost\": 28\n        },\n        \"beam_sword1\": {\n            \"id\": \"beam_sword1\",\n            \"title\": \"\xE5\x85\x89\xE6\x9D\x9F\xE5\x8A\x8DL1\",\n            \"unlockExp\": 0,\n            \"cost\": 400,\n            \"range\": [\n                1,\n                1\n            ],\n            \"energyCost\": 5,\n            \"maxBulletCount\": 0,\n            \"suitability\": [\n                1,\n                0.5,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"melee\",\n                \"beam\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"energy\",\n            \"type\": \"single\",\n            \"accuracy\": 1,\n            \"damage\": 1200,\n            \"curage\": 0,\n            \"powerCost\": 10\n        },\n        \"beam_sword2\": {\n            \"id\": \"beam_sword2\",\n            \"title\": \"\xE5\x85\x89\xE6\x9D\x9F\xE5\x8A\x8DL2\",\n            \"unlockExp\": 0,\n            \"cost\": 676,\n            \"range\": [\n                1,\n                1\n            ],\n            \"energyCost\": 7,\n            \"maxBulletCount\": 0,\n            \"suitability\": [\n                1,\n                0.5,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"melee\",\n                \"beam\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"energy\",\n            \"type\": \"single\",\n            \"accuracy\": 1,\n            \"damage\": 1600,\n            \"curage\": 0,\n            \"powerCost\": 13\n        },\n        \"beam_sword3\": {\n            \"id\": \"beam_sword3\",\n            \"title\": \"\xE5\x85\x89\xE6\x9D\x9F\xE5\x8A\x8DL3\",\n            \"unlockExp\": 0,\n            \"cost\": 1024,\n            \"range\": [\n                1,\n                2\n            ],\n            \"energyCost\": 9,\n            \"maxBulletCount\": 0,\n            \"suitability\": [\n                1,\n                0.5,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"melee\",\n                \"beam\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"energy\",\n            \"type\": \"single\",\n            \"accuracy\": 1,\n            \"damage\": 2200,\n            \"curage\": 0,\n            \"powerCost\": 16\n        },\n        \"beam_sword4\": {\n            \"id\": \"beam_sword4\",\n            \"title\": \"\xE5\x85\x89\xE6\x9D\x9F\xE5\x8A\x8DL4\",\n            \"unlockExp\": 3,\n            \"cost\": 1444,\n            \"range\": [\n                1,\n                2\n            ],\n            \"energyCost\": 11,\n            \"maxBulletCount\": 0,\n            \"suitability\": [\n                1,\n                0.5,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"melee\",\n                \"beam\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"energy\",\n            \"type\": \"single\",\n            \"accuracy\": 1,\n            \"damage\": 2600,\n            \"curage\": 0,\n            \"powerCost\": 19\n        },\n        \"beam_sword5\": {\n            \"id\": \"beam_sword5\",\n            \"title\": \"\xE5\x85\x89\xE6\x9D\x9F\xE5\x8A\x8DL5\",\n            \"unlockExp\": 3,\n            \"cost\": 1936,\n            \"range\": [\n                2,\n                3\n            ],\n            \"energyCost\": 13,\n            \"maxBulletCount\": 0,\n            \"suitability\": [\n                1,\n                0.5,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"melee\",\n                \"beam\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"energy\",\n            \"type\": \"single\",\n            \"accuracy\": 1,\n            \"damage\": 3000,\n            \"curage\": 0,\n            \"powerCost\": 22\n        },\n        \"beam_sword6\": {\n            \"id\": \"beam_sword6\",\n            \"title\": \"\xE5\x85\x89\xE6\x9D\x9F\xE5\x8A\x8DL6\",\n            \"unlockExp\": 5,\n            \"cost\": 2500,\n            \"range\": [\n                2,\n                3\n            ],\n            \"energyCost\": 15,\n            \"maxBulletCount\": 0,\n            \"suitability\": [\n                1,\n                0.5,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"melee\",\n                \"beam\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"energy\",\n            \"type\": \"single\",\n            \"accuracy\": 1,\n            \"damage\": 3400,\n            \"curage\": 0,\n            \"powerCost\": 25\n        },\n        \"beam_sword7\": {\n            \"id\": \"beam_sword7\",\n            \"title\": \"\xE5\x85\x89\xE6\x9D\x9F\xE5\x8A\x8DL7\",\n            \"unlockExp\": 5,\n            \"cost\": 3136,\n            \"range\": [\n                2,\n                3\n            ],\n            \"energyCost\": 17,\n            \"maxBulletCount\": 0,\n            \"suitability\": [\n                1,\n                0.5,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"melee\",\n                \"beam\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"energy\",\n            \"type\": \"single\",\n            \"accuracy\": 1,\n            \"damage\": 3800,\n            \"curage\": 0,\n            \"powerCost\": 28\n        },\n        \"sword1\": {\n            \"id\": \"sword1\",\n            \"title\": \"\xE5\xAF\xA6\xE9\xAB\x94\xE5\x8A\x8DL1\",\n            \"unlockExp\": 0,\n            \"cost\": 400,\n            \"range\": [\n                1,\n                1\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 12,\n            \"suitability\": [\n                1,\n                0.75,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"melee\",\n                \"physic\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 1,\n            \"damage\": 1200,\n            \"curage\": 0,\n            \"powerCost\": 10\n        },\n        \"sword2\": {\n            \"id\": \"sword2\",\n            \"title\": \"\xE5\xAF\xA6\xE9\xAB\x94\xE5\x8A\x8DL2\",\n            \"unlockExp\": 0,\n            \"cost\": 676,\n            \"range\": [\n                1,\n                1\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 12,\n            \"suitability\": [\n                1,\n                0.75,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"melee\",\n                \"physic\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 1,\n            \"damage\": 1600,\n            \"curage\": 0,\n            \"powerCost\": 13\n        },\n        \"sword3\": {\n            \"id\": \"sword3\",\n            \"title\": \"\xE5\xAF\xA6\xE9\xAB\x94\xE5\x8A\x8DL3\",\n            \"unlockExp\": 0,\n            \"cost\": 1024,\n            \"range\": [\n                1,\n                2\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 11,\n            \"suitability\": [\n                1,\n                0.75,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"melee\",\n                \"physic\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 1,\n            \"damage\": 2200,\n            \"curage\": 0,\n            \"powerCost\": 16\n        },\n        \"sword4\": {\n            \"id\": \"sword4\",\n            \"title\": \"\xE5\xAF\xA6\xE9\xAB\x94\xE5\x8A\x8DL4\",\n            \"unlockExp\": 3,\n            \"cost\": 1444,\n            \"range\": [\n                1,\n                2\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 11,\n            \"suitability\": [\n                1,\n                0.75,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"melee\",\n                \"physic\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 1,\n            \"damage\": 2600,\n            \"curage\": 0,\n            \"powerCost\": 19\n        },\n        \"sword5\": {\n            \"id\": \"sword5\",\n            \"title\": \"\xE5\xAF\xA6\xE9\xAB\x94\xE5\x8A\x8DL5\",\n            \"unlockExp\": 3,\n            \"cost\": 1936,\n            \"range\": [\n                2,\n                3\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 10,\n            \"suitability\": [\n                1,\n                0.75,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"melee\",\n                \"physic\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 1,\n            \"damage\": 3000,\n            \"curage\": 0,\n            \"powerCost\": 22\n        },\n        \"sword6\": {\n            \"id\": \"sword6\",\n            \"title\": \"\xE5\xAF\xA6\xE9\xAB\x94\xE5\x8A\x8DL6\",\n            \"unlockExp\": 5,\n            \"cost\": 2500,\n            \"range\": [\n                2,\n                3\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 10,\n            \"suitability\": [\n                1,\n                0.75,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"melee\",\n                \"physic\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 1,\n            \"damage\": 3400,\n            \"curage\": 0,\n            \"powerCost\": 25\n        },\n        \"sword7\": {\n            \"id\": \"sword7\",\n            \"title\": \"\xE5\xAF\xA6\xE9\xAB\x94\xE5\x8A\x8DL7\",\n            \"unlockExp\": 5,\n            \"cost\": 3136,\n            \"range\": [\n                2,\n                3\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 9,\n            \"suitability\": [\n                1,\n                0.75,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"melee\",\n                \"physic\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 1,\n            \"damage\": 3800,\n            \"curage\": 0,\n            \"powerCost\": 28\n        },\n        \"shotgun1\": {\n            \"id\": \"shotgun1\",\n            \"title\": \"\xE9\x9C\xB0\xE5\xBD\x88\xE6\xA7\x8DL1\",\n            \"unlockExp\": 0,\n            \"cost\": 400,\n            \"range\": [\n                2,\n                4\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 8,\n            \"suitability\": [\n                1,\n                0.75,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"physic\",\n                \"spray\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 1.15,\n            \"damage\": 1200,\n            \"curage\": 0,\n            \"powerCost\": 10\n        },\n        \"shotgun2\": {\n            \"id\": \"shotgun2\",\n            \"title\": \"\xE9\x9C\xB0\xE5\xBD\x88\xE6\xA7\x8DL2\",\n            \"unlockExp\": 0,\n            \"cost\": 676,\n            \"range\": [\n                2,\n                4\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 8,\n            \"suitability\": [\n                1,\n                0.75,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"physic\",\n                \"spray\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 1.15,\n            \"damage\": 1600,\n            \"curage\": 0,\n            \"powerCost\": 13\n        },\n        \"shotgun3\": {\n            \"id\": \"shotgun3\",\n            \"title\": \"\xE9\x9C\xB0\xE5\xBD\x88\xE6\xA7\x8DL3\",\n            \"unlockExp\": 0,\n            \"cost\": 1024,\n            \"range\": [\n                2,\n                4\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 7,\n            \"suitability\": [\n                1,\n                0.75,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"physic\",\n                \"spray\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 1.15,\n            \"damage\": 2000,\n            \"curage\": 0,\n            \"powerCost\": 16\n        },\n        \"shotgun4\": {\n            \"id\": \"shotgun4\",\n            \"title\": \"\xE9\x9C\xB0\xE5\xBD\x88\xE6\xA7\x8DL4\",\n            \"unlockExp\": 3,\n            \"cost\": 1444,\n            \"range\": [\n                2,\n                4\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 7,\n            \"suitability\": [\n                1,\n                0.75,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"physic\",\n                \"spray\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 1.15,\n            \"damage\": 2400,\n            \"curage\": 0,\n            \"powerCost\": 19\n        },\n        \"shotgun5\": {\n            \"id\": \"shotgun5\",\n            \"title\": \"\xE9\x9C\xB0\xE5\xBD\x88\xE6\xA7\x8DL5\",\n            \"unlockExp\": 3,\n            \"cost\": 1936,\n            \"range\": [\n                2,\n                4\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 6,\n            \"suitability\": [\n                1,\n                0.75,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"physic\",\n                \"spray\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 1.15,\n            \"damage\": 2800,\n            \"curage\": 0,\n            \"powerCost\": 22\n        },\n        \"shotgun6\": {\n            \"id\": \"shotgun6\",\n            \"title\": \"\xE9\x9C\xB0\xE5\xBD\x88\xE6\xA7\x8DL6\",\n            \"unlockExp\": 5,\n            \"cost\": 2500,\n            \"range\": [\n                2,\n                4\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 6,\n            \"suitability\": [\n                1,\n                0.75,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"physic\",\n                \"spray\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 1.15,\n            \"damage\": 3300,\n            \"curage\": 0,\n            \"powerCost\": 25\n        },\n        \"shotgun7\": {\n            \"id\": \"shotgun7\",\n            \"title\": \"\xE9\x9C\xB0\xE5\xBD\x88\xE6\xA7\x8DL7\",\n            \"unlockExp\": 5,\n            \"cost\": 3136,\n            \"range\": [\n                2,\n                4\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 6,\n            \"suitability\": [\n                1,\n                0.75,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"physic\",\n                \"spray\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 1.15,\n            \"damage\": 3700,\n            \"curage\": 0,\n            \"powerCost\": 28\n        },\n        \"machinegun1\": {\n            \"id\": \"machinegun1\",\n            \"title\": \"\xE6\xA9\x9F\xE9\x97\x9C\xE7\xA0\xB2L1\",\n            \"unlockExp\": 0,\n            \"cost\": 100,\n            \"range\": [\n                1,\n                2\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 8,\n            \"suitability\": [\n                1,\n                0.75,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"physic\",\n                \"multi\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 1.5,\n            \"damage\": 500,\n            \"curage\": 0,\n            \"powerCost\": 5\n        },\n        \"machinegun2\": {\n            \"id\": \"machinegun2\",\n            \"title\": \"\xE6\xA9\x9F\xE9\x97\x9C\xE7\xA0\xB2L2\",\n            \"unlockExp\": 0,\n            \"cost\": 144,\n            \"range\": [\n                1,\n                2\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 8,\n            \"suitability\": [\n                1,\n                0.75,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"physic\",\n                \"multi\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 1.5,\n            \"damage\": 700,\n            \"curage\": 0,\n            \"powerCost\": 6\n        },\n        \"machinegun3\": {\n            \"id\": \"machinegun3\",\n            \"title\": \"\xE6\xA9\x9F\xE9\x97\x9C\xE7\xA0\xB2L3\",\n            \"unlockExp\": 0,\n            \"cost\": 196,\n            \"range\": [\n                1,\n                2\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 8,\n            \"suitability\": [\n                1,\n                0.75,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"physic\",\n                \"multi\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 1.5,\n            \"damage\": 900,\n            \"curage\": 0,\n            \"powerCost\": 7\n        },\n        \"machinegun4\": {\n            \"id\": \"machinegun4\",\n            \"title\": \"\xE6\xA9\x9F\xE9\x97\x9C\xE7\xA0\xB2L4\",\n            \"unlockExp\": 0,\n            \"cost\": 256,\n            \"range\": [\n                1,\n                2\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 8,\n            \"suitability\": [\n                1,\n                0.75,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"physic\",\n                \"multi\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 1.5,\n            \"damage\": 1100,\n            \"curage\": 0,\n            \"powerCost\": 8\n        },\n        \"machinegun5\": {\n            \"id\": \"machinegun5\",\n            \"title\": \"\xE6\xA9\x9F\xE9\x97\x9C\xE7\xA0\xB2L5\",\n            \"unlockExp\": 0,\n            \"cost\": 324,\n            \"range\": [\n                1,\n                2\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 8,\n            \"suitability\": [\n                1,\n                0.75,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"physic\",\n                \"multi\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 1.5,\n            \"damage\": 1300,\n            \"curage\": 0,\n            \"powerCost\": 9\n        },\n        \"machinegun6\": {\n            \"id\": \"machinegun6\",\n            \"title\": \"\xE6\xA9\x9F\xE9\x97\x9C\xE7\xA0\xB2L6\",\n            \"unlockExp\": 0,\n            \"cost\": 400,\n            \"range\": [\n                1,\n                2\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 8,\n            \"suitability\": [\n                1,\n                0.75,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"physic\",\n                \"multi\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 1.5,\n            \"damage\": 1500,\n            \"curage\": 0,\n            \"powerCost\": 10\n        },\n        \"machinegun7\": {\n            \"id\": \"machinegun7\",\n            \"title\": \"\xE6\xA9\x9F\xE9\x97\x9C\xE7\xA0\xB2L7\",\n            \"unlockExp\": 0,\n            \"cost\": 484,\n            \"range\": [\n                1,\n                2\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 8,\n            \"suitability\": [\n                1,\n                0.75,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"physic\",\n                \"multi\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 1.5,\n            \"damage\": 1700,\n            \"curage\": 0,\n            \"powerCost\": 11\n        },\n        \"firegun1\": {\n            \"id\": \"firegun1\",\n            \"title\": \"\xE7\x81\xAB\xE7\x84\xB0\xE6\x94\xBE\xE5\xB0\x84\xE5\x99\xA8L1\",\n            \"unlockExp\": 0,\n            \"cost\": 400,\n            \"range\": [\n                1,\n                3\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 4,\n            \"suitability\": [\n                1,\n                0,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"fire\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 0.9,\n            \"damage\": 1200,\n            \"curage\": 0,\n            \"powerCost\": 10\n        },\n        \"firegun2\": {\n            \"id\": \"firegun2\",\n            \"title\": \"\xE7\x81\xAB\xE7\x84\xB0\xE6\x94\xBE\xE5\xB0\x84\xE5\x99\xA8L2\",\n            \"unlockExp\": 0,\n            \"cost\": 676,\n            \"range\": [\n                1,\n                3\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 4,\n            \"suitability\": [\n                1,\n                0,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"fire\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 0.9,\n            \"damage\": 1600,\n            \"curage\": 0,\n            \"powerCost\": 13\n        },\n        \"firegun3\": {\n            \"id\": \"firegun3\",\n            \"title\": \"\xE7\x81\xAB\xE7\x84\xB0\xE6\x94\xBE\xE5\xB0\x84\xE5\x99\xA8L3\",\n            \"unlockExp\": 0,\n            \"cost\": 1024,\n            \"range\": [\n                1,\n                3\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 4,\n            \"suitability\": [\n                1,\n                0,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"fire\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 0.9,\n            \"damage\": 2000,\n            \"curage\": 0,\n            \"powerCost\": 16\n        },\n        \"firegun4\": {\n            \"id\": \"firegun4\",\n            \"title\": \"\xE7\x81\xAB\xE7\x84\xB0\xE6\x94\xBE\xE5\xB0\x84\xE5\x99\xA8L4\",\n            \"unlockExp\": 3,\n            \"cost\": 1444,\n            \"range\": [\n                1,\n                3\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 4,\n            \"suitability\": [\n                1,\n                0,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"fire\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 0.9,\n            \"damage\": 2400,\n            \"curage\": 0,\n            \"powerCost\": 19\n        },\n        \"firegun5\": {\n            \"id\": \"firegun5\",\n            \"title\": \"\xE7\x81\xAB\xE7\x84\xB0\xE6\x94\xBE\xE5\xB0\x84\xE5\x99\xA8L5\",\n            \"unlockExp\": 3,\n            \"cost\": 1936,\n            \"range\": [\n                1,\n                3\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 4,\n            \"suitability\": [\n                1,\n                0,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"fire\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 0.9,\n            \"damage\": 2800,\n            \"curage\": 0,\n            \"powerCost\": 22\n        },\n        \"firegun6\": {\n            \"id\": \"firegun6\",\n            \"title\": \"\xE7\x81\xAB\xE7\x84\xB0\xE6\x94\xBE\xE5\xB0\x84\xE5\x99\xA8L6\",\n            \"unlockExp\": 5,\n            \"cost\": 2500,\n            \"range\": [\n                1,\n                3\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 4,\n            \"suitability\": [\n                1,\n                0,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"fire\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 0.9,\n            \"damage\": 3300,\n            \"curage\": 0,\n            \"powerCost\": 25\n        },\n        \"firegun7\": {\n            \"id\": \"firegun7\",\n            \"title\": \"\xE7\x81\xAB\xE7\x84\xB0\xE6\x94\xBE\xE5\xB0\x84\xE5\x99\xA8L7\",\n            \"unlockExp\": 5,\n            \"cost\": 3136,\n            \"range\": [\n                1,\n                3\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 4,\n            \"suitability\": [\n                1,\n                0,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"fire\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 0.9,\n            \"damage\": 3700,\n            \"curage\": 0,\n            \"powerCost\": 28\n        },\n        \"lightinggun1\": {\n            \"id\": \"lightinggun1\",\n            \"title\": \"\xE9\x9B\xB7\xE9\x9B\xBB\xE6\x94\xBE\xE5\xB0\x84\xE5\x99\xA8L1\",\n            \"unlockExp\": 0,\n            \"cost\": 400,\n            \"range\": [\n                1,\n                3\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 4,\n            \"suitability\": [\n                1,\n                1,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"lighting\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 0.9,\n            \"damage\": 1200,\n            \"curage\": 0,\n            \"powerCost\": 10\n        },\n        \"lightinggun2\": {\n            \"id\": \"lightinggun2\",\n            \"title\": \"\xE9\x9B\xB7\xE9\x9B\xBB\xE6\x94\xBE\xE5\xB0\x84\xE5\x99\xA8L2\",\n            \"unlockExp\": 0,\n            \"cost\": 676,\n            \"range\": [\n                1,\n                3\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 4,\n            \"suitability\": [\n                1,\n                1,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"lighting\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 0.9,\n            \"damage\": 1600,\n            \"curage\": 0,\n            \"powerCost\": 13\n        },\n        \"lightinggun3\": {\n            \"id\": \"lightinggun3\",\n            \"title\": \"\xE9\x9B\xB7\xE9\x9B\xBB\xE6\x94\xBE\xE5\xB0\x84\xE5\x99\xA8L3\",\n            \"unlockExp\": 0,\n            \"cost\": 1024,\n            \"range\": [\n                1,\n                3\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 4,\n            \"suitability\": [\n                1,\n                1,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"lighting\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 0.9,\n            \"damage\": 2000,\n            \"curage\": 0,\n            \"powerCost\": 16\n        },\n        \"lightinggun4\": {\n            \"id\": \"lightinggun4\",\n            \"title\": \"\xE9\x9B\xB7\xE9\x9B\xBB\xE6\x94\xBE\xE5\xB0\x84\xE5\x99\xA8L4\",\n            \"unlockExp\": 3,\n            \"cost\": 1444,\n            \"range\": [\n                1,\n                3\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 4,\n            \"suitability\": [\n                1,\n                1,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"lighting\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 0.9,\n            \"damage\": 2400,\n            \"curage\": 0,\n            \"powerCost\": 19\n        },\n        \"lightinggun5\": {\n            \"id\": \"lightinggun5\",\n            \"title\": \"\xE9\x9B\xB7\xE9\x9B\xBB\xE6\x94\xBE\xE5\xB0\x84\xE5\x99\xA8L5\",\n            \"unlockExp\": 3,\n            \"cost\": 1936,\n            \"range\": [\n                1,\n                3\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 4,\n            \"suitability\": [\n                1,\n                1,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"lighting\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 0.9,\n            \"damage\": 2800,\n            \"curage\": 0,\n            \"powerCost\": 22\n        },\n        \"lightinggun6\": {\n            \"id\": \"lightinggun6\",\n            \"title\": \"\xE9\x9B\xB7\xE9\x9B\xBB\xE6\x94\xBE\xE5\xB0\x84\xE5\x99\xA8L6\",\n            \"unlockExp\": 5,\n            \"cost\": 2500,\n            \"range\": [\n                1,\n                3\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 4,\n            \"suitability\": [\n                1,\n                1,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"lighting\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 0.9,\n            \"damage\": 3300,\n            \"curage\": 0,\n            \"powerCost\": 25\n        },\n        \"lightinggun7\": {\n            \"id\": \"lightinggun7\",\n            \"title\": \"\xE9\x9B\xB7\xE9\x9B\xBB\xE6\x94\xBE\xE5\xB0\x84\xE5\x99\xA8L7\",\n            \"unlockExp\": 5,\n            \"cost\": 3136,\n            \"range\": [\n                1,\n                3\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 4,\n            \"suitability\": [\n                1,\n                1,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"lighting\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 0.9,\n            \"damage\": 3700,\n            \"curage\": 0,\n            \"powerCost\": 28\n        },\n        \"range_sword1\": {\n            \"id\": \"range_sword1\",\n            \"title\": \"\xE9\x81\xA0\xE8\xB7\x9D\xE5\xAF\xA6\xE9\xAB\x94\xE5\x8A\x8DL1\",\n            \"unlockExp\": 0,\n            \"cost\": 400,\n            \"range\": [\n                2,\n                4\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 12,\n            \"suitability\": [\n                1,\n                0.75,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"melee\",\n                \"physic\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 0.85,\n            \"damage\": 1200,\n            \"curage\": 0,\n            \"powerCost\": 10\n        },\n        \"range_sword2\": {\n            \"id\": \"range_sword2\",\n            \"title\": \"\xE9\x81\xA0\xE8\xB7\x9D\xE5\xAF\xA6\xE9\xAB\x94\xE5\x8A\x8DL2\",\n            \"unlockExp\": 0,\n            \"cost\": 676,\n            \"range\": [\n                2,\n                4\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 12,\n            \"suitability\": [\n                1,\n                0.75,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"melee\",\n                \"physic\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 0.85,\n            \"damage\": 1600,\n            \"curage\": 0,\n            \"powerCost\": 13\n        },\n        \"range_sword3\": {\n            \"id\": \"range_sword3\",\n            \"title\": \"\xE9\x81\xA0\xE8\xB7\x9D\xE5\xAF\xA6\xE9\xAB\x94\xE5\x8A\x8DL3\",\n            \"unlockExp\": 0,\n            \"cost\": 1024,\n            \"range\": [\n                2,\n                4\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 11,\n            \"suitability\": [\n                1,\n                0.75,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"melee\",\n                \"physic\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 0.85,\n            \"damage\": 2200,\n            \"curage\": 0,\n            \"powerCost\": 16\n        },\n        \"range_sword4\": {\n            \"id\": \"range_sword4\",\n            \"title\": \"\xE9\x81\xA0\xE8\xB7\x9D\xE5\xAF\xA6\xE9\xAB\x94\xE5\x8A\x8DL4\",\n            \"unlockExp\": 3,\n            \"cost\": 1444,\n            \"range\": [\n                2,\n                4\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 11,\n            \"suitability\": [\n                1,\n                0.75,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"melee\",\n                \"physic\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 0.85,\n            \"damage\": 2600,\n            \"curage\": 0,\n            \"powerCost\": 19\n        },\n        \"range_sword5\": {\n            \"id\": \"range_sword5\",\n            \"title\": \"\xE9\x81\xA0\xE8\xB7\x9D\xE5\xAF\xA6\xE9\xAB\x94\xE5\x8A\x8DL5\",\n            \"unlockExp\": 3,\n            \"cost\": 1936,\n            \"range\": [\n                2,\n                4\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 10,\n            \"suitability\": [\n                1,\n                0.75,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"melee\",\n                \"physic\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 0.85,\n            \"damage\": 3000,\n            \"curage\": 0,\n            \"powerCost\": 22\n        },\n        \"range_sword6\": {\n            \"id\": \"range_sword6\",\n            \"title\": \"\xE9\x81\xA0\xE8\xB7\x9D\xE5\xAF\xA6\xE9\xAB\x94\xE5\x8A\x8DL6\",\n            \"unlockExp\": 5,\n            \"cost\": 2500,\n            \"range\": [\n                2,\n                4\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 10,\n            \"suitability\": [\n                1,\n                0.75,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"melee\",\n                \"physic\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 0.85,\n            \"damage\": 3400,\n            \"curage\": 0,\n            \"powerCost\": 25\n        },\n        \"range_sword7\": {\n            \"id\": \"range_sword7\",\n            \"title\": \"\xE9\x81\xA0\xE8\xB7\x9D\xE5\xAF\xA6\xE9\xAB\x94\xE5\x8A\x8DL7\",\n            \"unlockExp\": 5,\n            \"cost\": 3136,\n            \"range\": [\n                2,\n                4\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 9,\n            \"suitability\": [\n                1,\n                0.75,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"melee\",\n                \"physic\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 0.85,\n            \"damage\": 3800,\n            \"curage\": 0,\n            \"powerCost\": 28\n        },\n        \"torpedo1\": {\n            \"id\": \"torpedo1\",\n            \"title\": \"\xE9\xAD\x9A\xE9\x9B\xB7L1\",\n            \"unlockExp\": 0,\n            \"cost\": 400,\n            \"range\": [\n                3,\n                9\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 8,\n            \"suitability\": [\n                0,\n                1,\n                0,\n                0\n            ],\n            \"ability\": [\n                \"range\",\n                \"missile\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 0.7,\n            \"damage\": 1200,\n            \"curage\": 0,\n            \"powerCost\": 10\n        },\n        \"torpedo2\": {\n            \"id\": \"torpedo2\",\n            \"title\": \"\xE9\xAD\x9A\xE9\x9B\xB7L2\",\n            \"unlockExp\": 0,\n            \"cost\": 676,\n            \"range\": [\n                3,\n                9\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 8,\n            \"suitability\": [\n                0,\n                1,\n                0,\n                0\n            ],\n            \"ability\": [\n                \"range\",\n                \"missile\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 0.7,\n            \"damage\": 1600,\n            \"curage\": 0,\n            \"powerCost\": 13\n        },\n        \"torpedo3\": {\n            \"id\": \"torpedo3\",\n            \"title\": \"\xE9\xAD\x9A\xE9\x9B\xB7L3\",\n            \"unlockExp\": 0,\n            \"cost\": 1024,\n            \"range\": [\n                3,\n                9\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 8,\n            \"suitability\": [\n                0,\n                1,\n                0,\n                0\n            ],\n            \"ability\": [\n                \"range\",\n                \"missile\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 0.7,\n            \"damage\": 2200,\n            \"curage\": 0,\n            \"powerCost\": 16\n        },\n        \"torpedo4\": {\n            \"id\": \"torpedo4\",\n            \"title\": \"\xE9\xAD\x9A\xE9\x9B\xB7L4\",\n            \"unlockExp\": 3,\n            \"cost\": 1444,\n            \"range\": [\n                3,\n                9\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 8,\n            \"suitability\": [\n                0,\n                1,\n                0,\n                0\n            ],\n            \"ability\": [\n                \"range\",\n                \"missile\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 0.7,\n            \"damage\": 2600,\n            \"curage\": 0,\n            \"powerCost\": 19\n        },\n        \"torpedo5\": {\n            \"id\": \"torpedo5\",\n            \"title\": \"\xE9\xAD\x9A\xE9\x9B\xB7L5\",\n            \"unlockExp\": 3,\n            \"cost\": 1936,\n            \"range\": [\n                3,\n                9\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 8,\n            \"suitability\": [\n                0,\n                1,\n                0,\n                0\n            ],\n            \"ability\": [\n                \"range\",\n                \"missile\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 0.7,\n            \"damage\": 3000,\n            \"curage\": 0,\n            \"powerCost\": 22\n        },\n        \"torpedo6\": {\n            \"id\": \"torpedo6\",\n            \"title\": \"\xE9\xAD\x9A\xE9\x9B\xB7L6\",\n            \"unlockExp\": 5,\n            \"cost\": 2500,\n            \"range\": [\n                3,\n                9\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 8,\n            \"suitability\": [\n                0,\n                1,\n                0,\n                0\n            ],\n            \"ability\": [\n                \"range\",\n                \"missile\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 0.7,\n            \"damage\": 3400,\n            \"curage\": 0,\n            \"powerCost\": 25\n        },\n        \"torpedo7\": {\n            \"id\": \"torpedo7\",\n            \"title\": \"\xE9\xAD\x9A\xE9\x9B\xB7L7\",\n            \"unlockExp\": 5,\n            \"cost\": 3136,\n            \"range\": [\n                3,\n                9\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 8,\n            \"suitability\": [\n                0,\n                1,\n                0,\n                0\n            ],\n            \"ability\": [\n                \"range\",\n                \"missile\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 0.7,\n            \"damage\": 3800,\n            \"curage\": 0,\n            \"powerCost\": 28\n        },\n        \"sea_mine1\": {\n            \"id\": \"sea_mine1\",\n            \"title\": \"\xE6\xB5\xB7\xE6\xA9\x9F\xE9\x9B\xB7L1\",\n            \"unlockExp\": 0,\n            \"cost\": 400,\n            \"range\": [\n                1,\n                4\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 8,\n            \"suitability\": [\n                0,\n                1,\n                0,\n                0\n            ],\n            \"ability\": [\n                \"range\",\n                \"missile\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 0.85,\n            \"damage\": 1200,\n            \"curage\": 0,\n            \"powerCost\": 10\n        },\n        \"sea_mine2\": {\n            \"id\": \"sea_mine2\",\n            \"title\": \"\xE6\xB5\xB7\xE6\xA9\x9F\xE9\x9B\xB7L2\",\n            \"unlockExp\": 0,\n            \"cost\": 676,\n            \"range\": [\n                1,\n                4\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 8,\n            \"suitability\": [\n                0,\n                1,\n                0,\n                0\n            ],\n            \"ability\": [\n                \"range\",\n                \"missile\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 0.85,\n            \"damage\": 1600,\n            \"curage\": 0,\n            \"powerCost\": 13\n        },\n        \"sea_mine3\": {\n            \"id\": \"sea_mine3\",\n            \"title\": \"\xE6\xB5\xB7\xE6\xA9\x9F\xE9\x9B\xB7L3\",\n            \"unlockExp\": 0,\n            \"cost\": 1024,\n            \"range\": [\n                1,\n                4\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 8,\n            \"suitability\": [\n                0,\n                1,\n                0,\n                0\n            ],\n            \"ability\": [\n                \"range\",\n                \"missile\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 0.85,\n            \"damage\": 2200,\n            \"curage\": 0,\n            \"powerCost\": 16\n        },\n        \"sea_mine4\": {\n            \"id\": \"sea_mine4\",\n            \"title\": \"\xE6\xB5\xB7\xE6\xA9\x9F\xE9\x9B\xB7L4\",\n            \"unlockExp\": 3,\n            \"cost\": 1444,\n            \"range\": [\n                1,\n                4\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 8,\n            \"suitability\": [\n                0,\n                1,\n                0,\n                0\n            ],\n            \"ability\": [\n                \"range\",\n                \"missile\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 0.85,\n            \"damage\": 2600,\n            \"curage\": 0,\n            \"powerCost\": 19\n        },\n        \"sea_mine5\": {\n            \"id\": \"sea_mine5\",\n            \"title\": \"\xE6\xB5\xB7\xE6\xA9\x9F\xE9\x9B\xB7L5\",\n            \"unlockExp\": 3,\n            \"cost\": 1936,\n            \"range\": [\n                1,\n                4\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 8,\n            \"suitability\": [\n                0,\n                1,\n                0,\n                0\n            ],\n            \"ability\": [\n                \"range\",\n                \"missile\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 0.85,\n            \"damage\": 3000,\n            \"curage\": 0,\n            \"powerCost\": 22\n        },\n        \"sea_mine6\": {\n            \"id\": \"sea_mine6\",\n            \"title\": \"\xE6\xB5\xB7\xE6\xA9\x9F\xE9\x9B\xB7L6\",\n            \"unlockExp\": 5,\n            \"cost\": 2500,\n            \"range\": [\n                1,\n                4\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 8,\n            \"suitability\": [\n                0,\n                1,\n                0,\n                0\n            ],\n            \"ability\": [\n                \"range\",\n                \"missile\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 0.85,\n            \"damage\": 3400,\n            \"curage\": 0,\n            \"powerCost\": 25\n        },\n        \"sea_mine7\": {\n            \"id\": \"sea_mine7\",\n            \"title\": \"\xE6\xB5\xB7\xE6\xA9\x9F\xE9\x9B\xB7L7\",\n            \"unlockExp\": 5,\n            \"cost\": 3136,\n            \"range\": [\n                1,\n                4\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 8,\n            \"suitability\": [\n                0,\n                1,\n                0,\n                0\n            ],\n            \"ability\": [\n                \"range\",\n                \"missile\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 0.85,\n            \"damage\": 3800,\n            \"curage\": 0,\n            \"powerCost\": 28\n        },\n        \"gaite_handSword\": {\n            \"id\": \"gaite_handSword\",\n            \"title\": \"\xE8\x93\x8B\xE7\x89\xB9\xE6\x89\x8B\xE5\x88\x80\",\n            \"unlockExp\": 9999,\n            \"cost\": 0,\n            \"range\": [\n                1,\n                1\n            ],\n            \"energyCost\": 10,\n            \"maxBulletCount\": 0,\n            \"suitability\": [\n                1,\n                0.75,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"melee\",\n                \"physic\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"energy\",\n            \"type\": \"single\",\n            \"accuracy\": 1,\n            \"damage\": 3800,\n            \"curage\": 0,\n            \"powerCost\": 10\n        },\n        \"gaite_axe\": {\n            \"id\": \"gaite_axe\",\n            \"title\": \"\xE8\x93\x8B\xE7\x89\xB9\xE5\xB7\xA8\xE6\x96\xA7\",\n            \"unlockExp\": 9999,\n            \"cost\": 0,\n            \"range\": [\n                2,\n                3\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 3,\n            \"suitability\": [\n                1,\n                0.75,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"melee\",\n                \"physic\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 0.7,\n            \"damage\": 10000,\n            \"curage\": 120,\n            \"powerCost\": 10\n        },\n        \"gaite_beam\": {\n            \"id\": \"gaite_beam\",\n            \"title\": \"\xE8\x93\x8B\xE7\x89\xB9\xE5\x85\x89\xE7\xB7\x9A\",\n            \"unlockExp\": 9999,\n            \"cost\": 0,\n            \"range\": [\n                1,\n                3\n            ],\n            \"energyCost\": 30,\n            \"maxBulletCount\": 0,\n            \"suitability\": [\n                1,\n                0.5,\n                1.1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"beam\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"energy\",\n            \"type\": \"single\",\n            \"accuracy\": 0.95,\n            \"damage\": 9000,\n            \"curage\": 130,\n            \"powerCost\": 10\n        },\n        \"gaite_cannon\": {\n            \"id\": \"gaite_cannon\",\n            \"title\": \"\xE8\x93\x8B\xE7\x89\xB9\xE5\x8A\xA0\xE8\xBE\xB2\",\n            \"unlockExp\": 9999,\n            \"cost\": 0,\n            \"range\": [\n                2,\n                5\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 6,\n            \"suitability\": [\n                1,\n                0.5,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"physic\",\n                \"multi\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 0.85,\n            \"damage\": 3000,\n            \"curage\": 0,\n            \"powerCost\": 10\n        },\n        \"gaite_drill\": {\n            \"id\": \"gaite_drill\",\n            \"title\": \"\xE8\x93\x8B\xE7\x89\xB9\xE9\x9B\xBB\xE9\x91\xBD\",\n            \"unlockExp\": 9999,\n            \"cost\": 0,\n            \"range\": [\n                1,\n                1\n            ],\n            \"energyCost\": 9,\n            \"maxBulletCount\": 0,\n            \"suitability\": [\n                1,\n                0.75,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"melee\",\n                \"physic\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"energy\",\n            \"type\": \"single\",\n            \"accuracy\": 1,\n            \"damage\": 3500,\n            \"curage\": 0,\n            \"powerCost\": 10\n        },\n        \"gaite_powerDrill\": {\n            \"id\": \"gaite_powerDrill\",\n            \"title\": \"\xE8\x93\x8B\xE7\x89\xB9\xE5\xBC\xBA\xE5\x8A\x9B\xE9\x9B\xBB\xE9\x89\x86\",\n            \"unlockExp\": 9999,\n            \"cost\": 0,\n            \"range\": [\n                1,\n                2\n            ],\n            \"energyCost\": 20,\n            \"maxBulletCount\": 0,\n            \"suitability\": [\n                1.2,\n                0.75,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"melee\",\n                \"physic\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"energy\",\n            \"type\": \"single\",\n            \"accuracy\": 0.95,\n            \"damage\": 7000,\n            \"curage\": 120,\n            \"powerCost\": 10\n        },\n        \"gaite_punch\": {\n            \"id\": \"gaite_punch\",\n            \"title\": \"\xE8\x93\x8B\xE7\x89\xB9\xE9\x87\x8D\xE6\x8B\xB3\",\n            \"unlockExp\": 9999,\n            \"cost\": 0,\n            \"range\": [\n                1,\n                1\n            ],\n            \"energyCost\": 5,\n            \"maxBulletCount\": 0,\n            \"suitability\": [\n                1,\n                1,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"melee\",\n                \"physic\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"energy\",\n            \"type\": \"single\",\n            \"accuracy\": 1,\n            \"damage\": 3200,\n            \"curage\": 0,\n            \"powerCost\": 10\n        },\n        \"gaite_missle\": {\n            \"id\": \"gaite_missle\",\n            \"title\": \"\xE8\x93\x8B\xE7\x89\xB9\xE9\xA3\x9B\xE5\xBD\x88\",\n            \"unlockExp\": 9999,\n            \"cost\": 0,\n            \"range\": [\n                2,\n                5\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 6,\n            \"suitability\": [\n                1,\n                1,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"missile\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 0.85,\n            \"damage\": 3000,\n            \"curage\": 0,\n            \"powerCost\": 10\n        },\n        \"gaite_shan\": {\n            \"id\": \"gaite_shan\",\n            \"title\": \"\xE8\x93\x8B\xE7\x89\xB9\xE5\xA4\xA7\xE9\x9B\xAA\xE5\xB1\xB1\",\n            \"unlockExp\": 9999,\n            \"cost\": 0,\n            \"range\": [\n                1,\n                1\n            ],\n            \"energyCost\": 20,\n            \"maxBulletCount\": 0,\n            \"suitability\": [\n                1,\n                1.3,\n                0.75,\n                1\n            ],\n            \"ability\": [\n                \"melee\",\n                \"physic\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"energy\",\n            \"type\": \"single\",\n            \"accuracy\": 0.9,\n            \"damage\": 9500,\n            \"curage\": 130,\n            \"powerCost\": 10\n        },\n        \"moshen_ray\": {\n            \"id\": \"moshen_ray\",\n            \"title\": \"\xE5\x85\x89\xE5\xAD\x90\xE5\x8A\x9B\xE5\xB0\x84\xE7\xB6\xAB\",\n            \"unlockExp\": 9999,\n            \"cost\": 0,\n            \"range\": [\n                1,\n                4\n            ],\n            \"energyCost\": 3,\n            \"maxBulletCount\": 0,\n            \"suitability\": [\n                1,\n                2,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"beam\"\n            ],\n            \"energyType\": \"energy\",\n            \"type\": \"single\",\n            \"accuracy\": 0.85,\n            \"damage\": 2500,\n            \"curage\": 0,\n            \"powerCost\": 10\n        },\n        \"moshen_punch\": {\n            \"id\": \"moshen_punch\",\n            \"title\": \"\xE9\x87\x91\xE5\x89\x9B\xE9\x87\x8D\xE6\x8B\xB3\",\n            \"unlockExp\": 9999,\n            \"cost\": 0,\n            \"range\": [\n                1,\n                1\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 6,\n            \"suitability\": [\n                1,\n                1,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"melee\",\n                \"physic\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 1,\n            \"damage\": 3300,\n            \"curage\": 0,\n            \"powerCost\": 10\n        },\n        \"moshen_flypunch\": {\n            \"id\": \"moshen_flypunch\",\n            \"title\": \"\xE9\x87\x91\xE5\x89\x9B\xE9\xA3\x9B\xE6\x8B\xB3\",\n            \"unlockExp\": 9999,\n            \"cost\": 0,\n            \"range\": [\n                1,\n                3\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 4,\n            \"suitability\": [\n                1,\n                0.75,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"physic\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 0.85,\n            \"damage\": 4000,\n            \"curage\": 0,\n            \"powerCost\": 10\n        },\n        \"moshen_jian\": {\n            \"id\": \"moshen_jian\",\n            \"title\": \"\xE9\x87\x91\xE5\x89\x9B\xE7\xA5\x9E\xE5\x8A\x8D\",\n            \"unlockExp\": 9999,\n            \"cost\": 0,\n            \"range\": [\n                1,\n                1\n            ],\n            \"energyCost\": 22,\n            \"maxBulletCount\": 0,\n            \"suitability\": [\n                1,\n                1,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"melee\",\n                \"physic\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"energy\",\n            \"type\": \"single\",\n            \"accuracy\": 1,\n            \"damage\": 6000,\n            \"curage\": 120,\n            \"powerCost\": 10\n        },\n        \"moshen_fire\": {\n            \"id\": \"moshen_fire\",\n            \"title\": \"\xE9\xAD\x94\xE7\xA5\x9E\xE7\x81\xAB\xE7\x84\xB0\",\n            \"unlockExp\": 9999,\n            \"cost\": 0,\n            \"range\": [\n                1,\n                2\n            ],\n            \"energyCost\": 45,\n            \"maxBulletCount\": 0,\n            \"suitability\": [\n                1,\n                0.75,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"range\",\n                \"fire\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"energy\",\n            \"type\": \"single\",\n            \"accuracy\": 0.9,\n            \"damage\": 8500,\n            \"curage\": 130,\n            \"powerCost\": 10\n        },\n        \"duankong_fight\": {\n            \"id\": \"duankong_fight\",\n            \"title\": \"\xE6\xA0\xBC\xE9\xAC\xA5\",\n            \"unlockExp\": 9999,\n            \"cost\": 0,\n            \"range\": [\n                1,\n                1\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 6,\n            \"suitability\": [\n                1,\n                0.5,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"melee\",\n                \"physic\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 1,\n            \"damage\": 3000,\n            \"curage\": 0,\n            \"powerCost\": 9\n        },\n        \"duankong_laser\": {\n            \"id\": \"duankong_laser\",\n            \"title\": \"\xE5\x9B\x9B\xE9\x80\xA3\xE7\x82\xAE\",\n            \"unlockExp\": 9999,\n            \"cost\": 0,\n            \"range\": [\n                2,\n                3\n            ],\n            \"energyCost\": 0,\n            \"maxBulletCount\": 6,\n            \"suitability\": [\n                1,\n                0.5,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"melee\",\n                \"beam\",\n                \"multi\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"bullet\",\n            \"type\": \"single\",\n            \"accuracy\": 1.1,\n            \"damage\": 2600,\n            \"curage\": 0,\n            \"powerCost\": 8\n        },\n        \"duankong_sword\": {\n            \"id\": \"duankong_sword\",\n            \"title\": \"\xE6\x96\xB7\xE7\xA9\xBA\xE5\x8A\x8D\",\n            \"unlockExp\": 9999,\n            \"cost\": 0,\n            \"range\": [\n                1,\n                2\n            ],\n            \"energyCost\": 23,\n            \"maxBulletCount\": 0,\n            \"suitability\": [\n                1,\n                0.5,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"melee\",\n                \"physic\",\n                \"moveAttack\"\n            ],\n            \"energyType\": \"energy\",\n            \"type\": \"single\",\n            \"accuracy\": 0.95,\n            \"damage\": 6300,\n            \"curage\": 115,\n            \"powerCost\": 21\n        },\n        \"duankong_shot\": {\n            \"id\": \"duankong_shot\",\n            \"title\": \"\xE6\x96\xB7\xE7\xA9\xBA\xE7\x82\xAE\",\n            \"unlockExp\": 9999,\n            \"cost\": 0,\n            \"range\": [\n                2,\n                5\n            ],\n            \"energyCost\": 43,\n            \"maxBulletCount\": 0,\n            \"suitability\": [\n                1,\n                0.5,\n                1,\n                1\n            ],\n            \"ability\": [\n                \"melee\",\n                \"beam\"\n            ],\n            \"energyType\": \"energy\",\n            \"type\": \"single\",\n            \"accuracy\": 0.8,\n            \"damage\": 8000,\n            \"curage\": 130,\n            \"powerCost\": 28\n        }\n    },\n    \"weaponAbility\": {\n        \"moveAttack\": {\n            \"id\": \"moveAttack\",\n            \"title\": \"\xE7\xA7\xBB\xE5\x8B\x95\xE5\x8F\xAF\",\n            \"desc\": \"\xE5\x8F\xAF\xE7\xA7\xBB\xE5\x8B\x95\xE4\xBD\xBF\xE7\x94\xA8\",\n            \"values\": []\n        },\n        \"standAttack\": {\n            \"id\": \"standAttack\",\n            \"title\": \"\xE7\x8B\x99\xE6\x93\x8A\",\n            \"desc\": \"\xE5\x8E\x9F\xE5\x9C\xB0\xE4\xBD\xBF\xE7\x94\xA8\xE6\x99\x82\xE3\x80\x82\xE5\x91\xBD\xE4\xB8\xAD\xE5\xA2\x9E\xE5\x8A\xA0{0}\xE3\x80\x82\xE4\xB8\x8D\xE5\x8F\xAF\xE5\x8F\x8D\xE6\x93\x8A\xE3\x80\x82\",\n            \"values\": [\n                \"1\"\n            ]\n        },\n        \"melee\": {\n            \"id\": \"melee\",\n            \"title\": \"\xE6\xA0\xBC\xE9\xAC\xA5\",\n            \"desc\": \"\xE4\xBB\xA5\xE6\xA0\xBC\xE9\xAC\xA5\xE5\x80\xBC\xE5\xB7\xAE\xE8\xB7\x9D\xE5\xBD\xB1\xE9\x9F\xBF\xE5\x91\xBD\xE4\xB8\xAD\xE7\x8E\x87\xE8\x88\x87\xE5\x82\xB7\xE5\xAE\xB3\",\n            \"values\": []\n        },\n        \"range\": {\n            \"id\": \"range\",\n            \"title\": \"\xE5\xB0\x84\xE6\x93\x8A\",\n            \"desc\": \"\xE4\xBB\xA5\xE5\xB0\x84\xE6\x93\x8A\xE5\x80\xBC\xE5\xB7\xAE\xE8\xB7\x9D\xE5\xBD\xB1\xE9\x9F\xBF\xE5\x91\xBD\xE4\xB8\xAD\xE7\x8E\x87\xE8\x88\x87\xE5\x82\xB7\xE5\xAE\xB3\",\n            \"values\": []\n        },\n        \"beam\": {\n            \"id\": \"beam\",\n            \"title\": \"\xE5\x85\x89\xE6\x9D\x9F\",\n            \"desc\": \"\xE5\x85\x89\xE6\x9D\x9F\xE8\xA3\x9D\xE7\x94\xB2\xE5\x8F\xAF\xE4\xBB\xA5\xE6\xB8\x9B\xE8\xBC\x95\xE5\x82\xB7\xE5\xAE\xB3\",\n            \"values\": []\n        },\n        \"physic\": {\n            \"id\": \"physic\",\n            \"title\": \"\xE5\xAF\xA6\xE5\xBD\x88\",\n            \"desc\": \"\xE8\xA3\x9D\xE7\x94\xB2\xE5\x8F\xAF\xE4\xBB\xA5\xE6\xB8\x9B\xE8\xBC\x95\xE5\x82\xB7\xE5\xAE\xB3\",\n            \"values\": []\n        },\n        \"missile\": {\n            \"id\": \"missile\",\n            \"title\": \"\xE9\xA3\x9B\xE8\xA1\x8C\xE5\x85\xB5\xE5\x99\xA8\",\n            \"desc\": \"\xE5\x91\xBD\xE4\xB8\xAD\xE7\x8E\x87\xE4\xB8\x8D\xE5\x8F\x97\xE5\xB0\x8D\xE8\xB1\xA1\xE5\x89\xA9\xE9\xA4\x98\xE5\x87\xBA\xE5\x8A\x9B\xE5\xBD\xB1\xE9\x9F\xBF, \xE6\x9C\x83\xE8\xA2\xAB[\xE9\x98\xB2\xE7\xA6\xA6\xE5\x85\xB5\xE5\x99\xA8]\xE6\x93\x8A\xE8\x90\xBD\",\n            \"values\": []\n        },\n        \"fire\": {\n            \"id\": \"fire\",\n            \"title\": \"\xE7\x81\xAB\xE7\x84\xB0\",\n            \"desc\": \"\xE5\xB0\x8D\xE8\xB1\xA1\xE4\xB8\x8D\xE5\x8F\x97\xE6\xA8\xB9\xE6\x9E\x97\xE5\x9C\xB0\xE5\x9E\x8B\xE8\xA3\x9C\xE6\xAD\xA3.\",\n            \"values\": []\n        },\n        \"lighting\": {\n            \"id\": \"lighting\",\n            \"title\": \"\xE9\x9B\xBB\xE6\x93\x8A\",\n            \"desc\": \"\xE5\xB0\x8D\xE8\xB1\xA1\xE4\xB8\x8D\xE5\x8F\x97\xE6\xB0\xB4\xE5\x9F\x9F\xE5\x9C\xB0\xE5\x9E\x8B\xE8\xA3\x9C\xE6\xAD\xA3.\",\n            \"values\": []\n        },\n        \"spray\": {\n            \"id\": \"spray\",\n            \"title\": \"\xE6\x93\xB4\xE6\x95\xA3\",\n            \"desc\": \"\xE4\xB8\x80\xE5\xAE\x9A\xE5\x91\xBD\xE4\xB8\xAD, \xE5\x82\xB7\xE5\xAE\xB3\xE5\x8A\x9B\xE5\x8F\xA6\xE5\xA4\x96*\xE5\x91\xBD\xE4\xB8\xAD\xE7\x8E\x87\",\n            \"values\": []\n        },\n        \"multi\": {\n            \"id\": \"multi\",\n            \"title\": \"\xE9\x80\xA3\xE5\xB0\x84\",\n            \"desc\": \"\xE5\x91\xBD\xE4\xB8\xAD*{0}, \xE5\x82\xB7\xE5\xAE\xB3*{1}~{2}\",\n            \"values\": [\n                \"1.1\",\n                \"0.7\",\n                \"1.3\"\n            ]\n        }\n    },\n    \"weaponEnergyType\": {\n        \"energy\": {\n            \"id\": \"energy\",\n            \"title\": \"energy\"\n        },\n        \"bullet\": {\n            \"id\": \"bullet\",\n            \"title\": \"bullet\"\n        }\n    },\n    \"weaponType\": {\n        \"single\": {\n            \"id\": \"single\",\n            \"title\": \"single\"\n        },\n        \"line\": {\n            \"id\": \"line\",\n            \"title\": \"line\"\n        }\n    }\n}")),$pkg.GameData);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}err=_r;/* */if(!$interfaceIsEqual(err,$ifaceNil)){$s=2;continue;}/* */$s=3;continue;/* if (!($interfaceIsEqual(err, $ifaceNil))) { */case 2:_r$1=err.Error();/* */$s=4;case 4:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_r$2=fmt.Println(new sliceType$2([new $String(_r$1)]));/* */$s=5;case 5:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_r$2;$s=-1;return;/* } */case 3:$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:init};}$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f.err=err;$f.$s=$s;$f.$r=$r;return $f;};RandRobotProto=function(){var _entry,_i,_key,_keys,_r,_r$1,_ref,filtered,proto,protoID,protos,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_i=$f._i;_key=$f._key;_keys=$f._keys;_r=$f._r;_r$1=$f._r$1;_ref=$f._ref;filtered=$f.filtered;proto=$f.proto;protoID=$f.protoID;protos=$f.protos;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:filtered=$makeMap($String.keyFor,[]);_ref=$pkg.GameData.Robot;_i=0;_keys=$keys(_ref);/* while (true) { */case 1:/* if (!(_i < _keys.length)) { break; } */if(!(_i<_keys.length)){$s=2;continue;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;/* continue; */$s=1;continue;}protoID=_entry.k;proto=$clone(_entry.v,RobotProto);if(proto.Enemy===false){_i++;/* continue; */$s=1;continue;}_key=protoID;(filtered||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key)]={k:_key,v:$clone(proto,RobotProto)};_i++;/* } */$s=1;continue;case 2:protos=ValsStringRobotProto(filtered);/* */if(protos.$length===0){$s=3;continue;}/* */$s=4;continue;/* if (protos.$length === 0) { */case 3:_r=fmt.Errorf("protos's len is zero.",new sliceType$2([]));/* */$s=5;case 5:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return[new RobotProto.ptr("","",0,0,0,0,sliceType.nil,sliceType.nil,arrayType.zero(),sliceType.nil,0,false),_r];/* } */case 4:_r$1=rand.Intn(protos.$length);/* */$s=6;case 6:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}$s=-1;return[(x=_r$1,x<0||x>=protos.$length?($throwRuntimeError("index out of range"),undefined):protos.$array[protos.$offset+x]),$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:RandRobotProto};}$f._entry=_entry;$f._i=_i;$f._key=_key;$f._keys=_keys;$f._r=_r;$f._r$1=_r$1;$f._ref=_ref;$f.filtered=filtered;$f.proto=proto;$f.protoID=protoID;$f.protos=protos;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};$pkg.RandRobotProto=RandRobotProto;RobotProto.init("",[{prop:"ID",name:"ID",embedded:false,exported:true,typ:$String,tag:""},{prop:"Title",name:"Title",embedded:false,exported:true,typ:$String,tag:""},{prop:"Cost",name:"Cost",embedded:false,exported:true,typ:$Int,tag:""},{prop:"Power",name:"Power",embedded:false,exported:true,typ:$Int,tag:""},{prop:"HP",name:"HP",embedded:false,exported:true,typ:$Int,tag:""},{prop:"EN",name:"EN",embedded:false,exported:true,typ:$Int,tag:""},{prop:"Weapons",name:"Weapons",embedded:false,exported:true,typ:sliceType,tag:""},{prop:"Components",name:"Components",embedded:false,exported:true,typ:sliceType,tag:""},{prop:"Suitability",name:"Suitability",embedded:false,exported:true,typ:arrayType,tag:""},{prop:"Transform",name:"Transform",embedded:false,exported:true,typ:sliceType,tag:""},{prop:"UnlockExp",name:"UnlockExp",embedded:false,exported:true,typ:$Int,tag:""},{prop:"Enemy",name:"Enemy",embedded:false,exported:true,typ:$Bool,tag:""}]);PilotProto.init("",[{prop:"ID",name:"ID",embedded:false,exported:true,typ:$String,tag:""},{prop:"Title",name:"Title",embedded:false,exported:true,typ:$String,tag:""},{prop:"Cost",name:"Cost",embedded:false,exported:true,typ:$Int,tag:""},{prop:"Melee",name:"Melee",embedded:false,exported:true,typ:$Int,tag:""},{prop:"Range",name:"Range",embedded:false,exported:true,typ:$Int,tag:""},{prop:"Atk",name:"Atk",embedded:false,exported:true,typ:$Int,tag:""},{prop:"Evade",name:"Evade",embedded:false,exported:true,typ:$Int,tag:""},{prop:"Guard",name:"Guard",embedded:false,exported:true,typ:$Int,tag:""},{prop:"Tech",name:"Tech",embedded:false,exported:true,typ:$Int,tag:""},{prop:"Ability",name:"Ability",embedded:false,exported:true,typ:sliceType,tag:""},{prop:"UnlockExp",name:"UnlockExp",embedded:false,exported:true,typ:$Int,tag:""}]);WeaponProto.init("",[{prop:"ID",name:"ID",embedded:false,exported:true,typ:$String,tag:""},{prop:"Title",name:"Title",embedded:false,exported:true,typ:$String,tag:""},{prop:"Cost",name:"Cost",embedded:false,exported:true,typ:$Int,tag:""},{prop:"Range",name:"Range",embedded:false,exported:true,typ:arrayType$1,tag:""},{prop:"EnergyCost",name:"EnergyCost",embedded:false,exported:true,typ:$Int,tag:""},{prop:"MaxBulletCount",name:"MaxBulletCount",embedded:false,exported:true,typ:$Int,tag:""},{prop:"Suitability",name:"Suitability",embedded:false,exported:true,typ:arrayType,tag:""},{prop:"Ability",name:"Ability",embedded:false,exported:true,typ:sliceType,tag:""},{prop:"EnergyType",name:"EnergyType",embedded:false,exported:true,typ:$String,tag:""},{prop:"Type",name:"Type",embedded:false,exported:true,typ:$String,tag:""},{prop:"Accuracy",name:"Accuracy",embedded:false,exported:true,typ:$Float64,tag:""},{prop:"Damage",name:"Damage",embedded:false,exported:true,typ:$Int,tag:""},{prop:"Curage",name:"Curage",embedded:false,exported:true,typ:$Int,tag:""},{prop:"PowerCost",name:"PowerCost",embedded:false,exported:true,typ:$Int,tag:""},{prop:"UnlockExp",name:"UnlockExp",embedded:false,exported:true,typ:$Int,tag:""}]);ComponentProto.init("",[{prop:"ID",name:"ID",embedded:false,exported:true,typ:$String,tag:""},{prop:"Title",name:"Title",embedded:false,exported:true,typ:$String,tag:""},{prop:"Cost",name:"Cost",embedded:false,exported:true,typ:$Int,tag:""},{prop:"Desc",name:"Desc",embedded:false,exported:true,typ:$String,tag:""},{prop:"Value",name:"Value",embedded:false,exported:true,typ:sliceType,tag:""},{prop:"PowerCost",name:"PowerCost",embedded:false,exported:true,typ:$Int,tag:""},{prop:"Action",name:"Action",embedded:false,exported:true,typ:$String,tag:""},{prop:"UnlockExp",name:"UnlockExp",embedded:false,exported:true,typ:$Int,tag:""}]);TerrainProto.init("",[{prop:"ID",name:"ID",embedded:false,exported:true,typ:$String,tag:""},{prop:"Title",name:"Title",embedded:false,exported:true,typ:$String,tag:""},{prop:"Cost",name:"Cost",embedded:false,exported:true,typ:arrayType,tag:""},{prop:"HitRate",name:"HitRate",embedded:false,exported:true,typ:$Float64,tag:""},{prop:"Damage",name:"Damage",embedded:false,exported:true,typ:$Float64,tag:""}]);TerrainMappingProto.init("",[{prop:"Terrain",name:"Terrain",embedded:false,exported:true,typ:$String,tag:""}]);ConfigProto.init("",[{prop:"ID",name:"ID",embedded:false,exported:true,typ:$String,tag:""},{prop:"PowerCostForMove",name:"PowerCostForMove",embedded:false,exported:true,typ:$Int,tag:""},{prop:"Award",name:"Award",embedded:false,exported:true,typ:sliceType$7,tag:""},{prop:"Robots",name:"Robots",embedded:false,exported:true,typ:sliceType,tag:""},{prop:"Weapons",name:"Weapons",embedded:false,exported:true,typ:sliceType,tag:""},{prop:"Components",name:"Components",embedded:false,exported:true,typ:sliceType,tag:""},{prop:"Pilots",name:"Pilots",embedded:false,exported:true,typ:sliceType,tag:""}]);Data.init("",[{prop:"Robot",name:"Robot",embedded:false,exported:true,typ:mapType,tag:""},{prop:"Pilot",name:"Pilot",embedded:false,exported:true,typ:mapType$1,tag:""},{prop:"Weapon",name:"Weapon",embedded:false,exported:true,typ:mapType$2,tag:""},{prop:"Component",name:"Component",embedded:false,exported:true,typ:mapType$3,tag:""},{prop:"TerrainMapping",name:"TerrainMapping",embedded:false,exported:true,typ:mapType$4,tag:""},{prop:"Terrain",name:"Terrain",embedded:false,exported:true,typ:mapType$5,tag:""},{prop:"Config",name:"Config",embedded:false,exported:true,typ:mapType$6,tag:""}]);$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=json.$init();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=fmt.$init();/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=rand.$init();/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$pkg.GameData=new Data.ptr(false,false,false,false,false,false,false);$r=init();/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["app/tool/uidata"]=function(){var $pkg={},$init,data,protocol,fmt,CommandKeyDown,CommandFlush,Menu1D,Menu2D,BattleMenuSlot,BattleMenu,CursorInfo,GameplayPage,ListInt,UI,sliceType,arrayType,arrayType$1,sliceType$2,structType,sliceType$3,arrayType$2,arrayType$3,sliceType$6,sliceType$7,mapType,mapType$1,mapType$2,mapType$3,mapType$4,mapType$5,mapType$6,mapType$7,mapType$8,mapType$9,mapType$10,mapType$11,mapType$12,mapType$13,mapType$14,structType$1,mapType$15,mapType$16,mapType$17,mapType$18,mapType$19,mapType$20,mapType$21,AssocIntBattleMenu,AssocIntBool,AssocIntGameplayPage,AssocIntInt,AssocIntMenu1D,AssocIntMenu2D,TryGetIntMenu2D;data=$packages["app/tool/data"];protocol=$packages["app/tool/protocol"];fmt=$packages["fmt"];CommandKeyDown=$pkg.CommandKeyDown=$newType(0,$kindStruct,"uidata.CommandKeyDown",true,"app/tool/uidata",true,function(KeyCode_){this.$val=this;if(arguments.length===0){this.KeyCode=0;return;}this.KeyCode=KeyCode_;});CommandFlush=$pkg.CommandFlush=$newType(0,$kindStruct,"uidata.CommandFlush",true,"app/tool/uidata",true,function(){this.$val=this;if(arguments.length===0){return;}});Menu1D=$pkg.Menu1D=$newType(0,$kindStruct,"uidata.Menu1D",true,"app/tool/uidata",true,function(Options_,Selection_,Cursor_,Offset_,Limit_){this.$val=this;if(arguments.length===0){this.Options=sliceType$2.nil;this.Selection=false;this.Cursor=0;this.Offset=0;this.Limit=0;return;}this.Options=Options_;this.Selection=Selection_;this.Cursor=Cursor_;this.Offset=Offset_;this.Limit=Limit_;});Menu2D=$pkg.Menu2D=$newType(0,$kindStruct,"uidata.Menu2D",true,"app/tool/uidata",true,function(Options_,Cursor1_,Cursor2_){this.$val=this;if(arguments.length===0){this.Options=sliceType$7.nil;this.Cursor1=0;this.Cursor2=sliceType.nil;return;}this.Options=Options_;this.Cursor1=Cursor1_;this.Cursor2=Cursor2_;});BattleMenuSlot=$pkg.BattleMenuSlot=$newType(0,$kindStruct,"uidata.BattleMenuSlot",true,"app/tool/uidata",true,function(Robot_,Pilot_,BattleAction_,Weapon_,Info_){this.$val=this;if(arguments.length===0){this.Robot=new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType.zero(),0,false);this.Pilot=new protocol.Pilot.ptr("","","",0,0,0,0,0,0,0,0,0,0,0);this.BattleAction=0;this.Weapon=new protocol.Weapon.ptr("","",0,"",0,arrayType$1.zero(),0,0,arrayType.zero(),sliceType$2.nil,"","",0,0,0,0);this.Info=new structType.ptr(0);return;}this.Robot=Robot_;this.Pilot=Pilot_;this.BattleAction=BattleAction_;this.Weapon=Weapon_;this.Info=Info_;});BattleMenu=$pkg.BattleMenu=$newType(0,$kindStruct,"uidata.BattleMenu",true,"app/tool/uidata",true,function(Left_,Right_){this.$val=this;if(arguments.length===0){this.Left=new BattleMenuSlot.ptr(new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType.zero(),0,false),new protocol.Pilot.ptr("","","",0,0,0,0,0,0,0,0,0,0,0),0,new protocol.Weapon.ptr("","",0,"",0,arrayType$1.zero(),0,0,arrayType.zero(),sliceType$2.nil,"","",0,0,0,0),new structType.ptr(0));this.Right=new BattleMenuSlot.ptr(new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType.zero(),0,false),new protocol.Pilot.ptr("","","",0,0,0,0,0,0,0,0,0,0,0),0,new protocol.Weapon.ptr("","",0,"",0,arrayType$1.zero(),0,0,arrayType.zero(),sliceType$2.nil,"","",0,0,0,0),new structType.ptr(0));return;}this.Left=Left_;this.Right=Right_;});CursorInfo=$pkg.CursorInfo=$newType(0,$kindStruct,"uidata.CursorInfo",true,"app/tool/uidata",true,function(Terrain_,UnitID_){this.$val=this;if(arguments.length===0){this.Terrain=new data.TerrainProto.ptr("","",arrayType.zero(),0,0);this.UnitID="";return;}this.Terrain=Terrain_;this.UnitID=UnitID_;});GameplayPage=$pkg.GameplayPage=$newType(0,$kindStruct,"uidata.GameplayPage",true,"app/tool/uidata",true,function(Players_,Map_,Cursor_,Camera_,Units_,Robots_,Items_,Positions_,Tags_,MoveRange_,AttackRange_,MapAttackRange_,HitMarks_,RobotMenu_,CursorInfo_){this.$val=this;if(arguments.length===0){this.Players=false;this.Map=arrayType$3.zero();this.Cursor=arrayType$1.zero();this.Camera=arrayType$1.zero();this.Units=sliceType$2.nil;this.Robots=false;this.Items=false;this.Positions=false;this.Tags=false;this.MoveRange=sliceType$6.nil;this.AttackRange=sliceType$6.nil;this.MapAttackRange=sliceType$6.nil;this.HitMarks=false;this.RobotMenu=new protocol.RobotMenu.ptr(false,"",sliceType$7.nil,false,false,false,false);this.CursorInfo=new CursorInfo.ptr(new data.TerrainProto.ptr("","",arrayType.zero(),0,0),"");return;}this.Players=Players_;this.Map=Map_;this.Cursor=Cursor_;this.Camera=Camera_;this.Units=Units_;this.Robots=Robots_;this.Items=Items_;this.Positions=Positions_;this.Tags=Tags_;this.MoveRange=MoveRange_;this.AttackRange=AttackRange_;this.MapAttackRange=MapAttackRange_;this.HitMarks=HitMarks_;this.RobotMenu=RobotMenu_;this.CursorInfo=CursorInfo_;});ListInt=$pkg.ListInt=$newType(12,$kindSlice,"uidata.ListInt",true,"app/tool/uidata",true,null);UI=$pkg.UI=$newType(0,$kindStruct,"uidata.UI",true,"app/tool/uidata",true,function(Model_,PhaseMark_,Actives_,Menus_,Focus_,Menu1Ds_,Menu2Ds_,BattleMenus_,GameplayPages_,Info_){this.$val=this;if(arguments.length===0){this.Model=$ifaceNil;this.PhaseMark=0;this.Actives=false;this.Menus=false;this.Focus=false;this.Menu1Ds=false;this.Menu2Ds=false;this.BattleMenus=false;this.GameplayPages=false;this.Info=new structType$1.ptr(0,false,false,false,false,false,false,false,false,false,false,false);return;}this.Model=Model_;this.PhaseMark=PhaseMark_;this.Actives=Actives_;this.Menus=Menus_;this.Focus=Focus_;this.Menu1Ds=Menu1Ds_;this.Menu2Ds=Menu2Ds_;this.BattleMenus=BattleMenus_;this.GameplayPages=GameplayPages_;this.Info=Info_;});sliceType=$sliceType($Int);arrayType=$arrayType($Float64,4);arrayType$1=$arrayType($Int,2);sliceType$2=$sliceType($String);structType=$structType("",[{prop:"HitRate",name:"HitRate",embedded:false,exported:true,typ:$Float64,tag:""}]);sliceType$3=$sliceType($emptyInterface);arrayType$2=$arrayType($Int,20);arrayType$3=$arrayType(arrayType$2,20);sliceType$6=$sliceType(protocol.Position);sliceType$7=$sliceType(sliceType$2);mapType=$mapType($String,$Bool);mapType$1=$mapType($String,protocol.Player);mapType$2=$mapType($String,protocol.Robot);mapType$3=$mapType($String,protocol.Item);mapType$4=$mapType($String,protocol.Position);mapType$5=$mapType($String,protocol.Tag);mapType$6=$mapType($String,protocol.HitMark);mapType$7=$mapType($String,data.RobotProto);mapType$8=$mapType($String,data.PilotProto);mapType$9=$mapType($String,data.WeaponProto);mapType$10=$mapType($String,data.ComponentProto);mapType$11=$mapType($String,protocol.Pilot);mapType$12=$mapType($String,protocol.Weapon);mapType$13=$mapType($String,protocol.Component);mapType$14=$mapType($String,$String);structType$1=$structType("",[{prop:"Money",name:"Money",embedded:false,exported:true,typ:$Int,tag:""},{prop:"CanBuyRobots",name:"CanBuyRobots",embedded:false,exported:true,typ:mapType$7,tag:""},{prop:"CanBuyPilots",name:"CanBuyPilots",embedded:false,exported:true,typ:mapType$8,tag:""},{prop:"CanBuyWeapons",name:"CanBuyWeapons",embedded:false,exported:true,typ:mapType$9,tag:""},{prop:"CanBuyComponents",name:"CanBuyComponents",embedded:false,exported:true,typ:mapType$10,tag:""},{prop:"Robots",name:"Robots",embedded:false,exported:true,typ:mapType$2,tag:""},{prop:"Pilots",name:"Pilots",embedded:false,exported:true,typ:mapType$11,tag:""},{prop:"Weapons",name:"Weapons",embedded:false,exported:true,typ:mapType$12,tag:""},{prop:"Components",name:"Components",embedded:false,exported:true,typ:mapType$13,tag:""},{prop:"RobotIDByWeaponID",name:"RobotIDByWeaponID",embedded:false,exported:true,typ:mapType$14,tag:""},{prop:"RobotIDByComponentID",name:"RobotIDByComponentID",embedded:false,exported:true,typ:mapType$14,tag:""},{prop:"PilotIDByRobotID",name:"PilotIDByRobotID",embedded:false,exported:true,typ:mapType$14,tag:""}]);mapType$15=$mapType($Int,$Bool);mapType$16=$mapType($Int,ListInt);mapType$17=$mapType($Int,$Int);mapType$18=$mapType($Int,Menu1D);mapType$19=$mapType($Int,Menu2D);mapType$20=$mapType($Int,BattleMenu);mapType$21=$mapType($Int,GameplayPage);AssocIntBattleMenu=function(a,k,v){var _entry,_i,_key,_key$1,_keys,_ref,a,k,k$1,ret,v,v$1;ret=$makeMap($Int.keyFor,[]);_ref=a;_i=0;_keys=$keys(_ref);while(true){if(!(_i<_keys.length)){break;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;continue;}k$1=_entry.k;v$1=$clone(_entry.v,BattleMenu);_key=k$1;(ret||$throwRuntimeError("assignment to entry in nil map"))[$Int.keyFor(_key)]={k:_key,v:$clone(v$1,BattleMenu)};_i++;}_key$1=k;(ret||$throwRuntimeError("assignment to entry in nil map"))[$Int.keyFor(_key$1)]={k:_key$1,v:$clone(v,BattleMenu)};return ret;};$pkg.AssocIntBattleMenu=AssocIntBattleMenu;AssocIntBool=function(a,k,v){var _entry,_i,_key,_key$1,_keys,_ref,a,k,k$1,ret,v,v$1;ret=$makeMap($Int.keyFor,[]);_ref=a;_i=0;_keys=$keys(_ref);while(true){if(!(_i<_keys.length)){break;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;continue;}k$1=_entry.k;v$1=_entry.v;_key=k$1;(ret||$throwRuntimeError("assignment to entry in nil map"))[$Int.keyFor(_key)]={k:_key,v:v$1};_i++;}_key$1=k;(ret||$throwRuntimeError("assignment to entry in nil map"))[$Int.keyFor(_key$1)]={k:_key$1,v:v};return ret;};$pkg.AssocIntBool=AssocIntBool;AssocIntGameplayPage=function(a,k,v){var _entry,_i,_key,_key$1,_keys,_ref,a,k,k$1,ret,v,v$1;ret=$makeMap($Int.keyFor,[]);_ref=a;_i=0;_keys=$keys(_ref);while(true){if(!(_i<_keys.length)){break;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;continue;}k$1=_entry.k;v$1=$clone(_entry.v,GameplayPage);_key=k$1;(ret||$throwRuntimeError("assignment to entry in nil map"))[$Int.keyFor(_key)]={k:_key,v:$clone(v$1,GameplayPage)};_i++;}_key$1=k;(ret||$throwRuntimeError("assignment to entry in nil map"))[$Int.keyFor(_key$1)]={k:_key$1,v:$clone(v,GameplayPage)};return ret;};$pkg.AssocIntGameplayPage=AssocIntGameplayPage;AssocIntInt=function(a,k,v){var _entry,_i,_key,_key$1,_keys,_ref,a,k,k$1,ret,v,v$1;ret=$makeMap($Int.keyFor,[]);_ref=a;_i=0;_keys=$keys(_ref);while(true){if(!(_i<_keys.length)){break;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;continue;}k$1=_entry.k;v$1=_entry.v;_key=k$1;(ret||$throwRuntimeError("assignment to entry in nil map"))[$Int.keyFor(_key)]={k:_key,v:v$1};_i++;}_key$1=k;(ret||$throwRuntimeError("assignment to entry in nil map"))[$Int.keyFor(_key$1)]={k:_key$1,v:v};return ret;};$pkg.AssocIntInt=AssocIntInt;AssocIntMenu1D=function(a,k,v){var _entry,_i,_key,_key$1,_keys,_ref,a,k,k$1,ret,v,v$1;ret=$makeMap($Int.keyFor,[]);_ref=a;_i=0;_keys=$keys(_ref);while(true){if(!(_i<_keys.length)){break;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;continue;}k$1=_entry.k;v$1=$clone(_entry.v,Menu1D);_key=k$1;(ret||$throwRuntimeError("assignment to entry in nil map"))[$Int.keyFor(_key)]={k:_key,v:$clone(v$1,Menu1D)};_i++;}_key$1=k;(ret||$throwRuntimeError("assignment to entry in nil map"))[$Int.keyFor(_key$1)]={k:_key$1,v:$clone(v,Menu1D)};return ret;};$pkg.AssocIntMenu1D=AssocIntMenu1D;AssocIntMenu2D=function(a,k,v){var _entry,_i,_key,_key$1,_keys,_ref,a,k,k$1,ret,v,v$1;ret=$makeMap($Int.keyFor,[]);_ref=a;_i=0;_keys=$keys(_ref);while(true){if(!(_i<_keys.length)){break;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;continue;}k$1=_entry.k;v$1=$clone(_entry.v,Menu2D);_key=k$1;(ret||$throwRuntimeError("assignment to entry in nil map"))[$Int.keyFor(_key)]={k:_key,v:$clone(v$1,Menu2D)};_i++;}_key$1=k;(ret||$throwRuntimeError("assignment to entry in nil map"))[$Int.keyFor(_key$1)]={k:_key$1,v:$clone(v,Menu2D)};return ret;};$pkg.AssocIntMenu2D=AssocIntMenu2D;TryGetIntMenu2D=function(a,k){var _entry,_r,_tuple,a,has,k,ret,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_r=$f._r;_tuple=$f._tuple;a=$f.a;has=$f.has;k=$f.k;ret=$f.ret;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_tuple=(_entry=a[$Int.keyFor(k)],_entry!==undefined?[_entry.v,true]:[new Menu2D.ptr(sliceType$7.nil,0,sliceType.nil),false]);ret=$clone(_tuple[0],Menu2D);has=_tuple[1];/* */if(has===false){$s=1;continue;}/* */$s=2;continue;/* if (has === false) { */case 1:_r=fmt.Errorf("[TryGetIntMenu2D] key not found: %v",new sliceType$3([new $Int(k)]));/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return[ret,_r];/* } */case 2:$s=-1;return[ret,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:TryGetIntMenu2D};}$f._entry=_entry;$f._r=_r;$f._tuple=_tuple;$f.a=a;$f.has=has;$f.k=k;$f.ret=ret;$f.$s=$s;$f.$r=$r;return $f;};$pkg.TryGetIntMenu2D=TryGetIntMenu2D;CommandKeyDown.init("",[{prop:"KeyCode",name:"KeyCode",embedded:false,exported:true,typ:$Int,tag:""}]);CommandFlush.init("",[]);Menu1D.init("",[{prop:"Options",name:"Options",embedded:false,exported:true,typ:sliceType$2,tag:""},{prop:"Selection",name:"Selection",embedded:false,exported:true,typ:mapType,tag:""},{prop:"Cursor",name:"Cursor",embedded:false,exported:true,typ:$Int,tag:""},{prop:"Offset",name:"Offset",embedded:false,exported:true,typ:$Int,tag:""},{prop:"Limit",name:"Limit",embedded:false,exported:true,typ:$Int,tag:""}]);Menu2D.init("",[{prop:"Options",name:"Options",embedded:false,exported:true,typ:sliceType$7,tag:""},{prop:"Cursor1",name:"Cursor1",embedded:false,exported:true,typ:$Int,tag:""},{prop:"Cursor2",name:"Cursor2",embedded:false,exported:true,typ:sliceType,tag:""}]);BattleMenuSlot.init("",[{prop:"Robot",name:"Robot",embedded:false,exported:true,typ:protocol.Robot,tag:""},{prop:"Pilot",name:"Pilot",embedded:false,exported:true,typ:protocol.Pilot,tag:""},{prop:"BattleAction",name:"BattleAction",embedded:false,exported:true,typ:$Int,tag:""},{prop:"Weapon",name:"Weapon",embedded:false,exported:true,typ:protocol.Weapon,tag:""},{prop:"Info",name:"Info",embedded:false,exported:true,typ:structType,tag:""}]);BattleMenu.init("",[{prop:"Left",name:"Left",embedded:false,exported:true,typ:BattleMenuSlot,tag:""},{prop:"Right",name:"Right",embedded:false,exported:true,typ:BattleMenuSlot,tag:""}]);CursorInfo.init("",[{prop:"Terrain",name:"Terrain",embedded:false,exported:true,typ:data.TerrainProto,tag:""},{prop:"UnitID",name:"UnitID",embedded:false,exported:true,typ:$String,tag:""}]);GameplayPage.init("",[{prop:"Players",name:"Players",embedded:false,exported:true,typ:mapType$1,tag:""},{prop:"Map",name:"Map",embedded:false,exported:true,typ:arrayType$3,tag:""},{prop:"Cursor",name:"Cursor",embedded:false,exported:true,typ:protocol.Position,tag:""},{prop:"Camera",name:"Camera",embedded:false,exported:true,typ:protocol.Position,tag:""},{prop:"Units",name:"Units",embedded:false,exported:true,typ:sliceType$2,tag:""},{prop:"Robots",name:"Robots",embedded:false,exported:true,typ:mapType$2,tag:""},{prop:"Items",name:"Items",embedded:false,exported:true,typ:mapType$3,tag:""},{prop:"Positions",name:"Positions",embedded:false,exported:true,typ:mapType$4,tag:""},{prop:"Tags",name:"Tags",embedded:false,exported:true,typ:mapType$5,tag:""},{prop:"MoveRange",name:"MoveRange",embedded:false,exported:true,typ:sliceType$6,tag:""},{prop:"AttackRange",name:"AttackRange",embedded:false,exported:true,typ:sliceType$6,tag:""},{prop:"MapAttackRange",name:"MapAttackRange",embedded:false,exported:true,typ:sliceType$6,tag:""},{prop:"HitMarks",name:"HitMarks",embedded:false,exported:true,typ:mapType$6,tag:""},{prop:"RobotMenu",name:"RobotMenu",embedded:false,exported:true,typ:protocol.RobotMenu,tag:""},{prop:"CursorInfo",name:"CursorInfo",embedded:false,exported:true,typ:CursorInfo,tag:""}]);ListInt.init($Int);UI.init("",[{prop:"Model",name:"Model",embedded:false,exported:true,typ:protocol.IModel,tag:""},{prop:"PhaseMark",name:"PhaseMark",embedded:false,exported:true,typ:$Int,tag:""},{prop:"Actives",name:"Actives",embedded:false,exported:true,typ:mapType$15,tag:""},{prop:"Menus",name:"Menus",embedded:false,exported:true,typ:mapType$16,tag:""},{prop:"Focus",name:"Focus",embedded:false,exported:true,typ:mapType$17,tag:""},{prop:"Menu1Ds",name:"Menu1Ds",embedded:false,exported:true,typ:mapType$18,tag:""},{prop:"Menu2Ds",name:"Menu2Ds",embedded:false,exported:true,typ:mapType$19,tag:""},{prop:"BattleMenus",name:"BattleMenus",embedded:false,exported:true,typ:mapType$20,tag:""},{prop:"GameplayPages",name:"GameplayPages",embedded:false,exported:true,typ:mapType$21,tag:""},{prop:"Info",name:"Info",embedded:false,exported:true,typ:structType$1,tag:""}]);$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=data.$init();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=protocol.$init();/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=fmt.$init();/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["tool/nodejs/mlkmeans"]=function(){var $pkg={},$init,js,Centroid,KMeansResult,mapType,sliceType,sliceType$1,sliceType$2,KMeans,js2intary,js2f64ary;js=$packages["github.com/gopherjs/gopherjs/js"];Centroid=$pkg.Centroid=$newType(0,$kindStruct,"mlkmeans.Centroid",true,"tool/nodejs/mlkmeans",true,function(Centroid_,Error_,Size_){this.$val=this;if(arguments.length===0){this.Centroid=sliceType$1.nil;this.Error=0;this.Size=0;return;}this.Centroid=Centroid_;this.Error=Error_;this.Size=Size_;});KMeansResult=$pkg.KMeansResult=$newType(0,$kindStruct,"mlkmeans.KMeansResult",true,"tool/nodejs/mlkmeans",true,function(Clusters_,Centroids_,Converged_,Iterations_){this.$val=this;if(arguments.length===0){this.Clusters=sliceType$2.nil;this.Centroids=sliceType.nil;this.Converged=false;this.Iterations=0;return;}this.Clusters=Clusters_;this.Centroids=Centroids_;this.Converged=Converged_;this.Iterations=Iterations_;});mapType=$mapType($String,$emptyInterface);sliceType=$sliceType(Centroid);sliceType$1=$sliceType($Float64);sliceType$2=$sliceType($Int);KMeans=function(dataset,cnt,options){var ans,centroids,clusters,cnt,converged,dataset,i,iterations,options,v;ans=new $global[$externalize("ml-kmeans",$String)]($externalize(dataset,$emptyInterface),cnt,$externalize(options,mapType));clusters=js2intary(ans.clusters);centroids=new sliceType([]);i=0;while(true){if(!(i<$parseInt(ans.centroids.length))){break;}v=ans.centroids[i];centroids=$append(centroids,new Centroid.ptr(js2f64ary(v.centroid),$parseFloat(v.error),$parseInt(v.size)>>0));i=i+1>>0;}converged=!!ans.converged;iterations=$parseInt(ans.iterations)>>0;return[new KMeansResult.ptr(clusters,centroids,converged,iterations),$ifaceNil];};$pkg.KMeans=KMeans;js2intary=function(_js){var _js,i,ret,v;ret=new sliceType$2([]);i=0;while(true){if(!(i<$parseInt(_js.length))){break;}v=_js[i];ret=$append(ret,$parseInt(v)>>0);i=i+1>>0;}return ret;};js2f64ary=function(_js){var _js,i,ret,v;ret=new sliceType$1([]);i=0;while(true){if(!(i<$parseInt(_js.length))){break;}v=_js[i];ret=$append(ret,$parseFloat(v));i=i+1>>0;}return ret;};Centroid.init("",[{prop:"Centroid",name:"Centroid",embedded:false,exported:true,typ:sliceType$1,tag:""},{prop:"Error",name:"Error",embedded:false,exported:true,typ:$Float64,tag:""},{prop:"Size",name:"Size",embedded:false,exported:true,typ:$Int,tag:""}]);KMeansResult.init("",[{prop:"Clusters",name:"Clusters",embedded:false,exported:true,typ:sliceType$2,tag:""},{prop:"Centroids",name:"Centroids",embedded:false,exported:true,typ:sliceType,tag:""},{prop:"Converged",name:"Converged",embedded:false,exported:true,typ:$Bool,tag:""},{prop:"Iterations",name:"Iterations",embedded:false,exported:true,typ:$Int,tag:""}]);$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=js.$init();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["app/model/v1/internal/tool/types"]=function(){var $pkg={},$init,protocol,uidata,fmt,mlkmeans,Lobby,Gameplay,App,Model,Goal,Memory,AIModel,NormalLevel,sliceType,sliceType$1,sliceType$2,arrayType,sliceType$3,arrayType$1,sliceType$4,sliceType$5,sliceType$7,mapType,mapType$1,mapType$2,mapType$3,mapType$4,mapType$5,mapType$6,mapType$7,mapType$8,mapType$9,mapType$10,mapType$11,mapType$12,mapType$13,mapType$14,init,AssocStringMemory;protocol=$packages["app/tool/protocol"];uidata=$packages["app/tool/uidata"];fmt=$packages["fmt"];mlkmeans=$packages["tool/nodejs/mlkmeans"];Lobby=$pkg.Lobby=$newType(0,$kindStruct,"types.Lobby",true,"app/model/v1/internal/tool/types",true,function(Robots_,Pilots_,Weapons_,Components_,RobotIDByWeaponID_,RobotIDByComponentID_,PilotIDByRobotID_,ClearStateByLevelID_){this.$val=this;if(arguments.length===0){this.Robots=false;this.Pilots=false;this.Weapons=false;this.Components=false;this.RobotIDByWeaponID=false;this.RobotIDByComponentID=false;this.PilotIDByRobotID=false;this.ClearStateByLevelID=false;return;}this.Robots=Robots_;this.Pilots=Pilots_;this.Weapons=Weapons_;this.Components=Components_;this.RobotIDByWeaponID=RobotIDByWeaponID_;this.RobotIDByComponentID=RobotIDByComponentID_;this.PilotIDByRobotID=PilotIDByRobotID_;this.ClearStateByLevelID=ClearStateByLevelID_;});Gameplay=$pkg.Gameplay=$newType(0,$kindStruct,"types.Gameplay",true,"app/model/v1/internal/tool/types",true,function(AIModel_,LevelID_,ActivePlayerID_,PlayerOrder_,Map_,Cursor_,Units_,Players_,Positions_,Robots_,Tags_,Items_,Pilots_,HitMarks_,RobotMenu_,BattleMenu_,MoveRange_,MapAttackRange_,State_,StateReason_){this.$val=this;if(arguments.length===0){this.AIModel=new AIModel.ptr(false,false);this.LevelID="";this.ActivePlayerID="";this.PlayerOrder=sliceType.nil;this.Map=sliceType$2.nil;this.Cursor=arrayType.zero();this.Units=sliceType.nil;this.Players=false;this.Positions=false;this.Robots=false;this.Tags=false;this.Items=false;this.Pilots=false;this.HitMarks=false;this.RobotMenu=new protocol.RobotMenu.ptr(false,"",sliceType$3.nil,false,false,false,false);this.BattleMenu=new protocol.BattleMenu.ptr(false,new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),new protocol.Pilot.ptr("","","",0,0,0,0,0,0,0,0,0,0,0),new protocol.Weapon.ptr("","",0,"",0,arrayType.zero(),0,0,arrayType$1.zero(),sliceType.nil,"","",0,0,0,0),new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),new protocol.Pilot.ptr("","","",0,0,0,0,0,0,0,0,0,0,0));this.MoveRange=sliceType$4.nil;this.MapAttackRange=sliceType$4.nil;this.State="";this.StateReason=$ifaceNil;return;}this.AIModel=AIModel_;this.LevelID=LevelID_;this.ActivePlayerID=ActivePlayerID_;this.PlayerOrder=PlayerOrder_;this.Map=Map_;this.Cursor=Cursor_;this.Units=Units_;this.Players=Players_;this.Positions=Positions_;this.Robots=Robots_;this.Tags=Tags_;this.Items=Items_;this.Pilots=Pilots_;this.HitMarks=HitMarks_;this.RobotMenu=RobotMenu_;this.BattleMenu=BattleMenu_;this.MoveRange=MoveRange_;this.MapAttackRange=MapAttackRange_;this.State=State_;this.StateReason=StateReason_;});App=$pkg.App=$newType(0,$kindStruct,"types.App",true,"app/model/v1/internal/tool/types",true,function(SeqID_,Money_,Gameplay_,Lobby_,CurrPage_){this.$val=this;if(arguments.length===0){this.SeqID=0;this.Money=0;this.Gameplay=new Gameplay.ptr(new AIModel.ptr(false,false),"","",sliceType.nil,sliceType$2.nil,arrayType.zero(),sliceType.nil,false,false,false,false,false,false,false,new protocol.RobotMenu.ptr(false,"",sliceType$3.nil,false,false,false,false),new protocol.BattleMenu.ptr(false,new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),new protocol.Pilot.ptr("","","",0,0,0,0,0,0,0,0,0,0,0),new protocol.Weapon.ptr("","",0,"",0,arrayType.zero(),0,0,arrayType$1.zero(),sliceType.nil,"","",0,0,0,0),new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),new protocol.Pilot.ptr("","","",0,0,0,0,0,0,0,0,0,0,0)),sliceType$4.nil,sliceType$4.nil,"",$ifaceNil);this.Lobby=new Lobby.ptr(false,false,false,false,false,false,false,false);this.CurrPage=0;return;}this.SeqID=SeqID_;this.Money=Money_;this.Gameplay=Gameplay_;this.Lobby=Lobby_;this.CurrPage=CurrPage_;});Model=$pkg.Model=$newType(0,$kindStruct,"types.Model",true,"app/model/v1/internal/tool/types",true,function(App_){this.$val=this;if(arguments.length===0){this.App=new App.ptr(0,0,new Gameplay.ptr(new AIModel.ptr(false,false),"","",sliceType.nil,sliceType$2.nil,arrayType.zero(),sliceType.nil,false,false,false,false,false,false,false,new protocol.RobotMenu.ptr(false,"",sliceType$3.nil,false,false,false,false),new protocol.BattleMenu.ptr(false,new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),new protocol.Pilot.ptr("","","",0,0,0,0,0,0,0,0,0,0,0),new protocol.Weapon.ptr("","",0,"",0,arrayType.zero(),0,0,arrayType$1.zero(),sliceType.nil,"","",0,0,0,0),new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),new protocol.Pilot.ptr("","","",0,0,0,0,0,0,0,0,0,0,0)),sliceType$4.nil,sliceType$4.nil,"",$ifaceNil),new Lobby.ptr(false,false,false,false,false,false,false,false),0);return;}this.App=App_;});Goal=$pkg.Goal=$newType(0,$kindStruct,"types.Goal",true,"app/model/v1/internal/tool/types",true,function(Type_,RobotID_,Position_){this.$val=this;if(arguments.length===0){this.Type="";this.RobotID="";this.Position=arrayType.zero();return;}this.Type=Type_;this.RobotID=RobotID_;this.Position=Position_;});Memory=$pkg.Memory=$newType(0,$kindStruct,"types.Memory",true,"app/model/v1/internal/tool/types",true,function(TargetClusters_,MyClusters_,MyTeamTarget_,TeamIDByRobotID_){this.$val=this;if(arguments.length===0){this.TargetClusters=new mlkmeans.KMeansResult.ptr(sliceType$1.nil,sliceType$7.nil,false,0);this.MyClusters=new mlkmeans.KMeansResult.ptr(sliceType$1.nil,sliceType$7.nil,false,0);this.MyTeamTarget=false;this.TeamIDByRobotID=false;return;}this.TargetClusters=TargetClusters_;this.MyClusters=MyClusters_;this.MyTeamTarget=MyTeamTarget_;this.TeamIDByRobotID=TeamIDByRobotID_;});AIModel=$pkg.AIModel=$newType(0,$kindStruct,"types.AIModel",true,"app/model/v1/internal/tool/types",true,function(Memory_,GoalByRobotID_){this.$val=this;if(arguments.length===0){this.Memory=false;this.GoalByRobotID=false;return;}this.Memory=Memory_;this.GoalByRobotID=GoalByRobotID_;});NormalLevel=$pkg.NormalLevel=$newType(0,$kindStruct,"types.NormalLevel",true,"app/model/v1/internal/tool/types",true,function(MenuID_,Cursor_){this.$val=this;if(arguments.length===0){this.MenuID=0;this.Cursor=0;return;}this.MenuID=MenuID_;this.Cursor=Cursor_;});sliceType=$sliceType($String);sliceType$1=$sliceType($Int);sliceType$2=$sliceType(sliceType$1);arrayType=$arrayType($Int,2);sliceType$3=$sliceType(sliceType);arrayType$1=$arrayType($Float64,4);sliceType$4=$sliceType(protocol.Position);sliceType$5=$sliceType($emptyInterface);sliceType$7=$sliceType(mlkmeans.Centroid);mapType=$mapType($String,protocol.Robot);mapType$1=$mapType($String,protocol.Pilot);mapType$2=$mapType($String,protocol.Weapon);mapType$3=$mapType($String,protocol.Component);mapType$4=$mapType($String,$String);mapType$5=$mapType($String,$Bool);mapType$6=$mapType($String,protocol.Player);mapType$7=$mapType($String,protocol.Position);mapType$8=$mapType($String,protocol.Tag);mapType$9=$mapType($String,protocol.Item);mapType$10=$mapType($String,protocol.HitMark);mapType$11=$mapType($Int,$Int);mapType$12=$mapType($String,$Int);mapType$13=$mapType($String,Memory);mapType$14=$mapType($String,Goal);init=function(){var _key,_key$1,_key$2,_r,_r$1,_r$2,i,i$1,i$2,key,key$1,key$2,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_key=$f._key;_key$1=$f._key$1;_key$2=$f._key$2;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;i=$f.i;i$1=$f.i$1;i$2=$f.i$2;key=$f.key;key$1=$f.key$1;key$2=$f.key$2;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:i=0;/* while (true) { */case 1:/* if (!(i < 10)) { break; } */if(!(i<10)){$s=2;continue;}_r=fmt.Sprintf("\xE9\x99\xB8L%v",new sliceType$5([new $Int(i+1>>0)]));/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}key=_r;_key=key;($pkg.DefaultNormalLevels||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key)]={k:_key,v:new NormalLevel.ptr(34,i)};i=i+1>>0;/* } */$s=1;continue;case 2:i$1=0;/* while (true) { */case 4:/* if (!(i$1 < 10)) { break; } */if(!(i$1<10)){$s=5;continue;}_r$1=fmt.Sprintf("\xE6\xB5\xB7L%v",new sliceType$5([new $Int(i$1+1>>0)]));/* */$s=6;case 6:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}key$1=_r$1;_key$1=key$1;($pkg.DefaultNormalLevels||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key$1)]={k:_key$1,v:new NormalLevel.ptr(35,i$1)};i$1=i$1+1>>0;/* } */$s=4;continue;case 5:i$2=0;/* while (true) { */case 7:/* if (!(i$2 < 10)) { break; } */if(!(i$2<10)){$s=8;continue;}_r$2=fmt.Sprintf("\xE9\x9A\xA8\xE6\xA9\x9FL%v",new sliceType$5([new $Int(i$2+1>>0)]));/* */$s=9;case 9:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}key$2=_r$2;_key$2=key$2;($pkg.DefaultNormalLevels||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key$2)]={k:_key$2,v:new NormalLevel.ptr(36,i$2)};i$2=i$2+1>>0;/* } */$s=7;continue;case 8:$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:init};}$f._key=_key;$f._key$1=_key$1;$f._key$2=_key$2;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f.i=i;$f.i$1=i$1;$f.i$2=i$2;$f.key=key;$f.key$1=key$1;$f.key$2=key$2;$f.$s=$s;$f.$r=$r;return $f;};AssocStringMemory=function(a,k,v){var _entry,_i,_key,_key$1,_keys,_ref,a,k,k$1,ret,v,v$1;ret=$makeMap($String.keyFor,[]);_ref=a;_i=0;_keys=$keys(_ref);while(true){if(!(_i<_keys.length)){break;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;continue;}k$1=_entry.k;v$1=$clone(_entry.v,Memory);_key=k$1;(ret||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key)]={k:_key,v:$clone(v$1,Memory)};_i++;}_key$1=k;(ret||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key$1)]={k:_key$1,v:$clone(v,Memory)};return ret;};$pkg.AssocStringMemory=AssocStringMemory;Lobby.init("",[{prop:"Robots",name:"Robots",embedded:false,exported:true,typ:mapType,tag:""},{prop:"Pilots",name:"Pilots",embedded:false,exported:true,typ:mapType$1,tag:""},{prop:"Weapons",name:"Weapons",embedded:false,exported:true,typ:mapType$2,tag:""},{prop:"Components",name:"Components",embedded:false,exported:true,typ:mapType$3,tag:""},{prop:"RobotIDByWeaponID",name:"RobotIDByWeaponID",embedded:false,exported:true,typ:mapType$4,tag:""},{prop:"RobotIDByComponentID",name:"RobotIDByComponentID",embedded:false,exported:true,typ:mapType$4,tag:""},{prop:"PilotIDByRobotID",name:"PilotIDByRobotID",embedded:false,exported:true,typ:mapType$4,tag:""},{prop:"ClearStateByLevelID",name:"ClearStateByLevelID",embedded:false,exported:true,typ:mapType$5,tag:""}]);Gameplay.init("",[{prop:"AIModel",name:"AIModel",embedded:false,exported:true,typ:AIModel,tag:""},{prop:"LevelID",name:"LevelID",embedded:false,exported:true,typ:$String,tag:""},{prop:"ActivePlayerID",name:"ActivePlayerID",embedded:false,exported:true,typ:$String,tag:""},{prop:"PlayerOrder",name:"PlayerOrder",embedded:false,exported:true,typ:sliceType,tag:""},{prop:"Map",name:"Map",embedded:false,exported:true,typ:sliceType$2,tag:""},{prop:"Cursor",name:"Cursor",embedded:false,exported:true,typ:protocol.Position,tag:""},{prop:"Units",name:"Units",embedded:false,exported:true,typ:sliceType,tag:""},{prop:"Players",name:"Players",embedded:false,exported:true,typ:mapType$6,tag:""},{prop:"Positions",name:"Positions",embedded:false,exported:true,typ:mapType$7,tag:""},{prop:"Robots",name:"Robots",embedded:false,exported:true,typ:mapType,tag:""},{prop:"Tags",name:"Tags",embedded:false,exported:true,typ:mapType$8,tag:""},{prop:"Items",name:"Items",embedded:false,exported:true,typ:mapType$9,tag:""},{prop:"Pilots",name:"Pilots",embedded:false,exported:true,typ:mapType$1,tag:""},{prop:"HitMarks",name:"HitMarks",embedded:false,exported:true,typ:mapType$10,tag:""},{prop:"RobotMenu",name:"RobotMenu",embedded:false,exported:true,typ:protocol.RobotMenu,tag:""},{prop:"BattleMenu",name:"BattleMenu",embedded:false,exported:true,typ:protocol.BattleMenu,tag:""},{prop:"MoveRange",name:"MoveRange",embedded:false,exported:true,typ:sliceType$4,tag:""},{prop:"MapAttackRange",name:"MapAttackRange",embedded:false,exported:true,typ:sliceType$4,tag:""},{prop:"State",name:"State",embedded:false,exported:true,typ:$String,tag:""},{prop:"StateReason",name:"StateReason",embedded:false,exported:true,typ:$emptyInterface,tag:""}]);App.init("",[{prop:"SeqID",name:"SeqID",embedded:false,exported:true,typ:$Int,tag:""},{prop:"Money",name:"Money",embedded:false,exported:true,typ:$Int,tag:""},{prop:"Gameplay",name:"Gameplay",embedded:false,exported:true,typ:Gameplay,tag:""},{prop:"Lobby",name:"Lobby",embedded:false,exported:true,typ:Lobby,tag:""},{prop:"CurrPage",name:"CurrPage",embedded:false,exported:true,typ:$Int,tag:""}]);Model.init("",[{prop:"App",name:"App",embedded:false,exported:true,typ:App,tag:""}]);Goal.init("",[{prop:"Type",name:"Type",embedded:false,exported:true,typ:$String,tag:""},{prop:"RobotID",name:"RobotID",embedded:false,exported:true,typ:$String,tag:""},{prop:"Position",name:"Position",embedded:false,exported:true,typ:protocol.Position,tag:""}]);Memory.init("",[{prop:"TargetClusters",name:"TargetClusters",embedded:false,exported:true,typ:mlkmeans.KMeansResult,tag:""},{prop:"MyClusters",name:"MyClusters",embedded:false,exported:true,typ:mlkmeans.KMeansResult,tag:""},{prop:"MyTeamTarget",name:"MyTeamTarget",embedded:false,exported:true,typ:mapType$11,tag:""},{prop:"TeamIDByRobotID",name:"TeamIDByRobotID",embedded:false,exported:true,typ:mapType$12,tag:""}]);AIModel.init("",[{prop:"Memory",name:"Memory",embedded:false,exported:true,typ:mapType$13,tag:""},{prop:"GoalByRobotID",name:"GoalByRobotID",embedded:false,exported:true,typ:mapType$14,tag:""}]);NormalLevel.init("",[{prop:"MenuID",name:"MenuID",embedded:false,exported:true,typ:$Int,tag:""},{prop:"Cursor",name:"Cursor",embedded:false,exported:true,typ:$Int,tag:""}]);$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=protocol.$init();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=uidata.$init();/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=fmt.$init();/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=mlkmeans.$init();/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$pkg.DefaultNormalLevels=$makeMap($String.keyFor,[]);$pkg.DefaultLobby=new Lobby.ptr($makeMap($String.keyFor,[]),$makeMap($String.keyFor,[]),$makeMap($String.keyFor,[]),$makeMap($String.keyFor,[]),$makeMap($String.keyFor,[]),$makeMap($String.keyFor,[]),$makeMap($String.keyFor,[]),$makeMap($String.keyFor,[]));$pkg.DefaultGameplay=new Gameplay.ptr(new AIModel.ptr(false,false),"","",new sliceType([]),new sliceType$2([]),arrayType.zero(),new sliceType([]),$makeMap($String.keyFor,[]),$makeMap($String.keyFor,[]),$makeMap($String.keyFor,[]),$makeMap($String.keyFor,[]),$makeMap($String.keyFor,[]),$makeMap($String.keyFor,[]),$makeMap($String.keyFor,[]),new protocol.RobotMenu.ptr(false,"",sliceType$3.nil,false,false,false,false),new protocol.BattleMenu.ptr(false,new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),new protocol.Pilot.ptr("","","",0,0,0,0,0,0,0,0,0,0,0),new protocol.Weapon.ptr("","",0,"",0,arrayType.zero(),0,0,arrayType$1.zero(),sliceType.nil,"","",0,0,0,0),new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),new protocol.Pilot.ptr("","","",0,0,0,0,0,0,0,0,0,0,0)),new sliceType$4([]),new sliceType$4([]),"",$ifaceNil);$r=init();/* */$s=5;case 5:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["app/tool"]=function(){var $pkg={},$init,fmt,rand,time,sliceType$1,sliceType$2,TryGetInt,TryGetInt2,FilterString,FindStringIndex,TryGetString,TryGetString2;fmt=$packages["fmt"];rand=$packages["math/rand"];time=$packages["time"];sliceType$1=$sliceType($emptyInterface);sliceType$2=$sliceType($String);TryGetInt=function(items,i){var _entry,_r,i,items,ret,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_r=$f._r;i=$f.i;items=$f.items;ret=$f.ret;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:/* */if(i<0||i>=items.$length){$s=1;continue;}/* */$s=2;continue;/* if (i < 0 || i >= items.$length) { */case 1:ret=$makeMap($Int.keyFor,[]);_r=fmt.Errorf("[TryGetInt]out of range (%v/%v)",new sliceType$1([new $Int(i),new $Int(items.$length)]));/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return[(_entry=ret[$Int.keyFor(0)],_entry!==undefined?_entry.v:0),_r];/* } */case 2:$s=-1;return[i<0||i>=items.$length?($throwRuntimeError("index out of range"),undefined):items.$array[items.$offset+i],$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:TryGetInt};}$f._entry=_entry;$f._r=_r;$f.i=i;$f.items=items;$f.ret=ret;$f.$s=$s;$f.$r=$r;return $f;};$pkg.TryGetInt=TryGetInt;TryGetInt2=function(items,i){var i,items;return function $b(j,err){var _entry,_entry$1,_entry$2,_r,_r$1,err,j,ret,ret$1,ret$2,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_entry$1=$f._entry$1;_entry$2=$f._entry$2;_r=$f._r;_r$1=$f._r$1;err=$f.err;j=$f.j;ret=$f.ret;ret$1=$f.ret$1;ret$2=$f.ret$2;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:if(!$interfaceIsEqual(err,$ifaceNil)){ret=$makeMap($Int.keyFor,[]);$s=-1;return[(_entry=ret[$Int.keyFor(0)],_entry!==undefined?_entry.v:0),err];}/* */if(i<0||i>=items.$length){$s=1;continue;}/* */$s=2;continue;/* if (i < 0 || i >= items.$length) { */case 1:ret$1=$makeMap($Int.keyFor,[]);_r=fmt.Errorf("[TryGetInt2]out of range i (%v/%v)",new sliceType$1([new $Int(i),new $Int(items.$length)]));/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return[(_entry$1=ret$1[$Int.keyFor(0)],_entry$1!==undefined?_entry$1.v:0),_r];/* } */case 2:/* */if(j<0||j>=(i<0||i>=items.$length?($throwRuntimeError("index out of range"),undefined):items.$array[items.$offset+i]).$length){$s=4;continue;}/* */$s=5;continue;/* if (j < 0 || j >= ((i < 0 || i >= items.$length) ? ($throwRuntimeError("index out of range"), undefined) : items.$array[items.$offset + i]).$length) { */case 4:ret$2=$makeMap($Int.keyFor,[]);_r$1=fmt.Errorf("[TryGetInt2]out of range j (%v/%v)",new sliceType$1([new $Int(j),new $Int((i<0||i>=items.$length?($throwRuntimeError("index out of range"),undefined):items.$array[items.$offset+i]).$length)]));/* */$s=6;case 6:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}$s=-1;return[(_entry$2=ret$2[$Int.keyFor(0)],_entry$2!==undefined?_entry$2.v:0),_r$1];/* } */case 5:$s=-1;return[(x=i<0||i>=items.$length?($throwRuntimeError("index out of range"),undefined):items.$array[items.$offset+i],j<0||j>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+j]),$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:$b};}$f._entry=_entry;$f._entry$1=_entry$1;$f._entry$2=_entry$2;$f._r=_r;$f._r$1=_r$1;$f.err=err;$f.j=j;$f.ret=ret;$f.ret$1=ret$1;$f.ret$2=ret$2;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};};$pkg.TryGetInt2=TryGetInt2;FilterString=function(s1,f){var _i,_r,_ref,f,ret,s1,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_i=$f._i;_r=$f._r;_ref=$f._ref;f=$f.f;ret=$f.ret;s1=$f.s1;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:ret=new sliceType$2([]);_ref=s1;_i=0;/* while (true) { */case 1:/* if (!(_i < _ref.$length)) { break; } */if(!(_i<_ref.$length)){$s=2;continue;}v=_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i];_r=f(v);/* */$s=5;case 5:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}/* */if(_r){$s=3;continue;}/* */$s=4;continue;/* if (_r) { */case 3:ret=$append(ret,v);/* } */case 4:_i++;/* } */$s=1;continue;case 2:$s=-1;return ret;/* */}return;}if($f===undefined){$f={$blk:FilterString};}$f._i=_i;$f._r=_r;$f._ref=_ref;$f.f=f;$f.ret=ret;$f.s1=s1;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};$pkg.FilterString=FilterString;FindStringIndex=function(items,target){var _i,_ref,idx,item,items,target;_ref=items;_i=0;while(true){if(!(_i<_ref.$length)){break;}idx=_i;item=_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i];if(item===target){return idx;}_i++;}return-1;};$pkg.FindStringIndex=FindStringIndex;TryGetString=function(items,i){var _entry,_r,i,items,ret,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_r=$f._r;i=$f.i;items=$f.items;ret=$f.ret;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:/* */if(i<0||i>=items.$length){$s=1;continue;}/* */$s=2;continue;/* if (i < 0 || i >= items.$length) { */case 1:ret=$makeMap($Int.keyFor,[]);_r=fmt.Errorf("[TryGetString]out of range (%v/%v)",new sliceType$1([new $Int(i),new $Int(items.$length)]));/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return[(_entry=ret[$Int.keyFor(0)],_entry!==undefined?_entry.v:""),_r];/* } */case 2:$s=-1;return[i<0||i>=items.$length?($throwRuntimeError("index out of range"),undefined):items.$array[items.$offset+i],$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:TryGetString};}$f._entry=_entry;$f._r=_r;$f.i=i;$f.items=items;$f.ret=ret;$f.$s=$s;$f.$r=$r;return $f;};$pkg.TryGetString=TryGetString;TryGetString2=function(items,i){var i,items;return function $b(j,err){var _entry,_entry$1,_entry$2,_r,_r$1,err,j,ret,ret$1,ret$2,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_entry$1=$f._entry$1;_entry$2=$f._entry$2;_r=$f._r;_r$1=$f._r$1;err=$f.err;j=$f.j;ret=$f.ret;ret$1=$f.ret$1;ret$2=$f.ret$2;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:if(!$interfaceIsEqual(err,$ifaceNil)){ret=$makeMap($Int.keyFor,[]);$s=-1;return[(_entry=ret[$Int.keyFor(0)],_entry!==undefined?_entry.v:""),err];}/* */if(i<0||i>=items.$length){$s=1;continue;}/* */$s=2;continue;/* if (i < 0 || i >= items.$length) { */case 1:ret$1=$makeMap($Int.keyFor,[]);_r=fmt.Errorf("[TryGetString2]out of range i (%v/%v)",new sliceType$1([new $Int(i),new $Int(items.$length)]));/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return[(_entry$1=ret$1[$Int.keyFor(0)],_entry$1!==undefined?_entry$1.v:""),_r];/* } */case 2:/* */if(j<0||j>=(i<0||i>=items.$length?($throwRuntimeError("index out of range"),undefined):items.$array[items.$offset+i]).$length){$s=4;continue;}/* */$s=5;continue;/* if (j < 0 || j >= ((i < 0 || i >= items.$length) ? ($throwRuntimeError("index out of range"), undefined) : items.$array[items.$offset + i]).$length) { */case 4:ret$2=$makeMap($Int.keyFor,[]);_r$1=fmt.Errorf("[TryGetString2]out of range j (%v/%v)",new sliceType$1([new $Int(j),new $Int((i<0||i>=items.$length?($throwRuntimeError("index out of range"),undefined):items.$array[items.$offset+i]).$length)]));/* */$s=6;case 6:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}$s=-1;return[(_entry$2=ret$2[$Int.keyFor(0)],_entry$2!==undefined?_entry$2.v:""),_r$1];/* } */case 5:$s=-1;return[(x=i<0||i>=items.$length?($throwRuntimeError("index out of range"),undefined):items.$array[items.$offset+i],j<0||j>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+j]),$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:$b};}$f._entry=_entry;$f._entry$1=_entry$1;$f._entry$2=_entry$2;$f._r=_r;$f._r$1=_r$1;$f.err=err;$f.j=j;$f.ret=ret;$f.ret$1=ret$1;$f.ret$2=ret$2;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};};$pkg.TryGetString2=TryGetString2;$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=fmt.$init();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=rand.$init();/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=time.$init();/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["github.com/aquilax/go-perlin"]=function(){var $pkg={},$init,math,rand,Perlin,arrayType,arrayType$1,arrayType$2,arrayType$3,arrayType$4,arrayType$5,arrayType$6,ptrType,NewPerlin,NewPerlinRandSource,normalize2,normalize3,at2,at3,sCurve,lerp;math=$packages["math"];rand=$packages["math/rand"];Perlin=$pkg.Perlin=$newType(0,$kindStruct,"perlin.Perlin",true,"github.com/aquilax/go-perlin",true,function(alpha_,beta_,n_,p_,g3_,g2_,g1_){this.$val=this;if(arguments.length===0){this.alpha=0;this.beta=0;this.n=0;this.p=arrayType.zero();this.g3=arrayType$2.zero();this.g2=arrayType$4.zero();this.g1=arrayType$5.zero();return;}this.alpha=alpha_;this.beta=beta_;this.n=n_;this.p=p_;this.g3=g3_;this.g2=g2_;this.g1=g1_;});arrayType=$arrayType($Int,514);arrayType$1=$arrayType($Float64,3);arrayType$2=$arrayType(arrayType$1,514);arrayType$3=$arrayType($Float64,2);arrayType$4=$arrayType(arrayType$3,514);arrayType$5=$arrayType($Float64,514);arrayType$6=$arrayType($Float64,1);ptrType=$ptrType(Perlin);NewPerlin=function(alpha,beta,n,seed){var _r,alpha,beta,n,seed,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;alpha=$f.alpha;beta=$f.beta;n=$f.n;seed=$f.seed;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=NewPerlinRandSource(alpha,beta,n,rand.NewSource(seed));/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r;/* */}return;}if($f===undefined){$f={$blk:NewPerlin};}$f._r=_r;$f.alpha=alpha;$f.beta=beta;$f.n=n;$f.seed=seed;$f.$s=$s;$f.$r=$r;return $f;};$pkg.NewPerlin=NewPerlin;NewPerlinRandSource=function(alpha,beta,n,source){var _r,_r$1,_r$2,_r$3,_r$4,_r$5,_r$6,_r$7,_tmp,_tmp$1,_tmp$2,alpha,beta,i,j,k,n,p,r,source,x,x$1,x$10,x$11,x$12,x$13,x$14,x$15,x$16,x$17,x$18,x$19,x$2,x$20,x$21,x$22,x$23,x$24,x$25,x$26,x$27,x$3,x$4,x$5,x$6,x$7,x$8,x$9,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_r$7=$f._r$7;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tmp$2=$f._tmp$2;alpha=$f.alpha;beta=$f.beta;i=$f.i;j=$f.j;k=$f.k;n=$f.n;p=$f.p;r=$f.r;source=$f.source;x=$f.x;x$1=$f.x$1;x$10=$f.x$10;x$11=$f.x$11;x$12=$f.x$12;x$13=$f.x$13;x$14=$f.x$14;x$15=$f.x$15;x$16=$f.x$16;x$17=$f.x$17;x$18=$f.x$18;x$19=$f.x$19;x$2=$f.x$2;x$20=$f.x$20;x$21=$f.x$21;x$22=$f.x$22;x$23=$f.x$23;x$24=$f.x$24;x$25=$f.x$25;x$26=$f.x$26;x$27=$f.x$27;x$3=$f.x$3;x$4=$f.x$4;x$5=$f.x$5;x$6=$f.x$6;x$7=$f.x$7;x$8=$f.x$8;x$9=$f.x$9;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:p=[p];p[0]=new Perlin.ptr(0,0,0,arrayType.zero(),arrayType$2.zero(),arrayType$4.zero(),arrayType$5.zero());_tmp=0;_tmp$1=0;_tmp$2=0;i=_tmp;j=_tmp$1;k=_tmp$2;p[0].alpha=alpha;p[0].beta=beta;p[0].n=n;r=rand.New(source);i=0;/* while (true) { */case 1:/* if (!(i < 256)) { break; } */if(!(i<256)){$s=2;continue;}x=p[0].p,i<0||i>=x.length?($throwRuntimeError("index out of range"),undefined):x[i]=i;_r$1=r.Int();/* */$s=3;case 3:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}x$1=p[0].g1,i<0||i>=x$1.length?($throwRuntimeError("index out of range"),undefined):x$1[i]=((_r=_r$1%512,_r===_r?_r:$throwRuntimeError("integer divide by zero"))-256>>0)/256;j=0;/* while (true) { */case 4:/* if (!(j < 2)) { break; } */if(!(j<2)){$s=5;continue;}_r$3=r.Int();/* */$s=6;case 6:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}x$2=(x$3=p[0].g2,i<0||i>=x$3.length?($throwRuntimeError("index out of range"),undefined):x$3[i]),j<0||j>=x$2.length?($throwRuntimeError("index out of range"),undefined):x$2[j]=((_r$2=_r$3%512,_r$2===_r$2?_r$2:$throwRuntimeError("integer divide by zero"))-256>>0)/256;j=j+1>>0;/* } */$s=4;continue;case 5:normalize2((x$4=p[0].g2,i<0||i>=x$4.length?($throwRuntimeError("index out of range"),undefined):x$4[i]));j=0;/* while (true) { */case 7:/* if (!(j < 3)) { break; } */if(!(j<3)){$s=8;continue;}_r$5=r.Int();/* */$s=9;case 9:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}x$5=(x$6=p[0].g3,i<0||i>=x$6.length?($throwRuntimeError("index out of range"),undefined):x$6[i]),j<0||j>=x$5.length?($throwRuntimeError("index out of range"),undefined):x$5[j]=((_r$4=_r$5%512,_r$4===_r$4?_r$4:$throwRuntimeError("integer divide by zero"))-256>>0)/256;j=j+1>>0;/* } */$s=7;continue;case 8:normalize3((x$7=p[0].g3,i<0||i>=x$7.length?($throwRuntimeError("index out of range"),undefined):x$7[i]));i=i+1>>0;/* } */$s=1;continue;case 2:/* while (true) { */case 10:/* if (!(i > 0)) { break; } */if(!(i>0)){$s=11;continue;}k=(x$8=p[0].p,i<0||i>=x$8.length?($throwRuntimeError("index out of range"),undefined):x$8[i]);_r$7=r.Int();/* */$s=12;case 12:if($c){$c=false;_r$7=_r$7.$blk();}if(_r$7&&_r$7.$blk!==undefined){break s;}j=(_r$6=_r$7%256,_r$6===_r$6?_r$6:$throwRuntimeError("integer divide by zero"));x$10=p[0].p,i<0||i>=x$10.length?($throwRuntimeError("index out of range"),undefined):x$10[i]=(x$9=p[0].p,j<0||j>=x$9.length?($throwRuntimeError("index out of range"),undefined):x$9[j]);x$11=p[0].p,j<0||j>=x$11.length?($throwRuntimeError("index out of range"),undefined):x$11[j]=k;i=i-1>>0;/* } */$s=10;continue;case 11:i=0;while(true){if(!(i<258)){break;}x$13=p[0].p,x$14=256+i>>0,x$14<0||x$14>=x$13.length?($throwRuntimeError("index out of range"),undefined):x$13[x$14]=(x$12=p[0].p,i<0||i>=x$12.length?($throwRuntimeError("index out of range"),undefined):x$12[i]);x$16=p[0].g1,x$17=256+i>>0,x$17<0||x$17>=x$16.length?($throwRuntimeError("index out of range"),undefined):x$16[x$17]=(x$15=p[0].g1,i<0||i>=x$15.length?($throwRuntimeError("index out of range"),undefined):x$15[i]);j=0;while(true){if(!(j<2)){break;}x$20=(x$21=p[0].g2,x$22=256+i>>0,x$22<0||x$22>=x$21.length?($throwRuntimeError("index out of range"),undefined):x$21[x$22]),j<0||j>=x$20.length?($throwRuntimeError("index out of range"),undefined):x$20[j]=(x$18=(x$19=p[0].g2,i<0||i>=x$19.length?($throwRuntimeError("index out of range"),undefined):x$19[i]),j<0||j>=x$18.length?($throwRuntimeError("index out of range"),undefined):x$18[j]);j=j+1>>0;}j=0;while(true){if(!(j<3)){break;}x$25=(x$26=p[0].g3,x$27=256+i>>0,x$27<0||x$27>=x$26.length?($throwRuntimeError("index out of range"),undefined):x$26[x$27]),j<0||j>=x$25.length?($throwRuntimeError("index out of range"),undefined):x$25[j]=(x$23=(x$24=p[0].g3,i<0||i>=x$24.length?($throwRuntimeError("index out of range"),undefined):x$24[i]),j<0||j>=x$23.length?($throwRuntimeError("index out of range"),undefined):x$23[j]);j=j+1>>0;}i=i+1>>0;}$s=-1;return p[0];/* */}return;}if($f===undefined){$f={$blk:NewPerlinRandSource};}$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._r$7=_r$7;$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tmp$2=_tmp$2;$f.alpha=alpha;$f.beta=beta;$f.i=i;$f.j=j;$f.k=k;$f.n=n;$f.p=p;$f.r=r;$f.source=source;$f.x=x;$f.x$1=x$1;$f.x$10=x$10;$f.x$11=x$11;$f.x$12=x$12;$f.x$13=x$13;$f.x$14=x$14;$f.x$15=x$15;$f.x$16=x$16;$f.x$17=x$17;$f.x$18=x$18;$f.x$19=x$19;$f.x$2=x$2;$f.x$20=x$20;$f.x$21=x$21;$f.x$22=x$22;$f.x$23=x$23;$f.x$24=x$24;$f.x$25=x$25;$f.x$26=x$26;$f.x$27=x$27;$f.x$3=x$3;$f.x$4=x$4;$f.x$5=x$5;$f.x$6=x$6;$f.x$7=x$7;$f.x$8=x$8;$f.x$9=x$9;$f.$s=$s;$f.$r=$r;return $f;};$pkg.NewPerlinRandSource=NewPerlinRandSource;normalize2=function(v){var s,v;s=math.Sqrt((v.nilCheck,v[0])*(v.nilCheck,v[0])+(v.nilCheck,v[1])*(v.nilCheck,v[1]));v.nilCheck,v[0]=(v.nilCheck,v[0])/s;v.nilCheck,v[1]=(v.nilCheck,v[1])/s;};normalize3=function(v){var s,v;s=math.Sqrt((v.nilCheck,v[0])*(v.nilCheck,v[0])+(v.nilCheck,v[1])*(v.nilCheck,v[1])+(v.nilCheck,v[2])*(v.nilCheck,v[2]));v.nilCheck,v[0]=(v.nilCheck,v[0])/s;v.nilCheck,v[1]=(v.nilCheck,v[1])/s;v.nilCheck,v[2]=(v.nilCheck,v[2])/s;};at2=function(rx,ry,q){var q,rx,ry;return rx*q[0]+ry*q[1];};at3=function(rx,ry,rz,q){var q,rx,ry,rz;return rx*q[0]+ry*q[1]+rz*q[2];};sCurve=function(t){var t;return t*t*(3-2*t);};lerp=function(t,a,b){var a,b,t;return a+t*(b-a);};Perlin.ptr.prototype.noise1=function(arg){var arg,bx0,bx1,p,rx0,rx1,sx,t,u,v,vec,x,x$1,x$2,x$3,x$4,x$5;p=this;vec=arrayType$6.zero();vec[0]=arg;t=vec[0]+4096;bx0=t>>0&255;bx1=bx0+1>>0&255;rx0=t-(t>>0);rx1=rx0-1;sx=sCurve(rx0);u=rx0*(x=p.g1,x$1=(x$2=p.p,bx0<0||bx0>=x$2.length?($throwRuntimeError("index out of range"),undefined):x$2[bx0]),x$1<0||x$1>=x.length?($throwRuntimeError("index out of range"),undefined):x[x$1]);v=rx1*(x$3=p.g1,x$4=(x$5=p.p,bx1<0||bx1>=x$5.length?($throwRuntimeError("index out of range"),undefined):x$5[bx1]),x$4<0||x$4>=x$3.length?($throwRuntimeError("index out of range"),undefined):x$3[x$4]);return lerp(sx,u,v);};Perlin.prototype.noise1=function(arg){return this.$val.noise1(arg);};Perlin.ptr.prototype.noise2=function(vec){var a,b,b00,b01,b10,b11,bx0,bx1,by0,by1,i,j,p,q,rx0,rx1,ry0,ry1,sx,sy,t,u,v,vec,x,x$1,x$10,x$11,x$12,x$13,x$2,x$3,x$4,x$5,x$6,x$7,x$8,x$9;p=this;t=vec[0]+4096;bx0=t>>0&255;bx1=bx0+1>>0&255;rx0=t-(t>>0);rx1=rx0-1;t=vec[1]+4096;by0=t>>0&255;by1=by0+1>>0&255;ry0=t-(t>>0);ry1=ry0-1;i=(x=p.p,bx0<0||bx0>=x.length?($throwRuntimeError("index out of range"),undefined):x[bx0]);j=(x$1=p.p,bx1<0||bx1>=x$1.length?($throwRuntimeError("index out of range"),undefined):x$1[bx1]);b00=(x$2=p.p,x$3=i+by0>>0,x$3<0||x$3>=x$2.length?($throwRuntimeError("index out of range"),undefined):x$2[x$3]);b10=(x$4=p.p,x$5=j+by0>>0,x$5<0||x$5>=x$4.length?($throwRuntimeError("index out of range"),undefined):x$4[x$5]);b01=(x$6=p.p,x$7=i+by1>>0,x$7<0||x$7>=x$6.length?($throwRuntimeError("index out of range"),undefined):x$6[x$7]);b11=(x$8=p.p,x$9=j+by1>>0,x$9<0||x$9>=x$8.length?($throwRuntimeError("index out of range"),undefined):x$8[x$9]);sx=sCurve(rx0);sy=sCurve(ry0);q=$clone((x$10=p.g2,b00<0||b00>=x$10.length?($throwRuntimeError("index out of range"),undefined):x$10[b00]),arrayType$3);u=at2(rx0,ry0,$clone(q,arrayType$3));arrayType$3.copy(q,(x$11=p.g2,b10<0||b10>=x$11.length?($throwRuntimeError("index out of range"),undefined):x$11[b10]));v=at2(rx1,ry0,$clone(q,arrayType$3));a=lerp(sx,u,v);arrayType$3.copy(q,(x$12=p.g2,b01<0||b01>=x$12.length?($throwRuntimeError("index out of range"),undefined):x$12[b01]));u=at2(rx0,ry1,$clone(q,arrayType$3));arrayType$3.copy(q,(x$13=p.g2,b11<0||b11>=x$13.length?($throwRuntimeError("index out of range"),undefined):x$13[b11]));v=at2(rx1,ry1,$clone(q,arrayType$3));b=lerp(sx,u,v);return lerp(sy,a,b);};Perlin.prototype.noise2=function(vec){return this.$val.noise2(vec);};Perlin.ptr.prototype.noise3=function(vec){var a,b,b00,b01,b10,b11,bx0,bx1,by0,by1,bz0,bz1,c,d,i,j,p,q,rx0,rx1,ry0,ry1,rz0,rz1,sy,sz,t,u,v,vec,x,x$1,x$10,x$11,x$12,x$13,x$14,x$15,x$16,x$17,x$18,x$19,x$2,x$20,x$21,x$22,x$23,x$24,x$25,x$3,x$4,x$5,x$6,x$7,x$8,x$9;p=this;t=vec[0]+4096;bx0=t>>0&255;bx1=bx0+1>>0&255;rx0=t-(t>>0);rx1=rx0-1;t=vec[1]+4096;by0=t>>0&255;by1=by0+1>>0&255;ry0=t-(t>>0);ry1=ry0-1;t=vec[2]+4096;bz0=t>>0&255;bz1=bz0+1>>0&255;rz0=t-(t>>0);rz1=rz0-1;i=(x=p.p,bx0<0||bx0>=x.length?($throwRuntimeError("index out of range"),undefined):x[bx0]);j=(x$1=p.p,bx1<0||bx1>=x$1.length?($throwRuntimeError("index out of range"),undefined):x$1[bx1]);b00=(x$2=p.p,x$3=i+by0>>0,x$3<0||x$3>=x$2.length?($throwRuntimeError("index out of range"),undefined):x$2[x$3]);b10=(x$4=p.p,x$5=j+by0>>0,x$5<0||x$5>=x$4.length?($throwRuntimeError("index out of range"),undefined):x$4[x$5]);b01=(x$6=p.p,x$7=i+by1>>0,x$7<0||x$7>=x$6.length?($throwRuntimeError("index out of range"),undefined):x$6[x$7]);b11=(x$8=p.p,x$9=j+by1>>0,x$9<0||x$9>=x$8.length?($throwRuntimeError("index out of range"),undefined):x$8[x$9]);t=sCurve(rx0);sy=sCurve(ry0);sz=sCurve(rz0);q=$clone((x$10=p.g3,x$11=b00+bz0>>0,x$11<0||x$11>=x$10.length?($throwRuntimeError("index out of range"),undefined):x$10[x$11]),arrayType$1);u=at3(rx0,ry0,rz0,$clone(q,arrayType$1));arrayType$1.copy(q,(x$12=p.g3,x$13=b10+bz0>>0,x$13<0||x$13>=x$12.length?($throwRuntimeError("index out of range"),undefined):x$12[x$13]));v=at3(rx1,ry0,rz0,$clone(q,arrayType$1));a=lerp(t,u,v);arrayType$1.copy(q,(x$14=p.g3,x$15=b01+bz0>>0,x$15<0||x$15>=x$14.length?($throwRuntimeError("index out of range"),undefined):x$14[x$15]));u=at3(rx0,ry1,rz0,$clone(q,arrayType$1));arrayType$1.copy(q,(x$16=p.g3,x$17=b11+bz0>>0,x$17<0||x$17>=x$16.length?($throwRuntimeError("index out of range"),undefined):x$16[x$17]));v=at3(rx1,ry1,rz0,$clone(q,arrayType$1));b=lerp(t,u,v);c=lerp(sy,a,b);arrayType$1.copy(q,(x$18=p.g3,x$19=b00+bz1>>0,x$19<0||x$19>=x$18.length?($throwRuntimeError("index out of range"),undefined):x$18[x$19]));u=at3(rx0,ry0,rz1,$clone(q,arrayType$1));arrayType$1.copy(q,(x$20=p.g3,x$21=b10+bz1>>0,x$21<0||x$21>=x$20.length?($throwRuntimeError("index out of range"),undefined):x$20[x$21]));v=at3(rx1,ry0,rz1,$clone(q,arrayType$1));a=lerp(t,u,v);arrayType$1.copy(q,(x$22=p.g3,x$23=b01+bz1>>0,x$23<0||x$23>=x$22.length?($throwRuntimeError("index out of range"),undefined):x$22[x$23]));u=at3(rx0,ry1,rz1,$clone(q,arrayType$1));arrayType$1.copy(q,(x$24=p.g3,x$25=b11+bz1>>0,x$25<0||x$25>=x$24.length?($throwRuntimeError("index out of range"),undefined):x$24[x$25]));v=at3(rx1,ry1,rz1,$clone(q,arrayType$1));b=lerp(t,u,v);d=lerp(sy,a,b);return lerp(sz,c,d);};Perlin.prototype.noise3=function(vec){return this.$val.noise3(vec);};Perlin.ptr.prototype.Noise1D=function(x){var _tmp,_tmp$1,i,p,px,scale,sum,val,x;p=this;scale=1;_tmp=0;_tmp$1=0;sum=_tmp;val=_tmp$1;px=x;i=0;while(true){if(!(i<p.n)){break;}val=p.noise1(px);sum=sum+val/scale;scale=scale*p.alpha;px=px*p.beta;i=i+1>>0;}return sum;};Perlin.prototype.Noise1D=function(x){return this.$val.Noise1D(x);};Perlin.ptr.prototype.Noise2D=function(x,y){var _tmp,_tmp$1,i,p,px,scale,sum,val,x,y;p=this;scale=1;_tmp=0;_tmp$1=0;sum=_tmp;val=_tmp$1;px=arrayType$3.zero();px[0]=x;px[1]=y;i=0;while(true){if(!(i<p.n)){break;}val=p.noise2($clone(px,arrayType$3));sum=sum+val/scale;scale=scale*p.alpha;px[0]=px[0]*p.beta;px[1]=px[1]*p.beta;i=i+1>>0;}return sum;};Perlin.prototype.Noise2D=function(x,y){return this.$val.Noise2D(x,y);};Perlin.ptr.prototype.Noise3D=function(x,y,z){var _tmp,_tmp$1,i,p,px,scale,sum,val,x,y,z;p=this;scale=1;_tmp=0;_tmp$1=0;sum=_tmp;val=_tmp$1;px=arrayType$1.zero();if(z<0){return p.Noise2D(x,y);}px[0]=x;px[1]=y;px[2]=z;i=0;while(true){if(!(i<p.n)){break;}val=p.noise3($clone(px,arrayType$1));sum=sum+val/scale;scale=scale*p.alpha;px[0]=px[0]*p.beta;px[1]=px[1]*p.beta;px[2]=px[2]*p.beta;i=i+1>>0;}return sum;};Perlin.prototype.Noise3D=function(x,y,z){return this.$val.Noise3D(x,y,z);};ptrType.methods=[{prop:"noise1",name:"noise1",pkg:"github.com/aquilax/go-perlin",typ:$funcType([$Float64],[$Float64],false)},{prop:"noise2",name:"noise2",pkg:"github.com/aquilax/go-perlin",typ:$funcType([arrayType$3],[$Float64],false)},{prop:"noise3",name:"noise3",pkg:"github.com/aquilax/go-perlin",typ:$funcType([arrayType$1],[$Float64],false)},{prop:"Noise1D",name:"Noise1D",pkg:"",typ:$funcType([$Float64],[$Float64],false)},{prop:"Noise2D",name:"Noise2D",pkg:"",typ:$funcType([$Float64,$Float64],[$Float64],false)},{prop:"Noise3D",name:"Noise3D",pkg:"",typ:$funcType([$Float64,$Float64,$Float64],[$Float64],false)}];Perlin.init("github.com/aquilax/go-perlin",[{prop:"alpha",name:"alpha",embedded:false,exported:false,typ:$Float64,tag:""},{prop:"beta",name:"beta",embedded:false,exported:false,typ:$Float64,tag:""},{prop:"n",name:"n",embedded:false,exported:false,typ:$Int,tag:""},{prop:"p",name:"p",embedded:false,exported:false,typ:arrayType,tag:""},{prop:"g3",name:"g3",embedded:false,exported:false,typ:arrayType$2,tag:""},{prop:"g2",name:"g2",embedded:false,exported:false,typ:arrayType$4,tag:""},{prop:"g1",name:"g1",embedded:false,exported:false,typ:arrayType$5,tag:""}]);$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=math.$init();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=rand.$init();/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["app/tool/helper"]=function(){var $pkg={},$init,tool,data,protocol,uidata,fmt,perlin,js,math,strconv,astar,GenerateMapConfig,UIReducer,sliceType,sliceType$1,sliceType$2,sliceType$3,sliceType$4,sliceType$5,arrayType,ptrType,arrayType$1,sliceType$6,GenerateMap,MoveRangeTree2MoveRange,MoveRangeTree2Path,TerrainID2Terrain,QueryTerrain,BasicExtentCell,QueryMinMaxAttackRange,Min,Max,Clamp,World2Local,Local2World,UIReduce;tool=$packages["app/tool"];data=$packages["app/tool/data"];protocol=$packages["app/tool/protocol"];uidata=$packages["app/tool/uidata"];fmt=$packages["fmt"];perlin=$packages["github.com/aquilax/go-perlin"];js=$packages["github.com/gopherjs/gopherjs/js"];math=$packages["math"];strconv=$packages["strconv"];astar=$packages["tool/astar"];GenerateMapConfig=$pkg.GenerateMapConfig=$newType(0,$kindStruct,"helper.GenerateMapConfig",true,"app/tool/helper",true,function(Deepsea_,Sea_,Sand_,Grass_,Mountain_,City_,Tree_,Award_){this.$val=this;if(arguments.length===0){this.Deepsea=0;this.Sea=0;this.Sand=0;this.Grass=0;this.Mountain=0;this.City=0;this.Tree=0;this.Award=0;return;}this.Deepsea=Deepsea_;this.Sea=Sea_;this.Sand=Sand_;this.Grass=Grass_;this.Mountain=Mountain_;this.City=City_;this.Tree=Tree_;this.Award=Award_;});UIReducer=$pkg.UIReducer=$newType(4,$kindFunc,"helper.UIReducer",true,"app/tool/helper",true,null);sliceType=$sliceType($Float64);sliceType$1=$sliceType(sliceType);sliceType$2=$sliceType($Int);sliceType$3=$sliceType(sliceType$2);sliceType$4=$sliceType($emptyInterface);sliceType$5=$sliceType(protocol.Position);arrayType=$arrayType($Int,2);ptrType=$ptrType(astar.Node);arrayType$1=$arrayType($Float64,4);sliceType$6=$sliceType(astar.NeighborsNode);GenerateMap=function(config,seed,offset,very,w,h,sx,sy){var _r,_r$1,cityPosX,cityPosY,config,deepseaIn,f,f2,f3,f4,generatedMap,grassIn,h,i,i$1,j,j$1,list,list$1,maxV,noise,noiseList,offset,p,sandIn,seaIn,seed,sx,sy,total,treePosX,treePosY,very,w,x,x$1,x$2,y,y$1,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;cityPosX=$f.cityPosX;cityPosY=$f.cityPosY;config=$f.config;deepseaIn=$f.deepseaIn;f=$f.f;f2=$f.f2;f3=$f.f3;f4=$f.f4;generatedMap=$f.generatedMap;grassIn=$f.grassIn;h=$f.h;i=$f.i;i$1=$f.i$1;j=$f.j;j$1=$f.j$1;list=$f.list;list$1=$f.list$1;maxV=$f.maxV;noise=$f.noise;noiseList=$f.noiseList;offset=$f.offset;p=$f.p;sandIn=$f.sandIn;seaIn=$f.seaIn;seed=$f.seed;sx=$f.sx;sy=$f.sy;total=$f.total;treePosX=$f.treePosX;treePosY=$f.treePosY;very=$f.very;w=$f.w;x=$f.x;x$1=$f.x$1;x$2=$f.x$2;y=$f.y;y$1=$f.y$1;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=perlin.NewPerlin(2,2,1,seed);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}p=_r;total=config.Deepsea+config.Sea+config.Sand+config.Grass+config.Mountain;deepseaIn=config.Deepsea/total;seaIn=config.Sea/total+deepseaIn;sandIn=config.Sand/total+seaIn;grassIn=config.Grass/total+sandIn;noiseList=new sliceType$1([]);maxV=0;y=0;while(true){if(!(y<h)){break;}list=new sliceType([]);x=0;while(true){if(!(x<w)){break;}i=sx+x>>0;j=sy+y>>0;noise=p.Noise2D(i*0.1,j*0.1);maxV=math.Max(maxV,math.Abs(noise));list=$append(list,noise);x=x+1>>0;}noiseList=$append(noiseList,list);y=y+1>>0;}generatedMap=new sliceType$3([]);y$1=0;while(true){if(!(y$1<h)){break;}list$1=new sliceType$2([]);x$1=0;while(true){if(!(x$1<w)){break;}i$1=sx+x$1>>0;j$1=sy+y$1>>0;f=(x$2=y$1<0||y$1>=noiseList.$length?($throwRuntimeError("index out of range"),undefined):noiseList.$array[noiseList.$offset+y$1],x$1<0||x$1>=x$2.$length?($throwRuntimeError("index out of range"),undefined):x$2.$array[x$2.$offset+x$1]);f=f/maxV;f=math.Pow(f,very);f=(f+1)/2;f=f+offset;if(f>grassIn){list$1=$append(list$1,5);}else if(f>sandIn){cityPosX=math.Floor(i$1*0.4)*0.1*3+123;cityPosY=math.Floor(j$1*0.4)*0.1*3+245;f3=p.Noise2D(cityPosX,cityPosY);f3=f3/maxV;f3=(f3+1)/2;if(f3>config.City){treePosX=i$1*0.1*3+300;treePosY=j$1*0.1*3+20;f2=p.Noise2D(treePosX,treePosY);f2=f2/maxV;f2=(f2+1)/2;if(f2>config.Tree){list$1=$append(list$1,3);}else{list$1=$append(list$1,6);}}else{if(i$1===4||i$1===8||i$1===12||i$1===16||j$1===4||j$1===8||j$1===12||j$1===16){list$1=$append(list$1,8);}else{f4=(_r$1=(f3*10000>>0)%100,_r$1===_r$1?_r$1:$throwRuntimeError("integer divide by zero"))/100;if(f4>config.Award){list$1=$append(list$1,4);}else{list$1=$append(list$1,7);}}}}else if(f>seaIn){list$1=$append(list$1,2);}else if(f>deepseaIn){list$1=$append(list$1,1);}else{list$1=$append(list$1,0);}x$1=x$1+1>>0;}generatedMap=$append(generatedMap,list$1);y$1=y$1+1>>0;}$s=-1;return[generatedMap,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:GenerateMap};}$f._r=_r;$f._r$1=_r$1;$f.cityPosX=cityPosX;$f.cityPosY=cityPosY;$f.config=config;$f.deepseaIn=deepseaIn;$f.f=f;$f.f2=f2;$f.f3=f3;$f.f4=f4;$f.generatedMap=generatedMap;$f.grassIn=grassIn;$f.h=h;$f.i=i;$f.i$1=i$1;$f.j=j;$f.j$1=j$1;$f.list=list;$f.list$1=list$1;$f.maxV=maxV;$f.noise=noise;$f.noiseList=noiseList;$f.offset=offset;$f.p=p;$f.sandIn=sandIn;$f.seaIn=seaIn;$f.seed=seed;$f.sx=sx;$f.sy=sy;$f.total=total;$f.treePosX=treePosX;$f.treePosY=treePosY;$f.very=very;$f.w=w;$f.x=x;$f.x$1=x$1;$f.x$2=x$2;$f.y=y;$f.y$1=y$1;$f.$s=$s;$f.$r=$r;return $f;};$pkg.GenerateMap=GenerateMap;MoveRangeTree2MoveRange=function(tree){var _entry,_i,_keys,_ref,key,moveRange,tree;moveRange=new sliceType$5([]);_ref=tree;_i=0;_keys=$keys(_ref);while(true){if(!(_i<_keys.length)){break;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;continue;}key=_entry.k;moveRange=$append(moveRange,$assertType(key,protocol.Position));_i++;}return moveRange;};$pkg.MoveRangeTree2MoveRange=MoveRangeTree2MoveRange;MoveRangeTree2Path=function(tree,from){var _entry,_i,_r,_ref,from,path,posObj,ret,tree,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_i=$f._i;_r=$f._r;_ref=$f._ref;from=$f.from;path=$f.path;posObj=$f.posObj;ret=$f.ret;tree=$f.tree;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=astar.BuildPath((_entry=tree[$emptyInterface.keyFor(new protocol.Position(from))],_entry!==undefined?_entry.v:ptrType.nil));/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}path=_r;ret=new sliceType$5([]);_ref=path;_i=0;while(true){if(!(_i<_ref.$length)){break;}posObj=_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i];ret=$append(ret,$assertType(posObj,protocol.Position));_i++;}$s=-1;return ret;/* */}return;}if($f===undefined){$f={$blk:MoveRangeTree2Path};}$f._entry=_entry;$f._i=_i;$f._r=_r;$f._ref=_ref;$f.from=from;$f.path=path;$f.posObj=posObj;$f.ret=ret;$f.tree=tree;$f.$s=$s;$f.$r=$r;return $f;};$pkg.MoveRangeTree2Path=MoveRangeTree2Path;TerrainID2Terrain=function(originTerrainID){var _entry,_entry$1,_r,_r$1,_tuple,_tuple$1,has,originTerrainID,terrain,terrainMapping,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_entry$1=$f._entry$1;_r=$f._r;_r$1=$f._r$1;_tuple=$f._tuple;_tuple$1=$f._tuple$1;has=$f.has;originTerrainID=$f.originTerrainID;terrain=$f.terrain;terrainMapping=$f.terrainMapping;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_tuple=(_entry=data.GameData.TerrainMapping[$String.keyFor(strconv.Itoa(originTerrainID))],_entry!==undefined?[_entry.v,true]:[new data.TerrainMappingProto.ptr(""),false]);terrainMapping=$clone(_tuple[0],data.TerrainMappingProto);has=_tuple[1];/* */if(has===false){$s=1;continue;}/* */$s=2;continue;/* if (has === false) { */case 1:_r=fmt.Errorf("terrainMapping not found: %v",new sliceType$4([new $Int(originTerrainID)]));/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return[new data.TerrainProto.ptr("","",arrayType$1.zero(),0,0),_r];/* } */case 2:_tuple$1=(_entry$1=data.GameData.Terrain[$String.keyFor(terrainMapping.Terrain)],_entry$1!==undefined?[_entry$1.v,true]:[new data.TerrainProto.ptr("","",arrayType$1.zero(),0,0),false]);terrain=$clone(_tuple$1[0],data.TerrainProto);has=_tuple$1[1];/* */if(has===false){$s=4;continue;}/* */$s=5;continue;/* if (has === false) { */case 4:_r$1=fmt.Errorf("data.GameData.Terrain not found: %v",new sliceType$4([new $String(terrainMapping.Terrain)]));/* */$s=6;case 6:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}$s=-1;return[new data.TerrainProto.ptr("","",arrayType$1.zero(),0,0),_r$1];/* } */case 5:$s=-1;return[terrain,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:TerrainID2Terrain};}$f._entry=_entry;$f._entry$1=_entry$1;$f._r=_r;$f._r$1=_r$1;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f.has=has;$f.originTerrainID=originTerrainID;$f.terrain=terrain;$f.terrainMapping=terrainMapping;$f.$s=$s;$f.$r=$r;return $f;};$pkg.TerrainID2Terrain=TerrainID2Terrain;QueryTerrain=function(gameMap,cache,pos){var _entry,_key,_r,_r$1,_tuple,_tuple$1,_tuple$2,cache,err,gameMap,has,originTerrainID,pos,terrain,terrain$1,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_key=$f._key;_r=$f._r;_r$1=$f._r$1;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;cache=$f.cache;err=$f.err;gameMap=$f.gameMap;has=$f.has;originTerrainID=$f.originTerrainID;pos=$f.pos;terrain=$f.terrain;terrain$1=$f.terrain$1;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:if(!(cache===false)){_tuple=(_entry=cache[protocol.Position.keyFor(pos)],_entry!==undefined?[_entry.v,true]:[new data.TerrainProto.ptr("","",arrayType$1.zero(),0,0),false]);terrain=$clone(_tuple[0],data.TerrainProto);has=_tuple[1];if(has){$s=-1;return[terrain,$ifaceNil];}}_r=tool.TryGetInt2(gameMap,pos[1])(pos[0],$ifaceNil);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple$1=_r;originTerrainID=_tuple$1[0];err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[new data.TerrainProto.ptr("","",arrayType$1.zero(),0,0),err];}_r$1=TerrainID2Terrain(originTerrainID);/* */$s=2;case 2:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$2=_r$1;terrain$1=$clone(_tuple$2[0],data.TerrainProto);err=_tuple$2[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[new data.TerrainProto.ptr("","",arrayType$1.zero(),0,0),err];}if(!(cache===false)){_key=$clone(pos,protocol.Position);(cache||$throwRuntimeError("assignment to entry in nil map"))[protocol.Position.keyFor(_key)]={k:_key,v:$clone(terrain$1,data.TerrainProto)};}$s=-1;return[terrain$1,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:QueryTerrain};}$f._entry=_entry;$f._key=_key;$f._r=_r;$f._r$1=_r$1;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f.cache=cache;$f.err=err;$f.gameMap=gameMap;$f.has=has;$f.originTerrainID=originTerrainID;$f.pos=pos;$f.terrain=terrain;$f.terrain$1=terrain$1;$f.$s=$s;$f.$r=$r;return $f;};$pkg.QueryTerrain=QueryTerrain;BasicExtentCell=function(v){var _entry,_i,_keys,_r,_ref,_tuple,key,retPos,tree,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_i=$f._i;_keys=$f._keys;_r=$f._r;_ref=$f._ref;_tuple=$f._tuple;key=$f.key;retPos=$f.retPos;tree=$f.tree;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v=[v];_r=astar.ShortedPathTree(new protocol.Position(arrayType.zero()),function(v){return function(curr){var curr;return false;};}(v),function(v){return function(curr){var _i,_ref,_tmp,_tmp$1,curr,currPos,nextCost,nextPos,offset,offsets,ret,x,y;if(curr.Cost>>0>100){return new sliceType$6([]);}currPos=$clone($assertType(curr.Pather,protocol.Position),protocol.Position);offsets=new sliceType$5([$toNativeArray($kindInt,[0,-1]),$toNativeArray($kindInt,[1,0]),$toNativeArray($kindInt,[0,1]),$toNativeArray($kindInt,[-1,0])]);ret=new sliceType$6([]);_ref=offsets;_i=0;while(true){if(!(_i<_ref.$length)){break;}offset=$clone(_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i],protocol.Position);_tmp=currPos[0]+offset[0]>>0;_tmp$1=currPos[1]+offset[1]>>0;x=_tmp;y=_tmp$1;nextPos=$toNativeArray($kindInt,[x,y]);nextCost=1;if(curr.Cost+nextCost>>0>v[0]){_i++;continue;}ret=$append(ret,new astar.NeighborsNode.ptr(new protocol.Position(nextPos),nextCost));_i++;}return ret;};}(v),function(v){return function(curr){var curr;return 1;};}(v));/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;tree=_tuple[0];retPos=new sliceType$5([]);_ref=tree;_i=0;_keys=$keys(_ref);while(true){if(!(_i<_keys.length)){break;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;continue;}key=_entry.k;retPos=$append(retPos,$assertType(key,protocol.Position));_i++;}$s=-1;return[retPos,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:BasicExtentCell};}$f._entry=_entry;$f._i=_i;$f._keys=_keys;$f._r=_r;$f._ref=_ref;$f._tuple=_tuple;$f.key=key;$f.retPos=retPos;$f.tree=tree;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};$pkg.BasicExtentCell=BasicExtentCell;QueryMinMaxAttackRange=function(w,h,min,max,offset){var _i,_r,_r$1,_ref,_tmp,_tmp$1,_tuple,_tuple$1,err,err$1,h,i,max,maxRange,min,minRange,offset,pos,ret,w,x,y,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_i=$f._i;_r=$f._r;_r$1=$f._r$1;_ref=$f._ref;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tuple=$f._tuple;_tuple$1=$f._tuple$1;err=$f.err;err$1=$f.err$1;h=$f.h;i=$f.i;max=$f.max;maxRange=$f.maxRange;min=$f.min;minRange=$f.minRange;offset=$f.offset;pos=$f.pos;ret=$f.ret;w=$f.w;x=$f.x;y=$f.y;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=BasicExtentCell(max);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;maxRange=_tuple[0];err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[new sliceType$5([]),err];}ret=maxRange;/* */if(min<max){$s=2;continue;}/* */$s=3;continue;/* if (min < max) { */case 2:_r$1=BasicExtentCell(min-1>>0);/* */$s=4;case 4:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$1=_r$1;minRange=_tuple$1[0];err$1=_tuple$1[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[new sliceType$5([]),err$1];}ret=protocol.DifferencePosition(maxRange,minRange);/* } */case 3:ret=protocol.DifferencePosition(ret,new sliceType$5([$toNativeArray($kindInt,[0,0])]));_ref=ret;_i=0;while(true){if(!(_i<_ref.$length)){break;}i=_i;pos=$clone(_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i],protocol.Position);_tmp=pos[0]+offset[0]>>0;_tmp$1=pos[1]+offset[1]>>0;x=_tmp;y=_tmp$1;if(x<0||x>=w){_i++;continue;}if(y<0||y>=h){_i++;continue;}protocol.Position.copy(i<0||i>=ret.$length?($throwRuntimeError("index out of range"),undefined):ret.$array[ret.$offset+i],$toNativeArray($kindInt,[x,y]));_i++;}$s=-1;return[ret,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:QueryMinMaxAttackRange};}$f._i=_i;$f._r=_r;$f._r$1=_r$1;$f._ref=_ref;$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f.err=err;$f.err$1=err$1;$f.h=h;$f.i=i;$f.max=max;$f.maxRange=maxRange;$f.min=min;$f.minRange=minRange;$f.offset=offset;$f.pos=pos;$f.ret=ret;$f.w=w;$f.x=x;$f.y=y;$f.$s=$s;$f.$r=$r;return $f;};$pkg.QueryMinMaxAttackRange=QueryMinMaxAttackRange;Min=function(x,y){var x,y;if(x<y){return x;}return y;};$pkg.Min=Min;Max=function(x,y){var x,y;if(x>y){return x;}return y;};$pkg.Max=Max;Clamp=function(v,min,max){var max,min,v;if(v<min){return[min,true];}if(v>=max){return[max-1>>0,true];}return[v,false];};$pkg.Clamp=Clamp;World2Local=function(camera,pos){var camera,pos;return $toNativeArray($kindInt,[pos[0]-camera[0]>>0,pos[1]-camera[1]>>0]);};$pkg.World2Local=World2Local;Local2World=function(camera,pos){var camera,pos;return $toNativeArray($kindInt,[pos[0]+camera[0]>>0,pos[1]+camera[1]>>0]);};$pkg.Local2World=Local2World;UIReduce=function(reducers){var reducers;return function $b(origin,evt){var _i,_r,_ref,_tuple,ctx,err,evt,origin,reducer,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_i=$f._i;_r=$f._r;_ref=$f._ref;_tuple=$f._tuple;ctx=$f.ctx;err=$f.err;evt=$f.evt;origin=$f.origin;reducer=$f.reducer;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:err=$ifaceNil;ctx=$clone(origin,uidata.UI);_ref=reducers;_i=0;/* while (true) { */case 1:/* if (!(_i < _ref.$length)) { break; } */if(!(_i<_ref.$length)){$s=2;continue;}reducer=_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i];_r=reducer($clone(ctx,uidata.UI),evt);/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;uidata.UI.copy(ctx,_tuple[0]);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}_i++;/* } */$s=1;continue;case 2:$s=-1;return[ctx,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:$b};}$f._i=_i;$f._r=_r;$f._ref=_ref;$f._tuple=_tuple;$f.ctx=ctx;$f.err=err;$f.evt=evt;$f.origin=origin;$f.reducer=reducer;$f.$s=$s;$f.$r=$r;return $f;};};$pkg.UIReduce=UIReduce;GenerateMapConfig.init("",[{prop:"Deepsea",name:"Deepsea",embedded:false,exported:true,typ:$Float64,tag:""},{prop:"Sea",name:"Sea",embedded:false,exported:true,typ:$Float64,tag:""},{prop:"Sand",name:"Sand",embedded:false,exported:true,typ:$Float64,tag:""},{prop:"Grass",name:"Grass",embedded:false,exported:true,typ:$Float64,tag:""},{prop:"Mountain",name:"Mountain",embedded:false,exported:true,typ:$Float64,tag:""},{prop:"City",name:"City",embedded:false,exported:true,typ:$Float64,tag:""},{prop:"Tree",name:"Tree",embedded:false,exported:true,typ:$Float64,tag:""},{prop:"Award",name:"Award",embedded:false,exported:true,typ:$Float64,tag:""}]);UIReducer.init([uidata.UI,$emptyInterface],[uidata.UI,$error],false);$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=tool.$init();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=data.$init();/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=protocol.$init();/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=uidata.$init();/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=fmt.$init();/* */$s=5;case 5:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=perlin.$init();/* */$s=6;case 6:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=js.$init();/* */$s=7;case 7:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=math.$init();/* */$s=8;case 8:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=strconv.$init();/* */$s=9;case 9:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=astar.$init();/* */$s=10;case 10:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$pkg.GenerateMapConfigDefault=new GenerateMapConfig.ptr(0,1,0.05,5,3,0.2,0.3,0.1);$pkg.GenerateMapConfigIsland=new GenerateMapConfig.ptr(2,3,0.5,1,0.3,0.1,0.5,0.1);/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["golang.org/x/image/math/f64"]=function(){var $pkg={},$init;$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["text/tabwriter"]=function(){var $pkg={},$init,io,utf8,cell,Writer,osError,sliceType,sliceType$1,ptrType,ptrType$1,arrayType,sliceType$2,sliceType$3,ptrType$2,newline,tabs,vbar,hbar,handlePanic,NewWriter;io=$packages["io"];utf8=$packages["unicode/utf8"];cell=$pkg.cell=$newType(0,$kindStruct,"tabwriter.cell",true,"text/tabwriter",false,function(size_,width_,htab_){this.$val=this;if(arguments.length===0){this.size=0;this.width=0;this.htab=false;return;}this.size=size_;this.width=width_;this.htab=htab_;});Writer=$pkg.Writer=$newType(0,$kindStruct,"tabwriter.Writer",true,"text/tabwriter",true,function(output_,minwidth_,tabwidth_,padding_,padbytes_,flags_,buf_,pos_,cell_,endChar_,lines_,widths_){this.$val=this;if(arguments.length===0){this.output=$ifaceNil;this.minwidth=0;this.tabwidth=0;this.padding=0;this.padbytes=arrayType.zero();this.flags=0;this.buf=sliceType.nil;this.pos=0;this.cell=new cell.ptr(0,0,false);this.endChar=0;this.lines=sliceType$2.nil;this.widths=sliceType$3.nil;return;}this.output=output_;this.minwidth=minwidth_;this.tabwidth=tabwidth_;this.padding=padding_;this.padbytes=padbytes_;this.flags=flags_;this.buf=buf_;this.pos=pos_;this.cell=cell_;this.endChar=endChar_;this.lines=lines_;this.widths=widths_;});osError=$pkg.osError=$newType(0,$kindStruct,"tabwriter.osError",true,"text/tabwriter",false,function(err_){this.$val=this;if(arguments.length===0){this.err=$ifaceNil;return;}this.err=err_;});sliceType=$sliceType($Uint8);sliceType$1=$sliceType(cell);ptrType=$ptrType(sliceType$1);ptrType$1=$ptrType($error);arrayType=$arrayType($Uint8,8);sliceType$2=$sliceType(sliceType$1);sliceType$3=$sliceType($Int);ptrType$2=$ptrType(Writer);Writer.ptr.prototype.addLine=function(flushed){var b,flushed,n,n$1,prev,x,x$1,x$2,x$3,x$4,x$5,x$6,x$7,x$8,x$9;b=this;n=b.lines.$length+1>>0;if(n<=b.lines.$capacity){b.lines=$subslice(b.lines,0,n);x$2=b.lines,x$3=n-1>>0,x$3<0||x$3>=x$2.$length?($throwRuntimeError("index out of range"),undefined):x$2.$array[x$2.$offset+x$3]=$subslice((x=b.lines,x$1=n-1>>0,x$1<0||x$1>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+x$1]),0,0);}else{b.lines=$append(b.lines,sliceType$1.nil);}if(!flushed){n$1=b.lines.$length;if(n$1>=2){prev=(x$4=b.lines,x$5=n$1-2>>0,x$5<0||x$5>=x$4.$length?($throwRuntimeError("index out of range"),undefined):x$4.$array[x$4.$offset+x$5]).$length;if(prev>(x$6=b.lines,x$7=n$1-1>>0,x$7<0||x$7>=x$6.$length?($throwRuntimeError("index out of range"),undefined):x$6.$array[x$6.$offset+x$7]).$capacity){x$8=b.lines,x$9=n$1-1>>0,x$9<0||x$9>=x$8.$length?($throwRuntimeError("index out of range"),undefined):x$8.$array[x$8.$offset+x$9]=$makeSlice(sliceType$1,0,prev);}}}};Writer.prototype.addLine=function(flushed){return this.$val.addLine(flushed);};Writer.ptr.prototype.reset=function(){var b;b=this;b.buf=$subslice(b.buf,0,0);b.pos=0;cell.copy(b.cell,new cell.ptr(0,0,false));b.endChar=0;b.lines=$subslice(b.lines,0,0);b.widths=$subslice(b.widths,0,0);b.addLine(true);};Writer.prototype.reset=function(){return this.$val.reset();};Writer.ptr.prototype.Init=function(output,minwidth,tabwidth,padding,padchar,flags){var _i,_ref,b,flags,i,minwidth,output,padchar,padding,tabwidth,x;b=this;if(minwidth<0||tabwidth<0||padding<0){$panic(new $String("negative minwidth, tabwidth, or padding"));}b.output=output;b.minwidth=minwidth;b.tabwidth=tabwidth;b.padding=padding;_ref=b.padbytes;_i=0;while(true){if(!(_i<8)){break;}i=_i;x=b.padbytes,i<0||i>=x.length?($throwRuntimeError("index out of range"),undefined):x[i]=padchar;_i++;}if(padchar===9){flags=(flags&~4)>>>0;}b.flags=flags;b.reset();return b;};Writer.prototype.Init=function(output,minwidth,tabwidth,padding,padchar,flags){return this.$val.Init(output,minwidth,tabwidth,padding,padchar,flags);};Writer.ptr.prototype.write0=function(buf){var _r,_tuple,b,buf,err,n,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tuple=$f._tuple;b=$f.b;buf=$f.buf;err=$f.err;n=$f.n;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:b=this;_r=b.output.Write(buf);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;n=_tuple[0];err=_tuple[1];if(!(n===buf.$length)&&$interfaceIsEqual(err,$ifaceNil)){err=io.ErrShortWrite;}if(!$interfaceIsEqual(err,$ifaceNil)){$panic((x=new osError.ptr(err),new x.constructor.elem(x)));}$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:Writer.ptr.prototype.write0};}$f._r=_r;$f._tuple=_tuple;$f.b=b;$f.buf=buf;$f.err=err;$f.n=n;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};Writer.prototype.write0=function(buf){return this.$val.write0(buf);};Writer.ptr.prototype.writeN=function(src,n){var b,n,src,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;b=$f.b;n=$f.n;src=$f.src;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:b=this;/* while (true) { */case 1:/* if (!(n > src.$length)) { break; } */if(!(n>src.$length)){$s=2;continue;}$r=b.write0(src);/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}n=n-src.$length>>0;/* } */$s=1;continue;case 2:$r=b.write0($subslice(src,0,n));/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:Writer.ptr.prototype.writeN};}$f.b=b;$f.n=n;$f.src=src;$f.$s=$s;$f.$r=$r;return $f;};Writer.prototype.writeN=function(src,n){return this.$val.writeN(src,n);};Writer.ptr.prototype.writePadding=function(textw,cellw,useTabs){var _q,_q$1,b,cellw,n,textw,useTabs,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_q=$f._q;_q$1=$f._q$1;b=$f.b;cellw=$f.cellw;n=$f.n;textw=$f.textw;useTabs=$f.useTabs;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:b=this;/* */if(b.padbytes[0]===9||useTabs){$s=1;continue;}/* */$s=2;continue;/* if ((b.padbytes[0] === 9) || useTabs) { */case 1:if(b.tabwidth===0){$s=-1;return;}cellw=$imul((_q=((cellw+b.tabwidth>>0)-1>>0)/b.tabwidth,_q===_q&&_q!==1/0&&_q!==-1/0?_q>>0:$throwRuntimeError("integer divide by zero")),b.tabwidth);n=cellw-textw>>0;if(n<0){$panic(new $String("internal error"));}$r=b.writeN(tabs,(_q$1=((n+b.tabwidth>>0)-1>>0)/b.tabwidth,_q$1===_q$1&&_q$1!==1/0&&_q$1!==-1/0?_q$1>>0:$throwRuntimeError("integer divide by zero")));/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return;/* } */case 2:$r=b.writeN($subslice(new sliceType(b.padbytes),0),cellw-textw>>0);/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:Writer.ptr.prototype.writePadding};}$f._q=_q;$f._q$1=_q$1;$f.b=b;$f.cellw=cellw;$f.n=n;$f.textw=textw;$f.useTabs=useTabs;$f.$s=$s;$f.$r=$r;return $f;};Writer.prototype.writePadding=function(textw,cellw,useTabs){return this.$val.writePadding(textw,cellw,useTabs);};Writer.ptr.prototype.writeLines=function(pos0,line0,line1){var _i,_ref,b,c,i,j,line,line0,line1,pos,pos0,useTabs,x,x$1,x$2,x$3,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_i=$f._i;_ref=$f._ref;b=$f.b;c=$f.c;i=$f.i;j=$f.j;line=$f.line;line0=$f.line0;line1=$f.line1;pos=$f.pos;pos0=$f.pos0;useTabs=$f.useTabs;x=$f.x;x$1=$f.x$1;x$2=$f.x$2;x$3=$f.x$3;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:pos=0;b=this;pos=pos0;i=line0;/* while (true) { */case 1:/* if (!(i < line1)) { break; } */if(!(i<line1)){$s=2;continue;}line=(x=b.lines,i<0||i>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+i]);useTabs=!((b.flags&16)>>>0===0);_ref=line;_i=0;/* while (true) { */case 3:/* if (!(_i < _ref.$length)) { break; } */if(!(_i<_ref.$length)){$s=4;continue;}j=_i;c=$clone(_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i],cell);/* */if(j>0&&!((b.flags&32)>>>0===0)){$s=5;continue;}/* */$s=6;continue;/* if (j > 0 && !((((b.flags & 32) >>> 0) === 0))) { */case 5:$r=b.write0(vbar);/* */$s=7;case 7:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 6:/* */if(c.size===0){$s=8;continue;}/* */$s=9;continue;/* if (c.size === 0) { */case 8:/* */if(j<b.widths.$length){$s=11;continue;}/* */$s=12;continue;/* if (j < b.widths.$length) { */case 11:$r=b.writePadding(c.width,(x$1=b.widths,j<0||j>=x$1.$length?($throwRuntimeError("index out of range"),undefined):x$1.$array[x$1.$offset+j]),useTabs);/* */$s=13;case 13:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 12:$s=10;continue;/* } else { */case 9:useTabs=false;/* */if((b.flags&4)>>>0===0){$s=14;continue;}/* */$s=15;continue;/* if (((b.flags & 4) >>> 0) === 0) { */case 14:$r=b.write0($subslice(b.buf,pos,pos+c.size>>0));/* */$s=17;case 17:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}pos=pos+c.size>>0;/* */if(j<b.widths.$length){$s=18;continue;}/* */$s=19;continue;/* if (j < b.widths.$length) { */case 18:$r=b.writePadding(c.width,(x$2=b.widths,j<0||j>=x$2.$length?($throwRuntimeError("index out of range"),undefined):x$2.$array[x$2.$offset+j]),false);/* */$s=20;case 20:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 19:$s=16;continue;/* } else { */case 15:/* */if(j<b.widths.$length){$s=21;continue;}/* */$s=22;continue;/* if (j < b.widths.$length) { */case 21:$r=b.writePadding(c.width,(x$3=b.widths,j<0||j>=x$3.$length?($throwRuntimeError("index out of range"),undefined):x$3.$array[x$3.$offset+j]),false);/* */$s=23;case 23:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 22:$r=b.write0($subslice(b.buf,pos,pos+c.size>>0));/* */$s=24;case 24:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}pos=pos+c.size>>0;/* } */case 16:/* } */case 10:_i++;/* } */$s=3;continue;case 4:/* */if(i+1>>0===b.lines.$length){$s=25;continue;}/* */$s=26;continue;/* if ((i + 1 >> 0) === b.lines.$length) { */case 25:$r=b.write0($subslice(b.buf,pos,pos+b.cell.size>>0));/* */$s=28;case 28:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}pos=pos+b.cell.size>>0;$s=27;continue;/* } else { */case 26:$r=b.write0(newline);/* */$s=29;case 29:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 27:i=i+1>>0;/* } */$s=1;continue;case 2:$s=-1;return pos;/* */}return;}if($f===undefined){$f={$blk:Writer.ptr.prototype.writeLines};}$f._i=_i;$f._ref=_ref;$f.b=b;$f.c=c;$f.i=i;$f.j=j;$f.line=line;$f.line0=line0;$f.line1=line1;$f.pos=pos;$f.pos0=pos0;$f.useTabs=useTabs;$f.x=x;$f.x$1=x$1;$f.x$2=x$2;$f.x$3=x$3;$f.$s=$s;$f.$r=$r;return $f;};Writer.prototype.writeLines=function(pos0,line0,line1){return this.$val.writeLines(pos0,line0,line1);};Writer.ptr.prototype.format=function(pos0,line0,line1){var _r,_r$1,_r$2,b,c,column,discardable,line,line0,line1,pos,pos0,this$1,w,width,x,x$1,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;b=$f.b;c=$f.c;column=$f.column;discardable=$f.discardable;line=$f.line;line0=$f.line0;line1=$f.line1;pos=$f.pos;pos0=$f.pos0;this$1=$f.this$1;w=$f.w;width=$f.width;x=$f.x;x$1=$f.x$1;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:pos=0;b=this;pos=pos0;column=b.widths.$length;this$1=line0;/* while (true) { */case 1:/* if (!(this$1 < line1)) { break; } */if(!(this$1<line1)){$s=2;continue;}line=(x=b.lines,this$1<0||this$1>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+this$1]);/* */if(column>=line.$length-1>>0){$s=3;continue;}/* */$s=4;continue;/* if (column >= (line.$length - 1 >> 0)) { */case 3:this$1=this$1+1>>0;/* continue; */$s=1;continue;/* } */case 4:_r=b.writeLines(pos,line0,this$1);/* */$s=5;case 5:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}pos=_r;line0=this$1;width=b.minwidth;discardable=true;while(true){if(!(this$1<line1)){break;}line=(x$1=b.lines,this$1<0||this$1>=x$1.$length?($throwRuntimeError("index out of range"),undefined):x$1.$array[x$1.$offset+this$1]);if(column>=line.$length-1>>0){break;}c=$clone(column<0||column>=line.$length?($throwRuntimeError("index out of range"),undefined):line.$array[line.$offset+column],cell);w=c.width+b.padding>>0;if(w>width){width=w;}if(c.width>0||c.htab){discardable=false;}this$1=this$1+1>>0;}if(discardable&&!((b.flags&8)>>>0===0)){width=0;}b.widths=$append(b.widths,width);_r$1=b.format(pos,line0,this$1);/* */$s=6;case 6:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}pos=_r$1;b.widths=$subslice(b.widths,0,b.widths.$length-1>>0);line0=this$1;this$1=this$1+1>>0;/* } */$s=1;continue;case 2:_r$2=b.writeLines(pos,line0,line1);/* */$s=7;case 7:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}pos=_r$2;$s=-1;return pos;/* */}return;}if($f===undefined){$f={$blk:Writer.ptr.prototype.format};}$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f.b=b;$f.c=c;$f.column=column;$f.discardable=discardable;$f.line=line;$f.line0=line0;$f.line1=line1;$f.pos=pos;$f.pos0=pos0;$f.this$1=this$1;$f.w=w;$f.width=width;$f.x=x;$f.x$1=x$1;$f.$s=$s;$f.$r=$r;return $f;};Writer.prototype.format=function(pos0,line0,line1){return this.$val.format(pos0,line0,line1);};Writer.ptr.prototype.append=function(text){var b,text;b=this;b.buf=$appendSlice(b.buf,text);b.cell.size=b.cell.size+text.$length>>0;};Writer.prototype.append=function(text){return this.$val.append(text);};Writer.ptr.prototype.updateWidth=function(){var b;b=this;b.cell.width=b.cell.width+utf8.RuneCount($subslice(b.buf,b.pos))>>0;b.pos=b.buf.$length;};Writer.prototype.updateWidth=function(){return this.$val.updateWidth();};Writer.ptr.prototype.startEscape=function(ch){var _1,b,ch;b=this;_1=ch;if(_1===255){b.endChar=255;}else if(_1===60){b.endChar=62;}else if(_1===38){b.endChar=59;}};Writer.prototype.startEscape=function(ch){return this.$val.startEscape(ch);};Writer.ptr.prototype.endEscape=function(){var _1,b;b=this;_1=b.endChar;if(_1===255){b.updateWidth();if((b.flags&2)>>>0===0){b.cell.width=b.cell.width-2>>0;}}else if(_1===62){}else if(_1===59){b.cell.width=b.cell.width+1>>0;}b.pos=b.buf.$length;b.endChar=0;};Writer.prototype.endEscape=function(){return this.$val.endEscape();};Writer.ptr.prototype.terminateCell=function(htab){var b,htab,line,x;b=this;b.cell.htab=htab;line=(x=b.lines,$indexPtr(x.$array,x.$offset+(b.lines.$length-1>>0),ptrType));line.$set($append(line.$get(),b.cell));cell.copy(b.cell,new cell.ptr(0,0,false));return line.$get().$length;};Writer.prototype.terminateCell=function(htab){return this.$val.terminateCell(htab);};handlePanic=function(err,op){var _tuple,e,err,nerr,ok,op;e=$recover();if(!$interfaceIsEqual(e,$ifaceNil)){_tuple=$assertType(e,osError,true);nerr=$clone(_tuple[0],osError);ok=_tuple[1];if(ok){err.$set(nerr.err);return;}$panic(new $String("tabwriter: panic during "+op));}};Writer.ptr.prototype.Flush=function(){var _r,b,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;b=$f.b;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:b=this;_r=b.flush();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r;/* */}return;}if($f===undefined){$f={$blk:Writer.ptr.prototype.Flush};}$f._r=_r;$f.b=b;$f.$s=$s;$f.$r=$r;return $f;};Writer.prototype.Flush=function(){return this.$val.Flush();};Writer.ptr.prototype.flush=function(){var _r,b,err,$s,$deferred,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;b=$f.b;err=$f.err;$s=$f.$s;$deferred=$f.$deferred;$r=$f.$r;}var $err=null;try{s:while(true){switch($s){case 0:$deferred=[];$deferred.index=$curGoroutine.deferStack.length;$curGoroutine.deferStack.push($deferred);err=[err];err[0]=$ifaceNil;b=this;$deferred.push([$methodVal(b,"reset"),[]]);$deferred.push([handlePanic,[err.$ptr||(err.$ptr=new ptrType$1(function(){return this.$target[0];},function($v){this.$target[0]=$v;},err)),"Flush"]]);if(b.cell.size>0){if(!(b.endChar===0)){b.endEscape();}b.terminateCell(false);}_r=b.format(0,0,b.lines.$length);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_r;err[0]=$ifaceNil;$s=-1;return err[0];/* */}return;}}catch(err){$err=err;$s=-1;}finally{$callDeferred($deferred,$err);if(!$curGoroutine.asleep){return err[0];}if($curGoroutine.asleep){if($f===undefined){$f={$blk:Writer.ptr.prototype.flush};}$f._r=_r;$f.b=b;$f.err=err;$f.$s=$s;$f.$deferred=$deferred;$f.$r=$r;return $f;}}};Writer.prototype.flush=function(){return this.$val.flush();};Writer.ptr.prototype.Write=function(buf){var _1,_i,_r,_ref,b,buf,ch,err,i,j,n,ncells,$s,$deferred,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_i=$f._i;_r=$f._r;_ref=$f._ref;b=$f.b;buf=$f.buf;ch=$f.ch;err=$f.err;i=$f.i;j=$f.j;n=$f.n;ncells=$f.ncells;$s=$f.$s;$deferred=$f.$deferred;$r=$f.$r;}var $err=null;try{s:while(true){switch($s){case 0:$deferred=[];$deferred.index=$curGoroutine.deferStack.length;$curGoroutine.deferStack.push($deferred);err=[err];n=0;err[0]=$ifaceNil;b=this;$deferred.push([handlePanic,[err.$ptr||(err.$ptr=new ptrType$1(function(){return this.$target[0];},function($v){this.$target[0]=$v;},err)),"Write"]]);n=0;_ref=buf;_i=0;/* while (true) { */case 1:/* if (!(_i < _ref.$length)) { break; } */if(!(_i<_ref.$length)){$s=2;continue;}i=_i;ch=_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i];/* */if(b.endChar===0){$s=3;continue;}/* */$s=4;continue;/* if (b.endChar === 0) { */case 3:_1=ch;/* */if(_1===9||_1===11||_1===10||_1===12){$s=7;continue;}/* */if(_1===255){$s=8;continue;}/* */if(_1===60||_1===38){$s=9;continue;}/* */$s=10;continue;/* if ((_1 === (9)) || (_1 === (11)) || (_1 === (10)) || (_1 === (12))) { */case 7:b.append($subslice(buf,n,i));b.updateWidth();n=i+1>>0;ncells=b.terminateCell(ch===9);/* */if(ch===10||ch===12){$s=11;continue;}/* */$s=12;continue;/* if ((ch === 10) || (ch === 12)) { */case 11:b.addLine(ch===12);/* */if(ch===12||ncells===1){$s=13;continue;}/* */$s=14;continue;/* if ((ch === 12) || (ncells === 1)) { */case 13:_r=b.Flush();/* */$s=15;case 15:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}err[0]=_r;if(!$interfaceIsEqual(err[0],$ifaceNil)){$s=-1;return[n,err[0]];}/* */if(ch===12&&!((b.flags&32)>>>0===0)){$s=16;continue;}/* */$s=17;continue;/* if ((ch === 12) && !((((b.flags & 32) >>> 0) === 0))) { */case 16:$r=b.write0(hbar);/* */$s=18;case 18:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 17:/* } */case 14:/* } */case 12:$s=10;continue;/* } else if (_1 === (255)) { */case 8:b.append($subslice(buf,n,i));b.updateWidth();n=i;if(!((b.flags&2)>>>0===0)){n=n+1>>0;}b.startEscape(255);$s=10;continue;/* } else if ((_1 === (60)) || (_1 === (38))) { */case 9:if(!((b.flags&1)>>>0===0)){b.append($subslice(buf,n,i));b.updateWidth();n=i;b.startEscape(ch);}/* } */case 10:case 6:$s=5;continue;/* } else { */case 4:if(ch===b.endChar){j=i+1>>0;if(ch===255&&!((b.flags&2)>>>0===0)){j=i;}b.append($subslice(buf,n,j));n=i+1>>0;b.endEscape();}/* } */case 5:_i++;/* } */$s=1;continue;case 2:b.append($subslice(buf,n));n=buf.$length;$s=-1;return[n,err[0]];/* */}return;}}catch(err){$err=err;$s=-1;}finally{$callDeferred($deferred,$err);if(!$curGoroutine.asleep){return[n,err[0]];}if($curGoroutine.asleep){if($f===undefined){$f={$blk:Writer.ptr.prototype.Write};}$f._1=_1;$f._i=_i;$f._r=_r;$f._ref=_ref;$f.b=b;$f.buf=buf;$f.ch=ch;$f.err=err;$f.i=i;$f.j=j;$f.n=n;$f.ncells=ncells;$f.$s=$s;$f.$deferred=$deferred;$f.$r=$r;return $f;}}};Writer.prototype.Write=function(buf){return this.$val.Write(buf);};NewWriter=function(output,minwidth,tabwidth,padding,padchar,flags){var flags,minwidth,output,padchar,padding,tabwidth;return new Writer.ptr($ifaceNil,0,0,0,arrayType.zero(),0,sliceType.nil,0,new cell.ptr(0,0,false),0,sliceType$2.nil,sliceType$3.nil).Init(output,minwidth,tabwidth,padding,padchar,flags);};$pkg.NewWriter=NewWriter;ptrType$2.methods=[{prop:"addLine",name:"addLine",pkg:"text/tabwriter",typ:$funcType([$Bool],[],false)},{prop:"reset",name:"reset",pkg:"text/tabwriter",typ:$funcType([],[],false)},{prop:"Init",name:"Init",pkg:"",typ:$funcType([io.Writer,$Int,$Int,$Int,$Uint8,$Uint],[ptrType$2],false)},{prop:"dump",name:"dump",pkg:"text/tabwriter",typ:$funcType([],[],false)},{prop:"write0",name:"write0",pkg:"text/tabwriter",typ:$funcType([sliceType],[],false)},{prop:"writeN",name:"writeN",pkg:"text/tabwriter",typ:$funcType([sliceType,$Int],[],false)},{prop:"writePadding",name:"writePadding",pkg:"text/tabwriter",typ:$funcType([$Int,$Int,$Bool],[],false)},{prop:"writeLines",name:"writeLines",pkg:"text/tabwriter",typ:$funcType([$Int,$Int,$Int],[$Int],false)},{prop:"format",name:"format",pkg:"text/tabwriter",typ:$funcType([$Int,$Int,$Int],[$Int],false)},{prop:"append",name:"append",pkg:"text/tabwriter",typ:$funcType([sliceType],[],false)},{prop:"updateWidth",name:"updateWidth",pkg:"text/tabwriter",typ:$funcType([],[],false)},{prop:"startEscape",name:"startEscape",pkg:"text/tabwriter",typ:$funcType([$Uint8],[],false)},{prop:"endEscape",name:"endEscape",pkg:"text/tabwriter",typ:$funcType([],[],false)},{prop:"terminateCell",name:"terminateCell",pkg:"text/tabwriter",typ:$funcType([$Bool],[$Int],false)},{prop:"Flush",name:"Flush",pkg:"",typ:$funcType([],[$error],false)},{prop:"flush",name:"flush",pkg:"text/tabwriter",typ:$funcType([],[$error],false)},{prop:"Write",name:"Write",pkg:"",typ:$funcType([sliceType],[$Int,$error],false)}];cell.init("text/tabwriter",[{prop:"size",name:"size",embedded:false,exported:false,typ:$Int,tag:""},{prop:"width",name:"width",embedded:false,exported:false,typ:$Int,tag:""},{prop:"htab",name:"htab",embedded:false,exported:false,typ:$Bool,tag:""}]);Writer.init("text/tabwriter",[{prop:"output",name:"output",embedded:false,exported:false,typ:io.Writer,tag:""},{prop:"minwidth",name:"minwidth",embedded:false,exported:false,typ:$Int,tag:""},{prop:"tabwidth",name:"tabwidth",embedded:false,exported:false,typ:$Int,tag:""},{prop:"padding",name:"padding",embedded:false,exported:false,typ:$Int,tag:""},{prop:"padbytes",name:"padbytes",embedded:false,exported:false,typ:arrayType,tag:""},{prop:"flags",name:"flags",embedded:false,exported:false,typ:$Uint,tag:""},{prop:"buf",name:"buf",embedded:false,exported:false,typ:sliceType,tag:""},{prop:"pos",name:"pos",embedded:false,exported:false,typ:$Int,tag:""},{prop:"cell",name:"cell",embedded:false,exported:false,typ:cell,tag:""},{prop:"endChar",name:"endChar",embedded:false,exported:false,typ:$Uint8,tag:""},{prop:"lines",name:"lines",embedded:false,exported:false,typ:sliceType$2,tag:""},{prop:"widths",name:"widths",embedded:false,exported:false,typ:sliceType$3,tag:""}]);osError.init("text/tabwriter",[{prop:"err",name:"err",embedded:false,exported:false,typ:$error,tag:""}]);$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=io.$init();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=utf8.$init();/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}newline=new sliceType([10]);tabs=new sliceType($stringToBytes("\t\t\t\t\t\t\t\t"));vbar=new sliceType([124]);hbar=new sliceType($stringToBytes("---\n"));/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["github.com/go-gl/mathgl/mgl64"]=function(){var $pkg={},$init,bytes,errors,fmt,f64,math,sync,tabwriter,Mat2,Mat2x3,Mat2x4,Mat3x2,Mat3,Mat3x4,Mat4x2,Mat4x3,Mat4,Quat,Vec2,Vec3,Vec4,arrayType,arrayType$1,sliceType$2,sliceType$3,arrayType$2,arrayType$3,arrayType$4,funcType,ptrType$3,ptrType$4,ptrType$5,ptrType$6,ptrType$7,ptrType$8,ptrType$9,ptrType$10,ptrType$11,Mat2FromCols,Mat3FromCols,Mat4FromCols,QuatIdent,Abs,FloatEqual,FloatEqualThreshold;bytes=$packages["bytes"];errors=$packages["errors"];fmt=$packages["fmt"];f64=$packages["golang.org/x/image/math/f64"];math=$packages["math"];sync=$packages["sync"];tabwriter=$packages["text/tabwriter"];Mat2=$pkg.Mat2=$newType(32,$kindArray,"mgl64.Mat2",true,"github.com/go-gl/mathgl/mgl64",true,null);Mat2x3=$pkg.Mat2x3=$newType(48,$kindArray,"mgl64.Mat2x3",true,"github.com/go-gl/mathgl/mgl64",true,null);Mat2x4=$pkg.Mat2x4=$newType(64,$kindArray,"mgl64.Mat2x4",true,"github.com/go-gl/mathgl/mgl64",true,null);Mat3x2=$pkg.Mat3x2=$newType(48,$kindArray,"mgl64.Mat3x2",true,"github.com/go-gl/mathgl/mgl64",true,null);Mat3=$pkg.Mat3=$newType(72,$kindArray,"mgl64.Mat3",true,"github.com/go-gl/mathgl/mgl64",true,null);Mat3x4=$pkg.Mat3x4=$newType(96,$kindArray,"mgl64.Mat3x4",true,"github.com/go-gl/mathgl/mgl64",true,null);Mat4x2=$pkg.Mat4x2=$newType(64,$kindArray,"mgl64.Mat4x2",true,"github.com/go-gl/mathgl/mgl64",true,null);Mat4x3=$pkg.Mat4x3=$newType(96,$kindArray,"mgl64.Mat4x3",true,"github.com/go-gl/mathgl/mgl64",true,null);Mat4=$pkg.Mat4=$newType(128,$kindArray,"mgl64.Mat4",true,"github.com/go-gl/mathgl/mgl64",true,null);Quat=$pkg.Quat=$newType(0,$kindStruct,"mgl64.Quat",true,"github.com/go-gl/mathgl/mgl64",true,function(W_,V_){this.$val=this;if(arguments.length===0){this.W=0;this.V=arrayType$2.zero();return;}this.W=W_;this.V=V_;});Vec2=$pkg.Vec2=$newType(16,$kindArray,"mgl64.Vec2",true,"github.com/go-gl/mathgl/mgl64",true,null);Vec3=$pkg.Vec3=$newType(24,$kindArray,"mgl64.Vec3",true,"github.com/go-gl/mathgl/mgl64",true,null);Vec4=$pkg.Vec4=$newType(32,$kindArray,"mgl64.Vec4",true,"github.com/go-gl/mathgl/mgl64",true,null);arrayType=$arrayType($Float64,4);arrayType$1=$arrayType($Float64,2);sliceType$2=$sliceType($Uint8);sliceType$3=$sliceType($emptyInterface);arrayType$2=$arrayType($Float64,3);arrayType$3=$arrayType($Float64,9);arrayType$4=$arrayType($Float64,16);funcType=$funcType([$Float64,$Float64],[$Bool],false);ptrType$3=$ptrType(Mat2);ptrType$4=$ptrType(Mat2x3);ptrType$5=$ptrType(Mat2x4);ptrType$6=$ptrType(Mat3x2);ptrType$7=$ptrType(Mat3);ptrType$8=$ptrType(Mat3x4);ptrType$9=$ptrType(Mat4x2);ptrType$10=$ptrType(Mat4x3);ptrType$11=$ptrType(Mat4);Mat2.prototype.Mat3=function(){var _tuple,col0,col1,m;m=this.$val;_tuple=new Mat2($clone(m,Mat2)).Cols();col0=$clone(_tuple[0],Vec2);col1=$clone(_tuple[1],Vec2);return Mat3FromCols($clone(new Vec2($clone(col0,Vec2)).Vec3(0),Vec3),$clone(new Vec2($clone(col1,Vec2)).Vec3(0),Vec3),$toNativeArray($kindFloat64,[0,0,1]));};$ptrType(Mat2).prototype.Mat3=function(){return new Mat2(this.$get()).Mat3();};Mat2.prototype.Mat4=function(){var _tuple,col0,col1,m;m=this.$val;_tuple=new Mat2($clone(m,Mat2)).Cols();col0=$clone(_tuple[0],Vec2);col1=$clone(_tuple[1],Vec2);return Mat4FromCols($clone(new Vec2($clone(col0,Vec2)).Vec4(0,0),Vec4),$clone(new Vec2($clone(col1,Vec2)).Vec4(0,0),Vec4),$toNativeArray($kindFloat64,[0,0,1,0]),$toNativeArray($kindFloat64,[0,0,0,1]));};$ptrType(Mat2).prototype.Mat4=function(){return new Mat2(this.$get()).Mat4();};Mat3.prototype.Mat2=function(){var _tuple,col0,col1,m;m=this.$val;_tuple=new Mat3($clone(m,Mat3)).Cols();col0=$clone(_tuple[0],Vec3);col1=$clone(_tuple[1],Vec3);return Mat2FromCols($clone(new Vec3($clone(col0,Vec3)).Vec2(),Vec2),$clone(new Vec3($clone(col1,Vec3)).Vec2(),Vec2));};$ptrType(Mat3).prototype.Mat2=function(){return new Mat3(this.$get()).Mat2();};Mat3.prototype.Mat4=function(){var _tuple,col0,col1,col2,m;m=this.$val;_tuple=new Mat3($clone(m,Mat3)).Cols();col0=$clone(_tuple[0],Vec3);col1=$clone(_tuple[1],Vec3);col2=$clone(_tuple[2],Vec3);return Mat4FromCols($clone(new Vec3($clone(col0,Vec3)).Vec4(0),Vec4),$clone(new Vec3($clone(col1,Vec3)).Vec4(0),Vec4),$clone(new Vec3($clone(col2,Vec3)).Vec4(0),Vec4),$toNativeArray($kindFloat64,[0,0,0,1]));};$ptrType(Mat3).prototype.Mat4=function(){return new Mat3(this.$get()).Mat4();};Mat4.prototype.Mat2=function(){var _tuple,col0,col1,m;m=this.$val;_tuple=new Mat4($clone(m,Mat4)).Cols();col0=$clone(_tuple[0],Vec4);col1=$clone(_tuple[1],Vec4);return Mat2FromCols($clone(new Vec4($clone(col0,Vec4)).Vec2(),Vec2),$clone(new Vec4($clone(col1,Vec4)).Vec2(),Vec2));};$ptrType(Mat4).prototype.Mat2=function(){return new Mat4(this.$get()).Mat2();};Mat4.prototype.Mat3=function(){var _tuple,col0,col1,col2,m;m=this.$val;_tuple=new Mat4($clone(m,Mat4)).Cols();col0=$clone(_tuple[0],Vec4);col1=$clone(_tuple[1],Vec4);col2=$clone(_tuple[2],Vec4);return Mat3FromCols($clone(new Vec4($clone(col0,Vec4)).Vec3(),Vec3),$clone(new Vec4($clone(col1,Vec4)).Vec3(),Vec3),$clone(new Vec4($clone(col2,Vec4)).Vec3(),Vec3));};$ptrType(Mat4).prototype.Mat3=function(){return new Mat4(this.$get()).Mat3();};Mat2.prototype.SetCol=function(col,v){var _tmp,_tmp$1,col,m,v,x,x$1;m=this.$val;_tmp=v[0];_tmp$1=v[1];x=$imul(col,2)+0>>0,m.nilCheck,x<0||x>=m.length?($throwRuntimeError("index out of range"),undefined):m[x]=_tmp;x$1=$imul(col,2)+1>>0,m.nilCheck,x$1<0||x$1>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$1]=_tmp$1;};$ptrType(Mat2).prototype.SetCol=function(col,v){return new Mat2(this.$get()).SetCol(col,v);};Mat2.prototype.SetRow=function(row,v){var _tmp,_tmp$1,m,row,v,x,x$1;m=this.$val;_tmp=v[0];_tmp$1=v[1];x=row+0>>0,m.nilCheck,x<0||x>=m.length?($throwRuntimeError("index out of range"),undefined):m[x]=_tmp;x$1=row+2>>0,m.nilCheck,x$1<0||x$1>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$1]=_tmp$1;};$ptrType(Mat2).prototype.SetRow=function(row,v){return new Mat2(this.$get()).SetRow(row,v);};Mat2.prototype.Diag=function(){var m;m=this.$val;return $toNativeArray($kindFloat64,[m[0],m[3]]);};$ptrType(Mat2).prototype.Diag=function(){return new Mat2(this.$get()).Diag();};Mat2FromCols=function(col0,col1){var col0,col1;return $toNativeArray($kindFloat64,[col0[0],col0[1],col1[0],col1[1]]);};$pkg.Mat2FromCols=Mat2FromCols;Mat2.prototype.Add=function(m2){var m1,m2;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]+m2[0],m1[1]+m2[1],m1[2]+m2[2],m1[3]+m2[3]]);};$ptrType(Mat2).prototype.Add=function(m2){return new Mat2(this.$get()).Add(m2);};Mat2.prototype.Sub=function(m2){var m1,m2;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]-m2[0],m1[1]-m2[1],m1[2]-m2[2],m1[3]-m2[3]]);};$ptrType(Mat2).prototype.Sub=function(m2){return new Mat2(this.$get()).Sub(m2);};Mat2.prototype.Mul=function(c){var c,m1;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]*c,m1[1]*c,m1[2]*c,m1[3]*c]);};$ptrType(Mat2).prototype.Mul=function(c){return new Mat2(this.$get()).Mul(c);};Mat2.prototype.Mul2x1=function(m2){var m1,m2;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]*m2[0]+m1[2]*m2[1],m1[1]*m2[0]+m1[3]*m2[1]]);};$ptrType(Mat2).prototype.Mul2x1=function(m2){return new Mat2(this.$get()).Mul2x1(m2);};Mat2.prototype.Mul2=function(m2){var m1,m2;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]*m2[0]+m1[2]*m2[1],m1[1]*m2[0]+m1[3]*m2[1],m1[0]*m2[2]+m1[2]*m2[3],m1[1]*m2[2]+m1[3]*m2[3]]);};$ptrType(Mat2).prototype.Mul2=function(m2){return new Mat2(this.$get()).Mul2(m2);};Mat2.prototype.Mul2x3=function(m2){var m1,m2;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]*m2[0]+m1[2]*m2[1],m1[1]*m2[0]+m1[3]*m2[1],m1[0]*m2[2]+m1[2]*m2[3],m1[1]*m2[2]+m1[3]*m2[3],m1[0]*m2[4]+m1[2]*m2[5],m1[1]*m2[4]+m1[3]*m2[5]]);};$ptrType(Mat2).prototype.Mul2x3=function(m2){return new Mat2(this.$get()).Mul2x3(m2);};Mat2.prototype.Mul2x4=function(m2){var m1,m2;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]*m2[0]+m1[2]*m2[1],m1[1]*m2[0]+m1[3]*m2[1],m1[0]*m2[2]+m1[2]*m2[3],m1[1]*m2[2]+m1[3]*m2[3],m1[0]*m2[4]+m1[2]*m2[5],m1[1]*m2[4]+m1[3]*m2[5],m1[0]*m2[6]+m1[2]*m2[7],m1[1]*m2[6]+m1[3]*m2[7]]);};$ptrType(Mat2).prototype.Mul2x4=function(m2){return new Mat2(this.$get()).Mul2x4(m2);};Mat2.prototype.Transpose=function(){var m1;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0],m1[2],m1[1],m1[3]]);};$ptrType(Mat2).prototype.Transpose=function(){return new Mat2(this.$get()).Transpose();};Mat2.prototype.Det=function(){var m;m=this.$val;return m[0]*m[3]-m[1]*m[2];};$ptrType(Mat2).prototype.Det=function(){return new Mat2(this.$get()).Det();};Mat2.prototype.Inv=function(){var det,m,retMat;m=this.$val;det=new Mat2($clone(m,Mat2)).Det();if(FloatEqual(det,0)){return arrayType.zero();}retMat=$toNativeArray($kindFloat64,[m[3],-m[1],-m[2],m[0]]);return new Mat2($clone(retMat,Mat2)).Mul(1/det);};$ptrType(Mat2).prototype.Inv=function(){return new Mat2(this.$get()).Inv();};Mat2.prototype.ApproxEqual=function(m2){var _i,_ref,i,m1,m2;m1=this.$val;_ref=m1;_i=0;while(true){if(!(_i<4)){break;}i=_i;if(!FloatEqual(i<0||i>=m1.length?($throwRuntimeError("index out of range"),undefined):m1[i],i<0||i>=m2.length?($throwRuntimeError("index out of range"),undefined):m2[i])){return false;}_i++;}return true;};$ptrType(Mat2).prototype.ApproxEqual=function(m2){return new Mat2(this.$get()).ApproxEqual(m2);};Mat2.prototype.ApproxEqualThreshold=function(m2,threshold){var _i,_ref,i,m1,m2,threshold;m1=this.$val;_ref=m1;_i=0;while(true){if(!(_i<4)){break;}i=_i;if(!FloatEqualThreshold(i<0||i>=m1.length?($throwRuntimeError("index out of range"),undefined):m1[i],i<0||i>=m2.length?($throwRuntimeError("index out of range"),undefined):m2[i],threshold)){return false;}_i++;}return true;};$ptrType(Mat2).prototype.ApproxEqualThreshold=function(m2,threshold){return new Mat2(this.$get()).ApproxEqualThreshold(m2,threshold);};Mat2.prototype.ApproxFuncEqual=function(m2,eq){var _i,_r,_ref,eq,i,m1,m2,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_i=$f._i;_r=$f._r;_ref=$f._ref;eq=$f.eq;i=$f.i;m1=$f.m1;m2=$f.m2;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:m1=this.$val;_ref=m1;_i=0;/* while (true) { */case 1:/* if (!(_i < 4)) { break; } */if(!(_i<4)){$s=2;continue;}i=_i;_r=eq(i<0||i>=m1.length?($throwRuntimeError("index out of range"),undefined):m1[i],i<0||i>=m2.length?($throwRuntimeError("index out of range"),undefined):m2[i]);/* */$s=5;case 5:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}/* */if(!_r){$s=3;continue;}/* */$s=4;continue;/* if (!_r) { */case 3:$s=-1;return false;/* } */case 4:_i++;/* } */$s=1;continue;case 2:$s=-1;return true;/* */}return;}if($f===undefined){$f={$blk:Mat2.prototype.ApproxFuncEqual};}$f._i=_i;$f._r=_r;$f._ref=_ref;$f.eq=eq;$f.i=i;$f.m1=m1;$f.m2=m2;$f.$s=$s;$f.$r=$r;return $f;};$ptrType(Mat2).prototype.ApproxFuncEqual=function(m2,eq){return new Mat2(this.$get()).ApproxFuncEqual(m2,eq);};Mat2.prototype.At=function(row,col){var col,m,row,x;m=this.$val;return x=$imul(col,2)+row>>0,x<0||x>=m.length?($throwRuntimeError("index out of range"),undefined):m[x];};$ptrType(Mat2).prototype.At=function(row,col){return new Mat2(this.$get()).At(row,col);};Mat2.prototype.Set=function(row,col,value){var col,m,row,value,x;m=this.$val;x=$imul(col,2)+row>>0,m.nilCheck,x<0||x>=m.length?($throwRuntimeError("index out of range"),undefined):m[x]=value;};$ptrType(Mat2).prototype.Set=function(row,col,value){return new Mat2(this.$get()).Set(row,col,value);};Mat2.prototype.Index=function(row,col){var col,m,row;m=this.$val;return $imul(col,2)+row>>0;};$ptrType(Mat2).prototype.Index=function(row,col){return new Mat2(this.$get()).Index(row,col);};Mat2.prototype.Row=function(row){var m,row,x,x$1;m=this.$val;return $toNativeArray($kindFloat64,[(x=row+0>>0,x<0||x>=m.length?($throwRuntimeError("index out of range"),undefined):m[x]),(x$1=row+2>>0,x$1<0||x$1>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$1])]);};$ptrType(Mat2).prototype.Row=function(row){return new Mat2(this.$get()).Row(row);};Mat2.prototype.Rows=function(){var _tmp,_tmp$1,m,row0,row1;row0=arrayType$1.zero();row1=arrayType$1.zero();m=this.$val;_tmp=$clone(new Mat2($clone(m,Mat2)).Row(0),Vec2);_tmp$1=$clone(new Mat2($clone(m,Mat2)).Row(1),Vec2);Vec2.copy(row0,_tmp);Vec2.copy(row1,_tmp$1);return[row0,row1];};$ptrType(Mat2).prototype.Rows=function(){return new Mat2(this.$get()).Rows();};Mat2.prototype.Col=function(col){var col,m,x,x$1;m=this.$val;return $toNativeArray($kindFloat64,[(x=$imul(col,2)+0>>0,x<0||x>=m.length?($throwRuntimeError("index out of range"),undefined):m[x]),(x$1=$imul(col,2)+1>>0,x$1<0||x$1>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$1])]);};$ptrType(Mat2).prototype.Col=function(col){return new Mat2(this.$get()).Col(col);};Mat2.prototype.Cols=function(){var _tmp,_tmp$1,col0,col1,m;col0=arrayType$1.zero();col1=arrayType$1.zero();m=this.$val;_tmp=$clone(new Mat2($clone(m,Mat2)).Col(0),Vec2);_tmp$1=$clone(new Mat2($clone(m,Mat2)).Col(1),Vec2);Vec2.copy(col0,_tmp);Vec2.copy(col1,_tmp$1);return[col0,col1];};$ptrType(Mat2).prototype.Cols=function(){return new Mat2(this.$get()).Cols();};Mat2.prototype.Trace=function(){var m;m=this.$val;return m[0]+m[3];};$ptrType(Mat2).prototype.Trace=function(){return new Mat2(this.$get()).Trace();};Mat2.prototype.Abs=function(){var m;m=this.$val;return $toNativeArray($kindFloat64,[Abs(m[0]),Abs(m[1]),Abs(m[2]),Abs(m[3])]);};$ptrType(Mat2).prototype.Abs=function(){return new Mat2(this.$get()).Abs();};Mat2.prototype.String=function(){var _i,_r,_r$1,_r$2,_ref,buf,col,i,m,w,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_i=$f._i;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_ref=$f._ref;buf=$f.buf;col=$f.col;i=$f.i;m=$f.m;w=$f.w;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:m=this.$val;buf=new bytes.Buffer.ptr(sliceType$2.nil,0,0);w=tabwriter.NewWriter(buf,4,4,1,32,4);i=0;/* while (true) { */case 1:/* if (!(i < 2)) { break; } */if(!(i<2)){$s=2;continue;}_ref=new Mat2($clone(m,Mat2)).Row(i);_i=0;/* while (true) { */case 3:/* if (!(_i < 2)) { break; } */if(!(_i<2)){$s=4;continue;}col=_i<0||_i>=_ref.length?($throwRuntimeError("index out of range"),undefined):_ref[_i];_r=fmt.Fprintf(w,"%f\t",new sliceType$3([new $Float64(col)]));/* */$s=5;case 5:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_r;_i++;/* } */$s=3;continue;case 4:_r$1=fmt.Fprintln(w,new sliceType$3([new $String("")]));/* */$s=6;case 6:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_r$1;i=i+1>>0;/* } */$s=1;continue;case 2:_r$2=w.Flush();/* */$s=7;case 7:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_r$2;$s=-1;return buf.String();/* */}return;}if($f===undefined){$f={$blk:Mat2.prototype.String};}$f._i=_i;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._ref=_ref;$f.buf=buf;$f.col=col;$f.i=i;$f.m=m;$f.w=w;$f.$s=$s;$f.$r=$r;return $f;};$ptrType(Mat2).prototype.String=function(){return new Mat2(this.$get()).String();};Mat2x3.prototype.SetCol=function(col,v){var _tmp,_tmp$1,col,m,v,x,x$1;m=this.$val;_tmp=v[0];_tmp$1=v[1];x=$imul(col,2)+0>>0,m.nilCheck,x<0||x>=m.length?($throwRuntimeError("index out of range"),undefined):m[x]=_tmp;x$1=$imul(col,2)+1>>0,m.nilCheck,x$1<0||x$1>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$1]=_tmp$1;};$ptrType(Mat2x3).prototype.SetCol=function(col,v){return new Mat2x3(this.$get()).SetCol(col,v);};Mat2x3.prototype.SetRow=function(row,v){var _tmp,_tmp$1,_tmp$2,m,row,v,x,x$1,x$2;m=this.$val;_tmp=v[0];_tmp$1=v[1];_tmp$2=v[2];x=row+0>>0,m.nilCheck,x<0||x>=m.length?($throwRuntimeError("index out of range"),undefined):m[x]=_tmp;x$1=row+2>>0,m.nilCheck,x$1<0||x$1>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$1]=_tmp$1;x$2=row+4>>0,m.nilCheck,x$2<0||x$2>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$2]=_tmp$2;};$ptrType(Mat2x3).prototype.SetRow=function(row,v){return new Mat2x3(this.$get()).SetRow(row,v);};Mat2x3.prototype.Add=function(m2){var m1,m2;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]+m2[0],m1[1]+m2[1],m1[2]+m2[2],m1[3]+m2[3],m1[4]+m2[4],m1[5]+m2[5]]);};$ptrType(Mat2x3).prototype.Add=function(m2){return new Mat2x3(this.$get()).Add(m2);};Mat2x3.prototype.Sub=function(m2){var m1,m2;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]-m2[0],m1[1]-m2[1],m1[2]-m2[2],m1[3]-m2[3],m1[4]-m2[4],m1[5]-m2[5]]);};$ptrType(Mat2x3).prototype.Sub=function(m2){return new Mat2x3(this.$get()).Sub(m2);};Mat2x3.prototype.Mul=function(c){var c,m1;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]*c,m1[1]*c,m1[2]*c,m1[3]*c,m1[4]*c,m1[5]*c]);};$ptrType(Mat2x3).prototype.Mul=function(c){return new Mat2x3(this.$get()).Mul(c);};Mat2x3.prototype.Mul3x1=function(m2){var m1,m2;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]*m2[0]+m1[2]*m2[1]+m1[4]*m2[2],m1[1]*m2[0]+m1[3]*m2[1]+m1[5]*m2[2]]);};$ptrType(Mat2x3).prototype.Mul3x1=function(m2){return new Mat2x3(this.$get()).Mul3x1(m2);};Mat2x3.prototype.Mul3x2=function(m2){var m1,m2;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]*m2[0]+m1[2]*m2[1]+m1[4]*m2[2],m1[1]*m2[0]+m1[3]*m2[1]+m1[5]*m2[2],m1[0]*m2[3]+m1[2]*m2[4]+m1[4]*m2[5],m1[1]*m2[3]+m1[3]*m2[4]+m1[5]*m2[5]]);};$ptrType(Mat2x3).prototype.Mul3x2=function(m2){return new Mat2x3(this.$get()).Mul3x2(m2);};Mat2x3.prototype.Mul3=function(m2){var m1,m2;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]*m2[0]+m1[2]*m2[1]+m1[4]*m2[2],m1[1]*m2[0]+m1[3]*m2[1]+m1[5]*m2[2],m1[0]*m2[3]+m1[2]*m2[4]+m1[4]*m2[5],m1[1]*m2[3]+m1[3]*m2[4]+m1[5]*m2[5],m1[0]*m2[6]+m1[2]*m2[7]+m1[4]*m2[8],m1[1]*m2[6]+m1[3]*m2[7]+m1[5]*m2[8]]);};$ptrType(Mat2x3).prototype.Mul3=function(m2){return new Mat2x3(this.$get()).Mul3(m2);};Mat2x3.prototype.Mul3x4=function(m2){var m1,m2;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]*m2[0]+m1[2]*m2[1]+m1[4]*m2[2],m1[1]*m2[0]+m1[3]*m2[1]+m1[5]*m2[2],m1[0]*m2[3]+m1[2]*m2[4]+m1[4]*m2[5],m1[1]*m2[3]+m1[3]*m2[4]+m1[5]*m2[5],m1[0]*m2[6]+m1[2]*m2[7]+m1[4]*m2[8],m1[1]*m2[6]+m1[3]*m2[7]+m1[5]*m2[8],m1[0]*m2[9]+m1[2]*m2[10]+m1[4]*m2[11],m1[1]*m2[9]+m1[3]*m2[10]+m1[5]*m2[11]]);};$ptrType(Mat2x3).prototype.Mul3x4=function(m2){return new Mat2x3(this.$get()).Mul3x4(m2);};Mat2x3.prototype.Transpose=function(){var m1;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0],m1[2],m1[4],m1[1],m1[3],m1[5]]);};$ptrType(Mat2x3).prototype.Transpose=function(){return new Mat2x3(this.$get()).Transpose();};Mat2x3.prototype.ApproxEqual=function(m2){var _i,_ref,i,m1,m2;m1=this.$val;_ref=m1;_i=0;while(true){if(!(_i<6)){break;}i=_i;if(!FloatEqual(i<0||i>=m1.length?($throwRuntimeError("index out of range"),undefined):m1[i],i<0||i>=m2.length?($throwRuntimeError("index out of range"),undefined):m2[i])){return false;}_i++;}return true;};$ptrType(Mat2x3).prototype.ApproxEqual=function(m2){return new Mat2x3(this.$get()).ApproxEqual(m2);};Mat2x3.prototype.ApproxEqualThreshold=function(m2,threshold){var _i,_ref,i,m1,m2,threshold;m1=this.$val;_ref=m1;_i=0;while(true){if(!(_i<6)){break;}i=_i;if(!FloatEqualThreshold(i<0||i>=m1.length?($throwRuntimeError("index out of range"),undefined):m1[i],i<0||i>=m2.length?($throwRuntimeError("index out of range"),undefined):m2[i],threshold)){return false;}_i++;}return true;};$ptrType(Mat2x3).prototype.ApproxEqualThreshold=function(m2,threshold){return new Mat2x3(this.$get()).ApproxEqualThreshold(m2,threshold);};Mat2x3.prototype.ApproxFuncEqual=function(m2,eq){var _i,_r,_ref,eq,i,m1,m2,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_i=$f._i;_r=$f._r;_ref=$f._ref;eq=$f.eq;i=$f.i;m1=$f.m1;m2=$f.m2;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:m1=this.$val;_ref=m1;_i=0;/* while (true) { */case 1:/* if (!(_i < 6)) { break; } */if(!(_i<6)){$s=2;continue;}i=_i;_r=eq(i<0||i>=m1.length?($throwRuntimeError("index out of range"),undefined):m1[i],i<0||i>=m2.length?($throwRuntimeError("index out of range"),undefined):m2[i]);/* */$s=5;case 5:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}/* */if(!_r){$s=3;continue;}/* */$s=4;continue;/* if (!_r) { */case 3:$s=-1;return false;/* } */case 4:_i++;/* } */$s=1;continue;case 2:$s=-1;return true;/* */}return;}if($f===undefined){$f={$blk:Mat2x3.prototype.ApproxFuncEqual};}$f._i=_i;$f._r=_r;$f._ref=_ref;$f.eq=eq;$f.i=i;$f.m1=m1;$f.m2=m2;$f.$s=$s;$f.$r=$r;return $f;};$ptrType(Mat2x3).prototype.ApproxFuncEqual=function(m2,eq){return new Mat2x3(this.$get()).ApproxFuncEqual(m2,eq);};Mat2x3.prototype.At=function(row,col){var col,m,row,x;m=this.$val;return x=$imul(col,2)+row>>0,x<0||x>=m.length?($throwRuntimeError("index out of range"),undefined):m[x];};$ptrType(Mat2x3).prototype.At=function(row,col){return new Mat2x3(this.$get()).At(row,col);};Mat2x3.prototype.Set=function(row,col,value){var col,m,row,value,x;m=this.$val;x=$imul(col,2)+row>>0,m.nilCheck,x<0||x>=m.length?($throwRuntimeError("index out of range"),undefined):m[x]=value;};$ptrType(Mat2x3).prototype.Set=function(row,col,value){return new Mat2x3(this.$get()).Set(row,col,value);};Mat2x3.prototype.Index=function(row,col){var col,m,row;m=this.$val;return $imul(col,2)+row>>0;};$ptrType(Mat2x3).prototype.Index=function(row,col){return new Mat2x3(this.$get()).Index(row,col);};Mat2x3.prototype.Row=function(row){var m,row,x,x$1,x$2;m=this.$val;return $toNativeArray($kindFloat64,[(x=row+0>>0,x<0||x>=m.length?($throwRuntimeError("index out of range"),undefined):m[x]),(x$1=row+2>>0,x$1<0||x$1>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$1]),(x$2=row+4>>0,x$2<0||x$2>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$2])]);};$ptrType(Mat2x3).prototype.Row=function(row){return new Mat2x3(this.$get()).Row(row);};Mat2x3.prototype.Rows=function(){var _tmp,_tmp$1,m,row0,row1;row0=arrayType$2.zero();row1=arrayType$2.zero();m=this.$val;_tmp=$clone(new Mat2x3($clone(m,Mat2x3)).Row(0),Vec3);_tmp$1=$clone(new Mat2x3($clone(m,Mat2x3)).Row(1),Vec3);Vec3.copy(row0,_tmp);Vec3.copy(row1,_tmp$1);return[row0,row1];};$ptrType(Mat2x3).prototype.Rows=function(){return new Mat2x3(this.$get()).Rows();};Mat2x3.prototype.Col=function(col){var col,m,x,x$1;m=this.$val;return $toNativeArray($kindFloat64,[(x=$imul(col,2)+0>>0,x<0||x>=m.length?($throwRuntimeError("index out of range"),undefined):m[x]),(x$1=$imul(col,2)+1>>0,x$1<0||x$1>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$1])]);};$ptrType(Mat2x3).prototype.Col=function(col){return new Mat2x3(this.$get()).Col(col);};Mat2x3.prototype.Cols=function(){var _tmp,_tmp$1,_tmp$2,col0,col1,col2,m;col0=arrayType$1.zero();col1=arrayType$1.zero();col2=arrayType$1.zero();m=this.$val;_tmp=$clone(new Mat2x3($clone(m,Mat2x3)).Col(0),Vec2);_tmp$1=$clone(new Mat2x3($clone(m,Mat2x3)).Col(1),Vec2);_tmp$2=$clone(new Mat2x3($clone(m,Mat2x3)).Col(2),Vec2);Vec2.copy(col0,_tmp);Vec2.copy(col1,_tmp$1);Vec2.copy(col2,_tmp$2);return[col0,col1,col2];};$ptrType(Mat2x3).prototype.Cols=function(){return new Mat2x3(this.$get()).Cols();};Mat2x3.prototype.Abs=function(){var m;m=this.$val;return $toNativeArray($kindFloat64,[Abs(m[0]),Abs(m[1]),Abs(m[2]),Abs(m[3]),Abs(m[4]),Abs(m[5])]);};$ptrType(Mat2x3).prototype.Abs=function(){return new Mat2x3(this.$get()).Abs();};Mat2x3.prototype.String=function(){var _i,_r,_r$1,_r$2,_ref,buf,col,i,m,w,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_i=$f._i;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_ref=$f._ref;buf=$f.buf;col=$f.col;i=$f.i;m=$f.m;w=$f.w;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:m=this.$val;buf=new bytes.Buffer.ptr(sliceType$2.nil,0,0);w=tabwriter.NewWriter(buf,4,4,1,32,4);i=0;/* while (true) { */case 1:/* if (!(i < 2)) { break; } */if(!(i<2)){$s=2;continue;}_ref=new Mat2x3($clone(m,Mat2x3)).Row(i);_i=0;/* while (true) { */case 3:/* if (!(_i < 3)) { break; } */if(!(_i<3)){$s=4;continue;}col=_i<0||_i>=_ref.length?($throwRuntimeError("index out of range"),undefined):_ref[_i];_r=fmt.Fprintf(w,"%f\t",new sliceType$3([new $Float64(col)]));/* */$s=5;case 5:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_r;_i++;/* } */$s=3;continue;case 4:_r$1=fmt.Fprintln(w,new sliceType$3([new $String("")]));/* */$s=6;case 6:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_r$1;i=i+1>>0;/* } */$s=1;continue;case 2:_r$2=w.Flush();/* */$s=7;case 7:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_r$2;$s=-1;return buf.String();/* */}return;}if($f===undefined){$f={$blk:Mat2x3.prototype.String};}$f._i=_i;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._ref=_ref;$f.buf=buf;$f.col=col;$f.i=i;$f.m=m;$f.w=w;$f.$s=$s;$f.$r=$r;return $f;};$ptrType(Mat2x3).prototype.String=function(){return new Mat2x3(this.$get()).String();};Mat2x4.prototype.SetCol=function(col,v){var _tmp,_tmp$1,col,m,v,x,x$1;m=this.$val;_tmp=v[0];_tmp$1=v[1];x=$imul(col,2)+0>>0,m.nilCheck,x<0||x>=m.length?($throwRuntimeError("index out of range"),undefined):m[x]=_tmp;x$1=$imul(col,2)+1>>0,m.nilCheck,x$1<0||x$1>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$1]=_tmp$1;};$ptrType(Mat2x4).prototype.SetCol=function(col,v){return new Mat2x4(this.$get()).SetCol(col,v);};Mat2x4.prototype.SetRow=function(row,v){var _tmp,_tmp$1,_tmp$2,_tmp$3,m,row,v,x,x$1,x$2,x$3;m=this.$val;_tmp=v[0];_tmp$1=v[1];_tmp$2=v[2];_tmp$3=v[3];x=row+0>>0,m.nilCheck,x<0||x>=m.length?($throwRuntimeError("index out of range"),undefined):m[x]=_tmp;x$1=row+2>>0,m.nilCheck,x$1<0||x$1>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$1]=_tmp$1;x$2=row+4>>0,m.nilCheck,x$2<0||x$2>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$2]=_tmp$2;x$3=row+6>>0,m.nilCheck,x$3<0||x$3>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$3]=_tmp$3;};$ptrType(Mat2x4).prototype.SetRow=function(row,v){return new Mat2x4(this.$get()).SetRow(row,v);};Mat2x4.prototype.Add=function(m2){var m1,m2;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]+m2[0],m1[1]+m2[1],m1[2]+m2[2],m1[3]+m2[3],m1[4]+m2[4],m1[5]+m2[5],m1[6]+m2[6],m1[7]+m2[7]]);};$ptrType(Mat2x4).prototype.Add=function(m2){return new Mat2x4(this.$get()).Add(m2);};Mat2x4.prototype.Sub=function(m2){var m1,m2;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]-m2[0],m1[1]-m2[1],m1[2]-m2[2],m1[3]-m2[3],m1[4]-m2[4],m1[5]-m2[5],m1[6]-m2[6],m1[7]-m2[7]]);};$ptrType(Mat2x4).prototype.Sub=function(m2){return new Mat2x4(this.$get()).Sub(m2);};Mat2x4.prototype.Mul=function(c){var c,m1;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]*c,m1[1]*c,m1[2]*c,m1[3]*c,m1[4]*c,m1[5]*c,m1[6]*c,m1[7]*c]);};$ptrType(Mat2x4).prototype.Mul=function(c){return new Mat2x4(this.$get()).Mul(c);};Mat2x4.prototype.Mul4x1=function(m2){var m1,m2;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]*m2[0]+m1[2]*m2[1]+m1[4]*m2[2]+m1[6]*m2[3],m1[1]*m2[0]+m1[3]*m2[1]+m1[5]*m2[2]+m1[7]*m2[3]]);};$ptrType(Mat2x4).prototype.Mul4x1=function(m2){return new Mat2x4(this.$get()).Mul4x1(m2);};Mat2x4.prototype.Mul4x2=function(m2){var m1,m2;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]*m2[0]+m1[2]*m2[1]+m1[4]*m2[2]+m1[6]*m2[3],m1[1]*m2[0]+m1[3]*m2[1]+m1[5]*m2[2]+m1[7]*m2[3],m1[0]*m2[4]+m1[2]*m2[5]+m1[4]*m2[6]+m1[6]*m2[7],m1[1]*m2[4]+m1[3]*m2[5]+m1[5]*m2[6]+m1[7]*m2[7]]);};$ptrType(Mat2x4).prototype.Mul4x2=function(m2){return new Mat2x4(this.$get()).Mul4x2(m2);};Mat2x4.prototype.Mul4x3=function(m2){var m1,m2;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]*m2[0]+m1[2]*m2[1]+m1[4]*m2[2]+m1[6]*m2[3],m1[1]*m2[0]+m1[3]*m2[1]+m1[5]*m2[2]+m1[7]*m2[3],m1[0]*m2[4]+m1[2]*m2[5]+m1[4]*m2[6]+m1[6]*m2[7],m1[1]*m2[4]+m1[3]*m2[5]+m1[5]*m2[6]+m1[7]*m2[7],m1[0]*m2[8]+m1[2]*m2[9]+m1[4]*m2[10]+m1[6]*m2[11],m1[1]*m2[8]+m1[3]*m2[9]+m1[5]*m2[10]+m1[7]*m2[11]]);};$ptrType(Mat2x4).prototype.Mul4x3=function(m2){return new Mat2x4(this.$get()).Mul4x3(m2);};Mat2x4.prototype.Mul4=function(m2){var m1,m2;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]*m2[0]+m1[2]*m2[1]+m1[4]*m2[2]+m1[6]*m2[3],m1[1]*m2[0]+m1[3]*m2[1]+m1[5]*m2[2]+m1[7]*m2[3],m1[0]*m2[4]+m1[2]*m2[5]+m1[4]*m2[6]+m1[6]*m2[7],m1[1]*m2[4]+m1[3]*m2[5]+m1[5]*m2[6]+m1[7]*m2[7],m1[0]*m2[8]+m1[2]*m2[9]+m1[4]*m2[10]+m1[6]*m2[11],m1[1]*m2[8]+m1[3]*m2[9]+m1[5]*m2[10]+m1[7]*m2[11],m1[0]*m2[12]+m1[2]*m2[13]+m1[4]*m2[14]+m1[6]*m2[15],m1[1]*m2[12]+m1[3]*m2[13]+m1[5]*m2[14]+m1[7]*m2[15]]);};$ptrType(Mat2x4).prototype.Mul4=function(m2){return new Mat2x4(this.$get()).Mul4(m2);};Mat2x4.prototype.Transpose=function(){var m1;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0],m1[2],m1[4],m1[6],m1[1],m1[3],m1[5],m1[7]]);};$ptrType(Mat2x4).prototype.Transpose=function(){return new Mat2x4(this.$get()).Transpose();};Mat2x4.prototype.ApproxEqual=function(m2){var _i,_ref,i,m1,m2;m1=this.$val;_ref=m1;_i=0;while(true){if(!(_i<8)){break;}i=_i;if(!FloatEqual(i<0||i>=m1.length?($throwRuntimeError("index out of range"),undefined):m1[i],i<0||i>=m2.length?($throwRuntimeError("index out of range"),undefined):m2[i])){return false;}_i++;}return true;};$ptrType(Mat2x4).prototype.ApproxEqual=function(m2){return new Mat2x4(this.$get()).ApproxEqual(m2);};Mat2x4.prototype.ApproxEqualThreshold=function(m2,threshold){var _i,_ref,i,m1,m2,threshold;m1=this.$val;_ref=m1;_i=0;while(true){if(!(_i<8)){break;}i=_i;if(!FloatEqualThreshold(i<0||i>=m1.length?($throwRuntimeError("index out of range"),undefined):m1[i],i<0||i>=m2.length?($throwRuntimeError("index out of range"),undefined):m2[i],threshold)){return false;}_i++;}return true;};$ptrType(Mat2x4).prototype.ApproxEqualThreshold=function(m2,threshold){return new Mat2x4(this.$get()).ApproxEqualThreshold(m2,threshold);};Mat2x4.prototype.ApproxFuncEqual=function(m2,eq){var _i,_r,_ref,eq,i,m1,m2,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_i=$f._i;_r=$f._r;_ref=$f._ref;eq=$f.eq;i=$f.i;m1=$f.m1;m2=$f.m2;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:m1=this.$val;_ref=m1;_i=0;/* while (true) { */case 1:/* if (!(_i < 8)) { break; } */if(!(_i<8)){$s=2;continue;}i=_i;_r=eq(i<0||i>=m1.length?($throwRuntimeError("index out of range"),undefined):m1[i],i<0||i>=m2.length?($throwRuntimeError("index out of range"),undefined):m2[i]);/* */$s=5;case 5:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}/* */if(!_r){$s=3;continue;}/* */$s=4;continue;/* if (!_r) { */case 3:$s=-1;return false;/* } */case 4:_i++;/* } */$s=1;continue;case 2:$s=-1;return true;/* */}return;}if($f===undefined){$f={$blk:Mat2x4.prototype.ApproxFuncEqual};}$f._i=_i;$f._r=_r;$f._ref=_ref;$f.eq=eq;$f.i=i;$f.m1=m1;$f.m2=m2;$f.$s=$s;$f.$r=$r;return $f;};$ptrType(Mat2x4).prototype.ApproxFuncEqual=function(m2,eq){return new Mat2x4(this.$get()).ApproxFuncEqual(m2,eq);};Mat2x4.prototype.At=function(row,col){var col,m,row,x;m=this.$val;return x=$imul(col,2)+row>>0,x<0||x>=m.length?($throwRuntimeError("index out of range"),undefined):m[x];};$ptrType(Mat2x4).prototype.At=function(row,col){return new Mat2x4(this.$get()).At(row,col);};Mat2x4.prototype.Set=function(row,col,value){var col,m,row,value,x;m=this.$val;x=$imul(col,2)+row>>0,m.nilCheck,x<0||x>=m.length?($throwRuntimeError("index out of range"),undefined):m[x]=value;};$ptrType(Mat2x4).prototype.Set=function(row,col,value){return new Mat2x4(this.$get()).Set(row,col,value);};Mat2x4.prototype.Index=function(row,col){var col,m,row;m=this.$val;return $imul(col,2)+row>>0;};$ptrType(Mat2x4).prototype.Index=function(row,col){return new Mat2x4(this.$get()).Index(row,col);};Mat2x4.prototype.Row=function(row){var m,row,x,x$1,x$2,x$3;m=this.$val;return $toNativeArray($kindFloat64,[(x=row+0>>0,x<0||x>=m.length?($throwRuntimeError("index out of range"),undefined):m[x]),(x$1=row+2>>0,x$1<0||x$1>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$1]),(x$2=row+4>>0,x$2<0||x$2>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$2]),(x$3=row+6>>0,x$3<0||x$3>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$3])]);};$ptrType(Mat2x4).prototype.Row=function(row){return new Mat2x4(this.$get()).Row(row);};Mat2x4.prototype.Rows=function(){var _tmp,_tmp$1,m,row0,row1;row0=arrayType.zero();row1=arrayType.zero();m=this.$val;_tmp=$clone(new Mat2x4($clone(m,Mat2x4)).Row(0),Vec4);_tmp$1=$clone(new Mat2x4($clone(m,Mat2x4)).Row(1),Vec4);Vec4.copy(row0,_tmp);Vec4.copy(row1,_tmp$1);return[row0,row1];};$ptrType(Mat2x4).prototype.Rows=function(){return new Mat2x4(this.$get()).Rows();};Mat2x4.prototype.Col=function(col){var col,m,x,x$1;m=this.$val;return $toNativeArray($kindFloat64,[(x=$imul(col,2)+0>>0,x<0||x>=m.length?($throwRuntimeError("index out of range"),undefined):m[x]),(x$1=$imul(col,2)+1>>0,x$1<0||x$1>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$1])]);};$ptrType(Mat2x4).prototype.Col=function(col){return new Mat2x4(this.$get()).Col(col);};Mat2x4.prototype.Cols=function(){var _tmp,_tmp$1,_tmp$2,_tmp$3,col0,col1,col2,col3,m;col0=arrayType$1.zero();col1=arrayType$1.zero();col2=arrayType$1.zero();col3=arrayType$1.zero();m=this.$val;_tmp=$clone(new Mat2x4($clone(m,Mat2x4)).Col(0),Vec2);_tmp$1=$clone(new Mat2x4($clone(m,Mat2x4)).Col(1),Vec2);_tmp$2=$clone(new Mat2x4($clone(m,Mat2x4)).Col(2),Vec2);_tmp$3=$clone(new Mat2x4($clone(m,Mat2x4)).Col(3),Vec2);Vec2.copy(col0,_tmp);Vec2.copy(col1,_tmp$1);Vec2.copy(col2,_tmp$2);Vec2.copy(col3,_tmp$3);return[col0,col1,col2,col3];};$ptrType(Mat2x4).prototype.Cols=function(){return new Mat2x4(this.$get()).Cols();};Mat2x4.prototype.Abs=function(){var m;m=this.$val;return $toNativeArray($kindFloat64,[Abs(m[0]),Abs(m[1]),Abs(m[2]),Abs(m[3]),Abs(m[4]),Abs(m[5]),Abs(m[6]),Abs(m[7])]);};$ptrType(Mat2x4).prototype.Abs=function(){return new Mat2x4(this.$get()).Abs();};Mat2x4.prototype.String=function(){var _i,_r,_r$1,_r$2,_ref,buf,col,i,m,w,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_i=$f._i;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_ref=$f._ref;buf=$f.buf;col=$f.col;i=$f.i;m=$f.m;w=$f.w;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:m=this.$val;buf=new bytes.Buffer.ptr(sliceType$2.nil,0,0);w=tabwriter.NewWriter(buf,4,4,1,32,4);i=0;/* while (true) { */case 1:/* if (!(i < 2)) { break; } */if(!(i<2)){$s=2;continue;}_ref=new Mat2x4($clone(m,Mat2x4)).Row(i);_i=0;/* while (true) { */case 3:/* if (!(_i < 4)) { break; } */if(!(_i<4)){$s=4;continue;}col=_i<0||_i>=_ref.length?($throwRuntimeError("index out of range"),undefined):_ref[_i];_r=fmt.Fprintf(w,"%f\t",new sliceType$3([new $Float64(col)]));/* */$s=5;case 5:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_r;_i++;/* } */$s=3;continue;case 4:_r$1=fmt.Fprintln(w,new sliceType$3([new $String("")]));/* */$s=6;case 6:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_r$1;i=i+1>>0;/* } */$s=1;continue;case 2:_r$2=w.Flush();/* */$s=7;case 7:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_r$2;$s=-1;return buf.String();/* */}return;}if($f===undefined){$f={$blk:Mat2x4.prototype.String};}$f._i=_i;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._ref=_ref;$f.buf=buf;$f.col=col;$f.i=i;$f.m=m;$f.w=w;$f.$s=$s;$f.$r=$r;return $f;};$ptrType(Mat2x4).prototype.String=function(){return new Mat2x4(this.$get()).String();};Mat3x2.prototype.SetCol=function(col,v){var _tmp,_tmp$1,_tmp$2,col,m,v,x,x$1,x$2;m=this.$val;_tmp=v[0];_tmp$1=v[1];_tmp$2=v[2];x=$imul(col,3)+0>>0,m.nilCheck,x<0||x>=m.length?($throwRuntimeError("index out of range"),undefined):m[x]=_tmp;x$1=$imul(col,3)+1>>0,m.nilCheck,x$1<0||x$1>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$1]=_tmp$1;x$2=$imul(col,3)+2>>0,m.nilCheck,x$2<0||x$2>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$2]=_tmp$2;};$ptrType(Mat3x2).prototype.SetCol=function(col,v){return new Mat3x2(this.$get()).SetCol(col,v);};Mat3x2.prototype.SetRow=function(row,v){var _tmp,_tmp$1,m,row,v,x,x$1;m=this.$val;_tmp=v[0];_tmp$1=v[1];x=row+0>>0,m.nilCheck,x<0||x>=m.length?($throwRuntimeError("index out of range"),undefined):m[x]=_tmp;x$1=row+3>>0,m.nilCheck,x$1<0||x$1>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$1]=_tmp$1;};$ptrType(Mat3x2).prototype.SetRow=function(row,v){return new Mat3x2(this.$get()).SetRow(row,v);};Mat3x2.prototype.Add=function(m2){var m1,m2;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]+m2[0],m1[1]+m2[1],m1[2]+m2[2],m1[3]+m2[3],m1[4]+m2[4],m1[5]+m2[5]]);};$ptrType(Mat3x2).prototype.Add=function(m2){return new Mat3x2(this.$get()).Add(m2);};Mat3x2.prototype.Sub=function(m2){var m1,m2;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]-m2[0],m1[1]-m2[1],m1[2]-m2[2],m1[3]-m2[3],m1[4]-m2[4],m1[5]-m2[5]]);};$ptrType(Mat3x2).prototype.Sub=function(m2){return new Mat3x2(this.$get()).Sub(m2);};Mat3x2.prototype.Mul=function(c){var c,m1;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]*c,m1[1]*c,m1[2]*c,m1[3]*c,m1[4]*c,m1[5]*c]);};$ptrType(Mat3x2).prototype.Mul=function(c){return new Mat3x2(this.$get()).Mul(c);};Mat3x2.prototype.Mul2x1=function(m2){var m1,m2;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]*m2[0]+m1[3]*m2[1],m1[1]*m2[0]+m1[4]*m2[1],m1[2]*m2[0]+m1[5]*m2[1]]);};$ptrType(Mat3x2).prototype.Mul2x1=function(m2){return new Mat3x2(this.$get()).Mul2x1(m2);};Mat3x2.prototype.Mul2=function(m2){var m1,m2;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]*m2[0]+m1[3]*m2[1],m1[1]*m2[0]+m1[4]*m2[1],m1[2]*m2[0]+m1[5]*m2[1],m1[0]*m2[2]+m1[3]*m2[3],m1[1]*m2[2]+m1[4]*m2[3],m1[2]*m2[2]+m1[5]*m2[3]]);};$ptrType(Mat3x2).prototype.Mul2=function(m2){return new Mat3x2(this.$get()).Mul2(m2);};Mat3x2.prototype.Mul2x3=function(m2){var m1,m2;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]*m2[0]+m1[3]*m2[1],m1[1]*m2[0]+m1[4]*m2[1],m1[2]*m2[0]+m1[5]*m2[1],m1[0]*m2[2]+m1[3]*m2[3],m1[1]*m2[2]+m1[4]*m2[3],m1[2]*m2[2]+m1[5]*m2[3],m1[0]*m2[4]+m1[3]*m2[5],m1[1]*m2[4]+m1[4]*m2[5],m1[2]*m2[4]+m1[5]*m2[5]]);};$ptrType(Mat3x2).prototype.Mul2x3=function(m2){return new Mat3x2(this.$get()).Mul2x3(m2);};Mat3x2.prototype.Mul2x4=function(m2){var m1,m2;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]*m2[0]+m1[3]*m2[1],m1[1]*m2[0]+m1[4]*m2[1],m1[2]*m2[0]+m1[5]*m2[1],m1[0]*m2[2]+m1[3]*m2[3],m1[1]*m2[2]+m1[4]*m2[3],m1[2]*m2[2]+m1[5]*m2[3],m1[0]*m2[4]+m1[3]*m2[5],m1[1]*m2[4]+m1[4]*m2[5],m1[2]*m2[4]+m1[5]*m2[5],m1[0]*m2[6]+m1[3]*m2[7],m1[1]*m2[6]+m1[4]*m2[7],m1[2]*m2[6]+m1[5]*m2[7]]);};$ptrType(Mat3x2).prototype.Mul2x4=function(m2){return new Mat3x2(this.$get()).Mul2x4(m2);};Mat3x2.prototype.Transpose=function(){var m1;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0],m1[3],m1[1],m1[4],m1[2],m1[5]]);};$ptrType(Mat3x2).prototype.Transpose=function(){return new Mat3x2(this.$get()).Transpose();};Mat3x2.prototype.ApproxEqual=function(m2){var _i,_ref,i,m1,m2;m1=this.$val;_ref=m1;_i=0;while(true){if(!(_i<6)){break;}i=_i;if(!FloatEqual(i<0||i>=m1.length?($throwRuntimeError("index out of range"),undefined):m1[i],i<0||i>=m2.length?($throwRuntimeError("index out of range"),undefined):m2[i])){return false;}_i++;}return true;};$ptrType(Mat3x2).prototype.ApproxEqual=function(m2){return new Mat3x2(this.$get()).ApproxEqual(m2);};Mat3x2.prototype.ApproxEqualThreshold=function(m2,threshold){var _i,_ref,i,m1,m2,threshold;m1=this.$val;_ref=m1;_i=0;while(true){if(!(_i<6)){break;}i=_i;if(!FloatEqualThreshold(i<0||i>=m1.length?($throwRuntimeError("index out of range"),undefined):m1[i],i<0||i>=m2.length?($throwRuntimeError("index out of range"),undefined):m2[i],threshold)){return false;}_i++;}return true;};$ptrType(Mat3x2).prototype.ApproxEqualThreshold=function(m2,threshold){return new Mat3x2(this.$get()).ApproxEqualThreshold(m2,threshold);};Mat3x2.prototype.ApproxFuncEqual=function(m2,eq){var _i,_r,_ref,eq,i,m1,m2,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_i=$f._i;_r=$f._r;_ref=$f._ref;eq=$f.eq;i=$f.i;m1=$f.m1;m2=$f.m2;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:m1=this.$val;_ref=m1;_i=0;/* while (true) { */case 1:/* if (!(_i < 6)) { break; } */if(!(_i<6)){$s=2;continue;}i=_i;_r=eq(i<0||i>=m1.length?($throwRuntimeError("index out of range"),undefined):m1[i],i<0||i>=m2.length?($throwRuntimeError("index out of range"),undefined):m2[i]);/* */$s=5;case 5:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}/* */if(!_r){$s=3;continue;}/* */$s=4;continue;/* if (!_r) { */case 3:$s=-1;return false;/* } */case 4:_i++;/* } */$s=1;continue;case 2:$s=-1;return true;/* */}return;}if($f===undefined){$f={$blk:Mat3x2.prototype.ApproxFuncEqual};}$f._i=_i;$f._r=_r;$f._ref=_ref;$f.eq=eq;$f.i=i;$f.m1=m1;$f.m2=m2;$f.$s=$s;$f.$r=$r;return $f;};$ptrType(Mat3x2).prototype.ApproxFuncEqual=function(m2,eq){return new Mat3x2(this.$get()).ApproxFuncEqual(m2,eq);};Mat3x2.prototype.At=function(row,col){var col,m,row,x;m=this.$val;return x=$imul(col,3)+row>>0,x<0||x>=m.length?($throwRuntimeError("index out of range"),undefined):m[x];};$ptrType(Mat3x2).prototype.At=function(row,col){return new Mat3x2(this.$get()).At(row,col);};Mat3x2.prototype.Set=function(row,col,value){var col,m,row,value,x;m=this.$val;x=$imul(col,3)+row>>0,m.nilCheck,x<0||x>=m.length?($throwRuntimeError("index out of range"),undefined):m[x]=value;};$ptrType(Mat3x2).prototype.Set=function(row,col,value){return new Mat3x2(this.$get()).Set(row,col,value);};Mat3x2.prototype.Index=function(row,col){var col,m,row;m=this.$val;return $imul(col,3)+row>>0;};$ptrType(Mat3x2).prototype.Index=function(row,col){return new Mat3x2(this.$get()).Index(row,col);};Mat3x2.prototype.Row=function(row){var m,row,x,x$1;m=this.$val;return $toNativeArray($kindFloat64,[(x=row+0>>0,x<0||x>=m.length?($throwRuntimeError("index out of range"),undefined):m[x]),(x$1=row+3>>0,x$1<0||x$1>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$1])]);};$ptrType(Mat3x2).prototype.Row=function(row){return new Mat3x2(this.$get()).Row(row);};Mat3x2.prototype.Rows=function(){var _tmp,_tmp$1,_tmp$2,m,row0,row1,row2;row0=arrayType$1.zero();row1=arrayType$1.zero();row2=arrayType$1.zero();m=this.$val;_tmp=$clone(new Mat3x2($clone(m,Mat3x2)).Row(0),Vec2);_tmp$1=$clone(new Mat3x2($clone(m,Mat3x2)).Row(1),Vec2);_tmp$2=$clone(new Mat3x2($clone(m,Mat3x2)).Row(2),Vec2);Vec2.copy(row0,_tmp);Vec2.copy(row1,_tmp$1);Vec2.copy(row2,_tmp$2);return[row0,row1,row2];};$ptrType(Mat3x2).prototype.Rows=function(){return new Mat3x2(this.$get()).Rows();};Mat3x2.prototype.Col=function(col){var col,m,x,x$1,x$2;m=this.$val;return $toNativeArray($kindFloat64,[(x=$imul(col,3)+0>>0,x<0||x>=m.length?($throwRuntimeError("index out of range"),undefined):m[x]),(x$1=$imul(col,3)+1>>0,x$1<0||x$1>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$1]),(x$2=$imul(col,3)+2>>0,x$2<0||x$2>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$2])]);};$ptrType(Mat3x2).prototype.Col=function(col){return new Mat3x2(this.$get()).Col(col);};Mat3x2.prototype.Cols=function(){var _tmp,_tmp$1,col0,col1,m;col0=arrayType$2.zero();col1=arrayType$2.zero();m=this.$val;_tmp=$clone(new Mat3x2($clone(m,Mat3x2)).Col(0),Vec3);_tmp$1=$clone(new Mat3x2($clone(m,Mat3x2)).Col(1),Vec3);Vec3.copy(col0,_tmp);Vec3.copy(col1,_tmp$1);return[col0,col1];};$ptrType(Mat3x2).prototype.Cols=function(){return new Mat3x2(this.$get()).Cols();};Mat3x2.prototype.Abs=function(){var m;m=this.$val;return $toNativeArray($kindFloat64,[Abs(m[0]),Abs(m[1]),Abs(m[2]),Abs(m[3]),Abs(m[4]),Abs(m[5])]);};$ptrType(Mat3x2).prototype.Abs=function(){return new Mat3x2(this.$get()).Abs();};Mat3x2.prototype.String=function(){var _i,_r,_r$1,_r$2,_ref,buf,col,i,m,w,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_i=$f._i;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_ref=$f._ref;buf=$f.buf;col=$f.col;i=$f.i;m=$f.m;w=$f.w;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:m=this.$val;buf=new bytes.Buffer.ptr(sliceType$2.nil,0,0);w=tabwriter.NewWriter(buf,4,4,1,32,4);i=0;/* while (true) { */case 1:/* if (!(i < 3)) { break; } */if(!(i<3)){$s=2;continue;}_ref=new Mat3x2($clone(m,Mat3x2)).Row(i);_i=0;/* while (true) { */case 3:/* if (!(_i < 2)) { break; } */if(!(_i<2)){$s=4;continue;}col=_i<0||_i>=_ref.length?($throwRuntimeError("index out of range"),undefined):_ref[_i];_r=fmt.Fprintf(w,"%f\t",new sliceType$3([new $Float64(col)]));/* */$s=5;case 5:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_r;_i++;/* } */$s=3;continue;case 4:_r$1=fmt.Fprintln(w,new sliceType$3([new $String("")]));/* */$s=6;case 6:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_r$1;i=i+1>>0;/* } */$s=1;continue;case 2:_r$2=w.Flush();/* */$s=7;case 7:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_r$2;$s=-1;return buf.String();/* */}return;}if($f===undefined){$f={$blk:Mat3x2.prototype.String};}$f._i=_i;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._ref=_ref;$f.buf=buf;$f.col=col;$f.i=i;$f.m=m;$f.w=w;$f.$s=$s;$f.$r=$r;return $f;};$ptrType(Mat3x2).prototype.String=function(){return new Mat3x2(this.$get()).String();};Mat3.prototype.SetCol=function(col,v){var _tmp,_tmp$1,_tmp$2,col,m,v,x,x$1,x$2;m=this.$val;_tmp=v[0];_tmp$1=v[1];_tmp$2=v[2];x=$imul(col,3)+0>>0,m.nilCheck,x<0||x>=m.length?($throwRuntimeError("index out of range"),undefined):m[x]=_tmp;x$1=$imul(col,3)+1>>0,m.nilCheck,x$1<0||x$1>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$1]=_tmp$1;x$2=$imul(col,3)+2>>0,m.nilCheck,x$2<0||x$2>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$2]=_tmp$2;};$ptrType(Mat3).prototype.SetCol=function(col,v){return new Mat3(this.$get()).SetCol(col,v);};Mat3.prototype.SetRow=function(row,v){var _tmp,_tmp$1,_tmp$2,m,row,v,x,x$1,x$2;m=this.$val;_tmp=v[0];_tmp$1=v[1];_tmp$2=v[2];x=row+0>>0,m.nilCheck,x<0||x>=m.length?($throwRuntimeError("index out of range"),undefined):m[x]=_tmp;x$1=row+3>>0,m.nilCheck,x$1<0||x$1>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$1]=_tmp$1;x$2=row+6>>0,m.nilCheck,x$2<0||x$2>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$2]=_tmp$2;};$ptrType(Mat3).prototype.SetRow=function(row,v){return new Mat3(this.$get()).SetRow(row,v);};Mat3.prototype.Diag=function(){var m;m=this.$val;return $toNativeArray($kindFloat64,[m[0],m[4],m[8]]);};$ptrType(Mat3).prototype.Diag=function(){return new Mat3(this.$get()).Diag();};Mat3FromCols=function(col0,col1,col2){var col0,col1,col2;return $toNativeArray($kindFloat64,[col0[0],col0[1],col0[2],col1[0],col1[1],col1[2],col2[0],col2[1],col2[2]]);};$pkg.Mat3FromCols=Mat3FromCols;Mat3.prototype.Add=function(m2){var m1,m2;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]+m2[0],m1[1]+m2[1],m1[2]+m2[2],m1[3]+m2[3],m1[4]+m2[4],m1[5]+m2[5],m1[6]+m2[6],m1[7]+m2[7],m1[8]+m2[8]]);};$ptrType(Mat3).prototype.Add=function(m2){return new Mat3(this.$get()).Add(m2);};Mat3.prototype.Sub=function(m2){var m1,m2;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]-m2[0],m1[1]-m2[1],m1[2]-m2[2],m1[3]-m2[3],m1[4]-m2[4],m1[5]-m2[5],m1[6]-m2[6],m1[7]-m2[7],m1[8]-m2[8]]);};$ptrType(Mat3).prototype.Sub=function(m2){return new Mat3(this.$get()).Sub(m2);};Mat3.prototype.Mul=function(c){var c,m1;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]*c,m1[1]*c,m1[2]*c,m1[3]*c,m1[4]*c,m1[5]*c,m1[6]*c,m1[7]*c,m1[8]*c]);};$ptrType(Mat3).prototype.Mul=function(c){return new Mat3(this.$get()).Mul(c);};Mat3.prototype.Mul3x1=function(m2){var m1,m2;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]*m2[0]+m1[3]*m2[1]+m1[6]*m2[2],m1[1]*m2[0]+m1[4]*m2[1]+m1[7]*m2[2],m1[2]*m2[0]+m1[5]*m2[1]+m1[8]*m2[2]]);};$ptrType(Mat3).prototype.Mul3x1=function(m2){return new Mat3(this.$get()).Mul3x1(m2);};Mat3.prototype.Mul3x2=function(m2){var m1,m2;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]*m2[0]+m1[3]*m2[1]+m1[6]*m2[2],m1[1]*m2[0]+m1[4]*m2[1]+m1[7]*m2[2],m1[2]*m2[0]+m1[5]*m2[1]+m1[8]*m2[2],m1[0]*m2[3]+m1[3]*m2[4]+m1[6]*m2[5],m1[1]*m2[3]+m1[4]*m2[4]+m1[7]*m2[5],m1[2]*m2[3]+m1[5]*m2[4]+m1[8]*m2[5]]);};$ptrType(Mat3).prototype.Mul3x2=function(m2){return new Mat3(this.$get()).Mul3x2(m2);};Mat3.prototype.Mul3=function(m2){var m1,m2;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]*m2[0]+m1[3]*m2[1]+m1[6]*m2[2],m1[1]*m2[0]+m1[4]*m2[1]+m1[7]*m2[2],m1[2]*m2[0]+m1[5]*m2[1]+m1[8]*m2[2],m1[0]*m2[3]+m1[3]*m2[4]+m1[6]*m2[5],m1[1]*m2[3]+m1[4]*m2[4]+m1[7]*m2[5],m1[2]*m2[3]+m1[5]*m2[4]+m1[8]*m2[5],m1[0]*m2[6]+m1[3]*m2[7]+m1[6]*m2[8],m1[1]*m2[6]+m1[4]*m2[7]+m1[7]*m2[8],m1[2]*m2[6]+m1[5]*m2[7]+m1[8]*m2[8]]);};$ptrType(Mat3).prototype.Mul3=function(m2){return new Mat3(this.$get()).Mul3(m2);};Mat3.prototype.Mul3x4=function(m2){var m1,m2;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]*m2[0]+m1[3]*m2[1]+m1[6]*m2[2],m1[1]*m2[0]+m1[4]*m2[1]+m1[7]*m2[2],m1[2]*m2[0]+m1[5]*m2[1]+m1[8]*m2[2],m1[0]*m2[3]+m1[3]*m2[4]+m1[6]*m2[5],m1[1]*m2[3]+m1[4]*m2[4]+m1[7]*m2[5],m1[2]*m2[3]+m1[5]*m2[4]+m1[8]*m2[5],m1[0]*m2[6]+m1[3]*m2[7]+m1[6]*m2[8],m1[1]*m2[6]+m1[4]*m2[7]+m1[7]*m2[8],m1[2]*m2[6]+m1[5]*m2[7]+m1[8]*m2[8],m1[0]*m2[9]+m1[3]*m2[10]+m1[6]*m2[11],m1[1]*m2[9]+m1[4]*m2[10]+m1[7]*m2[11],m1[2]*m2[9]+m1[5]*m2[10]+m1[8]*m2[11]]);};$ptrType(Mat3).prototype.Mul3x4=function(m2){return new Mat3(this.$get()).Mul3x4(m2);};Mat3.prototype.Transpose=function(){var m1;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0],m1[3],m1[6],m1[1],m1[4],m1[7],m1[2],m1[5],m1[8]]);};$ptrType(Mat3).prototype.Transpose=function(){return new Mat3(this.$get()).Transpose();};Mat3.prototype.Det=function(){var m;m=this.$val;return m[0]*m[4]*m[8]+m[3]*m[7]*m[2]+m[6]*m[1]*m[5]-m[6]*m[4]*m[2]-m[3]*m[1]*m[8]-m[0]*m[7]*m[5];};$ptrType(Mat3).prototype.Det=function(){return new Mat3(this.$get()).Det();};Mat3.prototype.Inv=function(){var det,m,retMat;m=this.$val;det=new Mat3($clone(m,Mat3)).Det();if(FloatEqual(det,0)){return arrayType$3.zero();}retMat=$toNativeArray($kindFloat64,[m[4]*m[8]-m[5]*m[7],m[2]*m[7]-m[1]*m[8],m[1]*m[5]-m[2]*m[4],m[5]*m[6]-m[3]*m[8],m[0]*m[8]-m[2]*m[6],m[2]*m[3]-m[0]*m[5],m[3]*m[7]-m[4]*m[6],m[1]*m[6]-m[0]*m[7],m[0]*m[4]-m[1]*m[3]]);return new Mat3($clone(retMat,Mat3)).Mul(1/det);};$ptrType(Mat3).prototype.Inv=function(){return new Mat3(this.$get()).Inv();};Mat3.prototype.ApproxEqual=function(m2){var _i,_ref,i,m1,m2;m1=this.$val;_ref=m1;_i=0;while(true){if(!(_i<9)){break;}i=_i;if(!FloatEqual(i<0||i>=m1.length?($throwRuntimeError("index out of range"),undefined):m1[i],i<0||i>=m2.length?($throwRuntimeError("index out of range"),undefined):m2[i])){return false;}_i++;}return true;};$ptrType(Mat3).prototype.ApproxEqual=function(m2){return new Mat3(this.$get()).ApproxEqual(m2);};Mat3.prototype.ApproxEqualThreshold=function(m2,threshold){var _i,_ref,i,m1,m2,threshold;m1=this.$val;_ref=m1;_i=0;while(true){if(!(_i<9)){break;}i=_i;if(!FloatEqualThreshold(i<0||i>=m1.length?($throwRuntimeError("index out of range"),undefined):m1[i],i<0||i>=m2.length?($throwRuntimeError("index out of range"),undefined):m2[i],threshold)){return false;}_i++;}return true;};$ptrType(Mat3).prototype.ApproxEqualThreshold=function(m2,threshold){return new Mat3(this.$get()).ApproxEqualThreshold(m2,threshold);};Mat3.prototype.ApproxFuncEqual=function(m2,eq){var _i,_r,_ref,eq,i,m1,m2,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_i=$f._i;_r=$f._r;_ref=$f._ref;eq=$f.eq;i=$f.i;m1=$f.m1;m2=$f.m2;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:m1=this.$val;_ref=m1;_i=0;/* while (true) { */case 1:/* if (!(_i < 9)) { break; } */if(!(_i<9)){$s=2;continue;}i=_i;_r=eq(i<0||i>=m1.length?($throwRuntimeError("index out of range"),undefined):m1[i],i<0||i>=m2.length?($throwRuntimeError("index out of range"),undefined):m2[i]);/* */$s=5;case 5:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}/* */if(!_r){$s=3;continue;}/* */$s=4;continue;/* if (!_r) { */case 3:$s=-1;return false;/* } */case 4:_i++;/* } */$s=1;continue;case 2:$s=-1;return true;/* */}return;}if($f===undefined){$f={$blk:Mat3.prototype.ApproxFuncEqual};}$f._i=_i;$f._r=_r;$f._ref=_ref;$f.eq=eq;$f.i=i;$f.m1=m1;$f.m2=m2;$f.$s=$s;$f.$r=$r;return $f;};$ptrType(Mat3).prototype.ApproxFuncEqual=function(m2,eq){return new Mat3(this.$get()).ApproxFuncEqual(m2,eq);};Mat3.prototype.At=function(row,col){var col,m,row,x;m=this.$val;return x=$imul(col,3)+row>>0,x<0||x>=m.length?($throwRuntimeError("index out of range"),undefined):m[x];};$ptrType(Mat3).prototype.At=function(row,col){return new Mat3(this.$get()).At(row,col);};Mat3.prototype.Set=function(row,col,value){var col,m,row,value,x;m=this.$val;x=$imul(col,3)+row>>0,m.nilCheck,x<0||x>=m.length?($throwRuntimeError("index out of range"),undefined):m[x]=value;};$ptrType(Mat3).prototype.Set=function(row,col,value){return new Mat3(this.$get()).Set(row,col,value);};Mat3.prototype.Index=function(row,col){var col,m,row;m=this.$val;return $imul(col,3)+row>>0;};$ptrType(Mat3).prototype.Index=function(row,col){return new Mat3(this.$get()).Index(row,col);};Mat3.prototype.Row=function(row){var m,row,x,x$1,x$2;m=this.$val;return $toNativeArray($kindFloat64,[(x=row+0>>0,x<0||x>=m.length?($throwRuntimeError("index out of range"),undefined):m[x]),(x$1=row+3>>0,x$1<0||x$1>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$1]),(x$2=row+6>>0,x$2<0||x$2>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$2])]);};$ptrType(Mat3).prototype.Row=function(row){return new Mat3(this.$get()).Row(row);};Mat3.prototype.Rows=function(){var _tmp,_tmp$1,_tmp$2,m,row0,row1,row2;row0=arrayType$2.zero();row1=arrayType$2.zero();row2=arrayType$2.zero();m=this.$val;_tmp=$clone(new Mat3($clone(m,Mat3)).Row(0),Vec3);_tmp$1=$clone(new Mat3($clone(m,Mat3)).Row(1),Vec3);_tmp$2=$clone(new Mat3($clone(m,Mat3)).Row(2),Vec3);Vec3.copy(row0,_tmp);Vec3.copy(row1,_tmp$1);Vec3.copy(row2,_tmp$2);return[row0,row1,row2];};$ptrType(Mat3).prototype.Rows=function(){return new Mat3(this.$get()).Rows();};Mat3.prototype.Col=function(col){var col,m,x,x$1,x$2;m=this.$val;return $toNativeArray($kindFloat64,[(x=$imul(col,3)+0>>0,x<0||x>=m.length?($throwRuntimeError("index out of range"),undefined):m[x]),(x$1=$imul(col,3)+1>>0,x$1<0||x$1>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$1]),(x$2=$imul(col,3)+2>>0,x$2<0||x$2>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$2])]);};$ptrType(Mat3).prototype.Col=function(col){return new Mat3(this.$get()).Col(col);};Mat3.prototype.Cols=function(){var _tmp,_tmp$1,_tmp$2,col0,col1,col2,m;col0=arrayType$2.zero();col1=arrayType$2.zero();col2=arrayType$2.zero();m=this.$val;_tmp=$clone(new Mat3($clone(m,Mat3)).Col(0),Vec3);_tmp$1=$clone(new Mat3($clone(m,Mat3)).Col(1),Vec3);_tmp$2=$clone(new Mat3($clone(m,Mat3)).Col(2),Vec3);Vec3.copy(col0,_tmp);Vec3.copy(col1,_tmp$1);Vec3.copy(col2,_tmp$2);return[col0,col1,col2];};$ptrType(Mat3).prototype.Cols=function(){return new Mat3(this.$get()).Cols();};Mat3.prototype.Trace=function(){var m;m=this.$val;return m[0]+m[4]+m[8];};$ptrType(Mat3).prototype.Trace=function(){return new Mat3(this.$get()).Trace();};Mat3.prototype.Abs=function(){var m;m=this.$val;return $toNativeArray($kindFloat64,[Abs(m[0]),Abs(m[1]),Abs(m[2]),Abs(m[3]),Abs(m[4]),Abs(m[5]),Abs(m[6]),Abs(m[7]),Abs(m[8])]);};$ptrType(Mat3).prototype.Abs=function(){return new Mat3(this.$get()).Abs();};Mat3.prototype.String=function(){var _i,_r,_r$1,_r$2,_ref,buf,col,i,m,w,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_i=$f._i;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_ref=$f._ref;buf=$f.buf;col=$f.col;i=$f.i;m=$f.m;w=$f.w;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:m=this.$val;buf=new bytes.Buffer.ptr(sliceType$2.nil,0,0);w=tabwriter.NewWriter(buf,4,4,1,32,4);i=0;/* while (true) { */case 1:/* if (!(i < 3)) { break; } */if(!(i<3)){$s=2;continue;}_ref=new Mat3($clone(m,Mat3)).Row(i);_i=0;/* while (true) { */case 3:/* if (!(_i < 3)) { break; } */if(!(_i<3)){$s=4;continue;}col=_i<0||_i>=_ref.length?($throwRuntimeError("index out of range"),undefined):_ref[_i];_r=fmt.Fprintf(w,"%f\t",new sliceType$3([new $Float64(col)]));/* */$s=5;case 5:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_r;_i++;/* } */$s=3;continue;case 4:_r$1=fmt.Fprintln(w,new sliceType$3([new $String("")]));/* */$s=6;case 6:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_r$1;i=i+1>>0;/* } */$s=1;continue;case 2:_r$2=w.Flush();/* */$s=7;case 7:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_r$2;$s=-1;return buf.String();/* */}return;}if($f===undefined){$f={$blk:Mat3.prototype.String};}$f._i=_i;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._ref=_ref;$f.buf=buf;$f.col=col;$f.i=i;$f.m=m;$f.w=w;$f.$s=$s;$f.$r=$r;return $f;};$ptrType(Mat3).prototype.String=function(){return new Mat3(this.$get()).String();};Mat3x4.prototype.SetCol=function(col,v){var _tmp,_tmp$1,_tmp$2,col,m,v,x,x$1,x$2;m=this.$val;_tmp=v[0];_tmp$1=v[1];_tmp$2=v[2];x=$imul(col,3)+0>>0,m.nilCheck,x<0||x>=m.length?($throwRuntimeError("index out of range"),undefined):m[x]=_tmp;x$1=$imul(col,3)+1>>0,m.nilCheck,x$1<0||x$1>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$1]=_tmp$1;x$2=$imul(col,3)+2>>0,m.nilCheck,x$2<0||x$2>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$2]=_tmp$2;};$ptrType(Mat3x4).prototype.SetCol=function(col,v){return new Mat3x4(this.$get()).SetCol(col,v);};Mat3x4.prototype.SetRow=function(row,v){var _tmp,_tmp$1,_tmp$2,_tmp$3,m,row,v,x,x$1,x$2,x$3;m=this.$val;_tmp=v[0];_tmp$1=v[1];_tmp$2=v[2];_tmp$3=v[3];x=row+0>>0,m.nilCheck,x<0||x>=m.length?($throwRuntimeError("index out of range"),undefined):m[x]=_tmp;x$1=row+3>>0,m.nilCheck,x$1<0||x$1>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$1]=_tmp$1;x$2=row+6>>0,m.nilCheck,x$2<0||x$2>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$2]=_tmp$2;x$3=row+9>>0,m.nilCheck,x$3<0||x$3>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$3]=_tmp$3;};$ptrType(Mat3x4).prototype.SetRow=function(row,v){return new Mat3x4(this.$get()).SetRow(row,v);};Mat3x4.prototype.Add=function(m2){var m1,m2;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]+m2[0],m1[1]+m2[1],m1[2]+m2[2],m1[3]+m2[3],m1[4]+m2[4],m1[5]+m2[5],m1[6]+m2[6],m1[7]+m2[7],m1[8]+m2[8],m1[9]+m2[9],m1[10]+m2[10],m1[11]+m2[11]]);};$ptrType(Mat3x4).prototype.Add=function(m2){return new Mat3x4(this.$get()).Add(m2);};Mat3x4.prototype.Sub=function(m2){var m1,m2;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]-m2[0],m1[1]-m2[1],m1[2]-m2[2],m1[3]-m2[3],m1[4]-m2[4],m1[5]-m2[5],m1[6]-m2[6],m1[7]-m2[7],m1[8]-m2[8],m1[9]-m2[9],m1[10]-m2[10],m1[11]-m2[11]]);};$ptrType(Mat3x4).prototype.Sub=function(m2){return new Mat3x4(this.$get()).Sub(m2);};Mat3x4.prototype.Mul=function(c){var c,m1;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]*c,m1[1]*c,m1[2]*c,m1[3]*c,m1[4]*c,m1[5]*c,m1[6]*c,m1[7]*c,m1[8]*c,m1[9]*c,m1[10]*c,m1[11]*c]);};$ptrType(Mat3x4).prototype.Mul=function(c){return new Mat3x4(this.$get()).Mul(c);};Mat3x4.prototype.Mul4x1=function(m2){var m1,m2;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]*m2[0]+m1[3]*m2[1]+m1[6]*m2[2]+m1[9]*m2[3],m1[1]*m2[0]+m1[4]*m2[1]+m1[7]*m2[2]+m1[10]*m2[3],m1[2]*m2[0]+m1[5]*m2[1]+m1[8]*m2[2]+m1[11]*m2[3]]);};$ptrType(Mat3x4).prototype.Mul4x1=function(m2){return new Mat3x4(this.$get()).Mul4x1(m2);};Mat3x4.prototype.Mul4x2=function(m2){var m1,m2;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]*m2[0]+m1[3]*m2[1]+m1[6]*m2[2]+m1[9]*m2[3],m1[1]*m2[0]+m1[4]*m2[1]+m1[7]*m2[2]+m1[10]*m2[3],m1[2]*m2[0]+m1[5]*m2[1]+m1[8]*m2[2]+m1[11]*m2[3],m1[0]*m2[4]+m1[3]*m2[5]+m1[6]*m2[6]+m1[9]*m2[7],m1[1]*m2[4]+m1[4]*m2[5]+m1[7]*m2[6]+m1[10]*m2[7],m1[2]*m2[4]+m1[5]*m2[5]+m1[8]*m2[6]+m1[11]*m2[7]]);};$ptrType(Mat3x4).prototype.Mul4x2=function(m2){return new Mat3x4(this.$get()).Mul4x2(m2);};Mat3x4.prototype.Mul4x3=function(m2){var m1,m2;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]*m2[0]+m1[3]*m2[1]+m1[6]*m2[2]+m1[9]*m2[3],m1[1]*m2[0]+m1[4]*m2[1]+m1[7]*m2[2]+m1[10]*m2[3],m1[2]*m2[0]+m1[5]*m2[1]+m1[8]*m2[2]+m1[11]*m2[3],m1[0]*m2[4]+m1[3]*m2[5]+m1[6]*m2[6]+m1[9]*m2[7],m1[1]*m2[4]+m1[4]*m2[5]+m1[7]*m2[6]+m1[10]*m2[7],m1[2]*m2[4]+m1[5]*m2[5]+m1[8]*m2[6]+m1[11]*m2[7],m1[0]*m2[8]+m1[3]*m2[9]+m1[6]*m2[10]+m1[9]*m2[11],m1[1]*m2[8]+m1[4]*m2[9]+m1[7]*m2[10]+m1[10]*m2[11],m1[2]*m2[8]+m1[5]*m2[9]+m1[8]*m2[10]+m1[11]*m2[11]]);};$ptrType(Mat3x4).prototype.Mul4x3=function(m2){return new Mat3x4(this.$get()).Mul4x3(m2);};Mat3x4.prototype.Mul4=function(m2){var m1,m2;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]*m2[0]+m1[3]*m2[1]+m1[6]*m2[2]+m1[9]*m2[3],m1[1]*m2[0]+m1[4]*m2[1]+m1[7]*m2[2]+m1[10]*m2[3],m1[2]*m2[0]+m1[5]*m2[1]+m1[8]*m2[2]+m1[11]*m2[3],m1[0]*m2[4]+m1[3]*m2[5]+m1[6]*m2[6]+m1[9]*m2[7],m1[1]*m2[4]+m1[4]*m2[5]+m1[7]*m2[6]+m1[10]*m2[7],m1[2]*m2[4]+m1[5]*m2[5]+m1[8]*m2[6]+m1[11]*m2[7],m1[0]*m2[8]+m1[3]*m2[9]+m1[6]*m2[10]+m1[9]*m2[11],m1[1]*m2[8]+m1[4]*m2[9]+m1[7]*m2[10]+m1[10]*m2[11],m1[2]*m2[8]+m1[5]*m2[9]+m1[8]*m2[10]+m1[11]*m2[11],m1[0]*m2[12]+m1[3]*m2[13]+m1[6]*m2[14]+m1[9]*m2[15],m1[1]*m2[12]+m1[4]*m2[13]+m1[7]*m2[14]+m1[10]*m2[15],m1[2]*m2[12]+m1[5]*m2[13]+m1[8]*m2[14]+m1[11]*m2[15]]);};$ptrType(Mat3x4).prototype.Mul4=function(m2){return new Mat3x4(this.$get()).Mul4(m2);};Mat3x4.prototype.Transpose=function(){var m1;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0],m1[3],m1[6],m1[9],m1[1],m1[4],m1[7],m1[10],m1[2],m1[5],m1[8],m1[11]]);};$ptrType(Mat3x4).prototype.Transpose=function(){return new Mat3x4(this.$get()).Transpose();};Mat3x4.prototype.ApproxEqual=function(m2){var _i,_ref,i,m1,m2;m1=this.$val;_ref=m1;_i=0;while(true){if(!(_i<12)){break;}i=_i;if(!FloatEqual(i<0||i>=m1.length?($throwRuntimeError("index out of range"),undefined):m1[i],i<0||i>=m2.length?($throwRuntimeError("index out of range"),undefined):m2[i])){return false;}_i++;}return true;};$ptrType(Mat3x4).prototype.ApproxEqual=function(m2){return new Mat3x4(this.$get()).ApproxEqual(m2);};Mat3x4.prototype.ApproxEqualThreshold=function(m2,threshold){var _i,_ref,i,m1,m2,threshold;m1=this.$val;_ref=m1;_i=0;while(true){if(!(_i<12)){break;}i=_i;if(!FloatEqualThreshold(i<0||i>=m1.length?($throwRuntimeError("index out of range"),undefined):m1[i],i<0||i>=m2.length?($throwRuntimeError("index out of range"),undefined):m2[i],threshold)){return false;}_i++;}return true;};$ptrType(Mat3x4).prototype.ApproxEqualThreshold=function(m2,threshold){return new Mat3x4(this.$get()).ApproxEqualThreshold(m2,threshold);};Mat3x4.prototype.ApproxFuncEqual=function(m2,eq){var _i,_r,_ref,eq,i,m1,m2,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_i=$f._i;_r=$f._r;_ref=$f._ref;eq=$f.eq;i=$f.i;m1=$f.m1;m2=$f.m2;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:m1=this.$val;_ref=m1;_i=0;/* while (true) { */case 1:/* if (!(_i < 12)) { break; } */if(!(_i<12)){$s=2;continue;}i=_i;_r=eq(i<0||i>=m1.length?($throwRuntimeError("index out of range"),undefined):m1[i],i<0||i>=m2.length?($throwRuntimeError("index out of range"),undefined):m2[i]);/* */$s=5;case 5:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}/* */if(!_r){$s=3;continue;}/* */$s=4;continue;/* if (!_r) { */case 3:$s=-1;return false;/* } */case 4:_i++;/* } */$s=1;continue;case 2:$s=-1;return true;/* */}return;}if($f===undefined){$f={$blk:Mat3x4.prototype.ApproxFuncEqual};}$f._i=_i;$f._r=_r;$f._ref=_ref;$f.eq=eq;$f.i=i;$f.m1=m1;$f.m2=m2;$f.$s=$s;$f.$r=$r;return $f;};$ptrType(Mat3x4).prototype.ApproxFuncEqual=function(m2,eq){return new Mat3x4(this.$get()).ApproxFuncEqual(m2,eq);};Mat3x4.prototype.At=function(row,col){var col,m,row,x;m=this.$val;return x=$imul(col,3)+row>>0,x<0||x>=m.length?($throwRuntimeError("index out of range"),undefined):m[x];};$ptrType(Mat3x4).prototype.At=function(row,col){return new Mat3x4(this.$get()).At(row,col);};Mat3x4.prototype.Set=function(row,col,value){var col,m,row,value,x;m=this.$val;x=$imul(col,3)+row>>0,m.nilCheck,x<0||x>=m.length?($throwRuntimeError("index out of range"),undefined):m[x]=value;};$ptrType(Mat3x4).prototype.Set=function(row,col,value){return new Mat3x4(this.$get()).Set(row,col,value);};Mat3x4.prototype.Index=function(row,col){var col,m,row;m=this.$val;return $imul(col,3)+row>>0;};$ptrType(Mat3x4).prototype.Index=function(row,col){return new Mat3x4(this.$get()).Index(row,col);};Mat3x4.prototype.Row=function(row){var m,row,x,x$1,x$2,x$3;m=this.$val;return $toNativeArray($kindFloat64,[(x=row+0>>0,x<0||x>=m.length?($throwRuntimeError("index out of range"),undefined):m[x]),(x$1=row+3>>0,x$1<0||x$1>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$1]),(x$2=row+6>>0,x$2<0||x$2>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$2]),(x$3=row+9>>0,x$3<0||x$3>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$3])]);};$ptrType(Mat3x4).prototype.Row=function(row){return new Mat3x4(this.$get()).Row(row);};Mat3x4.prototype.Rows=function(){var _tmp,_tmp$1,_tmp$2,m,row0,row1,row2;row0=arrayType.zero();row1=arrayType.zero();row2=arrayType.zero();m=this.$val;_tmp=$clone(new Mat3x4($clone(m,Mat3x4)).Row(0),Vec4);_tmp$1=$clone(new Mat3x4($clone(m,Mat3x4)).Row(1),Vec4);_tmp$2=$clone(new Mat3x4($clone(m,Mat3x4)).Row(2),Vec4);Vec4.copy(row0,_tmp);Vec4.copy(row1,_tmp$1);Vec4.copy(row2,_tmp$2);return[row0,row1,row2];};$ptrType(Mat3x4).prototype.Rows=function(){return new Mat3x4(this.$get()).Rows();};Mat3x4.prototype.Col=function(col){var col,m,x,x$1,x$2;m=this.$val;return $toNativeArray($kindFloat64,[(x=$imul(col,3)+0>>0,x<0||x>=m.length?($throwRuntimeError("index out of range"),undefined):m[x]),(x$1=$imul(col,3)+1>>0,x$1<0||x$1>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$1]),(x$2=$imul(col,3)+2>>0,x$2<0||x$2>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$2])]);};$ptrType(Mat3x4).prototype.Col=function(col){return new Mat3x4(this.$get()).Col(col);};Mat3x4.prototype.Cols=function(){var _tmp,_tmp$1,_tmp$2,_tmp$3,col0,col1,col2,col3,m;col0=arrayType$2.zero();col1=arrayType$2.zero();col2=arrayType$2.zero();col3=arrayType$2.zero();m=this.$val;_tmp=$clone(new Mat3x4($clone(m,Mat3x4)).Col(0),Vec3);_tmp$1=$clone(new Mat3x4($clone(m,Mat3x4)).Col(1),Vec3);_tmp$2=$clone(new Mat3x4($clone(m,Mat3x4)).Col(2),Vec3);_tmp$3=$clone(new Mat3x4($clone(m,Mat3x4)).Col(3),Vec3);Vec3.copy(col0,_tmp);Vec3.copy(col1,_tmp$1);Vec3.copy(col2,_tmp$2);Vec3.copy(col3,_tmp$3);return[col0,col1,col2,col3];};$ptrType(Mat3x4).prototype.Cols=function(){return new Mat3x4(this.$get()).Cols();};Mat3x4.prototype.Abs=function(){var m;m=this.$val;return $toNativeArray($kindFloat64,[Abs(m[0]),Abs(m[1]),Abs(m[2]),Abs(m[3]),Abs(m[4]),Abs(m[5]),Abs(m[6]),Abs(m[7]),Abs(m[8]),Abs(m[9]),Abs(m[10]),Abs(m[11])]);};$ptrType(Mat3x4).prototype.Abs=function(){return new Mat3x4(this.$get()).Abs();};Mat3x4.prototype.String=function(){var _i,_r,_r$1,_r$2,_ref,buf,col,i,m,w,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_i=$f._i;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_ref=$f._ref;buf=$f.buf;col=$f.col;i=$f.i;m=$f.m;w=$f.w;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:m=this.$val;buf=new bytes.Buffer.ptr(sliceType$2.nil,0,0);w=tabwriter.NewWriter(buf,4,4,1,32,4);i=0;/* while (true) { */case 1:/* if (!(i < 3)) { break; } */if(!(i<3)){$s=2;continue;}_ref=new Mat3x4($clone(m,Mat3x4)).Row(i);_i=0;/* while (true) { */case 3:/* if (!(_i < 4)) { break; } */if(!(_i<4)){$s=4;continue;}col=_i<0||_i>=_ref.length?($throwRuntimeError("index out of range"),undefined):_ref[_i];_r=fmt.Fprintf(w,"%f\t",new sliceType$3([new $Float64(col)]));/* */$s=5;case 5:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_r;_i++;/* } */$s=3;continue;case 4:_r$1=fmt.Fprintln(w,new sliceType$3([new $String("")]));/* */$s=6;case 6:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_r$1;i=i+1>>0;/* } */$s=1;continue;case 2:_r$2=w.Flush();/* */$s=7;case 7:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_r$2;$s=-1;return buf.String();/* */}return;}if($f===undefined){$f={$blk:Mat3x4.prototype.String};}$f._i=_i;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._ref=_ref;$f.buf=buf;$f.col=col;$f.i=i;$f.m=m;$f.w=w;$f.$s=$s;$f.$r=$r;return $f;};$ptrType(Mat3x4).prototype.String=function(){return new Mat3x4(this.$get()).String();};Mat4x2.prototype.SetCol=function(col,v){var _tmp,_tmp$1,_tmp$2,_tmp$3,col,m,v,x,x$1,x$2,x$3;m=this.$val;_tmp=v[0];_tmp$1=v[1];_tmp$2=v[2];_tmp$3=v[3];x=$imul(col,4)+0>>0,m.nilCheck,x<0||x>=m.length?($throwRuntimeError("index out of range"),undefined):m[x]=_tmp;x$1=$imul(col,4)+1>>0,m.nilCheck,x$1<0||x$1>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$1]=_tmp$1;x$2=$imul(col,4)+2>>0,m.nilCheck,x$2<0||x$2>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$2]=_tmp$2;x$3=$imul(col,4)+3>>0,m.nilCheck,x$3<0||x$3>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$3]=_tmp$3;};$ptrType(Mat4x2).prototype.SetCol=function(col,v){return new Mat4x2(this.$get()).SetCol(col,v);};Mat4x2.prototype.SetRow=function(row,v){var _tmp,_tmp$1,m,row,v,x,x$1;m=this.$val;_tmp=v[0];_tmp$1=v[1];x=row+0>>0,m.nilCheck,x<0||x>=m.length?($throwRuntimeError("index out of range"),undefined):m[x]=_tmp;x$1=row+4>>0,m.nilCheck,x$1<0||x$1>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$1]=_tmp$1;};$ptrType(Mat4x2).prototype.SetRow=function(row,v){return new Mat4x2(this.$get()).SetRow(row,v);};Mat4x2.prototype.Add=function(m2){var m1,m2;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]+m2[0],m1[1]+m2[1],m1[2]+m2[2],m1[3]+m2[3],m1[4]+m2[4],m1[5]+m2[5],m1[6]+m2[6],m1[7]+m2[7]]);};$ptrType(Mat4x2).prototype.Add=function(m2){return new Mat4x2(this.$get()).Add(m2);};Mat4x2.prototype.Sub=function(m2){var m1,m2;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]-m2[0],m1[1]-m2[1],m1[2]-m2[2],m1[3]-m2[3],m1[4]-m2[4],m1[5]-m2[5],m1[6]-m2[6],m1[7]-m2[7]]);};$ptrType(Mat4x2).prototype.Sub=function(m2){return new Mat4x2(this.$get()).Sub(m2);};Mat4x2.prototype.Mul=function(c){var c,m1;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]*c,m1[1]*c,m1[2]*c,m1[3]*c,m1[4]*c,m1[5]*c,m1[6]*c,m1[7]*c]);};$ptrType(Mat4x2).prototype.Mul=function(c){return new Mat4x2(this.$get()).Mul(c);};Mat4x2.prototype.Mul2x1=function(m2){var m1,m2;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]*m2[0]+m1[4]*m2[1],m1[1]*m2[0]+m1[5]*m2[1],m1[2]*m2[0]+m1[6]*m2[1],m1[3]*m2[0]+m1[7]*m2[1]]);};$ptrType(Mat4x2).prototype.Mul2x1=function(m2){return new Mat4x2(this.$get()).Mul2x1(m2);};Mat4x2.prototype.Mul2=function(m2){var m1,m2;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]*m2[0]+m1[4]*m2[1],m1[1]*m2[0]+m1[5]*m2[1],m1[2]*m2[0]+m1[6]*m2[1],m1[3]*m2[0]+m1[7]*m2[1],m1[0]*m2[2]+m1[4]*m2[3],m1[1]*m2[2]+m1[5]*m2[3],m1[2]*m2[2]+m1[6]*m2[3],m1[3]*m2[2]+m1[7]*m2[3]]);};$ptrType(Mat4x2).prototype.Mul2=function(m2){return new Mat4x2(this.$get()).Mul2(m2);};Mat4x2.prototype.Mul2x3=function(m2){var m1,m2;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]*m2[0]+m1[4]*m2[1],m1[1]*m2[0]+m1[5]*m2[1],m1[2]*m2[0]+m1[6]*m2[1],m1[3]*m2[0]+m1[7]*m2[1],m1[0]*m2[2]+m1[4]*m2[3],m1[1]*m2[2]+m1[5]*m2[3],m1[2]*m2[2]+m1[6]*m2[3],m1[3]*m2[2]+m1[7]*m2[3],m1[0]*m2[4]+m1[4]*m2[5],m1[1]*m2[4]+m1[5]*m2[5],m1[2]*m2[4]+m1[6]*m2[5],m1[3]*m2[4]+m1[7]*m2[5]]);};$ptrType(Mat4x2).prototype.Mul2x3=function(m2){return new Mat4x2(this.$get()).Mul2x3(m2);};Mat4x2.prototype.Mul2x4=function(m2){var m1,m2;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]*m2[0]+m1[4]*m2[1],m1[1]*m2[0]+m1[5]*m2[1],m1[2]*m2[0]+m1[6]*m2[1],m1[3]*m2[0]+m1[7]*m2[1],m1[0]*m2[2]+m1[4]*m2[3],m1[1]*m2[2]+m1[5]*m2[3],m1[2]*m2[2]+m1[6]*m2[3],m1[3]*m2[2]+m1[7]*m2[3],m1[0]*m2[4]+m1[4]*m2[5],m1[1]*m2[4]+m1[5]*m2[5],m1[2]*m2[4]+m1[6]*m2[5],m1[3]*m2[4]+m1[7]*m2[5],m1[0]*m2[6]+m1[4]*m2[7],m1[1]*m2[6]+m1[5]*m2[7],m1[2]*m2[6]+m1[6]*m2[7],m1[3]*m2[6]+m1[7]*m2[7]]);};$ptrType(Mat4x2).prototype.Mul2x4=function(m2){return new Mat4x2(this.$get()).Mul2x4(m2);};Mat4x2.prototype.Transpose=function(){var m1;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0],m1[4],m1[1],m1[5],m1[2],m1[6],m1[3],m1[7]]);};$ptrType(Mat4x2).prototype.Transpose=function(){return new Mat4x2(this.$get()).Transpose();};Mat4x2.prototype.ApproxEqual=function(m2){var _i,_ref,i,m1,m2;m1=this.$val;_ref=m1;_i=0;while(true){if(!(_i<8)){break;}i=_i;if(!FloatEqual(i<0||i>=m1.length?($throwRuntimeError("index out of range"),undefined):m1[i],i<0||i>=m2.length?($throwRuntimeError("index out of range"),undefined):m2[i])){return false;}_i++;}return true;};$ptrType(Mat4x2).prototype.ApproxEqual=function(m2){return new Mat4x2(this.$get()).ApproxEqual(m2);};Mat4x2.prototype.ApproxEqualThreshold=function(m2,threshold){var _i,_ref,i,m1,m2,threshold;m1=this.$val;_ref=m1;_i=0;while(true){if(!(_i<8)){break;}i=_i;if(!FloatEqualThreshold(i<0||i>=m1.length?($throwRuntimeError("index out of range"),undefined):m1[i],i<0||i>=m2.length?($throwRuntimeError("index out of range"),undefined):m2[i],threshold)){return false;}_i++;}return true;};$ptrType(Mat4x2).prototype.ApproxEqualThreshold=function(m2,threshold){return new Mat4x2(this.$get()).ApproxEqualThreshold(m2,threshold);};Mat4x2.prototype.ApproxFuncEqual=function(m2,eq){var _i,_r,_ref,eq,i,m1,m2,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_i=$f._i;_r=$f._r;_ref=$f._ref;eq=$f.eq;i=$f.i;m1=$f.m1;m2=$f.m2;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:m1=this.$val;_ref=m1;_i=0;/* while (true) { */case 1:/* if (!(_i < 8)) { break; } */if(!(_i<8)){$s=2;continue;}i=_i;_r=eq(i<0||i>=m1.length?($throwRuntimeError("index out of range"),undefined):m1[i],i<0||i>=m2.length?($throwRuntimeError("index out of range"),undefined):m2[i]);/* */$s=5;case 5:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}/* */if(!_r){$s=3;continue;}/* */$s=4;continue;/* if (!_r) { */case 3:$s=-1;return false;/* } */case 4:_i++;/* } */$s=1;continue;case 2:$s=-1;return true;/* */}return;}if($f===undefined){$f={$blk:Mat4x2.prototype.ApproxFuncEqual};}$f._i=_i;$f._r=_r;$f._ref=_ref;$f.eq=eq;$f.i=i;$f.m1=m1;$f.m2=m2;$f.$s=$s;$f.$r=$r;return $f;};$ptrType(Mat4x2).prototype.ApproxFuncEqual=function(m2,eq){return new Mat4x2(this.$get()).ApproxFuncEqual(m2,eq);};Mat4x2.prototype.At=function(row,col){var col,m,row,x;m=this.$val;return x=$imul(col,4)+row>>0,x<0||x>=m.length?($throwRuntimeError("index out of range"),undefined):m[x];};$ptrType(Mat4x2).prototype.At=function(row,col){return new Mat4x2(this.$get()).At(row,col);};Mat4x2.prototype.Set=function(row,col,value){var col,m,row,value,x;m=this.$val;x=$imul(col,4)+row>>0,m.nilCheck,x<0||x>=m.length?($throwRuntimeError("index out of range"),undefined):m[x]=value;};$ptrType(Mat4x2).prototype.Set=function(row,col,value){return new Mat4x2(this.$get()).Set(row,col,value);};Mat4x2.prototype.Index=function(row,col){var col,m,row;m=this.$val;return $imul(col,4)+row>>0;};$ptrType(Mat4x2).prototype.Index=function(row,col){return new Mat4x2(this.$get()).Index(row,col);};Mat4x2.prototype.Row=function(row){var m,row,x,x$1;m=this.$val;return $toNativeArray($kindFloat64,[(x=row+0>>0,x<0||x>=m.length?($throwRuntimeError("index out of range"),undefined):m[x]),(x$1=row+4>>0,x$1<0||x$1>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$1])]);};$ptrType(Mat4x2).prototype.Row=function(row){return new Mat4x2(this.$get()).Row(row);};Mat4x2.prototype.Rows=function(){var _tmp,_tmp$1,_tmp$2,_tmp$3,m,row0,row1,row2,row3;row0=arrayType$1.zero();row1=arrayType$1.zero();row2=arrayType$1.zero();row3=arrayType$1.zero();m=this.$val;_tmp=$clone(new Mat4x2($clone(m,Mat4x2)).Row(0),Vec2);_tmp$1=$clone(new Mat4x2($clone(m,Mat4x2)).Row(1),Vec2);_tmp$2=$clone(new Mat4x2($clone(m,Mat4x2)).Row(2),Vec2);_tmp$3=$clone(new Mat4x2($clone(m,Mat4x2)).Row(3),Vec2);Vec2.copy(row0,_tmp);Vec2.copy(row1,_tmp$1);Vec2.copy(row2,_tmp$2);Vec2.copy(row3,_tmp$3);return[row0,row1,row2,row3];};$ptrType(Mat4x2).prototype.Rows=function(){return new Mat4x2(this.$get()).Rows();};Mat4x2.prototype.Col=function(col){var col,m,x,x$1,x$2,x$3;m=this.$val;return $toNativeArray($kindFloat64,[(x=$imul(col,4)+0>>0,x<0||x>=m.length?($throwRuntimeError("index out of range"),undefined):m[x]),(x$1=$imul(col,4)+1>>0,x$1<0||x$1>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$1]),(x$2=$imul(col,4)+2>>0,x$2<0||x$2>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$2]),(x$3=$imul(col,4)+3>>0,x$3<0||x$3>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$3])]);};$ptrType(Mat4x2).prototype.Col=function(col){return new Mat4x2(this.$get()).Col(col);};Mat4x2.prototype.Cols=function(){var _tmp,_tmp$1,col0,col1,m;col0=arrayType.zero();col1=arrayType.zero();m=this.$val;_tmp=$clone(new Mat4x2($clone(m,Mat4x2)).Col(0),Vec4);_tmp$1=$clone(new Mat4x2($clone(m,Mat4x2)).Col(1),Vec4);Vec4.copy(col0,_tmp);Vec4.copy(col1,_tmp$1);return[col0,col1];};$ptrType(Mat4x2).prototype.Cols=function(){return new Mat4x2(this.$get()).Cols();};Mat4x2.prototype.Abs=function(){var m;m=this.$val;return $toNativeArray($kindFloat64,[Abs(m[0]),Abs(m[1]),Abs(m[2]),Abs(m[3]),Abs(m[4]),Abs(m[5]),Abs(m[6]),Abs(m[7])]);};$ptrType(Mat4x2).prototype.Abs=function(){return new Mat4x2(this.$get()).Abs();};Mat4x2.prototype.String=function(){var _i,_r,_r$1,_r$2,_ref,buf,col,i,m,w,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_i=$f._i;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_ref=$f._ref;buf=$f.buf;col=$f.col;i=$f.i;m=$f.m;w=$f.w;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:m=this.$val;buf=new bytes.Buffer.ptr(sliceType$2.nil,0,0);w=tabwriter.NewWriter(buf,4,4,1,32,4);i=0;/* while (true) { */case 1:/* if (!(i < 4)) { break; } */if(!(i<4)){$s=2;continue;}_ref=new Mat4x2($clone(m,Mat4x2)).Row(i);_i=0;/* while (true) { */case 3:/* if (!(_i < 2)) { break; } */if(!(_i<2)){$s=4;continue;}col=_i<0||_i>=_ref.length?($throwRuntimeError("index out of range"),undefined):_ref[_i];_r=fmt.Fprintf(w,"%f\t",new sliceType$3([new $Float64(col)]));/* */$s=5;case 5:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_r;_i++;/* } */$s=3;continue;case 4:_r$1=fmt.Fprintln(w,new sliceType$3([new $String("")]));/* */$s=6;case 6:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_r$1;i=i+1>>0;/* } */$s=1;continue;case 2:_r$2=w.Flush();/* */$s=7;case 7:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_r$2;$s=-1;return buf.String();/* */}return;}if($f===undefined){$f={$blk:Mat4x2.prototype.String};}$f._i=_i;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._ref=_ref;$f.buf=buf;$f.col=col;$f.i=i;$f.m=m;$f.w=w;$f.$s=$s;$f.$r=$r;return $f;};$ptrType(Mat4x2).prototype.String=function(){return new Mat4x2(this.$get()).String();};Mat4x3.prototype.SetCol=function(col,v){var _tmp,_tmp$1,_tmp$2,_tmp$3,col,m,v,x,x$1,x$2,x$3;m=this.$val;_tmp=v[0];_tmp$1=v[1];_tmp$2=v[2];_tmp$3=v[3];x=$imul(col,4)+0>>0,m.nilCheck,x<0||x>=m.length?($throwRuntimeError("index out of range"),undefined):m[x]=_tmp;x$1=$imul(col,4)+1>>0,m.nilCheck,x$1<0||x$1>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$1]=_tmp$1;x$2=$imul(col,4)+2>>0,m.nilCheck,x$2<0||x$2>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$2]=_tmp$2;x$3=$imul(col,4)+3>>0,m.nilCheck,x$3<0||x$3>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$3]=_tmp$3;};$ptrType(Mat4x3).prototype.SetCol=function(col,v){return new Mat4x3(this.$get()).SetCol(col,v);};Mat4x3.prototype.SetRow=function(row,v){var _tmp,_tmp$1,_tmp$2,m,row,v,x,x$1,x$2;m=this.$val;_tmp=v[0];_tmp$1=v[1];_tmp$2=v[2];x=row+0>>0,m.nilCheck,x<0||x>=m.length?($throwRuntimeError("index out of range"),undefined):m[x]=_tmp;x$1=row+4>>0,m.nilCheck,x$1<0||x$1>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$1]=_tmp$1;x$2=row+8>>0,m.nilCheck,x$2<0||x$2>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$2]=_tmp$2;};$ptrType(Mat4x3).prototype.SetRow=function(row,v){return new Mat4x3(this.$get()).SetRow(row,v);};Mat4x3.prototype.Add=function(m2){var m1,m2;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]+m2[0],m1[1]+m2[1],m1[2]+m2[2],m1[3]+m2[3],m1[4]+m2[4],m1[5]+m2[5],m1[6]+m2[6],m1[7]+m2[7],m1[8]+m2[8],m1[9]+m2[9],m1[10]+m2[10],m1[11]+m2[11]]);};$ptrType(Mat4x3).prototype.Add=function(m2){return new Mat4x3(this.$get()).Add(m2);};Mat4x3.prototype.Sub=function(m2){var m1,m2;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]-m2[0],m1[1]-m2[1],m1[2]-m2[2],m1[3]-m2[3],m1[4]-m2[4],m1[5]-m2[5],m1[6]-m2[6],m1[7]-m2[7],m1[8]-m2[8],m1[9]-m2[9],m1[10]-m2[10],m1[11]-m2[11]]);};$ptrType(Mat4x3).prototype.Sub=function(m2){return new Mat4x3(this.$get()).Sub(m2);};Mat4x3.prototype.Mul=function(c){var c,m1;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]*c,m1[1]*c,m1[2]*c,m1[3]*c,m1[4]*c,m1[5]*c,m1[6]*c,m1[7]*c,m1[8]*c,m1[9]*c,m1[10]*c,m1[11]*c]);};$ptrType(Mat4x3).prototype.Mul=function(c){return new Mat4x3(this.$get()).Mul(c);};Mat4x3.prototype.Mul3x1=function(m2){var m1,m2;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]*m2[0]+m1[4]*m2[1]+m1[8]*m2[2],m1[1]*m2[0]+m1[5]*m2[1]+m1[9]*m2[2],m1[2]*m2[0]+m1[6]*m2[1]+m1[10]*m2[2],m1[3]*m2[0]+m1[7]*m2[1]+m1[11]*m2[2]]);};$ptrType(Mat4x3).prototype.Mul3x1=function(m2){return new Mat4x3(this.$get()).Mul3x1(m2);};Mat4x3.prototype.Mul3x2=function(m2){var m1,m2;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]*m2[0]+m1[4]*m2[1]+m1[8]*m2[2],m1[1]*m2[0]+m1[5]*m2[1]+m1[9]*m2[2],m1[2]*m2[0]+m1[6]*m2[1]+m1[10]*m2[2],m1[3]*m2[0]+m1[7]*m2[1]+m1[11]*m2[2],m1[0]*m2[3]+m1[4]*m2[4]+m1[8]*m2[5],m1[1]*m2[3]+m1[5]*m2[4]+m1[9]*m2[5],m1[2]*m2[3]+m1[6]*m2[4]+m1[10]*m2[5],m1[3]*m2[3]+m1[7]*m2[4]+m1[11]*m2[5]]);};$ptrType(Mat4x3).prototype.Mul3x2=function(m2){return new Mat4x3(this.$get()).Mul3x2(m2);};Mat4x3.prototype.Mul3=function(m2){var m1,m2;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]*m2[0]+m1[4]*m2[1]+m1[8]*m2[2],m1[1]*m2[0]+m1[5]*m2[1]+m1[9]*m2[2],m1[2]*m2[0]+m1[6]*m2[1]+m1[10]*m2[2],m1[3]*m2[0]+m1[7]*m2[1]+m1[11]*m2[2],m1[0]*m2[3]+m1[4]*m2[4]+m1[8]*m2[5],m1[1]*m2[3]+m1[5]*m2[4]+m1[9]*m2[5],m1[2]*m2[3]+m1[6]*m2[4]+m1[10]*m2[5],m1[3]*m2[3]+m1[7]*m2[4]+m1[11]*m2[5],m1[0]*m2[6]+m1[4]*m2[7]+m1[8]*m2[8],m1[1]*m2[6]+m1[5]*m2[7]+m1[9]*m2[8],m1[2]*m2[6]+m1[6]*m2[7]+m1[10]*m2[8],m1[3]*m2[6]+m1[7]*m2[7]+m1[11]*m2[8]]);};$ptrType(Mat4x3).prototype.Mul3=function(m2){return new Mat4x3(this.$get()).Mul3(m2);};Mat4x3.prototype.Mul3x4=function(m2){var m1,m2;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]*m2[0]+m1[4]*m2[1]+m1[8]*m2[2],m1[1]*m2[0]+m1[5]*m2[1]+m1[9]*m2[2],m1[2]*m2[0]+m1[6]*m2[1]+m1[10]*m2[2],m1[3]*m2[0]+m1[7]*m2[1]+m1[11]*m2[2],m1[0]*m2[3]+m1[4]*m2[4]+m1[8]*m2[5],m1[1]*m2[3]+m1[5]*m2[4]+m1[9]*m2[5],m1[2]*m2[3]+m1[6]*m2[4]+m1[10]*m2[5],m1[3]*m2[3]+m1[7]*m2[4]+m1[11]*m2[5],m1[0]*m2[6]+m1[4]*m2[7]+m1[8]*m2[8],m1[1]*m2[6]+m1[5]*m2[7]+m1[9]*m2[8],m1[2]*m2[6]+m1[6]*m2[7]+m1[10]*m2[8],m1[3]*m2[6]+m1[7]*m2[7]+m1[11]*m2[8],m1[0]*m2[9]+m1[4]*m2[10]+m1[8]*m2[11],m1[1]*m2[9]+m1[5]*m2[10]+m1[9]*m2[11],m1[2]*m2[9]+m1[6]*m2[10]+m1[10]*m2[11],m1[3]*m2[9]+m1[7]*m2[10]+m1[11]*m2[11]]);};$ptrType(Mat4x3).prototype.Mul3x4=function(m2){return new Mat4x3(this.$get()).Mul3x4(m2);};Mat4x3.prototype.Transpose=function(){var m1;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0],m1[4],m1[8],m1[1],m1[5],m1[9],m1[2],m1[6],m1[10],m1[3],m1[7],m1[11]]);};$ptrType(Mat4x3).prototype.Transpose=function(){return new Mat4x3(this.$get()).Transpose();};Mat4x3.prototype.ApproxEqual=function(m2){var _i,_ref,i,m1,m2;m1=this.$val;_ref=m1;_i=0;while(true){if(!(_i<12)){break;}i=_i;if(!FloatEqual(i<0||i>=m1.length?($throwRuntimeError("index out of range"),undefined):m1[i],i<0||i>=m2.length?($throwRuntimeError("index out of range"),undefined):m2[i])){return false;}_i++;}return true;};$ptrType(Mat4x3).prototype.ApproxEqual=function(m2){return new Mat4x3(this.$get()).ApproxEqual(m2);};Mat4x3.prototype.ApproxEqualThreshold=function(m2,threshold){var _i,_ref,i,m1,m2,threshold;m1=this.$val;_ref=m1;_i=0;while(true){if(!(_i<12)){break;}i=_i;if(!FloatEqualThreshold(i<0||i>=m1.length?($throwRuntimeError("index out of range"),undefined):m1[i],i<0||i>=m2.length?($throwRuntimeError("index out of range"),undefined):m2[i],threshold)){return false;}_i++;}return true;};$ptrType(Mat4x3).prototype.ApproxEqualThreshold=function(m2,threshold){return new Mat4x3(this.$get()).ApproxEqualThreshold(m2,threshold);};Mat4x3.prototype.ApproxFuncEqual=function(m2,eq){var _i,_r,_ref,eq,i,m1,m2,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_i=$f._i;_r=$f._r;_ref=$f._ref;eq=$f.eq;i=$f.i;m1=$f.m1;m2=$f.m2;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:m1=this.$val;_ref=m1;_i=0;/* while (true) { */case 1:/* if (!(_i < 12)) { break; } */if(!(_i<12)){$s=2;continue;}i=_i;_r=eq(i<0||i>=m1.length?($throwRuntimeError("index out of range"),undefined):m1[i],i<0||i>=m2.length?($throwRuntimeError("index out of range"),undefined):m2[i]);/* */$s=5;case 5:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}/* */if(!_r){$s=3;continue;}/* */$s=4;continue;/* if (!_r) { */case 3:$s=-1;return false;/* } */case 4:_i++;/* } */$s=1;continue;case 2:$s=-1;return true;/* */}return;}if($f===undefined){$f={$blk:Mat4x3.prototype.ApproxFuncEqual};}$f._i=_i;$f._r=_r;$f._ref=_ref;$f.eq=eq;$f.i=i;$f.m1=m1;$f.m2=m2;$f.$s=$s;$f.$r=$r;return $f;};$ptrType(Mat4x3).prototype.ApproxFuncEqual=function(m2,eq){return new Mat4x3(this.$get()).ApproxFuncEqual(m2,eq);};Mat4x3.prototype.At=function(row,col){var col,m,row,x;m=this.$val;return x=$imul(col,4)+row>>0,x<0||x>=m.length?($throwRuntimeError("index out of range"),undefined):m[x];};$ptrType(Mat4x3).prototype.At=function(row,col){return new Mat4x3(this.$get()).At(row,col);};Mat4x3.prototype.Set=function(row,col,value){var col,m,row,value,x;m=this.$val;x=$imul(col,4)+row>>0,m.nilCheck,x<0||x>=m.length?($throwRuntimeError("index out of range"),undefined):m[x]=value;};$ptrType(Mat4x3).prototype.Set=function(row,col,value){return new Mat4x3(this.$get()).Set(row,col,value);};Mat4x3.prototype.Index=function(row,col){var col,m,row;m=this.$val;return $imul(col,4)+row>>0;};$ptrType(Mat4x3).prototype.Index=function(row,col){return new Mat4x3(this.$get()).Index(row,col);};Mat4x3.prototype.Row=function(row){var m,row,x,x$1,x$2;m=this.$val;return $toNativeArray($kindFloat64,[(x=row+0>>0,x<0||x>=m.length?($throwRuntimeError("index out of range"),undefined):m[x]),(x$1=row+4>>0,x$1<0||x$1>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$1]),(x$2=row+8>>0,x$2<0||x$2>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$2])]);};$ptrType(Mat4x3).prototype.Row=function(row){return new Mat4x3(this.$get()).Row(row);};Mat4x3.prototype.Rows=function(){var _tmp,_tmp$1,_tmp$2,_tmp$3,m,row0,row1,row2,row3;row0=arrayType$2.zero();row1=arrayType$2.zero();row2=arrayType$2.zero();row3=arrayType$2.zero();m=this.$val;_tmp=$clone(new Mat4x3($clone(m,Mat4x3)).Row(0),Vec3);_tmp$1=$clone(new Mat4x3($clone(m,Mat4x3)).Row(1),Vec3);_tmp$2=$clone(new Mat4x3($clone(m,Mat4x3)).Row(2),Vec3);_tmp$3=$clone(new Mat4x3($clone(m,Mat4x3)).Row(3),Vec3);Vec3.copy(row0,_tmp);Vec3.copy(row1,_tmp$1);Vec3.copy(row2,_tmp$2);Vec3.copy(row3,_tmp$3);return[row0,row1,row2,row3];};$ptrType(Mat4x3).prototype.Rows=function(){return new Mat4x3(this.$get()).Rows();};Mat4x3.prototype.Col=function(col){var col,m,x,x$1,x$2,x$3;m=this.$val;return $toNativeArray($kindFloat64,[(x=$imul(col,4)+0>>0,x<0||x>=m.length?($throwRuntimeError("index out of range"),undefined):m[x]),(x$1=$imul(col,4)+1>>0,x$1<0||x$1>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$1]),(x$2=$imul(col,4)+2>>0,x$2<0||x$2>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$2]),(x$3=$imul(col,4)+3>>0,x$3<0||x$3>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$3])]);};$ptrType(Mat4x3).prototype.Col=function(col){return new Mat4x3(this.$get()).Col(col);};Mat4x3.prototype.Cols=function(){var _tmp,_tmp$1,_tmp$2,col0,col1,col2,m;col0=arrayType.zero();col1=arrayType.zero();col2=arrayType.zero();m=this.$val;_tmp=$clone(new Mat4x3($clone(m,Mat4x3)).Col(0),Vec4);_tmp$1=$clone(new Mat4x3($clone(m,Mat4x3)).Col(1),Vec4);_tmp$2=$clone(new Mat4x3($clone(m,Mat4x3)).Col(2),Vec4);Vec4.copy(col0,_tmp);Vec4.copy(col1,_tmp$1);Vec4.copy(col2,_tmp$2);return[col0,col1,col2];};$ptrType(Mat4x3).prototype.Cols=function(){return new Mat4x3(this.$get()).Cols();};Mat4x3.prototype.Abs=function(){var m;m=this.$val;return $toNativeArray($kindFloat64,[Abs(m[0]),Abs(m[1]),Abs(m[2]),Abs(m[3]),Abs(m[4]),Abs(m[5]),Abs(m[6]),Abs(m[7]),Abs(m[8]),Abs(m[9]),Abs(m[10]),Abs(m[11])]);};$ptrType(Mat4x3).prototype.Abs=function(){return new Mat4x3(this.$get()).Abs();};Mat4x3.prototype.String=function(){var _i,_r,_r$1,_r$2,_ref,buf,col,i,m,w,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_i=$f._i;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_ref=$f._ref;buf=$f.buf;col=$f.col;i=$f.i;m=$f.m;w=$f.w;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:m=this.$val;buf=new bytes.Buffer.ptr(sliceType$2.nil,0,0);w=tabwriter.NewWriter(buf,4,4,1,32,4);i=0;/* while (true) { */case 1:/* if (!(i < 4)) { break; } */if(!(i<4)){$s=2;continue;}_ref=new Mat4x3($clone(m,Mat4x3)).Row(i);_i=0;/* while (true) { */case 3:/* if (!(_i < 3)) { break; } */if(!(_i<3)){$s=4;continue;}col=_i<0||_i>=_ref.length?($throwRuntimeError("index out of range"),undefined):_ref[_i];_r=fmt.Fprintf(w,"%f\t",new sliceType$3([new $Float64(col)]));/* */$s=5;case 5:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_r;_i++;/* } */$s=3;continue;case 4:_r$1=fmt.Fprintln(w,new sliceType$3([new $String("")]));/* */$s=6;case 6:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_r$1;i=i+1>>0;/* } */$s=1;continue;case 2:_r$2=w.Flush();/* */$s=7;case 7:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_r$2;$s=-1;return buf.String();/* */}return;}if($f===undefined){$f={$blk:Mat4x3.prototype.String};}$f._i=_i;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._ref=_ref;$f.buf=buf;$f.col=col;$f.i=i;$f.m=m;$f.w=w;$f.$s=$s;$f.$r=$r;return $f;};$ptrType(Mat4x3).prototype.String=function(){return new Mat4x3(this.$get()).String();};Mat4.prototype.SetCol=function(col,v){var _tmp,_tmp$1,_tmp$2,_tmp$3,col,m,v,x,x$1,x$2,x$3;m=this.$val;_tmp=v[0];_tmp$1=v[1];_tmp$2=v[2];_tmp$3=v[3];x=$imul(col,4)+0>>0,m.nilCheck,x<0||x>=m.length?($throwRuntimeError("index out of range"),undefined):m[x]=_tmp;x$1=$imul(col,4)+1>>0,m.nilCheck,x$1<0||x$1>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$1]=_tmp$1;x$2=$imul(col,4)+2>>0,m.nilCheck,x$2<0||x$2>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$2]=_tmp$2;x$3=$imul(col,4)+3>>0,m.nilCheck,x$3<0||x$3>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$3]=_tmp$3;};$ptrType(Mat4).prototype.SetCol=function(col,v){return new Mat4(this.$get()).SetCol(col,v);};Mat4.prototype.SetRow=function(row,v){var _tmp,_tmp$1,_tmp$2,_tmp$3,m,row,v,x,x$1,x$2,x$3;m=this.$val;_tmp=v[0];_tmp$1=v[1];_tmp$2=v[2];_tmp$3=v[3];x=row+0>>0,m.nilCheck,x<0||x>=m.length?($throwRuntimeError("index out of range"),undefined):m[x]=_tmp;x$1=row+4>>0,m.nilCheck,x$1<0||x$1>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$1]=_tmp$1;x$2=row+8>>0,m.nilCheck,x$2<0||x$2>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$2]=_tmp$2;x$3=row+12>>0,m.nilCheck,x$3<0||x$3>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$3]=_tmp$3;};$ptrType(Mat4).prototype.SetRow=function(row,v){return new Mat4(this.$get()).SetRow(row,v);};Mat4.prototype.Diag=function(){var m;m=this.$val;return $toNativeArray($kindFloat64,[m[0],m[5],m[10],m[15]]);};$ptrType(Mat4).prototype.Diag=function(){return new Mat4(this.$get()).Diag();};Mat4FromCols=function(col0,col1,col2,col3){var col0,col1,col2,col3;return $toNativeArray($kindFloat64,[col0[0],col0[1],col0[2],col0[3],col1[0],col1[1],col1[2],col1[3],col2[0],col2[1],col2[2],col2[3],col3[0],col3[1],col3[2],col3[3]]);};$pkg.Mat4FromCols=Mat4FromCols;Mat4.prototype.Add=function(m2){var m1,m2;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]+m2[0],m1[1]+m2[1],m1[2]+m2[2],m1[3]+m2[3],m1[4]+m2[4],m1[5]+m2[5],m1[6]+m2[6],m1[7]+m2[7],m1[8]+m2[8],m1[9]+m2[9],m1[10]+m2[10],m1[11]+m2[11],m1[12]+m2[12],m1[13]+m2[13],m1[14]+m2[14],m1[15]+m2[15]]);};$ptrType(Mat4).prototype.Add=function(m2){return new Mat4(this.$get()).Add(m2);};Mat4.prototype.Sub=function(m2){var m1,m2;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]-m2[0],m1[1]-m2[1],m1[2]-m2[2],m1[3]-m2[3],m1[4]-m2[4],m1[5]-m2[5],m1[6]-m2[6],m1[7]-m2[7],m1[8]-m2[8],m1[9]-m2[9],m1[10]-m2[10],m1[11]-m2[11],m1[12]-m2[12],m1[13]-m2[13],m1[14]-m2[14],m1[15]-m2[15]]);};$ptrType(Mat4).prototype.Sub=function(m2){return new Mat4(this.$get()).Sub(m2);};Mat4.prototype.Mul=function(c){var c,m1;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]*c,m1[1]*c,m1[2]*c,m1[3]*c,m1[4]*c,m1[5]*c,m1[6]*c,m1[7]*c,m1[8]*c,m1[9]*c,m1[10]*c,m1[11]*c,m1[12]*c,m1[13]*c,m1[14]*c,m1[15]*c]);};$ptrType(Mat4).prototype.Mul=function(c){return new Mat4(this.$get()).Mul(c);};Mat4.prototype.Mul4x1=function(m2){var m1,m2;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]*m2[0]+m1[4]*m2[1]+m1[8]*m2[2]+m1[12]*m2[3],m1[1]*m2[0]+m1[5]*m2[1]+m1[9]*m2[2]+m1[13]*m2[3],m1[2]*m2[0]+m1[6]*m2[1]+m1[10]*m2[2]+m1[14]*m2[3],m1[3]*m2[0]+m1[7]*m2[1]+m1[11]*m2[2]+m1[15]*m2[3]]);};$ptrType(Mat4).prototype.Mul4x1=function(m2){return new Mat4(this.$get()).Mul4x1(m2);};Mat4.prototype.Mul4x2=function(m2){var m1,m2;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]*m2[0]+m1[4]*m2[1]+m1[8]*m2[2]+m1[12]*m2[3],m1[1]*m2[0]+m1[5]*m2[1]+m1[9]*m2[2]+m1[13]*m2[3],m1[2]*m2[0]+m1[6]*m2[1]+m1[10]*m2[2]+m1[14]*m2[3],m1[3]*m2[0]+m1[7]*m2[1]+m1[11]*m2[2]+m1[15]*m2[3],m1[0]*m2[4]+m1[4]*m2[5]+m1[8]*m2[6]+m1[12]*m2[7],m1[1]*m2[4]+m1[5]*m2[5]+m1[9]*m2[6]+m1[13]*m2[7],m1[2]*m2[4]+m1[6]*m2[5]+m1[10]*m2[6]+m1[14]*m2[7],m1[3]*m2[4]+m1[7]*m2[5]+m1[11]*m2[6]+m1[15]*m2[7]]);};$ptrType(Mat4).prototype.Mul4x2=function(m2){return new Mat4(this.$get()).Mul4x2(m2);};Mat4.prototype.Mul4x3=function(m2){var m1,m2;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]*m2[0]+m1[4]*m2[1]+m1[8]*m2[2]+m1[12]*m2[3],m1[1]*m2[0]+m1[5]*m2[1]+m1[9]*m2[2]+m1[13]*m2[3],m1[2]*m2[0]+m1[6]*m2[1]+m1[10]*m2[2]+m1[14]*m2[3],m1[3]*m2[0]+m1[7]*m2[1]+m1[11]*m2[2]+m1[15]*m2[3],m1[0]*m2[4]+m1[4]*m2[5]+m1[8]*m2[6]+m1[12]*m2[7],m1[1]*m2[4]+m1[5]*m2[5]+m1[9]*m2[6]+m1[13]*m2[7],m1[2]*m2[4]+m1[6]*m2[5]+m1[10]*m2[6]+m1[14]*m2[7],m1[3]*m2[4]+m1[7]*m2[5]+m1[11]*m2[6]+m1[15]*m2[7],m1[0]*m2[8]+m1[4]*m2[9]+m1[8]*m2[10]+m1[12]*m2[11],m1[1]*m2[8]+m1[5]*m2[9]+m1[9]*m2[10]+m1[13]*m2[11],m1[2]*m2[8]+m1[6]*m2[9]+m1[10]*m2[10]+m1[14]*m2[11],m1[3]*m2[8]+m1[7]*m2[9]+m1[11]*m2[10]+m1[15]*m2[11]]);};$ptrType(Mat4).prototype.Mul4x3=function(m2){return new Mat4(this.$get()).Mul4x3(m2);};Mat4.prototype.Mul4=function(m2){var m1,m2;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0]*m2[0]+m1[4]*m2[1]+m1[8]*m2[2]+m1[12]*m2[3],m1[1]*m2[0]+m1[5]*m2[1]+m1[9]*m2[2]+m1[13]*m2[3],m1[2]*m2[0]+m1[6]*m2[1]+m1[10]*m2[2]+m1[14]*m2[3],m1[3]*m2[0]+m1[7]*m2[1]+m1[11]*m2[2]+m1[15]*m2[3],m1[0]*m2[4]+m1[4]*m2[5]+m1[8]*m2[6]+m1[12]*m2[7],m1[1]*m2[4]+m1[5]*m2[5]+m1[9]*m2[6]+m1[13]*m2[7],m1[2]*m2[4]+m1[6]*m2[5]+m1[10]*m2[6]+m1[14]*m2[7],m1[3]*m2[4]+m1[7]*m2[5]+m1[11]*m2[6]+m1[15]*m2[7],m1[0]*m2[8]+m1[4]*m2[9]+m1[8]*m2[10]+m1[12]*m2[11],m1[1]*m2[8]+m1[5]*m2[9]+m1[9]*m2[10]+m1[13]*m2[11],m1[2]*m2[8]+m1[6]*m2[9]+m1[10]*m2[10]+m1[14]*m2[11],m1[3]*m2[8]+m1[7]*m2[9]+m1[11]*m2[10]+m1[15]*m2[11],m1[0]*m2[12]+m1[4]*m2[13]+m1[8]*m2[14]+m1[12]*m2[15],m1[1]*m2[12]+m1[5]*m2[13]+m1[9]*m2[14]+m1[13]*m2[15],m1[2]*m2[12]+m1[6]*m2[13]+m1[10]*m2[14]+m1[14]*m2[15],m1[3]*m2[12]+m1[7]*m2[13]+m1[11]*m2[14]+m1[15]*m2[15]]);};$ptrType(Mat4).prototype.Mul4=function(m2){return new Mat4(this.$get()).Mul4(m2);};Mat4.prototype.Transpose=function(){var m1;m1=this.$val;return $toNativeArray($kindFloat64,[m1[0],m1[4],m1[8],m1[12],m1[1],m1[5],m1[9],m1[13],m1[2],m1[6],m1[10],m1[14],m1[3],m1[7],m1[11],m1[15]]);};$ptrType(Mat4).prototype.Transpose=function(){return new Mat4(this.$get()).Transpose();};Mat4.prototype.Det=function(){var m;m=this.$val;return m[0]*m[5]*m[10]*m[15]-m[0]*m[5]*m[11]*m[14]-m[0]*m[6]*m[9]*m[15]+m[0]*m[6]*m[11]*m[13]+m[0]*m[7]*m[9]*m[14]-m[0]*m[7]*m[10]*m[13]-m[1]*m[4]*m[10]*m[15]+m[1]*m[4]*m[11]*m[14]+m[1]*m[6]*m[8]*m[15]-m[1]*m[6]*m[11]*m[12]-m[1]*m[7]*m[8]*m[14]+m[1]*m[7]*m[10]*m[12]+m[2]*m[4]*m[9]*m[15]-m[2]*m[4]*m[11]*m[13]-m[2]*m[5]*m[8]*m[15]+m[2]*m[5]*m[11]*m[12]+m[2]*m[7]*m[8]*m[13]-m[2]*m[7]*m[9]*m[12]-m[3]*m[4]*m[9]*m[14]+m[3]*m[4]*m[10]*m[13]+m[3]*m[5]*m[8]*m[14]-m[3]*m[5]*m[10]*m[12]-m[3]*m[6]*m[8]*m[13]+m[3]*m[6]*m[9]*m[12];};$ptrType(Mat4).prototype.Det=function(){return new Mat4(this.$get()).Det();};Mat4.prototype.Inv=function(){var det,m,retMat;m=this.$val;det=new Mat4($clone(m,Mat4)).Det();if(FloatEqual(det,0)){return arrayType$4.zero();}retMat=$toNativeArray($kindFloat64,[-m[7]*m[10]*m[13]+m[6]*m[11]*m[13]+m[7]*m[9]*m[14]-m[5]*m[11]*m[14]-m[6]*m[9]*m[15]+m[5]*m[10]*m[15],m[3]*m[10]*m[13]-m[2]*m[11]*m[13]-m[3]*m[9]*m[14]+m[1]*m[11]*m[14]+m[2]*m[9]*m[15]-m[1]*m[10]*m[15],-m[3]*m[6]*m[13]+m[2]*m[7]*m[13]+m[3]*m[5]*m[14]-m[1]*m[7]*m[14]-m[2]*m[5]*m[15]+m[1]*m[6]*m[15],m[3]*m[6]*m[9]-m[2]*m[7]*m[9]-m[3]*m[5]*m[10]+m[1]*m[7]*m[10]+m[2]*m[5]*m[11]-m[1]*m[6]*m[11],m[7]*m[10]*m[12]-m[6]*m[11]*m[12]-m[7]*m[8]*m[14]+m[4]*m[11]*m[14]+m[6]*m[8]*m[15]-m[4]*m[10]*m[15],-m[3]*m[10]*m[12]+m[2]*m[11]*m[12]+m[3]*m[8]*m[14]-m[0]*m[11]*m[14]-m[2]*m[8]*m[15]+m[0]*m[10]*m[15],m[3]*m[6]*m[12]-m[2]*m[7]*m[12]-m[3]*m[4]*m[14]+m[0]*m[7]*m[14]+m[2]*m[4]*m[15]-m[0]*m[6]*m[15],-m[3]*m[6]*m[8]+m[2]*m[7]*m[8]+m[3]*m[4]*m[10]-m[0]*m[7]*m[10]-m[2]*m[4]*m[11]+m[0]*m[6]*m[11],-m[7]*m[9]*m[12]+m[5]*m[11]*m[12]+m[7]*m[8]*m[13]-m[4]*m[11]*m[13]-m[5]*m[8]*m[15]+m[4]*m[9]*m[15],m[3]*m[9]*m[12]-m[1]*m[11]*m[12]-m[3]*m[8]*m[13]+m[0]*m[11]*m[13]+m[1]*m[8]*m[15]-m[0]*m[9]*m[15],-m[3]*m[5]*m[12]+m[1]*m[7]*m[12]+m[3]*m[4]*m[13]-m[0]*m[7]*m[13]-m[1]*m[4]*m[15]+m[0]*m[5]*m[15],m[3]*m[5]*m[8]-m[1]*m[7]*m[8]-m[3]*m[4]*m[9]+m[0]*m[7]*m[9]+m[1]*m[4]*m[11]-m[0]*m[5]*m[11],m[6]*m[9]*m[12]-m[5]*m[10]*m[12]-m[6]*m[8]*m[13]+m[4]*m[10]*m[13]+m[5]*m[8]*m[14]-m[4]*m[9]*m[14],-m[2]*m[9]*m[12]+m[1]*m[10]*m[12]+m[2]*m[8]*m[13]-m[0]*m[10]*m[13]-m[1]*m[8]*m[14]+m[0]*m[9]*m[14],m[2]*m[5]*m[12]-m[1]*m[6]*m[12]-m[2]*m[4]*m[13]+m[0]*m[6]*m[13]+m[1]*m[4]*m[14]-m[0]*m[5]*m[14],-m[2]*m[5]*m[8]+m[1]*m[6]*m[8]+m[2]*m[4]*m[9]-m[0]*m[6]*m[9]-m[1]*m[4]*m[10]+m[0]*m[5]*m[10]]);return new Mat4($clone(retMat,Mat4)).Mul(1/det);};$ptrType(Mat4).prototype.Inv=function(){return new Mat4(this.$get()).Inv();};Mat4.prototype.ApproxEqual=function(m2){var _i,_ref,i,m1,m2;m1=this.$val;_ref=m1;_i=0;while(true){if(!(_i<16)){break;}i=_i;if(!FloatEqual(i<0||i>=m1.length?($throwRuntimeError("index out of range"),undefined):m1[i],i<0||i>=m2.length?($throwRuntimeError("index out of range"),undefined):m2[i])){return false;}_i++;}return true;};$ptrType(Mat4).prototype.ApproxEqual=function(m2){return new Mat4(this.$get()).ApproxEqual(m2);};Mat4.prototype.ApproxEqualThreshold=function(m2,threshold){var _i,_ref,i,m1,m2,threshold;m1=this.$val;_ref=m1;_i=0;while(true){if(!(_i<16)){break;}i=_i;if(!FloatEqualThreshold(i<0||i>=m1.length?($throwRuntimeError("index out of range"),undefined):m1[i],i<0||i>=m2.length?($throwRuntimeError("index out of range"),undefined):m2[i],threshold)){return false;}_i++;}return true;};$ptrType(Mat4).prototype.ApproxEqualThreshold=function(m2,threshold){return new Mat4(this.$get()).ApproxEqualThreshold(m2,threshold);};Mat4.prototype.ApproxFuncEqual=function(m2,eq){var _i,_r,_ref,eq,i,m1,m2,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_i=$f._i;_r=$f._r;_ref=$f._ref;eq=$f.eq;i=$f.i;m1=$f.m1;m2=$f.m2;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:m1=this.$val;_ref=m1;_i=0;/* while (true) { */case 1:/* if (!(_i < 16)) { break; } */if(!(_i<16)){$s=2;continue;}i=_i;_r=eq(i<0||i>=m1.length?($throwRuntimeError("index out of range"),undefined):m1[i],i<0||i>=m2.length?($throwRuntimeError("index out of range"),undefined):m2[i]);/* */$s=5;case 5:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}/* */if(!_r){$s=3;continue;}/* */$s=4;continue;/* if (!_r) { */case 3:$s=-1;return false;/* } */case 4:_i++;/* } */$s=1;continue;case 2:$s=-1;return true;/* */}return;}if($f===undefined){$f={$blk:Mat4.prototype.ApproxFuncEqual};}$f._i=_i;$f._r=_r;$f._ref=_ref;$f.eq=eq;$f.i=i;$f.m1=m1;$f.m2=m2;$f.$s=$s;$f.$r=$r;return $f;};$ptrType(Mat4).prototype.ApproxFuncEqual=function(m2,eq){return new Mat4(this.$get()).ApproxFuncEqual(m2,eq);};Mat4.prototype.At=function(row,col){var col,m,row,x;m=this.$val;return x=$imul(col,4)+row>>0,x<0||x>=m.length?($throwRuntimeError("index out of range"),undefined):m[x];};$ptrType(Mat4).prototype.At=function(row,col){return new Mat4(this.$get()).At(row,col);};Mat4.prototype.Set=function(row,col,value){var col,m,row,value,x;m=this.$val;x=$imul(col,4)+row>>0,m.nilCheck,x<0||x>=m.length?($throwRuntimeError("index out of range"),undefined):m[x]=value;};$ptrType(Mat4).prototype.Set=function(row,col,value){return new Mat4(this.$get()).Set(row,col,value);};Mat4.prototype.Index=function(row,col){var col,m,row;m=this.$val;return $imul(col,4)+row>>0;};$ptrType(Mat4).prototype.Index=function(row,col){return new Mat4(this.$get()).Index(row,col);};Mat4.prototype.Row=function(row){var m,row,x,x$1,x$2,x$3;m=this.$val;return $toNativeArray($kindFloat64,[(x=row+0>>0,x<0||x>=m.length?($throwRuntimeError("index out of range"),undefined):m[x]),(x$1=row+4>>0,x$1<0||x$1>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$1]),(x$2=row+8>>0,x$2<0||x$2>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$2]),(x$3=row+12>>0,x$3<0||x$3>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$3])]);};$ptrType(Mat4).prototype.Row=function(row){return new Mat4(this.$get()).Row(row);};Mat4.prototype.Rows=function(){var _tmp,_tmp$1,_tmp$2,_tmp$3,m,row0,row1,row2,row3;row0=arrayType.zero();row1=arrayType.zero();row2=arrayType.zero();row3=arrayType.zero();m=this.$val;_tmp=$clone(new Mat4($clone(m,Mat4)).Row(0),Vec4);_tmp$1=$clone(new Mat4($clone(m,Mat4)).Row(1),Vec4);_tmp$2=$clone(new Mat4($clone(m,Mat4)).Row(2),Vec4);_tmp$3=$clone(new Mat4($clone(m,Mat4)).Row(3),Vec4);Vec4.copy(row0,_tmp);Vec4.copy(row1,_tmp$1);Vec4.copy(row2,_tmp$2);Vec4.copy(row3,_tmp$3);return[row0,row1,row2,row3];};$ptrType(Mat4).prototype.Rows=function(){return new Mat4(this.$get()).Rows();};Mat4.prototype.Col=function(col){var col,m,x,x$1,x$2,x$3;m=this.$val;return $toNativeArray($kindFloat64,[(x=$imul(col,4)+0>>0,x<0||x>=m.length?($throwRuntimeError("index out of range"),undefined):m[x]),(x$1=$imul(col,4)+1>>0,x$1<0||x$1>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$1]),(x$2=$imul(col,4)+2>>0,x$2<0||x$2>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$2]),(x$3=$imul(col,4)+3>>0,x$3<0||x$3>=m.length?($throwRuntimeError("index out of range"),undefined):m[x$3])]);};$ptrType(Mat4).prototype.Col=function(col){return new Mat4(this.$get()).Col(col);};Mat4.prototype.Cols=function(){var _tmp,_tmp$1,_tmp$2,_tmp$3,col0,col1,col2,col3,m;col0=arrayType.zero();col1=arrayType.zero();col2=arrayType.zero();col3=arrayType.zero();m=this.$val;_tmp=$clone(new Mat4($clone(m,Mat4)).Col(0),Vec4);_tmp$1=$clone(new Mat4($clone(m,Mat4)).Col(1),Vec4);_tmp$2=$clone(new Mat4($clone(m,Mat4)).Col(2),Vec4);_tmp$3=$clone(new Mat4($clone(m,Mat4)).Col(3),Vec4);Vec4.copy(col0,_tmp);Vec4.copy(col1,_tmp$1);Vec4.copy(col2,_tmp$2);Vec4.copy(col3,_tmp$3);return[col0,col1,col2,col3];};$ptrType(Mat4).prototype.Cols=function(){return new Mat4(this.$get()).Cols();};Mat4.prototype.Trace=function(){var m;m=this.$val;return m[0]+m[5]+m[10]+m[15];};$ptrType(Mat4).prototype.Trace=function(){return new Mat4(this.$get()).Trace();};Mat4.prototype.Abs=function(){var m;m=this.$val;return $toNativeArray($kindFloat64,[Abs(m[0]),Abs(m[1]),Abs(m[2]),Abs(m[3]),Abs(m[4]),Abs(m[5]),Abs(m[6]),Abs(m[7]),Abs(m[8]),Abs(m[9]),Abs(m[10]),Abs(m[11]),Abs(m[12]),Abs(m[13]),Abs(m[14]),Abs(m[15])]);};$ptrType(Mat4).prototype.Abs=function(){return new Mat4(this.$get()).Abs();};Mat4.prototype.String=function(){var _i,_r,_r$1,_r$2,_ref,buf,col,i,m,w,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_i=$f._i;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_ref=$f._ref;buf=$f.buf;col=$f.col;i=$f.i;m=$f.m;w=$f.w;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:m=this.$val;buf=new bytes.Buffer.ptr(sliceType$2.nil,0,0);w=tabwriter.NewWriter(buf,4,4,1,32,4);i=0;/* while (true) { */case 1:/* if (!(i < 4)) { break; } */if(!(i<4)){$s=2;continue;}_ref=new Mat4($clone(m,Mat4)).Row(i);_i=0;/* while (true) { */case 3:/* if (!(_i < 4)) { break; } */if(!(_i<4)){$s=4;continue;}col=_i<0||_i>=_ref.length?($throwRuntimeError("index out of range"),undefined):_ref[_i];_r=fmt.Fprintf(w,"%f\t",new sliceType$3([new $Float64(col)]));/* */$s=5;case 5:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_r;_i++;/* } */$s=3;continue;case 4:_r$1=fmt.Fprintln(w,new sliceType$3([new $String("")]));/* */$s=6;case 6:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_r$1;i=i+1>>0;/* } */$s=1;continue;case 2:_r$2=w.Flush();/* */$s=7;case 7:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_r$2;$s=-1;return buf.String();/* */}return;}if($f===undefined){$f={$blk:Mat4.prototype.String};}$f._i=_i;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._ref=_ref;$f.buf=buf;$f.col=col;$f.i=i;$f.m=m;$f.w=w;$f.$s=$s;$f.$r=$r;return $f;};$ptrType(Mat4).prototype.String=function(){return new Mat4(this.$get()).String();};QuatIdent=function(){return new Quat.ptr(1,$toNativeArray($kindFloat64,[0,0,0]));};$pkg.QuatIdent=QuatIdent;Quat.ptr.prototype.X=function(){var q;q=this;return q.V[0];};Quat.prototype.X=function(){return this.$val.X();};Quat.ptr.prototype.Y=function(){var q;q=this;return q.V[1];};Quat.prototype.Y=function(){return this.$val.Y();};Quat.ptr.prototype.Z=function(){var q;q=this;return q.V[2];};Quat.prototype.Z=function(){return this.$val.Z();};Quat.ptr.prototype.Add=function(q2){var q1,q2;q1=this;return new Quat.ptr(q1.W+q2.W,$clone(new Vec3($clone(q1.V,Vec3)).Add($clone(q2.V,Vec3)),Vec3));};Quat.prototype.Add=function(q2){return this.$val.Add(q2);};Quat.ptr.prototype.Sub=function(q2){var q1,q2;q1=this;return new Quat.ptr(q1.W-q2.W,$clone(new Vec3($clone(q1.V,Vec3)).Sub($clone(q2.V,Vec3)),Vec3));};Quat.prototype.Sub=function(q2){return this.$val.Sub(q2);};Quat.ptr.prototype.Mul=function(q2){var q1,q2;q1=this;return new Quat.ptr(q1.W*q2.W-new Vec3($clone(q1.V,Vec3)).Dot($clone(q2.V,Vec3)),$clone(new Vec3($clone(new Vec3($clone(new Vec3($clone(q1.V,Vec3)).Cross($clone(q2.V,Vec3)),Vec3)).Add($clone(new Vec3($clone(q2.V,Vec3)).Mul(q1.W),Vec3)),Vec3)).Add($clone(new Vec3($clone(q1.V,Vec3)).Mul(q2.W),Vec3)),Vec3));};Quat.prototype.Mul=function(q2){return this.$val.Mul(q2);};Quat.ptr.prototype.Scale=function(c){var c,q1;q1=this;return new Quat.ptr(q1.W*c,$toNativeArray($kindFloat64,[q1.V[0]*c,q1.V[1]*c,q1.V[2]*c]));};Quat.prototype.Scale=function(c){return this.$val.Scale(c);};Quat.ptr.prototype.Conjugate=function(){var q1;q1=this;return new Quat.ptr(q1.W,$clone(new Vec3($clone(q1.V,Vec3)).Mul(-1),Vec3));};Quat.prototype.Conjugate=function(){return this.$val.Conjugate();};Quat.ptr.prototype.Len=function(){var q1;q1=this;return math.Sqrt(q1.W*q1.W+q1.V[0]*q1.V[0]+q1.V[1]*q1.V[1]+q1.V[2]*q1.V[2]);};Quat.prototype.Len=function(){return this.$val.Len();};Quat.ptr.prototype.Norm=function(){var q1;q1=this;return $clone(q1,Quat).Len();};Quat.prototype.Norm=function(){return this.$val.Norm();};Quat.ptr.prototype.Normalize=function(){var length,q1;q1=this;length=$clone(q1,Quat).Len();if(FloatEqual(1,length)){return q1;}if(length===0){return QuatIdent();}if(length===$pkg.InfPos){length=$pkg.MaxValue;}return new Quat.ptr(q1.W*1/length,$clone(new Vec3($clone(q1.V,Vec3)).Mul(1/length),Vec3));};Quat.prototype.Normalize=function(){return this.$val.Normalize();};Quat.ptr.prototype.Inverse=function(){var q1;q1=this;return $clone($clone(q1,Quat).Conjugate(),Quat).Scale(1/$clone(q1,Quat).Dot($clone(q1,Quat)));};Quat.prototype.Inverse=function(){return this.$val.Inverse();};Quat.ptr.prototype.Rotate=function(v){var cross,q1,v;q1=this;cross=$clone(new Vec3($clone(q1.V,Vec3)).Cross($clone(v,Vec3)),Vec3);return new Vec3($clone(new Vec3($clone(v,Vec3)).Add($clone(new Vec3($clone(cross,Vec3)).Mul(2*q1.W),Vec3)),Vec3)).Add($clone(new Vec3($clone(new Vec3($clone(q1.V,Vec3)).Mul(2),Vec3)).Cross($clone(cross,Vec3)),Vec3));};Quat.prototype.Rotate=function(v){return this.$val.Rotate(v);};Quat.ptr.prototype.Mat4=function(){var _tmp,_tmp$1,_tmp$2,_tmp$3,q1,w,x,y,z;q1=this;_tmp=q1.W;_tmp$1=q1.V[0];_tmp$2=q1.V[1];_tmp$3=q1.V[2];w=_tmp;x=_tmp$1;y=_tmp$2;z=_tmp$3;return $toNativeArray($kindFloat64,[1-2*y*y-2*z*z,2*x*y+2*w*z,2*x*z-2*w*y,0,2*x*y-2*w*z,1-2*x*x-2*z*z,2*y*z+2*w*x,0,2*x*z+2*w*y,2*y*z-2*w*x,1-2*x*x-2*y*y,0,0,0,0,1]);};Quat.prototype.Mat4=function(){return this.$val.Mat4();};Quat.ptr.prototype.Dot=function(q2){var q1,q2;q1=this;return q1.W*q2.W+q1.V[0]*q2.V[0]+q1.V[1]*q2.V[1]+q1.V[2]*q2.V[2];};Quat.prototype.Dot=function(q2){return this.$val.Dot(q2);};Quat.ptr.prototype.ApproxEqual=function(q2){var q1,q2;q1=this;return FloatEqual(q1.W,q2.W)&&new Vec3($clone(q1.V,Vec3)).ApproxEqual($clone(q2.V,Vec3));};Quat.prototype.ApproxEqual=function(q2){return this.$val.ApproxEqual(q2);};Quat.ptr.prototype.ApproxEqualThreshold=function(q2,epsilon){var epsilon,q1,q2;q1=this;return FloatEqualThreshold(q1.W,q2.W,epsilon)&&new Vec3($clone(q1.V,Vec3)).ApproxEqualThreshold($clone(q2.V,Vec3),epsilon);};Quat.prototype.ApproxEqualThreshold=function(q2,epsilon){return this.$val.ApproxEqualThreshold(q2,epsilon);};Quat.ptr.prototype.ApproxEqualFunc=function(q2,f){var _r,_r$1,_v,f,q1,q2,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_v=$f._v;f=$f.f;q1=$f.q1;q2=$f.q2;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:q1=this;_r=f(q1.W,q2.W);/* */$s=2;case 2:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}if(!_r){_v=false;$s=1;continue s;}_r$1=new Vec3($clone(q1.V,Vec3)).ApproxFuncEqual($clone(q2.V,Vec3),f);/* */$s=3;case 3:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_v=_r$1;case 1:$s=-1;return _v;/* */}return;}if($f===undefined){$f={$blk:Quat.ptr.prototype.ApproxEqualFunc};}$f._r=_r;$f._r$1=_r$1;$f._v=_v;$f.f=f;$f.q1=q1;$f.q2=q2;$f.$s=$s;$f.$r=$r;return $f;};Quat.prototype.ApproxEqualFunc=function(q2,f){return this.$val.ApproxEqualFunc(q2,f);};Quat.ptr.prototype.OrientationEqual=function(q2){var q1,q2;q1=this;return $clone(q1,Quat).OrientationEqualThreshold($clone(q2,Quat),$pkg.Epsilon);};Quat.prototype.OrientationEqual=function(q2){return this.$val.OrientationEqual(q2);};Quat.ptr.prototype.OrientationEqualThreshold=function(q2,epsilon){var epsilon,q1,q2;q1=this;return Abs($clone($clone(q1,Quat).Normalize(),Quat).Dot($clone($clone(q2,Quat).Normalize(),Quat)))>1-epsilon;};Quat.prototype.OrientationEqualThreshold=function(q2,epsilon){return this.$val.OrientationEqualThreshold(q2,epsilon);};Abs=function(a){var a;if(a<0){return-a;}else if(a===0){return 0;}return a;};$pkg.Abs=Abs;FloatEqual=function(a,b){var a,b;return FloatEqualThreshold(a,b,$pkg.Epsilon);};$pkg.FloatEqual=FloatEqual;FloatEqualThreshold=function(a,b,epsilon){var a,b,diff,epsilon;if(a===b){return true;}diff=Abs(a-b);if(a*b===0||diff<$pkg.MinNormal){return diff<epsilon*epsilon;}return diff/(Abs(a)+Abs(b))<epsilon;};$pkg.FloatEqualThreshold=FloatEqualThreshold;Vec2.prototype.Vec3=function(z){var v,z;v=this.$val;return $toNativeArray($kindFloat64,[v[0],v[1],z]);};$ptrType(Vec2).prototype.Vec3=function(z){return new Vec2(this.$get()).Vec3(z);};Vec2.prototype.Vec4=function(z,w){var v,w,z;v=this.$val;return $toNativeArray($kindFloat64,[v[0],v[1],z,w]);};$ptrType(Vec2).prototype.Vec4=function(z,w){return new Vec2(this.$get()).Vec4(z,w);};Vec3.prototype.Vec4=function(w){var v,w;v=this.$val;return $toNativeArray($kindFloat64,[v[0],v[1],v[2],w]);};$ptrType(Vec3).prototype.Vec4=function(w){return new Vec3(this.$get()).Vec4(w);};Vec3.prototype.Vec2=function(){var v;v=this.$val;return $toNativeArray($kindFloat64,[v[0],v[1]]);};$ptrType(Vec3).prototype.Vec2=function(){return new Vec3(this.$get()).Vec2();};Vec4.prototype.Vec2=function(){var v;v=this.$val;return $toNativeArray($kindFloat64,[v[0],v[1]]);};$ptrType(Vec4).prototype.Vec2=function(){return new Vec4(this.$get()).Vec2();};Vec4.prototype.Vec3=function(){var v;v=this.$val;return $toNativeArray($kindFloat64,[v[0],v[1],v[2]]);};$ptrType(Vec4).prototype.Vec3=function(){return new Vec4(this.$get()).Vec3();};Vec2.prototype.Elem=function(){var _tmp,_tmp$1,v,x,y;x=0;y=0;v=this.$val;_tmp=v[0];_tmp$1=v[1];x=_tmp;y=_tmp$1;return[x,y];};$ptrType(Vec2).prototype.Elem=function(){return new Vec2(this.$get()).Elem();};Vec3.prototype.Elem=function(){var _tmp,_tmp$1,_tmp$2,v,x,y,z;x=0;y=0;z=0;v=this.$val;_tmp=v[0];_tmp$1=v[1];_tmp$2=v[2];x=_tmp;y=_tmp$1;z=_tmp$2;return[x,y,z];};$ptrType(Vec3).prototype.Elem=function(){return new Vec3(this.$get()).Elem();};Vec4.prototype.Elem=function(){var _tmp,_tmp$1,_tmp$2,_tmp$3,v,w,x,y,z;x=0;y=0;z=0;w=0;v=this.$val;_tmp=v[0];_tmp$1=v[1];_tmp$2=v[2];_tmp$3=v[3];x=_tmp;y=_tmp$1;z=_tmp$2;w=_tmp$3;return[x,y,z,w];};$ptrType(Vec4).prototype.Elem=function(){return new Vec4(this.$get()).Elem();};Vec3.prototype.Cross=function(v2){var v1,v2;v1=this.$val;return $toNativeArray($kindFloat64,[v1[1]*v2[2]-v1[2]*v2[1],v1[2]*v2[0]-v1[0]*v2[2],v1[0]*v2[1]-v1[1]*v2[0]]);};$ptrType(Vec3).prototype.Cross=function(v2){return new Vec3(this.$get()).Cross(v2);};Vec4.prototype.Quat=function(){var v;v=this.$val;return new Quat.ptr(v[3],$toNativeArray($kindFloat64,[v[0],v[1],v[2]]));};$ptrType(Vec4).prototype.Quat=function(){return new Vec4(this.$get()).Quat();};Vec2.prototype.Add=function(v2){var v1,v2;v1=this.$val;return $toNativeArray($kindFloat64,[v1[0]+v2[0],v1[1]+v2[1]]);};$ptrType(Vec2).prototype.Add=function(v2){return new Vec2(this.$get()).Add(v2);};Vec2.prototype.Sub=function(v2){var v1,v2;v1=this.$val;return $toNativeArray($kindFloat64,[v1[0]-v2[0],v1[1]-v2[1]]);};$ptrType(Vec2).prototype.Sub=function(v2){return new Vec2(this.$get()).Sub(v2);};Vec2.prototype.Mul=function(c){var c,v1;v1=this.$val;return $toNativeArray($kindFloat64,[v1[0]*c,v1[1]*c]);};$ptrType(Vec2).prototype.Mul=function(c){return new Vec2(this.$get()).Mul(c);};Vec2.prototype.Dot=function(v2){var v1,v2;v1=this.$val;return v1[0]*v2[0]+v1[1]*v2[1];};$ptrType(Vec2).prototype.Dot=function(v2){return new Vec2(this.$get()).Dot(v2);};Vec2.prototype.Len=function(){var v1;v1=this.$val;return math.Hypot(v1[0],v1[1]);};$ptrType(Vec2).prototype.Len=function(){return new Vec2(this.$get()).Len();};Vec2.prototype.LenSqr=function(){var v1;v1=this.$val;return v1[0]*v1[0]+v1[1]*v1[1];};$ptrType(Vec2).prototype.LenSqr=function(){return new Vec2(this.$get()).LenSqr();};Vec2.prototype.Normalize=function(){var l,v1;v1=this.$val;l=1/new Vec2($clone(v1,Vec2)).Len();return $toNativeArray($kindFloat64,[v1[0]*l,v1[1]*l]);};$ptrType(Vec2).prototype.Normalize=function(){return new Vec2(this.$get()).Normalize();};Vec2.prototype.ApproxEqual=function(v2){var _i,_ref,i,v1,v2;v1=this.$val;_ref=v1;_i=0;while(true){if(!(_i<2)){break;}i=_i;if(!FloatEqual(i<0||i>=v1.length?($throwRuntimeError("index out of range"),undefined):v1[i],i<0||i>=v2.length?($throwRuntimeError("index out of range"),undefined):v2[i])){return false;}_i++;}return true;};$ptrType(Vec2).prototype.ApproxEqual=function(v2){return new Vec2(this.$get()).ApproxEqual(v2);};Vec2.prototype.ApproxEqualThreshold=function(v2,threshold){var _i,_ref,i,threshold,v1,v2;v1=this.$val;_ref=v1;_i=0;while(true){if(!(_i<2)){break;}i=_i;if(!FloatEqualThreshold(i<0||i>=v1.length?($throwRuntimeError("index out of range"),undefined):v1[i],i<0||i>=v2.length?($throwRuntimeError("index out of range"),undefined):v2[i],threshold)){return false;}_i++;}return true;};$ptrType(Vec2).prototype.ApproxEqualThreshold=function(v2,threshold){return new Vec2(this.$get()).ApproxEqualThreshold(v2,threshold);};Vec2.prototype.ApproxFuncEqual=function(v2,eq){var _i,_r,_ref,eq,i,v1,v2,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_i=$f._i;_r=$f._r;_ref=$f._ref;eq=$f.eq;i=$f.i;v1=$f.v1;v2=$f.v2;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v1=this.$val;_ref=v1;_i=0;/* while (true) { */case 1:/* if (!(_i < 2)) { break; } */if(!(_i<2)){$s=2;continue;}i=_i;_r=eq(i<0||i>=v1.length?($throwRuntimeError("index out of range"),undefined):v1[i],i<0||i>=v2.length?($throwRuntimeError("index out of range"),undefined):v2[i]);/* */$s=5;case 5:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}/* */if(!_r){$s=3;continue;}/* */$s=4;continue;/* if (!_r) { */case 3:$s=-1;return false;/* } */case 4:_i++;/* } */$s=1;continue;case 2:$s=-1;return true;/* */}return;}if($f===undefined){$f={$blk:Vec2.prototype.ApproxFuncEqual};}$f._i=_i;$f._r=_r;$f._ref=_ref;$f.eq=eq;$f.i=i;$f.v1=v1;$f.v2=v2;$f.$s=$s;$f.$r=$r;return $f;};$ptrType(Vec2).prototype.ApproxFuncEqual=function(v2,eq){return new Vec2(this.$get()).ApproxFuncEqual(v2,eq);};Vec2.prototype.X=function(){var v;v=this.$val;return v[0];};$ptrType(Vec2).prototype.X=function(){return new Vec2(this.$get()).X();};Vec2.prototype.Y=function(){var v;v=this.$val;return v[1];};$ptrType(Vec2).prototype.Y=function(){return new Vec2(this.$get()).Y();};Vec2.prototype.OuterProd2=function(v2){var v1,v2;v1=this.$val;return $toNativeArray($kindFloat64,[v1[0]*v2[0],v1[1]*v2[0],v1[0]*v2[1],v1[1]*v2[1]]);};$ptrType(Vec2).prototype.OuterProd2=function(v2){return new Vec2(this.$get()).OuterProd2(v2);};Vec2.prototype.OuterProd3=function(v2){var v1,v2;v1=this.$val;return $toNativeArray($kindFloat64,[v1[0]*v2[0],v1[1]*v2[0],v1[0]*v2[1],v1[1]*v2[1],v1[0]*v2[2],v1[1]*v2[2]]);};$ptrType(Vec2).prototype.OuterProd3=function(v2){return new Vec2(this.$get()).OuterProd3(v2);};Vec2.prototype.OuterProd4=function(v2){var v1,v2;v1=this.$val;return $toNativeArray($kindFloat64,[v1[0]*v2[0],v1[1]*v2[0],v1[0]*v2[1],v1[1]*v2[1],v1[0]*v2[2],v1[1]*v2[2],v1[0]*v2[3],v1[1]*v2[3]]);};$ptrType(Vec2).prototype.OuterProd4=function(v2){return new Vec2(this.$get()).OuterProd4(v2);};Vec3.prototype.Add=function(v2){var v1,v2;v1=this.$val;return $toNativeArray($kindFloat64,[v1[0]+v2[0],v1[1]+v2[1],v1[2]+v2[2]]);};$ptrType(Vec3).prototype.Add=function(v2){return new Vec3(this.$get()).Add(v2);};Vec3.prototype.Sub=function(v2){var v1,v2;v1=this.$val;return $toNativeArray($kindFloat64,[v1[0]-v2[0],v1[1]-v2[1],v1[2]-v2[2]]);};$ptrType(Vec3).prototype.Sub=function(v2){return new Vec3(this.$get()).Sub(v2);};Vec3.prototype.Mul=function(c){var c,v1;v1=this.$val;return $toNativeArray($kindFloat64,[v1[0]*c,v1[1]*c,v1[2]*c]);};$ptrType(Vec3).prototype.Mul=function(c){return new Vec3(this.$get()).Mul(c);};Vec3.prototype.Dot=function(v2){var v1,v2;v1=this.$val;return v1[0]*v2[0]+v1[1]*v2[1]+v1[2]*v2[2];};$ptrType(Vec3).prototype.Dot=function(v2){return new Vec3(this.$get()).Dot(v2);};Vec3.prototype.Len=function(){var v1;v1=this.$val;return math.Sqrt(v1[0]*v1[0]+v1[1]*v1[1]+v1[2]*v1[2]);};$ptrType(Vec3).prototype.Len=function(){return new Vec3(this.$get()).Len();};Vec3.prototype.LenSqr=function(){var v1;v1=this.$val;return v1[0]*v1[0]+v1[1]*v1[1]+v1[2]*v1[2];};$ptrType(Vec3).prototype.LenSqr=function(){return new Vec3(this.$get()).LenSqr();};Vec3.prototype.Normalize=function(){var l,v1;v1=this.$val;l=1/new Vec3($clone(v1,Vec3)).Len();return $toNativeArray($kindFloat64,[v1[0]*l,v1[1]*l,v1[2]*l]);};$ptrType(Vec3).prototype.Normalize=function(){return new Vec3(this.$get()).Normalize();};Vec3.prototype.ApproxEqual=function(v2){var _i,_ref,i,v1,v2;v1=this.$val;_ref=v1;_i=0;while(true){if(!(_i<3)){break;}i=_i;if(!FloatEqual(i<0||i>=v1.length?($throwRuntimeError("index out of range"),undefined):v1[i],i<0||i>=v2.length?($throwRuntimeError("index out of range"),undefined):v2[i])){return false;}_i++;}return true;};$ptrType(Vec3).prototype.ApproxEqual=function(v2){return new Vec3(this.$get()).ApproxEqual(v2);};Vec3.prototype.ApproxEqualThreshold=function(v2,threshold){var _i,_ref,i,threshold,v1,v2;v1=this.$val;_ref=v1;_i=0;while(true){if(!(_i<3)){break;}i=_i;if(!FloatEqualThreshold(i<0||i>=v1.length?($throwRuntimeError("index out of range"),undefined):v1[i],i<0||i>=v2.length?($throwRuntimeError("index out of range"),undefined):v2[i],threshold)){return false;}_i++;}return true;};$ptrType(Vec3).prototype.ApproxEqualThreshold=function(v2,threshold){return new Vec3(this.$get()).ApproxEqualThreshold(v2,threshold);};Vec3.prototype.ApproxFuncEqual=function(v2,eq){var _i,_r,_ref,eq,i,v1,v2,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_i=$f._i;_r=$f._r;_ref=$f._ref;eq=$f.eq;i=$f.i;v1=$f.v1;v2=$f.v2;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v1=this.$val;_ref=v1;_i=0;/* while (true) { */case 1:/* if (!(_i < 3)) { break; } */if(!(_i<3)){$s=2;continue;}i=_i;_r=eq(i<0||i>=v1.length?($throwRuntimeError("index out of range"),undefined):v1[i],i<0||i>=v2.length?($throwRuntimeError("index out of range"),undefined):v2[i]);/* */$s=5;case 5:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}/* */if(!_r){$s=3;continue;}/* */$s=4;continue;/* if (!_r) { */case 3:$s=-1;return false;/* } */case 4:_i++;/* } */$s=1;continue;case 2:$s=-1;return true;/* */}return;}if($f===undefined){$f={$blk:Vec3.prototype.ApproxFuncEqual};}$f._i=_i;$f._r=_r;$f._ref=_ref;$f.eq=eq;$f.i=i;$f.v1=v1;$f.v2=v2;$f.$s=$s;$f.$r=$r;return $f;};$ptrType(Vec3).prototype.ApproxFuncEqual=function(v2,eq){return new Vec3(this.$get()).ApproxFuncEqual(v2,eq);};Vec3.prototype.X=function(){var v;v=this.$val;return v[0];};$ptrType(Vec3).prototype.X=function(){return new Vec3(this.$get()).X();};Vec3.prototype.Y=function(){var v;v=this.$val;return v[1];};$ptrType(Vec3).prototype.Y=function(){return new Vec3(this.$get()).Y();};Vec3.prototype.Z=function(){var v;v=this.$val;return v[2];};$ptrType(Vec3).prototype.Z=function(){return new Vec3(this.$get()).Z();};Vec3.prototype.OuterProd2=function(v2){var v1,v2;v1=this.$val;return $toNativeArray($kindFloat64,[v1[0]*v2[0],v1[1]*v2[0],v1[2]*v2[0],v1[0]*v2[1],v1[1]*v2[1],v1[2]*v2[1]]);};$ptrType(Vec3).prototype.OuterProd2=function(v2){return new Vec3(this.$get()).OuterProd2(v2);};Vec3.prototype.OuterProd3=function(v2){var v1,v2;v1=this.$val;return $toNativeArray($kindFloat64,[v1[0]*v2[0],v1[1]*v2[0],v1[2]*v2[0],v1[0]*v2[1],v1[1]*v2[1],v1[2]*v2[1],v1[0]*v2[2],v1[1]*v2[2],v1[2]*v2[2]]);};$ptrType(Vec3).prototype.OuterProd3=function(v2){return new Vec3(this.$get()).OuterProd3(v2);};Vec3.prototype.OuterProd4=function(v2){var v1,v2;v1=this.$val;return $toNativeArray($kindFloat64,[v1[0]*v2[0],v1[1]*v2[0],v1[2]*v2[0],v1[0]*v2[1],v1[1]*v2[1],v1[2]*v2[1],v1[0]*v2[2],v1[1]*v2[2],v1[2]*v2[2],v1[0]*v2[3],v1[1]*v2[3],v1[2]*v2[3]]);};$ptrType(Vec3).prototype.OuterProd4=function(v2){return new Vec3(this.$get()).OuterProd4(v2);};Vec4.prototype.Add=function(v2){var v1,v2;v1=this.$val;return $toNativeArray($kindFloat64,[v1[0]+v2[0],v1[1]+v2[1],v1[2]+v2[2],v1[3]+v2[3]]);};$ptrType(Vec4).prototype.Add=function(v2){return new Vec4(this.$get()).Add(v2);};Vec4.prototype.Sub=function(v2){var v1,v2;v1=this.$val;return $toNativeArray($kindFloat64,[v1[0]-v2[0],v1[1]-v2[1],v1[2]-v2[2],v1[3]-v2[3]]);};$ptrType(Vec4).prototype.Sub=function(v2){return new Vec4(this.$get()).Sub(v2);};Vec4.prototype.Mul=function(c){var c,v1;v1=this.$val;return $toNativeArray($kindFloat64,[v1[0]*c,v1[1]*c,v1[2]*c,v1[3]*c]);};$ptrType(Vec4).prototype.Mul=function(c){return new Vec4(this.$get()).Mul(c);};Vec4.prototype.Dot=function(v2){var v1,v2;v1=this.$val;return v1[0]*v2[0]+v1[1]*v2[1]+v1[2]*v2[2]+v1[3]*v2[3];};$ptrType(Vec4).prototype.Dot=function(v2){return new Vec4(this.$get()).Dot(v2);};Vec4.prototype.Len=function(){var v1;v1=this.$val;return math.Sqrt(v1[0]*v1[0]+v1[1]*v1[1]+v1[2]*v1[2]+v1[3]*v1[3]);};$ptrType(Vec4).prototype.Len=function(){return new Vec4(this.$get()).Len();};Vec4.prototype.LenSqr=function(){var v1;v1=this.$val;return v1[0]*v1[0]+v1[1]*v1[1]+v1[2]*v1[2]+v1[3]*v1[3];};$ptrType(Vec4).prototype.LenSqr=function(){return new Vec4(this.$get()).LenSqr();};Vec4.prototype.Normalize=function(){var l,v1;v1=this.$val;l=1/new Vec4($clone(v1,Vec4)).Len();return $toNativeArray($kindFloat64,[v1[0]*l,v1[1]*l,v1[2]*l,v1[3]*l]);};$ptrType(Vec4).prototype.Normalize=function(){return new Vec4(this.$get()).Normalize();};Vec4.prototype.ApproxEqual=function(v2){var _i,_ref,i,v1,v2;v1=this.$val;_ref=v1;_i=0;while(true){if(!(_i<4)){break;}i=_i;if(!FloatEqual(i<0||i>=v1.length?($throwRuntimeError("index out of range"),undefined):v1[i],i<0||i>=v2.length?($throwRuntimeError("index out of range"),undefined):v2[i])){return false;}_i++;}return true;};$ptrType(Vec4).prototype.ApproxEqual=function(v2){return new Vec4(this.$get()).ApproxEqual(v2);};Vec4.prototype.ApproxEqualThreshold=function(v2,threshold){var _i,_ref,i,threshold,v1,v2;v1=this.$val;_ref=v1;_i=0;while(true){if(!(_i<4)){break;}i=_i;if(!FloatEqualThreshold(i<0||i>=v1.length?($throwRuntimeError("index out of range"),undefined):v1[i],i<0||i>=v2.length?($throwRuntimeError("index out of range"),undefined):v2[i],threshold)){return false;}_i++;}return true;};$ptrType(Vec4).prototype.ApproxEqualThreshold=function(v2,threshold){return new Vec4(this.$get()).ApproxEqualThreshold(v2,threshold);};Vec4.prototype.ApproxFuncEqual=function(v2,eq){var _i,_r,_ref,eq,i,v1,v2,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_i=$f._i;_r=$f._r;_ref=$f._ref;eq=$f.eq;i=$f.i;v1=$f.v1;v2=$f.v2;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v1=this.$val;_ref=v1;_i=0;/* while (true) { */case 1:/* if (!(_i < 4)) { break; } */if(!(_i<4)){$s=2;continue;}i=_i;_r=eq(i<0||i>=v1.length?($throwRuntimeError("index out of range"),undefined):v1[i],i<0||i>=v2.length?($throwRuntimeError("index out of range"),undefined):v2[i]);/* */$s=5;case 5:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}/* */if(!_r){$s=3;continue;}/* */$s=4;continue;/* if (!_r) { */case 3:$s=-1;return false;/* } */case 4:_i++;/* } */$s=1;continue;case 2:$s=-1;return true;/* */}return;}if($f===undefined){$f={$blk:Vec4.prototype.ApproxFuncEqual};}$f._i=_i;$f._r=_r;$f._ref=_ref;$f.eq=eq;$f.i=i;$f.v1=v1;$f.v2=v2;$f.$s=$s;$f.$r=$r;return $f;};$ptrType(Vec4).prototype.ApproxFuncEqual=function(v2,eq){return new Vec4(this.$get()).ApproxFuncEqual(v2,eq);};Vec4.prototype.X=function(){var v;v=this.$val;return v[0];};$ptrType(Vec4).prototype.X=function(){return new Vec4(this.$get()).X();};Vec4.prototype.Y=function(){var v;v=this.$val;return v[1];};$ptrType(Vec4).prototype.Y=function(){return new Vec4(this.$get()).Y();};Vec4.prototype.Z=function(){var v;v=this.$val;return v[2];};$ptrType(Vec4).prototype.Z=function(){return new Vec4(this.$get()).Z();};Vec4.prototype.W=function(){var v;v=this.$val;return v[3];};$ptrType(Vec4).prototype.W=function(){return new Vec4(this.$get()).W();};Vec4.prototype.OuterProd2=function(v2){var v1,v2;v1=this.$val;return $toNativeArray($kindFloat64,[v1[0]*v2[0],v1[1]*v2[0],v1[2]*v2[0],v1[3]*v2[0],v1[0]*v2[1],v1[1]*v2[1],v1[2]*v2[1],v1[3]*v2[1]]);};$ptrType(Vec4).prototype.OuterProd2=function(v2){return new Vec4(this.$get()).OuterProd2(v2);};Vec4.prototype.OuterProd3=function(v2){var v1,v2;v1=this.$val;return $toNativeArray($kindFloat64,[v1[0]*v2[0],v1[1]*v2[0],v1[2]*v2[0],v1[3]*v2[0],v1[0]*v2[1],v1[1]*v2[1],v1[2]*v2[1],v1[3]*v2[1],v1[0]*v2[2],v1[1]*v2[2],v1[2]*v2[2],v1[3]*v2[2]]);};$ptrType(Vec4).prototype.OuterProd3=function(v2){return new Vec4(this.$get()).OuterProd3(v2);};Vec4.prototype.OuterProd4=function(v2){var v1,v2;v1=this.$val;return $toNativeArray($kindFloat64,[v1[0]*v2[0],v1[1]*v2[0],v1[2]*v2[0],v1[3]*v2[0],v1[0]*v2[1],v1[1]*v2[1],v1[2]*v2[1],v1[3]*v2[1],v1[0]*v2[2],v1[1]*v2[2],v1[2]*v2[2],v1[3]*v2[2],v1[0]*v2[3],v1[1]*v2[3],v1[2]*v2[3],v1[3]*v2[3]]);};$ptrType(Vec4).prototype.OuterProd4=function(v2){return new Vec4(this.$get()).OuterProd4(v2);};Mat2.methods=[{prop:"Mat3",name:"Mat3",pkg:"",typ:$funcType([],[Mat3],false)},{prop:"Mat4",name:"Mat4",pkg:"",typ:$funcType([],[Mat4],false)},{prop:"Diag",name:"Diag",pkg:"",typ:$funcType([],[Vec2],false)},{prop:"Add",name:"Add",pkg:"",typ:$funcType([Mat2],[Mat2],false)},{prop:"Sub",name:"Sub",pkg:"",typ:$funcType([Mat2],[Mat2],false)},{prop:"Mul",name:"Mul",pkg:"",typ:$funcType([$Float64],[Mat2],false)},{prop:"Mul2x1",name:"Mul2x1",pkg:"",typ:$funcType([Vec2],[Vec2],false)},{prop:"Mul2",name:"Mul2",pkg:"",typ:$funcType([Mat2],[Mat2],false)},{prop:"Mul2x3",name:"Mul2x3",pkg:"",typ:$funcType([Mat2x3],[Mat2x3],false)},{prop:"Mul2x4",name:"Mul2x4",pkg:"",typ:$funcType([Mat2x4],[Mat2x4],false)},{prop:"Transpose",name:"Transpose",pkg:"",typ:$funcType([],[Mat2],false)},{prop:"Det",name:"Det",pkg:"",typ:$funcType([],[$Float64],false)},{prop:"Inv",name:"Inv",pkg:"",typ:$funcType([],[Mat2],false)},{prop:"ApproxEqual",name:"ApproxEqual",pkg:"",typ:$funcType([Mat2],[$Bool],false)},{prop:"ApproxEqualThreshold",name:"ApproxEqualThreshold",pkg:"",typ:$funcType([Mat2,$Float64],[$Bool],false)},{prop:"ApproxFuncEqual",name:"ApproxFuncEqual",pkg:"",typ:$funcType([Mat2,funcType],[$Bool],false)},{prop:"At",name:"At",pkg:"",typ:$funcType([$Int,$Int],[$Float64],false)},{prop:"Index",name:"Index",pkg:"",typ:$funcType([$Int,$Int],[$Int],false)},{prop:"Row",name:"Row",pkg:"",typ:$funcType([$Int],[Vec2],false)},{prop:"Rows",name:"Rows",pkg:"",typ:$funcType([],[Vec2,Vec2],false)},{prop:"Col",name:"Col",pkg:"",typ:$funcType([$Int],[Vec2],false)},{prop:"Cols",name:"Cols",pkg:"",typ:$funcType([],[Vec2,Vec2],false)},{prop:"Trace",name:"Trace",pkg:"",typ:$funcType([],[$Float64],false)},{prop:"Abs",name:"Abs",pkg:"",typ:$funcType([],[Mat2],false)},{prop:"String",name:"String",pkg:"",typ:$funcType([],[$String],false)}];ptrType$3.methods=[{prop:"SetCol",name:"SetCol",pkg:"",typ:$funcType([$Int,Vec2],[],false)},{prop:"SetRow",name:"SetRow",pkg:"",typ:$funcType([$Int,Vec2],[],false)},{prop:"Set",name:"Set",pkg:"",typ:$funcType([$Int,$Int,$Float64],[],false)}];Mat2x3.methods=[{prop:"Add",name:"Add",pkg:"",typ:$funcType([Mat2x3],[Mat2x3],false)},{prop:"Sub",name:"Sub",pkg:"",typ:$funcType([Mat2x3],[Mat2x3],false)},{prop:"Mul",name:"Mul",pkg:"",typ:$funcType([$Float64],[Mat2x3],false)},{prop:"Mul3x1",name:"Mul3x1",pkg:"",typ:$funcType([Vec3],[Vec2],false)},{prop:"Mul3x2",name:"Mul3x2",pkg:"",typ:$funcType([Mat3x2],[Mat2],false)},{prop:"Mul3",name:"Mul3",pkg:"",typ:$funcType([Mat3],[Mat2x3],false)},{prop:"Mul3x4",name:"Mul3x4",pkg:"",typ:$funcType([Mat3x4],[Mat2x4],false)},{prop:"Transpose",name:"Transpose",pkg:"",typ:$funcType([],[Mat3x2],false)},{prop:"ApproxEqual",name:"ApproxEqual",pkg:"",typ:$funcType([Mat2x3],[$Bool],false)},{prop:"ApproxEqualThreshold",name:"ApproxEqualThreshold",pkg:"",typ:$funcType([Mat2x3,$Float64],[$Bool],false)},{prop:"ApproxFuncEqual",name:"ApproxFuncEqual",pkg:"",typ:$funcType([Mat2x3,funcType],[$Bool],false)},{prop:"At",name:"At",pkg:"",typ:$funcType([$Int,$Int],[$Float64],false)},{prop:"Index",name:"Index",pkg:"",typ:$funcType([$Int,$Int],[$Int],false)},{prop:"Row",name:"Row",pkg:"",typ:$funcType([$Int],[Vec3],false)},{prop:"Rows",name:"Rows",pkg:"",typ:$funcType([],[Vec3,Vec3],false)},{prop:"Col",name:"Col",pkg:"",typ:$funcType([$Int],[Vec2],false)},{prop:"Cols",name:"Cols",pkg:"",typ:$funcType([],[Vec2,Vec2,Vec2],false)},{prop:"Abs",name:"Abs",pkg:"",typ:$funcType([],[Mat2x3],false)},{prop:"String",name:"String",pkg:"",typ:$funcType([],[$String],false)}];ptrType$4.methods=[{prop:"SetCol",name:"SetCol",pkg:"",typ:$funcType([$Int,Vec2],[],false)},{prop:"SetRow",name:"SetRow",pkg:"",typ:$funcType([$Int,Vec3],[],false)},{prop:"Set",name:"Set",pkg:"",typ:$funcType([$Int,$Int,$Float64],[],false)}];Mat2x4.methods=[{prop:"Add",name:"Add",pkg:"",typ:$funcType([Mat2x4],[Mat2x4],false)},{prop:"Sub",name:"Sub",pkg:"",typ:$funcType([Mat2x4],[Mat2x4],false)},{prop:"Mul",name:"Mul",pkg:"",typ:$funcType([$Float64],[Mat2x4],false)},{prop:"Mul4x1",name:"Mul4x1",pkg:"",typ:$funcType([Vec4],[Vec2],false)},{prop:"Mul4x2",name:"Mul4x2",pkg:"",typ:$funcType([Mat4x2],[Mat2],false)},{prop:"Mul4x3",name:"Mul4x3",pkg:"",typ:$funcType([Mat4x3],[Mat2x3],false)},{prop:"Mul4",name:"Mul4",pkg:"",typ:$funcType([Mat4],[Mat2x4],false)},{prop:"Transpose",name:"Transpose",pkg:"",typ:$funcType([],[Mat4x2],false)},{prop:"ApproxEqual",name:"ApproxEqual",pkg:"",typ:$funcType([Mat2x4],[$Bool],false)},{prop:"ApproxEqualThreshold",name:"ApproxEqualThreshold",pkg:"",typ:$funcType([Mat2x4,$Float64],[$Bool],false)},{prop:"ApproxFuncEqual",name:"ApproxFuncEqual",pkg:"",typ:$funcType([Mat2x4,funcType],[$Bool],false)},{prop:"At",name:"At",pkg:"",typ:$funcType([$Int,$Int],[$Float64],false)},{prop:"Index",name:"Index",pkg:"",typ:$funcType([$Int,$Int],[$Int],false)},{prop:"Row",name:"Row",pkg:"",typ:$funcType([$Int],[Vec4],false)},{prop:"Rows",name:"Rows",pkg:"",typ:$funcType([],[Vec4,Vec4],false)},{prop:"Col",name:"Col",pkg:"",typ:$funcType([$Int],[Vec2],false)},{prop:"Cols",name:"Cols",pkg:"",typ:$funcType([],[Vec2,Vec2,Vec2,Vec2],false)},{prop:"Abs",name:"Abs",pkg:"",typ:$funcType([],[Mat2x4],false)},{prop:"String",name:"String",pkg:"",typ:$funcType([],[$String],false)}];ptrType$5.methods=[{prop:"SetCol",name:"SetCol",pkg:"",typ:$funcType([$Int,Vec2],[],false)},{prop:"SetRow",name:"SetRow",pkg:"",typ:$funcType([$Int,Vec4],[],false)},{prop:"Set",name:"Set",pkg:"",typ:$funcType([$Int,$Int,$Float64],[],false)}];Mat3x2.methods=[{prop:"Add",name:"Add",pkg:"",typ:$funcType([Mat3x2],[Mat3x2],false)},{prop:"Sub",name:"Sub",pkg:"",typ:$funcType([Mat3x2],[Mat3x2],false)},{prop:"Mul",name:"Mul",pkg:"",typ:$funcType([$Float64],[Mat3x2],false)},{prop:"Mul2x1",name:"Mul2x1",pkg:"",typ:$funcType([Vec2],[Vec3],false)},{prop:"Mul2",name:"Mul2",pkg:"",typ:$funcType([Mat2],[Mat3x2],false)},{prop:"Mul2x3",name:"Mul2x3",pkg:"",typ:$funcType([Mat2x3],[Mat3],false)},{prop:"Mul2x4",name:"Mul2x4",pkg:"",typ:$funcType([Mat2x4],[Mat3x4],false)},{prop:"Transpose",name:"Transpose",pkg:"",typ:$funcType([],[Mat2x3],false)},{prop:"ApproxEqual",name:"ApproxEqual",pkg:"",typ:$funcType([Mat3x2],[$Bool],false)},{prop:"ApproxEqualThreshold",name:"ApproxEqualThreshold",pkg:"",typ:$funcType([Mat3x2,$Float64],[$Bool],false)},{prop:"ApproxFuncEqual",name:"ApproxFuncEqual",pkg:"",typ:$funcType([Mat3x2,funcType],[$Bool],false)},{prop:"At",name:"At",pkg:"",typ:$funcType([$Int,$Int],[$Float64],false)},{prop:"Index",name:"Index",pkg:"",typ:$funcType([$Int,$Int],[$Int],false)},{prop:"Row",name:"Row",pkg:"",typ:$funcType([$Int],[Vec2],false)},{prop:"Rows",name:"Rows",pkg:"",typ:$funcType([],[Vec2,Vec2,Vec2],false)},{prop:"Col",name:"Col",pkg:"",typ:$funcType([$Int],[Vec3],false)},{prop:"Cols",name:"Cols",pkg:"",typ:$funcType([],[Vec3,Vec3],false)},{prop:"Abs",name:"Abs",pkg:"",typ:$funcType([],[Mat3x2],false)},{prop:"String",name:"String",pkg:"",typ:$funcType([],[$String],false)}];ptrType$6.methods=[{prop:"SetCol",name:"SetCol",pkg:"",typ:$funcType([$Int,Vec3],[],false)},{prop:"SetRow",name:"SetRow",pkg:"",typ:$funcType([$Int,Vec2],[],false)},{prop:"Set",name:"Set",pkg:"",typ:$funcType([$Int,$Int,$Float64],[],false)}];Mat3.methods=[{prop:"Mat2",name:"Mat2",pkg:"",typ:$funcType([],[Mat2],false)},{prop:"Mat4",name:"Mat4",pkg:"",typ:$funcType([],[Mat4],false)},{prop:"Diag",name:"Diag",pkg:"",typ:$funcType([],[Vec3],false)},{prop:"Add",name:"Add",pkg:"",typ:$funcType([Mat3],[Mat3],false)},{prop:"Sub",name:"Sub",pkg:"",typ:$funcType([Mat3],[Mat3],false)},{prop:"Mul",name:"Mul",pkg:"",typ:$funcType([$Float64],[Mat3],false)},{prop:"Mul3x1",name:"Mul3x1",pkg:"",typ:$funcType([Vec3],[Vec3],false)},{prop:"Mul3x2",name:"Mul3x2",pkg:"",typ:$funcType([Mat3x2],[Mat3x2],false)},{prop:"Mul3",name:"Mul3",pkg:"",typ:$funcType([Mat3],[Mat3],false)},{prop:"Mul3x4",name:"Mul3x4",pkg:"",typ:$funcType([Mat3x4],[Mat3x4],false)},{prop:"Transpose",name:"Transpose",pkg:"",typ:$funcType([],[Mat3],false)},{prop:"Det",name:"Det",pkg:"",typ:$funcType([],[$Float64],false)},{prop:"Inv",name:"Inv",pkg:"",typ:$funcType([],[Mat3],false)},{prop:"ApproxEqual",name:"ApproxEqual",pkg:"",typ:$funcType([Mat3],[$Bool],false)},{prop:"ApproxEqualThreshold",name:"ApproxEqualThreshold",pkg:"",typ:$funcType([Mat3,$Float64],[$Bool],false)},{prop:"ApproxFuncEqual",name:"ApproxFuncEqual",pkg:"",typ:$funcType([Mat3,funcType],[$Bool],false)},{prop:"At",name:"At",pkg:"",typ:$funcType([$Int,$Int],[$Float64],false)},{prop:"Index",name:"Index",pkg:"",typ:$funcType([$Int,$Int],[$Int],false)},{prop:"Row",name:"Row",pkg:"",typ:$funcType([$Int],[Vec3],false)},{prop:"Rows",name:"Rows",pkg:"",typ:$funcType([],[Vec3,Vec3,Vec3],false)},{prop:"Col",name:"Col",pkg:"",typ:$funcType([$Int],[Vec3],false)},{prop:"Cols",name:"Cols",pkg:"",typ:$funcType([],[Vec3,Vec3,Vec3],false)},{prop:"Trace",name:"Trace",pkg:"",typ:$funcType([],[$Float64],false)},{prop:"Abs",name:"Abs",pkg:"",typ:$funcType([],[Mat3],false)},{prop:"String",name:"String",pkg:"",typ:$funcType([],[$String],false)}];ptrType$7.methods=[{prop:"SetCol",name:"SetCol",pkg:"",typ:$funcType([$Int,Vec3],[],false)},{prop:"SetRow",name:"SetRow",pkg:"",typ:$funcType([$Int,Vec3],[],false)},{prop:"Set",name:"Set",pkg:"",typ:$funcType([$Int,$Int,$Float64],[],false)}];Mat3x4.methods=[{prop:"Add",name:"Add",pkg:"",typ:$funcType([Mat3x4],[Mat3x4],false)},{prop:"Sub",name:"Sub",pkg:"",typ:$funcType([Mat3x4],[Mat3x4],false)},{prop:"Mul",name:"Mul",pkg:"",typ:$funcType([$Float64],[Mat3x4],false)},{prop:"Mul4x1",name:"Mul4x1",pkg:"",typ:$funcType([Vec4],[Vec3],false)},{prop:"Mul4x2",name:"Mul4x2",pkg:"",typ:$funcType([Mat4x2],[Mat3x2],false)},{prop:"Mul4x3",name:"Mul4x3",pkg:"",typ:$funcType([Mat4x3],[Mat3],false)},{prop:"Mul4",name:"Mul4",pkg:"",typ:$funcType([Mat4],[Mat3x4],false)},{prop:"Transpose",name:"Transpose",pkg:"",typ:$funcType([],[Mat4x3],false)},{prop:"ApproxEqual",name:"ApproxEqual",pkg:"",typ:$funcType([Mat3x4],[$Bool],false)},{prop:"ApproxEqualThreshold",name:"ApproxEqualThreshold",pkg:"",typ:$funcType([Mat3x4,$Float64],[$Bool],false)},{prop:"ApproxFuncEqual",name:"ApproxFuncEqual",pkg:"",typ:$funcType([Mat3x4,funcType],[$Bool],false)},{prop:"At",name:"At",pkg:"",typ:$funcType([$Int,$Int],[$Float64],false)},{prop:"Index",name:"Index",pkg:"",typ:$funcType([$Int,$Int],[$Int],false)},{prop:"Row",name:"Row",pkg:"",typ:$funcType([$Int],[Vec4],false)},{prop:"Rows",name:"Rows",pkg:"",typ:$funcType([],[Vec4,Vec4,Vec4],false)},{prop:"Col",name:"Col",pkg:"",typ:$funcType([$Int],[Vec3],false)},{prop:"Cols",name:"Cols",pkg:"",typ:$funcType([],[Vec3,Vec3,Vec3,Vec3],false)},{prop:"Abs",name:"Abs",pkg:"",typ:$funcType([],[Mat3x4],false)},{prop:"String",name:"String",pkg:"",typ:$funcType([],[$String],false)}];ptrType$8.methods=[{prop:"SetCol",name:"SetCol",pkg:"",typ:$funcType([$Int,Vec3],[],false)},{prop:"SetRow",name:"SetRow",pkg:"",typ:$funcType([$Int,Vec4],[],false)},{prop:"Set",name:"Set",pkg:"",typ:$funcType([$Int,$Int,$Float64],[],false)}];Mat4x2.methods=[{prop:"Add",name:"Add",pkg:"",typ:$funcType([Mat4x2],[Mat4x2],false)},{prop:"Sub",name:"Sub",pkg:"",typ:$funcType([Mat4x2],[Mat4x2],false)},{prop:"Mul",name:"Mul",pkg:"",typ:$funcType([$Float64],[Mat4x2],false)},{prop:"Mul2x1",name:"Mul2x1",pkg:"",typ:$funcType([Vec2],[Vec4],false)},{prop:"Mul2",name:"Mul2",pkg:"",typ:$funcType([Mat2],[Mat4x2],false)},{prop:"Mul2x3",name:"Mul2x3",pkg:"",typ:$funcType([Mat2x3],[Mat4x3],false)},{prop:"Mul2x4",name:"Mul2x4",pkg:"",typ:$funcType([Mat2x4],[Mat4],false)},{prop:"Transpose",name:"Transpose",pkg:"",typ:$funcType([],[Mat2x4],false)},{prop:"ApproxEqual",name:"ApproxEqual",pkg:"",typ:$funcType([Mat4x2],[$Bool],false)},{prop:"ApproxEqualThreshold",name:"ApproxEqualThreshold",pkg:"",typ:$funcType([Mat4x2,$Float64],[$Bool],false)},{prop:"ApproxFuncEqual",name:"ApproxFuncEqual",pkg:"",typ:$funcType([Mat4x2,funcType],[$Bool],false)},{prop:"At",name:"At",pkg:"",typ:$funcType([$Int,$Int],[$Float64],false)},{prop:"Index",name:"Index",pkg:"",typ:$funcType([$Int,$Int],[$Int],false)},{prop:"Row",name:"Row",pkg:"",typ:$funcType([$Int],[Vec2],false)},{prop:"Rows",name:"Rows",pkg:"",typ:$funcType([],[Vec2,Vec2,Vec2,Vec2],false)},{prop:"Col",name:"Col",pkg:"",typ:$funcType([$Int],[Vec4],false)},{prop:"Cols",name:"Cols",pkg:"",typ:$funcType([],[Vec4,Vec4],false)},{prop:"Abs",name:"Abs",pkg:"",typ:$funcType([],[Mat4x2],false)},{prop:"String",name:"String",pkg:"",typ:$funcType([],[$String],false)}];ptrType$9.methods=[{prop:"SetCol",name:"SetCol",pkg:"",typ:$funcType([$Int,Vec4],[],false)},{prop:"SetRow",name:"SetRow",pkg:"",typ:$funcType([$Int,Vec2],[],false)},{prop:"Set",name:"Set",pkg:"",typ:$funcType([$Int,$Int,$Float64],[],false)}];Mat4x3.methods=[{prop:"Add",name:"Add",pkg:"",typ:$funcType([Mat4x3],[Mat4x3],false)},{prop:"Sub",name:"Sub",pkg:"",typ:$funcType([Mat4x3],[Mat4x3],false)},{prop:"Mul",name:"Mul",pkg:"",typ:$funcType([$Float64],[Mat4x3],false)},{prop:"Mul3x1",name:"Mul3x1",pkg:"",typ:$funcType([Vec3],[Vec4],false)},{prop:"Mul3x2",name:"Mul3x2",pkg:"",typ:$funcType([Mat3x2],[Mat4x2],false)},{prop:"Mul3",name:"Mul3",pkg:"",typ:$funcType([Mat3],[Mat4x3],false)},{prop:"Mul3x4",name:"Mul3x4",pkg:"",typ:$funcType([Mat3x4],[Mat4],false)},{prop:"Transpose",name:"Transpose",pkg:"",typ:$funcType([],[Mat3x4],false)},{prop:"ApproxEqual",name:"ApproxEqual",pkg:"",typ:$funcType([Mat4x3],[$Bool],false)},{prop:"ApproxEqualThreshold",name:"ApproxEqualThreshold",pkg:"",typ:$funcType([Mat4x3,$Float64],[$Bool],false)},{prop:"ApproxFuncEqual",name:"ApproxFuncEqual",pkg:"",typ:$funcType([Mat4x3,funcType],[$Bool],false)},{prop:"At",name:"At",pkg:"",typ:$funcType([$Int,$Int],[$Float64],false)},{prop:"Index",name:"Index",pkg:"",typ:$funcType([$Int,$Int],[$Int],false)},{prop:"Row",name:"Row",pkg:"",typ:$funcType([$Int],[Vec3],false)},{prop:"Rows",name:"Rows",pkg:"",typ:$funcType([],[Vec3,Vec3,Vec3,Vec3],false)},{prop:"Col",name:"Col",pkg:"",typ:$funcType([$Int],[Vec4],false)},{prop:"Cols",name:"Cols",pkg:"",typ:$funcType([],[Vec4,Vec4,Vec4],false)},{prop:"Abs",name:"Abs",pkg:"",typ:$funcType([],[Mat4x3],false)},{prop:"String",name:"String",pkg:"",typ:$funcType([],[$String],false)}];ptrType$10.methods=[{prop:"SetCol",name:"SetCol",pkg:"",typ:$funcType([$Int,Vec4],[],false)},{prop:"SetRow",name:"SetRow",pkg:"",typ:$funcType([$Int,Vec3],[],false)},{prop:"Set",name:"Set",pkg:"",typ:$funcType([$Int,$Int,$Float64],[],false)}];Mat4.methods=[{prop:"Mat2",name:"Mat2",pkg:"",typ:$funcType([],[Mat2],false)},{prop:"Mat3",name:"Mat3",pkg:"",typ:$funcType([],[Mat3],false)},{prop:"Diag",name:"Diag",pkg:"",typ:$funcType([],[Vec4],false)},{prop:"Add",name:"Add",pkg:"",typ:$funcType([Mat4],[Mat4],false)},{prop:"Sub",name:"Sub",pkg:"",typ:$funcType([Mat4],[Mat4],false)},{prop:"Mul",name:"Mul",pkg:"",typ:$funcType([$Float64],[Mat4],false)},{prop:"Mul4x1",name:"Mul4x1",pkg:"",typ:$funcType([Vec4],[Vec4],false)},{prop:"Mul4x2",name:"Mul4x2",pkg:"",typ:$funcType([Mat4x2],[Mat4x2],false)},{prop:"Mul4x3",name:"Mul4x3",pkg:"",typ:$funcType([Mat4x3],[Mat4x3],false)},{prop:"Mul4",name:"Mul4",pkg:"",typ:$funcType([Mat4],[Mat4],false)},{prop:"Transpose",name:"Transpose",pkg:"",typ:$funcType([],[Mat4],false)},{prop:"Det",name:"Det",pkg:"",typ:$funcType([],[$Float64],false)},{prop:"Inv",name:"Inv",pkg:"",typ:$funcType([],[Mat4],false)},{prop:"ApproxEqual",name:"ApproxEqual",pkg:"",typ:$funcType([Mat4],[$Bool],false)},{prop:"ApproxEqualThreshold",name:"ApproxEqualThreshold",pkg:"",typ:$funcType([Mat4,$Float64],[$Bool],false)},{prop:"ApproxFuncEqual",name:"ApproxFuncEqual",pkg:"",typ:$funcType([Mat4,funcType],[$Bool],false)},{prop:"At",name:"At",pkg:"",typ:$funcType([$Int,$Int],[$Float64],false)},{prop:"Index",name:"Index",pkg:"",typ:$funcType([$Int,$Int],[$Int],false)},{prop:"Row",name:"Row",pkg:"",typ:$funcType([$Int],[Vec4],false)},{prop:"Rows",name:"Rows",pkg:"",typ:$funcType([],[Vec4,Vec4,Vec4,Vec4],false)},{prop:"Col",name:"Col",pkg:"",typ:$funcType([$Int],[Vec4],false)},{prop:"Cols",name:"Cols",pkg:"",typ:$funcType([],[Vec4,Vec4,Vec4,Vec4],false)},{prop:"Trace",name:"Trace",pkg:"",typ:$funcType([],[$Float64],false)},{prop:"Abs",name:"Abs",pkg:"",typ:$funcType([],[Mat4],false)},{prop:"String",name:"String",pkg:"",typ:$funcType([],[$String],false)}];ptrType$11.methods=[{prop:"SetCol",name:"SetCol",pkg:"",typ:$funcType([$Int,Vec4],[],false)},{prop:"SetRow",name:"SetRow",pkg:"",typ:$funcType([$Int,Vec4],[],false)},{prop:"Set",name:"Set",pkg:"",typ:$funcType([$Int,$Int,$Float64],[],false)}];Quat.methods=[{prop:"X",name:"X",pkg:"",typ:$funcType([],[$Float64],false)},{prop:"Y",name:"Y",pkg:"",typ:$funcType([],[$Float64],false)},{prop:"Z",name:"Z",pkg:"",typ:$funcType([],[$Float64],false)},{prop:"Add",name:"Add",pkg:"",typ:$funcType([Quat],[Quat],false)},{prop:"Sub",name:"Sub",pkg:"",typ:$funcType([Quat],[Quat],false)},{prop:"Mul",name:"Mul",pkg:"",typ:$funcType([Quat],[Quat],false)},{prop:"Scale",name:"Scale",pkg:"",typ:$funcType([$Float64],[Quat],false)},{prop:"Conjugate",name:"Conjugate",pkg:"",typ:$funcType([],[Quat],false)},{prop:"Len",name:"Len",pkg:"",typ:$funcType([],[$Float64],false)},{prop:"Norm",name:"Norm",pkg:"",typ:$funcType([],[$Float64],false)},{prop:"Normalize",name:"Normalize",pkg:"",typ:$funcType([],[Quat],false)},{prop:"Inverse",name:"Inverse",pkg:"",typ:$funcType([],[Quat],false)},{prop:"Rotate",name:"Rotate",pkg:"",typ:$funcType([Vec3],[Vec3],false)},{prop:"Mat4",name:"Mat4",pkg:"",typ:$funcType([],[Mat4],false)},{prop:"Dot",name:"Dot",pkg:"",typ:$funcType([Quat],[$Float64],false)},{prop:"ApproxEqual",name:"ApproxEqual",pkg:"",typ:$funcType([Quat],[$Bool],false)},{prop:"ApproxEqualThreshold",name:"ApproxEqualThreshold",pkg:"",typ:$funcType([Quat,$Float64],[$Bool],false)},{prop:"ApproxEqualFunc",name:"ApproxEqualFunc",pkg:"",typ:$funcType([Quat,funcType],[$Bool],false)},{prop:"OrientationEqual",name:"OrientationEqual",pkg:"",typ:$funcType([Quat],[$Bool],false)},{prop:"OrientationEqualThreshold",name:"OrientationEqualThreshold",pkg:"",typ:$funcType([Quat,$Float64],[$Bool],false)}];Vec2.methods=[{prop:"Vec3",name:"Vec3",pkg:"",typ:$funcType([$Float64],[Vec3],false)},{prop:"Vec4",name:"Vec4",pkg:"",typ:$funcType([$Float64,$Float64],[Vec4],false)},{prop:"Elem",name:"Elem",pkg:"",typ:$funcType([],[$Float64,$Float64],false)},{prop:"Add",name:"Add",pkg:"",typ:$funcType([Vec2],[Vec2],false)},{prop:"Sub",name:"Sub",pkg:"",typ:$funcType([Vec2],[Vec2],false)},{prop:"Mul",name:"Mul",pkg:"",typ:$funcType([$Float64],[Vec2],false)},{prop:"Dot",name:"Dot",pkg:"",typ:$funcType([Vec2],[$Float64],false)},{prop:"Len",name:"Len",pkg:"",typ:$funcType([],[$Float64],false)},{prop:"LenSqr",name:"LenSqr",pkg:"",typ:$funcType([],[$Float64],false)},{prop:"Normalize",name:"Normalize",pkg:"",typ:$funcType([],[Vec2],false)},{prop:"ApproxEqual",name:"ApproxEqual",pkg:"",typ:$funcType([Vec2],[$Bool],false)},{prop:"ApproxEqualThreshold",name:"ApproxEqualThreshold",pkg:"",typ:$funcType([Vec2,$Float64],[$Bool],false)},{prop:"ApproxFuncEqual",name:"ApproxFuncEqual",pkg:"",typ:$funcType([Vec2,funcType],[$Bool],false)},{prop:"X",name:"X",pkg:"",typ:$funcType([],[$Float64],false)},{prop:"Y",name:"Y",pkg:"",typ:$funcType([],[$Float64],false)},{prop:"OuterProd2",name:"OuterProd2",pkg:"",typ:$funcType([Vec2],[Mat2],false)},{prop:"OuterProd3",name:"OuterProd3",pkg:"",typ:$funcType([Vec3],[Mat2x3],false)},{prop:"OuterProd4",name:"OuterProd4",pkg:"",typ:$funcType([Vec4],[Mat2x4],false)}];Vec3.methods=[{prop:"Vec4",name:"Vec4",pkg:"",typ:$funcType([$Float64],[Vec4],false)},{prop:"Vec2",name:"Vec2",pkg:"",typ:$funcType([],[Vec2],false)},{prop:"Elem",name:"Elem",pkg:"",typ:$funcType([],[$Float64,$Float64,$Float64],false)},{prop:"Cross",name:"Cross",pkg:"",typ:$funcType([Vec3],[Vec3],false)},{prop:"Add",name:"Add",pkg:"",typ:$funcType([Vec3],[Vec3],false)},{prop:"Sub",name:"Sub",pkg:"",typ:$funcType([Vec3],[Vec3],false)},{prop:"Mul",name:"Mul",pkg:"",typ:$funcType([$Float64],[Vec3],false)},{prop:"Dot",name:"Dot",pkg:"",typ:$funcType([Vec3],[$Float64],false)},{prop:"Len",name:"Len",pkg:"",typ:$funcType([],[$Float64],false)},{prop:"LenSqr",name:"LenSqr",pkg:"",typ:$funcType([],[$Float64],false)},{prop:"Normalize",name:"Normalize",pkg:"",typ:$funcType([],[Vec3],false)},{prop:"ApproxEqual",name:"ApproxEqual",pkg:"",typ:$funcType([Vec3],[$Bool],false)},{prop:"ApproxEqualThreshold",name:"ApproxEqualThreshold",pkg:"",typ:$funcType([Vec3,$Float64],[$Bool],false)},{prop:"ApproxFuncEqual",name:"ApproxFuncEqual",pkg:"",typ:$funcType([Vec3,funcType],[$Bool],false)},{prop:"X",name:"X",pkg:"",typ:$funcType([],[$Float64],false)},{prop:"Y",name:"Y",pkg:"",typ:$funcType([],[$Float64],false)},{prop:"Z",name:"Z",pkg:"",typ:$funcType([],[$Float64],false)},{prop:"OuterProd2",name:"OuterProd2",pkg:"",typ:$funcType([Vec2],[Mat3x2],false)},{prop:"OuterProd3",name:"OuterProd3",pkg:"",typ:$funcType([Vec3],[Mat3],false)},{prop:"OuterProd4",name:"OuterProd4",pkg:"",typ:$funcType([Vec4],[Mat3x4],false)}];Vec4.methods=[{prop:"Vec2",name:"Vec2",pkg:"",typ:$funcType([],[Vec2],false)},{prop:"Vec3",name:"Vec3",pkg:"",typ:$funcType([],[Vec3],false)},{prop:"Elem",name:"Elem",pkg:"",typ:$funcType([],[$Float64,$Float64,$Float64,$Float64],false)},{prop:"Quat",name:"Quat",pkg:"",typ:$funcType([],[Quat],false)},{prop:"Add",name:"Add",pkg:"",typ:$funcType([Vec4],[Vec4],false)},{prop:"Sub",name:"Sub",pkg:"",typ:$funcType([Vec4],[Vec4],false)},{prop:"Mul",name:"Mul",pkg:"",typ:$funcType([$Float64],[Vec4],false)},{prop:"Dot",name:"Dot",pkg:"",typ:$funcType([Vec4],[$Float64],false)},{prop:"Len",name:"Len",pkg:"",typ:$funcType([],[$Float64],false)},{prop:"LenSqr",name:"LenSqr",pkg:"",typ:$funcType([],[$Float64],false)},{prop:"Normalize",name:"Normalize",pkg:"",typ:$funcType([],[Vec4],false)},{prop:"ApproxEqual",name:"ApproxEqual",pkg:"",typ:$funcType([Vec4],[$Bool],false)},{prop:"ApproxEqualThreshold",name:"ApproxEqualThreshold",pkg:"",typ:$funcType([Vec4,$Float64],[$Bool],false)},{prop:"ApproxFuncEqual",name:"ApproxFuncEqual",pkg:"",typ:$funcType([Vec4,funcType],[$Bool],false)},{prop:"X",name:"X",pkg:"",typ:$funcType([],[$Float64],false)},{prop:"Y",name:"Y",pkg:"",typ:$funcType([],[$Float64],false)},{prop:"Z",name:"Z",pkg:"",typ:$funcType([],[$Float64],false)},{prop:"W",name:"W",pkg:"",typ:$funcType([],[$Float64],false)},{prop:"OuterProd2",name:"OuterProd2",pkg:"",typ:$funcType([Vec2],[Mat4x2],false)},{prop:"OuterProd3",name:"OuterProd3",pkg:"",typ:$funcType([Vec3],[Mat4x3],false)},{prop:"OuterProd4",name:"OuterProd4",pkg:"",typ:$funcType([Vec4],[Mat4],false)}];Mat2.init($Float64,4);Mat2x3.init($Float64,6);Mat2x4.init($Float64,8);Mat3x2.init($Float64,6);Mat3.init($Float64,9);Mat3x4.init($Float64,12);Mat4x2.init($Float64,8);Mat4x3.init($Float64,12);Mat4.init($Float64,16);Quat.init("",[{prop:"W",name:"W",embedded:false,exported:true,typ:$Float64,tag:""},{prop:"V",name:"V",embedded:false,exported:true,typ:Vec3,tag:""}]);Vec2.init($Float64,2);Vec3.init($Float64,3);Vec4.init($Float64,4);$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=bytes.$init();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=errors.$init();/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=fmt.$init();/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=f64.$init();/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=math.$init();/* */$s=5;case 5:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=sync.$init();/* */$s=6;case 6:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=tabwriter.$init();/* */$s=7;case 7:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$pkg.Epsilon=1e-10;$pkg.MinNormal=1.1754943508222875e-38;$pkg.MaxValue=1.7976931348623157e+308;$pkg.InfPos=math.Inf(1);$pkg.InfNeg=math.Inf(-1);$pkg.NaN=math.NaN();/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["tool/log"]=function(){var $pkg={},$init,fmt,sliceType,Log;fmt=$packages["fmt"];sliceType=$sliceType($emptyInterface);Log=function(category,title,msg){var _entry,_r,category,msg,title,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_r=$f._r;category=$f.category;msg=$f.msg;title=$f.title;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:if((_entry=$pkg.Category[$String.keyFor(category)],_entry!==undefined?_entry.v:false)===false){$s=-1;return;}_r=fmt.Printf("[%v][%v]%v\n",new sliceType([new $String(category),new $String(title),new $String(msg)]));/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_r;$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:Log};}$f._entry=_entry;$f._r=_r;$f.category=category;$f.msg=msg;$f.title=title;$f.$s=$s;$f.$r=$r;return $f;};$pkg.Log=Log;$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=fmt.$init();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$pkg.Category=$makeMap($String.keyFor,[]);/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["app/model/v1/internal/common"]=function(){var $pkg={},$init,types,tool,data,helper,protocol,uidata,fmt,mgl64,math,strconv,astar,log,sliceType,sliceType$1,arrayType,arrayType$1,sliceType$2,sliceType$3,sliceType$4,terrainCache,unitByPosition,unitByRegion,CheckInvalidWeapon,CheckInvalidWeapons,NewPilot,NewRobot,ObserveComponent,ObserveComponents,ObservePilot,ObservePilots,ObserveRobot,ObserveRobotMenu,ObserveRobots,ObserveWeapon,ObserveWeapons,QueryMostCloseEnemyPosition,QueryPilot,QueryPilotAtk,QueryPilotEvade,QueryPilotGuard,QueryPilotMelee,QueryPilotRange,QueryRobot,QueryRobotArmor,QueryRobotBeamArmor,QueryRobotCombatPower,QueryRobotComponents,QueryRobotMaxEn,QueryRobotMaxHp,QueryRobotMovePower,QueryRobotPower,QueryRobotSuitability,QueryRobotWeaponAbility,QueryRobotWeaponAccuracy,QueryRobotWeaponAttackRange,QueryRobotWeaponRange,QueryRobotWeaponSuitability,QueryRobotWeapons,RobotMoveCost,SearchUnitByPosition,proj,SearchUnitByRegion,QueryUnitsByPlayer,IsRobotDone,IsFriendlyCell,IsFriendlyRobot;types=$packages["app/model/v1/internal/tool/types"];tool=$packages["app/tool"];data=$packages["app/tool/data"];helper=$packages["app/tool/helper"];protocol=$packages["app/tool/protocol"];uidata=$packages["app/tool/uidata"];fmt=$packages["fmt"];mgl64=$packages["github.com/go-gl/mathgl/mgl64"];math=$packages["math"];strconv=$packages["strconv"];astar=$packages["tool/astar"];log=$packages["tool/log"];sliceType=$sliceType($emptyInterface);sliceType$1=$sliceType(protocol.Position);arrayType=$arrayType($Int,2);arrayType$1=$arrayType($Float64,4);sliceType$2=$sliceType($String);sliceType$3=$sliceType($Float64);sliceType$4=$sliceType(astar.NeighborsNode);CheckInvalidWeapon=function(model,robotID,weapon,units,hideFlag){var _1,_entry,_entry$1,_entry$2,_entry$3,_i,_r,_r$1,_r$2,_r$3,_r$4,_r$5,_r$6,_r$7,_r$8,_r$9,_ref,_tuple,_tuple$1,_tuple$2,_tuple$3,_tuple$4,_tuple$5,_tuple$6,_tuple$7,_tuple$8,ability,attackRange,cost,err,err$1,err$2,err$3,has,has$1,has$2,hasMoveAttack,hideFlag,isAllUnitOutSideOutRange,model,robot,robotID,robotPos,tag,unitID,unitPosList,unitPosOutSideOfRange,units,weapon,weaponProto,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_entry=$f._entry;_entry$1=$f._entry$1;_entry$2=$f._entry$2;_entry$3=$f._entry$3;_i=$f._i;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_r$7=$f._r$7;_r$8=$f._r$8;_r$9=$f._r$9;_ref=$f._ref;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;_tuple$4=$f._tuple$4;_tuple$5=$f._tuple$5;_tuple$6=$f._tuple$6;_tuple$7=$f._tuple$7;_tuple$8=$f._tuple$8;ability=$f.ability;attackRange=$f.attackRange;cost=$f.cost;err=$f.err;err$1=$f.err$1;err$2=$f.err$2;err$3=$f.err$3;has=$f.has;has$1=$f.has$1;has$2=$f.has$2;hasMoveAttack=$f.hasMoveAttack;hideFlag=$f.hideFlag;isAllUnitOutSideOutRange=$f.isAllUnitOutSideOutRange;model=$f.model;robot=$f.robot;robotID=$f.robotID;robotPos=$f.robotPos;tag=$f.tag;unitID=$f.unitID;unitPosList=$f.unitPosList;unitPosOutSideOfRange=$f.unitPosOutSideOfRange;units=$f.units;weapon=$f.weapon;weaponProto=$f.weaponProto;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:if(hideFlag===false){hideFlag=$makeMap($Int.keyFor,[]);}_r=protocol.TryGetStringRobot(model.App.Gameplay.Robots,robotID);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;robot=$clone(_tuple[0],protocol.Robot);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return["",err];}_tuple$1=(_entry=hideFlag[$Int.keyFor(0)],_entry!==undefined?[_entry.v,true]:[false,false]);has=_tuple$1[1];/* */if(has===false){$s=2;continue;}/* */$s=3;continue;/* if (has === false) { */case 2:_r$1=protocol.TryGetStringTag(model.App.Gameplay.Tags,robotID);/* */$s=4;case 4:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$2=_r$1;tag=$clone(_tuple$2[0],protocol.Tag);/* */if(tag.MoveCount>0){$s=5;continue;}/* */$s=6;continue;/* if (tag.MoveCount > 0) { */case 5:_r$2=QueryRobotWeaponAbility($clone(model,types.Model),robot.ID,$clone(weapon,protocol.Weapon),true);/* */$s=7;case 7:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$3=_r$2;ability=_tuple$3[0];err$1=_tuple$3[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return["",err$1];}_r$3=tool.FilterString(ability,function(c){var c;return c==="moveAttack";});/* */$s=8;case 8:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}hasMoveAttack=_r$3.$length>0;if(hasMoveAttack===false){$s=-1;return["\xE4\xBD\xA0\xE5\xBF\x85\xE9\xA0\x88\xE6\x9C\x89moveAttack\xE8\x83\xBD\xE5\x8A\x9B, \xE4\xB8\x8D\xE7\x84\xB6\xE4\xB8\x8D\xE8\x83\xBD\xE7\xA7\xBB\xE5\x8B\x95\xE5\xBE\x8C\xE6\x94\xBB\xE6\x93\x8A",$ifaceNil];}/* } */case 6:/* } */case 3:_tuple$4=(_entry$1=hideFlag[$Int.keyFor(1)],_entry$1!==undefined?[_entry$1.v,true]:[false,false]);has$1=_tuple$4[1];/* */if(has$1===false){$s=9;continue;}/* */$s=10;continue;/* if (has$1 === false) { */case 9:_r$4=data.TryGetStringWeaponProto(data.GameData.Weapon,weapon.ProtoID);/* */$s=11;case 11:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}_tuple$5=_r$4;weaponProto=$clone(_tuple$5[0],data.WeaponProto);err$2=_tuple$5[1];if(!$interfaceIsEqual(err$2,$ifaceNil)){$s=-1;return["",err$2];}_1=weaponProto.EnergyType;/* */if(_1==="energy"){$s=13;continue;}/* */if(_1==="bullet"){$s=14;continue;}/* */$s=15;continue;/* if (_1 === ("energy")) { */case 13:cost=weaponProto.EnergyCost;/* */if(robot.EN<cost){$s=17;continue;}/* */$s=18;continue;/* if (robot.EN < cost) { */case 17:_r$5=fmt.Sprintf("\xE8\x83\xBD\xE9\x87\x8F\xE4\xB8\x8D\xE8\xB6\xB3(%v/%v)",new sliceType([new $Int(cost),new $Int(robot.EN)]));/* */$s=19;case 19:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}$s=-1;return[_r$5,$ifaceNil];/* } */case 18:$s=16;continue;/* } else if (_1 === ("bullet")) { */case 14:if(weapon.BulletCount===0){$s=-1;return["\xE5\xBD\x88\xE8\x97\xA5\xE4\xB8\x8D\xE8\xB6\xB3",$ifaceNil];}$s=16;continue;/* } else { */case 15:_r$6=fmt.Sprintf("\xE6\x9C\xAA\xE5\xAE\x9A\xE7\xBE\xA9\xE7\x9A\x84\xE8\x83\xBD\xE9\x87\x8F\xE9\xA1\x9E\xE5\x9E\x8B(%+v)",new sliceType([new weaponProto.constructor.elem(weaponProto)]));/* */$s=20;case 20:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}$s=-1;return[_r$6,$ifaceNil];/* } */case 16:case 12:/* } */case 10:_tuple$6=(_entry$2=hideFlag[$Int.keyFor(2)],_entry$2!==undefined?[_entry$2.v,true]:[false,false]);has$2=_tuple$6[1];/* */if(has$2===false){$s=21;continue;}/* */$s=22;continue;/* if (has$2 === false) { */case 21:_r$7=protocol.TryGetStringPosition(model.App.Gameplay.Positions,robot.ID);/* */$s=23;case 23:if($c){$c=false;_r$7=_r$7.$blk();}if(_r$7&&_r$7.$blk!==undefined){break s;}_tuple$7=_r$7;robotPos=$clone(_tuple$7[0],protocol.Position);err$3=_tuple$7[1];if(!$interfaceIsEqual(err$3,$ifaceNil)){$s=-1;return["",err$3];}_r$8=QueryRobotWeaponAttackRange($clone(model,types.Model),robot.ID,$clone(weapon,protocol.Weapon),$clone(robotPos,protocol.Position));/* */$s=24;case 24:if($c){$c=false;_r$8=_r$8.$blk();}if(_r$8&&_r$8.$blk!==undefined){break s;}_tuple$8=_r$8;attackRange=_tuple$8[0];err$3=_tuple$8[1];if(!$interfaceIsEqual(err$3,$ifaceNil)){$s=-1;return["",err$3];}unitPosList=new sliceType$1([]);_ref=units;_i=0;while(true){if(!(_i<_ref.$length)){break;}unitID=_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i];unitPosList=$append(unitPosList,(_entry$3=model.App.Gameplay.Positions[$String.keyFor(unitID)],_entry$3!==undefined?_entry$3.v:arrayType.zero()));_i++;}unitPosOutSideOfRange=protocol.DifferencePosition(unitPosList,attackRange);isAllUnitOutSideOutRange=unitPosOutSideOfRange.$length===unitPosList.$length;/* */if(isAllUnitOutSideOutRange){$s=25;continue;}/* */$s=26;continue;/* if (isAllUnitOutSideOutRange) { */case 25:_r$9=fmt.Sprintf("\xE6\x95\xB5\xE4\xBA\xBA\xE4\xB8\x8D\xE5\x9C\xA8\xE7\xAF\x84\xE5\x9C\x8D\xE5\x85\xA7",new sliceType([]));/* */$s=27;case 27:if($c){$c=false;_r$9=_r$9.$blk();}if(_r$9&&_r$9.$blk!==undefined){break s;}$s=-1;return[_r$9,$ifaceNil];/* } */case 26:/* } */case 22:$s=-1;return["",$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:CheckInvalidWeapon};}$f._1=_1;$f._entry=_entry;$f._entry$1=_entry$1;$f._entry$2=_entry$2;$f._entry$3=_entry$3;$f._i=_i;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._r$7=_r$7;$f._r$8=_r$8;$f._r$9=_r$9;$f._ref=_ref;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f._tuple$4=_tuple$4;$f._tuple$5=_tuple$5;$f._tuple$6=_tuple$6;$f._tuple$7=_tuple$7;$f._tuple$8=_tuple$8;$f.ability=ability;$f.attackRange=attackRange;$f.cost=cost;$f.err=err;$f.err$1=err$1;$f.err$2=err$2;$f.err$3=err$3;$f.has=has;$f.has$1=has$1;$f.has$2=has$2;$f.hasMoveAttack=hasMoveAttack;$f.hideFlag=hideFlag;$f.isAllUnitOutSideOutRange=isAllUnitOutSideOutRange;$f.model=model;$f.robot=robot;$f.robotID=robotID;$f.robotPos=robotPos;$f.tag=tag;$f.unitID=unitID;$f.unitPosList=unitPosList;$f.unitPosOutSideOfRange=unitPosOutSideOfRange;$f.units=units;$f.weapon=weapon;$f.weaponProto=weaponProto;$f.$s=$s;$f.$r=$r;return $f;};$pkg.CheckInvalidWeapon=CheckInvalidWeapon;CheckInvalidWeapons=function(model,robotID,weapons,hideFlag){var _entry,_i,_key,_keys,_r,_r$1,_r$2,_ref,_tuple,_tuple$1,err,err$1,hideFlag,leftTopPos,model,notFound,ret,rightBottomPos,robotID,robotPos,units,validStr,weapon,weaponID,weapons,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_i=$f._i;_key=$f._key;_keys=$f._keys;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_ref=$f._ref;_tuple=$f._tuple;_tuple$1=$f._tuple$1;err=$f.err;err$1=$f.err$1;hideFlag=$f.hideFlag;leftTopPos=$f.leftTopPos;model=$f.model;notFound=$f.notFound;ret=$f.ret;rightBottomPos=$f.rightBottomPos;robotID=$f.robotID;robotPos=$f.robotPos;units=$f.units;validStr=$f.validStr;weapon=$f.weapon;weaponID=$f.weaponID;weapons=$f.weapons;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:model=[model];robotID=[robotID];ret=$makeMap($String.keyFor,[]);_r=protocol.TryGetStringPosition(model[0].App.Gameplay.Positions,robotID[0]);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;robotPos=$clone(_tuple[0],protocol.Position);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[ret,err];}leftTopPos=$toNativeArray($kindInt,[robotPos[0]-10>>0,robotPos[1]-10>>0]);rightBottomPos=$toNativeArray($kindInt,[robotPos[0]+10>>0,robotPos[1]+10>>0]);units=SearchUnitByRegion(model[0].App.Gameplay.Positions,$clone(leftTopPos,protocol.Position),$clone(rightBottomPos,protocol.Position));_r$1=tool.FilterString(units,function(model,robotID){return function $b(unitID){var _r$1,_r$2,_r$3,_tuple$1,err$1,isFriendly,unitID,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_tuple$1=$f._tuple$1;err$1=$f.err$1;isFriendly=$f.isFriendly;unitID=$f.unitID;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r$1=IsFriendlyRobot($clone(model[0],types.Model),robotID[0],unitID);/* */$s=1;case 1:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$1=_r$1;isFriendly=_tuple$1[0];err$1=_tuple$1[1];/* */if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=2;continue;}/* */$s=3;continue;/* if (!($interfaceIsEqual(err$1, $ifaceNil))) { */case 2:_r$2=err$1.Error();/* */$s=4;case 4:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_r$3=fmt.Println(new sliceType([new $String(_r$2)]));/* */$s=5;case 5:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_r$3;$s=-1;return false;/* } */case 3:$s=-1;return isFriendly===false;/* */}return;}if($f===undefined){$f={$blk:$b};}$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._tuple$1=_tuple$1;$f.err$1=err$1;$f.isFriendly=isFriendly;$f.unitID=unitID;$f.$s=$s;$f.$r=$r;return $f;};}(model,robotID));/* */$s=2;case 2:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}units=_r$1;notFound="";_ref=weapons;_i=0;_keys=$keys(_ref);/* while (true) { */case 3:/* if (!(_i < _keys.length)) { break; } */if(!(_i<_keys.length)){$s=4;continue;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;/* continue; */$s=3;continue;}weaponID=_entry.k;weapon=$clone(_entry.v,protocol.Weapon);_r$2=CheckInvalidWeapon($clone(model[0],types.Model),robotID[0],$clone(weapon,protocol.Weapon),units,hideFlag);/* */$s=5;case 5:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$1=_r$2;validStr=_tuple$1[0];err$1=_tuple$1[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[ret,err$1];}if(!(validStr===notFound)){_key=weaponID;(ret||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key)]={k:_key,v:validStr};}_i++;/* } */$s=3;continue;case 4:$s=-1;return[ret,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:CheckInvalidWeapons};}$f._entry=_entry;$f._i=_i;$f._key=_key;$f._keys=_keys;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._ref=_ref;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f.err=err;$f.err$1=err$1;$f.hideFlag=hideFlag;$f.leftTopPos=leftTopPos;$f.model=model;$f.notFound=notFound;$f.ret=ret;$f.rightBottomPos=rightBottomPos;$f.robotID=robotID;$f.robotPos=robotPos;$f.units=units;$f.validStr=validStr;$f.weapon=weapon;$f.weaponID=weaponID;$f.weapons=weapons;$f.$s=$s;$f.$r=$r;return $f;};$pkg.CheckInvalidWeapons=CheckInvalidWeapons;NewPilot=function(origin,pilot){var _r,_r$1,_tuple,ctx,err,notFound,origin,pilot,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_tuple=$f._tuple;ctx=$f.ctx;err=$f.err;notFound=$f.notFound;origin=$f.origin;pilot=$f.pilot;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:err=$ifaceNil;ctx=$clone(origin,types.Model);notFound="";_r=data.TryGetStringPilotProto(data.GameData.Pilot,pilot.ProtoID);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,new protocol.Pilot.ptr("","","",0,0,0,0,0,0,0,0,0,0,0),err];}/* */if(pilot.ID===notFound){$s=2;continue;}/* */$s=3;continue;/* if (pilot.ID === notFound) { */case 2:_r$1=fmt.Sprintf("NewPilot_%v",new sliceType([new $Int(ctx.App.SeqID)]));/* */$s=4;case 4:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}pilot.ID=_r$1;ctx.App.SeqID=ctx.App.SeqID+1>>0;/* } */case 3:ctx.App.Gameplay.Pilots=protocol.AssocStringPilot(ctx.App.Gameplay.Pilots,pilot.ID,$clone(pilot,protocol.Pilot));$s=-1;return[ctx,pilot,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:NewPilot};}$f._r=_r;$f._r$1=_r$1;$f._tuple=_tuple;$f.ctx=ctx;$f.err=err;$f.notFound=notFound;$f.origin=origin;$f.pilot=pilot;$f.$s=$s;$f.$r=$r;return $f;};$pkg.NewPilot=NewPilot;NewRobot=function(origin,position,robot){var _r,_r$1,_r$2,_r$3,_r$4,_r$5,_r$6,_r$7,_tuple,_tuple$1,_tuple$2,_tuple$3,ctx,err,notFound,origin,position,robot,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_r$7=$f._r$7;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;ctx=$f.ctx;err=$f.err;notFound=$f.notFound;origin=$f.origin;position=$f.position;robot=$f.robot;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:err=$ifaceNil;ctx=$clone(origin,types.Model);notFound="";_r=data.TryGetStringRobotProto(data.GameData.Robot,robot.ProtoID);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),err];}/* */if(robot.PlayerID===notFound){$s=2;continue;}/* */$s=3;continue;/* if (robot.PlayerID === notFound) { */case 2:_r$1=fmt.Errorf("robot(%v) PlayerID not found",new sliceType([new robot.constructor.elem(robot)]));/* */$s=4;case 4:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}$s=-1;return[origin,new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),_r$1];/* } */case 3:/* */if(robot.PilotID===notFound){$s=5;continue;}/* */$s=6;continue;/* if (robot.PilotID === notFound) { */case 5:_r$2=fmt.Errorf("robot(%v) PilotID not found",new sliceType([new robot.constructor.elem(robot)]));/* */$s=7;case 7:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}$s=-1;return[origin,new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),_r$2];/* } */case 6:_r$3=protocol.TryGetStringPilot(ctx.App.Gameplay.Pilots,robot.PilotID);/* */$s=8;case 8:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_tuple$1=_r$3;err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),err];}/* */if(robot.ID===notFound){$s=9;continue;}/* */$s=10;continue;/* if (robot.ID === notFound) { */case 9:_r$4=fmt.Sprintf("NewRobot_%v",new sliceType([new $Int(ctx.App.SeqID)]));/* */$s=11;case 11:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}robot.ID=_r$4;ctx.App.SeqID=ctx.App.SeqID+1>>0;/* } */case 10:if(robot.Transform===notFound){robot.Transform=robot.ProtoID;}/* */if(!(robot.Transform===robot.ProtoID)){$s=12;continue;}/* */$s=13;continue;/* if (!(robot.Transform === robot.ProtoID)) { */case 12:_r$5=fmt.Errorf("transform(%v) must equals protoID(%v)",new sliceType([new $String(robot.Transform),new $String(robot.ProtoID)]));/* */$s=14;case 14:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}$s=-1;return[origin,new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),_r$5];/* } */case 13:if(robot.WeaponsByTransform===false){robot.WeaponsByTransform=$makeMap($String.keyFor,[]);}ctx.App.Gameplay.Robots=protocol.AssocStringRobot(ctx.App.Gameplay.Robots,robot.ID,$clone(robot,protocol.Robot));ctx.App.Gameplay.Positions=protocol.AssocStringPosition(ctx.App.Gameplay.Positions,robot.ID,$clone(position,protocol.Position));ctx.App.Gameplay.Units=$append(ctx.App.Gameplay.Units,robot.ID);_r$6=QueryRobotMaxHp($clone(ctx,types.Model),robot.ID,true);/* */$s=15;case 15:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}_tuple$2=_r$6;robot.HP=_tuple$2[0];err=_tuple$2[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),err];}_r$7=QueryRobotMaxEn($clone(ctx,types.Model),robot.ID,true);/* */$s=16;case 16:if($c){$c=false;_r$7=_r$7.$blk();}if(_r$7&&_r$7.$blk!==undefined){break s;}_tuple$3=_r$7;robot.EN=_tuple$3[0];err=_tuple$3[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),err];}ctx.App.Gameplay.Robots=protocol.AssocStringRobot(ctx.App.Gameplay.Robots,robot.ID,$clone(robot,protocol.Robot));$s=-1;return[ctx,robot,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:NewRobot};}$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._r$7=_r$7;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f.ctx=ctx;$f.err=err;$f.notFound=notFound;$f.origin=origin;$f.position=position;$f.robot=robot;$f.$s=$s;$f.$r=$r;return $f;};$pkg.NewRobot=NewRobot;ObserveComponent=function(model,robotID,weapon,isGameplay){var _r,_tuple,err,isGameplay,model,robotID,weapon,weaponProto,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tuple=$f._tuple;err=$f.err;isGameplay=$f.isGameplay;model=$f.model;robotID=$f.robotID;weapon=$f.weapon;weaponProto=$f.weaponProto;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=log.Log(protocol.LogCategoryRender,"ObserveComponent","start");/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}_r=data.TryGetStringComponentProto(data.GameData.Component,weapon.ProtoID);/* */$s=2;case 2:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;weaponProto=$clone(_tuple[0],data.ComponentProto);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[new protocol.Component.ptr("","","",0,"",sliceType$2.nil,0,""),err];}weapon.Title=weaponProto.Title;weapon.Value=weaponProto.Value;weapon.PowerCost=weaponProto.PowerCost;weapon.Cost=weaponProto.Cost;weapon.Desc=weaponProto.Desc;weapon.Title=weaponProto.Title;weapon.Action=weaponProto.Action;$r=log.Log(protocol.LogCategoryRender,"ObserveComponent","end");/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return[weapon,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:ObserveComponent};}$f._r=_r;$f._tuple=_tuple;$f.err=err;$f.isGameplay=isGameplay;$f.model=model;$f.robotID=robotID;$f.weapon=weapon;$f.weaponProto=weaponProto;$f.$s=$s;$f.$r=$r;return $f;};$pkg.ObserveComponent=ObserveComponent;ObserveComponents=function(model,robotID,origin,isGameplay){var ID,_entry,_i,_key,_keys,_r,_ref,_tuple,ctx,err,isGameplay,model,origin,robotID,weapon,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;ID=$f.ID;_entry=$f._entry;_i=$f._i;_key=$f._key;_keys=$f._keys;_r=$f._r;_ref=$f._ref;_tuple=$f._tuple;ctx=$f.ctx;err=$f.err;isGameplay=$f.isGameplay;model=$f.model;origin=$f.origin;robotID=$f.robotID;weapon=$f.weapon;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=log.Log(protocol.LogCategoryRender,"ObserveComponents","start");/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}err=$ifaceNil;ctx=origin;_ref=origin;_i=0;_keys=$keys(_ref);/* while (true) { */case 2:/* if (!(_i < _keys.length)) { break; } */if(!(_i<_keys.length)){$s=3;continue;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;/* continue; */$s=2;continue;}ID=_entry.k;weapon=$clone(_entry.v,protocol.Component);_r=ObserveComponent($clone(model,types.Model),robotID,$clone(weapon,protocol.Component),isGameplay);/* */$s=4;case 4:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;_key=ID;(ctx||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key)]={k:_key,v:$clone(_tuple[0],protocol.Component)};err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}_i++;/* } */$s=2;continue;case 3:$r=log.Log(protocol.LogCategoryRender,"ObserveComponents","end");/* */$s=5;case 5:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return[ctx,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:ObserveComponents};}$f.ID=ID;$f._entry=_entry;$f._i=_i;$f._key=_key;$f._keys=_keys;$f._r=_r;$f._ref=_ref;$f._tuple=_tuple;$f.ctx=ctx;$f.err=err;$f.isGameplay=isGameplay;$f.model=model;$f.origin=origin;$f.robotID=robotID;$f.weapon=weapon;$f.$s=$s;$f.$r=$r;return $f;};$pkg.ObserveComponents=ObserveComponents;ObservePilot=function(model,pilot,isGameplay){var _r,_tuple,err,isGameplay,model,pilot,pilotProto,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tuple=$f._tuple;err=$f.err;isGameplay=$f.isGameplay;model=$f.model;pilot=$f.pilot;pilotProto=$f.pilotProto;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:err=$ifaceNil;_r=data.TryGetStringPilotProto(data.GameData.Pilot,pilot.ProtoID);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;pilotProto=$clone(_tuple[0],data.PilotProto);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[new protocol.Pilot.ptr("","","",0,0,0,0,0,0,0,0,0,0,0),err];}pilot.Title=pilotProto.Title;pilot.Melee=pilotProto.Melee;pilot.Range=pilotProto.Melee;pilot.Atk=pilotProto.Atk;pilot.Guard=pilotProto.Guard;pilot.Evade=pilotProto.Evade;pilot.Tech=pilotProto.Tech;$s=-1;return[pilot,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:ObservePilot};}$f._r=_r;$f._tuple=_tuple;$f.err=err;$f.isGameplay=isGameplay;$f.model=model;$f.pilot=pilot;$f.pilotProto=pilotProto;$f.$s=$s;$f.$r=$r;return $f;};$pkg.ObservePilot=ObservePilot;ObservePilots=function(model,origin,isGameplay){var ID,_entry,_i,_key,_keys,_r,_ref,_tuple,err,isGameplay,localRobots,model,origin,robot,robot$1,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;ID=$f.ID;_entry=$f._entry;_i=$f._i;_key=$f._key;_keys=$f._keys;_r=$f._r;_ref=$f._ref;_tuple=$f._tuple;err=$f.err;isGameplay=$f.isGameplay;localRobots=$f.localRobots;model=$f.model;origin=$f.origin;robot=$f.robot;robot$1=$f.robot$1;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:localRobots=$makeMap($String.keyFor,[]);_ref=origin;_i=0;_keys=$keys(_ref);/* while (true) { */case 1:/* if (!(_i < _keys.length)) { break; } */if(!(_i<_keys.length)){$s=2;continue;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;/* continue; */$s=1;continue;}ID=_entry.k;robot=$clone(_entry.v,protocol.Pilot);_r=ObservePilot($clone(model,types.Model),$clone(robot,protocol.Pilot),isGameplay);/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;robot$1=$clone(_tuple[0],protocol.Pilot);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}_key=ID;(localRobots||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key)]={k:_key,v:$clone(robot$1,protocol.Pilot)};_i++;/* } */$s=1;continue;case 2:$s=-1;return[localRobots,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:ObservePilots};}$f.ID=ID;$f._entry=_entry;$f._i=_i;$f._key=_key;$f._keys=_keys;$f._r=_r;$f._ref=_ref;$f._tuple=_tuple;$f.err=err;$f.isGameplay=isGameplay;$f.localRobots=localRobots;$f.model=model;$f.origin=origin;$f.robot=robot;$f.robot$1=robot$1;$f.$s=$s;$f.$r=$r;return $f;};$pkg.ObservePilots=ObservePilots;ObserveRobot=function(model,robot,isGameplay){var _arg,_arg$1,_r,_r$1,_r$10,_r$2,_r$3,_r$4,_r$5,_r$6,_r$7,_r$8,_r$9,_tuple,_tuple$1,_tuple$2,_tuple$3,_tuple$4,_tuple$5,_tuple$6,_tuple$7,_tuple$8,_tuple$9,components,err,isGameplay,maxEn,maxHP,model,robot,robotProto,weapons,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_arg=$f._arg;_arg$1=$f._arg$1;_r=$f._r;_r$1=$f._r$1;_r$10=$f._r$10;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_r$7=$f._r$7;_r$8=$f._r$8;_r$9=$f._r$9;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;_tuple$4=$f._tuple$4;_tuple$5=$f._tuple$5;_tuple$6=$f._tuple$6;_tuple$7=$f._tuple$7;_tuple$8=$f._tuple$8;_tuple$9=$f._tuple$9;components=$f.components;err=$f.err;isGameplay=$f.isGameplay;maxEn=$f.maxEn;maxHP=$f.maxHP;model=$f.model;robot=$f.robot;robotProto=$f.robotProto;weapons=$f.weapons;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=log.Log(protocol.LogCategoryRender,"ObserveRobot","start");/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}_arg=protocol.LogCategoryRender;_r=fmt.Sprintf("robot(%+v)",new sliceType([new robot.constructor.elem(robot)]));/* */$s=2;case 2:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_arg$1=_r;$r=log.Log(_arg,"ObserveRobot",_arg$1);/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}err=$ifaceNil;_r$1=QueryRobotMaxHp($clone(model,types.Model),robot.ID,isGameplay);/* */$s=4;case 4:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple=_r$1;maxHP=_tuple[0];err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),err];}robot.MaxHP=maxHP;_r$2=QueryRobotMaxEn($clone(model,types.Model),robot.ID,isGameplay);/* */$s=5;case 5:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$1=_r$2;maxEn=_tuple$1[0];err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),err];}robot.MaxEN=maxEn;_r$3=QueryRobotComponents($clone(model,types.Model),robot.ID,isGameplay);/* */$s=6;case 6:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_tuple$2=_r$3;components=_tuple$2[0];err=_tuple$2[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),err];}robot.Components=components;_r$4=QueryRobotWeapons($clone(model,types.Model),robot.ID,robot.Transform,isGameplay);/* */$s=7;case 7:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}_tuple$3=_r$4;weapons=_tuple$3[0];err=_tuple$3[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),err];}_r$5=ObserveWeapons($clone(model,types.Model),robot.ID,weapons,isGameplay);/* */$s=8;case 8:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}_tuple$4=_r$5;weapons=_tuple$4[0];err=_tuple$4[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),err];}robot.Weapons=weapons;_r$6=data.TryGetStringRobotProto(data.GameData.Robot,robot.ProtoID);/* */$s=9;case 9:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}_tuple$5=_r$6;robotProto=$clone(_tuple$5[0],data.RobotProto);err=_tuple$5[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),err];}robot.Title=robotProto.Title;_r$7=QueryRobotPower($clone(model,types.Model),robot.ID,isGameplay);/* */$s=10;case 10:if($c){$c=false;_r$7=_r$7.$blk();}if(_r$7&&_r$7.$blk!==undefined){break s;}_tuple$6=_r$7;robot.Power=_tuple$6[0];err=_tuple$6[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),err];}robot.MaxPower=robotProto.Power;_r$8=QueryRobotArmor($clone(model,types.Model),robot.ID,isGameplay);/* */$s=11;case 11:if($c){$c=false;_r$8=_r$8.$blk();}if(_r$8&&_r$8.$blk!==undefined){break s;}_tuple$7=_r$8;robot.Armor=_tuple$7[0];err=_tuple$7[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),err];}_r$9=QueryRobotBeamArmor($clone(model,types.Model),robot.ID,isGameplay);/* */$s=12;case 12:if($c){$c=false;_r$9=_r$9.$blk();}if(_r$9&&_r$9.$blk!==undefined){break s;}_tuple$8=_r$9;robot.BeamArmor=_tuple$8[0];err=_tuple$8[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),err];}_r$10=QueryRobotSuitability($clone(model,types.Model),robot.ID,isGameplay);/* */$s=13;case 13:if($c){$c=false;_r$10=_r$10.$blk();}if(_r$10&&_r$10.$blk!==undefined){break s;}_tuple$9=_r$10;arrayType$1.copy(robot.Suitability,_tuple$9[0]);err=_tuple$9[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),err];}$r=log.Log(protocol.LogCategoryRender,"ObserveRobot","end");/* */$s=14;case 14:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return[robot,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:ObserveRobot};}$f._arg=_arg;$f._arg$1=_arg$1;$f._r=_r;$f._r$1=_r$1;$f._r$10=_r$10;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._r$7=_r$7;$f._r$8=_r$8;$f._r$9=_r$9;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f._tuple$4=_tuple$4;$f._tuple$5=_tuple$5;$f._tuple$6=_tuple$6;$f._tuple$7=_tuple$7;$f._tuple$8=_tuple$8;$f._tuple$9=_tuple$9;$f.components=components;$f.err=err;$f.isGameplay=isGameplay;$f.maxEn=maxEn;$f.maxHP=maxHP;$f.model=model;$f.robot=robot;$f.robotProto=robotProto;$f.weapons=weapons;$f.$s=$s;$f.$r=$r;return $f;};$pkg.ObserveRobot=ObserveRobot;ObserveRobotMenu=function(model,origin){var _arg,_arg$1,_r,_r$1,_r$2,_tuple,_tuple$1,ctx,err,model,origin,robot,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_arg=$f._arg;_arg$1=$f._arg$1;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_tuple=$f._tuple;_tuple$1=$f._tuple$1;ctx=$f.ctx;err=$f.err;model=$f.model;origin=$f.origin;robot=$f.robot;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=log.Log(protocol.LogCategoryRender,"ObserveRobotMenu","start");/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}_arg=protocol.LogCategoryRender;_r=fmt.Sprintf("robotMenu(%v)",new sliceType([new origin.constructor.elem(origin)]));/* */$s=2;case 2:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_arg$1=_r;$r=log.Log(_arg,"ObserveRobotMenu",_arg$1);/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}ctx=$clone(origin,protocol.RobotMenu);if(ctx.Active===false){$s=-1;return[origin,$ifaceNil];}_r$1=protocol.TryGetStringRobot(model.App.Gameplay.Robots,ctx.ActiveRobotID);/* */$s=4;case 4:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple=_r$1;robot=$clone(_tuple[0],protocol.Robot);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}_r$2=ObserveWeapons($clone(model,types.Model),robot.ID,ctx.Weapons,true);/* */$s=5;case 5:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$1=_r$2;ctx.Weapons=_tuple$1[0];err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}$r=log.Log(protocol.LogCategoryRender,"ObserveRobotMenu","end");/* */$s=6;case 6:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return[ctx,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:ObserveRobotMenu};}$f._arg=_arg;$f._arg$1=_arg$1;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f.ctx=ctx;$f.err=err;$f.model=model;$f.origin=origin;$f.robot=robot;$f.$s=$s;$f.$r=$r;return $f;};$pkg.ObserveRobotMenu=ObserveRobotMenu;ObserveRobots=function(model,origin,isGameplay){var ID,_entry,_i,_key,_keys,_r,_ref,_tuple,err,isGameplay,localRobots,model,origin,robot,robot$1,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;ID=$f.ID;_entry=$f._entry;_i=$f._i;_key=$f._key;_keys=$f._keys;_r=$f._r;_ref=$f._ref;_tuple=$f._tuple;err=$f.err;isGameplay=$f.isGameplay;localRobots=$f.localRobots;model=$f.model;origin=$f.origin;robot=$f.robot;robot$1=$f.robot$1;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:localRobots=$makeMap($String.keyFor,[]);_ref=origin;_i=0;_keys=$keys(_ref);/* while (true) { */case 1:/* if (!(_i < _keys.length)) { break; } */if(!(_i<_keys.length)){$s=2;continue;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;/* continue; */$s=1;continue;}ID=_entry.k;robot=$clone(_entry.v,protocol.Robot);_r=ObserveRobot($clone(model,types.Model),$clone(robot,protocol.Robot),isGameplay);/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;robot$1=$clone(_tuple[0],protocol.Robot);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}_key=ID;(localRobots||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key)]={k:_key,v:$clone(robot$1,protocol.Robot)};_i++;/* } */$s=1;continue;case 2:$s=-1;return[localRobots,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:ObserveRobots};}$f.ID=ID;$f._entry=_entry;$f._i=_i;$f._key=_key;$f._keys=_keys;$f._r=_r;$f._ref=_ref;$f._tuple=_tuple;$f.err=err;$f.isGameplay=isGameplay;$f.localRobots=localRobots;$f.model=model;$f.origin=origin;$f.robot=robot;$f.robot$1=robot$1;$f.$s=$s;$f.$r=$r;return $f;};$pkg.ObserveRobots=ObserveRobots;ObserveWeapon=function(model,robotID,weapon,isGameplay){var _r,_r$1,_r$2,_r$3,_tuple,_tuple$1,_tuple$2,_tuple$3,err,isGameplay,model,robotID,weapon,weaponProto,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;err=$f.err;isGameplay=$f.isGameplay;model=$f.model;robotID=$f.robotID;weapon=$f.weapon;weaponProto=$f.weaponProto;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=log.Log(protocol.LogCategoryRender,"ObserveWeapon","start");/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}_r=data.TryGetStringWeaponProto(data.GameData.Weapon,weapon.ProtoID);/* */$s=2;case 2:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;weaponProto=$clone(_tuple[0],data.WeaponProto);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[new protocol.Weapon.ptr("","",0,"",0,arrayType.zero(),0,0,arrayType$1.zero(),sliceType$2.nil,"","",0,0,0,0),err];}weapon.Title=weaponProto.Title;_r$1=QueryRobotWeaponRange($clone(model,types.Model),robotID,$clone(weapon,protocol.Weapon),isGameplay);/* */$s=3;case 3:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$1=_r$1;arrayType.copy(weapon.Range,_tuple$1[0]);err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[new protocol.Weapon.ptr("","",0,"",0,arrayType.zero(),0,0,arrayType$1.zero(),sliceType$2.nil,"","",0,0,0,0),err];}weapon.PowerCost=weaponProto.PowerCost;weapon.EnergyCost=weaponProto.EnergyCost;weapon.MaxBulletCount=weaponProto.MaxBulletCount;_r$2=QueryRobotWeaponSuitability($clone(model,types.Model),robotID,$clone(weapon,protocol.Weapon),isGameplay);/* */$s=4;case 4:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$2=_r$2;arrayType$1.copy(weapon.Suitability,_tuple$2[0]);err=_tuple$2[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[new protocol.Weapon.ptr("","",0,"",0,arrayType.zero(),0,0,arrayType$1.zero(),sliceType$2.nil,"","",0,0,0,0),err];}_r$3=QueryRobotWeaponAbility($clone(model,types.Model),robotID,$clone(weapon,protocol.Weapon),isGameplay);/* */$s=5;case 5:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_tuple$3=_r$3;weapon.Ability=_tuple$3[0];err=_tuple$3[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[new protocol.Weapon.ptr("","",0,"",0,arrayType.zero(),0,0,arrayType$1.zero(),sliceType$2.nil,"","",0,0,0,0),err];}weapon.EnergyType=weaponProto.EnergyType;weapon.Type=weaponProto.Type;weapon.Accuracy=math.Floor(weaponProto.Accuracy*100)/100;weapon.Damage=weaponProto.Damage;weapon.Curage=weaponProto.Curage;weapon.UnlockExp=weaponProto.UnlockExp;$r=log.Log(protocol.LogCategoryRender,"ObserveWeapon","end");/* */$s=6;case 6:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return[weapon,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:ObserveWeapon};}$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f.err=err;$f.isGameplay=isGameplay;$f.model=model;$f.robotID=robotID;$f.weapon=weapon;$f.weaponProto=weaponProto;$f.$s=$s;$f.$r=$r;return $f;};$pkg.ObserveWeapon=ObserveWeapon;ObserveWeapons=function(model,robotID,origin,isGameplay){var ID,_entry,_i,_key,_keys,_r,_ref,_tuple,ctx,err,isGameplay,model,origin,robotID,weapon,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;ID=$f.ID;_entry=$f._entry;_i=$f._i;_key=$f._key;_keys=$f._keys;_r=$f._r;_ref=$f._ref;_tuple=$f._tuple;ctx=$f.ctx;err=$f.err;isGameplay=$f.isGameplay;model=$f.model;origin=$f.origin;robotID=$f.robotID;weapon=$f.weapon;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=log.Log(protocol.LogCategoryRender,"ObserveWeapons","start");/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}err=$ifaceNil;ctx=origin;_ref=origin;_i=0;_keys=$keys(_ref);/* while (true) { */case 2:/* if (!(_i < _keys.length)) { break; } */if(!(_i<_keys.length)){$s=3;continue;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;/* continue; */$s=2;continue;}ID=_entry.k;weapon=$clone(_entry.v,protocol.Weapon);_r=ObserveWeapon($clone(model,types.Model),robotID,$clone(weapon,protocol.Weapon),isGameplay);/* */$s=4;case 4:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;_key=ID;(ctx||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key)]={k:_key,v:$clone(_tuple[0],protocol.Weapon)};err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}_i++;/* } */$s=2;continue;case 3:$r=log.Log(protocol.LogCategoryRender,"ObserveWeapons","end");/* */$s=5;case 5:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return[ctx,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:ObserveWeapons};}$f.ID=ID;$f._entry=_entry;$f._i=_i;$f._key=_key;$f._keys=_keys;$f._r=_r;$f._ref=_ref;$f._tuple=_tuple;$f.ctx=ctx;$f.err=err;$f.isGameplay=isGameplay;$f.model=model;$f.origin=origin;$f.robotID=robotID;$f.weapon=weapon;$f.$s=$s;$f.$r=$r;return $f;};$pkg.ObserveWeapons=ObserveWeapons;QueryMostCloseEnemyPosition=function(model,robotID){var _r,_r$1,_r$2,_tuple,_tuple$1,_tuple$2,costFn,err,find,model,originPos,robotID,targetPosition,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;costFn=$f.costFn;err=$f.err;find=$f.find;model=$f.model;originPos=$f.originPos;robotID=$f.robotID;targetPosition=$f.targetPosition;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:model=[model];robotID=[robotID];targetPosition=[targetPosition];_r=protocol.TryGetStringPosition(model[0].App.Gameplay.Positions,robotID[0]);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;originPos=$clone(_tuple[0],protocol.Position);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[arrayType.zero(),false,err];}_r$1=RobotMoveCost($clone(model[0],types.Model),robotID[0],999999,true);/* */$s=2;case 2:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$1=_r$1;costFn=_tuple$1[0];err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[arrayType.zero(),false,err];}targetPosition[0]=arrayType.zero();_r$2=astar.ShortedPathTree(new protocol.Position(originPos),function(model,robotID,targetPosition){return function $b(curr){var _r$2,_r$3,_r$4,_tuple$3,curr,currPos,err$1,friendCell,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_tuple$3=$f._tuple$3;curr=$f.curr;currPos=$f.currPos;err$1=$f.err$1;friendCell=$f.friendCell;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:currPos=$clone($assertType(curr.Pather,protocol.Position),protocol.Position);_r$2=IsFriendlyCell($clone(model[0],types.Model),robotID[0],$clone(currPos,protocol.Position));/* */$s=1;case 1:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$3=_r$2;friendCell=_tuple$3[0];err$1=_tuple$3[1];/* */if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=2;continue;}/* */$s=3;continue;/* if (!($interfaceIsEqual(err$1, $ifaceNil))) { */case 2:_r$3=err$1.Error();/* */$s=4;case 4:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_r$4=fmt.Println(new sliceType([new $String(_r$3)]));/* */$s=5;case 5:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}_r$4;$s=-1;return true;/* } */case 3:protocol.Position.copy(targetPosition[0],currPos);$s=-1;return friendCell===false;/* */}return;}if($f===undefined){$f={$blk:$b};}$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._tuple$3=_tuple$3;$f.curr=curr;$f.currPos=currPos;$f.err$1=err$1;$f.friendCell=friendCell;$f.$s=$s;$f.$r=$r;return $f;};}(model,robotID,targetPosition),costFn,function(model,robotID,targetPosition){return function(curr){var curr;return 0;};}(model,robotID,targetPosition));/* */$s=3;case 3:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$2=_r$2;find=_tuple$2[1];$s=-1;return[targetPosition[0],find,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:QueryMostCloseEnemyPosition};}$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f.costFn=costFn;$f.err=err;$f.find=find;$f.model=model;$f.originPos=originPos;$f.robotID=robotID;$f.targetPosition=targetPosition;$f.$s=$s;$f.$r=$r;return $f;};$pkg.QueryMostCloseEnemyPosition=QueryMostCloseEnemyPosition;QueryPilot=function(model,pilotID,isGameplay){var _entry,_entry$1,_r,_r$1,_tuple,_tuple$1,has,has$1,isGameplay,model,pilotID,robot,robot$1,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_entry$1=$f._entry$1;_r=$f._r;_r$1=$f._r$1;_tuple=$f._tuple;_tuple$1=$f._tuple$1;has=$f.has;has$1=$f.has$1;isGameplay=$f.isGameplay;model=$f.model;pilotID=$f.pilotID;robot=$f.robot;robot$1=$f.robot$1;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:/* */if(isGameplay){$s=1;continue;}/* */$s=2;continue;/* if (isGameplay) { */case 1:_tuple=(_entry=model.App.Gameplay.Pilots[$String.keyFor(pilotID)],_entry!==undefined?[_entry.v,true]:[new protocol.Pilot.ptr("","","",0,0,0,0,0,0,0,0,0,0,0),false]);robot=$clone(_tuple[0],protocol.Pilot);has=_tuple[1];/* */if(has===false){$s=3;continue;}/* */$s=4;continue;/* if (has === false) { */case 3:_r=fmt.Errorf("pilotID(%v) not found",new sliceType([new $String(pilotID)]));/* */$s=5;case 5:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return[new protocol.Pilot.ptr("","","",0,0,0,0,0,0,0,0,0,0,0),_r];/* } */case 4:$s=-1;return[robot,$ifaceNil];/* } */case 2:_tuple$1=(_entry$1=model.App.Lobby.Pilots[$String.keyFor(pilotID)],_entry$1!==undefined?[_entry$1.v,true]:[new protocol.Pilot.ptr("","","",0,0,0,0,0,0,0,0,0,0,0),false]);robot$1=$clone(_tuple$1[0],protocol.Pilot);has$1=_tuple$1[1];/* */if(has$1===false){$s=6;continue;}/* */$s=7;continue;/* if (has$1 === false) { */case 6:_r$1=fmt.Errorf("pilotID(%v) not found",new sliceType([new $String(pilotID)]));/* */$s=8;case 8:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}$s=-1;return[new protocol.Pilot.ptr("","","",0,0,0,0,0,0,0,0,0,0,0),_r$1];/* } */case 7:$s=-1;return[robot$1,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:QueryPilot};}$f._entry=_entry;$f._entry$1=_entry$1;$f._r=_r;$f._r$1=_r$1;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f.has=has;$f.has$1=has$1;$f.isGameplay=isGameplay;$f.model=model;$f.pilotID=pilotID;$f.robot=robot;$f.robot$1=robot$1;$f.$s=$s;$f.$r=$r;return $f;};$pkg.QueryPilot=QueryPilot;QueryPilotAtk=function(model,robotID,pilotID,isGameplay){var _r,_r$1,_r$2,_r$3,_tuple,_tuple$1,_tuple$2,err,isGameplay,model,pilot,pilotID,pilotProto,robot,robotID,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;err=$f.err;isGameplay=$f.isGameplay;model=$f.model;pilot=$f.pilot;pilotID=$f.pilotID;pilotProto=$f.pilotProto;robot=$f.robot;robotID=$f.robotID;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=QueryRobot($clone(model,types.Model),robotID,isGameplay);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;robot=$clone(_tuple[0],protocol.Robot);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}/* */if(!(robot.PilotID===pilotID)){$s=2;continue;}/* */$s=3;continue;/* if (!(robot.PilotID === pilotID)) { */case 2:_r$1=fmt.Errorf("[QueryPilotAtk] PilotID(%v) not match robot(%v)",new sliceType([new $String(pilotID),new robot.constructor.elem(robot)]));/* */$s=4;case 4:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}$s=-1;return[0,_r$1];/* } */case 3:_r$2=QueryPilot($clone(model,types.Model),pilotID,isGameplay);/* */$s=5;case 5:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$1=_r$2;pilot=$clone(_tuple$1[0],protocol.Pilot);err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}_r$3=data.TryGetStringPilotProto(data.GameData.Pilot,pilot.ProtoID);/* */$s=6;case 6:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_tuple$2=_r$3;pilotProto=$clone(_tuple$2[0],data.PilotProto);err=_tuple$2[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}$s=-1;return[pilotProto.Atk,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:QueryPilotAtk};}$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f.err=err;$f.isGameplay=isGameplay;$f.model=model;$f.pilot=pilot;$f.pilotID=pilotID;$f.pilotProto=pilotProto;$f.robot=robot;$f.robotID=robotID;$f.$s=$s;$f.$r=$r;return $f;};$pkg.QueryPilotAtk=QueryPilotAtk;QueryPilotEvade=function(model,robotID,pilotID,isGameplay){var _r,_r$1,_r$2,_r$3,_tuple,_tuple$1,_tuple$2,err,isGameplay,model,pilot,pilotID,pilotProto,robot,robotID,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;err=$f.err;isGameplay=$f.isGameplay;model=$f.model;pilot=$f.pilot;pilotID=$f.pilotID;pilotProto=$f.pilotProto;robot=$f.robot;robotID=$f.robotID;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=QueryRobot($clone(model,types.Model),robotID,isGameplay);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;robot=$clone(_tuple[0],protocol.Robot);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}/* */if(!(robot.PilotID===pilotID)){$s=2;continue;}/* */$s=3;continue;/* if (!(robot.PilotID === pilotID)) { */case 2:_r$1=fmt.Errorf("[QueryPilotEvade] PilotID(%v) not match robot(%v)",new sliceType([new $String(pilotID),new robot.constructor.elem(robot)]));/* */$s=4;case 4:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}$s=-1;return[0,_r$1];/* } */case 3:_r$2=QueryPilot($clone(model,types.Model),pilotID,isGameplay);/* */$s=5;case 5:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$1=_r$2;pilot=$clone(_tuple$1[0],protocol.Pilot);err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}_r$3=data.TryGetStringPilotProto(data.GameData.Pilot,pilot.ProtoID);/* */$s=6;case 6:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_tuple$2=_r$3;pilotProto=$clone(_tuple$2[0],data.PilotProto);err=_tuple$2[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}$s=-1;return[pilotProto.Evade,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:QueryPilotEvade};}$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f.err=err;$f.isGameplay=isGameplay;$f.model=model;$f.pilot=pilot;$f.pilotID=pilotID;$f.pilotProto=pilotProto;$f.robot=robot;$f.robotID=robotID;$f.$s=$s;$f.$r=$r;return $f;};$pkg.QueryPilotEvade=QueryPilotEvade;QueryPilotGuard=function(model,robotID,pilotID,isGameplay){var _r,_r$1,_r$2,_r$3,_tuple,_tuple$1,_tuple$2,err,isGameplay,model,pilot,pilotID,pilotProto,robot,robotID,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;err=$f.err;isGameplay=$f.isGameplay;model=$f.model;pilot=$f.pilot;pilotID=$f.pilotID;pilotProto=$f.pilotProto;robot=$f.robot;robotID=$f.robotID;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=QueryRobot($clone(model,types.Model),robotID,isGameplay);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;robot=$clone(_tuple[0],protocol.Robot);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}/* */if(!(robot.PilotID===pilotID)){$s=2;continue;}/* */$s=3;continue;/* if (!(robot.PilotID === pilotID)) { */case 2:_r$1=fmt.Errorf("[QueryPilotGuard] PilotID(%v) not match robot(%v)",new sliceType([new $String(pilotID),new robot.constructor.elem(robot)]));/* */$s=4;case 4:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}$s=-1;return[0,_r$1];/* } */case 3:_r$2=QueryPilot($clone(model,types.Model),pilotID,isGameplay);/* */$s=5;case 5:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$1=_r$2;pilot=$clone(_tuple$1[0],protocol.Pilot);err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}_r$3=data.TryGetStringPilotProto(data.GameData.Pilot,pilot.ProtoID);/* */$s=6;case 6:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_tuple$2=_r$3;pilotProto=$clone(_tuple$2[0],data.PilotProto);err=_tuple$2[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}$s=-1;return[pilotProto.Guard,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:QueryPilotGuard};}$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f.err=err;$f.isGameplay=isGameplay;$f.model=model;$f.pilot=pilot;$f.pilotID=pilotID;$f.pilotProto=pilotProto;$f.robot=robot;$f.robotID=robotID;$f.$s=$s;$f.$r=$r;return $f;};$pkg.QueryPilotGuard=QueryPilotGuard;QueryPilotMelee=function(model,robotID,pilotID,isGameplay){var _r,_r$1,_r$2,_r$3,_tuple,_tuple$1,_tuple$2,err,isGameplay,model,pilot,pilotID,pilotProto,robot,robotID,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;err=$f.err;isGameplay=$f.isGameplay;model=$f.model;pilot=$f.pilot;pilotID=$f.pilotID;pilotProto=$f.pilotProto;robot=$f.robot;robotID=$f.robotID;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=QueryRobot($clone(model,types.Model),robotID,isGameplay);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;robot=$clone(_tuple[0],protocol.Robot);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}/* */if(!(robot.PilotID===pilotID)){$s=2;continue;}/* */$s=3;continue;/* if (!(robot.PilotID === pilotID)) { */case 2:_r$1=fmt.Errorf("[QueryPilotMelee] PilotID(%v) not match robot(%v)",new sliceType([new $String(pilotID),new robot.constructor.elem(robot)]));/* */$s=4;case 4:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}$s=-1;return[0,_r$1];/* } */case 3:_r$2=QueryPilot($clone(model,types.Model),pilotID,isGameplay);/* */$s=5;case 5:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$1=_r$2;pilot=$clone(_tuple$1[0],protocol.Pilot);err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}_r$3=data.TryGetStringPilotProto(data.GameData.Pilot,pilot.ProtoID);/* */$s=6;case 6:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_tuple$2=_r$3;pilotProto=$clone(_tuple$2[0],data.PilotProto);err=_tuple$2[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}$s=-1;return[pilotProto.Melee,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:QueryPilotMelee};}$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f.err=err;$f.isGameplay=isGameplay;$f.model=model;$f.pilot=pilot;$f.pilotID=pilotID;$f.pilotProto=pilotProto;$f.robot=robot;$f.robotID=robotID;$f.$s=$s;$f.$r=$r;return $f;};$pkg.QueryPilotMelee=QueryPilotMelee;QueryPilotRange=function(model,robotID,pilotID,isGameplay){var _r,_r$1,_r$2,_r$3,_tuple,_tuple$1,_tuple$2,err,isGameplay,model,pilot,pilotID,pilotProto,robot,robotID,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;err=$f.err;isGameplay=$f.isGameplay;model=$f.model;pilot=$f.pilot;pilotID=$f.pilotID;pilotProto=$f.pilotProto;robot=$f.robot;robotID=$f.robotID;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=QueryRobot($clone(model,types.Model),robotID,isGameplay);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;robot=$clone(_tuple[0],protocol.Robot);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}/* */if(!(robot.PilotID===pilotID)){$s=2;continue;}/* */$s=3;continue;/* if (!(robot.PilotID === pilotID)) { */case 2:_r$1=fmt.Errorf("[QueryPilotRange] PilotID(%v) not match robot(%v)",new sliceType([new $String(pilotID),new robot.constructor.elem(robot)]));/* */$s=4;case 4:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}$s=-1;return[0,_r$1];/* } */case 3:_r$2=QueryPilot($clone(model,types.Model),pilotID,isGameplay);/* */$s=5;case 5:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$1=_r$2;pilot=$clone(_tuple$1[0],protocol.Pilot);err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}_r$3=data.TryGetStringPilotProto(data.GameData.Pilot,pilot.ProtoID);/* */$s=6;case 6:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_tuple$2=_r$3;pilotProto=$clone(_tuple$2[0],data.PilotProto);err=_tuple$2[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}$s=-1;return[pilotProto.Range,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:QueryPilotRange};}$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f.err=err;$f.isGameplay=isGameplay;$f.model=model;$f.pilot=pilot;$f.pilotID=pilotID;$f.pilotProto=pilotProto;$f.robot=robot;$f.robotID=robotID;$f.$s=$s;$f.$r=$r;return $f;};$pkg.QueryPilotRange=QueryPilotRange;QueryRobot=function(model,robotID,isGameplay){var _entry,_entry$1,_entry$2,_r,_r$1,_tuple,_tuple$1,has,has$1,isGameplay,model,robot,robot$1,robotID,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_entry$1=$f._entry$1;_entry$2=$f._entry$2;_r=$f._r;_r$1=$f._r$1;_tuple=$f._tuple;_tuple$1=$f._tuple$1;has=$f.has;has$1=$f.has$1;isGameplay=$f.isGameplay;model=$f.model;robot=$f.robot;robot$1=$f.robot$1;robotID=$f.robotID;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:/* */if(isGameplay){$s=1;continue;}/* */$s=2;continue;/* if (isGameplay) { */case 1:_tuple=(_entry=model.App.Gameplay.Robots[$String.keyFor(robotID)],_entry!==undefined?[_entry.v,true]:[new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),false]);robot=$clone(_tuple[0],protocol.Robot);has=_tuple[1];/* */if(has===false){$s=3;continue;}/* */$s=4;continue;/* if (has === false) { */case 3:_r=fmt.Errorf("robotID(%v) not found",new sliceType([new $String(robotID)]));/* */$s=5;case 5:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return[new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),_r];/* } */case 4:$s=-1;return[robot,$ifaceNil];/* } */case 2:_tuple$1=(_entry$1=model.App.Lobby.Robots[$String.keyFor(robotID)],_entry$1!==undefined?[_entry$1.v,true]:[new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),false]);robot$1=$clone(_tuple$1[0],protocol.Robot);has$1=_tuple$1[1];/* */if(has$1===false){$s=6;continue;}/* */$s=7;continue;/* if (has$1 === false) { */case 6:_r$1=fmt.Errorf("robotID(%v) not found",new sliceType([new $String(robotID)]));/* */$s=8;case 8:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}$s=-1;return[new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),_r$1];/* } */case 7:robot$1.PilotID=(_entry$2=model.App.Lobby.PilotIDByRobotID[$String.keyFor(robot$1.ID)],_entry$2!==undefined?_entry$2.v:"");$s=-1;return[robot$1,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:QueryRobot};}$f._entry=_entry;$f._entry$1=_entry$1;$f._entry$2=_entry$2;$f._r=_r;$f._r$1=_r$1;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f.has=has;$f.has$1=has$1;$f.isGameplay=isGameplay;$f.model=model;$f.robot=robot;$f.robot$1=robot$1;$f.robotID=robotID;$f.$s=$s;$f.$r=$r;return $f;};$pkg.QueryRobot=QueryRobot;QueryRobotArmor=function(model,robotID,isGameplay){var _1,_entry,_i,_keys,_r,_r$1,_r$2,_r$3,_r$4,_ref,_tuple,_tuple$1,_tuple$2,_tuple$3,component,componentProto,components,err,err$1,isGameplay,model,robot,robotID,total,val,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_entry=$f._entry;_i=$f._i;_keys=$f._keys;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_ref=$f._ref;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;component=$f.component;componentProto=$f.componentProto;components=$f.components;err=$f.err;err$1=$f.err$1;isGameplay=$f.isGameplay;model=$f.model;robot=$f.robot;robotID=$f.robotID;total=$f.total;val=$f.val;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=log.Log(protocol.LogCategoryRender,"QueryRobotArmor","start");/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}err=$ifaceNil;_r=QueryRobot($clone(model,types.Model),robotID,isGameplay);/* */$s=2;case 2:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;robot=$clone(_tuple[0],protocol.Robot);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}_r$1=QueryRobotComponents($clone(model,types.Model),robot.ID,isGameplay);/* */$s=3;case 3:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$1=_r$1;components=_tuple$1[0];err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}total=0;_ref=components;_i=0;_keys=$keys(_ref);/* while (true) { */case 4:/* if (!(_i < _keys.length)) { break; } */if(!(_i<_keys.length)){$s=5;continue;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;/* continue; */$s=4;continue;}component=$clone(_entry.v,protocol.Component);val=0;_1=component.ProtoID;/* */if(_1==="armor1"||_1==="armor2"||_1==="armor3"||_1==="armor4"||_1==="armor5"){$s=7;continue;}/* */$s=8;continue;/* if (_1 === ("armor1") || _1 === ("armor2") || _1 === ("armor3") || _1 === ("armor4") || _1 === ("armor5")) { */case 7:_r$2=data.TryGetStringComponentProto(data.GameData.Component,component.ProtoID);/* */$s=9;case 9:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$2=_r$2;componentProto=$clone(_tuple$2[0],data.ComponentProto);err$1=_tuple$2[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[0,err$1];}/* */if(!(componentProto.Value.$length===2)){$s=10;continue;}/* */$s=11;continue;/* if (!((componentProto.Value.$length === 2))) { */case 10:_r$3=fmt.Errorf("component value's len not right. %v",new sliceType([new componentProto.constructor.elem(componentProto)]));/* */$s=12;case 12:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}$s=-1;return[0,_r$3];/* } */case 11:_tuple$3=strconv.ParseFloat((x=componentProto.Value,1>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+1]),10);val=_tuple$3[0];err$1=_tuple$3[1];/* */if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=13;continue;}/* */$s=14;continue;/* if (!($interfaceIsEqual(err$1, $ifaceNil))) { */case 13:_r$4=fmt.Errorf("component value not right. (%v)",new sliceType([new componentProto.constructor.elem(componentProto)]));/* */$s=15;case 15:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}$s=-1;return[0,_r$4];/* } */case 14:/* } */case 8:case 6:total=total+(val>>0)>>0;_i++;/* } */$s=4;continue;case 5:$r=log.Log(protocol.LogCategoryRender,"QueryRobotArmor","end");/* */$s=16;case 16:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return[total,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:QueryRobotArmor};}$f._1=_1;$f._entry=_entry;$f._i=_i;$f._keys=_keys;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._ref=_ref;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f.component=component;$f.componentProto=componentProto;$f.components=components;$f.err=err;$f.err$1=err$1;$f.isGameplay=isGameplay;$f.model=model;$f.robot=robot;$f.robotID=robotID;$f.total=total;$f.val=val;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};$pkg.QueryRobotArmor=QueryRobotArmor;QueryRobotBeamArmor=function(model,robotID,isGameplay){var _1,_entry,_i,_keys,_r,_r$1,_r$2,_r$3,_r$4,_ref,_tuple,_tuple$1,_tuple$2,_tuple$3,component,componentProto,components,err,err$1,isGameplay,model,robot,robotID,total,val,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_entry=$f._entry;_i=$f._i;_keys=$f._keys;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_ref=$f._ref;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;component=$f.component;componentProto=$f.componentProto;components=$f.components;err=$f.err;err$1=$f.err$1;isGameplay=$f.isGameplay;model=$f.model;robot=$f.robot;robotID=$f.robotID;total=$f.total;val=$f.val;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=log.Log(protocol.LogCategoryRender,"QueryRobotBeamArmor","start");/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}err=$ifaceNil;_r=QueryRobot($clone(model,types.Model),robotID,isGameplay);/* */$s=2;case 2:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;robot=$clone(_tuple[0],protocol.Robot);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}_r$1=QueryRobotComponents($clone(model,types.Model),robot.ID,isGameplay);/* */$s=3;case 3:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$1=_r$1;components=_tuple$1[0];err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}total=0;_ref=components;_i=0;_keys=$keys(_ref);/* while (true) { */case 4:/* if (!(_i < _keys.length)) { break; } */if(!(_i<_keys.length)){$s=5;continue;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;/* continue; */$s=4;continue;}component=$clone(_entry.v,protocol.Component);val=0;_1=component.ProtoID;/* */if(_1==="beam_armor1"||_1==="beam_armor2"||_1==="beam_armor3"||_1==="beam_armor4"||_1==="beam_armor5"){$s=7;continue;}/* */$s=8;continue;/* if (_1 === ("beam_armor1") || _1 === ("beam_armor2") || _1 === ("beam_armor3") || _1 === ("beam_armor4") || _1 === ("beam_armor5")) { */case 7:_r$2=data.TryGetStringComponentProto(data.GameData.Component,component.ProtoID);/* */$s=9;case 9:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$2=_r$2;componentProto=$clone(_tuple$2[0],data.ComponentProto);err$1=_tuple$2[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[0,err$1];}/* */if(!(componentProto.Value.$length===2)){$s=10;continue;}/* */$s=11;continue;/* if (!((componentProto.Value.$length === 2))) { */case 10:_r$3=fmt.Errorf("component value's len not right. %v",new sliceType([new componentProto.constructor.elem(componentProto)]));/* */$s=12;case 12:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}$s=-1;return[0,_r$3];/* } */case 11:_tuple$3=strconv.ParseFloat((x=componentProto.Value,1>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+1]),10);val=_tuple$3[0];err$1=_tuple$3[1];/* */if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=13;continue;}/* */$s=14;continue;/* if (!($interfaceIsEqual(err$1, $ifaceNil))) { */case 13:_r$4=fmt.Errorf("component value not right. (%v)",new sliceType([new componentProto.constructor.elem(componentProto)]));/* */$s=15;case 15:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}$s=-1;return[0,_r$4];/* } */case 14:/* } */case 8:case 6:total=total+(val>>0)>>0;_i++;/* } */$s=4;continue;case 5:$r=log.Log(protocol.LogCategoryRender,"QueryRobotBeamArmor","end");/* */$s=16;case 16:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return[total,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:QueryRobotBeamArmor};}$f._1=_1;$f._entry=_entry;$f._i=_i;$f._keys=_keys;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._ref=_ref;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f.component=component;$f.componentProto=componentProto;$f.components=components;$f.err=err;$f.err$1=err$1;$f.isGameplay=isGameplay;$f.model=model;$f.robot=robot;$f.robotID=robotID;$f.total=total;$f.val=val;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};$pkg.QueryRobotBeamArmor=QueryRobotBeamArmor;QueryRobotCombatPower=function(model,robot,weapons){var _1,_entry,_i,_keys,_r,_ref,_tuple,bulletCombatPower,enCombatCost,enCombatPower,err,model,robot,total,weapon,weaponProto,weapons,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_entry=$f._entry;_i=$f._i;_keys=$f._keys;_r=$f._r;_ref=$f._ref;_tuple=$f._tuple;bulletCombatPower=$f.bulletCombatPower;enCombatCost=$f.enCombatCost;enCombatPower=$f.enCombatPower;err=$f.err;model=$f.model;robot=$f.robot;total=$f.total;weapon=$f.weapon;weaponProto=$f.weaponProto;weapons=$f.weapons;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:enCombatPower=0;enCombatCost=0;bulletCombatPower=0;_ref=weapons;_i=0;_keys=$keys(_ref);/* while (true) { */case 1:/* if (!(_i < _keys.length)) { break; } */if(!(_i<_keys.length)){$s=2;continue;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;/* continue; */$s=1;continue;}weapon=$clone(_entry.v,protocol.Weapon);_r=data.TryGetStringWeaponProto(data.GameData.Weapon,weapon.ProtoID);/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;weaponProto=$clone(_tuple[0],data.WeaponProto);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,$ifaceNil];}_1=weaponProto.EnergyType;if(_1==="energy"){enCombatPower=enCombatPower+weaponProto.Damage>>0;enCombatCost=enCombatCost+weaponProto.EnergyCost>>0;}else if(_1==="bullet"){bulletCombatPower=bulletCombatPower+$imul(weaponProto.Damage,weapon.BulletCount)>>0;}_i++;/* } */$s=1;continue;case 2:total=(robot.HP+bulletCombatPower>>0)+(enCombatPower*robot.EN/enCombatCost>>0)>>0;$s=-1;return[total,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:QueryRobotCombatPower};}$f._1=_1;$f._entry=_entry;$f._i=_i;$f._keys=_keys;$f._r=_r;$f._ref=_ref;$f._tuple=_tuple;$f.bulletCombatPower=bulletCombatPower;$f.enCombatCost=enCombatCost;$f.enCombatPower=enCombatPower;$f.err=err;$f.model=model;$f.robot=robot;$f.total=total;$f.weapon=weapon;$f.weaponProto=weaponProto;$f.weapons=weapons;$f.$s=$s;$f.$r=$r;return $f;};$pkg.QueryRobotCombatPower=QueryRobotCombatPower;QueryRobotComponents=function(model,robotID,isGameplay){var _entry,_entry$1,_i,_i$1,_key,_key$1,_keys,_r,_r$1,_r$2,_ref,_ref$1,_tuple,_tuple$1,component,componentID,componentProtoID,components,err,i,instanceID,instanceID$1,isGameplay,model,robot,robotID,robotID$1,robotProto,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_entry$1=$f._entry$1;_i=$f._i;_i$1=$f._i$1;_key=$f._key;_key$1=$f._key$1;_keys=$f._keys;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_ref=$f._ref;_ref$1=$f._ref$1;_tuple=$f._tuple;_tuple$1=$f._tuple$1;component=$f.component;componentID=$f.componentID;componentProtoID=$f.componentProtoID;components=$f.components;err=$f.err;i=$f.i;instanceID=$f.instanceID;instanceID$1=$f.instanceID$1;isGameplay=$f.isGameplay;model=$f.model;robot=$f.robot;robotID=$f.robotID;robotID$1=$f.robotID$1;robotProto=$f.robotProto;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=log.Log(protocol.LogCategoryRender,"QueryRobotComponents","start");/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}err=$ifaceNil;_r=QueryRobot($clone(model,types.Model),robotID,isGameplay);/* */$s=2;case 2:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;robot=$clone(_tuple[0],protocol.Robot);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[false,err];}if(!(robot.Components===false)){$s=-1;return[robot.Components,$ifaceNil];}_r$1=data.TryGetStringRobotProto(data.GameData.Robot,robot.ProtoID);/* */$s=3;case 3:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$1=_r$1;robotProto=$clone(_tuple$1[0],data.RobotProto);err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[false,err];}components=$makeMap($String.keyFor,[]);_ref=robotProto.Components;_i=0;/* while (true) { */case 4:/* if (!(_i < _ref.$length)) { break; } */if(!(_i<_ref.$length)){$s=5;continue;}i=_i;componentProtoID=_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i];_r$2=fmt.Sprintf("component_%v",new sliceType([new $Int(i)]));/* */$s=6;case 6:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}instanceID=_r$2;_key=instanceID;(components||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key)]={k:_key,v:new protocol.Component.ptr(instanceID,componentProtoID,"",0,"",sliceType$2.nil,0,"")};_i++;/* } */$s=4;continue;case 5:_ref$1=model.App.Lobby.RobotIDByComponentID;_i$1=0;_keys=$keys(_ref$1);/* while (true) { */case 7:/* if (!(_i$1 < _keys.length)) { break; } */if(!(_i$1<_keys.length)){$s=8;continue;}_entry=_ref$1[_keys[_i$1]];if(_entry===undefined){_i$1++;/* continue; */$s=7;continue;}componentID=_entry.k;robotID$1=_entry.v;if(!(robotID$1===robot.ID)){_i$1++;/* continue; */$s=7;continue;}component=$clone((_entry$1=model.App.Lobby.Components[$String.keyFor(componentID)],_entry$1!==undefined?_entry$1.v:new protocol.Component.ptr("","","",0,"",sliceType$2.nil,0,"")),protocol.Component);instanceID$1=component.ID;_key$1=instanceID$1;(components||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key$1)]={k:_key$1,v:new protocol.Component.ptr(instanceID$1,component.ProtoID,"",0,"",sliceType$2.nil,0,"")};_i$1++;/* } */$s=7;continue;case 8:$r=log.Log(protocol.LogCategoryRender,"QueryRobotComponents","end");/* */$s=9;case 9:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return[components,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:QueryRobotComponents};}$f._entry=_entry;$f._entry$1=_entry$1;$f._i=_i;$f._i$1=_i$1;$f._key=_key;$f._key$1=_key$1;$f._keys=_keys;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._ref=_ref;$f._ref$1=_ref$1;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f.component=component;$f.componentID=componentID;$f.componentProtoID=componentProtoID;$f.components=components;$f.err=err;$f.i=i;$f.instanceID=instanceID;$f.instanceID$1=instanceID$1;$f.isGameplay=isGameplay;$f.model=model;$f.robot=robot;$f.robotID=robotID;$f.robotID$1=robotID$1;$f.robotProto=robotProto;$f.$s=$s;$f.$r=$r;return $f;};$pkg.QueryRobotComponents=QueryRobotComponents;QueryRobotMaxEn=function(model,robotID,isGameplay){var _1,_entry,_i,_keys,_r,_r$1,_r$2,_r$3,_r$4,_r$5,_ref,_tuple,_tuple$1,_tuple$2,_tuple$3,_tuple$4,component,componentProto,components,err,err$1,isGameplay,model,robot,robotID,robotProto,total,val,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_entry=$f._entry;_i=$f._i;_keys=$f._keys;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_ref=$f._ref;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;_tuple$4=$f._tuple$4;component=$f.component;componentProto=$f.componentProto;components=$f.components;err=$f.err;err$1=$f.err$1;isGameplay=$f.isGameplay;model=$f.model;robot=$f.robot;robotID=$f.robotID;robotProto=$f.robotProto;total=$f.total;val=$f.val;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:err=$ifaceNil;_r=QueryRobot($clone(model,types.Model),robotID,isGameplay);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;robot=$clone(_tuple[0],protocol.Robot);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}_r$1=data.TryGetStringRobotProto(data.GameData.Robot,robot.ProtoID);/* */$s=2;case 2:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$1=_r$1;robotProto=$clone(_tuple$1[0],data.RobotProto);err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}_r$2=QueryRobotComponents($clone(model,types.Model),robotID,isGameplay);/* */$s=3;case 3:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$2=_r$2;components=_tuple$2[0];err=_tuple$2[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}total=robotProto.EN;_ref=components;_i=0;_keys=$keys(_ref);/* while (true) { */case 4:/* if (!(_i < _keys.length)) { break; } */if(!(_i<_keys.length)){$s=5;continue;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;/* continue; */$s=4;continue;}component=$clone(_entry.v,protocol.Component);val=0;_1=component.ProtoID;/* */if(_1==="energy1"||_1==="energy2"||_1==="energy3"||_1==="energy4"||_1==="energy5"){$s=7;continue;}/* */$s=8;continue;/* if (_1 === ("energy1") || _1 === ("energy2") || _1 === ("energy3") || _1 === ("energy4") || _1 === ("energy5")) { */case 7:_r$3=data.TryGetStringComponentProto(data.GameData.Component,component.ProtoID);/* */$s=9;case 9:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_tuple$3=_r$3;componentProto=$clone(_tuple$3[0],data.ComponentProto);err$1=_tuple$3[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[0,err$1];}/* */if(!(componentProto.Value.$length===1)){$s=10;continue;}/* */$s=11;continue;/* if (!((componentProto.Value.$length === 1))) { */case 10:_r$4=fmt.Errorf("component value's len not right. %v",new sliceType([new componentProto.constructor.elem(componentProto)]));/* */$s=12;case 12:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}$s=-1;return[0,_r$4];/* } */case 11:_tuple$4=strconv.ParseFloat((x=componentProto.Value,0>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+0]),10);val=_tuple$4[0];err$1=_tuple$4[1];/* */if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=13;continue;}/* */$s=14;continue;/* if (!($interfaceIsEqual(err$1, $ifaceNil))) { */case 13:_r$5=fmt.Errorf("component value not right. (%v)",new sliceType([new componentProto.constructor.elem(componentProto)]));/* */$s=15;case 15:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}$s=-1;return[0,_r$5];/* } */case 14:/* } */case 8:case 6:total=total+(val>>0)>>0;_i++;/* } */$s=4;continue;case 5:$s=-1;return[total,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:QueryRobotMaxEn};}$f._1=_1;$f._entry=_entry;$f._i=_i;$f._keys=_keys;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._ref=_ref;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f._tuple$4=_tuple$4;$f.component=component;$f.componentProto=componentProto;$f.components=components;$f.err=err;$f.err$1=err$1;$f.isGameplay=isGameplay;$f.model=model;$f.robot=robot;$f.robotID=robotID;$f.robotProto=robotProto;$f.total=total;$f.val=val;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};$pkg.QueryRobotMaxEn=QueryRobotMaxEn;QueryRobotMaxHp=function(model,robotID,isGameplay){var _1,_entry,_i,_keys,_r,_r$1,_r$2,_r$3,_r$4,_r$5,_ref,_tuple,_tuple$1,_tuple$2,_tuple$3,_tuple$4,component,componentProto,components,err,err$1,isGameplay,model,robot,robotID,robotProto,total,val,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_entry=$f._entry;_i=$f._i;_keys=$f._keys;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_ref=$f._ref;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;_tuple$4=$f._tuple$4;component=$f.component;componentProto=$f.componentProto;components=$f.components;err=$f.err;err$1=$f.err$1;isGameplay=$f.isGameplay;model=$f.model;robot=$f.robot;robotID=$f.robotID;robotProto=$f.robotProto;total=$f.total;val=$f.val;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:err=$ifaceNil;_r=QueryRobot($clone(model,types.Model),robotID,isGameplay);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;robot=$clone(_tuple[0],protocol.Robot);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}_r$1=data.TryGetStringRobotProto(data.GameData.Robot,robot.ProtoID);/* */$s=2;case 2:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$1=_r$1;robotProto=$clone(_tuple$1[0],data.RobotProto);err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}_r$2=QueryRobotComponents($clone(model,types.Model),robot.ID,isGameplay);/* */$s=3;case 3:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$2=_r$2;components=_tuple$2[0];err=_tuple$2[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}total=robotProto.HP;_ref=components;_i=0;_keys=$keys(_ref);/* while (true) { */case 4:/* if (!(_i < _keys.length)) { break; } */if(!(_i<_keys.length)){$s=5;continue;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;/* continue; */$s=4;continue;}component=$clone(_entry.v,protocol.Component);val=0;_1=component.ProtoID;/* */if(_1==="armor1"||_1==="armor2"||_1==="armor3"||_1==="armor4"||_1==="armor5"||_1==="beam_armor1"||_1==="beam_armor2"||_1==="beam_armor3"||_1==="beam_armor4"||_1==="beam_armor5"||_1==="fire_armor"||_1==="lighting_armor"){$s=7;continue;}/* */$s=8;continue;/* if (_1 === ("armor1") || _1 === ("armor2") || _1 === ("armor3") || _1 === ("armor4") || _1 === ("armor5") || _1 === ("beam_armor1") || _1 === ("beam_armor2") || _1 === ("beam_armor3") || _1 === ("beam_armor4") || _1 === ("beam_armor5") || _1 === ("fire_armor") || _1 === ("lighting_armor")) { */case 7:_r$3=data.TryGetStringComponentProto(data.GameData.Component,component.ProtoID);/* */$s=9;case 9:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_tuple$3=_r$3;componentProto=$clone(_tuple$3[0],data.ComponentProto);err$1=_tuple$3[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[0,err$1];}/* */if(!(componentProto.Value.$length===2)){$s=10;continue;}/* */$s=11;continue;/* if (!((componentProto.Value.$length === 2))) { */case 10:_r$4=fmt.Errorf("component value's len not right. %v",new sliceType([new componentProto.constructor.elem(componentProto)]));/* */$s=12;case 12:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}$s=-1;return[0,_r$4];/* } */case 11:_tuple$4=strconv.ParseFloat((x=componentProto.Value,0>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+0]),10);val=_tuple$4[0];err$1=_tuple$4[1];/* */if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=13;continue;}/* */$s=14;continue;/* if (!($interfaceIsEqual(err$1, $ifaceNil))) { */case 13:_r$5=fmt.Errorf("component value not right. (%v)",new sliceType([new componentProto.constructor.elem(componentProto)]));/* */$s=15;case 15:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}$s=-1;return[0,_r$5];/* } */case 14:/* } */case 8:case 6:total=total+(val>>0)>>0;_i++;/* } */$s=4;continue;case 5:$s=-1;return[total,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:QueryRobotMaxHp};}$f._1=_1;$f._entry=_entry;$f._i=_i;$f._keys=_keys;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._ref=_ref;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f._tuple$4=_tuple$4;$f.component=component;$f.componentProto=componentProto;$f.components=components;$f.err=err;$f.err$1=err$1;$f.isGameplay=isGameplay;$f.model=model;$f.robot=robot;$f.robotID=robotID;$f.robotProto=robotProto;$f.total=total;$f.val=val;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};$pkg.QueryRobotMaxHp=QueryRobotMaxHp;QueryRobotMovePower=function(model,robotID,isGameplay){var _entry,_q,_r,_r$1,_tuple,config,err,isGameplay,model,robotID,total,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_q=$f._q;_r=$f._r;_r$1=$f._r$1;_tuple=$f._tuple;config=$f.config;err=$f.err;isGameplay=$f.isGameplay;model=$f.model;robotID=$f.robotID;total=$f.total;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:err=$ifaceNil;_r=QueryRobotPower($clone(model,types.Model),robotID,isGameplay);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;total=_tuple[0];err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}config=$clone((_entry=data.GameData.Config[$String.keyFor("default")],_entry!==undefined?_entry.v:new data.ConfigProto.ptr("",0,sliceType$3.nil,sliceType$2.nil,sliceType$2.nil,sliceType$2.nil,sliceType$2.nil)),data.ConfigProto);/* */if(config.PowerCostForMove===0){$s=2;continue;}/* */$s=3;continue;/* if (config.PowerCostForMove === 0) { */case 2:_r$1=fmt.Errorf("config.PowerCostForMove\xE4\xB8\x8D\xE5\xBE\x97\xE7\x82\xBA0",new sliceType([]));/* */$s=4;case 4:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}$s=-1;return[0,_r$1];/* } */case 3:$s=-1;return[(_q=total/config.PowerCostForMove,_q===_q&&_q!==1/0&&_q!==-1/0?_q>>0:$throwRuntimeError("integer divide by zero")),$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:QueryRobotMovePower};}$f._entry=_entry;$f._q=_q;$f._r=_r;$f._r$1=_r$1;$f._tuple=_tuple;$f.config=config;$f.err=err;$f.isGameplay=isGameplay;$f.model=model;$f.robotID=robotID;$f.total=total;$f.$s=$s;$f.$r=$r;return $f;};$pkg.QueryRobotMovePower=QueryRobotMovePower;QueryRobotPower=function(model,robotID,isGameplay){var _1,_entry,_entry$1,_i,_i$1,_keys,_keys$1,_r,_r$1,_r$2,_r$3,_r$4,_r$5,_r$6,_r$7,_ref,_ref$1,_tuple,_tuple$1,_tuple$2,_tuple$3,_tuple$4,_tuple$5,_tuple$6,component,componentProto,components,err,err$1,err$2,err$3,isGameplay,model,robot,robotID,robotProto,total,val,weapon,weaponProto,weapons,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_entry=$f._entry;_entry$1=$f._entry$1;_i=$f._i;_i$1=$f._i$1;_keys=$f._keys;_keys$1=$f._keys$1;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_r$7=$f._r$7;_ref=$f._ref;_ref$1=$f._ref$1;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;_tuple$4=$f._tuple$4;_tuple$5=$f._tuple$5;_tuple$6=$f._tuple$6;component=$f.component;componentProto=$f.componentProto;components=$f.components;err=$f.err;err$1=$f.err$1;err$2=$f.err$2;err$3=$f.err$3;isGameplay=$f.isGameplay;model=$f.model;robot=$f.robot;robotID=$f.robotID;robotProto=$f.robotProto;total=$f.total;val=$f.val;weapon=$f.weapon;weaponProto=$f.weaponProto;weapons=$f.weapons;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:err=$ifaceNil;_r=QueryRobot($clone(model,types.Model),robotID,isGameplay);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;robot=$clone(_tuple[0],protocol.Robot);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}_r$1=data.TryGetStringRobotProto(data.GameData.Robot,robot.ProtoID);/* */$s=2;case 2:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$1=_r$1;robotProto=$clone(_tuple$1[0],data.RobotProto);err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}_r$2=QueryRobotComponents($clone(model,types.Model),robot.ID,isGameplay);/* */$s=3;case 3:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$2=_r$2;components=_tuple$2[0];err=_tuple$2[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}total=robotProto.Power;_ref=components;_i=0;_keys=$keys(_ref);/* while (true) { */case 4:/* if (!(_i < _keys.length)) { break; } */if(!(_i<_keys.length)){$s=5;continue;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;/* continue; */$s=4;continue;}component=$clone(_entry.v,protocol.Component);_r$3=data.TryGetStringComponentProto(data.GameData.Component,component.ProtoID);/* */$s=6;case 6:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_tuple$3=_r$3;componentProto=$clone(_tuple$3[0],data.ComponentProto);err$1=_tuple$3[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[0,err$1];}_1=component.ProtoID;/* */if(_1==="engine1"||_1==="engine2"||_1==="engine3"||_1==="engine4"||_1==="engine5"){$s=8;continue;}/* */$s=9;continue;/* if (_1 === ("engine1") || _1 === ("engine2") || _1 === ("engine3") || _1 === ("engine4") || _1 === ("engine5")) { */case 8:/* */if(!(componentProto.Value.$length===1)){$s=10;continue;}/* */$s=11;continue;/* if (!((componentProto.Value.$length === 1))) { */case 10:_r$4=fmt.Errorf("component value's len not right. %v",new sliceType([new componentProto.constructor.elem(componentProto)]));/* */$s=12;case 12:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}$s=-1;return[0,_r$4];/* } */case 11:_tuple$4=strconv.ParseFloat((x=componentProto.Value,0>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+0]),10);val=_tuple$4[0];err$2=_tuple$4[1];/* */if(!$interfaceIsEqual(err$2,$ifaceNil)){$s=13;continue;}/* */$s=14;continue;/* if (!($interfaceIsEqual(err$2, $ifaceNil))) { */case 13:_r$5=fmt.Errorf("component value not right. (%v)",new sliceType([new componentProto.constructor.elem(componentProto)]));/* */$s=15;case 15:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}$s=-1;return[0,_r$5];/* } */case 14:total=total+(val>>0)>>0;/* } */case 9:case 7:total=total-componentProto.PowerCost>>0;_i++;/* } */$s=4;continue;case 5:_r$6=QueryRobotWeapons($clone(model,types.Model),robot.ID,robot.Transform,isGameplay);/* */$s=16;case 16:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}_tuple$5=_r$6;weapons=_tuple$5[0];err=_tuple$5[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}_ref$1=weapons;_i$1=0;_keys$1=$keys(_ref$1);/* while (true) { */case 17:/* if (!(_i$1 < _keys$1.length)) { break; } */if(!(_i$1<_keys$1.length)){$s=18;continue;}_entry$1=_ref$1[_keys$1[_i$1]];if(_entry$1===undefined){_i$1++;/* continue; */$s=17;continue;}weapon=$clone(_entry$1.v,protocol.Weapon);_r$7=data.TryGetStringWeaponProto(data.GameData.Weapon,weapon.ProtoID);/* */$s=19;case 19:if($c){$c=false;_r$7=_r$7.$blk();}if(_r$7&&_r$7.$blk!==undefined){break s;}_tuple$6=_r$7;weaponProto=$clone(_tuple$6[0],data.WeaponProto);err$3=_tuple$6[1];if(!$interfaceIsEqual(err$3,$ifaceNil)){$s=-1;return[0,err$3];}total=total-weaponProto.PowerCost>>0;_i$1++;/* } */$s=17;continue;case 18:$s=-1;return[total,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:QueryRobotPower};}$f._1=_1;$f._entry=_entry;$f._entry$1=_entry$1;$f._i=_i;$f._i$1=_i$1;$f._keys=_keys;$f._keys$1=_keys$1;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._r$7=_r$7;$f._ref=_ref;$f._ref$1=_ref$1;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f._tuple$4=_tuple$4;$f._tuple$5=_tuple$5;$f._tuple$6=_tuple$6;$f.component=component;$f.componentProto=componentProto;$f.components=components;$f.err=err;$f.err$1=err$1;$f.err$2=err$2;$f.err$3=err$3;$f.isGameplay=isGameplay;$f.model=model;$f.robot=robot;$f.robotID=robotID;$f.robotProto=robotProto;$f.total=total;$f.val=val;$f.weapon=weapon;$f.weaponProto=weaponProto;$f.weapons=weapons;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};$pkg.QueryRobotPower=QueryRobotPower;QueryRobotSuitability=function(model,robotID,isGameplay){var _r,_r$1,_tuple,_tuple$1,err,isGameplay,model,robot,robotID,robotProto,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_tuple=$f._tuple;_tuple$1=$f._tuple$1;err=$f.err;isGameplay=$f.isGameplay;model=$f.model;robot=$f.robot;robotID=$f.robotID;robotProto=$f.robotProto;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:err=$ifaceNil;_r=QueryRobot($clone(model,types.Model),robotID,isGameplay);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;robot=$clone(_tuple[0],protocol.Robot);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[arrayType$1.zero(),err];}_r$1=data.TryGetStringRobotProto(data.GameData.Robot,robot.ProtoID);/* */$s=2;case 2:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$1=_r$1;robotProto=$clone(_tuple$1[0],data.RobotProto);err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[arrayType$1.zero(),err];}$s=-1;return[robotProto.Suitability,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:QueryRobotSuitability};}$f._r=_r;$f._r$1=_r$1;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f.err=err;$f.isGameplay=isGameplay;$f.model=model;$f.robot=robot;$f.robotID=robotID;$f.robotProto=robotProto;$f.$s=$s;$f.$r=$r;return $f;};$pkg.QueryRobotSuitability=QueryRobotSuitability;QueryRobotWeaponAbility=function(model,robotID,weapon,isGameplay){var _r,_tuple,err,isGameplay,model,robotID,weapon,weaponProto,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tuple=$f._tuple;err=$f.err;isGameplay=$f.isGameplay;model=$f.model;robotID=$f.robotID;weapon=$f.weapon;weaponProto=$f.weaponProto;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=data.TryGetStringWeaponProto(data.GameData.Weapon,weapon.ProtoID);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;weaponProto=$clone(_tuple[0],data.WeaponProto);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[new sliceType$2([]),err];}$s=-1;return[weaponProto.Ability,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:QueryRobotWeaponAbility};}$f._r=_r;$f._tuple=_tuple;$f.err=err;$f.isGameplay=isGameplay;$f.model=model;$f.robotID=robotID;$f.weapon=weapon;$f.weaponProto=weaponProto;$f.$s=$s;$f.$r=$r;return $f;};$pkg.QueryRobotWeaponAbility=QueryRobotWeaponAbility;QueryRobotWeaponAccuracy=function(model,robotID,weapon,isGameplay){var _r,_tuple,err,isGameplay,model,robotID,weapon,weaponProto,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tuple=$f._tuple;err=$f.err;isGameplay=$f.isGameplay;model=$f.model;robotID=$f.robotID;weapon=$f.weapon;weaponProto=$f.weaponProto;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=data.TryGetStringWeaponProto(data.GameData.Weapon,weapon.ProtoID);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;weaponProto=$clone(_tuple[0],data.WeaponProto);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}$s=-1;return[weaponProto.Accuracy,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:QueryRobotWeaponAccuracy};}$f._r=_r;$f._tuple=_tuple;$f.err=err;$f.isGameplay=isGameplay;$f.model=model;$f.robotID=robotID;$f.weapon=weapon;$f.weaponProto=weaponProto;$f.$s=$s;$f.$r=$r;return $f;};$pkg.QueryRobotWeaponAccuracy=QueryRobotWeaponAccuracy;QueryRobotWeaponAttackRange=function(model,robotID,weapon,offset){var _1,_i,_r,_r$1,_r$2,_r$3,_r$4,_ref,_tuple,_tuple$1,_tuple$2,_tuple$3,attackPos,attackPosWithCenter,attackRange,attackRangeWithCenter,err,model,offset,robotID,weapon,weaponProto,weaponRange,zeroOffset,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_i=$f._i;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_ref=$f._ref;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;attackPos=$f.attackPos;attackPosWithCenter=$f.attackPosWithCenter;attackRange=$f.attackRange;attackRangeWithCenter=$f.attackRangeWithCenter;err=$f.err;model=$f.model;offset=$f.offset;robotID=$f.robotID;weapon=$f.weapon;weaponProto=$f.weaponProto;weaponRange=$f.weaponRange;zeroOffset=$f.zeroOffset;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:err=$ifaceNil;_r=data.TryGetStringWeaponProto(data.GameData.Weapon,weapon.ProtoID);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;weaponProto=$clone(_tuple[0],data.WeaponProto);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[sliceType$1.nil,err];}_r$1=QueryRobotWeaponRange($clone(model,types.Model),robotID,$clone(weapon,protocol.Weapon),true);/* */$s=2;case 2:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$1=_r$1;weaponRange=$clone(_tuple$1[0],arrayType);err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[sliceType$1.nil,err];}attackRange=new sliceType$1([]);_1=weaponProto.Type;/* */if(_1==="single"){$s=4;continue;}/* */if(_1==="line"){$s=5;continue;}/* */$s=6;continue;/* if (_1 === ("single")) { */case 4:_r$2=helper.QueryMinMaxAttackRange(20,20,weaponRange[0],weaponRange[1],arrayType.zero());/* */$s=8;case 8:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$2=_r$2;attackRange=_tuple$2[0];err=_tuple$2[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[sliceType$1.nil,err];}$s=7;continue;/* } else if (_1 === ("line")) { */case 5:_r$3=helper.QueryMinMaxAttackRange(20,20,0,weaponRange[0],arrayType.zero());/* */$s=9;case 9:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_tuple$3=_r$3;attackRange=_tuple$3[0];err=_tuple$3[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[sliceType$1.nil,err];}$s=7;continue;/* } else { */case 6:_r$4=fmt.Errorf("unknown weapon type (%v)",new sliceType([new weaponProto.constructor.elem(weaponProto)]));/* */$s=10;case 10:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}$s=-1;return[sliceType$1.nil,_r$4];/* } */case 7:case 3:zeroOffset=arrayType.zero();if($equal(offset,zeroOffset,protocol.Position)){$s=-1;return[attackRange,$ifaceNil];}attackRangeWithCenter=new sliceType$1([]);_ref=attackRange;_i=0;while(true){if(!(_i<_ref.$length)){break;}attackPos=$clone(_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i],protocol.Position);attackPosWithCenter=$toNativeArray($kindInt,[offset[0]+attackPos[0]>>0,offset[1]+attackPos[1]>>0]);attackRangeWithCenter=$append(attackRangeWithCenter,attackPosWithCenter);_i++;}$s=-1;return[attackRangeWithCenter,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:QueryRobotWeaponAttackRange};}$f._1=_1;$f._i=_i;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._ref=_ref;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f.attackPos=attackPos;$f.attackPosWithCenter=attackPosWithCenter;$f.attackRange=attackRange;$f.attackRangeWithCenter=attackRangeWithCenter;$f.err=err;$f.model=model;$f.offset=offset;$f.robotID=robotID;$f.weapon=weapon;$f.weaponProto=weaponProto;$f.weaponRange=weaponRange;$f.zeroOffset=zeroOffset;$f.$s=$s;$f.$r=$r;return $f;};$pkg.QueryRobotWeaponAttackRange=QueryRobotWeaponAttackRange;QueryRobotWeaponRange=function(model,robotID,weapon,isGameplay){var _r,_tuple,err,isGameplay,model,robotID,weapon,weaponProto,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tuple=$f._tuple;err=$f.err;isGameplay=$f.isGameplay;model=$f.model;robotID=$f.robotID;weapon=$f.weapon;weaponProto=$f.weaponProto;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=data.TryGetStringWeaponProto(data.GameData.Weapon,weapon.ProtoID);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;weaponProto=$clone(_tuple[0],data.WeaponProto);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[arrayType.zero(),err];}$s=-1;return[weaponProto.Range,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:QueryRobotWeaponRange};}$f._r=_r;$f._tuple=_tuple;$f.err=err;$f.isGameplay=isGameplay;$f.model=model;$f.robotID=robotID;$f.weapon=weapon;$f.weaponProto=weaponProto;$f.$s=$s;$f.$r=$r;return $f;};$pkg.QueryRobotWeaponRange=QueryRobotWeaponRange;QueryRobotWeaponSuitability=function(model,robotID,weapon,isGameplay){var _r,_tuple,err,isGameplay,model,robotID,weapon,weaponProto,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tuple=$f._tuple;err=$f.err;isGameplay=$f.isGameplay;model=$f.model;robotID=$f.robotID;weapon=$f.weapon;weaponProto=$f.weaponProto;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=data.TryGetStringWeaponProto(data.GameData.Weapon,weapon.ProtoID);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;weaponProto=$clone(_tuple[0],data.WeaponProto);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[arrayType$1.zero(),err];}$s=-1;return[weaponProto.Suitability,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:QueryRobotWeaponSuitability};}$f._r=_r;$f._tuple=_tuple;$f.err=err;$f.isGameplay=isGameplay;$f.model=model;$f.robotID=robotID;$f.weapon=weapon;$f.weaponProto=weaponProto;$f.$s=$s;$f.$r=$r;return $f;};$pkg.QueryRobotWeaponSuitability=QueryRobotWeaponSuitability;QueryRobotWeapons=function(model,robotID,transform,isGameplay){var _entry,_entry$1,_entry$2,_i,_i$1,_key,_key$1,_keys,_r,_r$1,_r$2,_r$3,_ref,_ref$1,_tuple,_tuple$1,_tuple$2,_tuple$3,_tuple$4,err,err$1,err$2,has,isGameplay,model,robot,robotID,robotID$1,robotProto,transform,weapon,weapon$1,weaponID,weaponProto,weaponProto$1,weaponProtoID,weaponState,weapons,weapons$1,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_entry$1=$f._entry$1;_entry$2=$f._entry$2;_i=$f._i;_i$1=$f._i$1;_key=$f._key;_key$1=$f._key$1;_keys=$f._keys;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_ref=$f._ref;_ref$1=$f._ref$1;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;_tuple$4=$f._tuple$4;err=$f.err;err$1=$f.err$1;err$2=$f.err$2;has=$f.has;isGameplay=$f.isGameplay;model=$f.model;robot=$f.robot;robotID=$f.robotID;robotID$1=$f.robotID$1;robotProto=$f.robotProto;transform=$f.transform;weapon=$f.weapon;weapon$1=$f.weapon$1;weaponID=$f.weaponID;weaponProto=$f.weaponProto;weaponProto$1=$f.weaponProto$1;weaponProtoID=$f.weaponProtoID;weaponState=$f.weaponState;weapons=$f.weapons;weapons$1=$f.weapons$1;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=log.Log(protocol.LogCategoryRender,"QueryRobotWeapons","start");/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}_r=QueryRobot($clone(model,types.Model),robotID,isGameplay);/* */$s=2;case 2:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;robot=$clone(_tuple[0],protocol.Robot);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[false,err];}_tuple$1=(_entry=robot.WeaponsByTransform[$String.keyFor(transform)],_entry!==undefined?[_entry.v,true]:[false,false]);weapons=_tuple$1[0];has=_tuple$1[1];if(has){$s=-1;return[weapons,$ifaceNil];}_r$1=data.TryGetStringRobotProto(data.GameData.Robot,robot.ProtoID);/* */$s=3;case 3:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$2=_r$1;robotProto=$clone(_tuple$2[0],data.RobotProto);err=_tuple$2[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[$makeMap($String.keyFor,[]),err];}weapons$1=$makeMap($String.keyFor,[]);_ref=robotProto.Weapons;_i=0;/* while (true) { */case 4:/* if (!(_i < _ref.$length)) { break; } */if(!(_i<_ref.$length)){$s=5;continue;}weaponProtoID=_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i];_r$2=data.TryGetStringWeaponProto(data.GameData.Weapon,weaponProtoID);/* */$s=6;case 6:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$3=_r$2;weaponProto=$clone(_tuple$3[0],data.WeaponProto);err$1=_tuple$3[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[$makeMap($String.keyFor,[]),err$1];}weapon=new protocol.Weapon.ptr(weaponProtoID,weaponProtoID,weaponProto.MaxBulletCount,"",0,arrayType.zero(),0,0,arrayType$1.zero(),sliceType$2.nil,"","",0,0,0,0);_key=weapon.ID;(weapons$1||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key)]={k:_key,v:$clone(weapon,protocol.Weapon)};_i++;/* } */$s=4;continue;case 5:_ref$1=model.App.Lobby.RobotIDByWeaponID;_i$1=0;_keys=$keys(_ref$1);/* while (true) { */case 7:/* if (!(_i$1 < _keys.length)) { break; } */if(!(_i$1<_keys.length)){$s=8;continue;}_entry$1=_ref$1[_keys[_i$1]];if(_entry$1===undefined){_i$1++;/* continue; */$s=7;continue;}weaponID=_entry$1.k;robotID$1=_entry$1.v;/* */if(!(robotID$1===robot.ID)){$s=9;continue;}/* */$s=10;continue;/* if (!(robotID$1 === robot.ID)) { */case 9:_i$1++;/* continue; */$s=7;continue;/* } */case 10:weapon$1=$clone((_entry$2=model.App.Lobby.Weapons[$String.keyFor(weaponID)],_entry$2!==undefined?_entry$2.v:new protocol.Weapon.ptr("","",0,"",0,arrayType.zero(),0,0,arrayType$1.zero(),sliceType$2.nil,"","",0,0,0,0)),protocol.Weapon);_r$3=data.TryGetStringWeaponProto(data.GameData.Weapon,weapon$1.ProtoID);/* */$s=11;case 11:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_tuple$4=_r$3;weaponProto$1=$clone(_tuple$4[0],data.WeaponProto);err$2=_tuple$4[1];if(!$interfaceIsEqual(err$2,$ifaceNil)){$s=-1;return[$makeMap($String.keyFor,[]),err$2];}weaponState=new protocol.Weapon.ptr(weapon$1.ID,weapon$1.ProtoID,weaponProto$1.MaxBulletCount,"",0,arrayType.zero(),0,0,arrayType$1.zero(),sliceType$2.nil,"","",0,0,0,0);_key$1=weaponState.ID;(weapons$1||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key$1)]={k:_key$1,v:$clone(weaponState,protocol.Weapon)};_i$1++;/* } */$s=7;continue;case 8:$s=-1;return[weapons$1,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:QueryRobotWeapons};}$f._entry=_entry;$f._entry$1=_entry$1;$f._entry$2=_entry$2;$f._i=_i;$f._i$1=_i$1;$f._key=_key;$f._key$1=_key$1;$f._keys=_keys;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._ref=_ref;$f._ref$1=_ref$1;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f._tuple$4=_tuple$4;$f.err=err;$f.err$1=err$1;$f.err$2=err$2;$f.has=has;$f.isGameplay=isGameplay;$f.model=model;$f.robot=robot;$f.robotID=robotID;$f.robotID$1=robotID$1;$f.robotProto=robotProto;$f.transform=transform;$f.weapon=weapon;$f.weapon$1=weapon$1;$f.weaponID=weaponID;$f.weaponProto=weaponProto;$f.weaponProto$1=weaponProto$1;$f.weaponProtoID=weaponProtoID;$f.weaponState=weaponState;$f.weapons=weapons;$f.weapons$1=weapons$1;$f.$s=$s;$f.$r=$r;return $f;};$pkg.QueryRobotWeapons=QueryRobotWeapons;RobotMoveCost=function(model,robotID,movePower,ignoreOccupy){var _entry,_r,_tuple,err,ignoreOccupy,isSky,model,movePower,robotID,suitability,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_r=$f._r;_tuple=$f._tuple;err=$f.err;ignoreOccupy=$f.ignoreOccupy;isSky=$f.isSky;model=$f.model;movePower=$f.movePower;robotID=$f.robotID;suitability=$f.suitability;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:ignoreOccupy=[ignoreOccupy];isSky=[isSky];model=[model];movePower=[movePower];robotID=[robotID];suitability=[suitability];_r=QueryRobotSuitability($clone(model[0],types.Model),robotID[0],true);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;suitability[0]=$clone(_tuple[0],arrayType$1);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[function(ignoreOccupy,isSky,model,movePower,robotID,suitability){return function(curr){var curr;return sliceType$4.nil;};}(ignoreOccupy,isSky,model,movePower,robotID,suitability),err];}isSky[0]=(_entry=model[0].App.Gameplay.Tags[$String.keyFor(robotID[0])],_entry!==undefined?_entry.v:new protocol.Tag.ptr(0,false,false)).Sky;$s=-1;return[function(ignoreOccupy,isSky,model,movePower,robotID,suitability){return function $b(curr){var _i,_r$1,_r$2,_r$3,_r$4,_r$5,_r$6,_r$7,_r$8,_ref,_tmp,_tmp$1,_tuple$1,_tuple$2,_tuple$3,cost1,cost2,curr,currPos,err$1,err$2,err$3,factor,factor$1,isFriendlyRobot,nextCost,nextPos,notFound,offset,offsets,ret,terrain1,terrain2,unitAtPos,x,x$1,y,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_i=$f._i;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_r$7=$f._r$7;_r$8=$f._r$8;_ref=$f._ref;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;cost1=$f.cost1;cost2=$f.cost2;curr=$f.curr;currPos=$f.currPos;err$1=$f.err$1;err$2=$f.err$2;err$3=$f.err$3;factor=$f.factor;factor$1=$f.factor$1;isFriendlyRobot=$f.isFriendlyRobot;nextCost=$f.nextCost;nextPos=$f.nextPos;notFound=$f.notFound;offset=$f.offset;offsets=$f.offsets;ret=$f.ret;terrain1=$f.terrain1;terrain2=$f.terrain2;unitAtPos=$f.unitAtPos;x=$f.x;x$1=$f.x$1;y=$f.y;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:if(curr.Cost>>0>100){$s=-1;return new sliceType$4([]);}currPos=$clone($assertType(curr.Pather,protocol.Position),protocol.Position);cost1=0;_r$1=helper.QueryTerrain(model[0].App.Gameplay.Map,terrainCache,$clone(currPos,protocol.Position));/* */$s=1;case 1:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$1=_r$1;terrain1=$clone(_tuple$1[0],data.TerrainProto);err$1=_tuple$1[1];/* */if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=2;continue;}/* */$s=3;continue;/* if (!($interfaceIsEqual(err$1, $ifaceNil))) { */case 2:_r$2=err$1.Error();/* */$s=4;case 4:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_r$3=fmt.Println(new sliceType([new $String(_r$2)]));/* */$s=5;case 5:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_r$3;$s=-1;return new sliceType$4([]);/* } */case 3:if(isSky[0]){if(suitability[0][2]===0){$s=-1;return new sliceType$4([]);}cost1=0.4/suitability[0][2];}else{factor=new mgl64.Vec2($toNativeArray($kindFloat64,[suitability[0][0],suitability[0][1]])).Dot($toNativeArray($kindFloat64,[terrain1.Cost[0],terrain1.Cost[1]]));cost1=0.5/factor;}offsets=new sliceType$1([$toNativeArray($kindInt,[0,-1]),$toNativeArray($kindInt,[1,0]),$toNativeArray($kindInt,[0,1]),$toNativeArray($kindInt,[-1,0])]);ret=new sliceType$4([]);_ref=offsets;_i=0;/* while (true) { */case 6:/* if (!(_i < _ref.$length)) { break; } */if(!(_i<_ref.$length)){$s=7;continue;}offset=$clone(_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i],protocol.Position);_tmp=currPos[0]+offset[0]>>0;_tmp$1=currPos[1]+offset[1]>>0;x=_tmp;y=_tmp$1;/* */if(x<0||x>=(x$1=model[0].App.Gameplay.Map,0>=x$1.$length?($throwRuntimeError("index out of range"),undefined):x$1.$array[x$1.$offset+0]).$length){$s=8;continue;}/* */$s=9;continue;/* if (x < 0 || x >= (x$1 = model[0].App.Gameplay.Map, (0 >= x$1.$length ? ($throwRuntimeError("index out of range"), undefined) : x$1.$array[x$1.$offset + 0])).$length) { */case 8:_i++;/* continue; */$s=6;continue;/* } */case 9:/* */if(y<0||y>=model[0].App.Gameplay.Map.$length){$s=10;continue;}/* */$s=11;continue;/* if (y < 0 || y >= model[0].App.Gameplay.Map.$length) { */case 10:_i++;/* continue; */$s=6;continue;/* } */case 11:nextPos=$toNativeArray($kindInt,[x,y]);/* */if(ignoreOccupy[0]===false){$s=12;continue;}/* */$s=13;continue;/* if (ignoreOccupy[0] === false) { */case 12:notFound="";unitAtPos=SearchUnitByPosition(model[0].App.Gameplay.Positions,$clone(nextPos,protocol.Position));/* */if(!(unitAtPos===notFound)){$s=14;continue;}/* */$s=15;continue;/* if (!(unitAtPos === notFound)) { */case 14:_r$4=IsFriendlyRobot($clone(model[0],types.Model),robotID[0],unitAtPos);/* */$s=16;case 16:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}_tuple$2=_r$4;isFriendlyRobot=_tuple$2[0];err$2=_tuple$2[1];/* */if(!$interfaceIsEqual(err$2,$ifaceNil)){$s=17;continue;}/* */$s=18;continue;/* if (!($interfaceIsEqual(err$2, $ifaceNil))) { */case 17:_r$5=fmt.Println(new sliceType([err$2]));/* */$s=19;case 19:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}_r$5;_i++;/* continue; */$s=6;continue;/* } */case 18:if(isFriendlyRobot===false){_i++;/* continue; */$s=6;continue;}/* } */case 15:/* } */case 13:cost2=0;_r$6=helper.QueryTerrain(model[0].App.Gameplay.Map,terrainCache,$clone(nextPos,protocol.Position));/* */$s=20;case 20:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}_tuple$3=_r$6;terrain2=$clone(_tuple$3[0],data.TerrainProto);err$3=_tuple$3[1];/* */if(!$interfaceIsEqual(err$3,$ifaceNil)){$s=21;continue;}/* */$s=22;continue;/* if (!($interfaceIsEqual(err$3, $ifaceNil))) { */case 21:_r$7=err$3.Error();/* */$s=23;case 23:if($c){$c=false;_r$7=_r$7.$blk();}if(_r$7&&_r$7.$blk!==undefined){break s;}_r$8=fmt.Println(new sliceType([new $String(_r$7)]));/* */$s=24;case 24:if($c){$c=false;_r$8=_r$8.$blk();}if(_r$8&&_r$8.$blk!==undefined){break s;}_r$8;$s=-1;return new sliceType$4([]);/* } */case 22:if(isSky[0]){if(suitability[0][2]===0){_i++;/* continue; */$s=6;continue;}cost2=0.4/suitability[0][2];}else{factor$1=new mgl64.Vec2($toNativeArray($kindFloat64,[suitability[0][0],suitability[0][1]])).Dot($toNativeArray($kindFloat64,[terrain2.Cost[0],terrain2.Cost[1]]));cost2=0.5/factor$1;}nextCost=cost1+cost2;if(curr.Cost+nextCost>>0>movePower[0]){_i++;/* continue; */$s=6;continue;}ret=$append(ret,new astar.NeighborsNode.ptr(new protocol.Position(nextPos),nextCost));_i++;/* } */$s=6;continue;case 7:$s=-1;return ret;/* */}return;}if($f===undefined){$f={$blk:$b};}$f._i=_i;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._r$7=_r$7;$f._r$8=_r$8;$f._ref=_ref;$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f.cost1=cost1;$f.cost2=cost2;$f.curr=curr;$f.currPos=currPos;$f.err$1=err$1;$f.err$2=err$2;$f.err$3=err$3;$f.factor=factor;$f.factor$1=factor$1;$f.isFriendlyRobot=isFriendlyRobot;$f.nextCost=nextCost;$f.nextPos=nextPos;$f.notFound=notFound;$f.offset=offset;$f.offsets=offsets;$f.ret=ret;$f.terrain1=terrain1;$f.terrain2=terrain2;$f.unitAtPos=unitAtPos;$f.x=x;$f.x$1=x$1;$f.y=y;$f.$s=$s;$f.$r=$r;return $f;};}(ignoreOccupy,isSky,model,movePower,robotID,suitability),$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:RobotMoveCost};}$f._entry=_entry;$f._r=_r;$f._tuple=_tuple;$f.err=err;$f.ignoreOccupy=ignoreOccupy;$f.isSky=isSky;$f.model=model;$f.movePower=movePower;$f.robotID=robotID;$f.suitability=suitability;$f.$s=$s;$f.$r=$r;return $f;};$pkg.RobotMoveCost=RobotMoveCost;SearchUnitByPosition=function(posComs,pos){var _entry,_entry$1,_entry$2,_entry$3,_entry$4,_entry$5,_entry$6,_i,_i$1,_i$2,_key,_key$1,_keys,_keys$1,_keys$2,_ref,_ref$1,_ref$2,_tuple,_tuple$1,_tuple$2,has,has$1,has$2,pos,posComs,unitID,unitID$1,unitID$2,unitID$3,unitNewPos,unitOldPos,unitPos,unitPos$1;_ref=unitByPosition;_i=0;_keys=$keys(_ref);while(true){if(!(_i<_keys.length)){break;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;continue;}unitPos=$clone(_entry.k,protocol.Position);unitID=_entry.v;_tuple=(_entry$1=posComs[$String.keyFor(unitID)],_entry$1!==undefined?[_entry$1.v,true]:[arrayType.zero(),false]);has=_tuple[1];if(has===false){delete unitByPosition[protocol.Position.keyFor(unitPos)];}_i++;}_ref$1=posComs;_i$1=0;_keys$1=$keys(_ref$1);while(true){if(!(_i$1<_keys$1.length)){break;}_entry$2=_ref$1[_keys$1[_i$1]];if(_entry$2===undefined){_i$1++;continue;}unitID$1=_entry$2.k;unitPos$1=$clone(_entry$2.v,protocol.Position);_tuple$1=(_entry$3=unitByPosition[protocol.Position.keyFor(unitPos$1)],_entry$3!==undefined?[_entry$3.v,true]:["",false]);has$1=_tuple$1[1];if(has$1===false){_key=$clone(unitPos$1,protocol.Position);(unitByPosition||$throwRuntimeError("assignment to entry in nil map"))[protocol.Position.keyFor(_key)]={k:_key,v:unitID$1};}_i$1++;}_ref$2=unitByPosition;_i$2=0;_keys$2=$keys(_ref$2);while(true){if(!(_i$2<_keys$2.length)){break;}_entry$4=_ref$2[_keys$2[_i$2]];if(_entry$4===undefined){_i$2++;continue;}unitOldPos=$clone(_entry$4.k,protocol.Position);unitID$2=_entry$4.v;unitNewPos=$clone((_entry$5=posComs[$String.keyFor(unitID$2)],_entry$5!==undefined?_entry$5.v:arrayType.zero()),protocol.Position);if(!$equal(unitOldPos,unitNewPos,protocol.Position)){delete unitByPosition[protocol.Position.keyFor(unitOldPos)];_key$1=$clone(unitNewPos,protocol.Position);(unitByPosition||$throwRuntimeError("assignment to entry in nil map"))[protocol.Position.keyFor(_key$1)]={k:_key$1,v:unitID$2};}_i$2++;}_tuple$2=(_entry$6=unitByPosition[protocol.Position.keyFor(pos)],_entry$6!==undefined?[_entry$6.v,true]:["",false]);unitID$3=_tuple$2[0];has$2=_tuple$2[1];if(has$2){return unitID$3;}return"";};$pkg.SearchUnitByPosition=SearchUnitByPosition;proj=function(pos){var _q,_q$1,pos;pos[0]=(_q=pos[0]/5,_q===_q&&_q!==1/0&&_q!==-1/0?_q>>0:$throwRuntimeError("integer divide by zero"));pos[1]=(_q$1=pos[1]/5,_q$1===_q$1&&_q$1!==1/0&&_q$1!==-1/0?_q$1>>0:$throwRuntimeError("integer divide by zero"));return pos;};SearchUnitByRegion=function(posComs,p1,p2){var _entry,_entry$1,_entry$10,_entry$11,_entry$12,_entry$13,_entry$14,_entry$15,_entry$16,_entry$17,_entry$2,_entry$3,_entry$4,_entry$5,_entry$6,_entry$7,_entry$8,_entry$9,_i,_i$1,_i$2,_i$3,_i$4,_i$5,_i$6,_key,_key$1,_key$2,_key$3,_key$4,_keys,_keys$1,_keys$2,_keys$3,_keys$4,_keys$5,_keys$6,_ref,_ref$1,_ref$2,_ref$3,_ref$4,_ref$5,_ref$6,_tuple,_tuple$1,has,has$1,has$2,p1,p2,posComs,ret,total,unitID,unitID$1,unitID$2,unitID$3,unitID$4,unitIDs,unitNewPos,unitOldPos,unitPos,unitPos$1,units,units$1,x,y;_ref=unitByRegion;_i=0;_keys=$keys(_ref);while(true){if(!(_i<_keys.length)){break;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;continue;}unitPos=$clone(_entry.k,protocol.Position);units=_entry.v;_ref$1=units;_i$1=0;_keys$1=$keys(_ref$1);while(true){if(!(_i$1<_keys$1.length)){break;}_entry$1=_ref$1[_keys$1[_i$1]];if(_entry$1===undefined){_i$1++;continue;}unitID=_entry$1.k;_tuple=(_entry$2=posComs[$String.keyFor(unitID)],_entry$2!==undefined?[_entry$2.v,true]:[arrayType.zero(),false]);has=_tuple[1];if(has===false){delete(_entry$3=unitByRegion[protocol.Position.keyFor(unitPos)],_entry$3!==undefined?_entry$3.v:false)[$String.keyFor(unitID)];}_i$1++;}_i++;}_ref$2=posComs;_i$2=0;_keys$2=$keys(_ref$2);while(true){if(!(_i$2<_keys$2.length)){break;}_entry$4=_ref$2[_keys$2[_i$2]];if(_entry$4===undefined){_i$2++;continue;}unitID$1=_entry$4.k;unitPos$1=$clone(_entry$4.v,protocol.Position);protocol.Position.copy(unitPos$1,proj($clone(unitPos$1,protocol.Position)));has$1=(_entry$5=(_entry$6=unitByRegion[protocol.Position.keyFor(unitPos$1)],_entry$6!==undefined?_entry$6.v:false)[$String.keyFor(unitID$1)],_entry$5!==undefined?_entry$5.v:false);if(has$1===false){if((_entry$7=unitByRegion[protocol.Position.keyFor(unitPos$1)],_entry$7!==undefined?_entry$7.v:false)===false){_key=$clone(unitPos$1,protocol.Position);(unitByRegion||$throwRuntimeError("assignment to entry in nil map"))[protocol.Position.keyFor(_key)]={k:_key,v:$makeMap($String.keyFor,[])};}_key$1=unitID$1;((_entry$8=unitByRegion[protocol.Position.keyFor(unitPos$1)],_entry$8!==undefined?_entry$8.v:false)||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key$1)]={k:_key$1,v:true};}_i$2++;}_ref$3=unitByRegion;_i$3=0;_keys$3=$keys(_ref$3);while(true){if(!(_i$3<_keys$3.length)){break;}_entry$9=_ref$3[_keys$3[_i$3]];if(_entry$9===undefined){_i$3++;continue;}unitOldPos=$clone(_entry$9.k,protocol.Position);units$1=_entry$9.v;_ref$4=units$1;_i$4=0;_keys$4=$keys(_ref$4);while(true){if(!(_i$4<_keys$4.length)){break;}_entry$10=_ref$4[_keys$4[_i$4]];if(_entry$10===undefined){_i$4++;continue;}unitID$2=_entry$10.k;unitNewPos=$clone(proj($clone((_entry$11=posComs[$String.keyFor(unitID$2)],_entry$11!==undefined?_entry$11.v:arrayType.zero()),protocol.Position)),protocol.Position);if(!$equal(unitOldPos,unitNewPos,protocol.Position)){delete(_entry$12=unitByRegion[protocol.Position.keyFor(unitOldPos)],_entry$12!==undefined?_entry$12.v:false)[$String.keyFor(unitID$2)];if((_entry$13=unitByRegion[protocol.Position.keyFor(unitNewPos)],_entry$13!==undefined?_entry$13.v:false)===false){_key$2=$clone(unitNewPos,protocol.Position);(unitByRegion||$throwRuntimeError("assignment to entry in nil map"))[protocol.Position.keyFor(_key$2)]={k:_key$2,v:$makeMap($String.keyFor,[])};}_key$3=unitID$2;((_entry$14=unitByRegion[protocol.Position.keyFor(unitNewPos)],_entry$14!==undefined?_entry$14.v:false)||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key$3)]={k:_key$3,v:true};}_i$4++;}_i$3++;}protocol.Position.copy(p1,proj($clone(p1,protocol.Position)));protocol.Position.copy(p2,proj($clone(p2,protocol.Position)));total=$makeMap($String.keyFor,[]);x=p1[0];while(true){if(!(x<=p2[0])){break;}y=p1[1];while(true){if(!(y<=p2[1])){break;}_tuple$1=(_entry$15=unitByRegion[protocol.Position.keyFor($toNativeArray($kindInt,[x,y]))],_entry$15!==undefined?[_entry$15.v,true]:[false,false]);unitIDs=_tuple$1[0];has$2=_tuple$1[1];if(has$2){_ref$5=unitIDs;_i$5=0;_keys$5=$keys(_ref$5);while(true){if(!(_i$5<_keys$5.length)){break;}_entry$16=_ref$5[_keys$5[_i$5]];if(_entry$16===undefined){_i$5++;continue;}unitID$3=_entry$16.k;_key$4=unitID$3;(total||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key$4)]={k:_key$4,v:true};_i$5++;}}y=y+1>>0;}x=x+1>>0;}ret=new sliceType$2([]);_ref$6=total;_i$6=0;_keys$6=$keys(_ref$6);while(true){if(!(_i$6<_keys$6.length)){break;}_entry$17=_ref$6[_keys$6[_i$6]];if(_entry$17===undefined){_i$6++;continue;}unitID$4=_entry$17.k;ret=$append(ret,unitID$4);_i$6++;}return ret;};$pkg.SearchUnitByRegion=SearchUnitByRegion;QueryUnitsByPlayer=function(model,playerID){var ID,_entry,_i,_keys,_r,_ref,_tuple,err,model,playerID,ret,robot,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;ID=$f.ID;_entry=$f._entry;_i=$f._i;_keys=$f._keys;_r=$f._r;_ref=$f._ref;_tuple=$f._tuple;err=$f.err;model=$f.model;playerID=$f.playerID;ret=$f.ret;robot=$f.robot;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=protocol.TryGetStringPlayer(model.App.Gameplay.Players,playerID);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[new sliceType$2([]),err];}ret=new sliceType$2([]);_ref=model.App.Gameplay.Robots;_i=0;_keys=$keys(_ref);while(true){if(!(_i<_keys.length)){break;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;continue;}ID=_entry.k;robot=$clone(_entry.v,protocol.Robot);if(robot.PlayerID===playerID){ret=$append(ret,ID);}_i++;}$s=-1;return[ret,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:QueryUnitsByPlayer};}$f.ID=ID;$f._entry=_entry;$f._i=_i;$f._keys=_keys;$f._r=_r;$f._ref=_ref;$f._tuple=_tuple;$f.err=err;$f.model=model;$f.playerID=playerID;$f.ret=ret;$f.robot=robot;$f.$s=$s;$f.$r=$r;return $f;};$pkg.QueryUnitsByPlayer=QueryUnitsByPlayer;IsRobotDone=function(model,robotID){var _entry,model,robotID;return[(_entry=model.App.Gameplay.Tags[$String.keyFor(robotID)],_entry!==undefined?_entry.v:new protocol.Tag.ptr(0,false,false)).IsDone,$ifaceNil];};$pkg.IsRobotDone=IsRobotDone;IsFriendlyCell=function(model,unitID,pos){var _entry,_entry$1,_r,_tuple,_tuple$1,is,is$1,item,model,notFound,pos,robot,unitAtPos,unitID,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_entry$1=$f._entry$1;_r=$f._r;_tuple=$f._tuple;_tuple$1=$f._tuple$1;is=$f.is;is$1=$f.is$1;item=$f.item;model=$f.model;notFound=$f.notFound;pos=$f.pos;robot=$f.robot;unitAtPos=$f.unitAtPos;unitID=$f.unitID;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:unitAtPos=SearchUnitByPosition(model.App.Gameplay.Positions,$clone(pos,protocol.Position));notFound="";if(unitAtPos===notFound){$s=-1;return[true,$ifaceNil];}_tuple=(_entry=model.App.Gameplay.Robots[$String.keyFor(unitAtPos)],_entry!==undefined?[_entry.v,true]:[new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),false]);robot=$clone(_tuple[0],protocol.Robot);is=_tuple[1];/* */if(is){$s=1;continue;}/* */$s=2;continue;/* if (is) { */case 1:_r=IsFriendlyRobot($clone(model,types.Model),unitID,robot.ID);/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r;/* } */case 2:_tuple$1=(_entry$1=model.App.Gameplay.Items[$String.keyFor(unitAtPos)],_entry$1!==undefined?[_entry$1.v,true]:[new protocol.Item.ptr("","",""),false]);item=$clone(_tuple$1[0],protocol.Item);is$1=_tuple$1[1];if(is$1){$unused(item);$s=-1;return[true,$ifaceNil];}$s=-1;return[false,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:IsFriendlyCell};}$f._entry=_entry;$f._entry$1=_entry$1;$f._r=_r;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f.is=is;$f.is$1=is$1;$f.item=item;$f.model=model;$f.notFound=notFound;$f.pos=pos;$f.robot=robot;$f.unitAtPos=unitAtPos;$f.unitID=unitID;$f.$s=$s;$f.$r=$r;return $f;};$pkg.IsFriendlyCell=IsFriendlyCell;IsFriendlyRobot=function(model,unitID1,unitID2){var _r,_r$1,_r$2,_r$3,_tuple,_tuple$1,_tuple$2,_tuple$3,err,model,plyr1,plyr2,unit1,unit2,unitID1,unitID2,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;err=$f.err;model=$f.model;plyr1=$f.plyr1;plyr2=$f.plyr2;unit1=$f.unit1;unit2=$f.unit2;unitID1=$f.unitID1;unitID2=$f.unitID2;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=protocol.TryGetStringRobot(model.App.Gameplay.Robots,unitID1);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;unit1=$clone(_tuple[0],protocol.Robot);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[false,err];}_r$1=protocol.TryGetStringRobot(model.App.Gameplay.Robots,unitID2);/* */$s=2;case 2:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$1=_r$1;unit2=$clone(_tuple$1[0],protocol.Robot);err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[false,err];}_r$2=protocol.TryGetStringPlayer(model.App.Gameplay.Players,unit1.PlayerID);/* */$s=3;case 3:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$2=_r$2;plyr1=$clone(_tuple$2[0],protocol.Player);err=_tuple$2[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[false,err];}_r$3=protocol.TryGetStringPlayer(model.App.Gameplay.Players,unit2.PlayerID);/* */$s=4;case 4:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_tuple$3=_r$3;plyr2=$clone(_tuple$3[0],protocol.Player);err=_tuple$3[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[false,err];}$s=-1;return[plyr1.GroupID===plyr2.GroupID,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:IsFriendlyRobot};}$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f.err=err;$f.model=model;$f.plyr1=plyr1;$f.plyr2=plyr2;$f.unit1=unit1;$f.unit2=unit2;$f.unitID1=unitID1;$f.unitID2=unitID2;$f.$s=$s;$f.$r=$r;return $f;};$pkg.IsFriendlyRobot=IsFriendlyRobot;$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=types.$init();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=tool.$init();/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=data.$init();/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=helper.$init();/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=protocol.$init();/* */$s=5;case 5:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=uidata.$init();/* */$s=6;case 6:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=fmt.$init();/* */$s=7;case 7:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=mgl64.$init();/* */$s=8;case 8:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=math.$init();/* */$s=9;case 9:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=strconv.$init();/* */$s=10;case 10:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=astar.$init();/* */$s=11;case 11:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=log.$init();/* */$s=12;case 12:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}terrainCache=false;unitByPosition=$makeMap(protocol.Position.keyFor,[]);unitByRegion=$makeMap(protocol.Position.keyFor,[]);/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["app/model/v1/internal/ai"]=function(){var $pkg={},$init,common,types,tool,helper,protocol,log,mlkmeans,sliceType,sliceType$1,sliceType$2,sliceType$3,sliceType$4,QueryTeamTarget,QueryTeammate,QueryTeamCount,QueryTeamCombatPower,Strategy;common=$packages["app/model/v1/internal/common"];types=$packages["app/model/v1/internal/tool/types"];tool=$packages["app/tool"];helper=$packages["app/tool/helper"];protocol=$packages["app/tool/protocol"];log=$packages["tool/log"];mlkmeans=$packages["tool/nodejs/mlkmeans"];sliceType=$sliceType($String);sliceType$1=$sliceType($Int);sliceType$2=$sliceType(mlkmeans.Centroid);sliceType$3=$sliceType($emptyInterface);sliceType$4=$sliceType(sliceType$3);QueryTeamTarget=function(origin,myRobotIDs,myTeams,targetRobotIDs,targetTeams){var _key,_r,_r$1,_r$2,_r$3,_r$4,_r$5,_tuple,_tuple$1,_tuple$2,_tuple$3,_tuple$4,_tuple$5,_tuple$6,_tuple$7,ctx,currMyTeamPower,currMyTeammate,currTargetTeamID,currTargetTeamPower,currTargetTeammate,err,err$1,err$2,i,myRobotIDs,myTeamCnt,myTeams,origin,selectTargetTeamID,targetRobotIDs,targetTeamCnt,targetTeams,totalPower,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_key=$f._key;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;_tuple$4=$f._tuple$4;_tuple$5=$f._tuple$5;_tuple$6=$f._tuple$6;_tuple$7=$f._tuple$7;ctx=$f.ctx;currMyTeamPower=$f.currMyTeamPower;currMyTeammate=$f.currMyTeammate;currTargetTeamID=$f.currTargetTeamID;currTargetTeamPower=$f.currTargetTeamPower;currTargetTeammate=$f.currTargetTeammate;err=$f.err;err$1=$f.err$1;err$2=$f.err$2;i=$f.i;myRobotIDs=$f.myRobotIDs;myTeamCnt=$f.myTeamCnt;myTeams=$f.myTeams;origin=$f.origin;selectTargetTeamID=$f.selectTargetTeamID;targetRobotIDs=$f.targetRobotIDs;targetTeamCnt=$f.targetTeamCnt;targetTeams=$f.targetTeams;totalPower=$f.totalPower;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:ctx=$clone(origin,types.Model);_tuple=QueryTeamCount($clone(myTeams,mlkmeans.KMeansResult));myTeamCnt=_tuple[0];err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[false,false,err];}_tuple$1=QueryTeamCount($clone(targetTeams,mlkmeans.KMeansResult));targetTeamCnt=_tuple$1[0];err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[false,false,err];}if(targetTeamCnt===0){$s=-1;return[false,false,$ifaceNil];}selectTargetTeamID=$makeMap($Int.keyFor,[]);currTargetTeamID=0;_r=QueryTeammate($clone(targetTeams,mlkmeans.KMeansResult),targetRobotIDs,currTargetTeamID);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple$2=_r;currTargetTeammate=_tuple$2[0];err$1=_tuple$2[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[false,false,err$1];}_r$1=QueryTeamCombatPower($clone(ctx,types.Model),currTargetTeammate);/* */$s=2;case 2:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$3=_r$1;currTargetTeamPower=_tuple$3[0];err$1=_tuple$3[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[false,false,err$1];}totalPower=0;i=0;/* while (true) { */case 3:/* if (!(i < myTeamCnt)) { break; } */if(!(i<myTeamCnt)){$s=4;continue;}_key=i;(selectTargetTeamID||$throwRuntimeError("assignment to entry in nil map"))[$Int.keyFor(_key)]={k:_key,v:currTargetTeamID};_r$2=QueryTeammate($clone(myTeams,mlkmeans.KMeansResult),myRobotIDs,i);/* */$s=5;case 5:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$4=_r$2;currMyTeammate=_tuple$4[0];err$2=_tuple$4[1];if(!$interfaceIsEqual(err$2,$ifaceNil)){$s=-1;return[false,false,err$2];}_r$3=QueryTeamCombatPower($clone(ctx,types.Model),currMyTeammate);/* */$s=6;case 6:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_tuple$5=_r$3;currMyTeamPower=_tuple$5[0];err$2=_tuple$5[1];if(!$interfaceIsEqual(err$2,$ifaceNil)){$s=-1;return[false,false,err$2];}totalPower=totalPower+currMyTeamPower>>0;/* */if(totalPower<currTargetTeamPower){$s=7;continue;}/* */$s=8;continue;/* if (totalPower < currTargetTeamPower) { */case 7:i=i+1>>0;/* continue; */$s=3;continue;/* } */case 8:totalPower=0;currTargetTeamID=currTargetTeamID+1>>0;if(currTargetTeamID>=targetTeamCnt){/* break; */$s=4;continue;}_r$4=QueryTeammate($clone(targetTeams,mlkmeans.KMeansResult),targetRobotIDs,currTargetTeamID);/* */$s=9;case 9:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}_tuple$6=_r$4;currTargetTeammate=_tuple$6[0];err$2=_tuple$6[1];if(!$interfaceIsEqual(err$2,$ifaceNil)){$s=-1;return[false,false,err$2];}_r$5=QueryTeamCombatPower($clone(ctx,types.Model),currTargetTeammate);/* */$s=10;case 10:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}_tuple$7=_r$5;currTargetTeamPower=_tuple$7[0];err$2=_tuple$7[1];if(!$interfaceIsEqual(err$2,$ifaceNil)){$s=-1;return[false,false,err$2];}i=i+1>>0;/* } */$s=3;continue;case 4:$s=-1;return[selectTargetTeamID,true,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:QueryTeamTarget};}$f._key=_key;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f._tuple$4=_tuple$4;$f._tuple$5=_tuple$5;$f._tuple$6=_tuple$6;$f._tuple$7=_tuple$7;$f.ctx=ctx;$f.currMyTeamPower=currMyTeamPower;$f.currMyTeammate=currMyTeammate;$f.currTargetTeamID=currTargetTeamID;$f.currTargetTeamPower=currTargetTeamPower;$f.currTargetTeammate=currTargetTeammate;$f.err=err;$f.err$1=err$1;$f.err$2=err$2;$f.i=i;$f.myRobotIDs=myRobotIDs;$f.myTeamCnt=myTeamCnt;$f.myTeams=myTeams;$f.origin=origin;$f.selectTargetTeamID=selectTargetTeamID;$f.targetRobotIDs=targetRobotIDs;$f.targetTeamCnt=targetTeamCnt;$f.targetTeams=targetTeams;$f.totalPower=totalPower;$f.$s=$s;$f.$r=$r;return $f;};$pkg.QueryTeamTarget=QueryTeamTarget;QueryTeammate=function(result,robotIDs,teamID){var _i,_r,_ref,_tuple,currTeamID,err,i,result,ret,robotID,robotIDs,teamID,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_i=$f._i;_r=$f._r;_ref=$f._ref;_tuple=$f._tuple;currTeamID=$f.currTeamID;err=$f.err;i=$f.i;result=$f.result;ret=$f.ret;robotID=$f.robotID;robotIDs=$f.robotIDs;teamID=$f.teamID;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:ret=new sliceType([]);_ref=result.Clusters;_i=0;/* while (true) { */case 1:/* if (!(_i < _ref.$length)) { break; } */if(!(_i<_ref.$length)){$s=2;continue;}i=_i;currTeamID=_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i];/* */if(!(currTeamID===teamID)){$s=3;continue;}/* */$s=4;continue;/* if (!((currTeamID === teamID))) { */case 3:_i++;/* continue; */$s=1;continue;/* } */case 4:_r=tool.TryGetString(robotIDs,i);/* */$s=5;case 5:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;robotID=_tuple[0];err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[sliceType.nil,err];}ret=$append(ret,robotID);_i++;/* } */$s=1;continue;case 2:$s=-1;return[ret,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:QueryTeammate};}$f._i=_i;$f._r=_r;$f._ref=_ref;$f._tuple=_tuple;$f.currTeamID=currTeamID;$f.err=err;$f.i=i;$f.result=result;$f.ret=ret;$f.robotID=robotID;$f.robotIDs=robotIDs;$f.teamID=teamID;$f.$s=$s;$f.$r=$r;return $f;};$pkg.QueryTeammate=QueryTeammate;QueryTeamCount=function(result){var result;return[result.Clusters.$length,$ifaceNil];};$pkg.QueryTeamCount=QueryTeamCount;QueryTeamCombatPower=function(origin,robotIDs){var _i,_r,_r$1,_r$2,_ref,_tuple,_tuple$1,_tuple$2,combatPower,ctx,err,origin,robot,robotID,robotIDs,totalCombatPower,weapons,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_i=$f._i;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_ref=$f._ref;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;combatPower=$f.combatPower;ctx=$f.ctx;err=$f.err;origin=$f.origin;robot=$f.robot;robotID=$f.robotID;robotIDs=$f.robotIDs;totalCombatPower=$f.totalCombatPower;weapons=$f.weapons;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:ctx=$clone(origin,types.Model);totalCombatPower=0;_ref=robotIDs;_i=0;/* while (true) { */case 1:/* if (!(_i < _ref.$length)) { break; } */if(!(_i<_ref.$length)){$s=2;continue;}robotID=_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i];_r=protocol.TryGetStringRobot(ctx.App.Gameplay.Robots,robotID);/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;robot=$clone(_tuple[0],protocol.Robot);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}_r$1=common.QueryRobotWeapons($clone(ctx,types.Model),robot.ID,robot.Transform,true);/* */$s=4;case 4:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$1=_r$1;weapons=_tuple$1[0];err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}_r$2=common.QueryRobotCombatPower($clone(ctx,types.Model),$clone(robot,protocol.Robot),weapons);/* */$s=5;case 5:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$2=_r$2;combatPower=_tuple$2[0];err=_tuple$2[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}totalCombatPower=totalCombatPower+combatPower>>0;_i++;/* } */$s=1;continue;case 2:$s=-1;return[totalCombatPower,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:QueryTeamCombatPower};}$f._i=_i;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._ref=_ref;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f.combatPower=combatPower;$f.ctx=ctx;$f.err=err;$f.origin=origin;$f.robot=robot;$f.robotID=robotID;$f.robotIDs=robotIDs;$f.totalCombatPower=totalCombatPower;$f.weapons=weapons;$f.$s=$s;$f.$r=$r;return $f;};$pkg.QueryTeamCombatPower=QueryTeamCombatPower;Strategy=function(origin,playerID,myRobotIDs,targetRobotIDs){var _entry,_i,_i$1,_i$2,_i$3,_i$4,_key,_key$1,_key$2,_r,_r$1,_r$2,_ref,_ref$1,_ref$2,_ref$3,_ref$4,_tuple,_tuple$1,_tuple$2,_tuple$3,_tuple$4,centers,centers$1,centroidV2,centroidV2$1,clusters,clusters$1,cnt,cnt$1,ctx,err,err$1,err$2,i,memory,myRobotIDs,myRobotTeamID,myTeams,options,options$1,origin,playerID,pos,pos$1,posData,posData$1,robotID,robotID$1,robotID$2,robotIDs,robotIDs$1,selectTargetTeamID,targetRobotIDs,targetTeams,v,v$1,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_i=$f._i;_i$1=$f._i$1;_i$2=$f._i$2;_i$3=$f._i$3;_i$4=$f._i$4;_key=$f._key;_key$1=$f._key$1;_key$2=$f._key$2;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_ref=$f._ref;_ref$1=$f._ref$1;_ref$2=$f._ref$2;_ref$3=$f._ref$3;_ref$4=$f._ref$4;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;_tuple$4=$f._tuple$4;centers=$f.centers;centers$1=$f.centers$1;centroidV2=$f.centroidV2;centroidV2$1=$f.centroidV2$1;clusters=$f.clusters;clusters$1=$f.clusters$1;cnt=$f.cnt;cnt$1=$f.cnt$1;ctx=$f.ctx;err=$f.err;err$1=$f.err$1;err$2=$f.err$2;i=$f.i;memory=$f.memory;myRobotIDs=$f.myRobotIDs;myRobotTeamID=$f.myRobotTeamID;myTeams=$f.myTeams;options=$f.options;options$1=$f.options$1;origin=$f.origin;playerID=$f.playerID;pos=$f.pos;pos$1=$f.pos$1;posData=$f.posData;posData$1=$f.posData$1;robotID=$f.robotID;robotID$1=$f.robotID$1;robotID$2=$f.robotID$2;robotIDs=$f.robotIDs;robotIDs$1=$f.robotIDs$1;selectTargetTeamID=$f.selectTargetTeamID;targetRobotIDs=$f.targetRobotIDs;targetTeams=$f.targetTeams;v=$f.v;v$1=$f.v$1;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:err=$ifaceNil;ctx=$clone(origin,types.Model);memory=$clone((_entry=ctx.App.Gameplay.AIModel.Memory[$String.keyFor(playerID)],_entry!==undefined?_entry.v:new types.Memory.ptr(new mlkmeans.KMeansResult.ptr(sliceType$1.nil,sliceType$2.nil,false,0),new mlkmeans.KMeansResult.ptr(sliceType$1.nil,sliceType$2.nil,false,0),false,false)),types.Memory);myTeams=new mlkmeans.KMeansResult.ptr(sliceType$1.nil,sliceType$2.nil,false,0);clusters=$clone(memory.MyClusters,mlkmeans.KMeansResult);robotIDs=myRobotIDs;/* */if(robotIDs.$length===0){$s=1;continue;}/* */$s=2;continue;/* if (robotIDs.$length === 0) { */case 1:$r=log.Log(protocol.LogCategoryWarning,"Strategy","\xE6\xA9\x9F\xE9\xAB\x94\xE4\xB8\x8D\xE5\xAD\x98\xE5\x9C\xA8, \xE7\x84\xA1\xE6\xB3\x95\xE5\x88\x86\xE9\x9A\x8A.");/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=3;continue;/* } else { */case 2:posData=new sliceType$4([]);_ref=robotIDs;_i=0;/* while (true) { */case 5:/* if (!(_i < _ref.$length)) { break; } */if(!(_i<_ref.$length)){$s=6;continue;}robotID=_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i];_r=protocol.TryGetStringPosition(ctx.App.Gameplay.Positions,robotID);/* */$s=7;case 7:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;pos=$clone(_tuple[0],protocol.Position);err$1=_tuple[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[origin,err$1];}posData=$append(posData,new sliceType$3([new $Int(pos[0]),new $Int(pos[1])]));_i++;/* } */$s=5;continue;case 6:cnt=helper.Min(robotIDs.$length,4);options=$makeMap($String.keyFor,[]);centers=new sliceType$4([]);if(clusters.Centroids.$length>0){_ref$1=clusters.Centroids;_i$1=0;while(true){if(!(_i$1<_ref$1.$length)){break;}v=$clone(_i$1<0||_i$1>=_ref$1.$length?($throwRuntimeError("index out of range"),undefined):_ref$1.$array[_ref$1.$offset+_i$1],mlkmeans.Centroid);if(v.Size===0){_i$1++;continue;}centroidV2=v.Centroid;centers=$append(centers,new sliceType$3([new $Float64(0>=centroidV2.$length?($throwRuntimeError("index out of range"),undefined):centroidV2.$array[centroidV2.$offset+0]),new $Float64(1>=centroidV2.$length?($throwRuntimeError("index out of range"),undefined):centroidV2.$array[centroidV2.$offset+1])]));_i$1++;}if(cnt===centers.$length){_key="initialization";(options||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key)]={k:_key,v:centers};}}_tuple$1=mlkmeans.KMeans(posData,cnt,options);mlkmeans.KMeansResult.copy(myTeams,_tuple$1[0]);err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}/* } */case 3:targetTeams=new mlkmeans.KMeansResult.ptr(sliceType$1.nil,sliceType$2.nil,false,0);clusters$1=$clone(memory.TargetClusters,mlkmeans.KMeansResult);robotIDs$1=targetRobotIDs;/* */if(robotIDs$1.$length===0){$s=8;continue;}/* */$s=9;continue;/* if (robotIDs$1.$length === 0) { */case 8:$r=log.Log(protocol.LogCategoryWarning,"Strategy","\xE6\xA9\x9F\xE9\xAB\x94\xE4\xB8\x8D\xE5\xAD\x98\xE5\x9C\xA8, \xE7\x84\xA1\xE6\xB3\x95\xE5\x88\x86\xE9\x9A\x8A.");/* */$s=11;case 11:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=10;continue;/* } else { */case 9:posData$1=new sliceType$4([]);_ref$2=robotIDs$1;_i$2=0;/* while (true) { */case 12:/* if (!(_i$2 < _ref$2.$length)) { break; } */if(!(_i$2<_ref$2.$length)){$s=13;continue;}robotID$1=_i$2<0||_i$2>=_ref$2.$length?($throwRuntimeError("index out of range"),undefined):_ref$2.$array[_ref$2.$offset+_i$2];_r$1=protocol.TryGetStringPosition(ctx.App.Gameplay.Positions,robotID$1);/* */$s=14;case 14:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$2=_r$1;pos$1=$clone(_tuple$2[0],protocol.Position);err$2=_tuple$2[1];if(!$interfaceIsEqual(err$2,$ifaceNil)){$s=-1;return[origin,err$2];}posData$1=$append(posData$1,new sliceType$3([new $Int(pos$1[0]),new $Int(pos$1[1])]));_i$2++;/* } */$s=12;continue;case 13:cnt$1=helper.Min(robotIDs$1.$length,4);options$1=$makeMap($String.keyFor,[]);centers$1=new sliceType$4([]);if(clusters$1.Centroids.$length>0){_ref$3=clusters$1.Centroids;_i$3=0;while(true){if(!(_i$3<_ref$3.$length)){break;}v$1=$clone(_i$3<0||_i$3>=_ref$3.$length?($throwRuntimeError("index out of range"),undefined):_ref$3.$array[_ref$3.$offset+_i$3],mlkmeans.Centroid);if(v$1.Size===0){_i$3++;continue;}centroidV2$1=v$1.Centroid;centers$1=$append(centers$1,new sliceType$3([new $Float64(0>=centroidV2$1.$length?($throwRuntimeError("index out of range"),undefined):centroidV2$1.$array[centroidV2$1.$offset+0]),new $Float64(1>=centroidV2$1.$length?($throwRuntimeError("index out of range"),undefined):centroidV2$1.$array[centroidV2$1.$offset+1])]));_i$3++;}if(cnt$1===centers$1.$length){_key$1="initialization";(options$1||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key$1)]={k:_key$1,v:centers$1};}}_tuple$3=mlkmeans.KMeans(posData$1,cnt$1,options$1);mlkmeans.KMeansResult.copy(targetTeams,_tuple$3[0]);err=_tuple$3[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}/* } */case 10:myRobotTeamID=$makeMap($String.keyFor,[]);_ref$4=myRobotIDs;_i$4=0;while(true){if(!(_i$4<_ref$4.$length)){break;}i=_i$4;robotID$2=_i$4<0||_i$4>=_ref$4.$length?($throwRuntimeError("index out of range"),undefined):_ref$4.$array[_ref$4.$offset+_i$4];_key$2=robotID$2;(myRobotTeamID||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key$2)]={k:_key$2,v:(x=myTeams.Clusters,i<0||i>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+i])};_i$4++;}_r$2=QueryTeamTarget($clone(ctx,types.Model),myRobotIDs,$clone(myTeams,mlkmeans.KMeansResult),targetRobotIDs,$clone(targetTeams,mlkmeans.KMeansResult));/* */$s=15;case 15:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$4=_r$2;selectTargetTeamID=_tuple$4[0];err=_tuple$4[2];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}memory.MyTeamTarget=selectTargetTeamID;mlkmeans.KMeansResult.copy(memory.MyClusters,myTeams);mlkmeans.KMeansResult.copy(memory.TargetClusters,targetTeams);memory.TeamIDByRobotID=myRobotTeamID;ctx.App.Gameplay.AIModel.Memory=types.AssocStringMemory(ctx.App.Gameplay.AIModel.Memory,playerID,$clone(memory,types.Memory));$s=-1;return[ctx,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:Strategy};}$f._entry=_entry;$f._i=_i;$f._i$1=_i$1;$f._i$2=_i$2;$f._i$3=_i$3;$f._i$4=_i$4;$f._key=_key;$f._key$1=_key$1;$f._key$2=_key$2;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._ref=_ref;$f._ref$1=_ref$1;$f._ref$2=_ref$2;$f._ref$3=_ref$3;$f._ref$4=_ref$4;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f._tuple$4=_tuple$4;$f.centers=centers;$f.centers$1=centers$1;$f.centroidV2=centroidV2;$f.centroidV2$1=centroidV2$1;$f.clusters=clusters;$f.clusters$1=clusters$1;$f.cnt=cnt;$f.cnt$1=cnt$1;$f.ctx=ctx;$f.err=err;$f.err$1=err$1;$f.err$2=err$2;$f.i=i;$f.memory=memory;$f.myRobotIDs=myRobotIDs;$f.myRobotTeamID=myRobotTeamID;$f.myTeams=myTeams;$f.options=options;$f.options$1=options$1;$f.origin=origin;$f.playerID=playerID;$f.pos=pos;$f.pos$1=pos$1;$f.posData=posData;$f.posData$1=posData$1;$f.robotID=robotID;$f.robotID$1=robotID$1;$f.robotID$2=robotID$2;$f.robotIDs=robotIDs;$f.robotIDs$1=robotIDs$1;$f.selectTargetTeamID=selectTargetTeamID;$f.targetRobotIDs=targetRobotIDs;$f.targetTeams=targetTeams;$f.v=v;$f.v$1=v$1;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};$pkg.Strategy=Strategy;$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=common.$init();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=types.$init();/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=tool.$init();/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=helper.$init();/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=protocol.$init();/* */$s=5;case 5:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=log.$init();/* */$s=6;case 6:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=mlkmeans.$init();/* */$s=7;case 7:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["github.com/muesli/clusters"]=function(){var $pkg={},$init,fmt,math,rand,time;fmt=$packages["fmt"];math=$packages["math"];rand=$packages["math/rand"];time=$packages["time"];$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=fmt.$init();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=math.$init();/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=rand.$init();/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=time.$init();/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["tool/kmeans"]=function(){var $pkg={},$init,fmt,clusters,rand;fmt=$packages["fmt"];clusters=$packages["github.com/muesli/clusters"];rand=$packages["math/rand"];$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=fmt.$init();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=clusters.$init();/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=rand.$init();/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["tool/optalg"]=function(){var $pkg={},$init,fmt,math,rand,time,astar,IGene,sliceType,sliceType$2,HillClimbing,OptAlgByPSO,GetBest;fmt=$packages["fmt"];math=$packages["math"];rand=$packages["math/rand"];time=$packages["time"];astar=$packages["tool/astar"];IGene=$pkg.IGene=$newType(8,$kindInterface,"optalg.IGene",true,"tool/optalg",true,null);sliceType=$sliceType(IGene);sliceType$2=$sliceType($emptyInterface);HillClimbing=function(iteration,gene){var _r,_r$1,_r$2,_r$3,_r$4,_tuple,_tuple$1,_tuple$2,clone,err,err$1,gene,i,iteration,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;clone=$f.clone;err=$f.err;err$1=$f.err$1;gene=$f.gene;i=$f.i;iteration=$f.iteration;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:err=$ifaceNil;_r=gene.CalcFitness();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;gene=_tuple[0];err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[$ifaceNil,err];}i=0;/* while (true) { */case 2:/* if (!(i < iteration)) { break; } */if(!(i<iteration)){$s=3;continue;}$r=time.Sleep(new time.Duration(0,1));/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}_r$1=gene.Mutate();/* */$s=5;case 5:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$1=_r$1;clone=_tuple$1[0];err$1=_tuple$1[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[$ifaceNil,err$1];}_r$2=clone.CalcFitness();/* */$s=6;case 6:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$2=_r$2;clone=_tuple$2[0];err$1=_tuple$2[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[$ifaceNil,err$1];}_r$3=clone.GetFitness();/* */$s=9;case 9:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_r$4=gene.GetFitness();/* */$s=10;case 10:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}/* */if(_r$3>_r$4){$s=7;continue;}/* */$s=8;continue;/* if (_r$3 > _r$4) { */case 7:gene=clone;/* } */case 8:i=i+1>>0;/* } */$s=2;continue;case 3:$s=-1;return[gene,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:HillClimbing};}$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f.clone=clone;$f.err=err;$f.err$1=err$1;$f.gene=gene;$f.i=i;$f.iteration=iteration;$f.$s=$s;$f.$r=$r;return $f;};$pkg.HillClimbing=HillClimbing;OptAlgByPSO=function(iteration,genes){var _arg,_arg$1,_arg$2,_i,_i$1,_i$2,_r,_r$1,_r$10,_r$11,_r$2,_r$3,_r$4,_r$5,_r$6,_r$7,_r$8,_r$9,_ref,_ref$1,_ref$2,_tuple,_tuple$1,_tuple$2,_tuple$3,_tuple$4,bestGene,bestGenes,err,err$1,gene,gene$1,gene$2,gene$3,genes,globalBestGene,i,iteration,j,nextGene,ret,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_arg=$f._arg;_arg$1=$f._arg$1;_arg$2=$f._arg$2;_i=$f._i;_i$1=$f._i$1;_i$2=$f._i$2;_r=$f._r;_r$1=$f._r$1;_r$10=$f._r$10;_r$11=$f._r$11;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_r$7=$f._r$7;_r$8=$f._r$8;_r$9=$f._r$9;_ref=$f._ref;_ref$1=$f._ref$1;_ref$2=$f._ref$2;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;_tuple$4=$f._tuple$4;bestGene=$f.bestGene;bestGenes=$f.bestGenes;err=$f.err;err$1=$f.err$1;gene=$f.gene;gene$1=$f.gene$1;gene$2=$f.gene$2;gene$3=$f.gene$3;genes=$f.genes;globalBestGene=$f.globalBestGene;i=$f.i;iteration=$f.iteration;j=$f.j;nextGene=$f.nextGene;ret=$f.ret;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:ret=new sliceType([]);_ref=genes;_i=0;/* while (true) { */case 1:/* if (!(_i < _ref.$length)) { break; } */if(!(_i<_ref.$length)){$s=2;continue;}gene=_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i];_r=gene.CalcFitness();/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;gene$1=_tuple[0];err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[sliceType.nil,err];}ret=$append(ret,gene$1);_i++;/* } */$s=1;continue;case 2:bestGenes=new sliceType([]);_ref$1=ret;_i$1=0;while(true){if(!(_i$1<_ref$1.$length)){break;}gene$2=_i$1<0||_i$1>=_ref$1.$length?($throwRuntimeError("index out of range"),undefined):_ref$1.$array[_ref$1.$offset+_i$1];bestGenes=$append(bestGenes,gene$2);_i$1++;}_r$1=GetBest(bestGenes);/* */$s=4;case 4:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}globalBestGene=_r$1;i=0;/* while (true) { */case 5:/* if (!(i < iteration)) { break; } */if(!(i<iteration)){$s=6;continue;}_arg=new $Int(i);_arg$1=new $Int(iteration);_r$2=globalBestGene.GetFitness();/* */$s=7;case 7:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_arg$2=new $Float64(_r$2);_r$3=fmt.Printf("[OptAlgByPSO] ieration(%v/%v) score(%v)\n",new sliceType$2([_arg,_arg$1,_arg$2]));/* */$s=8;case 8:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_r$3;_ref$2=ret;_i$2=0;/* while (true) { */case 9:/* if (!(_i$2 < _ref$2.$length)) { break; } */if(!(_i$2<_ref$2.$length)){$s=10;continue;}j=_i$2;gene$3=_i$2<0||_i$2>=_ref$2.$length?($throwRuntimeError("index out of range"),undefined):_ref$2.$array[_ref$2.$offset+_i$2];_r$4=HillClimbing(10,gene$3);/* */$s=11;case 11:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}_tuple$1=_r$4;nextGene=_tuple$1[0];err$1=_tuple$1[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[sliceType.nil,err$1];}_r$5=nextGene.Crossover(globalBestGene);/* */$s=12;case 12:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}_tuple$2=_r$5;nextGene=_tuple$2[0];err$1=_tuple$2[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[sliceType.nil,err$1];}bestGene=j<0||j>=bestGenes.$length?($throwRuntimeError("index out of range"),undefined):bestGenes.$array[bestGenes.$offset+j];_r$6=nextGene.Crossover(bestGene);/* */$s=13;case 13:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}_tuple$3=_r$6;nextGene=_tuple$3[0];err$1=_tuple$3[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[sliceType.nil,err$1];}_r$7=nextGene.CalcFitness();/* */$s=14;case 14:if($c){$c=false;_r$7=_r$7.$blk();}if(_r$7&&_r$7.$blk!==undefined){break s;}_tuple$4=_r$7;nextGene=_tuple$4[0];err$1=_tuple$4[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[sliceType.nil,err$1];}_r$8=nextGene.GetFitness();/* */$s=17;case 17:if($c){$c=false;_r$8=_r$8.$blk();}if(_r$8&&_r$8.$blk!==undefined){break s;}_r$9=bestGene.GetFitness();/* */$s=18;case 18:if($c){$c=false;_r$9=_r$9.$blk();}if(_r$9&&_r$9.$blk!==undefined){break s;}/* */if(_r$8>_r$9){$s=15;continue;}/* */$s=16;continue;/* if (_r$8 > _r$9) { */case 15:j<0||j>=bestGenes.$length?($throwRuntimeError("index out of range"),undefined):bestGenes.$array[bestGenes.$offset+j]=nextGene;/* } */case 16:_r$10=nextGene.GetFitness();/* */$s=21;case 21:if($c){$c=false;_r$10=_r$10.$blk();}if(_r$10&&_r$10.$blk!==undefined){break s;}_r$11=globalBestGene.GetFitness();/* */$s=22;case 22:if($c){$c=false;_r$11=_r$11.$blk();}if(_r$11&&_r$11.$blk!==undefined){break s;}/* */if(_r$10>_r$11){$s=19;continue;}/* */$s=20;continue;/* if (_r$10 > _r$11) { */case 19:globalBestGene=nextGene;/* } */case 20:j<0||j>=ret.$length?($throwRuntimeError("index out of range"),undefined):ret.$array[ret.$offset+j]=nextGene;_i$2++;/* } */$s=9;continue;case 10:i=i+1>>0;/* } */$s=5;continue;case 6:$s=-1;return[ret,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:OptAlgByPSO};}$f._arg=_arg;$f._arg$1=_arg$1;$f._arg$2=_arg$2;$f._i=_i;$f._i$1=_i$1;$f._i$2=_i$2;$f._r=_r;$f._r$1=_r$1;$f._r$10=_r$10;$f._r$11=_r$11;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._r$7=_r$7;$f._r$8=_r$8;$f._r$9=_r$9;$f._ref=_ref;$f._ref$1=_ref$1;$f._ref$2=_ref$2;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f._tuple$4=_tuple$4;$f.bestGene=bestGene;$f.bestGenes=bestGenes;$f.err=err;$f.err$1=err$1;$f.gene=gene;$f.gene$1=gene$1;$f.gene$2=gene$2;$f.gene$3=gene$3;$f.genes=genes;$f.globalBestGene=globalBestGene;$f.i=i;$f.iteration=iteration;$f.j=j;$f.nextGene=nextGene;$f.ret=ret;$f.$s=$s;$f.$r=$r;return $f;};$pkg.OptAlgByPSO=OptAlgByPSO;GetBest=function(population){var _r,_r$1,best,i,index,population,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;best=$f.best;i=$f.i;index=$f.index;population=$f.population;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:best=0;index=0;i=0;/* while (true) { */case 1:/* if (!(i < population.$length)) { break; } */if(!(i<population.$length)){$s=2;continue;}_r=(i<0||i>=population.$length?($throwRuntimeError("index out of range"),undefined):population.$array[population.$offset+i]).GetFitness();/* */$s=5;case 5:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}/* */if(_r>best){$s=3;continue;}/* */$s=4;continue;/* if (_r > best) { */case 3:index=i;_r$1=(i<0||i>=population.$length?($throwRuntimeError("index out of range"),undefined):population.$array[population.$offset+i]).GetFitness();/* */$s=6;case 6:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}best=_r$1;/* } */case 4:i=i+1>>0;/* } */$s=1;continue;case 2:$s=-1;return index<0||index>=population.$length?($throwRuntimeError("index out of range"),undefined):population.$array[population.$offset+index];/* */}return;}if($f===undefined){$f={$blk:GetBest};}$f._r=_r;$f._r$1=_r$1;$f.best=best;$f.i=i;$f.index=index;$f.population=population;$f.$s=$s;$f.$r=$r;return $f;};$pkg.GetBest=GetBest;IGene.init([{prop:"CalcFitness",name:"CalcFitness",pkg:"",typ:$funcType([],[IGene,$error],false)},{prop:"Crossover",name:"Crossover",pkg:"",typ:$funcType([IGene],[IGene,$error],false)},{prop:"GetFitness",name:"GetFitness",pkg:"",typ:$funcType([],[$Float64],false)},{prop:"Mutate",name:"Mutate",pkg:"",typ:$funcType([],[IGene,$error],false)}]);$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=fmt.$init();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=math.$init();/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=rand.$init();/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=time.$init();/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=astar.$init();/* */$s=5;case 5:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["app/model/v1/internal/impl"]=function(){var $pkg={},$init,common,types,tool,data,helper,protocol,uidata,json,fmt,mgl64,js,clusters,math,rand,sort,astar,kmeans,log,optalg,LevelGeneByHC,LevelGeneByPSO,QueryBattleHitRateOptions,ByAstarNodeEstimatedCost,PotentailTarget,sliceType,arrayType,arrayType$1,sliceType$3,sliceType$4,sliceType$5,sliceType$6,sliceType$7,sliceType$8,ptrType,sliceType$9,sliceType$10,mapType,sliceType$11,mapType$1,sliceType$12,sliceType$13,mapType$2,ptrType$1,mapType$3,mapType$4,_total,_count,terrainCache,ApplyPassLevel,GenerateLevelByHC,QuerySuitabilityIDCount,GenerateLevelByPSO,NewModel,QueryBattleAction,QueryBattleDamage,QueryBattleHitRate,QueryFastestMovePosition,QueryMoveRangeTree,QueryPotentialTarget,RobotMove,Save,Load,QueryActivePlayer,NextPlayer,QueryUnitsByRegion,QueryUnitByPosition,SetCursor,GetCursor,QueryMoveCount,RobotDone,GetRobotMenu,SetMoveRange,GetMoveRange,GetBattleMenu;common=$packages["app/model/v1/internal/common"];types=$packages["app/model/v1/internal/tool/types"];tool=$packages["app/tool"];data=$packages["app/tool/data"];helper=$packages["app/tool/helper"];protocol=$packages["app/tool/protocol"];uidata=$packages["app/tool/uidata"];json=$packages["encoding/json"];fmt=$packages["fmt"];mgl64=$packages["github.com/go-gl/mathgl/mgl64"];js=$packages["github.com/gopherjs/gopherjs/js"];clusters=$packages["github.com/muesli/clusters"];math=$packages["math"];rand=$packages["math/rand"];sort=$packages["sort"];astar=$packages["tool/astar"];kmeans=$packages["tool/kmeans"];log=$packages["tool/log"];optalg=$packages["tool/optalg"];LevelGeneByHC=$pkg.LevelGeneByHC=$newType(0,$kindStruct,"impl.LevelGeneByHC",true,"app/model/v1/internal/impl",true,function(Map_,Units_,Fitness_,TargetCost_,Center_,Weight_){this.$val=this;if(arguments.length===0){this.Map=sliceType$4.nil;this.Units=false;this.Fitness=0;this.TargetCost=0;this.Center=arrayType.zero();this.Weight=false;return;}this.Map=Map_;this.Units=Units_;this.Fitness=Fitness_;this.TargetCost=TargetCost_;this.Center=Center_;this.Weight=Weight_;});LevelGeneByPSO=$pkg.LevelGeneByPSO=$newType(0,$kindStruct,"impl.LevelGeneByPSO",true,"app/model/v1/internal/impl",true,function(Map_,Units_,Fitness_){this.$val=this;if(arguments.length===0){this.Map=sliceType$4.nil;this.Units=false;this.Fitness=0;return;}this.Map=Map_;this.Units=Units_;this.Fitness=Fitness_;});QueryBattleHitRateOptions=$pkg.QueryBattleHitRateOptions=$newType(0,$kindStruct,"impl.QueryBattleHitRateOptions",true,"app/model/v1/internal/impl",true,function(IgnoreSprayAttack_){this.$val=this;if(arguments.length===0){this.IgnoreSprayAttack=false;return;}this.IgnoreSprayAttack=IgnoreSprayAttack_;});ByAstarNodeEstimatedCost=$pkg.ByAstarNodeEstimatedCost=$newType(12,$kindSlice,"impl.ByAstarNodeEstimatedCost",true,"app/model/v1/internal/impl",true,null);PotentailTarget=$pkg.PotentailTarget=$newType(0,$kindStruct,"impl.PotentailTarget",true,"app/model/v1/internal/impl",true,function(DesirePositions_,DesireUnitID_,DesireTransform_,DesireWeapon_){this.$val=this;if(arguments.length===0){this.DesirePositions=sliceType$11.nil;this.DesireUnitID="";this.DesireTransform="";this.DesireWeapon=new protocol.Weapon.ptr("","",0,"",0,arrayType.zero(),0,0,arrayType$1.zero(),sliceType$6.nil,"","",0,0,0,0);return;}this.DesirePositions=DesirePositions_;this.DesireUnitID=DesireUnitID_;this.DesireTransform=DesireTransform_;this.DesireWeapon=DesireWeapon_;});sliceType=$sliceType($emptyInterface);arrayType=$arrayType($Int,2);arrayType$1=$arrayType($Float64,4);sliceType$3=$sliceType($Int);sliceType$4=$sliceType(sliceType$3);sliceType$5=$sliceType(optalg.IGene);sliceType$6=$sliceType($String);sliceType$7=$sliceType($Float64);sliceType$8=$sliceType(sliceType$7);ptrType=$ptrType(astar.Node);sliceType$9=$sliceType(ptrType);sliceType$10=$sliceType(PotentailTarget);mapType=$mapType($String,protocol.Robot);sliceType$11=$sliceType(protocol.Position);mapType$1=$mapType($String,$emptyInterface);sliceType$12=$sliceType(sliceType$6);sliceType$13=$sliceType($Uint8);mapType$2=$mapType($String,sliceType$3);ptrType$1=$ptrType(mapType$2);mapType$3=$mapType(arrayType,$String);mapType$4=$mapType($String,$Float64);ApplyPassLevel=function(origin){var _entry,_key,_r,_r$1,_ref,_tuple,ctx,detail,detail$1,detail$2,detail$3,has,levelID,origin,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_key=$f._key;_r=$f._r;_r$1=$f._r$1;_ref=$f._ref;_tuple=$f._tuple;ctx=$f.ctx;detail=$f.detail;detail$1=$f.detail$1;detail$2=$f.detail$2;detail$3=$f.detail$3;has=$f.has;levelID=$f.levelID;origin=$f.origin;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:ctx=$clone(origin,types.Model);_ref=ctx.App.Gameplay.StateReason;/* */if($assertType(_ref,protocol.StateReasonGiveUp,true)[1]){$s=1;continue;}/* */if($assertType(_ref,protocol.StateReasonLose,true)[1]){$s=2;continue;}/* */if($assertType(_ref,protocol.StateReasonWin,true)[1]){$s=3;continue;}/* */$s=4;continue;/* if ($assertType(_ref, protocol.StateReasonGiveUp, true)[1]) { */case 1:detail=$clone(_ref.$val,protocol.StateReasonGiveUp);$s=5;continue;/* } else if ($assertType(_ref, protocol.StateReasonLose, true)[1]) { */case 2:detail$1=$clone(_ref.$val,protocol.StateReasonLose);$s=5;continue;/* } else if ($assertType(_ref, protocol.StateReasonWin, true)[1]) { */case 3:detail$2=$clone(_ref.$val,protocol.StateReasonWin);levelID=ctx.App.Gameplay.LevelID;_tuple=(_entry=types.DefaultNormalLevels[$String.keyFor(levelID)],_entry!==undefined?[_entry.v,true]:[new types.NormalLevel.ptr(0,0),false]);has=_tuple[1];/* */if(has===false){$s=6;continue;}/* */$s=7;continue;/* if (has === false) { */case 6:_r=fmt.Errorf("\xE8\xA6\x81\xE6\x87\x89\xE7\x94\xA8\xE9\x81\x8E\xE9\x97\x9C\xE6\x99\x82, \xE4\xBD\x86LevelID(%v)\xE6\x89\xBE\xE4\xB8\x8D\xE5\x88\xB0",new sliceType([new $String(levelID)]));/* */$s=8;case 8:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return[origin,_r];/* } */case 7:_key=levelID;(ctx.App.Lobby.ClearStateByLevelID||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key)]={k:_key,v:true};$s=5;continue;/* } else { */case 4:detail$3=_ref;_r$1=fmt.Errorf("\xE9\x9B\xA2\xE9\x96\x8B\xE4\xBA\x86GameLoop\xEF\xBC\x8C\xE5\x8D\xBB\xE4\xB8\x8D\xE7\x9F\xA5\xE5\x8E\x9F\xE5\x9B\xA0(%+v)\xE3\x80\x82\xE8\xAB\x8B\xE6\xAA\xA2\xE6\x9F\xA5",new sliceType([detail$3]));/* */$s=9;case 9:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}$s=-1;return[origin,_r$1];/* } */case 5:$s=-1;return[ctx,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:ApplyPassLevel};}$f._entry=_entry;$f._key=_key;$f._r=_r;$f._r$1=_r$1;$f._ref=_ref;$f._tuple=_tuple;$f.ctx=ctx;$f.detail=detail;$f.detail$1=detail$1;$f.detail$2=detail$2;$f.detail$3=detail$3;$f.has=has;$f.levelID=levelID;$f.origin=origin;$f.$s=$s;$f.$r=$r;return $f;};$pkg.ApplyPassLevel=ApplyPassLevel;LevelGeneByHC.ptr.prototype.TotalCost=function(){var _entry,_i,_keys,_r,_ref,_tuple,err,proto,protoID,self,totalCost,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_i=$f._i;_keys=$f._keys;_r=$f._r;_ref=$f._ref;_tuple=$f._tuple;err=$f.err;proto=$f.proto;protoID=$f.protoID;self=$f.self;totalCost=$f.totalCost;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:self=this;totalCost=0;_ref=self.Units;_i=0;_keys=$keys(_ref);/* while (true) { */case 1:/* if (!(_i < _keys.length)) { break; } */if(!(_i<_keys.length)){$s=2;continue;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;/* continue; */$s=1;continue;}protoID=_entry.v;_r=data.TryGetStringRobotProto(data.GameData.Robot,protoID);/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;proto=$clone(_tuple[0],data.RobotProto);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}totalCost=totalCost+proto.Cost>>0;_i++;/* } */$s=1;continue;case 2:$s=-1;return[totalCost,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:LevelGeneByHC.ptr.prototype.TotalCost};}$f._entry=_entry;$f._i=_i;$f._keys=_keys;$f._r=_r;$f._ref=_ref;$f._tuple=_tuple;$f.err=err;$f.proto=proto;$f.protoID=protoID;$f.self=self;$f.totalCost=totalCost;$f.$s=$s;$f.$r=$r;return $f;};LevelGeneByHC.prototype.TotalCost=function(){return this.$val.TotalCost();};LevelGeneByHC.ptr.prototype.CalcFitness=function(){var _entry,_i,_keys,_r,_r$1,_r$2,_ref,_tuple,_tuple$1,_tuple$2,centerV2,dis,err,err$1,fitness,fitnessForRobot,pos,posV2,ret,robotProto,robotProtoID,self,suit,terrain,tid,x,x$1,x$2,x$3,x$4,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_i=$f._i;_keys=$f._keys;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_ref=$f._ref;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;centerV2=$f.centerV2;dis=$f.dis;err=$f.err;err$1=$f.err$1;fitness=$f.fitness;fitnessForRobot=$f.fitnessForRobot;pos=$f.pos;posV2=$f.posV2;ret=$f.ret;robotProto=$f.robotProto;robotProtoID=$f.robotProtoID;self=$f.self;suit=$f.suit;terrain=$f.terrain;tid=$f.tid;x=$f.x;x$1=$f.x$1;x$2=$f.x$2;x$3=$f.x$3;x$4=$f.x$4;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:self=this;if($keys(self.Units).length===0){$s=-1;return[new self.constructor.elem(self),$ifaceNil];}centerV2=$toNativeArray($kindFloat64,[self.Center[0],self.Center[1]]);fitness=0;fitnessForRobot=0;_ref=self.Units;_i=0;_keys=$keys(_ref);/* while (true) { */case 1:/* if (!(_i < _keys.length)) { break; } */if(!(_i<_keys.length)){$s=2;continue;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;/* continue; */$s=1;continue;}pos=$clone(_entry.k,arrayType);robotProtoID=_entry.v;_r=data.TryGetStringRobotProto(data.GameData.Robot,robotProtoID);/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;robotProto=$clone(_tuple[0],data.RobotProto);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[new self.constructor.elem(self),err];}tid=(x=(x$1=self.Map,x$2=pos[1],x$2<0||x$2>=x$1.$length?($throwRuntimeError("index out of range"),undefined):x$1.$array[x$1.$offset+x$2]),x$3=pos[0],x$3<0||x$3>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+x$3]);_r$1=helper.TerrainID2Terrain(tid);/* */$s=4;case 4:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$1=_r$1;terrain=$clone(_tuple$1[0],data.TerrainProto);err$1=_tuple$1[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[new self.constructor.elem(self),err$1];}_r$2=data.GetSuitabilityIDBelongTerrain($clone(terrain,data.TerrainProto));/* */$s=5;case 5:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$2=_r$2;suit=_tuple$2[0];err$1=_tuple$2[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[new self.constructor.elem(self),err$1];}if(terrain.ID==="mountain"){fitnessForRobot=0;}else{fitnessForRobot=fitnessForRobot+(x$4=robotProto.Suitability,suit<0||suit>=x$4.length?($throwRuntimeError("index out of range"),undefined):x$4[suit])*10;}posV2=$toNativeArray($kindFloat64,[pos[0],pos[1]]);dis=math.Max(1,new mgl64.Vec2($clone(new mgl64.Vec2($clone(centerV2,mgl64.Vec2)).Sub($clone(posV2,mgl64.Vec2)),mgl64.Vec2)).LenSqr());fitnessForRobot=fitnessForRobot+math.Pow(2/dis,3);_i++;/* } */$s=1;continue;case 2:fitness=fitness+fitnessForRobot;ret=$clone(self,LevelGeneByHC);ret.Fitness=fitness/$keys(self.Units).length;$s=-1;return[new ret.constructor.elem(ret),$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:LevelGeneByHC.ptr.prototype.CalcFitness};}$f._entry=_entry;$f._i=_i;$f._keys=_keys;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._ref=_ref;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f.centerV2=centerV2;$f.dis=dis;$f.err=err;$f.err$1=err$1;$f.fitness=fitness;$f.fitnessForRobot=fitnessForRobot;$f.pos=pos;$f.posV2=posV2;$f.ret=ret;$f.robotProto=robotProto;$f.robotProtoID=robotProtoID;$f.self=self;$f.suit=suit;$f.terrain=terrain;$f.tid=tid;$f.x=x;$f.x$1=x$1;$f.x$2=x$2;$f.x$3=x$3;$f.x$4=x$4;$f.$s=$s;$f.$r=$r;return $f;};LevelGeneByHC.prototype.CalcFitness=function(){return this.$val.CalcFitness();};LevelGeneByHC.ptr.prototype.GetFitness=function(){var self;self=this;return self.Fitness;};LevelGeneByHC.prototype.GetFitness=function(){return this.$val.GetFitness();};LevelGeneByHC.ptr.prototype.Crossover=function(b){var b,self;self=this;return[new self.constructor.elem(self),$ifaceNil];};LevelGeneByHC.prototype.Crossover=function(b){return this.$val.Crossover(b);};LevelGeneByHC.ptr.prototype.Mutate=function(){var _r,_r$1,_r$2,_r$3,_r$4,_r$5,_tuple,deleteOne,err,generateOne,idx,moveOne,ret,self,totalCost,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_tuple=$f._tuple;deleteOne=$f.deleteOne;err=$f.err;generateOne=$f.generateOne;idx=$f.idx;moveOne=$f.moveOne;ret=$f.ret;self=$f.self;totalCost=$f.totalCost;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:self=[self];self[0]=this;generateOne=function(self){return function $b(origin){var _entry,_entry$1,_i,_key,_key$1,_keys,_r,_r$1,_r$2,_r$3,_r$4,_ref,_tmp,_tmp$1,_tuple,_tuple$1,err,has,i,k,mapH,mapW,origin,pos,robotProto,units,v,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_entry$1=$f._entry$1;_i=$f._i;_key=$f._key;_key$1=$f._key$1;_keys=$f._keys;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_ref=$f._ref;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tuple=$f._tuple;_tuple$1=$f._tuple$1;err=$f.err;has=$f.has;i=$f.i;k=$f.k;mapH=$f.mapH;mapW=$f.mapW;origin=$f.origin;pos=$f.pos;robotProto=$f.robotProto;units=$f.units;v=$f.v;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:units=$makeMap(arrayType.keyFor,[]);_ref=origin;_i=0;_keys=$keys(_ref);while(true){if(!(_i<_keys.length)){break;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;continue;}k=$clone(_entry.k,arrayType);v=_entry.v;_key=$clone(k,arrayType);(units||$throwRuntimeError("assignment to entry in nil map"))[arrayType.keyFor(_key)]={k:_key,v:v};_i++;}_tmp=self[0].Map.$length;_tmp$1=(x=self[0].Map,0>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+0]).$length;mapH=_tmp;mapW=_tmp$1;i=0;/* while (true) { */case 1:/* if (!(i < 10)) { break; } */if(!(i<10)){$s=2;continue;}_r=rand.Intn(mapW);/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_r$1=rand.Intn(mapH);/* */$s=4;case 4:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}pos=$toNativeArray($kindInt,[_r,_r$1]);_tuple=(_entry$1=units[arrayType.keyFor(pos)],_entry$1!==undefined?[_entry$1.v,true]:["",false]);has=_tuple[1];if(has){i=i+1>>0;/* continue; */$s=1;continue;}_r$2=data.RandRobotProto();/* */$s=5;case 5:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$1=_r$2;robotProto=$clone(_tuple$1[0],data.RobotProto);err=_tuple$1[1];/* */if(!$interfaceIsEqual(err,$ifaceNil)){$s=6;continue;}/* */$s=7;continue;/* if (!($interfaceIsEqual(err, $ifaceNil))) { */case 6:_r$3=err.Error();/* */$s=8;case 8:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_r$4=fmt.Println(new sliceType([new $String(_r$3)]));/* */$s=9;case 9:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}_r$4;i=i+1>>0;/* continue; */$s=1;continue;/* } */case 7:$unused(robotProto);_key$1=$clone(pos,arrayType);(units||$throwRuntimeError("assignment to entry in nil map"))[arrayType.keyFor(_key$1)]={k:_key$1,v:robotProto.ID};/* break; */$s=2;continue;/* } */$s=1;continue;case 2:$s=-1;return units;/* */}return;}if($f===undefined){$f={$blk:$b};}$f._entry=_entry;$f._entry$1=_entry$1;$f._i=_i;$f._key=_key;$f._key$1=_key$1;$f._keys=_keys;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._ref=_ref;$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f.err=err;$f.has=has;$f.i=i;$f.k=k;$f.mapH=mapH;$f.mapW=mapW;$f.origin=origin;$f.pos=pos;$f.robotProto=robotProto;$f.units=units;$f.v=v;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};}(self);deleteOne=function(self){return function $b(origin){var _entry,_i,_key,_keys,_r,_ref,i,j,k,origin,units,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_i=$f._i;_key=$f._key;_keys=$f._keys;_r=$f._r;_ref=$f._ref;i=$f.i;j=$f.j;k=$f.k;origin=$f.origin;units=$f.units;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:if($keys(origin).length<=0){$s=-1;return origin;}units=$makeMap(arrayType.keyFor,[]);_r=rand.Intn($keys(origin).length);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}i=_r;j=0;_ref=origin;_i=0;_keys=$keys(_ref);while(true){if(!(_i<_keys.length)){break;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;continue;}k=$clone(_entry.k,arrayType);v=_entry.v;if(j===i){j=j+1>>0;_i++;continue;}_key=$clone(k,arrayType);(units||$throwRuntimeError("assignment to entry in nil map"))[arrayType.keyFor(_key)]={k:_key,v:v};j=j+1>>0;_i++;}$s=-1;return units;/* */}return;}if($f===undefined){$f={$blk:$b};}$f._entry=_entry;$f._i=_i;$f._key=_key;$f._keys=_keys;$f._r=_r;$f._ref=_ref;$f.i=i;$f.j=j;$f.k=k;$f.origin=origin;$f.units=units;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};}(self);moveOne=function(self){return function $b(origin){var _entry,_entry$1,_i,_key,_key$1,_keys,_r,_r$1,_r$2,_r$3,_r$4,_ref,_tmp,_tmp$1,_tuple,has,i,i$1,j,k,mapH,mapW,origin,pos,removedValue,units,v,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_entry$1=$f._entry$1;_i=$f._i;_key=$f._key;_key$1=$f._key$1;_keys=$f._keys;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_ref=$f._ref;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tuple=$f._tuple;has=$f.has;i=$f.i;i$1=$f.i$1;j=$f.j;k=$f.k;mapH=$f.mapH;mapW=$f.mapW;origin=$f.origin;pos=$f.pos;removedValue=$f.removedValue;units=$f.units;v=$f.v;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:if($keys(origin).length<=0){$s=-1;return origin;}units=$makeMap(arrayType.keyFor,[]);_r=rand.Intn($keys(origin).length);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}i=_r;j=0;removedValue="";_ref=origin;_i=0;_keys=$keys(_ref);/* while (true) { */case 2:/* if (!(_i < _keys.length)) { break; } */if(!(_i<_keys.length)){$s=3;continue;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;/* continue; */$s=2;continue;}k=$clone(_entry.k,arrayType);v=_entry.v;if(j===i){removedValue=v;j=j+1>>0;_i++;/* continue; */$s=2;continue;}_key=$clone(k,arrayType);(units||$throwRuntimeError("assignment to entry in nil map"))[arrayType.keyFor(_key)]={k:_key,v:v};j=j+1>>0;_i++;/* } */$s=2;continue;case 3:_tmp=self[0].Map.$length;_tmp$1=(x=self[0].Map,0>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+0]).$length;mapH=_tmp;mapW=_tmp$1;i$1=0;/* while (true) { */case 4:/* if (!(i$1 < 3)) { break; } */if(!(i$1<3)){$s=5;continue;}_r$2=rand.Int();/* */$s=6;case 6:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_r$4=rand.Int();/* */$s=7;case 7:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}pos=$toNativeArray($kindInt,[(_r$1=_r$2%mapW,_r$1===_r$1?_r$1:$throwRuntimeError("integer divide by zero")),(_r$3=_r$4%mapH,_r$3===_r$3?_r$3:$throwRuntimeError("integer divide by zero"))]);_tuple=(_entry$1=units[arrayType.keyFor(pos)],_entry$1!==undefined?[_entry$1.v,true]:["",false]);has=_tuple[1];if(has){i$1=i$1+1>>0;/* continue; */$s=4;continue;}_key$1=$clone(pos,arrayType);(units||$throwRuntimeError("assignment to entry in nil map"))[arrayType.keyFor(_key$1)]={k:_key$1,v:removedValue};/* break; */$s=5;continue;/* } */$s=4;continue;case 5:$s=-1;return units;/* */}return;}if($f===undefined){$f={$blk:$b};}$f._entry=_entry;$f._entry$1=_entry$1;$f._i=_i;$f._key=_key;$f._key$1=_key$1;$f._keys=_keys;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._ref=_ref;$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tuple=_tuple;$f.has=has;$f.i=i;$f.i$1=i$1;$f.j=j;$f.k=k;$f.mapH=mapH;$f.mapW=mapW;$f.origin=origin;$f.pos=pos;$f.removedValue=removedValue;$f.units=units;$f.v=v;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};}(self);_r=$clone(self[0],LevelGeneByHC).TotalCost();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;totalCost=_tuple[0];err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[new self[0].constructor.elem(self[0]),err];}ret=$clone(self[0],LevelGeneByHC);/* */if(totalCost>self[0].TargetCost){$s=2;continue;}/* */$s=3;continue;/* if (totalCost > self[0].TargetCost) { */case 2:_r$1=deleteOne(self[0].Units);/* */$s=4;case 4:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}ret.Units=_r$1;$s=-1;return[new ret.constructor.elem(ret),$ifaceNil];/* } */case 3:_r$2=rand.Float64();/* */$s=5;case 5:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}idx=_r$2;/* */if(idx<0.4){$s=7;continue;}/* */$s=8;continue;/* if (idx < 0.4) { */case 7:_r$3=deleteOne(self[0].Units);/* */$s=10;case 10:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}ret.Units=_r$3;_r$4=generateOne(self[0].Units);/* */$s=11;case 11:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}ret.Units=_r$4;$s=9;continue;/* } else { */case 8:_r$5=moveOne(self[0].Units);/* */$s=12;case 12:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}ret.Units=_r$5;/* } */case 9:case 6:$s=-1;return[new ret.constructor.elem(ret),$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:LevelGeneByHC.ptr.prototype.Mutate};}$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._tuple=_tuple;$f.deleteOne=deleteOne;$f.err=err;$f.generateOne=generateOne;$f.idx=idx;$f.moveOne=moveOne;$f.ret=ret;$f.self=self;$f.totalCost=totalCost;$f.$s=$s;$f.$r=$r;return $f;};LevelGeneByHC.prototype.Mutate=function(){return this.$val.Mutate();};GenerateLevelByHC=function(origin,playerID,center,cost){var _entry,_i,_key,_keys,_r,_r$1,_r$2,_r$3,_r$4,_r$5,_r$6,_r$7,_ref,_tmp,_tmp$1,_tuple,_tuple$1,_tuple$2,_tuple$3,_tuple$4,center,cost,ctx,err,gene,j,mapH,mapW,origin,pilot,playerID,pos,pos$1,protoID,robotProto,totalCost,units,x,x$1,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_i=$f._i;_key=$f._key;_keys=$f._keys;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_r$7=$f._r$7;_ref=$f._ref;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;_tuple$4=$f._tuple$4;center=$f.center;cost=$f.cost;ctx=$f.ctx;err=$f.err;gene=$f.gene;j=$f.j;mapH=$f.mapH;mapW=$f.mapW;origin=$f.origin;pilot=$f.pilot;playerID=$f.playerID;pos=$f.pos;pos$1=$f.pos$1;protoID=$f.protoID;robotProto=$f.robotProto;totalCost=$f.totalCost;units=$f.units;x=$f.x;x$1=$f.x$1;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:err=$ifaceNil;ctx=$clone(origin,types.Model);_tmp=ctx.App.Gameplay.Map.$length;_tmp$1=(x=ctx.App.Gameplay.Map,0>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+0]).$length;mapW=_tmp;mapH=_tmp$1;_r=data.RandRobotProto();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;robotProto=$clone(_tuple[0],data.RobotProto);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}units=$makeMap(arrayType.keyFor,[]);j=0;/* while (true) { */case 2:/* if (!(j < 20)) { break; } */if(!(j<20)){$s=3;continue;}_r$1=rand.Intn(mapW);/* */$s=4;case 4:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_r$2=rand.Intn(mapH);/* */$s=5;case 5:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}pos=$toNativeArray($kindInt,[_r$1,_r$2]);_key=$clone(pos,arrayType);(units||$throwRuntimeError("assignment to entry in nil map"))[arrayType.keyFor(_key)]={k:_key,v:robotProto.ID};j=j+1>>0;/* } */$s=2;continue;case 3:gene=(x$1=new LevelGeneByHC.ptr(ctx.App.Gameplay.Map,units,0,cost,$toNativeArray($kindInt,[center[0],center[1]]),false),new x$1.constructor.elem(x$1));_r$3=optalg.HillClimbing(300,gene);/* */$s=6;case 6:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_tuple$1=_r$3;gene=_tuple$1[0];err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}_r$4=$clone($assertType(gene,LevelGeneByHC),LevelGeneByHC).TotalCost();/* */$s=7;case 7:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}_tuple$2=_r$4;totalCost=_tuple$2[0];err=_tuple$2[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}_r$5=fmt.Printf("totalCost(%v)\n",new sliceType([new $Int(totalCost)]));/* */$s=8;case 8:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}_r$5;_ref=$assertType(gene,LevelGeneByHC).Units;_i=0;_keys=$keys(_ref);/* while (true) { */case 9:/* if (!(_i < _keys.length)) { break; } */if(!(_i<_keys.length)){$s=10;continue;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;/* continue; */$s=9;continue;}pos$1=$clone(_entry.k,arrayType);protoID=_entry.v;pilot=new protocol.Pilot.ptr("","","",0,0,0,0,0,0,0,0,0,0,0);_r$6=common.NewPilot($clone(ctx,types.Model),new protocol.Pilot.ptr("","baseballPitcher","",0,0,0,0,0,0,0,0,0,0,0));/* */$s=11;case 11:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}_tuple$3=_r$6;types.Model.copy(ctx,_tuple$3[0]);protocol.Pilot.copy(pilot,_tuple$3[1]);err=_tuple$3[2];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}_r$7=common.NewRobot($clone(ctx,types.Model),$toNativeArray($kindInt,[pos$1[0],pos$1[1]]),new protocol.Robot.ptr("",playerID,protoID,pilot.ID,"",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false));/* */$s=12;case 12:if($c){$c=false;_r$7=_r$7.$blk();}if(_r$7&&_r$7.$blk!==undefined){break s;}_tuple$4=_r$7;types.Model.copy(ctx,_tuple$4[0]);err=_tuple$4[2];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}_i++;/* } */$s=9;continue;case 10:$s=-1;return[ctx,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:GenerateLevelByHC};}$f._entry=_entry;$f._i=_i;$f._key=_key;$f._keys=_keys;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._r$7=_r$7;$f._ref=_ref;$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f._tuple$4=_tuple$4;$f.center=center;$f.cost=cost;$f.ctx=ctx;$f.err=err;$f.gene=gene;$f.j=j;$f.mapH=mapH;$f.mapW=mapW;$f.origin=origin;$f.pilot=pilot;$f.playerID=playerID;$f.pos=pos;$f.pos$1=pos$1;$f.protoID=protoID;$f.robotProto=robotProto;$f.totalCost=totalCost;$f.units=units;$f.x=x;$f.x$1=x$1;$f.$s=$s;$f.$r=$r;return $f;};$pkg.GenerateLevelByHC=GenerateLevelByHC;QuerySuitabilityIDCount=function(gameMap){var _count$1,_entry,_i,_i$1,_key,_r,_r$1,_ref,_ref$1,_tuple,_tuple$1,err,gameMap,id,row,suit,terrain,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_count$1=$f._count$1;_entry=$f._entry;_i=$f._i;_i$1=$f._i$1;_key=$f._key;_r=$f._r;_r$1=$f._r$1;_ref=$f._ref;_ref$1=$f._ref$1;_tuple=$f._tuple;_tuple$1=$f._tuple$1;err=$f.err;gameMap=$f.gameMap;id=$f.id;row=$f.row;suit=$f.suit;terrain=$f.terrain;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_count$1=$makeMap($Int.keyFor,[]);_ref=gameMap;_i=0;/* while (true) { */case 1:/* if (!(_i < _ref.$length)) { break; } */if(!(_i<_ref.$length)){$s=2;continue;}row=_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i];_ref$1=row;_i$1=0;/* while (true) { */case 3:/* if (!(_i$1 < _ref$1.$length)) { break; } */if(!(_i$1<_ref$1.$length)){$s=4;continue;}id=_i$1<0||_i$1>=_ref$1.$length?($throwRuntimeError("index out of range"),undefined):_ref$1.$array[_ref$1.$offset+_i$1];_r=helper.TerrainID2Terrain(id);/* */$s=5;case 5:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;terrain=$clone(_tuple[0],data.TerrainProto);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[false,err];}_r$1=data.GetSuitabilityIDBelongTerrain($clone(terrain,data.TerrainProto));/* */$s=6;case 6:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$1=_r$1;suit=_tuple$1[0];err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[false,err];}_key=suit;(_count$1||$throwRuntimeError("assignment to entry in nil map"))[$Int.keyFor(_key)]={k:_key,v:(_entry=_count$1[$Int.keyFor(suit)],_entry!==undefined?_entry.v:0)+1>>0};_i$1++;/* } */$s=3;continue;case 4:_i++;/* } */$s=1;continue;case 2:$s=-1;return[_count$1,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:QuerySuitabilityIDCount};}$f._count$1=_count$1;$f._entry=_entry;$f._i=_i;$f._i$1=_i$1;$f._key=_key;$f._r=_r;$f._r$1=_r$1;$f._ref=_ref;$f._ref$1=_ref$1;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f.err=err;$f.gameMap=gameMap;$f.id=id;$f.row=row;$f.suit=suit;$f.terrain=terrain;$f.$s=$s;$f.$r=$r;return $f;};$pkg.QuerySuitabilityIDCount=QuerySuitabilityIDCount;LevelGeneByPSO.ptr.prototype.CalcFitness=function(){var _count$1,_entry,_entry$1,_i,_i$1,_keys,_keys$1,_r,_r$1,_r$2,_r$3,_ref,_ref$1,_tuple,_tuple$1,_tuple$2,_tuple$3,c,err,err$1,err$2,fitness,fitnessForRobot,pos,ret,robotProto,robotProtoID,suit,terrain,this$1,tid,x,x$1,x$2,x$3,x$4,x$5,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_count$1=$f._count$1;_entry=$f._entry;_entry$1=$f._entry$1;_i=$f._i;_i$1=$f._i$1;_keys=$f._keys;_keys$1=$f._keys$1;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_ref=$f._ref;_ref$1=$f._ref$1;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;c=$f.c;err=$f.err;err$1=$f.err$1;err$2=$f.err$2;fitness=$f.fitness;fitnessForRobot=$f.fitnessForRobot;pos=$f.pos;ret=$f.ret;robotProto=$f.robotProto;robotProtoID=$f.robotProtoID;suit=$f.suit;terrain=$f.terrain;this$1=$f.this$1;tid=$f.tid;x=$f.x;x$1=$f.x$1;x$2=$f.x$2;x$3=$f.x$3;x$4=$f.x$4;x$5=$f.x$5;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:this$1=this;/* */if(_count===false){$s=1;continue;}/* */$s=2;continue;/* if (_count === false) { */case 1:_r=QuerySuitabilityIDCount(this$1.Map);/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;_count$1=_tuple[0];err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[new this$1.constructor.elem(this$1),err];}_ref=_count$1;_i=0;_keys=$keys(_ref);while(true){if(!(_i<_keys.length)){break;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;continue;}c=_entry.v;_total=_total+c>>0;_i++;}/* } */case 2:if($keys(this$1.Units).length===0){$s=-1;return[(x=new LevelGeneByPSO.ptr(this$1.Map,this$1.Units,0),new x.constructor.elem(x)),$ifaceNil];}fitness=0;fitnessForRobot=0;_ref$1=this$1.Units;_i$1=0;_keys$1=$keys(_ref$1);/* while (true) { */case 4:/* if (!(_i$1 < _keys$1.length)) { break; } */if(!(_i$1<_keys$1.length)){$s=5;continue;}_entry$1=_ref$1[_keys$1[_i$1]];if(_entry$1===undefined){_i$1++;/* continue; */$s=4;continue;}pos=$clone(_entry$1.k,arrayType);robotProtoID=_entry$1.v;_r$1=data.TryGetStringRobotProto(data.GameData.Robot,robotProtoID);/* */$s=6;case 6:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$1=_r$1;robotProto=$clone(_tuple$1[0],data.RobotProto);err$1=_tuple$1[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[new this$1.constructor.elem(this$1),err$1];}tid=(x$1=(x$2=this$1.Map,x$3=pos[1],x$3<0||x$3>=x$2.$length?($throwRuntimeError("index out of range"),undefined):x$2.$array[x$2.$offset+x$3]),x$4=pos[0],x$4<0||x$4>=x$1.$length?($throwRuntimeError("index out of range"),undefined):x$1.$array[x$1.$offset+x$4]);_r$2=helper.TerrainID2Terrain(tid);/* */$s=7;case 7:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$2=_r$2;terrain=$clone(_tuple$2[0],data.TerrainProto);err$2=_tuple$2[1];if(!$interfaceIsEqual(err$2,$ifaceNil)){$s=-1;return[new this$1.constructor.elem(this$1),err$2];}_r$3=data.GetSuitabilityIDBelongTerrain($clone(terrain,data.TerrainProto));/* */$s=8;case 8:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_tuple$3=_r$3;suit=_tuple$3[0];err$2=_tuple$3[1];if(!$interfaceIsEqual(err$2,$ifaceNil)){$s=-1;return[new this$1.constructor.elem(this$1),err$2];}fitnessForRobot=fitnessForRobot+(x$5=robotProto.Suitability,suit<0||suit>=x$5.length?($throwRuntimeError("index out of range"),undefined):x$5[suit])*10;_i$1++;/* } */$s=4;continue;case 5:fitness=fitness+fitnessForRobot;ret=$clone(this$1,LevelGeneByPSO);ret.Fitness=fitness/$keys(this$1.Units).length;$s=-1;return[new ret.constructor.elem(ret),$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:LevelGeneByPSO.ptr.prototype.CalcFitness};}$f._count$1=_count$1;$f._entry=_entry;$f._entry$1=_entry$1;$f._i=_i;$f._i$1=_i$1;$f._keys=_keys;$f._keys$1=_keys$1;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._ref=_ref;$f._ref$1=_ref$1;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f.c=c;$f.err=err;$f.err$1=err$1;$f.err$2=err$2;$f.fitness=fitness;$f.fitnessForRobot=fitnessForRobot;$f.pos=pos;$f.ret=ret;$f.robotProto=robotProto;$f.robotProtoID=robotProtoID;$f.suit=suit;$f.terrain=terrain;$f.this$1=this$1;$f.tid=tid;$f.x=x;$f.x$1=x$1;$f.x$2=x$2;$f.x$3=x$3;$f.x$4=x$4;$f.x$5=x$5;$f.$s=$s;$f.$r=$r;return $f;};LevelGeneByPSO.prototype.CalcFitness=function(){return this.$val.CalcFitness();};LevelGeneByPSO.ptr.prototype.GetFitness=function(){var this$1;this$1=this;return this$1.Fitness;};LevelGeneByPSO.prototype.GetFitness=function(){return this.$val.GetFitness();};LevelGeneByPSO.ptr.prototype.Crossover=function(b){var _1,_entry,_entry$1,_entry$10,_entry$11,_entry$2,_entry$3,_entry$4,_entry$5,_entry$6,_entry$7,_entry$8,_entry$9,_key,_key$1,_key$2,_key$3,_key$4,_key$5,_r,_r$1,_r$2,_tmp,_tmp$1,_tuple,_tuple$1,_tuple$2,_tuple$3,_tuple$4,_tuple$5,b,cx,cx$1,has,has$1,has$2,has$3,has$4,has$5,mapH,mapW,offset,offset$1,pos1,pos1$1,pos1$2,pos2,pos2$1,pos2$2,this$1,units,x,x$1,x$2,x$3,x$4,y,y$1,y$2,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_entry=$f._entry;_entry$1=$f._entry$1;_entry$10=$f._entry$10;_entry$11=$f._entry$11;_entry$2=$f._entry$2;_entry$3=$f._entry$3;_entry$4=$f._entry$4;_entry$5=$f._entry$5;_entry$6=$f._entry$6;_entry$7=$f._entry$7;_entry$8=$f._entry$8;_entry$9=$f._entry$9;_key=$f._key;_key$1=$f._key$1;_key$2=$f._key$2;_key$3=$f._key$3;_key$4=$f._key$4;_key$5=$f._key$5;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;_tuple$4=$f._tuple$4;_tuple$5=$f._tuple$5;b=$f.b;cx=$f.cx;cx$1=$f.cx$1;has=$f.has;has$1=$f.has$1;has$2=$f.has$2;has$3=$f.has$3;has$4=$f.has$4;has$5=$f.has$5;mapH=$f.mapH;mapW=$f.mapW;offset=$f.offset;offset$1=$f.offset$1;pos1=$f.pos1;pos1$1=$f.pos1$1;pos1$2=$f.pos1$2;pos2=$f.pos2;pos2$1=$f.pos2$1;pos2$2=$f.pos2$2;this$1=$f.this$1;units=$f.units;x=$f.x;x$1=$f.x$1;x$2=$f.x$2;x$3=$f.x$3;x$4=$f.x$4;y=$f.y;y$1=$f.y$1;y$2=$f.y$2;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:this$1=this;units=$makeMap(arrayType.keyFor,[]);_tmp=this$1.Map.$length;_tmp$1=(x=this$1.Map,0>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+0]).$length;mapH=_tmp;mapW=_tmp$1;_r=rand.Intn(3);/* */$s=2;case 2:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_1=_r;if(_1===0){y=0;while(true){if(!(y<mapH)){break;}x$1=0;while(true){if(!(x$1<mapW)){break;}pos1=arrayType.zero();offset=(_r$1=y%2,_r$1===_r$1?_r$1:$throwRuntimeError("integer divide by zero"));cx=x$1+offset>>0;arrayType.copy(pos1,$toNativeArray($kindInt,[cx,y]));pos2=arrayType.zero();offset$1=(_r$2=(y+1>>0)%2,_r$2===_r$2?_r$2:$throwRuntimeError("integer divide by zero"));cx$1=x$1+offset$1>>0;arrayType.copy(pos2,$toNativeArray($kindInt,[cx$1,y]));_tuple=(_entry=this$1.Units[arrayType.keyFor(pos1)],_entry!==undefined?[_entry.v,true]:["",false]);has=_tuple[1];if(has){_key=$clone(pos1,arrayType);(units||$throwRuntimeError("assignment to entry in nil map"))[arrayType.keyFor(_key)]={k:_key,v:(_entry$1=this$1.Units[arrayType.keyFor(pos1)],_entry$1!==undefined?_entry$1.v:"")};}_tuple$1=(_entry$2=$assertType(b,LevelGeneByPSO).Units[arrayType.keyFor(pos2)],_entry$2!==undefined?[_entry$2.v,true]:["",false]);has$1=_tuple$1[1];if(has$1){_key$1=$clone(pos2,arrayType);(units||$throwRuntimeError("assignment to entry in nil map"))[arrayType.keyFor(_key$1)]={k:_key$1,v:(_entry$3=$assertType(b,LevelGeneByPSO).Units[arrayType.keyFor(pos2)],_entry$3!==undefined?_entry$3.v:"")};}x$1=x$1+2>>0;}y=y+1>>0;}}else if(_1===1){y$1=0;while(true){if(!(y$1<mapH)){break;}x$2=0;while(true){if(!(x$2<mapW)){break;}pos1$1=$toNativeArray($kindInt,[x$2,y$1]);_tuple$2=(_entry$4=this$1.Units[arrayType.keyFor(pos1$1)],_entry$4!==undefined?[_entry$4.v,true]:["",false]);has$2=_tuple$2[1];if(has$2){_key$2=$clone(pos1$1,arrayType);(units||$throwRuntimeError("assignment to entry in nil map"))[arrayType.keyFor(_key$2)]={k:_key$2,v:(_entry$5=this$1.Units[arrayType.keyFor(pos1$1)],_entry$5!==undefined?_entry$5.v:"")};}if(x$2+1>>0<mapW){pos2$1=$toNativeArray($kindInt,[x$2+1>>0,y$1]);_tuple$3=(_entry$6=$assertType(b,LevelGeneByPSO).Units[arrayType.keyFor(pos2$1)],_entry$6!==undefined?[_entry$6.v,true]:["",false]);has$3=_tuple$3[1];if(has$3){_key$3=$clone(pos2$1,arrayType);(units||$throwRuntimeError("assignment to entry in nil map"))[arrayType.keyFor(_key$3)]={k:_key$3,v:(_entry$7=$assertType(b,LevelGeneByPSO).Units[arrayType.keyFor(pos2$1)],_entry$7!==undefined?_entry$7.v:"")};}}x$2=x$2+2>>0;}y$1=y$1+1>>0;}}else if(_1===2){y$2=0;while(true){if(!(y$2<mapH)){break;}x$3=0;while(true){if(!(x$3<mapW)){break;}pos1$2=$toNativeArray($kindInt,[x$3,y$2]);_tuple$4=(_entry$8=this$1.Units[arrayType.keyFor(pos1$2)],_entry$8!==undefined?[_entry$8.v,true]:["",false]);has$4=_tuple$4[1];if(has$4){_key$4=$clone(pos1$2,arrayType);(units||$throwRuntimeError("assignment to entry in nil map"))[arrayType.keyFor(_key$4)]={k:_key$4,v:(_entry$9=this$1.Units[arrayType.keyFor(pos1$2)],_entry$9!==undefined?_entry$9.v:"")};}if(y$2+1>>0<mapH){pos2$2=$toNativeArray($kindInt,[x$3,y$2+1>>0]);_tuple$5=(_entry$10=$assertType(b,LevelGeneByPSO).Units[arrayType.keyFor(pos2$2)],_entry$10!==undefined?[_entry$10.v,true]:["",false]);has$5=_tuple$5[1];if(has$5){_key$5=$clone(pos2$2,arrayType);(units||$throwRuntimeError("assignment to entry in nil map"))[arrayType.keyFor(_key$5)]={k:_key$5,v:(_entry$11=$assertType(b,LevelGeneByPSO).Units[arrayType.keyFor(pos2$2)],_entry$11!==undefined?_entry$11.v:"")};}}x$3=x$3+1>>0;}y$2=y$2+2>>0;}}case 1:$s=-1;return[(x$4=new LevelGeneByPSO.ptr(this$1.Map,units,0),new x$4.constructor.elem(x$4)),$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:LevelGeneByPSO.ptr.prototype.Crossover};}$f._1=_1;$f._entry=_entry;$f._entry$1=_entry$1;$f._entry$10=_entry$10;$f._entry$11=_entry$11;$f._entry$2=_entry$2;$f._entry$3=_entry$3;$f._entry$4=_entry$4;$f._entry$5=_entry$5;$f._entry$6=_entry$6;$f._entry$7=_entry$7;$f._entry$8=_entry$8;$f._entry$9=_entry$9;$f._key=_key;$f._key$1=_key$1;$f._key$2=_key$2;$f._key$3=_key$3;$f._key$4=_key$4;$f._key$5=_key$5;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f._tuple$4=_tuple$4;$f._tuple$5=_tuple$5;$f.b=b;$f.cx=cx;$f.cx$1=cx$1;$f.has=has;$f.has$1=has$1;$f.has$2=has$2;$f.has$3=has$3;$f.has$4=has$4;$f.has$5=has$5;$f.mapH=mapH;$f.mapW=mapW;$f.offset=offset;$f.offset$1=offset$1;$f.pos1=pos1;$f.pos1$1=pos1$1;$f.pos1$2=pos1$2;$f.pos2=pos2;$f.pos2$1=pos2$1;$f.pos2$2=pos2$2;$f.this$1=this$1;$f.units=units;$f.x=x;$f.x$1=x$1;$f.x$2=x$2;$f.x$3=x$3;$f.x$4=x$4;$f.y=y;$f.y$1=y$1;$f.y$2=y$2;$f.$s=$s;$f.$r=$r;return $f;};LevelGeneByPSO.prototype.Crossover=function(b){return this.$val.Crossover(b);};LevelGeneByPSO.ptr.prototype.Mutate=function(){var _r,_r$1,_r$2,_r$3,_r$4,_r$5,deleteOne,generateOne,idx,moveOne,ret,this$1,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;deleteOne=$f.deleteOne;generateOne=$f.generateOne;idx=$f.idx;moveOne=$f.moveOne;ret=$f.ret;this$1=$f.this$1;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:this$1=[this$1];this$1[0]=this;generateOne=function(this$1){return function $b(origin){var _entry,_entry$1,_i,_key,_key$1,_keys,_r,_r$1,_r$2,_r$3,_r$4,_ref,_tmp,_tmp$1,_tuple,_tuple$1,err,has,i,k,mapH,mapW,origin,pos,robotProto,units,v,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_entry$1=$f._entry$1;_i=$f._i;_key=$f._key;_key$1=$f._key$1;_keys=$f._keys;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_ref=$f._ref;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tuple=$f._tuple;_tuple$1=$f._tuple$1;err=$f.err;has=$f.has;i=$f.i;k=$f.k;mapH=$f.mapH;mapW=$f.mapW;origin=$f.origin;pos=$f.pos;robotProto=$f.robotProto;units=$f.units;v=$f.v;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:units=$makeMap(arrayType.keyFor,[]);_ref=origin;_i=0;_keys=$keys(_ref);while(true){if(!(_i<_keys.length)){break;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;continue;}k=$clone(_entry.k,arrayType);v=_entry.v;_key=$clone(k,arrayType);(units||$throwRuntimeError("assignment to entry in nil map"))[arrayType.keyFor(_key)]={k:_key,v:v};_i++;}_tmp=this$1[0].Map.$length;_tmp$1=(x=this$1[0].Map,0>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+0]).$length;mapH=_tmp;mapW=_tmp$1;i=0;/* while (true) { */case 1:/* if (!(i < 10)) { break; } */if(!(i<10)){$s=2;continue;}_r=rand.Intn(mapW);/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_r$1=rand.Intn(mapH);/* */$s=4;case 4:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}pos=$toNativeArray($kindInt,[_r,_r$1]);_tuple=(_entry$1=units[arrayType.keyFor(pos)],_entry$1!==undefined?[_entry$1.v,true]:["",false]);has=_tuple[1];if(has){i=i+1>>0;/* continue; */$s=1;continue;}_r$2=data.RandRobotProto();/* */$s=5;case 5:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$1=_r$2;robotProto=$clone(_tuple$1[0],data.RobotProto);err=_tuple$1[1];/* */if(!$interfaceIsEqual(err,$ifaceNil)){$s=6;continue;}/* */$s=7;continue;/* if (!($interfaceIsEqual(err, $ifaceNil))) { */case 6:_r$3=err.Error();/* */$s=8;case 8:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_r$4=fmt.Println(new sliceType([new $String(_r$3)]));/* */$s=9;case 9:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}_r$4;i=i+1>>0;/* continue; */$s=1;continue;/* } */case 7:$unused(robotProto);_key$1=$clone(pos,arrayType);(units||$throwRuntimeError("assignment to entry in nil map"))[arrayType.keyFor(_key$1)]={k:_key$1,v:robotProto.ID};/* break; */$s=2;continue;/* } */$s=1;continue;case 2:$s=-1;return units;/* */}return;}if($f===undefined){$f={$blk:$b};}$f._entry=_entry;$f._entry$1=_entry$1;$f._i=_i;$f._key=_key;$f._key$1=_key$1;$f._keys=_keys;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._ref=_ref;$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f.err=err;$f.has=has;$f.i=i;$f.k=k;$f.mapH=mapH;$f.mapW=mapW;$f.origin=origin;$f.pos=pos;$f.robotProto=robotProto;$f.units=units;$f.v=v;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};}(this$1);deleteOne=function(this$1){return function $b(origin){var _entry,_i,_key,_keys,_r,_ref,i,j,k,origin,units,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_i=$f._i;_key=$f._key;_keys=$f._keys;_r=$f._r;_ref=$f._ref;i=$f.i;j=$f.j;k=$f.k;origin=$f.origin;units=$f.units;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:if($keys(origin).length<=0){$s=-1;return origin;}units=$makeMap(arrayType.keyFor,[]);_r=rand.Intn($keys(origin).length);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}i=_r;j=0;_ref=origin;_i=0;_keys=$keys(_ref);while(true){if(!(_i<_keys.length)){break;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;continue;}k=$clone(_entry.k,arrayType);v=_entry.v;if(j===i){j=j+1>>0;_i++;continue;}_key=$clone(k,arrayType);(units||$throwRuntimeError("assignment to entry in nil map"))[arrayType.keyFor(_key)]={k:_key,v:v};j=j+1>>0;_i++;}$s=-1;return units;/* */}return;}if($f===undefined){$f={$blk:$b};}$f._entry=_entry;$f._i=_i;$f._key=_key;$f._keys=_keys;$f._r=_r;$f._ref=_ref;$f.i=i;$f.j=j;$f.k=k;$f.origin=origin;$f.units=units;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};}(this$1);moveOne=function(this$1){return function $b(origin){var _entry,_entry$1,_i,_key,_key$1,_keys,_r,_r$1,_r$2,_r$3,_r$4,_ref,_tmp,_tmp$1,_tuple,has,i,i$1,j,k,mapH,mapW,origin,pos,removedValue,units,v,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_entry$1=$f._entry$1;_i=$f._i;_key=$f._key;_key$1=$f._key$1;_keys=$f._keys;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_ref=$f._ref;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tuple=$f._tuple;has=$f.has;i=$f.i;i$1=$f.i$1;j=$f.j;k=$f.k;mapH=$f.mapH;mapW=$f.mapW;origin=$f.origin;pos=$f.pos;removedValue=$f.removedValue;units=$f.units;v=$f.v;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:if($keys(origin).length<=0){$s=-1;return origin;}units=$makeMap(arrayType.keyFor,[]);_r=rand.Intn($keys(origin).length);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}i=_r;j=0;removedValue="";_ref=origin;_i=0;_keys=$keys(_ref);/* while (true) { */case 2:/* if (!(_i < _keys.length)) { break; } */if(!(_i<_keys.length)){$s=3;continue;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;/* continue; */$s=2;continue;}k=$clone(_entry.k,arrayType);v=_entry.v;if(j===i){removedValue=v;j=j+1>>0;_i++;/* continue; */$s=2;continue;}_key=$clone(k,arrayType);(units||$throwRuntimeError("assignment to entry in nil map"))[arrayType.keyFor(_key)]={k:_key,v:v};j=j+1>>0;_i++;/* } */$s=2;continue;case 3:_tmp=this$1[0].Map.$length;_tmp$1=(x=this$1[0].Map,0>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+0]).$length;mapH=_tmp;mapW=_tmp$1;i$1=0;/* while (true) { */case 4:/* if (!(i$1 < 3)) { break; } */if(!(i$1<3)){$s=5;continue;}_r$2=rand.Int();/* */$s=6;case 6:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_r$4=rand.Int();/* */$s=7;case 7:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}pos=$toNativeArray($kindInt,[(_r$1=_r$2%mapW,_r$1===_r$1?_r$1:$throwRuntimeError("integer divide by zero")),(_r$3=_r$4%mapH,_r$3===_r$3?_r$3:$throwRuntimeError("integer divide by zero"))]);_tuple=(_entry$1=units[arrayType.keyFor(pos)],_entry$1!==undefined?[_entry$1.v,true]:["",false]);has=_tuple[1];if(has){i$1=i$1+1>>0;/* continue; */$s=4;continue;}_key$1=$clone(pos,arrayType);(units||$throwRuntimeError("assignment to entry in nil map"))[arrayType.keyFor(_key$1)]={k:_key$1,v:removedValue};/* break; */$s=5;continue;/* } */$s=4;continue;case 5:$s=-1;return units;/* */}return;}if($f===undefined){$f={$blk:$b};}$f._entry=_entry;$f._entry$1=_entry$1;$f._i=_i;$f._key=_key;$f._key$1=_key$1;$f._keys=_keys;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._ref=_ref;$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tuple=_tuple;$f.has=has;$f.i=i;$f.i$1=i$1;$f.j=j;$f.k=k;$f.mapH=mapH;$f.mapW=mapW;$f.origin=origin;$f.pos=pos;$f.removedValue=removedValue;$f.units=units;$f.v=v;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};}(this$1);ret=$clone(this$1[0],LevelGeneByPSO);/* */if($keys(this$1[0].Units).length>20){$s=1;continue;}/* */$s=2;continue;/* if ($keys(this$1[0].Units).length > 20) { */case 1:_r=deleteOne(this$1[0].Units);/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}ret.Units=_r;$s=-1;return[new ret.constructor.elem(ret),$ifaceNil];/* } */case 2:_r$1=rand.Float64();/* */$s=4;case 4:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}idx=_r$1;/* */if(idx<0.05){$s=6;continue;}/* */if(idx<0.2){$s=7;continue;}/* */$s=8;continue;/* if (idx < 0.05) { */case 6:_r$2=deleteOne(this$1[0].Units);/* */$s=10;case 10:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}ret.Units=_r$2;_r$3=generateOne(this$1[0].Units);/* */$s=11;case 11:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}ret.Units=_r$3;$s=9;continue;/* } else if (idx < 0.2) { */case 7:_r$4=generateOne(this$1[0].Units);/* */$s=12;case 12:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}ret.Units=_r$4;$s=9;continue;/* } else { */case 8:_r$5=moveOne(this$1[0].Units);/* */$s=13;case 13:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}ret.Units=_r$5;/* } */case 9:case 5:$s=-1;return[new ret.constructor.elem(ret),$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:LevelGeneByPSO.ptr.prototype.Mutate};}$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f.deleteOne=deleteOne;$f.generateOne=generateOne;$f.idx=idx;$f.moveOne=moveOne;$f.ret=ret;$f.this$1=this$1;$f.$s=$s;$f.$r=$r;return $f;};LevelGeneByPSO.prototype.Mutate=function(){return this.$val.Mutate();};GenerateLevelByPSO=function(origin,playerID){var _entry,_i,_key,_keys,_r,_r$1,_r$2,_r$3,_r$4,_r$5,_r$6,_ref,_tmp,_tmp$1,_tuple,_tuple$1,_tuple$2,_tuple$3,ctx,err,err$1,gene,gene$1,genes,i,j,mapH,mapW,origin,pilot,playerID,pos,pos$1,protoID,robotProto,units,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_i=$f._i;_key=$f._key;_keys=$f._keys;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_ref=$f._ref;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;ctx=$f.ctx;err=$f.err;err$1=$f.err$1;gene=$f.gene;gene$1=$f.gene$1;genes=$f.genes;i=$f.i;j=$f.j;mapH=$f.mapH;mapW=$f.mapW;origin=$f.origin;pilot=$f.pilot;playerID=$f.playerID;pos=$f.pos;pos$1=$f.pos$1;protoID=$f.protoID;robotProto=$f.robotProto;units=$f.units;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:err=$ifaceNil;ctx=$clone(origin,types.Model);_tmp=ctx.App.Gameplay.Map.$length;_tmp$1=(x=ctx.App.Gameplay.Map,0>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+0]).$length;mapW=_tmp;mapH=_tmp$1;genes=new sliceType$5([]);i=0;/* while (true) { */case 1:/* if (!(i < 5)) { break; } */if(!(i<5)){$s=2;continue;}_r=data.RandRobotProto();/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;robotProto=$clone(_tuple[0],data.RobotProto);err$1=_tuple[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[origin,err$1];}units=$makeMap(arrayType.keyFor,[]);j=0;/* while (true) { */case 4:/* if (!(j < 20)) { break; } */if(!(j<20)){$s=5;continue;}_r$1=rand.Intn(mapW);/* */$s=6;case 6:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_r$2=rand.Intn(mapH);/* */$s=7;case 7:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}pos=$toNativeArray($kindInt,[_r$1,_r$2]);_key=$clone(pos,arrayType);(units||$throwRuntimeError("assignment to entry in nil map"))[arrayType.keyFor(_key)]={k:_key,v:robotProto.ID};j=j+1>>0;/* } */$s=4;continue;case 5:gene=new LevelGeneByPSO.ptr(ctx.App.Gameplay.Map,units,0);genes=$append(genes,new gene.constructor.elem(gene));i=i+1>>0;/* } */$s=1;continue;case 2:_r$3=optalg.OptAlgByPSO(100,genes);/* */$s=8;case 8:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_tuple$1=_r$3;genes=_tuple$1[0];err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}_r$4=optalg.GetBest(genes);/* */$s=9;case 9:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}gene$1=_r$4;_ref=$assertType(gene$1,LevelGeneByPSO).Units;_i=0;_keys=$keys(_ref);/* while (true) { */case 10:/* if (!(_i < _keys.length)) { break; } */if(!(_i<_keys.length)){$s=11;continue;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;/* continue; */$s=10;continue;}pos$1=$clone(_entry.k,arrayType);protoID=_entry.v;pilot=new protocol.Pilot.ptr("","","",0,0,0,0,0,0,0,0,0,0,0);_r$5=common.NewPilot($clone(ctx,types.Model),new protocol.Pilot.ptr("","amuro","",0,0,0,0,0,0,0,0,0,0,0));/* */$s=12;case 12:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}_tuple$2=_r$5;types.Model.copy(ctx,_tuple$2[0]);protocol.Pilot.copy(pilot,_tuple$2[1]);err=_tuple$2[2];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}_r$6=common.NewRobot($clone(ctx,types.Model),$toNativeArray($kindInt,[pos$1[0],pos$1[1]]),new protocol.Robot.ptr("",playerID,protoID,pilot.ID,"",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false));/* */$s=13;case 13:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}_tuple$3=_r$6;types.Model.copy(ctx,_tuple$3[0]);err=_tuple$3[2];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}_i++;/* } */$s=10;continue;case 11:$s=-1;return[ctx,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:GenerateLevelByPSO};}$f._entry=_entry;$f._i=_i;$f._key=_key;$f._keys=_keys;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._ref=_ref;$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f.ctx=ctx;$f.err=err;$f.err$1=err$1;$f.gene=gene;$f.gene$1=gene$1;$f.genes=genes;$f.i=i;$f.j=j;$f.mapH=mapH;$f.mapW=mapW;$f.origin=origin;$f.pilot=pilot;$f.playerID=playerID;$f.pos=pos;$f.pos$1=pos$1;$f.protoID=protoID;$f.robotProto=robotProto;$f.units=units;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};$pkg.GenerateLevelByPSO=GenerateLevelByPSO;NewModel=function(origin,situation){var _1,_entry,_entry$1,_entry$2,_entry$3,_entry$4,_entry$5,_entry$6,_entry$7,_i,_i$1,_i$2,_i$3,_i$4,_keys,_r,_r$1,_r$10,_r$11,_r$12,_r$13,_r$14,_r$15,_r$16,_r$17,_r$18,_r$19,_r$2,_r$20,_r$21,_r$22,_r$23,_r$24,_r$25,_r$26,_r$3,_r$4,_r$5,_r$6,_r$7,_r$8,_r$9,_ref,_ref$1,_ref$2,_ref$3,_ref$4,_ref$5,_tuple,_tuple$1,_tuple$10,_tuple$11,_tuple$12,_tuple$13,_tuple$2,_tuple$3,_tuple$4,_tuple$5,_tuple$6,_tuple$7,_tuple$8,_tuple$9,ctx,detail,detail$1,detail$2,enemyPower,err,err$1,gameplay,gameplay$1,has,hasLevel,i,i$1,i$2,i$3,i$4,id,id$1,id$2,id$3,isSelection,levelID,lobby,lobby$1,normalLevel,obj,obj$1,obj$2,obj$3,offset,origin,power,protoID,protoID$1,protoID$2,protoID$3,robot,robotID,situation,tmpMap,unitSelection,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_entry=$f._entry;_entry$1=$f._entry$1;_entry$2=$f._entry$2;_entry$3=$f._entry$3;_entry$4=$f._entry$4;_entry$5=$f._entry$5;_entry$6=$f._entry$6;_entry$7=$f._entry$7;_i=$f._i;_i$1=$f._i$1;_i$2=$f._i$2;_i$3=$f._i$3;_i$4=$f._i$4;_keys=$f._keys;_r=$f._r;_r$1=$f._r$1;_r$10=$f._r$10;_r$11=$f._r$11;_r$12=$f._r$12;_r$13=$f._r$13;_r$14=$f._r$14;_r$15=$f._r$15;_r$16=$f._r$16;_r$17=$f._r$17;_r$18=$f._r$18;_r$19=$f._r$19;_r$2=$f._r$2;_r$20=$f._r$20;_r$21=$f._r$21;_r$22=$f._r$22;_r$23=$f._r$23;_r$24=$f._r$24;_r$25=$f._r$25;_r$26=$f._r$26;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_r$7=$f._r$7;_r$8=$f._r$8;_r$9=$f._r$9;_ref=$f._ref;_ref$1=$f._ref$1;_ref$2=$f._ref$2;_ref$3=$f._ref$3;_ref$4=$f._ref$4;_ref$5=$f._ref$5;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$10=$f._tuple$10;_tuple$11=$f._tuple$11;_tuple$12=$f._tuple$12;_tuple$13=$f._tuple$13;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;_tuple$4=$f._tuple$4;_tuple$5=$f._tuple$5;_tuple$6=$f._tuple$6;_tuple$7=$f._tuple$7;_tuple$8=$f._tuple$8;_tuple$9=$f._tuple$9;ctx=$f.ctx;detail=$f.detail;detail$1=$f.detail$1;detail$2=$f.detail$2;enemyPower=$f.enemyPower;err=$f.err;err$1=$f.err$1;gameplay=$f.gameplay;gameplay$1=$f.gameplay$1;has=$f.has;hasLevel=$f.hasLevel;i=$f.i;i$1=$f.i$1;i$2=$f.i$2;i$3=$f.i$3;i$4=$f.i$4;id=$f.id;id$1=$f.id$1;id$2=$f.id$2;id$3=$f.id$3;isSelection=$f.isSelection;levelID=$f.levelID;lobby=$f.lobby;lobby$1=$f.lobby$1;normalLevel=$f.normalLevel;obj=$f.obj;obj$1=$f.obj$1;obj$2=$f.obj$2;obj$3=$f.obj$3;offset=$f.offset;origin=$f.origin;power=$f.power;protoID=$f.protoID;protoID$1=$f.protoID$1;protoID$2=$f.protoID$2;protoID$3=$f.protoID$3;robot=$f.robot;robotID=$f.robotID;situation=$f.situation;tmpMap=$f.tmpMap;unitSelection=$f.unitSelection;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:err=$ifaceNil;ctx=$clone(origin,types.Model);_ref=situation;/* */if($assertType(_ref,protocol.NewGameplayWithSelection,true)[1]){$s=1;continue;}/* */if($assertType(_ref,protocol.NewModelWithTest,true)[1]){$s=2;continue;}/* */$s=3;continue;/* if ($assertType(_ref, protocol.NewGameplayWithSelection, true)[1]) { */case 1:detail=$clone(_ref.$val,protocol.NewGameplayWithSelection);$r=rand.Seed(new $Int64(0,0));/* */$s=5;case 5:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}unitSelection=detail.UnitSelection;levelID=detail.LevelSelection;_tuple=(_entry=types.DefaultNormalLevels[$String.keyFor(levelID)],_entry!==undefined?[_entry.v,true]:[new types.NormalLevel.ptr(0,0),false]);normalLevel=$clone(_tuple[0],types.NormalLevel);hasLevel=_tuple[1];/* */if(hasLevel===false){$s=6;continue;}/* */$s=7;continue;/* if (hasLevel === false) { */case 6:_r=fmt.Errorf("\xE6\x89\xBE\xE4\xB8\x8D\xE5\x88\xB0\xE6\x89\x80\xE9\x81\xB8\xE9\x97\x9C\xE5\x8D\xA1(%v)",new sliceType([new $String(detail.LevelSelection)]));/* */$s=8;case 8:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return[origin,_r];/* } */case 7:gameplay=$clone(types.DefaultGameplay,types.Gameplay);gameplay.State="GameplayModelStatePlaying";gameplay.LevelID=levelID;types.AIModel.copy(gameplay.AIModel,new types.AIModel.ptr(false,false));tmpMap=sliceType$4.nil;offset=$imul(normalLevel.Cursor,20);_1=normalLevel.MenuID;/* */if(_1===34){$s=10;continue;}/* */if(_1===35){$s=11;continue;}/* */if(_1===36){$s=12;continue;}/* */$s=13;continue;/* if (_1 === (34)) { */case 10:_r$1=helper.GenerateMap($clone(helper.GenerateMapConfigDefault,helper.GenerateMapConfig),new $Int64(0,0),0,1,20,20,offset,offset);/* */$s=14;case 14:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$1=_r$1;tmpMap=_tuple$1[0];err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}$s=13;continue;/* } else if (_1 === (35)) { */case 11:_r$2=helper.GenerateMap($clone(helper.GenerateMapConfigIsland,helper.GenerateMapConfig),new $Int64(0,0),0,1,20,20,offset,offset);/* */$s=15;case 15:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$2=_r$2;tmpMap=_tuple$2[0];err=_tuple$2[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}$s=13;continue;/* } else if (_1 === (36)) { */case 12:_r$3=rand.Float64();/* */$s=16;case 16:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_r$4=rand.Float64();/* */$s=17;case 17:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}_r$5=rand.Float64();/* */$s=18;case 18:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}_r$6=rand.Float64();/* */$s=19;case 19:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}_r$7=rand.Float64();/* */$s=20;case 20:if($c){$c=false;_r$7=_r$7.$blk();}if(_r$7&&_r$7.$blk!==undefined){break s;}_r$8=rand.Float64();/* */$s=21;case 21:if($c){$c=false;_r$8=_r$8.$blk();}if(_r$8&&_r$8.$blk!==undefined){break s;}_r$9=rand.Float64();/* */$s=22;case 22:if($c){$c=false;_r$9=_r$9.$blk();}if(_r$9&&_r$9.$blk!==undefined){break s;}_r$10=helper.GenerateMap(new helper.GenerateMapConfig.ptr(_r$3,_r$4,_r$5,_r$6,_r$7,_r$8,_r$9,0),new $Int64(0,0),0,1,20,20,offset,offset);/* */$s=23;case 23:if($c){$c=false;_r$10=_r$10.$blk();}if(_r$10&&_r$10.$blk!==undefined){break s;}_tuple$3=_r$10;tmpMap=_tuple$3[0];err=_tuple$3[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}/* } */case 13:case 9:/* */if(tmpMap===sliceType$4.nil){$s=24;continue;}/* */$s=25;continue;/* if (tmpMap === sliceType$4.nil) { */case 24:_r$11=fmt.Errorf("tmpMap\xE7\x82\xBAnil, \xE5\xBF\x85\xE9\xA0\x88\xE5\xBB\xBA\xE7\xAB\x8B\xE5\x9C\xB0\xE5\x9C\x96",new sliceType([]));/* */$s=26;case 26:if($c){$c=false;_r$11=_r$11.$blk();}if(_r$11&&_r$11.$blk!==undefined){break s;}$s=-1;return[origin,_r$11];/* } */case 25:gameplay.Map=tmpMap;gameplay.Players=$makeMap($String.keyFor,[{k:"PlayerIDPlayer",v:new protocol.Player.ptr("PlayerIDPlayer","0")},{k:"ai1",v:new protocol.Player.ptr("ai1","1")}]);gameplay.PlayerOrder=new sliceType$6(["PlayerIDPlayer","ai1"]);gameplay.ActivePlayerID="PlayerIDPlayer";gameplay.Pilots=ctx.App.Lobby.Pilots;types.Gameplay.copy(ctx.App.Gameplay,gameplay);i=0;_ref$1=unitSelection;_i=0;_keys=$keys(_ref$1);/* while (true) { */case 27:/* if (!(_i < _keys.length)) { break; } */if(!(_i<_keys.length)){$s=28;continue;}_entry$1=_ref$1[_keys[_i]];if(_entry$1===undefined){_i++;/* continue; */$s=27;continue;}robotID=_entry$1.k;isSelection=_entry$1.v;/* */if(isSelection===false){$s=29;continue;}/* */$s=30;continue;/* if (isSelection === false) { */case 29:_i++;/* continue; */$s=27;continue;/* } */case 30:_tuple$4=(_entry$2=ctx.App.Lobby.Robots[$String.keyFor(robotID)],_entry$2!==undefined?[_entry$2.v,true]:[new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),false]);robot=$clone(_tuple$4[0],protocol.Robot);has=_tuple$4[1];/* */if(has===false){$s=31;continue;}/* */$s=32;continue;/* if (has === false) { */case 31:_r$12=fmt.Errorf("\xE6\xAD\xA3\xE5\x9C\xA8\xE4\xBD\xBF\xE7\x94\xA8\xE9\x81\xB8\xE6\x93\x87\xE7\x9A\x84\xE6\xA9\x9F\xE9\xAB\x94\xE5\xBB\xBA\xE7\xAB\x8B\xE9\x97\x9C\xE5\x8D\xA1\xEF\xBC\x8C\xE4\xBD\x86\xE6\x89\x80\xE9\x81\xB8\xE6\x93\x87\xE7\x9A\x84\xE6\xA9\x9F\xE9\xAB\x94(%v)\xE6\x89\xBE\xE4\xB8\x8D\xE5\x88\xB0",new sliceType([new $String(robotID)]));/* */$s=33;case 33:if($c){$c=false;_r$12=_r$12.$blk();}if(_r$12&&_r$12.$blk!==undefined){break s;}$s=-1;return[origin,_r$12];/* } */case 32:robot.PlayerID="PlayerIDPlayer";_tuple$5=(_entry$3=ctx.App.Lobby.PilotIDByRobotID[$String.keyFor(robotID)],_entry$3!==undefined?[_entry$3.v,true]:["",false]);robot.PilotID=_tuple$5[0];has=_tuple$5[1];/* */if(has===false){$s=34;continue;}/* */$s=35;continue;/* if (has === false) { */case 34:_r$13=fmt.Errorf("\xE6\xAD\xA3\xE5\x9C\xA8\xE4\xBD\xBF\xE7\x94\xA8\xE9\x81\xB8\xE6\x93\x87\xE7\x9A\x84\xE6\xA9\x9F\xE9\xAB\x94\xE5\xBB\xBA\xE7\xAB\x8B\xE9\x97\x9C\xE5\x8D\xA1\xEF\xBC\x8C\xE4\xBD\x86\xE6\x89\x80\xE9\x81\xB8\xE6\x93\x87\xE7\x9A\x84\xE6\xA9\x9F\xE9\xAB\x94(%v)\xE6\x89\xBE\xE4\xB8\x8D\xE5\x88\xB0\xE9\xA7\x95\xE9\xA7\x9B",new sliceType([new $String(robotID)]));/* */$s=36;case 36:if($c){$c=false;_r$13=_r$13.$blk();}if(_r$13&&_r$13.$blk!==undefined){break s;}$s=-1;return[origin,_r$13];/* } */case 35:_r$14=common.QueryRobotPower($clone(ctx,types.Model),robot.ID,false);/* */$s=37;case 37:if($c){$c=false;_r$14=_r$14.$blk();}if(_r$14&&_r$14.$blk!==undefined){break s;}_tuple$6=_r$14;power=_tuple$6[0];err$1=_tuple$6[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[origin,err$1];}/* */if(power<=0){$s=38;continue;}/* */$s=39;continue;/* if (power <= 0) { */case 38:_r$15=fmt.Errorf("\xE6\xAD\xA3\xE5\x9C\xA8\xE4\xBD\xBF\xE7\x94\xA8\xE9\x81\xB8\xE6\x93\x87\xE7\x9A\x84\xE6\xA9\x9F\xE9\xAB\x94\xE5\xBB\xBA\xE7\xAB\x8B\xE9\x97\x9C\xE5\x8D\xA1\xEF\xBC\x8C\xE4\xBD\x86\xE6\x89\x80\xE9\x81\xB8\xE6\x93\x87\xE7\x9A\x84\xE6\xA9\x9F\xE9\xAB\x94(%v)\xE7\x9A\x84\xE5\x89\xA9\xE9\xA4\x98\xE5\x87\xBA\xE5\x8A\x9B\xE5\xB0\x8F\xE6\x96\xBC0",new sliceType([new $String(robotID)]));/* */$s=40;case 40:if($c){$c=false;_r$15=_r$15.$blk();}if(_r$15&&_r$15.$blk!==undefined){break s;}$s=-1;return[origin,_r$15];/* } */case 39:_r$16=common.NewRobot($clone(ctx,types.Model),$toNativeArray($kindInt,[0,i]),$clone(robot,protocol.Robot));/* */$s=41;case 41:if($c){$c=false;_r$16=_r$16.$blk();}if(_r$16&&_r$16.$blk!==undefined){break s;}_tuple$7=_r$16;types.Model.copy(ctx,_tuple$7[0]);err$1=_tuple$7[2];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[origin,err$1];}i=i+1>>0;_i++;/* } */$s=27;continue;case 28:enemyPower=$imul(normalLevel.Cursor,200000);_r$17=GenerateLevelByHC($clone(ctx,types.Model),"ai1",$toNativeArray($kindInt,[15,15]),enemyPower);/* */$s=42;case 42:if($c){$c=false;_r$17=_r$17.$blk();}if(_r$17&&_r$17.$blk!==undefined){break s;}_tuple$8=_r$17;types.Model.copy(ctx,_tuple$8[0]);err=_tuple$8[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}$s=4;continue;/* } else if ($assertType(_ref, protocol.NewModelWithTest, true)[1]) { */case 2:detail$1=$clone(_ref.$val,protocol.NewModelWithTest);lobby=$clone(types.DefaultLobby,types.Lobby);lobby.Weapons=$makeMap($String.keyFor,[{k:"lobbyWeapon_0",v:new protocol.Weapon.ptr("lobbyWeapon_0","beam_mega1",0,"",0,arrayType.zero(),0,0,arrayType$1.zero(),sliceType$6.nil,"","",0,0,0,0)},{k:"lobbyWeapon_1",v:new protocol.Weapon.ptr("lobbyWeapon_1","beam_sniper1",0,"",0,arrayType.zero(),0,0,arrayType$1.zero(),sliceType$6.nil,"","",0,0,0,0)}]);lobby.RobotIDByWeaponID=$makeMap($String.keyFor,[{k:"lobbyWeapon_0",v:"0"},{k:"lobbyWeapon_1",v:"0"}]);types.Lobby.copy(ctx.App.Lobby,lobby);gameplay$1=$clone(types.DefaultGameplay,types.Gameplay);types.AIModel.copy(gameplay$1.AIModel,new types.AIModel.ptr(false,false));_r$18=helper.GenerateMap($clone(helper.GenerateMapConfigIsland,helper.GenerateMapConfig),new $Int64(0,0),0,1,20,20,0,0);/* */$s=43;case 43:if($c){$c=false;_r$18=_r$18.$blk();}if(_r$18&&_r$18.$blk!==undefined){break s;}_tuple$9=_r$18;gameplay$1.Map=_tuple$9[0];err=_tuple$9[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}gameplay$1.Players=$makeMap($String.keyFor,[{k:"PlayerIDPlayer",v:new protocol.Player.ptr("PlayerIDPlayer","0")},{k:"ai1",v:new protocol.Player.ptr("ai1","1")}]);gameplay$1.PlayerOrder=new sliceType$6(["PlayerIDPlayer","ai1"]);gameplay$1.ActivePlayerID="PlayerIDPlayer";gameplay$1.Pilots=$makeMap($String.keyFor,[{k:"pilotA",v:new protocol.Pilot.ptr("pilotA","amuro","",0,0,0,0,0,0,0,0,0,0,0)},{k:"pilotB",v:new protocol.Pilot.ptr("pilotB","baseballPitcher","",0,0,0,0,0,0,0,0,0,0,0)},{k:"pilotC",v:new protocol.Pilot.ptr("pilotC","teacher","",0,0,0,0,0,0,0,0,0,0,0)},{k:"pilotD",v:new protocol.Pilot.ptr("pilotD","engineer","",0,0,0,0,0,0,0,0,0,0,0)}]);gameplay$1.Units=new sliceType$6([]);types.Gameplay.copy(ctx.App.Gameplay,gameplay$1);_r$19=common.NewRobot($clone(ctx,types.Model),$toNativeArray($kindInt,[0,0]),new protocol.Robot.ptr("0","PlayerIDPlayer","zgundam","pilotA","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false));/* */$s=44;case 44:if($c){$c=false;_r$19=_r$19.$blk();}if(_r$19&&_r$19.$blk!==undefined){break s;}_tuple$10=_r$19;types.Model.copy(ctx,_tuple$10[0]);err=_tuple$10[2];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}_r$20=common.NewRobot($clone(ctx,types.Model),$toNativeArray($kindInt,[10,10]),new protocol.Robot.ptr("","PlayerIDPlayer","gaite_sky","pilotB","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false));/* */$s=45;case 45:if($c){$c=false;_r$20=_r$20.$blk();}if(_r$20&&_r$20.$blk!==undefined){break s;}_tuple$11=_r$20;types.Model.copy(ctx,_tuple$11[0]);err=_tuple$11[2];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}_r$21=common.NewRobot($clone(ctx,types.Model),$toNativeArray($kindInt,[10,0]),new protocol.Robot.ptr("","ai1","gundam","pilotC","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false));/* */$s=46;case 46:if($c){$c=false;_r$21=_r$21.$blk();}if(_r$21&&_r$21.$blk!==undefined){break s;}_tuple$12=_r$21;types.Model.copy(ctx,_tuple$12[0]);err=_tuple$12[2];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}_r$22=common.NewRobot($clone(ctx,types.Model),$toNativeArray($kindInt,[0,10]),new protocol.Robot.ptr("","ai1","gundam","pilotD","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false));/* */$s=47;case 47:if($c){$c=false;_r$22=_r$22.$blk();}if(_r$22&&_r$22.$blk!==undefined){break s;}_tuple$13=_r$22;types.Model.copy(ctx,_tuple$13[0]);err=_tuple$13[2];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}$s=4;continue;/* } else { */case 3:detail$2=_ref;lobby$1=$clone(types.DefaultLobby,types.Lobby);_ref$2=(_entry$4=data.GameData.Config[$String.keyFor("default")],_entry$4!==undefined?_entry$4.v:new data.ConfigProto.ptr("",0,sliceType$7.nil,sliceType$6.nil,sliceType$6.nil,sliceType$6.nil,sliceType$6.nil)).Robots;_i$1=0;/* while (true) { */case 48:/* if (!(_i$1 < _ref$2.$length)) { break; } */if(!(_i$1<_ref$2.$length)){$s=49;continue;}i$1=_i$1;protoID=_i$1<0||_i$1>=_ref$2.$length?($throwRuntimeError("index out of range"),undefined):_ref$2.$array[_ref$2.$offset+_i$1];_r$23=fmt.Sprintf("DefaultRobot_%v",new sliceType([new $Int(i$1)]));/* */$s=50;case 50:if($c){$c=false;_r$23=_r$23.$blk();}if(_r$23&&_r$23.$blk!==undefined){break s;}id=_r$23;obj=new protocol.Robot.ptr(id,"PlayerIDPlayer",protoID,"",protoID,0,0,$makeMap($String.keyFor,[]),false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false);lobby$1.Robots=protocol.AssocStringRobot(lobby$1.Robots,obj.ID,$clone(obj,protocol.Robot));_i$1++;/* } */$s=48;continue;case 49:_ref$3=(_entry$5=data.GameData.Config[$String.keyFor("default")],_entry$5!==undefined?_entry$5.v:new data.ConfigProto.ptr("",0,sliceType$7.nil,sliceType$6.nil,sliceType$6.nil,sliceType$6.nil,sliceType$6.nil)).Pilots;_i$2=0;/* while (true) { */case 51:/* if (!(_i$2 < _ref$3.$length)) { break; } */if(!(_i$2<_ref$3.$length)){$s=52;continue;}i$2=_i$2;protoID$1=_i$2<0||_i$2>=_ref$3.$length?($throwRuntimeError("index out of range"),undefined):_ref$3.$array[_ref$3.$offset+_i$2];_r$24=fmt.Sprintf("DefaultPilot_%v",new sliceType([new $Int(i$2)]));/* */$s=53;case 53:if($c){$c=false;_r$24=_r$24.$blk();}if(_r$24&&_r$24.$blk!==undefined){break s;}id$1=_r$24;obj$1=new protocol.Pilot.ptr(id$1,protoID$1,"",0,0,0,0,0,0,0,0,0,0,0);lobby$1.Pilots=protocol.AssocStringPilot(lobby$1.Pilots,obj$1.ID,$clone(obj$1,protocol.Pilot));_i$2++;/* } */$s=51;continue;case 52:_ref$4=(_entry$6=data.GameData.Config[$String.keyFor("default")],_entry$6!==undefined?_entry$6.v:new data.ConfigProto.ptr("",0,sliceType$7.nil,sliceType$6.nil,sliceType$6.nil,sliceType$6.nil,sliceType$6.nil)).Weapons;_i$3=0;/* while (true) { */case 54:/* if (!(_i$3 < _ref$4.$length)) { break; } */if(!(_i$3<_ref$4.$length)){$s=55;continue;}i$3=_i$3;protoID$2=_i$3<0||_i$3>=_ref$4.$length?($throwRuntimeError("index out of range"),undefined):_ref$4.$array[_ref$4.$offset+_i$3];_r$25=fmt.Sprintf("DefaultWeapon_%v",new sliceType([new $Int(i$3)]));/* */$s=56;case 56:if($c){$c=false;_r$25=_r$25.$blk();}if(_r$25&&_r$25.$blk!==undefined){break s;}id$2=_r$25;obj$2=new protocol.Weapon.ptr(id$2,protoID$2,0,"",0,arrayType.zero(),0,0,arrayType$1.zero(),sliceType$6.nil,"","",0,0,0,0);lobby$1.Weapons=protocol.AssocStringWeapon(lobby$1.Weapons,obj$2.ID,$clone(obj$2,protocol.Weapon));_i$3++;/* } */$s=54;continue;case 55:_ref$5=(_entry$7=data.GameData.Config[$String.keyFor("default")],_entry$7!==undefined?_entry$7.v:new data.ConfigProto.ptr("",0,sliceType$7.nil,sliceType$6.nil,sliceType$6.nil,sliceType$6.nil,sliceType$6.nil)).Components;_i$4=0;/* while (true) { */case 57:/* if (!(_i$4 < _ref$5.$length)) { break; } */if(!(_i$4<_ref$5.$length)){$s=58;continue;}i$4=_i$4;protoID$3=_i$4<0||_i$4>=_ref$5.$length?($throwRuntimeError("index out of range"),undefined):_ref$5.$array[_ref$5.$offset+_i$4];_r$26=fmt.Sprintf("DefaultComponent_%v",new sliceType([new $Int(i$4)]));/* */$s=59;case 59:if($c){$c=false;_r$26=_r$26.$blk();}if(_r$26&&_r$26.$blk!==undefined){break s;}id$3=_r$26;obj$3=new protocol.Component.ptr(id$3,protoID$3,"",0,"",sliceType$6.nil,0,"");lobby$1.Components=protocol.AssocStringComponent(lobby$1.Components,obj$3.ID,$clone(obj$3,protocol.Component));_i$4++;/* } */$s=57;continue;case 58:types.Lobby.copy(ctx.App.Lobby,lobby$1);ctx.App.Money=100000;/* } */case 4:$s=-1;return[ctx,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:NewModel};}$f._1=_1;$f._entry=_entry;$f._entry$1=_entry$1;$f._entry$2=_entry$2;$f._entry$3=_entry$3;$f._entry$4=_entry$4;$f._entry$5=_entry$5;$f._entry$6=_entry$6;$f._entry$7=_entry$7;$f._i=_i;$f._i$1=_i$1;$f._i$2=_i$2;$f._i$3=_i$3;$f._i$4=_i$4;$f._keys=_keys;$f._r=_r;$f._r$1=_r$1;$f._r$10=_r$10;$f._r$11=_r$11;$f._r$12=_r$12;$f._r$13=_r$13;$f._r$14=_r$14;$f._r$15=_r$15;$f._r$16=_r$16;$f._r$17=_r$17;$f._r$18=_r$18;$f._r$19=_r$19;$f._r$2=_r$2;$f._r$20=_r$20;$f._r$21=_r$21;$f._r$22=_r$22;$f._r$23=_r$23;$f._r$24=_r$24;$f._r$25=_r$25;$f._r$26=_r$26;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._r$7=_r$7;$f._r$8=_r$8;$f._r$9=_r$9;$f._ref=_ref;$f._ref$1=_ref$1;$f._ref$2=_ref$2;$f._ref$3=_ref$3;$f._ref$4=_ref$4;$f._ref$5=_ref$5;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$10=_tuple$10;$f._tuple$11=_tuple$11;$f._tuple$12=_tuple$12;$f._tuple$13=_tuple$13;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f._tuple$4=_tuple$4;$f._tuple$5=_tuple$5;$f._tuple$6=_tuple$6;$f._tuple$7=_tuple$7;$f._tuple$8=_tuple$8;$f._tuple$9=_tuple$9;$f.ctx=ctx;$f.detail=detail;$f.detail$1=detail$1;$f.detail$2=detail$2;$f.enemyPower=enemyPower;$f.err=err;$f.err$1=err$1;$f.gameplay=gameplay;$f.gameplay$1=gameplay$1;$f.has=has;$f.hasLevel=hasLevel;$f.i=i;$f.i$1=i$1;$f.i$2=i$2;$f.i$3=i$3;$f.i$4=i$4;$f.id=id;$f.id$1=id$1;$f.id$2=id$2;$f.id$3=id$3;$f.isSelection=isSelection;$f.levelID=levelID;$f.lobby=lobby;$f.lobby$1=lobby$1;$f.normalLevel=normalLevel;$f.obj=obj;$f.obj$1=obj$1;$f.obj$2=obj$2;$f.obj$3=obj$3;$f.offset=offset;$f.origin=origin;$f.power=power;$f.protoID=protoID;$f.protoID$1=protoID$1;$f.protoID$2=protoID$2;$f.protoID$3=protoID$3;$f.robot=robot;$f.robotID=robotID;$f.situation=situation;$f.tmpMap=tmpMap;$f.unitSelection=unitSelection;$f.$s=$s;$f.$r=$r;return $f;};$pkg.NewModel=NewModel;QueryBattleAction=function(model,robot,pilot,weapon,targetRobot,targetPilot){var _entry,_entry$1,_i,_keys,_r,_r$1,_ref,_tuple,_tuple$1,_tuple$2,err,invalidWeapons,isInvalid,model,pilot,robot,targetPilot,targetRobot,weapon,weapon$1,weaponID,weapons,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_entry$1=$f._entry$1;_i=$f._i;_keys=$f._keys;_r=$f._r;_r$1=$f._r$1;_ref=$f._ref;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;err=$f.err;invalidWeapons=$f.invalidWeapons;isInvalid=$f.isInvalid;model=$f.model;pilot=$f.pilot;robot=$f.robot;targetPilot=$f.targetPilot;targetRobot=$f.targetRobot;weapon=$f.weapon;weapon$1=$f.weapon$1;weaponID=$f.weaponID;weapons=$f.weapons;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=common.QueryRobotWeapons($clone(model,types.Model),targetRobot.ID,targetRobot.Transform,true);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;weapons=_tuple[0];err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,new protocol.Weapon.ptr("","",0,"",0,arrayType.zero(),0,0,arrayType$1.zero(),sliceType$6.nil,"","",0,0,0,0),err];}if($keys(weapons).length===0){$s=-1;return[4,new protocol.Weapon.ptr("","",0,"",0,arrayType.zero(),0,0,arrayType$1.zero(),sliceType$6.nil,"","",0,0,0,0),$ifaceNil];}_r$1=common.CheckInvalidWeapons($clone(model,types.Model),targetRobot.ID,weapons,false);/* */$s=2;case 2:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$1=_r$1;invalidWeapons=_tuple$1[0];err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,new protocol.Weapon.ptr("","",0,"",0,arrayType.zero(),0,0,arrayType$1.zero(),sliceType$6.nil,"","",0,0,0,0),err];}_ref=weapons;_i=0;_keys=$keys(_ref);while(true){if(!(_i<_keys.length)){break;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;continue;}weaponID=_entry.k;weapon$1=$clone(_entry.v,protocol.Weapon);_tuple$2=(_entry$1=invalidWeapons[$String.keyFor(weaponID)],_entry$1!==undefined?[_entry$1.v,true]:["",false]);isInvalid=_tuple$2[1];if(isInvalid){_i++;continue;}$s=-1;return[1,weapon$1,$ifaceNil];}$s=-1;return[4,new protocol.Weapon.ptr("","",0,"",0,arrayType.zero(),0,0,arrayType$1.zero(),sliceType$6.nil,"","",0,0,0,0),$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:QueryBattleAction};}$f._entry=_entry;$f._entry$1=_entry$1;$f._i=_i;$f._keys=_keys;$f._r=_r;$f._r$1=_r$1;$f._ref=_ref;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f.err=err;$f.invalidWeapons=invalidWeapons;$f.isInvalid=isInvalid;$f.model=model;$f.pilot=pilot;$f.robot=robot;$f.targetPilot=targetPilot;$f.targetRobot=targetRobot;$f.weapon=weapon;$f.weapon$1=weapon$1;$f.weaponID=weaponID;$f.weapons=weapons;$f.$s=$s;$f.$r=$r;return $f;};$pkg.QueryBattleAction=QueryBattleAction;QueryBattleDamage=function(model,robot,pilot,weapon,targetRobot,targetPilot){var _arg,_arg$1,_arg$2,_arg$3,_arg$4,_arg$5,_entry,_entry$1,_entry$2,_entry$3,_r,_r$1,_r$10,_r$11,_r$12,_r$13,_r$14,_r$15,_r$16,_r$17,_r$18,_r$19,_r$2,_r$20,_r$21,_r$22,_r$23,_r$24,_r$25,_r$26,_r$27,_r$28,_r$3,_r$4,_r$5,_r$6,_r$7,_r$8,_r$9,_tuple,_tuple$1,_tuple$10,_tuple$11,_tuple$12,_tuple$13,_tuple$14,_tuple$15,_tuple$2,_tuple$3,_tuple$4,_tuple$5,_tuple$6,_tuple$7,_tuple$8,_tuple$9,basicDamage,err,err$1,err$2,err$3,err$4,factor,factor$1,finalDamage,hitRate,isBeanAttack,isFireAttack,isLightingAttack,isMeleeAttack,isMissileAttack,isPhysicAttack,isRangeAttack,isSprayAttack,model,pilot,pilotAtk,pilotAtkFactor,pilotGuard,pilotMelee,pilotRange,pilotRangeFactor,pos,robot,robotSky,robotSuitability,robotSuitabilityFactor,targetArmor,targetPilot,targetPilotMelee,targetPilotRange,targetPos,targetRobot,targetRobotSky,targetTerrain,terrain,weapon,weaponAbility,weaponProto,weaponSuitability,weaponSuitabilityFactor,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_arg=$f._arg;_arg$1=$f._arg$1;_arg$2=$f._arg$2;_arg$3=$f._arg$3;_arg$4=$f._arg$4;_arg$5=$f._arg$5;_entry=$f._entry;_entry$1=$f._entry$1;_entry$2=$f._entry$2;_entry$3=$f._entry$3;_r=$f._r;_r$1=$f._r$1;_r$10=$f._r$10;_r$11=$f._r$11;_r$12=$f._r$12;_r$13=$f._r$13;_r$14=$f._r$14;_r$15=$f._r$15;_r$16=$f._r$16;_r$17=$f._r$17;_r$18=$f._r$18;_r$19=$f._r$19;_r$2=$f._r$2;_r$20=$f._r$20;_r$21=$f._r$21;_r$22=$f._r$22;_r$23=$f._r$23;_r$24=$f._r$24;_r$25=$f._r$25;_r$26=$f._r$26;_r$27=$f._r$27;_r$28=$f._r$28;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_r$7=$f._r$7;_r$8=$f._r$8;_r$9=$f._r$9;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$10=$f._tuple$10;_tuple$11=$f._tuple$11;_tuple$12=$f._tuple$12;_tuple$13=$f._tuple$13;_tuple$14=$f._tuple$14;_tuple$15=$f._tuple$15;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;_tuple$4=$f._tuple$4;_tuple$5=$f._tuple$5;_tuple$6=$f._tuple$6;_tuple$7=$f._tuple$7;_tuple$8=$f._tuple$8;_tuple$9=$f._tuple$9;basicDamage=$f.basicDamage;err=$f.err;err$1=$f.err$1;err$2=$f.err$2;err$3=$f.err$3;err$4=$f.err$4;factor=$f.factor;factor$1=$f.factor$1;finalDamage=$f.finalDamage;hitRate=$f.hitRate;isBeanAttack=$f.isBeanAttack;isFireAttack=$f.isFireAttack;isLightingAttack=$f.isLightingAttack;isMeleeAttack=$f.isMeleeAttack;isMissileAttack=$f.isMissileAttack;isPhysicAttack=$f.isPhysicAttack;isRangeAttack=$f.isRangeAttack;isSprayAttack=$f.isSprayAttack;model=$f.model;pilot=$f.pilot;pilotAtk=$f.pilotAtk;pilotAtkFactor=$f.pilotAtkFactor;pilotGuard=$f.pilotGuard;pilotMelee=$f.pilotMelee;pilotRange=$f.pilotRange;pilotRangeFactor=$f.pilotRangeFactor;pos=$f.pos;robot=$f.robot;robotSky=$f.robotSky;robotSuitability=$f.robotSuitability;robotSuitabilityFactor=$f.robotSuitabilityFactor;targetArmor=$f.targetArmor;targetPilot=$f.targetPilot;targetPilotMelee=$f.targetPilotMelee;targetPilotRange=$f.targetPilotRange;targetPos=$f.targetPos;targetRobot=$f.targetRobot;targetRobotSky=$f.targetRobotSky;targetTerrain=$f.targetTerrain;terrain=$f.terrain;weapon=$f.weapon;weaponAbility=$f.weaponAbility;weaponProto=$f.weaponProto;weaponSuitability=$f.weaponSuitability;weaponSuitabilityFactor=$f.weaponSuitabilityFactor;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:err=$ifaceNil;_r=common.QueryRobotSuitability($clone(model,types.Model),robot.ID,true);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;robotSuitability=$clone(_tuple[0],arrayType$1);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}_r$1=data.TryGetStringWeaponProto(data.GameData.Weapon,weapon.ProtoID);/* */$s=2;case 2:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$1=_r$1;weaponProto=$clone(_tuple$1[0],data.WeaponProto);err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}_r$2=common.QueryRobotWeaponAbility($clone(model,types.Model),robot.ID,$clone(weapon,protocol.Weapon),true);/* */$s=3;case 3:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$2=_r$2;weaponAbility=_tuple$2[0];err=_tuple$2[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}_r$3=tool.FilterString(weaponAbility,function(s){var s;return s==="range";});/* */$s=4;case 4:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}isRangeAttack=_r$3.$length>0;_r$4=tool.FilterString(weaponAbility,function(s){var s;return s==="melee";});/* */$s=5;case 5:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}isMeleeAttack=_r$4.$length>0;_r$5=tool.FilterString(weaponAbility,function(s){var s;return s==="spray";});/* */$s=6;case 6:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}isSprayAttack=_r$5.$length>0;_r$6=tool.FilterString(weaponAbility,function(s){var s;return s==="beam";});/* */$s=7;case 7:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}isBeanAttack=_r$6.$length>0;_r$7=tool.FilterString(weaponAbility,function(s){var s;return s==="physic";});/* */$s=8;case 8:if($c){$c=false;_r$7=_r$7.$blk();}if(_r$7&&_r$7.$blk!==undefined){break s;}isPhysicAttack=_r$7.$length>0;_r$8=tool.FilterString(weaponAbility,function(s){var s;return s==="fire";});/* */$s=9;case 9:if($c){$c=false;_r$8=_r$8.$blk();}if(_r$8&&_r$8.$blk!==undefined){break s;}isFireAttack=_r$8.$length>0;_r$9=tool.FilterString(weaponAbility,function(s){var s;return s==="lighting";});/* */$s=10;case 10:if($c){$c=false;_r$9=_r$9.$blk();}if(_r$9&&_r$9.$blk!==undefined){break s;}isLightingAttack=_r$9.$length>0;_r$10=tool.FilterString(weaponAbility,function(s){var s;return s==="missile";});/* */$s=11;case 11:if($c){$c=false;_r$10=_r$10.$blk();}if(_r$10&&_r$10.$blk!==undefined){break s;}isMissileAttack=_r$10.$length>0;_r$11=common.QueryRobotWeaponSuitability($clone(model,types.Model),robot.ID,$clone(weapon,protocol.Weapon),true);/* */$s=12;case 12:if($c){$c=false;_r$11=_r$11.$blk();}if(_r$11&&_r$11.$blk!==undefined){break s;}_tuple$3=_r$11;weaponSuitability=$clone(_tuple$3[0],arrayType$1);err=_tuple$3[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}pos=$clone((_entry=model.App.Gameplay.Positions[$String.keyFor(robot.ID)],_entry!==undefined?_entry.v:arrayType.zero()),protocol.Position);_r$12=helper.QueryTerrain(model.App.Gameplay.Map,terrainCache,$clone(pos,protocol.Position));/* */$s=13;case 13:if($c){$c=false;_r$12=_r$12.$blk();}if(_r$12&&_r$12.$blk!==undefined){break s;}_tuple$4=_r$12;terrain=$clone(_tuple$4[0],data.TerrainProto);err=_tuple$4[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}targetPos=$clone((_entry$1=model.App.Gameplay.Positions[$String.keyFor(targetRobot.ID)],_entry$1!==undefined?_entry$1.v:arrayType.zero()),protocol.Position);_r$13=helper.QueryTerrain(model.App.Gameplay.Map,terrainCache,$clone(targetPos,protocol.Position));/* */$s=14;case 14:if($c){$c=false;_r$13=_r$13.$blk();}if(_r$13&&_r$13.$blk!==undefined){break s;}_tuple$5=_r$13;targetTerrain=$clone(_tuple$5[0],data.TerrainProto);err=_tuple$5[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}robotSky=(_entry$2=model.App.Gameplay.Tags[$String.keyFor(robot.ID)],_entry$2!==undefined?_entry$2.v:new protocol.Tag.ptr(0,false,false)).Sky;targetRobotSky=(_entry$3=model.App.Gameplay.Tags[$String.keyFor(targetRobot.ID)],_entry$3!==undefined?_entry$3.v:new protocol.Tag.ptr(0,false,false)).Sky;targetArmor=0;_r$14=common.QueryRobotArmor($clone(model,types.Model),robot.ID,true);/* */$s=15;case 15:if($c){$c=false;_r$14=_r$14.$blk();}if(_r$14&&_r$14.$blk!==undefined){break s;}_tuple$6=_r$14;targetArmor=_tuple$6[0];err=_tuple$6[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}/* */if(isBeanAttack){$s=17;continue;}/* */if(isPhysicAttack){$s=18;continue;}/* */if(isFireAttack){$s=19;continue;}/* */if(isLightingAttack){$s=20;continue;}/* */if(isMissileAttack){$s=21;continue;}/* */$s=22;continue;/* if (isBeanAttack) { */case 17:_r$15=common.QueryRobotBeamArmor($clone(model,types.Model),robot.ID,true);/* */$s=24;case 24:if($c){$c=false;_r$15=_r$15.$blk();}if(_r$15&&_r$15.$blk!==undefined){break s;}_tuple$7=_r$15;targetArmor=_tuple$7[0];err=_tuple$7[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}$s=23;continue;/* } else if (isPhysicAttack) { */case 18:_r$16=common.QueryRobotArmor($clone(model,types.Model),robot.ID,true);/* */$s=25;case 25:if($c){$c=false;_r$16=_r$16.$blk();}if(_r$16&&_r$16.$blk!==undefined){break s;}_tuple$8=_r$16;targetArmor=_tuple$8[0];err=_tuple$8[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}$s=23;continue;/* } else if (isFireAttack) { */case 19:$s=23;continue;/* } else if (isLightingAttack) { */case 20:$s=23;continue;/* } else if (isMissileAttack) { */case 21:$s=23;continue;/* } else { */case 22:_r$17=fmt.Errorf("[QueryBattleDamage]unknown attack type. weapon(%+v)",new sliceType([new weapon.constructor.elem(weapon)]));/* */$s=26;case 26:if($c){$c=false;_r$17=_r$17.$blk();}if(_r$17&&_r$17.$blk!==undefined){break s;}$s=-1;return[0,_r$17];/* } */case 23:case 16:pilotRangeFactor=1;/* */if(isRangeAttack){$s=28;continue;}/* */if(isMeleeAttack){$s=29;continue;}/* */$s=30;continue;/* if (isRangeAttack) { */case 28:_r$18=common.QueryPilotRange($clone(model,types.Model),robot.ID,pilot.ID,true);/* */$s=32;case 32:if($c){$c=false;_r$18=_r$18.$blk();}if(_r$18&&_r$18.$blk!==undefined){break s;}_tuple$9=_r$18;pilotRange=_tuple$9[0];err$1=_tuple$9[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[0,err$1];}_r$19=common.QueryPilotRange($clone(model,types.Model),targetRobot.ID,targetPilot.ID,true);/* */$s=33;case 33:if($c){$c=false;_r$19=_r$19.$blk();}if(_r$19&&_r$19.$blk!==undefined){break s;}_tuple$10=_r$19;targetPilotRange=_tuple$10[0];err$1=_tuple$10[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[0,err$1];}pilotRangeFactor=pilotRange/targetPilotRange;$s=31;continue;/* } else if (isMeleeAttack) { */case 29:_r$20=common.QueryPilotMelee($clone(model,types.Model),robot.ID,pilot.ID,true);/* */$s=34;case 34:if($c){$c=false;_r$20=_r$20.$blk();}if(_r$20&&_r$20.$blk!==undefined){break s;}_tuple$11=_r$20;pilotMelee=_tuple$11[0];err$2=_tuple$11[1];if(!$interfaceIsEqual(err$2,$ifaceNil)){$s=-1;return[0,err$2];}_r$21=common.QueryPilotMelee($clone(model,types.Model),targetRobot.ID,targetPilot.ID,true);/* */$s=35;case 35:if($c){$c=false;_r$21=_r$21.$blk();}if(_r$21&&_r$21.$blk!==undefined){break s;}_tuple$12=_r$21;targetPilotMelee=_tuple$12[0];err$2=_tuple$12[1];if(!$interfaceIsEqual(err$2,$ifaceNil)){$s=-1;return[0,err$2];}pilotRangeFactor=pilotMelee/targetPilotMelee;$s=31;continue;/* } else { */case 30:_r$22=fmt.Errorf("[QueryBattleDamage]unknown attack type(melee or range). weapon(%+v)",new sliceType([new weapon.constructor.elem(weapon)]));/* */$s=36;case 36:if($c){$c=false;_r$22=_r$22.$blk();}if(_r$22&&_r$22.$blk!==undefined){break s;}$s=-1;return[0,_r$22];/* } */case 31:case 27:pilotAtkFactor=1;_r$23=common.QueryPilotAtk($clone(model,types.Model),robot.ID,pilot.ID,true);/* */$s=37;case 37:if($c){$c=false;_r$23=_r$23.$blk();}if(_r$23&&_r$23.$blk!==undefined){break s;}_tuple$13=_r$23;pilotAtk=_tuple$13[0];err$3=_tuple$13[1];if(!$interfaceIsEqual(err$3,$ifaceNil)){$s=-1;return[0,err$3];}_r$24=common.QueryPilotGuard($clone(model,types.Model),targetRobot.ID,targetPilot.ID,true);/* */$s=38;case 38:if($c){$c=false;_r$24=_r$24.$blk();}if(_r$24&&_r$24.$blk!==undefined){break s;}_tuple$14=_r$24;pilotGuard=_tuple$14[0];err$3=_tuple$14[1];if(!$interfaceIsEqual(err$3,$ifaceNil)){$s=-1;return[0,err$3];}pilotAtkFactor=pilotAtk/pilotGuard;robotSuitabilityFactor=1;if(robotSky){robotSuitabilityFactor=robotSuitability[2];}else{factor=new mgl64.Vec2($toNativeArray($kindFloat64,[robotSuitability[0],robotSuitability[1]])).Dot($toNativeArray($kindFloat64,[terrain.Cost[0],terrain.Cost[1]]));robotSuitabilityFactor=factor;}robotSuitabilityFactor=robotSuitabilityFactor+(1-robotSuitabilityFactor)/1.1;weaponSuitabilityFactor=1;if(targetRobotSky){weaponSuitabilityFactor=weaponSuitability[2];}else if(isFireAttack&&targetTerrain.ID==="forest"){}else if(isLightingAttack&&targetTerrain.ID==="shallowSea"){}else if(isLightingAttack&&targetTerrain.ID==="deepSea"){}else{factor$1=new mgl64.Vec2($toNativeArray($kindFloat64,[weaponSuitability[0],weaponSuitability[1]])).Dot($toNativeArray($kindFloat64,[targetTerrain.Cost[0],targetTerrain.Cost[1]]));weaponSuitabilityFactor=factor$1;}basicDamage=weaponProto.Damage-targetArmor>>0;finalDamage=basicDamage*pilotRangeFactor*pilotAtkFactor*robotSuitabilityFactor*weaponSuitabilityFactor;_arg=protocol.LogCategoryDetail;_r$25=fmt.Sprintf("basicDamage(%v) = weapon.Damage(%v) - targetArmor(%v)",new sliceType([new $Int(basicDamage),new $Int(weapon.Damage),new $Int(targetArmor)]));/* */$s=39;case 39:if($c){$c=false;_r$25=_r$25.$blk();}if(_r$25&&_r$25.$blk!==undefined){break s;}_arg$1=_r$25;$r=log.Log(_arg,"QueryBattleDamage",_arg$1);/* */$s=40;case 40:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}_arg$2=protocol.LogCategoryDetail;_r$26=fmt.Sprintf("finalDamage(%v) = basicDamage(%v) * pilotRangeFactor(%v) * pilotAtkFactor(%v) *  robotSuitabilityFactor(%v) * weaponSuitabilityFactor(%v)",new sliceType([new $Float64(finalDamage),new $Int(basicDamage),new $Float64(pilotRangeFactor),new $Float64(pilotAtkFactor),new $Float64(robotSuitabilityFactor),new $Float64(weaponSuitabilityFactor)]));/* */$s=41;case 41:if($c){$c=false;_r$26=_r$26.$blk();}if(_r$26&&_r$26.$blk!==undefined){break s;}_arg$3=_r$26;$r=log.Log(_arg$2,"QueryBattleDamage",_arg$3);/* */$s=42;case 42:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* */if(isSprayAttack){$s=43;continue;}/* */$s=44;continue;/* if (isSprayAttack) { */case 43:_r$27=QueryBattleHitRate($clone(model,types.Model),$clone(robot,protocol.Robot),$clone(pilot,protocol.Pilot),$clone(weapon,protocol.Weapon),$clone(targetRobot,protocol.Robot),$clone(targetPilot,protocol.Pilot),new QueryBattleHitRateOptions.ptr(true));/* */$s=45;case 45:if($c){$c=false;_r$27=_r$27.$blk();}if(_r$27&&_r$27.$blk!==undefined){break s;}_tuple$15=_r$27;hitRate=_tuple$15[0];err$4=_tuple$15[1];if(!$interfaceIsEqual(err$4,$ifaceNil)){$s=-1;return[0,err$4];}finalDamage=finalDamage*hitRate;_arg$4=protocol.LogCategoryDetail;_r$28=fmt.Sprintf("finalDamage(%v) after spray effect(%v)",new sliceType([new $Float64(finalDamage),new $Float64(hitRate)]));/* */$s=46;case 46:if($c){$c=false;_r$28=_r$28.$blk();}if(_r$28&&_r$28.$blk!==undefined){break s;}_arg$5=_r$28;$r=log.Log(_arg$4,"QueryBattleDamage",_arg$5);/* */$s=47;case 47:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 44:$s=-1;return[math.Max(0,finalDamage)>>0,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:QueryBattleDamage};}$f._arg=_arg;$f._arg$1=_arg$1;$f._arg$2=_arg$2;$f._arg$3=_arg$3;$f._arg$4=_arg$4;$f._arg$5=_arg$5;$f._entry=_entry;$f._entry$1=_entry$1;$f._entry$2=_entry$2;$f._entry$3=_entry$3;$f._r=_r;$f._r$1=_r$1;$f._r$10=_r$10;$f._r$11=_r$11;$f._r$12=_r$12;$f._r$13=_r$13;$f._r$14=_r$14;$f._r$15=_r$15;$f._r$16=_r$16;$f._r$17=_r$17;$f._r$18=_r$18;$f._r$19=_r$19;$f._r$2=_r$2;$f._r$20=_r$20;$f._r$21=_r$21;$f._r$22=_r$22;$f._r$23=_r$23;$f._r$24=_r$24;$f._r$25=_r$25;$f._r$26=_r$26;$f._r$27=_r$27;$f._r$28=_r$28;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._r$7=_r$7;$f._r$8=_r$8;$f._r$9=_r$9;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$10=_tuple$10;$f._tuple$11=_tuple$11;$f._tuple$12=_tuple$12;$f._tuple$13=_tuple$13;$f._tuple$14=_tuple$14;$f._tuple$15=_tuple$15;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f._tuple$4=_tuple$4;$f._tuple$5=_tuple$5;$f._tuple$6=_tuple$6;$f._tuple$7=_tuple$7;$f._tuple$8=_tuple$8;$f._tuple$9=_tuple$9;$f.basicDamage=basicDamage;$f.err=err;$f.err$1=err$1;$f.err$2=err$2;$f.err$3=err$3;$f.err$4=err$4;$f.factor=factor;$f.factor$1=factor$1;$f.finalDamage=finalDamage;$f.hitRate=hitRate;$f.isBeanAttack=isBeanAttack;$f.isFireAttack=isFireAttack;$f.isLightingAttack=isLightingAttack;$f.isMeleeAttack=isMeleeAttack;$f.isMissileAttack=isMissileAttack;$f.isPhysicAttack=isPhysicAttack;$f.isRangeAttack=isRangeAttack;$f.isSprayAttack=isSprayAttack;$f.model=model;$f.pilot=pilot;$f.pilotAtk=pilotAtk;$f.pilotAtkFactor=pilotAtkFactor;$f.pilotGuard=pilotGuard;$f.pilotMelee=pilotMelee;$f.pilotRange=pilotRange;$f.pilotRangeFactor=pilotRangeFactor;$f.pos=pos;$f.robot=robot;$f.robotSky=robotSky;$f.robotSuitability=robotSuitability;$f.robotSuitabilityFactor=robotSuitabilityFactor;$f.targetArmor=targetArmor;$f.targetPilot=targetPilot;$f.targetPilotMelee=targetPilotMelee;$f.targetPilotRange=targetPilotRange;$f.targetPos=targetPos;$f.targetRobot=targetRobot;$f.targetRobotSky=targetRobotSky;$f.targetTerrain=targetTerrain;$f.terrain=terrain;$f.weapon=weapon;$f.weaponAbility=weaponAbility;$f.weaponProto=weaponProto;$f.weaponSuitability=weaponSuitability;$f.weaponSuitabilityFactor=weaponSuitabilityFactor;$f.$s=$s;$f.$r=$r;return $f;};$pkg.QueryBattleDamage=QueryBattleDamage;QueryBattleHitRate=function(model,robot,pilot,weapon,targetRobot,targetPilot,options){var _arg,_arg$1,_entry,_entry$1,_entry$2,_entry$3,_r,_r$1,_r$10,_r$11,_r$12,_r$13,_r$14,_r$15,_r$16,_r$17,_r$18,_r$19,_r$2,_r$20,_r$3,_r$4,_r$5,_r$6,_r$7,_r$8,_r$9,_tuple,_tuple$1,_tuple$10,_tuple$11,_tuple$12,_tuple$2,_tuple$3,_tuple$4,_tuple$5,_tuple$6,_tuple$7,_tuple$8,_tuple$9,basic,err,err$1,err$2,err$3,err$4,factor,factor$1,final$1,isFireAttack,isLightingAttack,isMeleeAttack,isMissileAttack,isRangeAttack,isSprayAttack,model,options,pilot,pilotHitRateFactor,pilotMelee,pilotRange,pilotRangeFactor,pos,powerFactor,robot,robotPower,robotSky,robotSuitability,robotSuitabilityFactor,targetPilot,targetPilotEvade,targetPilotMelee,targetPilotRange,targetPos,targetPower,targetRobot,targetRobotSky,targetTerrain,terrain,weapon,weaponAbility,weaponSuitability,weaponSuitabilityFactor,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_arg=$f._arg;_arg$1=$f._arg$1;_entry=$f._entry;_entry$1=$f._entry$1;_entry$2=$f._entry$2;_entry$3=$f._entry$3;_r=$f._r;_r$1=$f._r$1;_r$10=$f._r$10;_r$11=$f._r$11;_r$12=$f._r$12;_r$13=$f._r$13;_r$14=$f._r$14;_r$15=$f._r$15;_r$16=$f._r$16;_r$17=$f._r$17;_r$18=$f._r$18;_r$19=$f._r$19;_r$2=$f._r$2;_r$20=$f._r$20;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_r$7=$f._r$7;_r$8=$f._r$8;_r$9=$f._r$9;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$10=$f._tuple$10;_tuple$11=$f._tuple$11;_tuple$12=$f._tuple$12;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;_tuple$4=$f._tuple$4;_tuple$5=$f._tuple$5;_tuple$6=$f._tuple$6;_tuple$7=$f._tuple$7;_tuple$8=$f._tuple$8;_tuple$9=$f._tuple$9;basic=$f.basic;err=$f.err;err$1=$f.err$1;err$2=$f.err$2;err$3=$f.err$3;err$4=$f.err$4;factor=$f.factor;factor$1=$f.factor$1;final$1=$f.final$1;isFireAttack=$f.isFireAttack;isLightingAttack=$f.isLightingAttack;isMeleeAttack=$f.isMeleeAttack;isMissileAttack=$f.isMissileAttack;isRangeAttack=$f.isRangeAttack;isSprayAttack=$f.isSprayAttack;model=$f.model;options=$f.options;pilot=$f.pilot;pilotHitRateFactor=$f.pilotHitRateFactor;pilotMelee=$f.pilotMelee;pilotRange=$f.pilotRange;pilotRangeFactor=$f.pilotRangeFactor;pos=$f.pos;powerFactor=$f.powerFactor;robot=$f.robot;robotPower=$f.robotPower;robotSky=$f.robotSky;robotSuitability=$f.robotSuitability;robotSuitabilityFactor=$f.robotSuitabilityFactor;targetPilot=$f.targetPilot;targetPilotEvade=$f.targetPilotEvade;targetPilotMelee=$f.targetPilotMelee;targetPilotRange=$f.targetPilotRange;targetPos=$f.targetPos;targetPower=$f.targetPower;targetRobot=$f.targetRobot;targetRobotSky=$f.targetRobotSky;targetTerrain=$f.targetTerrain;terrain=$f.terrain;weapon=$f.weapon;weaponAbility=$f.weaponAbility;weaponSuitability=$f.weaponSuitability;weaponSuitabilityFactor=$f.weaponSuitabilityFactor;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=log.Log(protocol.LogCategoryPhase,"QueryBattleHitRate","start");/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}err=$ifaceNil;_r=common.QueryRobotSuitability($clone(model,types.Model),robot.ID,true);/* */$s=2;case 2:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;robotSuitability=$clone(_tuple[0],arrayType$1);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}_r$1=common.QueryRobotWeaponAbility($clone(model,types.Model),robot.ID,$clone(weapon,protocol.Weapon),true);/* */$s=3;case 3:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$1=_r$1;weaponAbility=_tuple$1[0];err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}_r$2=tool.FilterString(weaponAbility,function(s){var s;return s==="range";});/* */$s=4;case 4:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}isRangeAttack=_r$2.$length>0;_r$3=tool.FilterString(weaponAbility,function(s){var s;return s==="melee";});/* */$s=5;case 5:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}isMeleeAttack=_r$3.$length>0;_r$4=tool.FilterString(weaponAbility,function(s){var s;return s==="spray";});/* */$s=6;case 6:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}isSprayAttack=_r$4.$length>0;_r$5=tool.FilterString(weaponAbility,function(s){var s;return s==="fire";});/* */$s=7;case 7:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}isFireAttack=_r$5.$length>0;_r$6=tool.FilterString(weaponAbility,function(s){var s;return s==="lighting";});/* */$s=8;case 8:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}isLightingAttack=_r$6.$length>0;_r$7=tool.FilterString(weaponAbility,function(s){var s;return s==="missile";});/* */$s=9;case 9:if($c){$c=false;_r$7=_r$7.$blk();}if(_r$7&&_r$7.$blk!==undefined){break s;}isMissileAttack=_r$7.$length>0;if(options.IgnoreSprayAttack===false){if(isSprayAttack){$s=-1;return[1,$ifaceNil];}}_r$8=common.QueryRobotWeaponSuitability($clone(model,types.Model),robot.ID,$clone(weapon,protocol.Weapon),true);/* */$s=10;case 10:if($c){$c=false;_r$8=_r$8.$blk();}if(_r$8&&_r$8.$blk!==undefined){break s;}_tuple$2=_r$8;weaponSuitability=$clone(_tuple$2[0],arrayType$1);err=_tuple$2[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}pos=$clone((_entry=model.App.Gameplay.Positions[$String.keyFor(robot.ID)],_entry!==undefined?_entry.v:arrayType.zero()),protocol.Position);_r$9=helper.QueryTerrain(model.App.Gameplay.Map,terrainCache,$clone(pos,protocol.Position));/* */$s=11;case 11:if($c){$c=false;_r$9=_r$9.$blk();}if(_r$9&&_r$9.$blk!==undefined){break s;}_tuple$3=_r$9;terrain=$clone(_tuple$3[0],data.TerrainProto);err=_tuple$3[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}targetPos=$clone((_entry$1=model.App.Gameplay.Positions[$String.keyFor(targetRobot.ID)],_entry$1!==undefined?_entry$1.v:arrayType.zero()),protocol.Position);_r$10=helper.QueryTerrain(model.App.Gameplay.Map,terrainCache,$clone(targetPos,protocol.Position));/* */$s=12;case 12:if($c){$c=false;_r$10=_r$10.$blk();}if(_r$10&&_r$10.$blk!==undefined){break s;}_tuple$4=_r$10;targetTerrain=$clone(_tuple$4[0],data.TerrainProto);err=_tuple$4[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}robotSky=(_entry$2=model.App.Gameplay.Tags[$String.keyFor(robot.ID)],_entry$2!==undefined?_entry$2.v:new protocol.Tag.ptr(0,false,false)).Sky;targetRobotSky=(_entry$3=model.App.Gameplay.Tags[$String.keyFor(targetRobot.ID)],_entry$3!==undefined?_entry$3.v:new protocol.Tag.ptr(0,false,false)).Sky;powerFactor=1;_r$11=common.QueryRobotMovePower($clone(model,types.Model),robot.ID,true);/* */$s=13;case 13:if($c){$c=false;_r$11=_r$11.$blk();}if(_r$11&&_r$11.$blk!==undefined){break s;}_tuple$5=_r$11;robotPower=_tuple$5[0];err$1=_tuple$5[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[0,err$1];}_r$12=common.QueryRobotMovePower($clone(model,types.Model),targetRobot.ID,true);/* */$s=14;case 14:if($c){$c=false;_r$12=_r$12.$blk();}if(_r$12&&_r$12.$blk!==undefined){break s;}_tuple$6=_r$12;targetPower=_tuple$6[0];err$1=_tuple$6[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[0,err$1];}if(isMissileAttack){}else{powerFactor=(robotPower+20)/(targetPower+20);}pilotRangeFactor=1;pilotHitRateFactor=1;_r$13=common.QueryPilotEvade($clone(model,types.Model),targetRobot.ID,targetPilot.ID,true);/* */$s=15;case 15:if($c){$c=false;_r$13=_r$13.$blk();}if(_r$13&&_r$13.$blk!==undefined){break s;}_tuple$7=_r$13;targetPilotEvade=_tuple$7[0];err$2=_tuple$7[1];if(!$interfaceIsEqual(err$2,$ifaceNil)){$s=-1;return[0,err$2];}/* */if(isRangeAttack){$s=17;continue;}/* */if(isMeleeAttack){$s=18;continue;}/* */$s=19;continue;/* if (isRangeAttack) { */case 17:_r$14=common.QueryPilotRange($clone(model,types.Model),robot.ID,pilot.ID,true);/* */$s=21;case 21:if($c){$c=false;_r$14=_r$14.$blk();}if(_r$14&&_r$14.$blk!==undefined){break s;}_tuple$8=_r$14;pilotRange=_tuple$8[0];err$3=_tuple$8[1];if(!$interfaceIsEqual(err$3,$ifaceNil)){$s=-1;return[0,err$3];}_r$15=common.QueryPilotRange($clone(model,types.Model),targetRobot.ID,targetPilot.ID,true);/* */$s=22;case 22:if($c){$c=false;_r$15=_r$15.$blk();}if(_r$15&&_r$15.$blk!==undefined){break s;}_tuple$9=_r$15;targetPilotRange=_tuple$9[0];err$3=_tuple$9[1];if(!$interfaceIsEqual(err$3,$ifaceNil)){$s=-1;return[0,err$3];}pilotRangeFactor=pilotRange/targetPilotRange;pilotHitRateFactor=pilotRange/targetPilotEvade;$s=20;continue;/* } else if (isMeleeAttack) { */case 18:_r$16=common.QueryPilotMelee($clone(model,types.Model),robot.ID,pilot.ID,true);/* */$s=23;case 23:if($c){$c=false;_r$16=_r$16.$blk();}if(_r$16&&_r$16.$blk!==undefined){break s;}_tuple$10=_r$16;pilotMelee=_tuple$10[0];err$4=_tuple$10[1];if(!$interfaceIsEqual(err$4,$ifaceNil)){$s=-1;return[0,err$4];}_r$17=common.QueryPilotMelee($clone(model,types.Model),targetRobot.ID,targetPilot.ID,true);/* */$s=24;case 24:if($c){$c=false;_r$17=_r$17.$blk();}if(_r$17&&_r$17.$blk!==undefined){break s;}_tuple$11=_r$17;targetPilotMelee=_tuple$11[0];err$4=_tuple$11[1];if(!$interfaceIsEqual(err$4,$ifaceNil)){$s=-1;return[0,err$4];}pilotRangeFactor=pilotMelee/targetPilotMelee;pilotHitRateFactor=pilotMelee/targetPilotEvade;$s=20;continue;/* } else { */case 19:_r$18=fmt.Errorf("[QueryBattleDamage]unknown attack type(melee or range). weapon(%+v)",new sliceType([new weapon.constructor.elem(weapon)]));/* */$s=25;case 25:if($c){$c=false;_r$18=_r$18.$blk();}if(_r$18&&_r$18.$blk!==undefined){break s;}$s=-1;return[0,_r$18];/* } */case 20:case 16:pilotRangeFactor=pilotRangeFactor+(1-pilotRangeFactor)/3;robotSuitabilityFactor=1;if(robotSky){robotSuitabilityFactor=robotSuitability[2];}else{factor=new mgl64.Vec2($toNativeArray($kindFloat64,[robotSuitability[0],robotSuitability[1]])).Dot($toNativeArray($kindFloat64,[terrain.Cost[0],terrain.Cost[1]]));robotSuitabilityFactor=factor;}robotSuitabilityFactor=robotSuitabilityFactor+(1-robotSuitabilityFactor)/1.1;weaponSuitabilityFactor=1;if(targetRobotSky){weaponSuitabilityFactor=weaponSuitability[2];}else if(isFireAttack&&targetTerrain.ID==="forest"){}else if(isLightingAttack&&targetTerrain.ID==="shallowSea"){}else if(isLightingAttack&&targetTerrain.ID==="deepSea"){}else{factor$1=new mgl64.Vec2($toNativeArray($kindFloat64,[weaponSuitability[0],weaponSuitability[1]])).Dot($toNativeArray($kindFloat64,[targetTerrain.Cost[0],targetTerrain.Cost[1]]));weaponSuitabilityFactor=factor$1;}weaponSuitabilityFactor=weaponSuitabilityFactor+(1-weaponSuitabilityFactor)/2;_r$19=common.QueryRobotWeaponAccuracy($clone(model,types.Model),robot.ID,$clone(weapon,protocol.Weapon),true);/* */$s=26;case 26:if($c){$c=false;_r$19=_r$19.$blk();}if(_r$19&&_r$19.$blk!==undefined){break s;}_tuple$12=_r$19;basic=_tuple$12[0];err=_tuple$12[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[0,err];}basic=basic+0.25;final$1=basic*powerFactor*pilotRangeFactor*robotSuitabilityFactor*weaponSuitabilityFactor*pilotHitRateFactor;_arg=protocol.LogCategoryDetail;_r$20=fmt.Sprintf("final(%v) = basic(%v) * powerFactor(%v) * pilotRangeFactor(%v) * robotSuitabilityFactor(%v) * weaponSuitabilityFactor(%v) * pilotHitRateFactor(%v)",new sliceType([new $Float64(final$1),new $Float64(basic),new $Float64(powerFactor),new $Float64(pilotRangeFactor),new $Float64(robotSuitabilityFactor),new $Float64(weaponSuitabilityFactor),new $Float64(pilotHitRateFactor)]));/* */$s=27;case 27:if($c){$c=false;_r$20=_r$20.$blk();}if(_r$20&&_r$20.$blk!==undefined){break s;}_arg$1=_r$20;$r=log.Log(_arg,"QueryBattleHitRate",_arg$1);/* */$s=28;case 28:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=log.Log(protocol.LogCategoryPhase,"QueryBattleHitRate","end");/* */$s=29;case 29:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return[final$1,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:QueryBattleHitRate};}$f._arg=_arg;$f._arg$1=_arg$1;$f._entry=_entry;$f._entry$1=_entry$1;$f._entry$2=_entry$2;$f._entry$3=_entry$3;$f._r=_r;$f._r$1=_r$1;$f._r$10=_r$10;$f._r$11=_r$11;$f._r$12=_r$12;$f._r$13=_r$13;$f._r$14=_r$14;$f._r$15=_r$15;$f._r$16=_r$16;$f._r$17=_r$17;$f._r$18=_r$18;$f._r$19=_r$19;$f._r$2=_r$2;$f._r$20=_r$20;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._r$7=_r$7;$f._r$8=_r$8;$f._r$9=_r$9;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$10=_tuple$10;$f._tuple$11=_tuple$11;$f._tuple$12=_tuple$12;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f._tuple$4=_tuple$4;$f._tuple$5=_tuple$5;$f._tuple$6=_tuple$6;$f._tuple$7=_tuple$7;$f._tuple$8=_tuple$8;$f._tuple$9=_tuple$9;$f.basic=basic;$f.err=err;$f.err$1=err$1;$f.err$2=err$2;$f.err$3=err$3;$f.err$4=err$4;$f.factor=factor;$f.factor$1=factor$1;$f.final$1=final$1;$f.isFireAttack=isFireAttack;$f.isLightingAttack=isLightingAttack;$f.isMeleeAttack=isMeleeAttack;$f.isMissileAttack=isMissileAttack;$f.isRangeAttack=isRangeAttack;$f.isSprayAttack=isSprayAttack;$f.model=model;$f.options=options;$f.pilot=pilot;$f.pilotHitRateFactor=pilotHitRateFactor;$f.pilotMelee=pilotMelee;$f.pilotRange=pilotRange;$f.pilotRangeFactor=pilotRangeFactor;$f.pos=pos;$f.powerFactor=powerFactor;$f.robot=robot;$f.robotPower=robotPower;$f.robotSky=robotSky;$f.robotSuitability=robotSuitability;$f.robotSuitabilityFactor=robotSuitabilityFactor;$f.targetPilot=targetPilot;$f.targetPilotEvade=targetPilotEvade;$f.targetPilotMelee=targetPilotMelee;$f.targetPilotRange=targetPilotRange;$f.targetPos=targetPos;$f.targetPower=targetPower;$f.targetRobot=targetRobot;$f.targetRobotSky=targetRobotSky;$f.targetTerrain=targetTerrain;$f.terrain=terrain;$f.weapon=weapon;$f.weaponAbility=weaponAbility;$f.weaponSuitability=weaponSuitability;$f.weaponSuitabilityFactor=weaponSuitabilityFactor;$f.$s=$s;$f.$r=$r;return $f;};$pkg.QueryBattleHitRate=QueryBattleHitRate;ByAstarNodeEstimatedCost.prototype.Len=function(){var a;a=this;return a.$length;};$ptrType(ByAstarNodeEstimatedCost).prototype.Len=function(){return this.$get().Len();};ByAstarNodeEstimatedCost.prototype.Swap=function(i,j){var _tmp,_tmp$1,a,i,j;a=this;_tmp=j<0||j>=a.$length?($throwRuntimeError("index out of range"),undefined):a.$array[a.$offset+j];_tmp$1=i<0||i>=a.$length?($throwRuntimeError("index out of range"),undefined):a.$array[a.$offset+i];i<0||i>=a.$length?($throwRuntimeError("index out of range"),undefined):a.$array[a.$offset+i]=_tmp;j<0||j>=a.$length?($throwRuntimeError("index out of range"),undefined):a.$array[a.$offset+j]=_tmp$1;};$ptrType(ByAstarNodeEstimatedCost).prototype.Swap=function(i,j){return this.$get().Swap(i,j);};ByAstarNodeEstimatedCost.prototype.Less=function(i,j){var a,i,j;a=this;return(i<0||i>=a.$length?($throwRuntimeError("index out of range"),undefined):a.$array[a.$offset+i]).Rank-(i<0||i>=a.$length?($throwRuntimeError("index out of range"),undefined):a.$array[a.$offset+i]).Cost<(j<0||j>=a.$length?($throwRuntimeError("index out of range"),undefined):a.$array[a.$offset+j]).Rank-(j<0||j>=a.$length?($throwRuntimeError("index out of range"),undefined):a.$array[a.$offset+j]).Cost;};$ptrType(ByAstarNodeEstimatedCost).prototype.Less=function(i,j){return this.$get().Less(i,j);};QueryFastestMovePosition=function(model,weightMap,robotID,target){var _entry,_entry$1,_i,_keys,_r,_r$1,_r$2,_r$3,_r$4,_ref,_tuple,_tuple$1,_tuple$2,_tuple$3,costFn,err,i,model,mostPos,movePower,node,nodes,notFound,originPos,path,pos,robotID,target,tree,unitAtPos,weightMap,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_entry$1=$f._entry$1;_i=$f._i;_keys=$f._keys;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_ref=$f._ref;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;costFn=$f.costFn;err=$f.err;i=$f.i;model=$f.model;mostPos=$f.mostPos;movePower=$f.movePower;node=$f.node;nodes=$f.nodes;notFound=$f.notFound;originPos=$f.originPos;path=$f.path;pos=$f.pos;robotID=$f.robotID;target=$f.target;tree=$f.tree;unitAtPos=$f.unitAtPos;weightMap=$f.weightMap;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:target=[target];weightMap=[weightMap];_r=protocol.TryGetStringPosition(model.App.Gameplay.Positions,robotID);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;originPos=$clone(_tuple[0],protocol.Position);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[false,arrayType.zero(),false,err];}if($equal(originPos,target[0],protocol.Position)){$s=-1;return[false,arrayType.zero(),false,err];}_r$1=common.QueryRobotMovePower($clone(model,types.Model),robotID,true);/* */$s=2;case 2:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$1=_r$1;movePower=_tuple$1[0];err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[false,arrayType.zero(),false,err];}_r$2=common.RobotMoveCost($clone(model,types.Model),robotID,999999,false);/* */$s=3;case 3:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$2=_r$2;costFn=_tuple$2[0];err=_tuple$2[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[false,arrayType.zero(),false,err];}_r$3=astar.ShortedPathTree(new protocol.Position(originPos),function(target,weightMap){return function(curr){var curr,currPos;currPos=$clone($assertType(curr.Pather,protocol.Position),protocol.Position);return $equal(currPos,target[0],protocol.Position);};}(target,weightMap),costFn,function(target,weightMap){return function(curr){var _tmp,_tmp$1,curr,currPos,ox,oy,targetCost,weightCost,x;currPos=$clone($assertType(curr.Pather,protocol.Position),protocol.Position);_tmp=target[0][0]-currPos[0]>>0;_tmp$1=target[0][1]-currPos[1]>>0;ox=_tmp;oy=_tmp$1;targetCost=$imul(ox,ox)+$imul(oy,oy)>>0;weightCost=0;if(!(weightMap[0]===sliceType$8.nil)){if(ox>=0&&ox<(0>=weightMap[0].$length?($throwRuntimeError("index out of range"),undefined):weightMap[0].$array[weightMap[0].$offset+0]).$length){if(oy>=0&&oy<weightMap[0].$length){weightCost=(x=oy<0||oy>=weightMap[0].$length?($throwRuntimeError("index out of range"),undefined):weightMap[0].$array[weightMap[0].$offset+oy],ox<0||ox>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+ox]);}}}return targetCost+weightCost;};}(target,weightMap));/* */$s=4;case 4:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_tuple$3=_r$3;tree=_tuple$3[0];nodes=new sliceType$9([]);_ref=tree;_i=0;_keys=$keys(_ref);while(true){if(!(_i<_keys.length)){break;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;continue;}node=_entry.v;nodes=$append(nodes,node);_i++;}if(nodes.$length===0){$s=-1;return[false,originPos,false,$ifaceNil];}$r=sort.Sort($subslice(new ByAstarNodeEstimatedCost(nodes.$array),nodes.$offset,nodes.$offset+nodes.$length));/* */$s=5;case 5:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}mostPos=$clone($assertType((0>=nodes.$length?($throwRuntimeError("index out of range"),undefined):nodes.$array[nodes.$offset+0]).Pather,protocol.Position),protocol.Position);_r$4=helper.MoveRangeTree2Path(tree,$clone(mostPos,protocol.Position));/* */$s=6;case 6:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}path=_r$4;i=path.$length-1>>0;while(true){if(!(i>=0)){break;}pos=$clone(i<0||i>=path.$length?($throwRuntimeError("index out of range"),undefined):path.$array[path.$offset+i],protocol.Position);if((_entry$1=tree[$emptyInterface.keyFor(new protocol.Position(pos))],_entry$1!==undefined?_entry$1.v:ptrType.nil).Cost>movePower){i=i-1>>0;continue;}notFound="";unitAtPos=common.SearchUnitByPosition(model.App.Gameplay.Positions,$clone(pos,protocol.Position));if(unitAtPos===notFound){$s=-1;return[true,pos,tree,$ifaceNil];}if($equal(pos,originPos,protocol.Position)){break;}i=i-1>>0;}$s=-1;return[false,originPos,false,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:QueryFastestMovePosition};}$f._entry=_entry;$f._entry$1=_entry$1;$f._i=_i;$f._keys=_keys;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._ref=_ref;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f.costFn=costFn;$f.err=err;$f.i=i;$f.model=model;$f.mostPos=mostPos;$f.movePower=movePower;$f.node=node;$f.nodes=nodes;$f.notFound=notFound;$f.originPos=originPos;$f.path=path;$f.pos=pos;$f.robotID=robotID;$f.target=target;$f.tree=tree;$f.unitAtPos=unitAtPos;$f.weightMap=weightMap;$f.$s=$s;$f.$r=$r;return $f;};$pkg.QueryFastestMovePosition=QueryFastestMovePosition;QueryMoveRangeTree=function(model,robotID){var _r,_r$1,_r$2,_r$3,_tuple,_tuple$1,_tuple$2,_tuple$3,costFn,err,model,movePower,pos,robotID,tree,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;costFn=$f.costFn;err=$f.err;model=$f.model;movePower=$f.movePower;pos=$f.pos;robotID=$f.robotID;tree=$f.tree;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=protocol.TryGetStringPosition(model.App.Gameplay.Positions,robotID);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;pos=$clone(_tuple[0],protocol.Position);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[false,err];}_r$1=common.QueryRobotMovePower($clone(model,types.Model),robotID,true);/* */$s=2;case 2:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$1=_r$1;movePower=_tuple$1[0];err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[false,err];}_r$2=common.RobotMoveCost($clone(model,types.Model),robotID,movePower,false);/* */$s=3;case 3:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$2=_r$2;costFn=_tuple$2[0];err=_tuple$2[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[false,err];}_r$3=astar.ShortedPathTree(new protocol.Position(pos),function(curr){var curr;return false;},costFn,function(curr){var curr;return 1;});/* */$s=4;case 4:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_tuple$3=_r$3;tree=_tuple$3[0];$s=-1;return[tree,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:QueryMoveRangeTree};}$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f.costFn=costFn;$f.err=err;$f.model=model;$f.movePower=movePower;$f.pos=pos;$f.robotID=robotID;$f.tree=tree;$f.$s=$s;$f.$r=$r;return $f;};$pkg.QueryMoveRangeTree=QueryMoveRangeTree;QueryPotentialTarget=function(model,robotID,transform,weapons,canMove){var _arg,_arg$1,_arg$2,_arg$3,_arg$4,_arg$5,_entry,_entry$1,_i,_i$1,_i$2,_i$3,_key,_keys,_keys$1,_r,_r$1,_r$2,_r$3,_r$4,_r$5,_r$6,_r$7,_r$8,_r$9,_ref,_ref$1,_ref$2,_ref$3,_tuple,_tuple$1,_tuple$2,_tuple$3,_tuple$4,_tuple$5,_tuple$6,attackPos,attackPosWithCenter,attackRange,attackRangeWithCenter,canMove,err,err$1,err$2,err$3,isFriendly,leftTopPos,model,overlayRange,ret,rightBottomPos,robot,robotID,robotPos,robots,selfMoveRange,selfPos,targetRobot,targetRobotID,transform,tree,unitID,units,weapon,weapons,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_arg=$f._arg;_arg$1=$f._arg$1;_arg$2=$f._arg$2;_arg$3=$f._arg$3;_arg$4=$f._arg$4;_arg$5=$f._arg$5;_entry=$f._entry;_entry$1=$f._entry$1;_i=$f._i;_i$1=$f._i$1;_i$2=$f._i$2;_i$3=$f._i$3;_key=$f._key;_keys=$f._keys;_keys$1=$f._keys$1;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_r$7=$f._r$7;_r$8=$f._r$8;_r$9=$f._r$9;_ref=$f._ref;_ref$1=$f._ref$1;_ref$2=$f._ref$2;_ref$3=$f._ref$3;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;_tuple$4=$f._tuple$4;_tuple$5=$f._tuple$5;_tuple$6=$f._tuple$6;attackPos=$f.attackPos;attackPosWithCenter=$f.attackPosWithCenter;attackRange=$f.attackRange;attackRangeWithCenter=$f.attackRangeWithCenter;canMove=$f.canMove;err=$f.err;err$1=$f.err$1;err$2=$f.err$2;err$3=$f.err$3;isFriendly=$f.isFriendly;leftTopPos=$f.leftTopPos;model=$f.model;overlayRange=$f.overlayRange;ret=$f.ret;rightBottomPos=$f.rightBottomPos;robot=$f.robot;robotID=$f.robotID;robotPos=$f.robotPos;robots=$f.robots;selfMoveRange=$f.selfMoveRange;selfPos=$f.selfPos;targetRobot=$f.targetRobot;targetRobotID=$f.targetRobotID;transform=$f.transform;tree=$f.tree;unitID=$f.unitID;units=$f.units;weapon=$f.weapon;weapons=$f.weapons;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=protocol.TryGetStringRobot(model.App.Gameplay.Robots,robotID);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;robot=$clone(_tuple[0],protocol.Robot);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[sliceType$10.nil,err];}_r$1=protocol.TryGetStringPosition(model.App.Gameplay.Positions,robotID);/* */$s=2;case 2:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$1=_r$1;selfPos=$clone(_tuple$1[0],protocol.Position);err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[sliceType$10.nil,err];}leftTopPos=$toNativeArray($kindInt,[selfPos[0]-20>>0,selfPos[1]-20>>0]);rightBottomPos=$toNativeArray($kindInt,[selfPos[0]+20>>0,selfPos[1]+20>>0]);units=common.SearchUnitByRegion(model.App.Gameplay.Positions,$clone(leftTopPos,protocol.Position),$clone(rightBottomPos,protocol.Position));if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[sliceType$10.nil,err];}_arg=protocol.LogCategoryDetail;_r$2=fmt.Sprintf("units(%v)",new sliceType([units]));/* */$s=3;case 3:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_arg$1=_r$2;$r=log.Log(_arg,"QueryPotentialTarget",_arg$1);/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}robots=$makeMap($String.keyFor,[]);_ref=units;_i=0;/* while (true) { */case 5:/* if (!(_i < _ref.$length)) { break; } */if(!(_i<_ref.$length)){$s=6;continue;}unitID=_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i];_r$3=protocol.TryGetStringRobot(model.App.Gameplay.Robots,unitID);/* */$s=7;case 7:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_tuple$2=_r$3;targetRobot=$clone(_tuple$2[0],protocol.Robot);err$1=_tuple$2[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[sliceType$10.nil,err$1];}_r$4=common.IsFriendlyRobot($clone(model,types.Model),robotID,targetRobot.ID);/* */$s=8;case 8:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}_tuple$3=_r$4;isFriendly=_tuple$3[0];err$1=_tuple$3[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[sliceType$10.nil,err$1];}if(isFriendly){_i++;/* continue; */$s=5;continue;}_key=unitID;(robots||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key)]={k:_key,v:$clone(targetRobot,protocol.Robot)};_i++;/* } */$s=5;continue;case 6:_arg$2=protocol.LogCategoryDetail;_r$5=fmt.Sprintf("robots(%v)",new sliceType([new mapType(robots)]));/* */$s=9;case 9:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}_arg$3=_r$5;$r=log.Log(_arg$2,"QueryPotentialTarget",_arg$3);/* */$s=10;case 10:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}_r$6=QueryMoveRangeTree($clone(model,types.Model),robotID);/* */$s=11;case 11:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}_tuple$4=_r$6;tree=_tuple$4[0];err=_tuple$4[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[sliceType$10.nil,err];}selfMoveRange=new sliceType$11([$clone(selfPos,protocol.Position)]);if(canMove){selfMoveRange=helper.MoveRangeTree2MoveRange(tree);}ret=new sliceType$10([]);_ref$1=weapons;_i$1=0;_keys=$keys(_ref$1);/* while (true) { */case 12:/* if (!(_i$1 < _keys.length)) { break; } */if(!(_i$1<_keys.length)){$s=13;continue;}_entry=_ref$1[_keys[_i$1]];if(_entry===undefined){_i$1++;/* continue; */$s=12;continue;}weapon=$clone(_entry.v,protocol.Weapon);_r$7=common.QueryRobotWeaponAttackRange($clone(model,types.Model),robot.ID,$clone(weapon,protocol.Weapon),arrayType.zero());/* */$s=14;case 14:if($c){$c=false;_r$7=_r$7.$blk();}if(_r$7&&_r$7.$blk!==undefined){break s;}_tuple$5=_r$7;attackRange=_tuple$5[0];err$2=_tuple$5[1];if(!$interfaceIsEqual(err$2,$ifaceNil)){$s=-1;return[sliceType$10.nil,err$2];}_ref$2=robots;_i$2=0;_keys$1=$keys(_ref$2);/* while (true) { */case 15:/* if (!(_i$2 < _keys$1.length)) { break; } */if(!(_i$2<_keys$1.length)){$s=16;continue;}_entry$1=_ref$2[_keys$1[_i$2]];if(_entry$1===undefined){_i$2++;/* continue; */$s=15;continue;}targetRobotID=_entry$1.k;_r$8=protocol.TryGetStringPosition(model.App.Gameplay.Positions,targetRobotID);/* */$s=17;case 17:if($c){$c=false;_r$8=_r$8.$blk();}if(_r$8&&_r$8.$blk!==undefined){break s;}_tuple$6=_r$8;robotPos=$clone(_tuple$6[0],protocol.Position);err$3=_tuple$6[1];if(!$interfaceIsEqual(err$3,$ifaceNil)){$s=-1;return[sliceType$10.nil,err$3];}attackRangeWithCenter=new sliceType$11([]);_ref$3=attackRange;_i$3=0;while(true){if(!(_i$3<_ref$3.$length)){break;}attackPos=$clone(_i$3<0||_i$3>=_ref$3.$length?($throwRuntimeError("index out of range"),undefined):_ref$3.$array[_ref$3.$offset+_i$3],protocol.Position);attackPosWithCenter=$toNativeArray($kindInt,[robotPos[0]+attackPos[0]>>0,robotPos[1]+attackPos[1]>>0]);attackRangeWithCenter=$append(attackRangeWithCenter,attackPosWithCenter);_i$3++;}overlayRange=protocol.IntersectionPosition(selfMoveRange,attackRangeWithCenter);_arg$4=protocol.LogCategoryDetail;_r$9=fmt.Sprintf("overlayRange(%v)",new sliceType([overlayRange]));/* */$s=18;case 18:if($c){$c=false;_r$9=_r$9.$blk();}if(_r$9&&_r$9.$blk!==undefined){break s;}_arg$5=_r$9;$r=log.Log(_arg$4,"QueryPotentialTarget",_arg$5);/* */$s=19;case 19:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}if(overlayRange.$length===0){_i$2++;/* continue; */$s=15;continue;}ret=$append(ret,new PotentailTarget.ptr(overlayRange,targetRobotID,transform,$clone(weapon,protocol.Weapon)));_i$2++;/* } */$s=15;continue;case 16:_i$1++;/* } */$s=12;continue;case 13:$s=-1;return[ret,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:QueryPotentialTarget};}$f._arg=_arg;$f._arg$1=_arg$1;$f._arg$2=_arg$2;$f._arg$3=_arg$3;$f._arg$4=_arg$4;$f._arg$5=_arg$5;$f._entry=_entry;$f._entry$1=_entry$1;$f._i=_i;$f._i$1=_i$1;$f._i$2=_i$2;$f._i$3=_i$3;$f._key=_key;$f._keys=_keys;$f._keys$1=_keys$1;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._r$7=_r$7;$f._r$8=_r$8;$f._r$9=_r$9;$f._ref=_ref;$f._ref$1=_ref$1;$f._ref$2=_ref$2;$f._ref$3=_ref$3;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f._tuple$4=_tuple$4;$f._tuple$5=_tuple$5;$f._tuple$6=_tuple$6;$f.attackPos=attackPos;$f.attackPosWithCenter=attackPosWithCenter;$f.attackRange=attackRange;$f.attackRangeWithCenter=attackRangeWithCenter;$f.canMove=canMove;$f.err=err;$f.err$1=err$1;$f.err$2=err$2;$f.err$3=err$3;$f.isFriendly=isFriendly;$f.leftTopPos=leftTopPos;$f.model=model;$f.overlayRange=overlayRange;$f.ret=ret;$f.rightBottomPos=rightBottomPos;$f.robot=robot;$f.robotID=robotID;$f.robotPos=robotPos;$f.robots=robots;$f.selfMoveRange=selfMoveRange;$f.selfPos=selfPos;$f.targetRobot=targetRobot;$f.targetRobotID=targetRobotID;$f.transform=transform;$f.tree=tree;$f.unitID=unitID;$f.units=units;$f.weapon=weapon;$f.weapons=weapons;$f.$s=$s;$f.$r=$r;return $f;};$pkg.QueryPotentialTarget=QueryPotentialTarget;RobotMove=function(origin,robotID,pos){var _arg,_arg$1,_entry,_entry$1,_r,_r$1,_r$2,notFound,origin,pos,robotID,tags,unitAtPos,v,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_arg=$f._arg;_arg$1=$f._arg$1;_entry=$f._entry;_entry$1=$f._entry$1;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;notFound=$f.notFound;origin=$f.origin;pos=$f.pos;robotID=$f.robotID;tags=$f.tags;unitAtPos=$f.unitAtPos;v=$f.v;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v=$clone(origin,types.Model);tags=$clone((_entry=v.App.Gameplay.Tags[$String.keyFor(robotID)],_entry!==undefined?_entry.v:new protocol.Tag.ptr(0,false,false)),protocol.Tag);/* */if(tags.MoveCount>=5){$s=1;continue;}/* */$s=2;continue;/* if (tags.MoveCount >= 5) { */case 1:_r=fmt.Errorf("[RobotMove] already move %v",new sliceType([new $String(robotID)]));/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return[origin,_r];/* } */case 2:unitAtPos=common.SearchUnitByPosition(v.App.Gameplay.Positions,$clone(pos,protocol.Position));notFound="";/* */if(!(unitAtPos===notFound)){$s=4;continue;}/* */$s=5;continue;/* if (!(unitAtPos === notFound)) { */case 4:_r$1=fmt.Errorf("[RobotMove] already occupy %v",new sliceType([new protocol.Position(pos)]));/* */$s=6;case 6:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}$s=-1;return[origin,_r$1];/* } */case 5:v.App.Gameplay.Positions=protocol.AssocStringPosition(v.App.Gameplay.Positions,robotID,$clone(pos,protocol.Position));tags.MoveCount=tags.MoveCount+1>>0;v.App.Gameplay.Tags=protocol.AssocStringTag(v.App.Gameplay.Tags,robotID,$clone(tags,protocol.Tag));_arg=protocol.LogCategoryInfo;_r$2=fmt.Sprintf("robotID(%v) tags(%v)\n",new sliceType([new $String(robotID),(x=(_entry$1=v.App.Gameplay.Tags[$String.keyFor(robotID)],_entry$1!==undefined?_entry$1.v:new protocol.Tag.ptr(0,false,false)),new x.constructor.elem(x))]));/* */$s=7;case 7:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_arg$1=_r$2;$r=log.Log(_arg,"RobotMove",_arg$1);/* */$s=8;case 8:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return[v,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:RobotMove};}$f._arg=_arg;$f._arg$1=_arg$1;$f._entry=_entry;$f._entry$1=_entry$1;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f.notFound=notFound;$f.origin=origin;$f.pos=pos;$f.robotID=robotID;$f.tags=tags;$f.unitAtPos=unitAtPos;$f.v=v;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};$pkg.RobotMove=RobotMove;Save=function(model){var _entry,_i,_key,_keys,_r,_r$1,_ref,_tuple,_tuple$1,err,err$1,k,model,positions,tmpPos,txt,txt$1,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_i=$f._i;_key=$f._key;_keys=$f._keys;_r=$f._r;_r$1=$f._r$1;_ref=$f._ref;_tuple=$f._tuple;_tuple$1=$f._tuple$1;err=$f.err;err$1=$f.err$1;k=$f.k;model=$f.model;positions=$f.positions;tmpPos=$f.tmpPos;txt=$f.txt;txt$1=$f.txt$1;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=log.Log(protocol.LogCategoryPhase,"Save","start");/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}positions=model.App.Gameplay.Positions;model.App.Gameplay.Positions=false;_r=json.Marshal(new model.constructor.elem(model));/* */$s=2;case 2:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;txt=_tuple[0];err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return err;}$r=log.Log(protocol.LogCategoryDetail,"Save",$bytesToString(txt));/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$global.localStorage.setItem($externalize("model",$String),$externalize($bytesToString(txt),$String));tmpPos=$makeMap($String.keyFor,[]);_ref=positions;_i=0;_keys=$keys(_ref);while(true){if(!(_i<_keys.length)){break;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;continue;}k=_entry.k;v=$clone(_entry.v,protocol.Position);_key=k;(tmpPos||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key)]={k:_key,v:new sliceType([new $Int(v[0]),new $Int(v[1])])};_i++;}_r$1=json.Marshal(new mapType$1(tmpPos));/* */$s=4;case 4:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$1=_r$1;txt$1=_tuple$1[0];err$1=_tuple$1[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return err$1;}$global.localStorage.setItem($externalize("positions",$String),$externalize($bytesToString(txt$1),$String));$r=log.Log(protocol.LogCategoryPhase,"Save","end");/* */$s=5;case 5:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return $ifaceNil;/* */}return;}if($f===undefined){$f={$blk:Save};}$f._entry=_entry;$f._i=_i;$f._key=_key;$f._keys=_keys;$f._r=_r;$f._r$1=_r$1;$f._ref=_ref;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f.err=err;$f.err$1=err$1;$f.k=k;$f.model=model;$f.positions=positions;$f.tmpPos=tmpPos;$f.txt=txt;$f.txt$1=txt$1;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};$pkg.Save=Save;Load=function(){var _entry,_i,_key,_keys,_r,_r$1,_r$2,_r$3,_ref,err,k,model,positions,positionsTxt,tmpPos,txt,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_i=$f._i;_key=$f._key;_keys=$f._keys;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_ref=$f._ref;err=$f.err;k=$f.k;model=$f.model;positions=$f.positions;positionsTxt=$f.positionsTxt;tmpPos=$f.tmpPos;txt=$f.txt;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:model=[model];positions=[positions];err=$ifaceNil;txt=$global.localStorage.getItem($externalize("model",$String));if(txt===null){$s=-1;return[new types.Model.ptr(new types.App.ptr(0,0,new types.Gameplay.ptr(new types.AIModel.ptr(false,false),"","",sliceType$6.nil,sliceType$4.nil,arrayType.zero(),sliceType$6.nil,false,false,false,false,false,false,false,new protocol.RobotMenu.ptr(false,"",sliceType$12.nil,false,false,false,false),new protocol.BattleMenu.ptr(false,new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),new protocol.Pilot.ptr("","","",0,0,0,0,0,0,0,0,0,0,0),new protocol.Weapon.ptr("","",0,"",0,arrayType.zero(),0,0,arrayType$1.zero(),sliceType$6.nil,"","",0,0,0,0),new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),new protocol.Pilot.ptr("","","",0,0,0,0,0,0,0,0,0,0,0)),sliceType$11.nil,sliceType$11.nil,"",$ifaceNil),new types.Lobby.ptr(false,false,false,false,false,false,false,false),0)),false,$ifaceNil];}if(txt===undefined){$s=-1;return[new types.Model.ptr(new types.App.ptr(0,0,new types.Gameplay.ptr(new types.AIModel.ptr(false,false),"","",sliceType$6.nil,sliceType$4.nil,arrayType.zero(),sliceType$6.nil,false,false,false,false,false,false,false,new protocol.RobotMenu.ptr(false,"",sliceType$12.nil,false,false,false,false),new protocol.BattleMenu.ptr(false,new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),new protocol.Pilot.ptr("","","",0,0,0,0,0,0,0,0,0,0,0),new protocol.Weapon.ptr("","",0,"",0,arrayType.zero(),0,0,arrayType$1.zero(),sliceType$6.nil,"","",0,0,0,0),new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),new protocol.Pilot.ptr("","","",0,0,0,0,0,0,0,0,0,0,0)),sliceType$11.nil,sliceType$11.nil,"",$ifaceNil),new types.Lobby.ptr(false,false,false,false,false,false,false,false),0)),false,$ifaceNil];}positionsTxt=$global.localStorage.getItem($externalize("positions",$String));/* */if(positionsTxt===null){$s=1;continue;}/* */$s=2;continue;/* if (positionsTxt === null) { */case 1:_r=fmt.Errorf("must have localStorage.positions",new sliceType([]));/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return[new types.Model.ptr(new types.App.ptr(0,0,new types.Gameplay.ptr(new types.AIModel.ptr(false,false),"","",sliceType$6.nil,sliceType$4.nil,arrayType.zero(),sliceType$6.nil,false,false,false,false,false,false,false,new protocol.RobotMenu.ptr(false,"",sliceType$12.nil,false,false,false,false),new protocol.BattleMenu.ptr(false,new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),new protocol.Pilot.ptr("","","",0,0,0,0,0,0,0,0,0,0,0),new protocol.Weapon.ptr("","",0,"",0,arrayType.zero(),0,0,arrayType$1.zero(),sliceType$6.nil,"","",0,0,0,0),new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),new protocol.Pilot.ptr("","","",0,0,0,0,0,0,0,0,0,0,0)),sliceType$11.nil,sliceType$11.nil,"",$ifaceNil),new types.Lobby.ptr(false,false,false,false,false,false,false,false),0)),false,_r];/* } */case 2:/* */if(positionsTxt===undefined){$s=4;continue;}/* */$s=5;continue;/* if (positionsTxt === undefined) { */case 4:_r$1=fmt.Errorf("must have localStorage.positions",new sliceType([]));/* */$s=6;case 6:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}$s=-1;return[new types.Model.ptr(new types.App.ptr(0,0,new types.Gameplay.ptr(new types.AIModel.ptr(false,false),"","",sliceType$6.nil,sliceType$4.nil,arrayType.zero(),sliceType$6.nil,false,false,false,false,false,false,false,new protocol.RobotMenu.ptr(false,"",sliceType$12.nil,false,false,false,false),new protocol.BattleMenu.ptr(false,new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),new protocol.Pilot.ptr("","","",0,0,0,0,0,0,0,0,0,0,0),new protocol.Weapon.ptr("","",0,"",0,arrayType.zero(),0,0,arrayType$1.zero(),sliceType$6.nil,"","",0,0,0,0),new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),new protocol.Pilot.ptr("","","",0,0,0,0,0,0,0,0,0,0,0)),sliceType$11.nil,sliceType$11.nil,"",$ifaceNil),new types.Lobby.ptr(false,false,false,false,false,false,false,false),0)),false,_r$1];/* } */case 5:model[0]=new types.Model.ptr(new types.App.ptr(0,0,new types.Gameplay.ptr(new types.AIModel.ptr(false,false),"","",sliceType$6.nil,sliceType$4.nil,arrayType.zero(),sliceType$6.nil,false,false,false,false,false,false,false,new protocol.RobotMenu.ptr(false,"",sliceType$12.nil,false,false,false,false),new protocol.BattleMenu.ptr(false,new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),new protocol.Pilot.ptr("","","",0,0,0,0,0,0,0,0,0,0,0),new protocol.Weapon.ptr("","",0,"",0,arrayType.zero(),0,0,arrayType$1.zero(),sliceType$6.nil,"","",0,0,0,0),new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),new protocol.Pilot.ptr("","","",0,0,0,0,0,0,0,0,0,0,0)),sliceType$11.nil,sliceType$11.nil,"",$ifaceNil),new types.Lobby.ptr(false,false,false,false,false,false,false,false),0));_r$2=json.Unmarshal(new sliceType$13($stringToBytes($internalize(txt,$String))),model[0]);/* */$s=7;case 7:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}err=_r$2;if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[new types.Model.ptr(new types.App.ptr(0,0,new types.Gameplay.ptr(new types.AIModel.ptr(false,false),"","",sliceType$6.nil,sliceType$4.nil,arrayType.zero(),sliceType$6.nil,false,false,false,false,false,false,false,new protocol.RobotMenu.ptr(false,"",sliceType$12.nil,false,false,false,false),new protocol.BattleMenu.ptr(false,new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),new protocol.Pilot.ptr("","","",0,0,0,0,0,0,0,0,0,0,0),new protocol.Weapon.ptr("","",0,"",0,arrayType.zero(),0,0,arrayType$1.zero(),sliceType$6.nil,"","",0,0,0,0),new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),new protocol.Pilot.ptr("","","",0,0,0,0,0,0,0,0,0,0,0)),sliceType$11.nil,sliceType$11.nil,"",$ifaceNil),new types.Lobby.ptr(false,false,false,false,false,false,false,false),0)),false,err];}positions[0]=false;_r$3=json.Unmarshal(new sliceType$13($stringToBytes($internalize(positionsTxt,$String))),positions.$ptr||(positions.$ptr=new ptrType$1(function(){return this.$target[0];},function($v){this.$target[0]=$v;},positions)));/* */$s=8;case 8:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}err=_r$3;if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[new types.Model.ptr(new types.App.ptr(0,0,new types.Gameplay.ptr(new types.AIModel.ptr(false,false),"","",sliceType$6.nil,sliceType$4.nil,arrayType.zero(),sliceType$6.nil,false,false,false,false,false,false,false,new protocol.RobotMenu.ptr(false,"",sliceType$12.nil,false,false,false,false),new protocol.BattleMenu.ptr(false,new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),new protocol.Pilot.ptr("","","",0,0,0,0,0,0,0,0,0,0,0),new protocol.Weapon.ptr("","",0,"",0,arrayType.zero(),0,0,arrayType$1.zero(),sliceType$6.nil,"","",0,0,0,0),new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),new protocol.Pilot.ptr("","","",0,0,0,0,0,0,0,0,0,0,0)),sliceType$11.nil,sliceType$11.nil,"",$ifaceNil),new types.Lobby.ptr(false,false,false,false,false,false,false,false),0)),false,err];}tmpPos=$makeMap($String.keyFor,[]);_ref=positions[0];_i=0;_keys=$keys(_ref);while(true){if(!(_i<_keys.length)){break;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;continue;}k=_entry.k;v=_entry.v;_key=k;(tmpPos||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key)]={k:_key,v:$toNativeArray($kindInt,[0>=v.$length?($throwRuntimeError("index out of range"),undefined):v.$array[v.$offset+0],1>=v.$length?($throwRuntimeError("index out of range"),undefined):v.$array[v.$offset+1]])};_i++;}model[0].App.Gameplay.Positions=tmpPos;$s=-1;return[model[0],true,err];/* */}return;}if($f===undefined){$f={$blk:Load};}$f._entry=_entry;$f._i=_i;$f._key=_key;$f._keys=_keys;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._ref=_ref;$f.err=err;$f.k=k;$f.model=model;$f.positions=positions;$f.positionsTxt=positionsTxt;$f.tmpPos=tmpPos;$f.txt=txt;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};$pkg.Load=Load;QueryActivePlayer=function(origin){var _r,origin,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;origin=$f.origin;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r=protocol.TryGetStringPlayer(origin.App.Gameplay.Players,origin.App.Gameplay.ActivePlayerID);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r;/* */}return;}if($f===undefined){$f={$blk:QueryActivePlayer};}$f._r=_r;$f.origin=origin;$f.$s=$s;$f.$r=$r;return $f;};$pkg.QueryActivePlayer=QueryActivePlayer;NextPlayer=function(origin){var _r,_r$1,_r$2,ctx,i,nextPlayer,notFound,origin,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;ctx=$f.ctx;i=$f.i;nextPlayer=$f.nextPlayer;notFound=$f.notFound;origin=$f.origin;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:ctx=$clone(origin,types.Model);notFound="";/* */if(ctx.App.Gameplay.ActivePlayerID===notFound){$s=1;continue;}/* */$s=2;continue;/* if (ctx.App.Gameplay.ActivePlayerID === notFound) { */case 1:_r=fmt.Errorf("[model] you must set ActivePlayerID first.",new sliceType([]));/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return[origin,_r];/* } */case 2:i=tool.FindStringIndex(ctx.App.Gameplay.PlayerOrder,ctx.App.Gameplay.ActivePlayerID);/* */if(i===-1){$s=4;continue;}/* */$s=5;continue;/* if (i === -1) { */case 4:_r$1=fmt.Errorf("[model]activePlayer(%v) not found.",new sliceType([new $Int(i)]));/* */$s=6;case 6:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}$s=-1;return[origin,_r$1];/* } */case 5:i=(_r$2=(i+1>>0)%origin.App.Gameplay.PlayerOrder.$length,_r$2===_r$2?_r$2:$throwRuntimeError("integer divide by zero"));nextPlayer=(x=ctx.App.Gameplay.PlayerOrder,i<0||i>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+i]);ctx.App.Gameplay.ActivePlayerID=nextPlayer;$s=-1;return[ctx,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:NextPlayer};}$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f.ctx=ctx;$f.i=i;$f.nextPlayer=nextPlayer;$f.notFound=notFound;$f.origin=origin;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};$pkg.NextPlayer=NextPlayer;QueryUnitsByRegion=function(origin,p1,p2){var ctx,origin,p1,p2;ctx=$clone(origin,types.Model);return common.SearchUnitByRegion(ctx.App.Gameplay.Positions,$clone(p1,protocol.Position),$clone(p2,protocol.Position));};$pkg.QueryUnitsByRegion=QueryUnitsByRegion;QueryUnitByPosition=function(origin,pos){var ctx,origin,pos;ctx=$clone(origin,types.Model);return common.SearchUnitByPosition(ctx.App.Gameplay.Positions,$clone(pos,protocol.Position));};$pkg.QueryUnitByPosition=QueryUnitByPosition;SetCursor=function(origin,cursor){var ctx,cursor,origin;ctx=$clone(origin,types.Model);protocol.Position.copy(ctx.App.Gameplay.Cursor,cursor);return ctx;};$pkg.SetCursor=SetCursor;GetCursor=function(origin){var ctx,origin;ctx=$clone(origin,types.Model);return ctx.App.Gameplay.Cursor;};$pkg.GetCursor=GetCursor;QueryMoveCount=function(origin,robotID){var _arg,_arg$1,_entry,_entry$1,_r,ctx,origin,robotID,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_arg=$f._arg;_arg$1=$f._arg$1;_entry=$f._entry;_entry$1=$f._entry$1;_r=$f._r;ctx=$f.ctx;origin=$f.origin;robotID=$f.robotID;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:ctx=$clone(origin,types.Model);_arg=protocol.LogCategoryInfo;_r=fmt.Sprintf("tags(%+v)\n",new sliceType([(x=(_entry=ctx.App.Gameplay.Tags[$String.keyFor(robotID)],_entry!==undefined?_entry.v:new protocol.Tag.ptr(0,false,false)),new x.constructor.elem(x))]));/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_arg$1=_r;$r=log.Log(_arg,"QueryMoveCount",_arg$1);/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return(_entry$1=ctx.App.Gameplay.Tags[$String.keyFor(robotID)],_entry$1!==undefined?_entry$1.v:new protocol.Tag.ptr(0,false,false)).MoveCount;/* */}return;}if($f===undefined){$f={$blk:QueryMoveCount};}$f._arg=_arg;$f._arg$1=_arg$1;$f._entry=_entry;$f._entry$1=_entry$1;$f._r=_r;$f.ctx=ctx;$f.origin=origin;$f.robotID=robotID;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};$pkg.QueryMoveCount=QueryMoveCount;RobotDone=function(origin,robotID){var _entry,ctx,origin,robotID,tags;ctx=$clone(origin,types.Model);tags=$clone((_entry=ctx.App.Gameplay.Tags[$String.keyFor(robotID)],_entry!==undefined?_entry.v:new protocol.Tag.ptr(0,false,false)),protocol.Tag);tags.IsDone=true;ctx.App.Gameplay.Tags=protocol.AssocStringTag(ctx.App.Gameplay.Tags,robotID,$clone(tags,protocol.Tag));return[ctx,$ifaceNil];};$pkg.RobotDone=RobotDone;GetRobotMenu=function(origin){var ctx,origin;ctx=$clone(origin,types.Model);return ctx.App.Gameplay.RobotMenu;};$pkg.GetRobotMenu=GetRobotMenu;SetMoveRange=function(origin,moveRange){var ctx,moveRange,origin;ctx=$clone(origin,types.Model);ctx.App.Gameplay.MoveRange=moveRange;return ctx;};$pkg.SetMoveRange=SetMoveRange;GetMoveRange=function(origin){var ctx,origin;ctx=$clone(origin,types.Model);return ctx.App.Gameplay.MoveRange;};$pkg.GetMoveRange=GetMoveRange;GetBattleMenu=function(origin){var ctx,origin;ctx=$clone(origin,types.Model);return ctx.App.Gameplay.BattleMenu;};$pkg.GetBattleMenu=GetBattleMenu;LevelGeneByHC.methods=[{prop:"TotalCost",name:"TotalCost",pkg:"",typ:$funcType([],[$Int,$error],false)},{prop:"CalcFitness",name:"CalcFitness",pkg:"",typ:$funcType([],[optalg.IGene,$error],false)},{prop:"GetFitness",name:"GetFitness",pkg:"",typ:$funcType([],[$Float64],false)},{prop:"Crossover",name:"Crossover",pkg:"",typ:$funcType([optalg.IGene],[optalg.IGene,$error],false)},{prop:"Mutate",name:"Mutate",pkg:"",typ:$funcType([],[optalg.IGene,$error],false)}];LevelGeneByPSO.methods=[{prop:"CalcFitness",name:"CalcFitness",pkg:"",typ:$funcType([],[optalg.IGene,$error],false)},{prop:"GetFitness",name:"GetFitness",pkg:"",typ:$funcType([],[$Float64],false)},{prop:"Crossover",name:"Crossover",pkg:"",typ:$funcType([optalg.IGene],[optalg.IGene,$error],false)},{prop:"Mutate",name:"Mutate",pkg:"",typ:$funcType([],[optalg.IGene,$error],false)}];ByAstarNodeEstimatedCost.methods=[{prop:"Len",name:"Len",pkg:"",typ:$funcType([],[$Int],false)},{prop:"Swap",name:"Swap",pkg:"",typ:$funcType([$Int,$Int],[],false)},{prop:"Less",name:"Less",pkg:"",typ:$funcType([$Int,$Int],[$Bool],false)}];LevelGeneByHC.init("",[{prop:"Map",name:"Map",embedded:false,exported:true,typ:sliceType$4,tag:""},{prop:"Units",name:"Units",embedded:false,exported:true,typ:mapType$3,tag:""},{prop:"Fitness",name:"Fitness",embedded:false,exported:true,typ:$Float64,tag:""},{prop:"TargetCost",name:"TargetCost",embedded:false,exported:true,typ:$Int,tag:""},{prop:"Center",name:"Center",embedded:false,exported:true,typ:arrayType,tag:""},{prop:"Weight",name:"Weight",embedded:false,exported:true,typ:mapType$4,tag:""}]);LevelGeneByPSO.init("",[{prop:"Map",name:"Map",embedded:false,exported:true,typ:sliceType$4,tag:""},{prop:"Units",name:"Units",embedded:false,exported:true,typ:mapType$3,tag:""},{prop:"Fitness",name:"Fitness",embedded:false,exported:true,typ:$Float64,tag:""}]);QueryBattleHitRateOptions.init("",[{prop:"IgnoreSprayAttack",name:"IgnoreSprayAttack",embedded:false,exported:true,typ:$Bool,tag:""}]);ByAstarNodeEstimatedCost.init(ptrType);PotentailTarget.init("",[{prop:"DesirePositions",name:"DesirePositions",embedded:false,exported:true,typ:sliceType$11,tag:""},{prop:"DesireUnitID",name:"DesireUnitID",embedded:false,exported:true,typ:$String,tag:""},{prop:"DesireTransform",name:"DesireTransform",embedded:false,exported:true,typ:$String,tag:""},{prop:"DesireWeapon",name:"DesireWeapon",embedded:false,exported:true,typ:protocol.Weapon,tag:""}]);$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=common.$init();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=types.$init();/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=tool.$init();/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=data.$init();/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=helper.$init();/* */$s=5;case 5:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=protocol.$init();/* */$s=6;case 6:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=uidata.$init();/* */$s=7;case 7:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=json.$init();/* */$s=8;case 8:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=fmt.$init();/* */$s=9;case 9:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=mgl64.$init();/* */$s=10;case 10:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=js.$init();/* */$s=11;case 11:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=clusters.$init();/* */$s=12;case 12:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=math.$init();/* */$s=13;case 13:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=rand.$init();/* */$s=14;case 14:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=sort.$init();/* */$s=15;case 15:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=astar.$init();/* */$s=16;case 16:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=kmeans.$init();/* */$s=17;case 17:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=log.$init();/* */$s=18;case 18:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=optalg.$init();/* */$s=19;case 19:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}_total=0;_count=false;terrainCache=false;/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["app/model/v1/internal/lobby"]=function(){var $pkg={},$init,types,data,protocol,fmt,strconv,log,sliceType,arrayType,sliceType$1,arrayType$1,BuyRobot,BuyPilot,BuyWeapon,BuyComponent,AssocRobotPilot,DissocRobotPilot,AssocWeaponRobot,DissocWeaponRobot,AssocComponentRobot,DissocComponentRobot,QueryRobotCanBuy,QueryPilotCanBuy,QueryWeaponCanBuy,QueryComponentCanBuy,QueryRobotIDByWeaponID,QueryRobotIDByComponentID,QueryPilotIDByRobotID;types=$packages["app/model/v1/internal/tool/types"];data=$packages["app/tool/data"];protocol=$packages["app/tool/protocol"];fmt=$packages["fmt"];strconv=$packages["strconv"];log=$packages["tool/log"];sliceType=$sliceType($String);arrayType=$arrayType($Float64,4);sliceType$1=$sliceType($emptyInterface);arrayType$1=$arrayType($Int,2);BuyRobot=function(origin,protoID){var ID,_entry,_entry$1,_r,_r$1,_tuple,ctx,has,item,origin,protoID,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;ID=$f.ID;_entry=$f._entry;_entry$1=$f._entry$1;_r=$f._r;_r$1=$f._r$1;_tuple=$f._tuple;ctx=$f.ctx;has=$f.has;item=$f.item;origin=$f.origin;protoID=$f.protoID;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:ctx=$clone(origin,types.Model);_tuple=(_entry=data.GameData.Robot[$String.keyFor(protoID)],_entry!==undefined?[_entry.v,true]:[new data.RobotProto.ptr("","",0,0,0,0,sliceType.nil,sliceType.nil,arrayType.zero(),sliceType.nil,0,false),false]);item=$clone(_tuple[0],data.RobotProto);has=_tuple[1];/* */if(has===false){$s=1;continue;}/* */$s=2;continue;/* if (has === false) { */case 1:_r=fmt.Errorf("BuyRobot [%v] not found",new sliceType$1([new $String(protoID)]));/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return[origin,_r];/* } */case 2:/* */if(ctx.App.Money<item.Cost){$s=4;continue;}/* */$s=5;continue;/* if (ctx.App.Money < item.Cost) { */case 4:_r$1=fmt.Errorf("money is not enough. (%v/ %v)",new sliceType$1([new $Int(item.Cost),new $Int(ctx.App.Money)]));/* */$s=6;case 6:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}$s=-1;return[origin,_r$1];/* } */case 5:ctx.App.Money=ctx.App.Money-item.Cost>>0;ID=strconv.Itoa(ctx.App.SeqID);ctx.App.SeqID=ctx.App.SeqID+1>>0;ctx.App.Lobby.Robots=protocol.AssocStringRobot(ctx.App.Lobby.Robots,ID,new protocol.Robot.ptr(ID,"PlayerIDPlayer",protoID,"",protoID,0,0,$makeMap($String.keyFor,[]),false,(_entry$1=data.GameData.Robot[$String.keyFor(protoID)],_entry$1!==undefined?_entry$1.v:new data.RobotProto.ptr("","",0,0,0,0,sliceType.nil,sliceType.nil,arrayType.zero(),sliceType.nil,0,false)).Title,0,0,0,0,0,0,0,arrayType.zero(),0,false));$s=-1;return[ctx,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:BuyRobot};}$f.ID=ID;$f._entry=_entry;$f._entry$1=_entry$1;$f._r=_r;$f._r$1=_r$1;$f._tuple=_tuple;$f.ctx=ctx;$f.has=has;$f.item=item;$f.origin=origin;$f.protoID=protoID;$f.$s=$s;$f.$r=$r;return $f;};$pkg.BuyRobot=BuyRobot;BuyPilot=function(origin,protoID){var ID,_entry,_entry$1,_r,_r$1,_tuple,ctx,has,item,origin,protoID,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;ID=$f.ID;_entry=$f._entry;_entry$1=$f._entry$1;_r=$f._r;_r$1=$f._r$1;_tuple=$f._tuple;ctx=$f.ctx;has=$f.has;item=$f.item;origin=$f.origin;protoID=$f.protoID;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:ctx=$clone(origin,types.Model);_tuple=(_entry=data.GameData.Pilot[$String.keyFor(protoID)],_entry!==undefined?[_entry.v,true]:[new data.PilotProto.ptr("","",0,0,0,0,0,0,0,sliceType.nil,0),false]);item=$clone(_tuple[0],data.PilotProto);has=_tuple[1];/* */if(has===false){$s=1;continue;}/* */$s=2;continue;/* if (has === false) { */case 1:_r=fmt.Errorf("BuyPilot [%v] not found",new sliceType$1([new $String(protoID)]));/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return[origin,_r];/* } */case 2:/* */if(ctx.App.Money<item.Cost){$s=4;continue;}/* */$s=5;continue;/* if (ctx.App.Money < item.Cost) { */case 4:_r$1=fmt.Errorf("money is not enough. (%v/ %v)",new sliceType$1([new $Int(item.Cost),new $Int(ctx.App.Money)]));/* */$s=6;case 6:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}$s=-1;return[origin,_r$1];/* } */case 5:ctx.App.Money=ctx.App.Money-item.Cost>>0;ID=strconv.Itoa(ctx.App.SeqID);ctx.App.SeqID=ctx.App.SeqID+1>>0;ctx.App.Lobby.Pilots=protocol.AssocStringPilot(ctx.App.Lobby.Pilots,ID,new protocol.Pilot.ptr(ID,protoID,(_entry$1=data.GameData.Pilot[$String.keyFor(protoID)],_entry$1!==undefined?_entry$1.v:new data.PilotProto.ptr("","",0,0,0,0,0,0,0,sliceType.nil,0)).Title,0,0,0,0,0,0,0,0,0,0,0));$s=-1;return[ctx,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:BuyPilot};}$f.ID=ID;$f._entry=_entry;$f._entry$1=_entry$1;$f._r=_r;$f._r$1=_r$1;$f._tuple=_tuple;$f.ctx=ctx;$f.has=has;$f.item=item;$f.origin=origin;$f.protoID=protoID;$f.$s=$s;$f.$r=$r;return $f;};$pkg.BuyPilot=BuyPilot;BuyWeapon=function(origin,protoID){var ID,_entry,_entry$1,_r,_r$1,_tuple,ctx,has,item,origin,protoID,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;ID=$f.ID;_entry=$f._entry;_entry$1=$f._entry$1;_r=$f._r;_r$1=$f._r$1;_tuple=$f._tuple;ctx=$f.ctx;has=$f.has;item=$f.item;origin=$f.origin;protoID=$f.protoID;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:ctx=$clone(origin,types.Model);_tuple=(_entry=data.GameData.Weapon[$String.keyFor(protoID)],_entry!==undefined?[_entry.v,true]:[new data.WeaponProto.ptr("","",0,arrayType$1.zero(),0,0,arrayType.zero(),sliceType.nil,"","",0,0,0,0,0),false]);item=$clone(_tuple[0],data.WeaponProto);has=_tuple[1];/* */if(has===false){$s=1;continue;}/* */$s=2;continue;/* if (has === false) { */case 1:_r=fmt.Errorf("BuyWeapon [%v] not found",new sliceType$1([new $String(protoID)]));/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return[origin,_r];/* } */case 2:/* */if(ctx.App.Money<item.Cost){$s=4;continue;}/* */$s=5;continue;/* if (ctx.App.Money < item.Cost) { */case 4:_r$1=fmt.Errorf("money is not enough. (%v/ %v)",new sliceType$1([new $Int(item.Cost),new $Int(ctx.App.Money)]));/* */$s=6;case 6:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}$s=-1;return[origin,_r$1];/* } */case 5:ctx.App.Money=ctx.App.Money-item.Cost>>0;ID=strconv.Itoa(ctx.App.SeqID);ctx.App.SeqID=ctx.App.SeqID+1>>0;ctx.App.Lobby.Weapons=protocol.AssocStringWeapon(ctx.App.Lobby.Weapons,ID,new protocol.Weapon.ptr(ID,protoID,0,(_entry$1=data.GameData.Weapon[$String.keyFor(protoID)],_entry$1!==undefined?_entry$1.v:new data.WeaponProto.ptr("","",0,arrayType$1.zero(),0,0,arrayType.zero(),sliceType.nil,"","",0,0,0,0,0)).Title,0,arrayType$1.zero(),0,0,arrayType.zero(),sliceType.nil,"","",0,0,0,0));$s=-1;return[ctx,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:BuyWeapon};}$f.ID=ID;$f._entry=_entry;$f._entry$1=_entry$1;$f._r=_r;$f._r$1=_r$1;$f._tuple=_tuple;$f.ctx=ctx;$f.has=has;$f.item=item;$f.origin=origin;$f.protoID=protoID;$f.$s=$s;$f.$r=$r;return $f;};$pkg.BuyWeapon=BuyWeapon;BuyComponent=function(origin,protoID){var ID,_entry,_entry$1,_r,_r$1,_tuple,ctx,has,item,origin,protoID,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;ID=$f.ID;_entry=$f._entry;_entry$1=$f._entry$1;_r=$f._r;_r$1=$f._r$1;_tuple=$f._tuple;ctx=$f.ctx;has=$f.has;item=$f.item;origin=$f.origin;protoID=$f.protoID;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:ctx=$clone(origin,types.Model);_tuple=(_entry=data.GameData.Component[$String.keyFor(protoID)],_entry!==undefined?[_entry.v,true]:[new data.ComponentProto.ptr("","",0,"",sliceType.nil,0,"",0),false]);item=$clone(_tuple[0],data.ComponentProto);has=_tuple[1];/* */if(has===false){$s=1;continue;}/* */$s=2;continue;/* if (has === false) { */case 1:_r=fmt.Errorf("BuyComponent [%v] not found",new sliceType$1([new $String(protoID)]));/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return[origin,_r];/* } */case 2:/* */if(ctx.App.Money<item.Cost){$s=4;continue;}/* */$s=5;continue;/* if (ctx.App.Money < item.Cost) { */case 4:_r$1=fmt.Errorf("money is not enough. (%v/ %v)",new sliceType$1([new $Int(item.Cost),new $Int(ctx.App.Money)]));/* */$s=6;case 6:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}$s=-1;return[origin,_r$1];/* } */case 5:ctx.App.Money=ctx.App.Money-item.Cost>>0;ID=strconv.Itoa(ctx.App.SeqID);ctx.App.SeqID=ctx.App.SeqID+1>>0;ctx.App.Lobby.Components=protocol.AssocStringComponent(ctx.App.Lobby.Components,ID,new protocol.Component.ptr(ID,protoID,(_entry$1=data.GameData.Component[$String.keyFor(protoID)],_entry$1!==undefined?_entry$1.v:new data.ComponentProto.ptr("","",0,"",sliceType.nil,0,"",0)).Title,0,"",sliceType.nil,0,""));$s=-1;return[ctx,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:BuyComponent};}$f.ID=ID;$f._entry=_entry;$f._entry$1=_entry$1;$f._r=_r;$f._r$1=_r$1;$f._tuple=_tuple;$f.ctx=ctx;$f.has=has;$f.item=item;$f.origin=origin;$f.protoID=protoID;$f.$s=$s;$f.$r=$r;return $f;};$pkg.BuyComponent=BuyComponent;AssocRobotPilot=function(origin,robotID,pilotID){var ctx,origin,pilotID,robotID;ctx=$clone(origin,types.Model);ctx.App.Lobby.PilotIDByRobotID=data.AssocStringString(ctx.App.Lobby.PilotIDByRobotID,robotID,pilotID);return[ctx,$ifaceNil];};$pkg.AssocRobotPilot=AssocRobotPilot;DissocRobotPilot=function(origin,robotID){var ctx,origin,robotID;ctx=$clone(origin,types.Model);ctx.App.Lobby.PilotIDByRobotID=data.DissocStringString(ctx.App.Lobby.PilotIDByRobotID,robotID);return[ctx,$ifaceNil];};$pkg.DissocRobotPilot=DissocRobotPilot;AssocWeaponRobot=function(origin,weaponID,robotID){var _arg,_arg$1,_r,ctx,origin,robotID,weaponID,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_arg=$f._arg;_arg$1=$f._arg$1;_r=$f._r;ctx=$f.ctx;origin=$f.origin;robotID=$f.robotID;weaponID=$f.weaponID;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_arg=protocol.LogCategoryDetail;_r=fmt.Sprintf("weaponID(%v) robotID(%v)",new sliceType$1([new $String(weaponID),new $String(robotID)]));/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_arg$1=_r;$r=log.Log(_arg,"AssocWeaponRobot",_arg$1);/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}ctx=$clone(origin,types.Model);ctx.App.Lobby.RobotIDByWeaponID=data.AssocStringString(ctx.App.Lobby.RobotIDByWeaponID,weaponID,robotID);$s=-1;return[ctx,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:AssocWeaponRobot};}$f._arg=_arg;$f._arg$1=_arg$1;$f._r=_r;$f.ctx=ctx;$f.origin=origin;$f.robotID=robotID;$f.weaponID=weaponID;$f.$s=$s;$f.$r=$r;return $f;};$pkg.AssocWeaponRobot=AssocWeaponRobot;DissocWeaponRobot=function(origin,weaponID){var ctx,origin,weaponID;ctx=$clone(origin,types.Model);ctx.App.Lobby.RobotIDByWeaponID=data.DissocStringString(ctx.App.Lobby.RobotIDByWeaponID,weaponID);return[ctx,$ifaceNil];};$pkg.DissocWeaponRobot=DissocWeaponRobot;AssocComponentRobot=function(origin,componentID,robotID){var componentID,ctx,origin,robotID;ctx=$clone(origin,types.Model);ctx.App.Lobby.RobotIDByComponentID=data.AssocStringString(ctx.App.Lobby.RobotIDByComponentID,componentID,robotID);return[ctx,$ifaceNil];};$pkg.AssocComponentRobot=AssocComponentRobot;DissocComponentRobot=function(origin,componentID){var componentID,ctx,origin;ctx=$clone(origin,types.Model);ctx.App.Lobby.RobotIDByComponentID=data.DissocStringString(ctx.App.Lobby.RobotIDByComponentID,componentID);return[ctx,$ifaceNil];};$pkg.DissocComponentRobot=DissocComponentRobot;QueryRobotCanBuy=function(origin){var _entry,_i,_key,_keys,_ref,canBuy,origin,proto,protoID;canBuy=$makeMap($String.keyFor,[]);_ref=data.GameData.Robot;_i=0;_keys=$keys(_ref);while(true){if(!(_i<_keys.length)){break;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;continue;}protoID=_entry.k;proto=$clone(_entry.v,data.RobotProto);if(proto.UnlockExp>$keys(origin.App.Lobby.ClearStateByLevelID).length){_i++;continue;}_key=protoID;(canBuy||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key)]={k:_key,v:$clone(proto,data.RobotProto)};_i++;}return canBuy;};$pkg.QueryRobotCanBuy=QueryRobotCanBuy;QueryPilotCanBuy=function(origin){var _entry,_i,_key,_keys,_ref,canBuy,origin,proto,protoID;canBuy=$makeMap($String.keyFor,[]);_ref=data.GameData.Pilot;_i=0;_keys=$keys(_ref);while(true){if(!(_i<_keys.length)){break;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;continue;}protoID=_entry.k;proto=$clone(_entry.v,data.PilotProto);if(proto.UnlockExp>$keys(origin.App.Lobby.ClearStateByLevelID).length){_i++;continue;}_key=protoID;(canBuy||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key)]={k:_key,v:$clone(proto,data.PilotProto)};_i++;}return canBuy;};$pkg.QueryPilotCanBuy=QueryPilotCanBuy;QueryWeaponCanBuy=function(origin){var _entry,_i,_key,_keys,_ref,canBuy,origin,proto,protoID;canBuy=$makeMap($String.keyFor,[]);_ref=data.GameData.Weapon;_i=0;_keys=$keys(_ref);while(true){if(!(_i<_keys.length)){break;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;continue;}protoID=_entry.k;proto=$clone(_entry.v,data.WeaponProto);if(proto.UnlockExp>$keys(origin.App.Lobby.ClearStateByLevelID).length){_i++;continue;}_key=protoID;(canBuy||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key)]={k:_key,v:$clone(proto,data.WeaponProto)};_i++;}return canBuy;};$pkg.QueryWeaponCanBuy=QueryWeaponCanBuy;QueryComponentCanBuy=function(origin){var _entry,_i,_key,_keys,_ref,canBuy,origin,proto,protoID;canBuy=$makeMap($String.keyFor,[]);_ref=data.GameData.Component;_i=0;_keys=$keys(_ref);while(true){if(!(_i<_keys.length)){break;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;continue;}protoID=_entry.k;proto=$clone(_entry.v,data.ComponentProto);if(proto.UnlockExp>$keys(origin.App.Lobby.ClearStateByLevelID).length){_i++;continue;}_key=protoID;(canBuy||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key)]={k:_key,v:$clone(proto,data.ComponentProto)};_i++;}return canBuy;};$pkg.QueryComponentCanBuy=QueryComponentCanBuy;QueryRobotIDByWeaponID=function(origin){var ctx,origin;ctx=$clone(origin,types.Model);return ctx.App.Lobby.RobotIDByWeaponID;};$pkg.QueryRobotIDByWeaponID=QueryRobotIDByWeaponID;QueryRobotIDByComponentID=function(origin){var ctx,origin;ctx=$clone(origin,types.Model);return ctx.App.Lobby.RobotIDByComponentID;};$pkg.QueryRobotIDByComponentID=QueryRobotIDByComponentID;QueryPilotIDByRobotID=function(origin){var ctx,origin;ctx=$clone(origin,types.Model);return ctx.App.Lobby.PilotIDByRobotID;};$pkg.QueryPilotIDByRobotID=QueryPilotIDByRobotID;$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=types.$init();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=data.$init();/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=protocol.$init();/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=fmt.$init();/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=strconv.$init();/* */$s=5;case 5:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=log.$init();/* */$s=6;case 6:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["app/view/p5"]=function(){var $pkg={},$init,uidata,fmt,js,eventQueue;uidata=$packages["app/tool/uidata"];fmt=$packages["fmt"];js=$packages["github.com/gopherjs/gopherjs/js"];$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=uidata.$init();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=fmt.$init();/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=js.$init();/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}eventQueue=new $Chan($emptyInterface,0);/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["app/tool/viewer"]=function(){var $pkg={},$init,helper,protocol,uidata,p5,fmt,js,Cocos,ptrType,funcType,mapType,sliceType,arrayType,arrayType$1,arrayType$2,sliceType$1,sliceType$2,sliceType$3,arrayType$3,funcType$1,evtQueue;helper=$packages["app/tool/helper"];protocol=$packages["app/tool/protocol"];uidata=$packages["app/tool/uidata"];p5=$packages["app/view/p5"];fmt=$packages["fmt"];js=$packages["github.com/gopherjs/gopherjs/js"];Cocos=$pkg.Cocos=$newType(0,$kindStruct,"viewer.Cocos",true,"app/tool/viewer",true,function(){this.$val=this;if(arguments.length===0){return;}});ptrType=$ptrType(js.Object);funcType=$funcType([ptrType],[],false);mapType=$mapType($String,$emptyInterface);sliceType=$sliceType($emptyInterface);arrayType=$arrayType($Int,20);arrayType$1=$arrayType(arrayType,20);arrayType$2=$arrayType($Int,2);sliceType$1=$sliceType($String);sliceType$2=$sliceType(protocol.Position);sliceType$3=$sliceType(sliceType$1);arrayType$3=$arrayType($Float64,4);funcType$1=$funcType([],[],false);Cocos.ptr.prototype.AskCommand=function(){var _r,p,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;p=$f.p;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:p=this;_r=$recv(evtQueue);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r[0];/* */}return;}if($f===undefined){$f={$blk:Cocos.ptr.prototype.AskCommand};}$f._r=_r;$f.p=p;$f.$s=$s;$f.$r=$r;return $f;};Cocos.prototype.AskCommand=function(){return this.$val.AskCommand();};Cocos.ptr.prototype.Install=function(){var p;p=this;$global.Model=$externalize($makeMap($String.keyFor,[{k:"OnKeyDown",v:new funcType(function(evt){var evt;$go(function $b(){var keyCode,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;keyCode=$f.keyCode;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:keyCode=$parseInt(evt.keyCode)>>0;$r=$send(evtQueue,(x=new uidata.CommandKeyDown.ptr(keyCode),new x.constructor.elem(x)));/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:$b};}$f.keyCode=keyCode;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;},[]);})},{k:"OnKeyUp",v:new funcType(function(evt){var evt;$go(function(){},[]);})},{k:"Flush",v:new funcType(function(evt){var evt;$go(function $b(){var x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=$send(evtQueue,(x=new uidata.CommandFlush.ptr(),new x.constructor.elem(x)));/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:$b};}$f.x=x;$f.$s=$s;$f.$r=$r;return $f;},[]);})}]),mapType);return $ifaceNil;};Cocos.prototype.Install=function(){return this.$val.Install();};Cocos.ptr.prototype.Render=function(origin){var _entry,_i,_keys,_r,_r$1,_ref,_tuple,active,ctx,ctxObj,err,model,origin,p,pageID,view,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_i=$f._i;_keys=$f._keys;_r=$f._r;_r$1=$f._r$1;_ref=$f._ref;_tuple=$f._tuple;active=$f.active;ctx=$f.ctx;ctxObj=$f.ctxObj;err=$f.err;model=$f.model;origin=$f.origin;p=$f.p;pageID=$f.pageID;view=$f.view;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:p=this;view=$global.View;/* */if(view===undefined){$s=1;continue;}/* */$s=2;continue;/* if (view === undefined) { */case 1:_r=fmt.Println(new sliceType([new $String("view not ready")]));/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_r;$s=-1;return[origin,$ifaceNil];/* } */case 2:ctx=$clone(origin,uidata.UI);_ref=ctx.Actives;_i=0;_keys=$keys(_ref);/* while (true) { */case 4:/* if (!(_i < _keys.length)) { break; } */if(!(_i<_keys.length)){$s=5;continue;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;/* continue; */$s=4;continue;}pageID=_entry.k;active=_entry.v;/* */if(active===false){$s=6;continue;}/* */$s=7;continue;/* if (active === false) { */case 6:_i++;/* continue; */$s=4;continue;/* } */case 7:_r$1=ctx.Model.ObservePage(new ctx.constructor.elem(ctx),pageID);/* */$s=8;case 8:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple=_r$1;ctxObj=_tuple[0];err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}uidata.UI.copy(ctx,$assertType(ctxObj,uidata.UI));_i++;/* } */$s=4;continue;case 5:model=ctx.Model;ctx.Model=$ifaceNil;view.Render($externalize(ctx,uidata.UI));ctx.Model=model;$s=-1;return[ctx,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:Cocos.ptr.prototype.Render};}$f._entry=_entry;$f._i=_i;$f._keys=_keys;$f._r=_r;$f._r$1=_r$1;$f._ref=_ref;$f._tuple=_tuple;$f.active=active;$f.ctx=ctx;$f.ctxObj=ctxObj;$f.err=err;$f.model=model;$f.origin=origin;$f.p=p;$f.pageID=pageID;$f.view=view;$f.$s=$s;$f.$r=$r;return $f;};Cocos.prototype.Render=function(origin){return this.$val.Render(origin);};Cocos.ptr.prototype.RenderRobotMove=function(ui,robotID,path){var _entry,_i,_r,_r$1,_ref,i,local,p,path,robotID,ui,view,wait,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_i=$f._i;_r=$f._r;_r$1=$f._r$1;_ref=$f._ref;i=$f.i;local=$f.local;p=$f.p;path=$f.path;robotID=$f.robotID;ui=$f.ui;view=$f.view;wait=$f.wait;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:wait=[wait];p=this;_ref=path;_i=0;while(true){if(!(_i<_ref.$length)){break;}i=_i;local=$clone(_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i],protocol.Position);protocol.Position.copy(i<0||i>=path.$length?($throwRuntimeError("index out of range"),undefined):path.$array[path.$offset+i],helper.World2Local($clone((_entry=ui.GameplayPages[$Int.keyFor(10)],_entry!==undefined?_entry.v:new uidata.GameplayPage.ptr(false,arrayType$1.zero(),arrayType$2.zero(),arrayType$2.zero(),sliceType$1.nil,false,false,false,false,sliceType$2.nil,sliceType$2.nil,sliceType$2.nil,false,new protocol.RobotMenu.ptr(false,"",sliceType$3.nil,false,false,false,false),new uidata.CursorInfo.ptr(new $packages["app/tool/data"].TerrainProto.ptr("","",arrayType$3.zero(),0,0),""))).Camera,protocol.Position),$clone(local,protocol.Position)));_i++;}wait[0]=new $Chan($emptyInterface,0);view=$global.View;/* */if(view===undefined){$s=1;continue;}/* */$s=2;continue;/* if (view === undefined) { */case 1:_r=fmt.Println(new sliceType([new $String("view not ready")]));/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_r;$s=-1;return;/* } */case 2:view.RenderRobotMove($externalize(robotID,$String),$externalize(path,sliceType$2),$externalize(function(wait){return function(){$go(function(wait){return function(){$close(wait[0]);};}(wait),[]);};}(wait),funcType$1));_r$1=$recv(wait[0]);/* */$s=4;case 4:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_r$1[0];$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:Cocos.ptr.prototype.RenderRobotMove};}$f._entry=_entry;$f._i=_i;$f._r=_r;$f._r$1=_r$1;$f._ref=_ref;$f.i=i;$f.local=local;$f.p=p;$f.path=path;$f.robotID=robotID;$f.ui=ui;$f.view=view;$f.wait=wait;$f.$s=$s;$f.$r=$r;return $f;};Cocos.prototype.RenderRobotMove=function(ui,robotID,path){return this.$val.RenderRobotMove(ui,robotID,path);};Cocos.ptr.prototype.RenderRobotBattle=function(ui,result){var _r,_r$1,_r$2,_r$3,p,result,ui,view,wait,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;p=$f.p;result=$f.result;ui=$f.ui;view=$f.view;wait=$f.wait;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:ui=[ui];wait=[wait];p=this;wait[0]=new $Chan($emptyInterface,0);view=$global.View;/* */if(view===undefined){$s=1;continue;}/* */$s=2;continue;/* if (view === undefined) { */case 1:_r=fmt.Println(new sliceType([new $String("view not ready")]));/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_r;$s=-1;return;/* } */case 2:_r$1=$clone(result,protocol.BattleResult).MapPosition(function(ui,wait){return function(pos){var _entry,pos;return helper.World2Local($clone((_entry=ui[0].GameplayPages[$Int.keyFor(10)],_entry!==undefined?_entry.v:new uidata.GameplayPage.ptr(false,arrayType$1.zero(),arrayType$2.zero(),arrayType$2.zero(),sliceType$1.nil,false,false,false,false,sliceType$2.nil,sliceType$2.nil,sliceType$2.nil,false,new protocol.RobotMenu.ptr(false,"",sliceType$3.nil,false,false,false,false),new uidata.CursorInfo.ptr(new $packages["app/tool/data"].TerrainProto.ptr("","",arrayType$3.zero(),0,0),""))).Camera,protocol.Position),$clone(pos,protocol.Position));};}(ui,wait));/* */$s=4;case 4:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}protocol.BattleResult.copy(result,_r$1);_r$2=$clone(result,protocol.BattleResult).MapRobot(function(ui,wait){return function $b(robot){var _r$2,_r$3,_r$4,_tuple,err,robot,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_tuple=$f._tuple;err=$f.err;robot=$f.robot;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r$2=ui[0].Model.ObserveRobot($clone(robot,protocol.Robot),true);/* */$s=1;case 1:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple=_r$2;robot=$clone(_tuple[0],protocol.Robot);err=_tuple[1];/* */if(!$interfaceIsEqual(err,$ifaceNil)){$s=2;continue;}/* */$s=3;continue;/* if (!($interfaceIsEqual(err, $ifaceNil))) { */case 2:_r$3=err.Error();/* */$s=4;case 4:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_r$4=fmt.Println(new sliceType([new $String(_r$3)]));/* */$s=5;case 5:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}_r$4;/* } */case 3:$s=-1;return robot;/* */}return;}if($f===undefined){$f={$blk:$b};}$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._tuple=_tuple;$f.err=err;$f.robot=robot;$f.$s=$s;$f.$r=$r;return $f;};}(ui,wait));/* */$s=5;case 5:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}protocol.BattleResult.copy(result,_r$2);view.RenderRobotBattle($externalize(result,protocol.BattleResult),$externalize(function(ui,wait){return function(){$go(function(ui,wait){return function(){$close(wait[0]);};}(ui,wait),[]);};}(ui,wait),funcType$1));_r$3=$recv(wait[0]);/* */$s=6;case 6:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_r$3[0];$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:Cocos.ptr.prototype.RenderRobotBattle};}$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f.p=p;$f.result=result;$f.ui=ui;$f.view=view;$f.wait=wait;$f.$s=$s;$f.$r=$r;return $f;};Cocos.prototype.RenderRobotBattle=function(ui,result){return this.$val.RenderRobotBattle(ui,result);};Cocos.ptr.prototype.RenderTurnStart=function(ui,player){var _r,_r$1,p,player,ui,view,wait,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;p=$f.p;player=$f.player;ui=$f.ui;view=$f.view;wait=$f.wait;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:wait=[wait];p=this;wait[0]=new $Chan($emptyInterface,0);view=$global.View;/* */if(view===undefined){$s=1;continue;}/* */$s=2;continue;/* if (view === undefined) { */case 1:_r=fmt.Println(new sliceType([new $String("view not ready")]));/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_r;$s=-1;return;/* } */case 2:view.RenderTurnStart($externalize(player,protocol.Player),$externalize(function(wait){return function(){$go(function(wait){return function(){$close(wait[0]);};}(wait),[]);};}(wait),funcType$1));_r$1=$recv(wait[0]);/* */$s=4;case 4:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_r$1[0];$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:Cocos.ptr.prototype.RenderTurnStart};}$f._r=_r;$f._r$1=_r$1;$f.p=p;$f.player=player;$f.ui=ui;$f.view=view;$f.wait=wait;$f.$s=$s;$f.$r=$r;return $f;};Cocos.prototype.RenderTurnStart=function(ui,player){return this.$val.RenderTurnStart(ui,player);};Cocos.ptr.prototype.Alert=function(msg){var _r,msg,p,view,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;msg=$f.msg;p=$f.p;view=$f.view;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:p=this;view=$global.View;/* */if(view===undefined){$s=1;continue;}/* */$s=2;continue;/* if (view === undefined) { */case 1:_r=fmt.Println(new sliceType([new $String("view not ready")]));/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_r;$s=-1;return;/* } */case 2:view.Alert($externalize(msg,$String));$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:Cocos.ptr.prototype.Alert};}$f._r=_r;$f.msg=msg;$f.p=p;$f.view=view;$f.$s=$s;$f.$r=$r;return $f;};Cocos.prototype.Alert=function(msg){return this.$val.Alert(msg);};Cocos.methods=[{prop:"AskCommand",name:"AskCommand",pkg:"",typ:$funcType([],[$emptyInterface],false)},{prop:"Install",name:"Install",pkg:"",typ:$funcType([],[$error],false)},{prop:"Render",name:"Render",pkg:"",typ:$funcType([uidata.UI],[uidata.UI,$error],false)},{prop:"RenderRobotMove",name:"RenderRobotMove",pkg:"",typ:$funcType([uidata.UI,$String,sliceType$2],[],false)},{prop:"RenderRobotBattle",name:"RenderRobotBattle",pkg:"",typ:$funcType([uidata.UI,protocol.BattleResult],[],false)},{prop:"RenderTurnStart",name:"RenderTurnStart",pkg:"",typ:$funcType([uidata.UI,protocol.Player],[],false)},{prop:"Alert",name:"Alert",pkg:"",typ:$funcType([$String],[],false)}];Cocos.init("",[]);$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=helper.$init();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=protocol.$init();/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=uidata.$init();/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=p5.$init();/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=fmt.$init();/* */$s=5;case 5:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=js.$init();/* */$s=6;case 6:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}evtQueue=new $Chan($emptyInterface,0);/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["app/tool/def"]=function(){var $pkg={},$init,protocol,uidata,viewer,mapType,mapType$1,mapType$2,mapType$3,mapType$4,mapType$5,mapType$6,mapType$7,mapType$8,structType,sliceType,sliceType$1,sliceType$2,arrayType,arrayType$1,structType$1,arrayType$2,arrayType$3,sliceType$3,x,x$1,x$2,x$3,x$4,x$5,x$6,x$7,x$8,x$9,x$10,x$11,x$12,x$13,x$14,x$15;protocol=$packages["app/tool/protocol"];uidata=$packages["app/tool/uidata"];viewer=$packages["app/tool/viewer"];mapType=$mapType($String,$packages["app/tool/data"].RobotProto);mapType$1=$mapType($String,$packages["app/tool/data"].PilotProto);mapType$2=$mapType($String,$packages["app/tool/data"].WeaponProto);mapType$3=$mapType($String,$packages["app/tool/data"].ComponentProto);mapType$4=$mapType($String,protocol.Robot);mapType$5=$mapType($String,protocol.Pilot);mapType$6=$mapType($String,protocol.Weapon);mapType$7=$mapType($String,protocol.Component);mapType$8=$mapType($String,$String);structType=$structType("",[{prop:"Money",name:"Money",embedded:false,exported:true,typ:$Int,tag:""},{prop:"CanBuyRobots",name:"CanBuyRobots",embedded:false,exported:true,typ:mapType,tag:""},{prop:"CanBuyPilots",name:"CanBuyPilots",embedded:false,exported:true,typ:mapType$1,tag:""},{prop:"CanBuyWeapons",name:"CanBuyWeapons",embedded:false,exported:true,typ:mapType$2,tag:""},{prop:"CanBuyComponents",name:"CanBuyComponents",embedded:false,exported:true,typ:mapType$3,tag:""},{prop:"Robots",name:"Robots",embedded:false,exported:true,typ:mapType$4,tag:""},{prop:"Pilots",name:"Pilots",embedded:false,exported:true,typ:mapType$5,tag:""},{prop:"Weapons",name:"Weapons",embedded:false,exported:true,typ:mapType$6,tag:""},{prop:"Components",name:"Components",embedded:false,exported:true,typ:mapType$7,tag:""},{prop:"RobotIDByWeaponID",name:"RobotIDByWeaponID",embedded:false,exported:true,typ:mapType$8,tag:""},{prop:"RobotIDByComponentID",name:"RobotIDByComponentID",embedded:false,exported:true,typ:mapType$8,tag:""},{prop:"PilotIDByRobotID",name:"PilotIDByRobotID",embedded:false,exported:true,typ:mapType$8,tag:""}]);sliceType=$sliceType($Int);sliceType$1=$sliceType($String);sliceType$2=$sliceType(sliceType$1);arrayType=$arrayType($Float64,4);arrayType$1=$arrayType($Int,2);structType$1=$structType("",[{prop:"HitRate",name:"HitRate",embedded:false,exported:true,typ:$Float64,tag:""}]);arrayType$2=$arrayType($Int,20);arrayType$3=$arrayType(arrayType$2,20);sliceType$3=$sliceType(protocol.Position);$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=protocol.$init();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=uidata.$init();/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=viewer.$init();/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$pkg.DefaultUI=new uidata.UI.ptr($ifaceNil,0,$makeMap($Int.keyFor,[{k:13,v:false},{k:11,v:false}]),$makeMap($Int.keyFor,[{k:0,v:(x=new sliceType([15]),$subslice(new uidata.ListInt(x.$array),x.$offset,x.$offset+x.$length))},{k:1,v:(x$1=new sliceType([16]),$subslice(new uidata.ListInt(x$1.$array),x$1.$offset,x$1.$offset+x$1.$length))},{k:2,v:(x$2=new sliceType([17,25,21]),$subslice(new uidata.ListInt(x$2.$array),x$2.$offset,x$2.$offset+x$2.$length))},{k:3,v:(x$3=new sliceType([18,25,22]),$subslice(new uidata.ListInt(x$3.$array),x$3.$offset,x$3.$offset+x$3.$length))},{k:4,v:(x$4=new sliceType([19,25,23]),$subslice(new uidata.ListInt(x$4.$array),x$4.$offset,x$4.$offset+x$4.$length))},{k:5,v:(x$5=new sliceType([20,25,24]),$subslice(new uidata.ListInt(x$5.$array),x$5.$offset,x$5.$offset+x$5.$length))},{k:6,v:(x$6=new sliceType([26,29,18]),$subslice(new uidata.ListInt(x$6.$array),x$6.$offset,x$6.$offset+x$6.$length))},{k:7,v:(x$7=new sliceType([27,29,17]),$subslice(new uidata.ListInt(x$7.$array),x$7.$offset,x$7.$offset+x$7.$length))},{k:8,v:(x$8=new sliceType([28,29,17]),$subslice(new uidata.ListInt(x$8.$array),x$8.$offset,x$8.$offset+x$8.$length))},{k:9,v:(x$9=new sliceType([30]),$subslice(new uidata.ListInt(x$9.$array),x$9.$offset,x$9.$offset+x$9.$length))},{k:11,v:(x$10=new sliceType([31]),$subslice(new uidata.ListInt(x$10.$array),x$10.$offset,x$10.$offset+x$10.$length))},{k:12,v:(x$11=new sliceType([32]),$subslice(new uidata.ListInt(x$11.$array),x$11.$offset,x$11.$offset+x$11.$length))},{k:13,v:(x$12=new sliceType([33]),$subslice(new uidata.ListInt(x$12.$array),x$12.$offset,x$12.$offset+x$12.$length))},{k:10,v:(x$13=new sliceType([31,33]),$subslice(new uidata.ListInt(x$13.$array),x$13.$offset,x$13.$offset+x$13.$length))},{k:14,v:(x$14=new sliceType([34,35,36]),$subslice(new uidata.ListInt(x$14.$array),x$14.$offset,x$14.$offset+x$14.$length))}]),$makeMap($Int.keyFor,[]),$makeMap($Int.keyFor,[{k:15,v:new uidata.Menu1D.ptr(new sliceType$1(["\xE6\x96\xB0\xE9\x81\x8A\xE6\x88\xB2","\xE8\xAE\x80\xE6\xAA\x94"]),false,0,0,10)},{k:16,v:new uidata.Menu1D.ptr(new sliceType$1(["\xE8\xB2\xB7\xE6\xA9\x9F\xE9\xAB\x94","\xE8\xB2\xB7\xE9\xA7\x95\xE9\xA7\x9B","\xE8\xB2\xB7\xE6\xAD\xA6\xE5\x99\xA8","\xE8\xB2\xB7\xE9\x85\x8D\xE4\xBB\xB6","\xE8\xA8\xAD\xE5\xAE\x9A\xE9\xA7\x95\xE9\xA7\x9B","\xE8\xA3\x9D\xE5\x82\x99\xE6\xAD\xA6\xE5\x99\xA8","\xE8\xA3\x9D\xE5\x82\x99\xE9\x85\x8D\xE4\xBB\xB6","\xE5\xAD\x98\xE6\xAA\x94","\xE9\x81\xB8\xE6\x93\x87\xE9\x97\x9C\xE5\x8D\xA1"]),false,0,0,10)},{k:25,v:new uidata.Menu1D.ptr(new sliceType$1(["\xE8\xB2\xB7","\xE8\xB3\xA3"]),false,0,0,10)},{k:29,v:new uidata.Menu1D.ptr(new sliceType$1(["\xE6\x8C\x87\xE5\xAE\x9A","\xE7\xA7\xBB\xE9\x99\xA4"]),false,0,0,10)},{k:17,v:new uidata.Menu1D.ptr(sliceType$1.nil,false,0,0,10)},{k:21,v:new uidata.Menu1D.ptr(sliceType$1.nil,false,0,0,10)},{k:18,v:new uidata.Menu1D.ptr(sliceType$1.nil,false,0,0,10)},{k:22,v:new uidata.Menu1D.ptr(sliceType$1.nil,false,0,0,10)},{k:19,v:new uidata.Menu1D.ptr(sliceType$1.nil,false,0,0,10)},{k:23,v:new uidata.Menu1D.ptr(sliceType$1.nil,false,0,0,10)},{k:20,v:new uidata.Menu1D.ptr(sliceType$1.nil,false,0,0,10)},{k:24,v:new uidata.Menu1D.ptr(sliceType$1.nil,false,0,0,10)},{k:26,v:new uidata.Menu1D.ptr(sliceType$1.nil,false,0,0,10)},{k:27,v:new uidata.Menu1D.ptr(sliceType$1.nil,false,0,0,10)},{k:28,v:new uidata.Menu1D.ptr(sliceType$1.nil,false,0,0,10)},{k:30,v:new uidata.Menu1D.ptr(sliceType$1.nil,$makeMap($String.keyFor,[]),0,0,10)},{k:32,v:new uidata.Menu1D.ptr(sliceType$1.nil,false,0,0,10)},{k:34,v:new uidata.Menu1D.ptr(sliceType$1.nil,false,0,0,10)},{k:35,v:new uidata.Menu1D.ptr(sliceType$1.nil,false,0,0,10)},{k:36,v:new uidata.Menu1D.ptr(sliceType$1.nil,false,0,0,10)}]),$makeMap($Int.keyFor,[{k:31,v:new uidata.Menu2D.ptr(sliceType$2.nil,0,sliceType.nil)}]),$makeMap($Int.keyFor,[{k:33,v:new uidata.BattleMenu.ptr(new uidata.BattleMenuSlot.ptr(new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType.zero(),0,false),new protocol.Pilot.ptr("","","",0,0,0,0,0,0,0,0,0,0,0),1,new protocol.Weapon.ptr("","",0,"",0,arrayType$1.zero(),0,0,arrayType.zero(),sliceType$1.nil,"","",0,0,0,0),new structType$1.ptr(0)),new uidata.BattleMenuSlot.ptr(new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType.zero(),0,false),new protocol.Pilot.ptr("","","",0,0,0,0,0,0,0,0,0,0,0),1,new protocol.Weapon.ptr("","",0,"",0,arrayType$1.zero(),0,0,arrayType.zero(),sliceType$1.nil,"","",0,0,0,0),new structType$1.ptr(0)))}]),$makeMap($Int.keyFor,[{k:10,v:new uidata.GameplayPage.ptr(false,arrayType$3.zero(),$toNativeArray($kindInt,[1,1]),arrayType$1.zero(),new sliceType$1(["0"]),$makeMap($String.keyFor,[{k:"0",v:new protocol.Robot.ptr("","","","","",0,0,$makeMap($String.keyFor,[{k:"",v:$makeMap($String.keyFor,[{k:"0",v:new protocol.Weapon.ptr("","",0,"",0,arrayType$1.zero(),0,0,arrayType.zero(),sliceType$1.nil,"","",0,0,0,0)}])}]),false,"",0,0,0,0,0,0,0,arrayType.zero(),0,false)}]),$makeMap($String.keyFor,[]),$makeMap($String.keyFor,[{k:"0",v:$toNativeArray($kindInt,[0,0])}]),false,new sliceType$3([$toNativeArray($kindInt,[0,0]),$toNativeArray($kindInt,[0,1])]),new sliceType$3([$toNativeArray($kindInt,[0,1]),$toNativeArray($kindInt,[1,1])]),sliceType$3.nil,false,new protocol.RobotMenu.ptr(false,"",sliceType$2.nil,false,false,false,false),new uidata.CursorInfo.ptr(new $packages["app/tool/data"].TerrainProto.ptr("","",arrayType.zero(),0,0),""))}]),new structType.ptr(0,false,false,false,false,false,false,false,false,false,false,false));$pkg.View=(x$15=new viewer.Cocos.ptr(),new x$15.constructor.elem(x$15));/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["app/page/common"]=function(){var $pkg={},$init,def,helper,protocol,uidata,fmt,log,sliceType,sliceType$1,sliceType$2,sliceType$3,arrayType,arrayType$1,arrayType$2,sliceType$4,arrayType$3,sliceType$5,mapType,mapType$1,mapType$2,mapType$3,mapType$4,mapType$5,mapType$6,mapType$7,mapType$8,structType,BasicPagePhase,HandleCamera,HandleCursor,HandleFocus,HandleShowMoveRangeWhenUnitAtCursor,Menu1DStep,Menu2DStep,SelectPositionStep,SelectUnitStep;def=$packages["app/tool/def"];helper=$packages["app/tool/helper"];protocol=$packages["app/tool/protocol"];uidata=$packages["app/tool/uidata"];fmt=$packages["fmt"];log=$packages["tool/log"];sliceType=$sliceType($String);sliceType$1=$sliceType(sliceType);sliceType$2=$sliceType($Int);sliceType$3=$sliceType($emptyInterface);arrayType=$arrayType($Int,20);arrayType$1=$arrayType(arrayType,20);arrayType$2=$arrayType($Int,2);sliceType$4=$sliceType(protocol.Position);arrayType$3=$arrayType($Float64,4);sliceType$5=$sliceType(helper.UIReducer);mapType=$mapType($String,$packages["app/tool/data"].RobotProto);mapType$1=$mapType($String,$packages["app/tool/data"].PilotProto);mapType$2=$mapType($String,$packages["app/tool/data"].WeaponProto);mapType$3=$mapType($String,$packages["app/tool/data"].ComponentProto);mapType$4=$mapType($String,protocol.Robot);mapType$5=$mapType($String,protocol.Pilot);mapType$6=$mapType($String,protocol.Weapon);mapType$7=$mapType($String,protocol.Component);mapType$8=$mapType($String,$String);structType=$structType("",[{prop:"Money",name:"Money",embedded:false,exported:true,typ:$Int,tag:""},{prop:"CanBuyRobots",name:"CanBuyRobots",embedded:false,exported:true,typ:mapType,tag:""},{prop:"CanBuyPilots",name:"CanBuyPilots",embedded:false,exported:true,typ:mapType$1,tag:""},{prop:"CanBuyWeapons",name:"CanBuyWeapons",embedded:false,exported:true,typ:mapType$2,tag:""},{prop:"CanBuyComponents",name:"CanBuyComponents",embedded:false,exported:true,typ:mapType$3,tag:""},{prop:"Robots",name:"Robots",embedded:false,exported:true,typ:mapType$4,tag:""},{prop:"Pilots",name:"Pilots",embedded:false,exported:true,typ:mapType$5,tag:""},{prop:"Weapons",name:"Weapons",embedded:false,exported:true,typ:mapType$6,tag:""},{prop:"Components",name:"Components",embedded:false,exported:true,typ:mapType$7,tag:""},{prop:"RobotIDByWeaponID",name:"RobotIDByWeaponID",embedded:false,exported:true,typ:mapType$8,tag:""},{prop:"RobotIDByComponentID",name:"RobotIDByComponentID",embedded:false,exported:true,typ:mapType$8,tag:""},{prop:"PilotIDByRobotID",name:"PilotIDByRobotID",embedded:false,exported:true,typ:mapType$8,tag:""}]);BasicPagePhase=function(origin,pageID,autoTab,onUpdate,onClickMenu1D,onClickMenu2D){var _entry,_entry$1,_entry$2,_entry$3,_entry$4,_entry$5,_r,_r$1,_r$2,_r$3,_r$4,_r$5,_tmp,_tmp$1,_tmp$2,_tmp$3,_tuple,_tuple$1,_tuple$2,_tuple$3,_tuple$4,_tuple$5,_tuple$6,_tuple$7,_tuple$8,autoTab,cancel,cancel$1,ctx,err,focus,focus$1,focus$2,is,is$1,menuID,onClickMenu1D,onClickMenu2D,onUpdate,origin,outOfRange,outOfRange$1,pageID,selection,selection$1,tab,tab$1,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_entry$1=$f._entry$1;_entry$2=$f._entry$2;_entry$3=$f._entry$3;_entry$4=$f._entry$4;_entry$5=$f._entry$5;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tmp$2=$f._tmp$2;_tmp$3=$f._tmp$3;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;_tuple$4=$f._tuple$4;_tuple$5=$f._tuple$5;_tuple$6=$f._tuple$6;_tuple$7=$f._tuple$7;_tuple$8=$f._tuple$8;autoTab=$f.autoTab;cancel=$f.cancel;cancel$1=$f.cancel$1;ctx=$f.ctx;err=$f.err;focus=$f.focus;focus$1=$f.focus$1;focus$2=$f.focus$2;is=$f.is;is$1=$f.is$1;menuID=$f.menuID;onClickMenu1D=$f.onClickMenu1D;onClickMenu2D=$f.onClickMenu2D;onUpdate=$f.onUpdate;origin=$f.origin;outOfRange=$f.outOfRange;outOfRange$1=$f.outOfRange$1;pageID=$f.pageID;selection=$f.selection;selection$1=$f.selection$1;tab=$f.tab;tab$1=$f.tab$1;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=log.Log(protocol.LogCategoryPhase,"BasicPagePhase","start");/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}err=$ifaceNil;ctx=$clone(origin,uidata.UI);/* while (true) { */case 2:$r=log.Log(protocol.LogCategoryPhase,"BasicPagePhase","onUpdate");/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}_r=onUpdate($clone(ctx,uidata.UI));/* */$s=5;case 5:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;uidata.UI.copy(ctx,_tuple[0]);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}focus=(_entry=ctx.Focus[$Int.keyFor(pageID)],_entry!==undefined?_entry.v:0);menuID=(x=(_entry$1=ctx.Menus[$Int.keyFor(pageID)],_entry$1!==undefined?_entry$1.v:uidata.ListInt.nil),focus<0||focus>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+focus]);_tuple$1=(_entry$2=ctx.Menu1Ds[$Int.keyFor(menuID)],_entry$2!==undefined?[_entry$2.v,true]:[new uidata.Menu1D.ptr(sliceType.nil,false,0,0,0),false]);is=_tuple$1[1];/* */if(is){$s=6;continue;}/* */$s=7;continue;/* if (is) { */case 6:selection="";_tmp=false;_tmp$1=false;cancel=_tmp;tab=_tmp$1;_r$1=Menu1DStep($clone(ctx,uidata.UI),pageID,menuID);/* */$s=9;case 9:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$2=_r$1;uidata.UI.copy(ctx,_tuple$2[0]);selection=_tuple$2[1];cancel=_tuple$2[2];tab=_tuple$2[3];err=_tuple$2[4];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}/* */if(tab){$s=10;continue;}/* */$s=11;continue;/* if (tab) { */case 10:if(autoTab){_tuple$3=helper.Clamp(focus+1>>0,0,(_entry$3=ctx.Menus[$Int.keyFor(pageID)],_entry$3!==undefined?_entry$3.v:uidata.ListInt.nil).$length);focus$1=_tuple$3[0];outOfRange=_tuple$3[1];if(outOfRange){focus$1=0;}ctx.Focus=uidata.AssocIntInt(ctx.Focus,pageID,focus$1);}/* continue; */$s=2;continue;/* } */case 11:_r$2=onClickMenu1D($clone(ctx,uidata.UI),focus,selection,cancel,tab);/* */$s=12;case 12:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$4=_r$2;uidata.UI.copy(ctx,_tuple$4[0]);cancel=_tuple$4[1];err=_tuple$4[2];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}if(cancel){/* break Menu; */$s=3;continue s;}$s=8;continue;/* } else { */case 7:_tuple$5=(_entry$4=ctx.Menu2Ds[$Int.keyFor(menuID)],_entry$4!==undefined?[_entry$4.v,true]:[new uidata.Menu2D.ptr(sliceType$1.nil,0,sliceType$2.nil),false]);is$1=_tuple$5[1];/* */if(is$1){$s=13;continue;}/* */$s=14;continue;/* if (is$1) { */case 13:selection$1="";_tmp$2=false;_tmp$3=false;cancel$1=_tmp$2;tab$1=_tmp$3;_r$3=Menu2DStep($clone(ctx,uidata.UI),1,menuID);/* */$s=16;case 16:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_tuple$6=_r$3;uidata.UI.copy(ctx,_tuple$6[0]);selection$1=_tuple$6[1];cancel$1=_tuple$6[2];tab$1=_tuple$6[3];err=_tuple$6[4];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}/* */if(tab$1){$s=17;continue;}/* */$s=18;continue;/* if (tab$1) { */case 17:if(autoTab){_tuple$7=helper.Clamp(focus+1>>0,0,(_entry$5=ctx.Menus[$Int.keyFor(pageID)],_entry$5!==undefined?_entry$5.v:uidata.ListInt.nil).$length);focus$2=_tuple$7[0];outOfRange$1=_tuple$7[1];if(outOfRange$1){focus$2=0;}ctx.Focus=uidata.AssocIntInt(ctx.Focus,pageID,focus$2);}/* continue; */$s=2;continue;/* } */case 18:_r$4=onClickMenu2D($clone(ctx,uidata.UI),focus,selection$1,cancel$1,tab$1);/* */$s=19;case 19:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}_tuple$8=_r$4;uidata.UI.copy(ctx,_tuple$8[0]);cancel$1=_tuple$8[1];err=_tuple$8[2];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}if(cancel$1){/* break Menu; */$s=3;continue s;}$s=15;continue;/* } else { */case 14:_r$5=fmt.Errorf("component not found: %v",new sliceType$3([new $Int(menuID)]));/* */$s=20;case 20:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}$s=-1;return[origin,_r$5];/* } */case 15:/* } */case 8:/* } */$s=2;continue;case 3:$r=log.Log(protocol.LogCategoryPhase,"BasicPagePhase","end");/* */$s=21;case 21:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return[ctx,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:BasicPagePhase};}$f._entry=_entry;$f._entry$1=_entry$1;$f._entry$2=_entry$2;$f._entry$3=_entry$3;$f._entry$4=_entry$4;$f._entry$5=_entry$5;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tmp$2=_tmp$2;$f._tmp$3=_tmp$3;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f._tuple$4=_tuple$4;$f._tuple$5=_tuple$5;$f._tuple$6=_tuple$6;$f._tuple$7=_tuple$7;$f._tuple$8=_tuple$8;$f.autoTab=autoTab;$f.cancel=cancel;$f.cancel$1=cancel$1;$f.ctx=ctx;$f.err=err;$f.focus=focus;$f.focus$1=focus$1;$f.focus$2=focus$2;$f.is=is;$f.is$1=is$1;$f.menuID=menuID;$f.onClickMenu1D=onClickMenu1D;$f.onClickMenu2D=onClickMenu2D;$f.onUpdate=onUpdate;$f.origin=origin;$f.outOfRange=outOfRange;$f.outOfRange$1=outOfRange$1;$f.pageID=pageID;$f.selection=selection;$f.selection$1=selection$1;$f.tab=tab;$f.tab$1=tab$1;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};$pkg.BasicPagePhase=BasicPagePhase;HandleCamera=function(origin,evt){var _1,_entry,_entry$1,_entry$2,_entry$3,_ref,ctx,detail,evt,gameplayPage,gameplayPage$1,gameplayPage$2,gameplayPage$3,origin;ctx=$clone(origin,uidata.UI);_ref=evt;if($assertType(_ref,uidata.CommandKeyDown,true)[1]){detail=$clone(_ref.$val,uidata.CommandKeyDown);_1=detail.KeyCode;if(_1===38){gameplayPage=$clone((_entry=ctx.GameplayPages[$Int.keyFor(10)],_entry!==undefined?_entry.v:new uidata.GameplayPage.ptr(false,arrayType$1.zero(),arrayType$2.zero(),arrayType$2.zero(),sliceType.nil,false,false,false,false,sliceType$4.nil,sliceType$4.nil,sliceType$4.nil,false,new protocol.RobotMenu.ptr(false,"",sliceType$1.nil,false,false,false,false),new uidata.CursorInfo.ptr(new $packages["app/tool/data"].TerrainProto.ptr("","",arrayType$3.zero(),0,0),""))),uidata.GameplayPage);gameplayPage.Camera[1]=gameplayPage.Camera[1]-1>>0;ctx.GameplayPages=uidata.AssocIntGameplayPage(ctx.GameplayPages,10,$clone(gameplayPage,uidata.GameplayPage));}else if(_1===40){gameplayPage$1=$clone((_entry$1=ctx.GameplayPages[$Int.keyFor(10)],_entry$1!==undefined?_entry$1.v:new uidata.GameplayPage.ptr(false,arrayType$1.zero(),arrayType$2.zero(),arrayType$2.zero(),sliceType.nil,false,false,false,false,sliceType$4.nil,sliceType$4.nil,sliceType$4.nil,false,new protocol.RobotMenu.ptr(false,"",sliceType$1.nil,false,false,false,false),new uidata.CursorInfo.ptr(new $packages["app/tool/data"].TerrainProto.ptr("","",arrayType$3.zero(),0,0),""))),uidata.GameplayPage);gameplayPage$1.Camera[1]=gameplayPage$1.Camera[1]+1>>0;ctx.GameplayPages=uidata.AssocIntGameplayPage(ctx.GameplayPages,10,$clone(gameplayPage$1,uidata.GameplayPage));}else if(_1===37){gameplayPage$2=$clone((_entry$2=ctx.GameplayPages[$Int.keyFor(10)],_entry$2!==undefined?_entry$2.v:new uidata.GameplayPage.ptr(false,arrayType$1.zero(),arrayType$2.zero(),arrayType$2.zero(),sliceType.nil,false,false,false,false,sliceType$4.nil,sliceType$4.nil,sliceType$4.nil,false,new protocol.RobotMenu.ptr(false,"",sliceType$1.nil,false,false,false,false),new uidata.CursorInfo.ptr(new $packages["app/tool/data"].TerrainProto.ptr("","",arrayType$3.zero(),0,0),""))),uidata.GameplayPage);gameplayPage$2.Camera[0]=gameplayPage$2.Camera[0]-1>>0;ctx.GameplayPages=uidata.AssocIntGameplayPage(ctx.GameplayPages,10,$clone(gameplayPage$2,uidata.GameplayPage));}else if(_1===39){gameplayPage$3=$clone((_entry$3=ctx.GameplayPages[$Int.keyFor(10)],_entry$3!==undefined?_entry$3.v:new uidata.GameplayPage.ptr(false,arrayType$1.zero(),arrayType$2.zero(),arrayType$2.zero(),sliceType.nil,false,false,false,false,sliceType$4.nil,sliceType$4.nil,sliceType$4.nil,false,new protocol.RobotMenu.ptr(false,"",sliceType$1.nil,false,false,false,false),new uidata.CursorInfo.ptr(new $packages["app/tool/data"].TerrainProto.ptr("","",arrayType$3.zero(),0,0),""))),uidata.GameplayPage);gameplayPage$3.Camera[0]=gameplayPage$3.Camera[0]+1>>0;ctx.GameplayPages=uidata.AssocIntGameplayPage(ctx.GameplayPages,10,$clone(gameplayPage$3,uidata.GameplayPage));}}return[ctx,$ifaceNil];};$pkg.HandleCamera=HandleCamera;HandleCursor=function(origin,evt){var _1,_entry,_entry$1,_entry$2,_entry$3,_r,_r$1,_r$2,_r$3,_ref,ctx,detail,evt,gameplayPage,gameplayPage$1,gameplayPage$2,gameplayPage$3,origin,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_entry=$f._entry;_entry$1=$f._entry$1;_entry$2=$f._entry$2;_entry$3=$f._entry$3;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_ref=$f._ref;ctx=$f.ctx;detail=$f.detail;evt=$f.evt;gameplayPage=$f.gameplayPage;gameplayPage$1=$f.gameplayPage$1;gameplayPage$2=$f.gameplayPage$2;gameplayPage$3=$f.gameplayPage$3;origin=$f.origin;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:ctx=$clone(origin,uidata.UI);_ref=evt;/* */if($assertType(_ref,uidata.CommandKeyDown,true)[1]){$s=1;continue;}/* */$s=2;continue;/* if ($assertType(_ref, uidata.CommandKeyDown, true)[1]) { */case 1:detail=$clone(_ref.$val,uidata.CommandKeyDown);_1=detail.KeyCode;/* */if(_1===87){$s=4;continue;}/* */if(_1===83){$s=5;continue;}/* */if(_1===65){$s=6;continue;}/* */if(_1===68){$s=7;continue;}/* */$s=8;continue;/* if (_1 === (87)) { */case 4:gameplayPage=$clone((_entry=ctx.GameplayPages[$Int.keyFor(10)],_entry!==undefined?_entry.v:new uidata.GameplayPage.ptr(false,arrayType$1.zero(),arrayType$2.zero(),arrayType$2.zero(),sliceType.nil,false,false,false,false,sliceType$4.nil,sliceType$4.nil,sliceType$4.nil,false,new protocol.RobotMenu.ptr(false,"",sliceType$1.nil,false,false,false,false),new uidata.CursorInfo.ptr(new $packages["app/tool/data"].TerrainProto.ptr("","",arrayType$3.zero(),0,0),""))),uidata.GameplayPage);if(gameplayPage.Cursor[1]===0){gameplayPage.Camera[1]=gameplayPage.Camera[1]-1>>0;}else{gameplayPage.Cursor[1]=gameplayPage.Cursor[1]-1>>0;}_r=ctx.Model.SetCursor($clone(helper.Local2World($clone(gameplayPage.Camera,protocol.Position),$clone(gameplayPage.Cursor,protocol.Position)),protocol.Position));/* */$s=9;case 9:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}ctx.Model=_r;ctx.GameplayPages=uidata.AssocIntGameplayPage(ctx.GameplayPages,10,$clone(gameplayPage,uidata.GameplayPage));$s=8;continue;/* } else if (_1 === (83)) { */case 5:gameplayPage$1=$clone((_entry$1=ctx.GameplayPages[$Int.keyFor(10)],_entry$1!==undefined?_entry$1.v:new uidata.GameplayPage.ptr(false,arrayType$1.zero(),arrayType$2.zero(),arrayType$2.zero(),sliceType.nil,false,false,false,false,sliceType$4.nil,sliceType$4.nil,sliceType$4.nil,false,new protocol.RobotMenu.ptr(false,"",sliceType$1.nil,false,false,false,false),new uidata.CursorInfo.ptr(new $packages["app/tool/data"].TerrainProto.ptr("","",arrayType$3.zero(),0,0),""))),uidata.GameplayPage);if(gameplayPage$1.Cursor[1]===19){gameplayPage$1.Camera[1]=gameplayPage$1.Camera[1]+1>>0;}else{gameplayPage$1.Cursor[1]=gameplayPage$1.Cursor[1]+1>>0;}_r$1=ctx.Model.SetCursor($clone(helper.Local2World($clone(gameplayPage$1.Camera,protocol.Position),$clone(gameplayPage$1.Cursor,protocol.Position)),protocol.Position));/* */$s=10;case 10:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}ctx.Model=_r$1;ctx.GameplayPages=uidata.AssocIntGameplayPage(ctx.GameplayPages,10,$clone(gameplayPage$1,uidata.GameplayPage));$s=8;continue;/* } else if (_1 === (65)) { */case 6:gameplayPage$2=$clone((_entry$2=ctx.GameplayPages[$Int.keyFor(10)],_entry$2!==undefined?_entry$2.v:new uidata.GameplayPage.ptr(false,arrayType$1.zero(),arrayType$2.zero(),arrayType$2.zero(),sliceType.nil,false,false,false,false,sliceType$4.nil,sliceType$4.nil,sliceType$4.nil,false,new protocol.RobotMenu.ptr(false,"",sliceType$1.nil,false,false,false,false),new uidata.CursorInfo.ptr(new $packages["app/tool/data"].TerrainProto.ptr("","",arrayType$3.zero(),0,0),""))),uidata.GameplayPage);if(gameplayPage$2.Cursor[0]===0){gameplayPage$2.Camera[0]=gameplayPage$2.Camera[0]-1>>0;}else{gameplayPage$2.Cursor[0]=gameplayPage$2.Cursor[0]-1>>0;}_r$2=ctx.Model.SetCursor($clone(helper.Local2World($clone(gameplayPage$2.Camera,protocol.Position),$clone(gameplayPage$2.Cursor,protocol.Position)),protocol.Position));/* */$s=11;case 11:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}ctx.Model=_r$2;ctx.GameplayPages=uidata.AssocIntGameplayPage(ctx.GameplayPages,10,$clone(gameplayPage$2,uidata.GameplayPage));$s=8;continue;/* } else if (_1 === (68)) { */case 7:gameplayPage$3=$clone((_entry$3=ctx.GameplayPages[$Int.keyFor(10)],_entry$3!==undefined?_entry$3.v:new uidata.GameplayPage.ptr(false,arrayType$1.zero(),arrayType$2.zero(),arrayType$2.zero(),sliceType.nil,false,false,false,false,sliceType$4.nil,sliceType$4.nil,sliceType$4.nil,false,new protocol.RobotMenu.ptr(false,"",sliceType$1.nil,false,false,false,false),new uidata.CursorInfo.ptr(new $packages["app/tool/data"].TerrainProto.ptr("","",arrayType$3.zero(),0,0),""))),uidata.GameplayPage);if(gameplayPage$3.Cursor[0]===19){gameplayPage$3.Camera[0]=gameplayPage$3.Camera[0]+1>>0;}else{gameplayPage$3.Cursor[0]=gameplayPage$3.Cursor[0]+1>>0;}_r$3=ctx.Model.SetCursor($clone(helper.Local2World($clone(gameplayPage$3.Camera,protocol.Position),$clone(gameplayPage$3.Cursor,protocol.Position)),protocol.Position));/* */$s=12;case 12:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}ctx.Model=_r$3;ctx.GameplayPages=uidata.AssocIntGameplayPage(ctx.GameplayPages,10,$clone(gameplayPage$3,uidata.GameplayPage));/* } */case 8:case 3:/* } */case 2:$s=-1;return[ctx,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:HandleCursor};}$f._1=_1;$f._entry=_entry;$f._entry$1=_entry$1;$f._entry$2=_entry$2;$f._entry$3=_entry$3;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._ref=_ref;$f.ctx=ctx;$f.detail=detail;$f.evt=evt;$f.gameplayPage=gameplayPage;$f.gameplayPage$1=gameplayPage$1;$f.gameplayPage$2=gameplayPage$2;$f.gameplayPage$3=gameplayPage$3;$f.origin=origin;$f.$s=$s;$f.$r=$r;return $f;};$pkg.HandleCursor=HandleCursor;HandleFocus=function(origin,pageID,cmd){var _1,_entry,_entry$1,_entry$2,_entry$3,_entry$4,_entry$5,_entry$6,_ref,_tuple,_tuple$1,_tuple$2,_tuple$3,cmd,ctx,detail,focus,focus$1,has,has$1,isOver,isOver$1,origin,pageID;ctx=$clone(origin,uidata.UI);_tuple=(_entry=ctx.Focus[$Int.keyFor(pageID)],_entry!==undefined?[_entry.v,true]:[0,false]);has=_tuple[1];if(has===false){return[origin,$ifaceNil];}_tuple$1=(_entry$1=ctx.Menus[$Int.keyFor(pageID)],_entry$1!==undefined?[_entry$1.v,true]:[uidata.ListInt.nil,false]);has$1=_tuple$1[1];if(has$1===false){return[origin,$ifaceNil];}_ref=cmd;if($assertType(_ref,uidata.CommandKeyDown,true)[1]){detail=$clone(_ref.$val,uidata.CommandKeyDown);_1=detail.KeyCode;if(_1===81){focus=(_entry$2=ctx.Focus[$Int.keyFor(pageID)],_entry$2!==undefined?_entry$2.v:0);_tuple$2=helper.Clamp(focus-1>>0,0,(_entry$3=ctx.Menus[$Int.keyFor(pageID)],_entry$3!==undefined?_entry$3.v:uidata.ListInt.nil).$length);focus=_tuple$2[0];isOver=_tuple$2[1];if(isOver){focus=(_entry$4=ctx.Menus[$Int.keyFor(pageID)],_entry$4!==undefined?_entry$4.v:uidata.ListInt.nil).$length-1>>0;}ctx.Focus=uidata.AssocIntInt(ctx.Focus,pageID,focus);}else if(_1===69){focus$1=(_entry$5=ctx.Focus[$Int.keyFor(pageID)],_entry$5!==undefined?_entry$5.v:0);_tuple$3=helper.Clamp(focus$1+1>>0,0,(_entry$6=ctx.Menus[$Int.keyFor(pageID)],_entry$6!==undefined?_entry$6.v:uidata.ListInt.nil).$length);focus$1=_tuple$3[0];isOver$1=_tuple$3[1];if(isOver$1){focus$1=0;}ctx.Focus=uidata.AssocIntInt(ctx.Focus,pageID,focus$1);}}return[ctx,$ifaceNil];};$pkg.HandleFocus=HandleFocus;HandleShowMoveRangeWhenUnitAtCursor=function(origin,evt){var _r,_r$1,_r$2,_r$3,_r$4,_tuple,ctx,err,evt,moveRange,notFound,origin,tree,unitAtCursor,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_tuple=$f._tuple;ctx=$f.ctx;err=$f.err;evt=$f.evt;moveRange=$f.moveRange;notFound=$f.notFound;origin=$f.origin;tree=$f.tree;unitAtCursor=$f.unitAtCursor;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:ctx=$clone(origin,uidata.UI);notFound="";_r=ctx.Model.GetCursor();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_r$1=ctx.Model.QueryUnitByPosition($clone(_r,protocol.Position));/* */$s=2;case 2:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}unitAtCursor=_r$1;/* */if(!(unitAtCursor===notFound)){$s=3;continue;}/* */$s=4;continue;/* if (!(unitAtCursor === notFound)) { */case 3:_r$2=ctx.Model.QueryMoveRangeTree(unitAtCursor);/* */$s=6;case 6:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple=_r$2;tree=_tuple[0];err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}moveRange=helper.MoveRangeTree2MoveRange(tree);_r$3=ctx.Model.SetMoveRange(moveRange);/* */$s=7;case 7:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}ctx.Model=_r$3;$s=5;continue;/* } else { */case 4:_r$4=ctx.Model.SetMoveRange(sliceType$4.nil);/* */$s=8;case 8:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}ctx.Model=_r$4;/* } */case 5:$s=-1;return[ctx,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:HandleShowMoveRangeWhenUnitAtCursor};}$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._tuple=_tuple;$f.ctx=ctx;$f.err=err;$f.evt=evt;$f.moveRange=moveRange;$f.notFound=notFound;$f.origin=origin;$f.tree=tree;$f.unitAtCursor=unitAtCursor;$f.$s=$s;$f.$r=$r;return $f;};$pkg.HandleShowMoveRangeWhenUnitAtCursor=HandleShowMoveRangeWhenUnitAtCursor;Menu1DStep=function(origin,pageID,menuID){var _1,_arg,_arg$1,_arg$2,_arg$3,_entry,_entry$1,_entry$10,_entry$11,_entry$2,_entry$3,_entry$4,_entry$5,_entry$6,_entry$7,_entry$8,_entry$9,_key,_r,_r$1,_r$2,_r$3,_r$4,_r$5,_r$6,_r$7,_ref,_tuple,_tuple$1,_tuple$2,_tuple$3,cmd,ctx,detail,err,focus,has,idx,idx$1,menu,menu$1,menu$2,menu$3,menu$4,menu$5,menu$6,menuID,origin,over,pageID,view,x,x$1,x$2,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_arg=$f._arg;_arg$1=$f._arg$1;_arg$2=$f._arg$2;_arg$3=$f._arg$3;_entry=$f._entry;_entry$1=$f._entry$1;_entry$10=$f._entry$10;_entry$11=$f._entry$11;_entry$2=$f._entry$2;_entry$3=$f._entry$3;_entry$4=$f._entry$4;_entry$5=$f._entry$5;_entry$6=$f._entry$6;_entry$7=$f._entry$7;_entry$8=$f._entry$8;_entry$9=$f._entry$9;_key=$f._key;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_r$7=$f._r$7;_ref=$f._ref;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;cmd=$f.cmd;ctx=$f.ctx;detail=$f.detail;err=$f.err;focus=$f.focus;has=$f.has;idx=$f.idx;idx$1=$f.idx$1;menu=$f.menu;menu$1=$f.menu$1;menu$2=$f.menu$2;menu$3=$f.menu$3;menu$4=$f.menu$4;menu$5=$f.menu$5;menu$6=$f.menu$6;menuID=$f.menuID;origin=$f.origin;over=$f.over;pageID=$f.pageID;view=$f.view;x=$f.x;x$1=$f.x$1;x$2=$f.x$2;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=log.Log(protocol.LogCategoryPhase,"Menu1DStep","start");/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}err=$ifaceNil;ctx=$clone(origin,uidata.UI);view=def.View;_tuple=(_entry=ctx.Menu1Ds[$Int.keyFor(menuID)],_entry!==undefined?[_entry.v,true]:[new uidata.Menu1D.ptr(sliceType.nil,false,0,0,0),false]);has=_tuple[1];/* */if(has===false){$s=2;continue;}/* */$s=3;continue;/* if (has === false) { */case 2:_r=fmt.Errorf("not found menu1D: %v",new sliceType$3([new $Int(menuID)]));/* */$s=4;case 4:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return[origin,"",false,false,_r];/* } */case 3:/* while (true) { */case 5:_r$1=view.Render($clone(ctx,uidata.UI));/* */$s=7;case 7:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$1=_r$1;uidata.UI.copy(ctx,_tuple$1[0]);err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,"",false,false,err];}$r=log.Log(protocol.LogCategoryPhase,"Menu1DStep","AskCommand");/* */$s=8;case 8:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}_r$2=view.AskCommand();/* */$s=9;case 9:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}cmd=_r$2;_arg=protocol.LogCategoryPhase;_r$3=fmt.Sprintf("cmd(%+v)\n",new sliceType$3([cmd]));/* */$s=10;case 10:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_arg$1=_r$3;$r=log.Log(_arg,"Menu1DStep",_arg$1);/* */$s=11;case 11:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}if($interfaceIsEqual(cmd,$ifaceNil)){$s=-1;return[ctx,"",false,false,protocol.ErrTerminate];}_tuple$2=HandleFocus($clone(ctx,uidata.UI),pageID,cmd);uidata.UI.copy(ctx,_tuple$2[0]);err=_tuple$2[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,"",false,false,err];}_ref=cmd;/* */if($assertType(_ref,uidata.CommandKeyDown,true)[1]){$s=12;continue;}/* */$s=13;continue;/* if ($assertType(_ref, uidata.CommandKeyDown, true)[1]) { */case 12:detail=$clone(_ref.$val,uidata.CommandKeyDown);_1=detail.KeyCode;/* */if(_1===87){$s=15;continue;}/* */if(_1===83){$s=16;continue;}/* */if(_1===65){$s=17;continue;}/* */if(_1===68){$s=18;continue;}/* */if(_1===69||_1===81){$s=19;continue;}/* */if(_1===13){$s=20;continue;}/* */if(_1===222){$s=21;continue;}/* */if(_1===32){$s=22;continue;}/* */$s=23;continue;/* if (_1 === (87)) { */case 15:menu=$clone((_entry$1=ctx.Menu1Ds[$Int.keyFor(menuID)],_entry$1!==undefined?_entry$1.v:new uidata.Menu1D.ptr(sliceType.nil,false,0,0,0)),uidata.Menu1D);if(menu.Options.$length===0){/* continue; */$s=5;continue;}menu.Cursor=helper.Max(menu.Cursor-1>>0,0);ctx.Menu1Ds=uidata.AssocIntMenu1D(ctx.Menu1Ds,menuID,$clone(menu,uidata.Menu1D));$s=23;continue;/* } else if (_1 === (83)) { */case 16:menu$1=$clone((_entry$2=ctx.Menu1Ds[$Int.keyFor(menuID)],_entry$2!==undefined?_entry$2.v:new uidata.Menu1D.ptr(sliceType.nil,false,0,0,0)),uidata.Menu1D);if(menu$1.Options.$length===0){/* continue; */$s=5;continue;}menu$1.Cursor=helper.Min(menu$1.Cursor+1>>0,menu$1.Options.$length-1>>0);ctx.Menu1Ds=uidata.AssocIntMenu1D(ctx.Menu1Ds,menuID,$clone(menu$1,uidata.Menu1D));$s=23;continue;/* } else if (_1 === (65)) { */case 17:menu$2=$clone((_entry$3=ctx.Menu1Ds[$Int.keyFor(menuID)],_entry$3!==undefined?_entry$3.v:new uidata.Menu1D.ptr(sliceType.nil,false,0,0,0)),uidata.Menu1D);menu$2.Offset=helper.Max(menu$2.Offset-menu$2.Limit>>0,0);ctx.Menu1Ds=uidata.AssocIntMenu1D(ctx.Menu1Ds,menuID,$clone(menu$2,uidata.Menu1D));$s=23;continue;/* } else if (_1 === (68)) { */case 18:menu$3=$clone((_entry$4=ctx.Menu1Ds[$Int.keyFor(menuID)],_entry$4!==undefined?_entry$4.v:new uidata.Menu1D.ptr(sliceType.nil,false,0,0,0)),uidata.Menu1D);menu$3.Offset=menu$3.Offset+menu$3.Limit>>0;ctx.Menu1Ds=uidata.AssocIntMenu1D(ctx.Menu1Ds,menuID,$clone(menu$3,uidata.Menu1D));$s=23;continue;/* } else if ((_1 === (69)) || (_1 === (81))) { */case 19:$s=-1;return[ctx,"",false,true,$ifaceNil];/* } else if (_1 === (13)) { */case 20:menu$4=$clone((_entry$5=ctx.Menu1Ds[$Int.keyFor(menuID)],_entry$5!==undefined?_entry$5.v:new uidata.Menu1D.ptr(sliceType.nil,false,0,0,0)),uidata.Menu1D);/* */if(menu$4.Options.$length===0){$s=24;continue;}/* */$s=25;continue;/* if (menu$4.Options.$length === 0) { */case 24:$r=log.Log(protocol.LogCategoryWarning,"Menu1DStep","\xE6\xB2\x92\xE6\x9C\x89\xE4\xBB\xBB\xE4\xBD\x95Options, \xE7\x95\xB6\xE6\x88\x90\xE5\x88\x87\xE6\x8F\x9BFocus");/* */$s=26;case 26:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}focus=(_entry$6=ctx.Focus[$Int.keyFor(pageID)],_entry$6!==undefined?_entry$6.v:0);_tuple$3=helper.Clamp(focus+1>>0,0,(_entry$7=ctx.Menus[$Int.keyFor(pageID)],_entry$7!==undefined?_entry$7.v:uidata.ListInt.nil).$length);focus=_tuple$3[0];over=_tuple$3[1];if(over){focus=(_r$4=focus%(_entry$8=ctx.Menus[$Int.keyFor(pageID)],_entry$8!==undefined?_entry$8.v:uidata.ListInt.nil).$length,_r$4===_r$4?_r$4:$throwRuntimeError("integer divide by zero"));}ctx.Focus=uidata.AssocIntInt(ctx.Focus,pageID,focus);$s=-1;return[ctx,"",false,true,$ifaceNil];/* } */case 25:/* break AskCommand; */$s=6;continue s;$s=23;continue;/* } else if (_1 === (222)) { */case 21:$s=-1;return[ctx,"",true,false,$ifaceNil];/* } else if (_1 === (32)) { */case 22:menu$5=$clone((_entry$9=ctx.Menu1Ds[$Int.keyFor(menuID)],_entry$9!==undefined?_entry$9.v:new uidata.Menu1D.ptr(sliceType.nil,false,0,0,0)),uidata.Menu1D);/* */if(menu$5.Selection===false){$s=27;continue;}/* */$s=28;continue;/* if (menu$5.Selection === false) { */case 27:_arg$2=protocol.LogCategoryWarning;_r$5=fmt.Sprintf("please init Selection field. Menu(%v)\n",new sliceType$3([new $Int(menuID)]));/* */$s=29;case 29:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}_arg$3=_r$5;$r=log.Log(_arg$2,"Menu1DStep",_arg$3);/* */$s=30;case 30:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* continue; */$s=5;continue;/* } */case 28:idx=menu$5.Cursor;/* */if(idx<0||idx>=menu$5.Options.$length){$s=31;continue;}/* */$s=32;continue;/* if (idx < 0 || idx >= menu$5.Options.$length) { */case 31:_r$6=fmt.Errorf("Menu1DStep index out of range. Menu(%v) (%v/%v)",new sliceType$3([new $Int(menuID),new $Int(idx),new $Int(menu$5.Options.$length)]));/* */$s=33;case 33:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}$s=-1;return[ctx,"",false,false,_r$6];/* } */case 32:_key=(x=menu$5.Options,idx<0||idx>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+idx]);(menu$5.Selection||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key)]={k:_key,v:!(_entry$10=menu$5.Selection[$String.keyFor((x$1=menu$5.Options,idx<0||idx>=x$1.$length?($throwRuntimeError("index out of range"),undefined):x$1.$array[x$1.$offset+idx]))],_entry$10!==undefined?_entry$10.v:false)};ctx.Menu1Ds=uidata.AssocIntMenu1D(ctx.Menu1Ds,menuID,$clone(menu$5,uidata.Menu1D));/* } */case 23:case 14:/* } */case 13:/* } */$s=5;continue;case 6:menu$6=$clone((_entry$11=ctx.Menu1Ds[$Int.keyFor(menuID)],_entry$11!==undefined?_entry$11.v:new uidata.Menu1D.ptr(sliceType.nil,false,0,0,0)),uidata.Menu1D);idx$1=menu$6.Cursor;/* */if(idx$1<0||idx$1>=menu$6.Options.$length){$s=34;continue;}/* */$s=35;continue;/* if (idx$1 < 0 || idx$1 >= menu$6.Options.$length) { */case 34:_r$7=fmt.Errorf("Menu1DStep index out of range. Menu(%v) (%v/%v)",new sliceType$3([new $Int(menuID),new $Int(idx$1),new $Int(menu$6.Options.$length)]));/* */$s=36;case 36:if($c){$c=false;_r$7=_r$7.$blk();}if(_r$7&&_r$7.$blk!==undefined){break s;}$s=-1;return[ctx,"",false,false,_r$7];/* } */case 35:$r=log.Log(protocol.LogCategoryPhase,"Menu1DStep","end");/* */$s=37;case 37:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return[ctx,(x$2=menu$6.Options,idx$1<0||idx$1>=x$2.$length?($throwRuntimeError("index out of range"),undefined):x$2.$array[x$2.$offset+idx$1]),false,false,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:Menu1DStep};}$f._1=_1;$f._arg=_arg;$f._arg$1=_arg$1;$f._arg$2=_arg$2;$f._arg$3=_arg$3;$f._entry=_entry;$f._entry$1=_entry$1;$f._entry$10=_entry$10;$f._entry$11=_entry$11;$f._entry$2=_entry$2;$f._entry$3=_entry$3;$f._entry$4=_entry$4;$f._entry$5=_entry$5;$f._entry$6=_entry$6;$f._entry$7=_entry$7;$f._entry$8=_entry$8;$f._entry$9=_entry$9;$f._key=_key;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._r$7=_r$7;$f._ref=_ref;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f.cmd=cmd;$f.ctx=ctx;$f.detail=detail;$f.err=err;$f.focus=focus;$f.has=has;$f.idx=idx;$f.idx$1=idx$1;$f.menu=menu;$f.menu$1=menu$1;$f.menu$2=menu$2;$f.menu$3=menu$3;$f.menu$4=menu$4;$f.menu$5=menu$5;$f.menu$6=menu$6;$f.menuID=menuID;$f.origin=origin;$f.over=over;$f.pageID=pageID;$f.view=view;$f.x=x;$f.x$1=x$1;$f.x$2=x$2;$f.$s=$s;$f.$r=$r;return $f;};$pkg.Menu1DStep=Menu1DStep;Menu2DStep=function(origin,pageID,menuID){var _1,_arg,_arg$1,_entry,_entry$1,_entry$2,_entry$3,_entry$4,_entry$5,_r,_r$1,_r$2,_r$3,_r$4,_r$5,_r$6,_ref,_tuple,_tuple$1,_tuple$2,cmd,ctx,detail,err,has,menu,menu$1,menu$2,menu$3,menu$4,menuID,origin,pageID,view,x,x$1,x$10,x$11,x$12,x$13,x$14,x$15,x$16,x$17,x$18,x$19,x$2,x$3,x$4,x$5,x$6,x$7,x$8,x$9,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_arg=$f._arg;_arg$1=$f._arg$1;_entry=$f._entry;_entry$1=$f._entry$1;_entry$2=$f._entry$2;_entry$3=$f._entry$3;_entry$4=$f._entry$4;_entry$5=$f._entry$5;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_ref=$f._ref;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;cmd=$f.cmd;ctx=$f.ctx;detail=$f.detail;err=$f.err;has=$f.has;menu=$f.menu;menu$1=$f.menu$1;menu$2=$f.menu$2;menu$3=$f.menu$3;menu$4=$f.menu$4;menuID=$f.menuID;origin=$f.origin;pageID=$f.pageID;view=$f.view;x=$f.x;x$1=$f.x$1;x$10=$f.x$10;x$11=$f.x$11;x$12=$f.x$12;x$13=$f.x$13;x$14=$f.x$14;x$15=$f.x$15;x$16=$f.x$16;x$17=$f.x$17;x$18=$f.x$18;x$19=$f.x$19;x$2=$f.x$2;x$3=$f.x$3;x$4=$f.x$4;x$5=$f.x$5;x$6=$f.x$6;x$7=$f.x$7;x$8=$f.x$8;x$9=$f.x$9;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=log.Log(protocol.LogCategoryPhase,"Menu2DStep","start");/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}err=$ifaceNil;ctx=$clone(origin,uidata.UI);view=def.View;_tuple=(_entry=ctx.Menu2Ds[$Int.keyFor(menuID)],_entry!==undefined?[_entry.v,true]:[new uidata.Menu2D.ptr(sliceType$1.nil,0,sliceType$2.nil),false]);has=_tuple[1];/* */if(has===false){$s=2;continue;}/* */$s=3;continue;/* if (has === false) { */case 2:_r=fmt.Errorf("not found menu2D: %v",new sliceType$3([new $Int(menuID)]));/* */$s=4;case 4:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return[origin,"",false,false,_r];/* } */case 3:/* while (true) { */case 5:_r$1=view.Render($clone(ctx,uidata.UI));/* */$s=7;case 7:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$1=_r$1;uidata.UI.copy(ctx,_tuple$1[0]);err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,"",false,false,err];}$r=log.Log(protocol.LogCategoryPhase,"Menu2DStep","AskCommand");/* */$s=8;case 8:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}_r$2=view.AskCommand();/* */$s=9;case 9:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}cmd=_r$2;_arg=protocol.LogCategoryPhase;_r$3=fmt.Sprintf("cmd(%+v)\n",new sliceType$3([cmd]));/* */$s=10;case 10:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_arg$1=_r$3;$r=log.Log(_arg,"Menu2DStep",_arg$1);/* */$s=11;case 11:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,"",false,false,err];}if($interfaceIsEqual(cmd,$ifaceNil)){$s=-1;return[origin,"",false,false,protocol.ErrTerminate];}_tuple$2=HandleFocus($clone(ctx,uidata.UI),pageID,cmd);uidata.UI.copy(ctx,_tuple$2[0]);err=_tuple$2[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,"",false,false,err];}_ref=cmd;/* */if($assertType(_ref,uidata.CommandKeyDown,true)[1]){$s=12;continue;}/* */$s=13;continue;/* if ($assertType(_ref, uidata.CommandKeyDown, true)[1]) { */case 12:detail=$clone(_ref.$val,uidata.CommandKeyDown);_1=detail.KeyCode;/* */if(_1===87){$s=15;continue;}/* */if(_1===83){$s=16;continue;}/* */if(_1===65){$s=17;continue;}/* */if(_1===68){$s=18;continue;}/* */if(_1===69||_1===81){$s=19;continue;}/* */if(_1===13){$s=20;continue;}/* */if(_1===222){$s=21;continue;}/* */$s=22;continue;/* if (_1 === (87)) { */case 15:menu=$clone((_entry$1=ctx.Menu2Ds[$Int.keyFor(menuID)],_entry$1!==undefined?_entry$1.v:new uidata.Menu2D.ptr(sliceType$1.nil,0,sliceType$2.nil)),uidata.Menu2D);if(menu.Options.$length===0){/* continue; */$s=5;continue;}menu.Cursor1=menu.Cursor1-1>>0;ctx.Menu2Ds=uidata.AssocIntMenu2D(ctx.Menu2Ds,menuID,$clone(menu,uidata.Menu2D));$s=22;continue;/* } else if (_1 === (83)) { */case 16:menu$1=$clone((_entry$2=ctx.Menu2Ds[$Int.keyFor(menuID)],_entry$2!==undefined?_entry$2.v:new uidata.Menu2D.ptr(sliceType$1.nil,0,sliceType$2.nil)),uidata.Menu2D);if(menu$1.Options.$length===0){/* continue; */$s=5;continue;}menu$1.Cursor1=menu$1.Cursor1+1>>0;ctx.Menu2Ds=uidata.AssocIntMenu2D(ctx.Menu2Ds,menuID,$clone(menu$1,uidata.Menu2D));$s=22;continue;/* } else if (_1 === (65)) { */case 17:menu$2=$clone((_entry$3=ctx.Menu2Ds[$Int.keyFor(menuID)],_entry$3!==undefined?_entry$3.v:new uidata.Menu2D.ptr(sliceType$1.nil,0,sliceType$2.nil)),uidata.Menu2D);/* */if(menu$2.Cursor2===sliceType$2.nil){$s=23;continue;}/* */$s=24;continue;/* if (menu$2.Cursor2 === sliceType$2.nil) { */case 23:_r$4=fmt.Errorf("[Menu2DStep] Cursor2 must not nil",new sliceType$3([]));/* */$s=25;case 25:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}$s=-1;return[origin,"",false,false,_r$4];/* } */case 24:/* */if(menu$2.Options.$length===0){$s=26;continue;}/* */$s=27;continue;/* if (menu$2.Options.$length === 0) { */case 26:/* continue; */$s=5;continue;/* } */case 27:if((x=menu$2.Options,x$1=menu$2.Cursor1,x$1<0||x$1>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+x$1]).$length===0){/* continue; */$s=5;continue;}x$4=menu$2.Cursor2,x$5=menu$2.Cursor1,x$5<0||x$5>=x$4.$length?($throwRuntimeError("index out of range"),undefined):x$4.$array[x$4.$offset+x$5]=helper.Max(0,(x$2=menu$2.Cursor2,x$3=menu$2.Cursor1,x$3<0||x$3>=x$2.$length?($throwRuntimeError("index out of range"),undefined):x$2.$array[x$2.$offset+x$3])-1>>0);ctx.Menu2Ds=uidata.AssocIntMenu2D(ctx.Menu2Ds,menuID,$clone(menu$2,uidata.Menu2D));$s=22;continue;/* } else if (_1 === (68)) { */case 18:menu$3=$clone((_entry$4=ctx.Menu2Ds[$Int.keyFor(menuID)],_entry$4!==undefined?_entry$4.v:new uidata.Menu2D.ptr(sliceType$1.nil,0,sliceType$2.nil)),uidata.Menu2D);/* */if(menu$3.Cursor2===sliceType$2.nil){$s=28;continue;}/* */$s=29;continue;/* if (menu$3.Cursor2 === sliceType$2.nil) { */case 28:_r$5=fmt.Errorf("[Menu2DStep] Cursor2 must not nil",new sliceType$3([]));/* */$s=30;case 30:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}$s=-1;return[origin,"",false,false,_r$5];/* } */case 29:if(menu$3.Options.$length===0){/* continue; */$s=5;continue;}if((x$6=menu$3.Options,x$7=menu$3.Cursor1,x$7<0||x$7>=x$6.$length?($throwRuntimeError("index out of range"),undefined):x$6.$array[x$6.$offset+x$7]).$length===0){/* continue; */$s=5;continue;}x$12=menu$3.Cursor2,x$13=menu$3.Cursor1,x$13<0||x$13>=x$12.$length?($throwRuntimeError("index out of range"),undefined):x$12.$array[x$12.$offset+x$13]=helper.Min((x$8=menu$3.Options,x$9=menu$3.Cursor1,x$9<0||x$9>=x$8.$length?($throwRuntimeError("index out of range"),undefined):x$8.$array[x$8.$offset+x$9]).$length-1>>0,(x$10=menu$3.Cursor2,x$11=menu$3.Cursor1,x$11<0||x$11>=x$10.$length?($throwRuntimeError("index out of range"),undefined):x$10.$array[x$10.$offset+x$11])+1>>0);ctx.Menu2Ds=uidata.AssocIntMenu2D(ctx.Menu2Ds,menuID,$clone(menu$3,uidata.Menu2D));$s=22;continue;/* } else if ((_1 === (69)) || (_1 === (81))) { */case 19:$s=-1;return[ctx,"",false,true,$ifaceNil];/* } else if (_1 === (13)) { */case 20:/* break AskCommand; */$s=6;continue s;$s=22;continue;/* } else if (_1 === (222)) { */case 21:$s=-1;return[ctx,"",true,false,$ifaceNil];/* } */case 22:case 14:/* } */case 13:/* } */$s=5;continue;case 6:menu$4=$clone((_entry$5=ctx.Menu2Ds[$Int.keyFor(menuID)],_entry$5!==undefined?_entry$5.v:new uidata.Menu2D.ptr(sliceType$1.nil,0,sliceType$2.nil)),uidata.Menu2D);/* */if(menu$4.Cursor2===sliceType$2.nil){$s=31;continue;}/* */$s=32;continue;/* if (menu$4.Cursor2 === sliceType$2.nil) { */case 31:_r$6=fmt.Errorf("[Menu2DStep] Cursor2 must not nil",new sliceType$3([]));/* */$s=33;case 33:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}$s=-1;return[origin,"",false,false,_r$6];/* } */case 32:$s=-1;return[ctx,(x$14=(x$15=menu$4.Options,x$16=menu$4.Cursor1,x$16<0||x$16>=x$15.$length?($throwRuntimeError("index out of range"),undefined):x$15.$array[x$15.$offset+x$16]),x$17=(x$18=menu$4.Cursor2,x$19=menu$4.Cursor1,x$19<0||x$19>=x$18.$length?($throwRuntimeError("index out of range"),undefined):x$18.$array[x$18.$offset+x$19]),x$17<0||x$17>=x$14.$length?($throwRuntimeError("index out of range"),undefined):x$14.$array[x$14.$offset+x$17]),false,false,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:Menu2DStep};}$f._1=_1;$f._arg=_arg;$f._arg$1=_arg$1;$f._entry=_entry;$f._entry$1=_entry$1;$f._entry$2=_entry$2;$f._entry$3=_entry$3;$f._entry$4=_entry$4;$f._entry$5=_entry$5;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._ref=_ref;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f.cmd=cmd;$f.ctx=ctx;$f.detail=detail;$f.err=err;$f.has=has;$f.menu=menu;$f.menu$1=menu$1;$f.menu$2=menu$2;$f.menu$3=menu$3;$f.menu$4=menu$4;$f.menuID=menuID;$f.origin=origin;$f.pageID=pageID;$f.view=view;$f.x=x;$f.x$1=x$1;$f.x$10=x$10;$f.x$11=x$11;$f.x$12=x$12;$f.x$13=x$13;$f.x$14=x$14;$f.x$15=x$15;$f.x$16=x$16;$f.x$17=x$17;$f.x$18=x$18;$f.x$19=x$19;$f.x$2=x$2;$f.x$3=x$3;$f.x$4=x$4;$f.x$5=x$5;$f.x$6=x$6;$f.x$7=x$7;$f.x$8=x$8;$f.x$9=x$9;$f.$s=$s;$f.$r=$r;return $f;};$pkg.Menu2DStep=Menu2DStep;SelectPositionStep=function(origin,robotID,isValid){var _1,_entry,_entry$1,_r,_r$1,_r$2,_r$3,_r$4,_ref,_tuple,_tuple$1,ctx,detail,err,errMsg,evt,isValid,origin,robotID,view,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_entry=$f._entry;_entry$1=$f._entry$1;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_ref=$f._ref;_tuple=$f._tuple;_tuple$1=$f._tuple$1;ctx=$f.ctx;detail=$f.detail;err=$f.err;errMsg=$f.errMsg;evt=$f.evt;isValid=$f.isValid;origin=$f.origin;robotID=$f.robotID;view=$f.view;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=log.Log(protocol.LogCategoryPhase,"SelectPositionStep","start");/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}view=def.View;err=$ifaceNil;ctx=$clone(origin,uidata.UI);/* while (true) { */case 2:_r=view.Render($clone(ctx,uidata.UI));/* */$s=4;case 4:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;uidata.UI.copy(ctx,_tuple[0]);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,arrayType$2.zero(),false,err];}_r$1=view.AskCommand();/* */$s=5;case 5:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}evt=_r$1;if($interfaceIsEqual(evt,$ifaceNil)){$s=-1;return[origin,arrayType$2.zero(),false,protocol.ErrTerminate];}_r$2=helper.UIReduce(new sliceType$5([HandleCursor,HandleCamera]))($clone(ctx,uidata.UI),evt);/* */$s=6;case 6:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$1=_r$2;uidata.UI.copy(ctx,_tuple$1[0]);err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,arrayType$2.zero(),false,err];}_ref=evt;/* */if($assertType(_ref,uidata.CommandKeyDown,true)[1]){$s=7;continue;}/* */$s=8;continue;/* if ($assertType(_ref, uidata.CommandKeyDown, true)[1]) { */case 7:detail=$clone(_ref.$val,uidata.CommandKeyDown);_1=detail.KeyCode;/* */if(_1===222){$s=10;continue;}/* */if(_1===13){$s=11;continue;}/* */$s=12;continue;/* if (_1 === (222)) { */case 10:$s=-1;return[origin,arrayType$2.zero(),true,$ifaceNil];/* } else if (_1 === (13)) { */case 11:_r$3=isValid($clone(ctx,uidata.UI),$clone((_entry=ctx.GameplayPages[$Int.keyFor(10)],_entry!==undefined?_entry.v:new uidata.GameplayPage.ptr(false,arrayType$1.zero(),arrayType$2.zero(),arrayType$2.zero(),sliceType.nil,false,false,false,false,sliceType$4.nil,sliceType$4.nil,sliceType$4.nil,false,new protocol.RobotMenu.ptr(false,"",sliceType$1.nil,false,false,false,false),new uidata.CursorInfo.ptr(new $packages["app/tool/data"].TerrainProto.ptr("","",arrayType$3.zero(),0,0),""))).Cursor,protocol.Position));/* */$s=13;case 13:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}errMsg=_r$3;/* */if(!$interfaceIsEqual(errMsg,$ifaceNil)){$s=14;continue;}/* */$s=15;continue;/* if (!($interfaceIsEqual(errMsg, $ifaceNil))) { */case 14:_r$4=errMsg.Error();/* */$s=16;case 16:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}$r=view.Alert(_r$4);/* */$s=17;case 17:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* continue; */$s=2;continue;/* } */case 15:/* break WaitSpace; */$s=3;continue s;/* } */case 12:case 9:/* } */case 8:/* } */$s=2;continue;case 3:$s=-1;return[ctx,(_entry$1=ctx.GameplayPages[$Int.keyFor(10)],_entry$1!==undefined?_entry$1.v:new uidata.GameplayPage.ptr(false,arrayType$1.zero(),arrayType$2.zero(),arrayType$2.zero(),sliceType.nil,false,false,false,false,sliceType$4.nil,sliceType$4.nil,sliceType$4.nil,false,new protocol.RobotMenu.ptr(false,"",sliceType$1.nil,false,false,false,false),new uidata.CursorInfo.ptr(new $packages["app/tool/data"].TerrainProto.ptr("","",arrayType$3.zero(),0,0),""))).Cursor,false,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:SelectPositionStep};}$f._1=_1;$f._entry=_entry;$f._entry$1=_entry$1;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._ref=_ref;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f.ctx=ctx;$f.detail=detail;$f.err=err;$f.errMsg=errMsg;$f.evt=evt;$f.isValid=isValid;$f.origin=origin;$f.robotID=robotID;$f.view=view;$f.$s=$s;$f.$r=$r;return $f;};$pkg.SelectPositionStep=SelectPositionStep;SelectUnitStep=function(origin,unitID,validFn){var _1,_entry,_entry$1,_i,_keys,_r,_r$1,_r$2,_r$3,_r$4,_ref,_ref$1,_tuple,_tuple$1,ctx,detail,err,err$1,evt,gameplayPage,origin,pos,unitID,unitID$1,validFn,view,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_entry=$f._entry;_entry$1=$f._entry$1;_i=$f._i;_keys=$f._keys;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_ref=$f._ref;_ref$1=$f._ref$1;_tuple=$f._tuple;_tuple$1=$f._tuple$1;ctx=$f.ctx;detail=$f.detail;err=$f.err;err$1=$f.err$1;evt=$f.evt;gameplayPage=$f.gameplayPage;origin=$f.origin;pos=$f.pos;unitID=$f.unitID;unitID$1=$f.unitID$1;validFn=$f.validFn;view=$f.view;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=log.Log(protocol.LogCategoryPhase,"SelectUnitStep","start");/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}view=def.View;err=$ifaceNil;ctx=$clone(origin,uidata.UI);/* while (true) { */case 2:_r=view.Render($clone(ctx,uidata.UI));/* */$s=4;case 4:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;uidata.UI.copy(ctx,_tuple[0]);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,"",false,err];}_r$1=view.AskCommand();/* */$s=5;case 5:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}evt=_r$1;if($interfaceIsEqual(evt,$ifaceNil)){$s=-1;return[origin,"",false,protocol.ErrTerminate];}_r$2=helper.UIReduce(new sliceType$5([HandleCursor,HandleCamera]))($clone(ctx,uidata.UI),evt);/* */$s=6;case 6:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$1=_r$2;uidata.UI.copy(ctx,_tuple$1[0]);err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,"",false,err];}_ref=evt;/* */if($assertType(_ref,uidata.CommandKeyDown,true)[1]){$s=7;continue;}/* */$s=8;continue;/* if ($assertType(_ref, uidata.CommandKeyDown, true)[1]) { */case 7:detail=$clone(_ref.$val,uidata.CommandKeyDown);_1=detail.KeyCode;/* */if(_1===222){$s=10;continue;}/* */if(_1===13){$s=11;continue;}/* */$s=12;continue;/* if (_1 === (222)) { */case 10:$s=-1;return[origin,"",true,$ifaceNil];/* } else if (_1 === (13)) { */case 11:gameplayPage=$clone((_entry=ctx.GameplayPages[$Int.keyFor(10)],_entry!==undefined?_entry.v:new uidata.GameplayPage.ptr(false,arrayType$1.zero(),arrayType$2.zero(),arrayType$2.zero(),sliceType.nil,false,false,false,false,sliceType$4.nil,sliceType$4.nil,sliceType$4.nil,false,new protocol.RobotMenu.ptr(false,"",sliceType$1.nil,false,false,false,false),new uidata.CursorInfo.ptr(new $packages["app/tool/data"].TerrainProto.ptr("","",arrayType$3.zero(),0,0),""))),uidata.GameplayPage);_ref$1=gameplayPage.Positions;_i=0;_keys=$keys(_ref$1);/* while (true) { */case 13:/* if (!(_i < _keys.length)) { break; } */if(!(_i<_keys.length)){$s=14;continue;}_entry$1=_ref$1[_keys[_i]];if(_entry$1===undefined){_i++;/* continue; */$s=13;continue;}unitID$1=_entry$1.k;pos=$clone(_entry$1.v,protocol.Position);/* */if($equal(pos,gameplayPage.Cursor,protocol.Position)){$s=15;continue;}/* */$s=16;continue;/* if ($equal(pos, gameplayPage.Cursor, protocol.Position)) { */case 15:_r$3=validFn(unitID$1);/* */$s=17;case 17:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}err$1=_r$3;if($interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[ctx,unitID$1,false,$ifaceNil];}_r$4=err$1.Error();/* */$s=18;case 18:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}$r=view.Alert(_r$4);/* */$s=19;case 19:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 16:_i++;/* } */$s=13;continue;case 14:/* } */case 12:case 9:/* } */case 8:/* } */$s=2;continue;case 3:$s=-1;return[new uidata.UI.ptr($ifaceNil,0,false,false,false,false,false,false,false,new structType.ptr(0,false,false,false,false,false,false,false,false,false,false,false)),"",false,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:SelectUnitStep};}$f._1=_1;$f._entry=_entry;$f._entry$1=_entry$1;$f._i=_i;$f._keys=_keys;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._ref=_ref;$f._ref$1=_ref$1;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f.ctx=ctx;$f.detail=detail;$f.err=err;$f.err$1=err$1;$f.evt=evt;$f.gameplayPage=gameplayPage;$f.origin=origin;$f.pos=pos;$f.unitID=unitID;$f.unitID$1=unitID$1;$f.validFn=validFn;$f.view=view;$f.$s=$s;$f.$r=$r;return $f;};$pkg.SelectUnitStep=SelectUnitStep;$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=def.$init();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=helper.$init();/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=protocol.$init();/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=uidata.$init();/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=fmt.$init();/* */$s=5;case 5:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=log.$init();/* */$s=6;case 6:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["app/model/v1"]=function(){var $pkg={},$init,ai,common,impl,lobby,types,common$1,tool,data,def,helper,protocol,uidata,fmt,mgl64,math,rand,strings,time,astar,log,Model,sliceType,sliceType$1,sliceType$2,arrayType,sliceType$3,arrayType$1,sliceType$4,sliceType$5,structType,arrayType$2,arrayType$3,mapType,sliceType$6,sliceType$7,arrayType$4,sliceType$8,sliceType$9,ObserveBattleMenu,ObserveGameplayPage,ObserveMenu1D,ObserveMenu2D,ObservePage,OnApplyPassLevel,OnCheckWinOrLose,OnClickSystemMenu,OnDisableBattleMenu,OnDisableLineBattleMenu,OnDisableRobotMenu,OnEnableBattleMenu,OnEnableLineBattleMenu,OnEnableRobotMenu,QueryGoal,RenderRobotAim,OnRobotAttack,OnAIRobotMoveFirst,OnAIRobotAttackFirst,OnRobotThinking,OnEnemyTurnPhase,OnEventPlayerTurnPhase,OnLineBattleMenuPhase,OnPlayerTurnEnd,OnPlayerTurnStart,OnRobotBattle,Battle,OnRobotBattleEnd,OnRobotDone,OnRobotLineBattle,OnRobotMove,OnRobotSkyGround,OnRobotTransform,AutoCursorAtWeaponID,OnSingleBattleMenuPhase;ai=$packages["app/model/v1/internal/ai"];common=$packages["app/model/v1/internal/common"];impl=$packages["app/model/v1/internal/impl"];lobby=$packages["app/model/v1/internal/lobby"];types=$packages["app/model/v1/internal/tool/types"];common$1=$packages["app/page/common"];tool=$packages["app/tool"];data=$packages["app/tool/data"];def=$packages["app/tool/def"];helper=$packages["app/tool/helper"];protocol=$packages["app/tool/protocol"];uidata=$packages["app/tool/uidata"];fmt=$packages["fmt"];mgl64=$packages["github.com/go-gl/mathgl/mgl64"];math=$packages["math"];rand=$packages["math/rand"];strings=$packages["strings"];time=$packages["time"];astar=$packages["tool/astar"];log=$packages["tool/log"];Model=$pkg.Model=$newType(0,$kindStruct,"v1.Model",true,"app/model/v1",true,function(App_){this.$val=this;if(arguments.length===0){this.App=new types.App.ptr(0,0,new types.Gameplay.ptr(new types.AIModel.ptr(false,false),"","",sliceType.nil,sliceType$2.nil,arrayType.zero(),sliceType.nil,false,false,false,false,false,false,false,new protocol.RobotMenu.ptr(false,"",sliceType$3.nil,false,false,false,false),new protocol.BattleMenu.ptr(false,new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),new protocol.Pilot.ptr("","","",0,0,0,0,0,0,0,0,0,0,0),new protocol.Weapon.ptr("","",0,"",0,arrayType.zero(),0,0,arrayType$1.zero(),sliceType.nil,"","",0,0,0,0),new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),new protocol.Pilot.ptr("","","",0,0,0,0,0,0,0,0,0,0,0)),sliceType$4.nil,sliceType$4.nil,"",$ifaceNil),new types.Lobby.ptr(false,false,false,false,false,false,false,false),0);return;}this.App=App_;});sliceType=$sliceType($String);sliceType$1=$sliceType($Int);sliceType$2=$sliceType(sliceType$1);arrayType=$arrayType($Int,2);sliceType$3=$sliceType(sliceType);arrayType$1=$arrayType($Float64,4);sliceType$4=$sliceType(protocol.Position);sliceType$5=$sliceType($emptyInterface);structType=$structType("",[{prop:"HitRate",name:"HitRate",embedded:false,exported:true,typ:$Float64,tag:""}]);arrayType$2=$arrayType($Int,20);arrayType$3=$arrayType(arrayType$2,20);mapType=$mapType($String,protocol.Player);sliceType$6=$sliceType($packages["tool/nodejs/mlkmeans"].Centroid);sliceType$7=$sliceType(protocol.BattleAnimation);arrayType$4=$arrayType(protocol.Position,2);sliceType$8=$sliceType($Float64);sliceType$9=$sliceType(sliceType$8);Model.ptr.prototype.BuyRobot=function(id){var _r,_tuple,err,id,model,v,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tuple=$f._tuple;err=$f.err;id=$f.id;model=$f.model;v=$f.v;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v=this;_r=lobby.BuyRobot($clone($clone(v,types.Model),types.Model),id);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;model=$clone(_tuple[0],types.Model);err=_tuple[1];$s=-1;return[(x=$clone(model,Model),new x.constructor.elem(x)),err];/* */}return;}if($f===undefined){$f={$blk:Model.ptr.prototype.BuyRobot};}$f._r=_r;$f._tuple=_tuple;$f.err=err;$f.id=id;$f.model=model;$f.v=v;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};Model.prototype.BuyRobot=function(id){return this.$val.BuyRobot(id);};Model.ptr.prototype.BuyPilot=function(id){var _r,_tuple,err,id,model,v,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tuple=$f._tuple;err=$f.err;id=$f.id;model=$f.model;v=$f.v;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v=this;_r=lobby.BuyPilot($clone($clone(v,types.Model),types.Model),id);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;model=$clone(_tuple[0],types.Model);err=_tuple[1];$s=-1;return[(x=$clone(model,Model),new x.constructor.elem(x)),err];/* */}return;}if($f===undefined){$f={$blk:Model.ptr.prototype.BuyPilot};}$f._r=_r;$f._tuple=_tuple;$f.err=err;$f.id=id;$f.model=model;$f.v=v;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};Model.prototype.BuyPilot=function(id){return this.$val.BuyPilot(id);};Model.ptr.prototype.BuyWeapon=function(id){var _r,_tuple,err,id,model,v,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tuple=$f._tuple;err=$f.err;id=$f.id;model=$f.model;v=$f.v;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v=this;_r=lobby.BuyWeapon($clone($clone(v,types.Model),types.Model),id);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;model=$clone(_tuple[0],types.Model);err=_tuple[1];$s=-1;return[(x=$clone(model,Model),new x.constructor.elem(x)),err];/* */}return;}if($f===undefined){$f={$blk:Model.ptr.prototype.BuyWeapon};}$f._r=_r;$f._tuple=_tuple;$f.err=err;$f.id=id;$f.model=model;$f.v=v;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};Model.prototype.BuyWeapon=function(id){return this.$val.BuyWeapon(id);};Model.ptr.prototype.BuyComponent=function(id){var _r,_tuple,err,id,model,v,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tuple=$f._tuple;err=$f.err;id=$f.id;model=$f.model;v=$f.v;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v=this;_r=lobby.BuyComponent($clone($clone(v,types.Model),types.Model),id);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;model=$clone(_tuple[0],types.Model);err=_tuple[1];$s=-1;return[(x=$clone(model,Model),new x.constructor.elem(x)),err];/* */}return;}if($f===undefined){$f={$blk:Model.ptr.prototype.BuyComponent};}$f._r=_r;$f._tuple=_tuple;$f.err=err;$f.id=id;$f.model=model;$f.v=v;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};Model.prototype.BuyComponent=function(id){return this.$val.BuyComponent(id);};Model.ptr.prototype.AssocRobotPilot=function(robotID,pilotID){var _tuple,err,model,pilotID,robotID,v,x;v=this;_tuple=lobby.AssocRobotPilot($clone($clone(v,types.Model),types.Model),robotID,pilotID);model=$clone(_tuple[0],types.Model);err=_tuple[1];return[(x=$clone(model,Model),new x.constructor.elem(x)),err];};Model.prototype.AssocRobotPilot=function(robotID,pilotID){return this.$val.AssocRobotPilot(robotID,pilotID);};Model.ptr.prototype.DissocRobotPilot=function(robotID){var _tuple,err,model,robotID,v,x;v=this;_tuple=lobby.DissocRobotPilot($clone($clone(v,types.Model),types.Model),robotID);model=$clone(_tuple[0],types.Model);err=_tuple[1];return[(x=$clone(model,Model),new x.constructor.elem(x)),err];};Model.prototype.DissocRobotPilot=function(robotID){return this.$val.DissocRobotPilot(robotID);};Model.ptr.prototype.AssocWeaponRobot=function(weaponID,robotID){var _r,_tuple,err,model,robotID,v,weaponID,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tuple=$f._tuple;err=$f.err;model=$f.model;robotID=$f.robotID;v=$f.v;weaponID=$f.weaponID;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v=this;_r=lobby.AssocWeaponRobot($clone($clone(v,types.Model),types.Model),weaponID,robotID);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;model=$clone(_tuple[0],types.Model);err=_tuple[1];$s=-1;return[(x=$clone(model,Model),new x.constructor.elem(x)),err];/* */}return;}if($f===undefined){$f={$blk:Model.ptr.prototype.AssocWeaponRobot};}$f._r=_r;$f._tuple=_tuple;$f.err=err;$f.model=model;$f.robotID=robotID;$f.v=v;$f.weaponID=weaponID;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};Model.prototype.AssocWeaponRobot=function(weaponID,robotID){return this.$val.AssocWeaponRobot(weaponID,robotID);};Model.ptr.prototype.DissocWeaponRobot=function(weaponID){var _tuple,err,model,v,weaponID,x;v=this;_tuple=lobby.DissocWeaponRobot($clone($clone(v,types.Model),types.Model),weaponID);model=$clone(_tuple[0],types.Model);err=_tuple[1];return[(x=$clone(model,Model),new x.constructor.elem(x)),err];};Model.prototype.DissocWeaponRobot=function(weaponID){return this.$val.DissocWeaponRobot(weaponID);};Model.ptr.prototype.AssocComponentRobot=function(componentID,robotID){var _tuple,componentID,err,model,robotID,v,x;v=this;_tuple=lobby.AssocComponentRobot($clone($clone(v,types.Model),types.Model),componentID,robotID);model=$clone(_tuple[0],types.Model);err=_tuple[1];return[(x=$clone(model,Model),new x.constructor.elem(x)),err];};Model.prototype.AssocComponentRobot=function(componentID,robotID){return this.$val.AssocComponentRobot(componentID,robotID);};Model.ptr.prototype.DissocComponentRobot=function(componentID){var _tuple,componentID,err,model,v,x;v=this;_tuple=lobby.DissocComponentRobot($clone($clone(v,types.Model),types.Model),componentID);model=$clone(_tuple[0],types.Model);err=_tuple[1];return[(x=$clone(model,Model),new x.constructor.elem(x)),err];};Model.prototype.DissocComponentRobot=function(componentID){return this.$val.DissocComponentRobot(componentID);};Model.ptr.prototype.OnSingleBattleMenuPhase=function(origin,isPlayerTurn,robotID,weaponID,targetRobotID){var _r,_returncast,isPlayerTurn,origin,robotID,targetRobotID,v,weaponID,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_returncast=$f._returncast;isPlayerTurn=$f.isPlayerTurn;origin=$f.origin;robotID=$f.robotID;targetRobotID=$f.targetRobotID;v=$f.v;weaponID=$f.weaponID;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v=this;_r=OnSingleBattleMenuPhase($clone($assertType(origin,uidata.UI),uidata.UI),isPlayerTurn,robotID,weaponID,targetRobotID);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_returncast=_r;$s=-1;return[new _returncast[0].constructor.elem(_returncast[0]),_returncast[1],_returncast[2]];/* */}return;}if($f===undefined){$f={$blk:Model.ptr.prototype.OnSingleBattleMenuPhase};}$f._r=_r;$f._returncast=_returncast;$f.isPlayerTurn=isPlayerTurn;$f.origin=origin;$f.robotID=robotID;$f.targetRobotID=targetRobotID;$f.v=v;$f.weaponID=weaponID;$f.$s=$s;$f.$r=$r;return $f;};Model.prototype.OnSingleBattleMenuPhase=function(origin,isPlayerTurn,robotID,weaponID,targetRobotID){return this.$val.OnSingleBattleMenuPhase(origin,isPlayerTurn,robotID,weaponID,targetRobotID);};Model.ptr.prototype.OnLineBattleMenuPhase=function(origin,isPlayerTurn,robotID,weaponID,targetPosition){var _r,_returncast,isPlayerTurn,origin,robotID,targetPosition,v,weaponID,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_returncast=$f._returncast;isPlayerTurn=$f.isPlayerTurn;origin=$f.origin;robotID=$f.robotID;targetPosition=$f.targetPosition;v=$f.v;weaponID=$f.weaponID;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v=this;_r=OnLineBattleMenuPhase($clone($assertType(origin,uidata.UI),uidata.UI),isPlayerTurn,robotID,weaponID,$clone(targetPosition,protocol.Position));/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_returncast=_r;$s=-1;return[new _returncast[0].constructor.elem(_returncast[0]),_returncast[1],_returncast[2]];/* */}return;}if($f===undefined){$f={$blk:Model.ptr.prototype.OnLineBattleMenuPhase};}$f._r=_r;$f._returncast=_returncast;$f.isPlayerTurn=isPlayerTurn;$f.origin=origin;$f.robotID=robotID;$f.targetPosition=targetPosition;$f.v=v;$f.weaponID=weaponID;$f.$s=$s;$f.$r=$r;return $f;};Model.prototype.OnLineBattleMenuPhase=function(origin,isPlayerTurn,robotID,weaponID,targetPosition){return this.$val.OnLineBattleMenuPhase(origin,isPlayerTurn,robotID,weaponID,targetPosition);};Model.ptr.prototype.OnPlayerTurnStart=function(ui,player){var _r,_returncast,player,ui,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_returncast=$f._returncast;player=$f.player;ui=$f.ui;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v=this;_r=OnPlayerTurnStart($clone($assertType(ui,uidata.UI),uidata.UI),$clone(player,protocol.Player));/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_returncast=_r;$s=-1;return[new _returncast[0].constructor.elem(_returncast[0]),_returncast[1]];/* */}return;}if($f===undefined){$f={$blk:Model.ptr.prototype.OnPlayerTurnStart};}$f._r=_r;$f._returncast=_returncast;$f.player=player;$f.ui=ui;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};Model.prototype.OnPlayerTurnStart=function(ui,player){return this.$val.OnPlayerTurnStart(ui,player);};Model.ptr.prototype.OnPlayerTurnEnd=function(ui,player){var _r,_returncast,player,ui,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_returncast=$f._returncast;player=$f.player;ui=$f.ui;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v=this;_r=OnPlayerTurnEnd($clone($assertType(ui,uidata.UI),uidata.UI),$clone(player,protocol.Player));/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_returncast=_r;$s=-1;return[new _returncast[0].constructor.elem(_returncast[0]),_returncast[1]];/* */}return;}if($f===undefined){$f={$blk:Model.ptr.prototype.OnPlayerTurnEnd};}$f._r=_r;$f._returncast=_returncast;$f.player=player;$f.ui=ui;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};Model.prototype.OnPlayerTurnEnd=function(ui,player){return this.$val.OnPlayerTurnEnd(ui,player);};Model.ptr.prototype.OnEnemyTurnPhase=function(origin){var _r,_returncast,origin,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_returncast=$f._returncast;origin=$f.origin;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v=this;_r=OnEnemyTurnPhase($clone($assertType(origin,uidata.UI),uidata.UI));/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_returncast=_r;$s=-1;return[new _returncast[0].constructor.elem(_returncast[0]),_returncast[1],_returncast[2]];/* */}return;}if($f===undefined){$f={$blk:Model.ptr.prototype.OnEnemyTurnPhase};}$f._r=_r;$f._returncast=_returncast;$f.origin=origin;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};Model.prototype.OnEnemyTurnPhase=function(origin){return this.$val.OnEnemyTurnPhase(origin);};Model.ptr.prototype.OnRobotTransform=function(ctx,robotID,transform){var _r,_returncast,ctx,robotID,transform,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_returncast=$f._returncast;ctx=$f.ctx;robotID=$f.robotID;transform=$f.transform;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v=this;_r=OnRobotTransform($clone($assertType(ctx,uidata.UI),uidata.UI),robotID,transform);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_returncast=_r;$s=-1;return[new _returncast[0].constructor.elem(_returncast[0]),_returncast[1]];/* */}return;}if($f===undefined){$f={$blk:Model.ptr.prototype.OnRobotTransform};}$f._r=_r;$f._returncast=_returncast;$f.ctx=ctx;$f.robotID=robotID;$f.transform=transform;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};Model.prototype.OnRobotTransform=function(ctx,robotID,transform){return this.$val.OnRobotTransform(ctx,robotID,transform);};Model.ptr.prototype.OnRobotSkyGround=function(ctx,robotID,sky){var _r,_returncast,ctx,robotID,sky,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_returncast=$f._returncast;ctx=$f.ctx;robotID=$f.robotID;sky=$f.sky;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v=this;_r=OnRobotSkyGround($clone($assertType(ctx,uidata.UI),uidata.UI),robotID,sky);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_returncast=_r;$s=-1;return[new _returncast[0].constructor.elem(_returncast[0]),_returncast[1]];/* */}return;}if($f===undefined){$f={$blk:Model.ptr.prototype.OnRobotSkyGround};}$f._r=_r;$f._returncast=_returncast;$f.ctx=ctx;$f.robotID=robotID;$f.sky=sky;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};Model.prototype.OnRobotSkyGround=function(ctx,robotID,sky){return this.$val.OnRobotSkyGround(ctx,robotID,sky);};Model.ptr.prototype.OnRobotMove=function(ctx,robotID,tree,pos){var _r,_returncast,ctx,pos,robotID,tree,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_returncast=$f._returncast;ctx=$f.ctx;pos=$f.pos;robotID=$f.robotID;tree=$f.tree;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v=this;_r=OnRobotMove($clone($assertType(ctx,uidata.UI),uidata.UI),robotID,tree,$clone(pos,protocol.Position));/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_returncast=_r;$s=-1;return[new _returncast[0].constructor.elem(_returncast[0]),_returncast[1]];/* */}return;}if($f===undefined){$f={$blk:Model.ptr.prototype.OnRobotMove};}$f._r=_r;$f._returncast=_returncast;$f.ctx=ctx;$f.pos=pos;$f.robotID=robotID;$f.tree=tree;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};Model.prototype.OnRobotMove=function(ctx,robotID,tree,pos){return this.$val.OnRobotMove(ctx,robotID,tree,pos);};Model.ptr.prototype.OnRobotDone=function(ctx,robotID){var _r,_returncast,ctx,robotID,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_returncast=$f._returncast;ctx=$f.ctx;robotID=$f.robotID;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v=this;_r=OnRobotDone($clone($assertType(ctx,uidata.UI),uidata.UI),robotID);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_returncast=_r;$s=-1;return[new _returncast[0].constructor.elem(_returncast[0]),_returncast[1]];/* */}return;}if($f===undefined){$f={$blk:Model.ptr.prototype.OnRobotDone};}$f._r=_r;$f._returncast=_returncast;$f.ctx=ctx;$f.robotID=robotID;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};Model.prototype.OnRobotDone=function(ctx,robotID){return this.$val.OnRobotDone(ctx,robotID);};Model.ptr.prototype.OnEnableRobotMenu=function(ctx,robotID){var _r,_returncast,ctx,robotID,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_returncast=$f._returncast;ctx=$f.ctx;robotID=$f.robotID;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v=this;_r=OnEnableRobotMenu($clone($assertType(ctx,uidata.UI),uidata.UI),robotID);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_returncast=_r;$s=-1;return[new _returncast[0].constructor.elem(_returncast[0]),_returncast[1]];/* */}return;}if($f===undefined){$f={$blk:Model.ptr.prototype.OnEnableRobotMenu};}$f._r=_r;$f._returncast=_returncast;$f.ctx=ctx;$f.robotID=robotID;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};Model.prototype.OnEnableRobotMenu=function(ctx,robotID){return this.$val.OnEnableRobotMenu(ctx,robotID);};Model.ptr.prototype.OnDisableRobotMenu=function(ctx){var _returncast,ctx,v;v=this;_returncast=OnDisableRobotMenu($clone($assertType(ctx,uidata.UI),uidata.UI));return[new _returncast[0].constructor.elem(_returncast[0]),_returncast[1]];};Model.prototype.OnDisableRobotMenu=function(ctx){return this.$val.OnDisableRobotMenu(ctx);};Model.ptr.prototype.OnEnableBattleMenu=function(origin,robotID,weaponID,targetRobotID){var _r,_returncast,origin,robotID,targetRobotID,v,weaponID,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_returncast=$f._returncast;origin=$f.origin;robotID=$f.robotID;targetRobotID=$f.targetRobotID;v=$f.v;weaponID=$f.weaponID;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v=this;_r=OnEnableBattleMenu($clone($assertType(origin,uidata.UI),uidata.UI),robotID,weaponID,targetRobotID);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_returncast=_r;$s=-1;return[new _returncast[0].constructor.elem(_returncast[0]),_returncast[1]];/* */}return;}if($f===undefined){$f={$blk:Model.ptr.prototype.OnEnableBattleMenu};}$f._r=_r;$f._returncast=_returncast;$f.origin=origin;$f.robotID=robotID;$f.targetRobotID=targetRobotID;$f.v=v;$f.weaponID=weaponID;$f.$s=$s;$f.$r=$r;return $f;};Model.prototype.OnEnableBattleMenu=function(origin,robotID,weaponID,targetRobotID){return this.$val.OnEnableBattleMenu(origin,robotID,weaponID,targetRobotID);};Model.ptr.prototype.OnDisableBattleMenu=function(origin){var _r,_returncast,origin,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_returncast=$f._returncast;origin=$f.origin;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v=this;_r=OnDisableBattleMenu($clone($assertType(origin,uidata.UI),uidata.UI));/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_returncast=_r;$s=-1;return[new _returncast[0].constructor.elem(_returncast[0]),_returncast[1]];/* */}return;}if($f===undefined){$f={$blk:Model.ptr.prototype.OnDisableBattleMenu};}$f._r=_r;$f._returncast=_returncast;$f.origin=origin;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};Model.prototype.OnDisableBattleMenu=function(origin){return this.$val.OnDisableBattleMenu(origin);};Model.ptr.prototype.OnClickSystemMenu=function(origin,selection){var _r,_returncast,origin,selection,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_returncast=$f._returncast;origin=$f.origin;selection=$f.selection;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v=this;_r=OnClickSystemMenu($clone($assertType(origin,uidata.UI),uidata.UI),selection);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_returncast=_r;$s=-1;return[new _returncast[0].constructor.elem(_returncast[0]),_returncast[1]];/* */}return;}if($f===undefined){$f={$blk:Model.ptr.prototype.OnClickSystemMenu};}$f._r=_r;$f._returncast=_returncast;$f.origin=origin;$f.selection=selection;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};Model.prototype.OnClickSystemMenu=function(origin,selection){return this.$val.OnClickSystemMenu(origin,selection);};Model.ptr.prototype.ObservePage=function(origin,id){var _r,_returncast,id,origin,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_returncast=$f._returncast;id=$f.id;origin=$f.origin;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v=this;_r=ObservePage($clone($assertType(origin,uidata.UI),uidata.UI),id);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_returncast=_r;$s=-1;return[new _returncast[0].constructor.elem(_returncast[0]),_returncast[1]];/* */}return;}if($f===undefined){$f={$blk:Model.ptr.prototype.ObservePage};}$f._r=_r;$f._returncast=_returncast;$f.id=id;$f.origin=origin;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};Model.prototype.ObservePage=function(origin,id){return this.$val.ObservePage(origin,id);};Model.ptr.prototype.OnEventPlayerTurnPhase=function(origin,evt){var _r,_returncast,evt,origin,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_returncast=$f._returncast;evt=$f.evt;origin=$f.origin;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v=this;_r=OnEventPlayerTurnPhase($clone($assertType(origin,uidata.UI),uidata.UI),evt);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_returncast=_r;$s=-1;return[new _returncast[0].constructor.elem(_returncast[0]),_returncast[1]];/* */}return;}if($f===undefined){$f={$blk:Model.ptr.prototype.OnEventPlayerTurnPhase};}$f._r=_r;$f._returncast=_returncast;$f.evt=evt;$f.origin=origin;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};Model.prototype.OnEventPlayerTurnPhase=function(origin,evt){return this.$val.OnEventPlayerTurnPhase(origin,evt);};Model.ptr.prototype.OnApplyPassLevel=function(origin){var _r,_returncast,origin,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_returncast=$f._returncast;origin=$f.origin;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v=this;_r=OnApplyPassLevel($clone($assertType(origin,uidata.UI),uidata.UI));/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_returncast=_r;$s=-1;return[new _returncast[0].constructor.elem(_returncast[0]),_returncast[1]];/* */}return;}if($f===undefined){$f={$blk:Model.ptr.prototype.OnApplyPassLevel};}$f._r=_r;$f._returncast=_returncast;$f.origin=origin;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};Model.prototype.OnApplyPassLevel=function(origin){return this.$val.OnApplyPassLevel(origin);};Model.ptr.prototype.ObserveRobot=function(robot,isGameplay){var _r,isGameplay,robot,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;isGameplay=$f.isGameplay;robot=$f.robot;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v=this;_r=common.ObserveRobot($clone($clone(v,types.Model),types.Model),$clone(robot,protocol.Robot),isGameplay);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r;/* */}return;}if($f===undefined){$f={$blk:Model.ptr.prototype.ObserveRobot};}$f._r=_r;$f.isGameplay=isGameplay;$f.robot=robot;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};Model.prototype.ObserveRobot=function(robot,isGameplay){return this.$val.ObserveRobot(robot,isGameplay);};Model.ptr.prototype.New=function(situation){var _r,_tuple,err,model,situation,v,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tuple=$f._tuple;err=$f.err;model=$f.model;situation=$f.situation;v=$f.v;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v=this;_r=impl.NewModel($clone($clone(v,types.Model),types.Model),situation);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;model=$clone(_tuple[0],types.Model);err=_tuple[1];$s=-1;return[(x=$clone(model,Model),new x.constructor.elem(x)),err];/* */}return;}if($f===undefined){$f={$blk:Model.ptr.prototype.New};}$f._r=_r;$f._tuple=_tuple;$f.err=err;$f.model=model;$f.situation=situation;$f.v=v;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};Model.prototype.New=function(situation){return this.$val.New(situation);};Model.ptr.prototype.Save=function(){var _r,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v=this;_r=impl.Save($clone($clone(v,types.Model),types.Model));/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r;/* */}return;}if($f===undefined){$f={$blk:Model.ptr.prototype.Save};}$f._r=_r;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};Model.prototype.Save=function(){return this.$val.Save();};Model.ptr.prototype.Load=function(){var _r,_tuple,err,has,model,v,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tuple=$f._tuple;err=$f.err;has=$f.has;model=$f.model;v=$f.v;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v=this;_r=impl.Load();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;model=$clone(_tuple[0],types.Model);has=_tuple[1];err=_tuple[2];if(has===false){$s=-1;return[new v.constructor.elem(v),$ifaceNil];}$s=-1;return[(x=$clone(model,Model),new x.constructor.elem(x)),err];/* */}return;}if($f===undefined){$f={$blk:Model.ptr.prototype.Load};}$f._r=_r;$f._tuple=_tuple;$f.err=err;$f.has=has;$f.model=model;$f.v=v;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};Model.prototype.Load=function(){return this.$val.Load();};Model.ptr.prototype.QueryActivePlayer=function(){var _r,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v=this;_r=impl.QueryActivePlayer($clone($clone(v,types.Model),types.Model));/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r;/* */}return;}if($f===undefined){$f={$blk:Model.ptr.prototype.QueryActivePlayer};}$f._r=_r;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};Model.prototype.QueryActivePlayer=function(){return this.$val.QueryActivePlayer();};Model.ptr.prototype.NextPlayer=function(){var _r,_tuple,err,model,v,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tuple=$f._tuple;err=$f.err;model=$f.model;v=$f.v;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v=this;_r=impl.NextPlayer($clone($clone(v,types.Model),types.Model));/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;model=$clone(_tuple[0],types.Model);err=_tuple[1];$s=-1;return[(x=$clone(model,Model),new x.constructor.elem(x)),err];/* */}return;}if($f===undefined){$f={$blk:Model.ptr.prototype.NextPlayer};}$f._r=_r;$f._tuple=_tuple;$f.err=err;$f.model=model;$f.v=v;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};Model.prototype.NextPlayer=function(){return this.$val.NextPlayer();};Model.ptr.prototype.State=function(){var v;v=this;return v.App.Gameplay.State;};Model.prototype.State=function(){return this.$val.State();};Model.ptr.prototype.StateReason=function(){var v;v=this;return v.App.Gameplay.StateReason;};Model.prototype.StateReason=function(){return this.$val.StateReason();};Model.ptr.prototype.QueryUnitsByRegion=function(p1,p2){var p1,p2,v;v=this;return impl.QueryUnitsByRegion($clone($clone(v,types.Model),types.Model),$clone(p1,protocol.Position),$clone(p2,protocol.Position));};Model.prototype.QueryUnitsByRegion=function(p1,p2){return this.$val.QueryUnitsByRegion(p1,p2);};Model.ptr.prototype.QueryUnitByPosition=function(p1){var p1,v;v=this;return impl.QueryUnitByPosition($clone($clone(v,types.Model),types.Model),$clone(p1,protocol.Position));};Model.prototype.QueryUnitByPosition=function(p1){return this.$val.QueryUnitByPosition(p1);};Model.ptr.prototype.SetMoveRange=function(moveRange){var model,moveRange,v,x;v=this;model=$clone(impl.SetMoveRange($clone($clone(v,types.Model),types.Model),moveRange),types.Model);return x=$clone(model,Model),new x.constructor.elem(x);};Model.prototype.SetMoveRange=function(moveRange){return this.$val.SetMoveRange(moveRange);};Model.ptr.prototype.GetMoveRange=function(){var v;v=this;return impl.GetMoveRange($clone($clone(v,types.Model),types.Model));};Model.prototype.GetMoveRange=function(){return this.$val.GetMoveRange();};Model.ptr.prototype.QueryMoveRangeTree=function(robotID){var _r,robotID,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;robotID=$f.robotID;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v=this;_r=impl.QueryMoveRangeTree($clone($clone(v,types.Model),types.Model),robotID);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r;/* */}return;}if($f===undefined){$f={$blk:Model.ptr.prototype.QueryMoveRangeTree};}$f._r=_r;$f.robotID=robotID;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};Model.prototype.QueryMoveRangeTree=function(robotID){return this.$val.QueryMoveRangeTree(robotID);};Model.ptr.prototype.QueryMoveCount=function(robotID){var _r,robotID,v,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;robotID=$f.robotID;v=$f.v;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:v=this;_r=impl.QueryMoveCount($clone($clone(v,types.Model),types.Model),robotID);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return _r;/* */}return;}if($f===undefined){$f={$blk:Model.ptr.prototype.QueryMoveCount};}$f._r=_r;$f.robotID=robotID;$f.v=v;$f.$s=$s;$f.$r=$r;return $f;};Model.prototype.QueryMoveCount=function(robotID){return this.$val.QueryMoveCount(robotID);};Model.ptr.prototype.SetCursor=function(cursor){var cursor,model,v,x;v=this;model=$clone(impl.SetCursor($clone($clone(v,types.Model),types.Model),$clone(cursor,protocol.Position)),types.Model);return x=$clone(model,Model),new x.constructor.elem(x);};Model.prototype.SetCursor=function(cursor){return this.$val.SetCursor(cursor);};Model.ptr.prototype.GetCursor=function(){var v;v=this;return impl.GetCursor($clone($clone(v,types.Model),types.Model));};Model.prototype.GetCursor=function(){return this.$val.GetCursor();};ObserveBattleMenu=function(origin,menuID){var _1,_arg,_arg$1,_arg$2,_arg$3,_entry,_entry$1,_entry$2,_entry$3,_entry$4,_entry$5,_entry$6,_r,_r$1,_r$10,_r$11,_r$12,_r$13,_r$14,_r$15,_r$16,_r$17,_r$18,_r$19,_r$2,_r$20,_r$21,_r$3,_r$4,_r$5,_r$6,_r$7,_r$8,_r$9,_tmp,_tmp$1,_tmp$2,_tmp$3,_tmp$4,_tuple,_tuple$1,_tuple$10,_tuple$11,_tuple$2,_tuple$3,_tuple$4,_tuple$5,_tuple$6,_tuple$7,_tuple$8,_tuple$9,battleMenuModel,ctx,err,err$1,err$2,has,hitRate,hitRate$1,hitRate$2,isSelectingWeapon,menu,menuID,model,origin,pilot,robot,selectedWeapon,selectedWeapon$1,selection,targetAction,targetPilot,targetRobot,targetWeapon,unitMenu,unitMenuModel,weapon,x,x$1,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_arg=$f._arg;_arg$1=$f._arg$1;_arg$2=$f._arg$2;_arg$3=$f._arg$3;_entry=$f._entry;_entry$1=$f._entry$1;_entry$2=$f._entry$2;_entry$3=$f._entry$3;_entry$4=$f._entry$4;_entry$5=$f._entry$5;_entry$6=$f._entry$6;_r=$f._r;_r$1=$f._r$1;_r$10=$f._r$10;_r$11=$f._r$11;_r$12=$f._r$12;_r$13=$f._r$13;_r$14=$f._r$14;_r$15=$f._r$15;_r$16=$f._r$16;_r$17=$f._r$17;_r$18=$f._r$18;_r$19=$f._r$19;_r$2=$f._r$2;_r$20=$f._r$20;_r$21=$f._r$21;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_r$7=$f._r$7;_r$8=$f._r$8;_r$9=$f._r$9;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tmp$2=$f._tmp$2;_tmp$3=$f._tmp$3;_tmp$4=$f._tmp$4;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$10=$f._tuple$10;_tuple$11=$f._tuple$11;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;_tuple$4=$f._tuple$4;_tuple$5=$f._tuple$5;_tuple$6=$f._tuple$6;_tuple$7=$f._tuple$7;_tuple$8=$f._tuple$8;_tuple$9=$f._tuple$9;battleMenuModel=$f.battleMenuModel;ctx=$f.ctx;err=$f.err;err$1=$f.err$1;err$2=$f.err$2;has=$f.has;hitRate=$f.hitRate;hitRate$1=$f.hitRate$1;hitRate$2=$f.hitRate$2;isSelectingWeapon=$f.isSelectingWeapon;menu=$f.menu;menuID=$f.menuID;model=$f.model;origin=$f.origin;pilot=$f.pilot;robot=$f.robot;selectedWeapon=$f.selectedWeapon;selectedWeapon$1=$f.selectedWeapon$1;selection=$f.selection;targetAction=$f.targetAction;targetPilot=$f.targetPilot;targetRobot=$f.targetRobot;targetWeapon=$f.targetWeapon;unitMenu=$f.unitMenu;unitMenuModel=$f.unitMenuModel;weapon=$f.weapon;x=$f.x;x$1=$f.x$1;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=log.Log(protocol.LogCategoryRender,"ObserveBattleMenu","start");/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}ctx=$clone(origin,uidata.UI);_arg=protocol.LogCategoryRender;_r=fmt.Sprintf("ctx.Actives[uidata.PageGameplay](%v)",new sliceType$5([new $Bool((_entry=ctx.Actives[$Int.keyFor(10)],_entry!==undefined?_entry.v:false))]));/* */$s=2;case 2:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_arg$1=_r;$r=log.Log(_arg,"ObserveBattleMenu",_arg$1);/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}if((_entry$1=ctx.Actives[$Int.keyFor(10)],_entry$1!==undefined?_entry$1.v:false)===false){$s=-1;return[origin,$ifaceNil];}model=$clone($clone($assertType(ctx.Model,Model),types.Model),types.Model);_tuple=(_entry$2=ctx.BattleMenus[$Int.keyFor(menuID)],_entry$2!==undefined?[_entry$2.v,true]:[new uidata.BattleMenu.ptr(new uidata.BattleMenuSlot.ptr(new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),new protocol.Pilot.ptr("","","",0,0,0,0,0,0,0,0,0,0,0),0,new protocol.Weapon.ptr("","",0,"",0,arrayType.zero(),0,0,arrayType$1.zero(),sliceType.nil,"","",0,0,0,0),new structType.ptr(0)),new uidata.BattleMenuSlot.ptr(new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),new protocol.Pilot.ptr("","","",0,0,0,0,0,0,0,0,0,0,0),0,new protocol.Weapon.ptr("","",0,"",0,arrayType.zero(),0,0,arrayType$1.zero(),sliceType.nil,"","",0,0,0,0),new structType.ptr(0))),false]);menu=$clone(_tuple[0],uidata.BattleMenu);has=_tuple[1];if(has===false){$s=-1;return[origin,$ifaceNil];}_1=menuID;/* */if(_1===33){$s=5;continue;}/* */$s=6;continue;/* if (_1 === (33)) { */case 5:unitMenuModel=$clone(impl.GetRobotMenu($clone(model,types.Model)),protocol.RobotMenu);battleMenuModel=$clone(impl.GetBattleMenu($clone(model,types.Model)),protocol.BattleMenu);_arg$2=protocol.LogCategoryRender;_r$1=fmt.Sprintf("battleMenuModel(%+v)",new sliceType$5([new battleMenuModel.constructor.elem(battleMenuModel)]));/* */$s=7;case 7:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_arg$3=_r$1;$r=log.Log(_arg$2,"ObserveBattleMenu",_arg$3);/* */$s=8;case 8:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* */if(battleMenuModel.Active){$s=9;continue;}/* */$s=10;continue;/* if (battleMenuModel.Active) { */case 9:_tmp=$clone(battleMenuModel.AttackRobot,protocol.Robot);_tmp$1=$clone(battleMenuModel.AttackPilot,protocol.Pilot);_tmp$2=$clone(battleMenuModel.AttackWeapon,protocol.Weapon);robot=$clone(_tmp,protocol.Robot);pilot=$clone(_tmp$1,protocol.Pilot);weapon=$clone(_tmp$2,protocol.Weapon);_tmp$3=$clone(battleMenuModel.DeffenceRobot,protocol.Robot);_tmp$4=$clone(battleMenuModel.DeffencePilot,protocol.Pilot);targetRobot=$clone(_tmp$3,protocol.Robot);targetPilot=$clone(_tmp$4,protocol.Pilot);/* */if(robot.ID===""){$s=11;continue;}/* */$s=12;continue;/* if (robot.ID === "") { */case 11:_r$2=fmt.Errorf("\xE4\xBD\xA0\xE5\xBF\x98\xE4\xBA\x86\xE5\x9C\xA8OnEnableBattleMenu\xE4\xB8\xAD\xE8\xA8\xAD\xE5\xAE\x9AAttackRobot",new sliceType$5([]));/* */$s=13;case 13:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}$s=-1;return[origin,_r$2];/* } */case 12:/* */if(pilot.ID===""){$s=14;continue;}/* */$s=15;continue;/* if (pilot.ID === "") { */case 14:_r$3=fmt.Errorf("\xE4\xBD\xA0\xE5\xBF\x98\xE4\xBA\x86\xE5\x9C\xA8OnEnableBattleMenu\xE4\xB8\xAD\xE8\xA8\xAD\xE5\xAE\x9AAttackPilot",new sliceType$5([]));/* */$s=16;case 16:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}$s=-1;return[origin,_r$3];/* } */case 15:/* */if(targetRobot.ID===""){$s=17;continue;}/* */$s=18;continue;/* if (targetRobot.ID === "") { */case 17:_r$4=fmt.Errorf("\xE4\xBD\xA0\xE5\xBF\x98\xE4\xBA\x86\xE5\x9C\xA8OnEnableBattleMenu\xE4\xB8\xAD\xE8\xA8\xAD\xE5\xAE\x9ADeffenceRobot",new sliceType$5([]));/* */$s=19;case 19:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}$s=-1;return[origin,_r$4];/* } */case 18:/* */if(targetPilot.ID===""){$s=20;continue;}/* */$s=21;continue;/* if (targetPilot.ID === "") { */case 20:_r$5=fmt.Errorf("\xE4\xBD\xA0\xE5\xBF\x98\xE4\xBA\x86\xE5\x9C\xA8OnEnableBattleMenu\xE4\xB8\xAD\xE8\xA8\xAD\xE5\xAE\x9ADeffencePilot",new sliceType$5([]));/* */$s=22;case 22:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}$s=-1;return[origin,_r$5];/* } */case 21:_r$6=impl.QueryBattleHitRate($clone(model,types.Model),$clone(robot,protocol.Robot),$clone(pilot,protocol.Pilot),$clone(weapon,protocol.Weapon),$clone(targetRobot,protocol.Robot),$clone(targetPilot,protocol.Pilot),new impl.QueryBattleHitRateOptions.ptr(false));/* */$s=23;case 23:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}_tuple$1=_r$6;hitRate=_tuple$1[0];err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}_r$7=common.ObserveRobot($clone(model,types.Model),$clone(robot,protocol.Robot),true);/* */$s=24;case 24:if($c){$c=false;_r$7=_r$7.$blk();}if(_r$7&&_r$7.$blk!==undefined){break s;}_tuple$2=_r$7;protocol.Robot.copy(menu.Left.Robot,_tuple$2[0]);err=_tuple$2[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}protocol.Pilot.copy(menu.Left.Pilot,pilot);menu.Left.BattleAction=1;_r$8=common.ObserveWeapon($clone(model,types.Model),robot.ID,$clone(weapon,protocol.Weapon),true);/* */$s=25;case 25:if($c){$c=false;_r$8=_r$8.$blk();}if(_r$8&&_r$8.$blk!==undefined){break s;}_tuple$3=_r$8;protocol.Weapon.copy(menu.Left.Weapon,_tuple$3[0]);err=_tuple$3[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}menu.Left.Info.HitRate=hitRate;_r$9=common.ObserveRobot($clone(model,types.Model),$clone(targetRobot,protocol.Robot),true);/* */$s=26;case 26:if($c){$c=false;_r$9=_r$9.$blk();}if(_r$9&&_r$9.$blk!==undefined){break s;}_tuple$4=_r$9;protocol.Robot.copy(menu.Right.Robot,_tuple$4[0]);err=_tuple$4[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}protocol.Pilot.copy(menu.Right.Pilot,targetPilot);menu.Right.BattleAction=0;unitMenu=$clone((_entry$3=ctx.Menu2Ds[$Int.keyFor(31)],_entry$3!==undefined?_entry$3.v:new uidata.Menu2D.ptr(sliceType$3.nil,0,sliceType$1.nil)),uidata.Menu2D);isSelectingWeapon=(_entry$4=unitMenuModel.RowFunctionMapping[$Int.keyFor(unitMenu.Cursor1)],_entry$4!==undefined?_entry$4.v:0)===1;_r$10=tool.TryGetInt(unitMenu.Cursor2,unitMenu.Cursor1);/* */$s=27;case 27:if($c){$c=false;_r$10=_r$10.$blk();}if(_r$10&&_r$10.$blk!==undefined){break s;}_tuple$6=_r$10;_r$11=tool.TryGetString2(unitMenu.Options,unitMenu.Cursor1)(_tuple$6[0],_tuple$6[1]);/* */$s=28;case 28:if($c){$c=false;_r$11=_r$11.$blk();}if(_r$11&&_r$11.$blk!==undefined){break s;}_tuple$5=_r$11;selection=_tuple$5[0];err=_tuple$5[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}/* */if(battleMenuModel.AttackRobot.PlayerID==="PlayerIDPlayer"){$s=30;continue;}/* */if(battleMenuModel.DeffenceRobot.PlayerID==="PlayerIDPlayer"){$s=31;continue;}/* */$s=32;continue;/* if (battleMenuModel.AttackRobot.PlayerID === "PlayerIDPlayer") { */case 30:/* */if(isSelectingWeapon){$s=35;continue;}/* */$s=36;continue;/* if (isSelectingWeapon) { */case 35:selectedWeapon=$clone((_entry$5=unitMenuModel.Weapons[$String.keyFor(selection)],_entry$5!==undefined?_entry$5.v:new protocol.Weapon.ptr("","",0,"",0,arrayType.zero(),0,0,arrayType$1.zero(),sliceType.nil,"","",0,0,0,0)),protocol.Weapon);protocol.Weapon.copy(menu.Left.Weapon,selectedWeapon);_r$12=impl.QueryBattleHitRate($clone(model,types.Model),$clone(robot,protocol.Robot),$clone(pilot,protocol.Pilot),$clone(selectedWeapon,protocol.Weapon),$clone(targetRobot,protocol.Robot),$clone(targetPilot,protocol.Pilot),new impl.QueryBattleHitRateOptions.ptr(false));/* */$s=37;case 37:if($c){$c=false;_r$12=_r$12.$blk();}if(_r$12&&_r$12.$blk!==undefined){break s;}_tuple$7=_r$12;hitRate$1=_tuple$7[0];err$1=_tuple$7[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[origin,err$1];}menu.Left.Info.HitRate=hitRate$1;_r$13=impl.QueryBattleAction($clone(model,types.Model),$clone(robot,protocol.Robot),$clone(pilot,protocol.Pilot),$clone(selectedWeapon,protocol.Weapon),$clone(targetRobot,protocol.Robot),$clone(targetPilot,protocol.Pilot));/* */$s=38;case 38:if($c){$c=false;_r$13=_r$13.$blk();}if(_r$13&&_r$13.$blk!==undefined){break s;}_tuple$8=_r$13;targetAction=_tuple$8[0];targetWeapon=$clone(_tuple$8[1],protocol.Weapon);err$1=_tuple$8[2];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[origin,err$1];}/* */if(targetAction===0){$s=39;continue;}/* */$s=40;continue;/* if (targetAction === 0) { */case 39:_r$14=fmt.Errorf("QueryBattleAction\xE4\xB8\x8D\xE8\x83\xBD\xE5\x9B\x9E\xE5\x82\xB3pending",new sliceType$5([]));/* */$s=41;case 41:if($c){$c=false;_r$14=_r$14.$blk();}if(_r$14&&_r$14.$blk!==undefined){break s;}$s=-1;return[origin,_r$14];/* } */case 40:/* */if(targetAction===1){$s=42;continue;}/* */$s=43;continue;/* if (targetAction === 1) { */case 42:_r$15=common.ObserveWeapon($clone(model,types.Model),targetRobot.ID,$clone(targetWeapon,protocol.Weapon),true);/* */$s=44;case 44:if($c){$c=false;_r$15=_r$15.$blk();}if(_r$15&&_r$15.$blk!==undefined){break s;}_tuple$9=_r$15;protocol.Weapon.copy(menu.Right.Weapon,_tuple$9[0]);err$1=_tuple$9[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[origin,err$1];}_r$16=impl.QueryBattleHitRate($clone(model,types.Model),$clone(targetRobot,protocol.Robot),$clone(targetPilot,protocol.Pilot),$clone(targetWeapon,protocol.Weapon),$clone(robot,protocol.Robot),$clone(pilot,protocol.Pilot),new impl.QueryBattleHitRateOptions.ptr(false));/* */$s=45;case 45:if($c){$c=false;_r$16=_r$16.$blk();}if(_r$16&&_r$16.$blk!==undefined){break s;}_tuple$10=_r$16;hitRate$1=_tuple$10[0];err$1=_tuple$10[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[origin,err$1];}menu.Right.Info.HitRate=hitRate$1;/* } */case 43:menu.Right.BattleAction=targetAction;/* } */case 36:case 34:$s=33;continue;/* } else if (battleMenuModel.DeffenceRobot.PlayerID === "PlayerIDPlayer") { */case 31:/* */if(isSelectingWeapon){$s=47;continue;}/* */if(selection==="\xE9\x98\xB2\xE7\xA6\xA6"){$s=48;continue;}/* */if(selection==="\xE9\x96\x83\xE9\x81\xBF"){$s=49;continue;}/* */$s=50;continue;/* if (isSelectingWeapon) { */case 47:selectedWeapon$1=$clone((_entry$6=unitMenuModel.Weapons[$String.keyFor(selection)],_entry$6!==undefined?_entry$6.v:new protocol.Weapon.ptr("","",0,"",0,arrayType.zero(),0,0,arrayType$1.zero(),sliceType.nil,"","",0,0,0,0)),protocol.Weapon);protocol.Weapon.copy(menu.Right.Weapon,selectedWeapon$1);menu.Right.BattleAction=1;_r$17=impl.QueryBattleHitRate($clone(model,types.Model),$clone(targetRobot,protocol.Robot),$clone(targetPilot,protocol.Pilot),$clone(selectedWeapon$1,protocol.Weapon),$clone(robot,protocol.Robot),$clone(pilot,protocol.Pilot),new impl.QueryBattleHitRateOptions.ptr(false));/* */$s=52;case 52:if($c){$c=false;_r$17=_r$17.$blk();}if(_r$17&&_r$17.$blk!==undefined){break s;}_tuple$11=_r$17;hitRate$2=_tuple$11[0];err$2=_tuple$11[1];if(!$interfaceIsEqual(err$2,$ifaceNil)){$s=-1;return[origin,err$2];}menu.Right.Info.HitRate=hitRate$2;$s=51;continue;/* } else if (selection === "\xE9\x98\xB2\xE7\xA6\xA6") { */case 48:protocol.Weapon.copy(menu.Right.Weapon,new protocol.Weapon.ptr("","",0,"",0,arrayType.zero(),0,0,arrayType$1.zero(),sliceType.nil,"","",0,0,0,0));menu.Right.BattleAction=2;$s=51;continue;/* } else if (selection === "\xE9\x96\x83\xE9\x81\xBF") { */case 49:protocol.Weapon.copy(menu.Right.Weapon,new protocol.Weapon.ptr("","",0,"",0,arrayType.zero(),0,0,arrayType$1.zero(),sliceType.nil,"","",0,0,0,0));menu.Right.BattleAction=3;menu.Left.Info.HitRate=hitRate/2;$s=51;continue;/* } else { */case 50:_r$18=fmt.Errorf("unknown action. unitMenu(%+v)",new sliceType$5([new unitMenu.constructor.elem(unitMenu)]));/* */$s=53;case 53:if($c){$c=false;_r$18=_r$18.$blk();}if(_r$18&&_r$18.$blk!==undefined){break s;}$s=-1;return[origin,_r$18];/* } */case 51:case 46:$s=33;continue;/* } else { */case 32:_r$19=fmt.Errorf("unknown situation.",new sliceType$5([]));/* */$s=54;case 54:if($c){$c=false;_r$19=_r$19.$blk();}if(_r$19&&_r$19.$blk!==undefined){break s;}$s=-1;return[origin,_r$19];/* } */case 33:case 29:/* */if(menu.Left.BattleAction===0){$s=55;continue;}/* */$s=56;continue;/* if (menu.Left.BattleAction === 0) { */case 55:_r$20=fmt.Errorf("menu.Left.BattleAction must set.(%+v)",new sliceType$5([(x=menu.Left,new x.constructor.elem(x))]));/* */$s=57;case 57:if($c){$c=false;_r$20=_r$20.$blk();}if(_r$20&&_r$20.$blk!==undefined){break s;}$s=-1;return[origin,_r$20];/* } */case 56:/* */if(menu.Right.BattleAction===0){$s=58;continue;}/* */$s=59;continue;/* if (menu.Right.BattleAction === 0) { */case 58:_r$21=fmt.Errorf("menu.Right.BattleAction must set.(%+v). \xE9\x80\x99\xE5\x80\x8B\xE6\x83\x85\xE6\xB3\x81\xE4\xB9\x9F\xE8\xA8\xB1\xE7\x99\xBC\xE7\x94\x9F\xE5\x9C\xA8\xE6\x94\xBB\xE6\x93\x8A\xE8\x87\xAA\xE6\xA9\x9F\xE7\x9A\x84\xE6\x99\x82\xE5\x80\x99(\xE7\x90\x86\xE8\xAB\x96\xE4\xB8\x8A\xE4\xB8\x8D\xE8\x83\xBD)",new sliceType$5([(x$1=menu.Right,new x$1.constructor.elem(x$1))]));/* */$s=60;case 60:if($c){$c=false;_r$21=_r$21.$blk();}if(_r$21&&_r$21.$blk!==undefined){break s;}$s=-1;return[origin,_r$21];/* } */case 59:/* } */case 10:/* } */case 6:case 4:ctx.BattleMenus=uidata.AssocIntBattleMenu(ctx.BattleMenus,menuID,$clone(menu,uidata.BattleMenu));$r=log.Log(protocol.LogCategoryRender,"ObserveBattleMenu","end");/* */$s=61;case 61:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return[ctx,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:ObserveBattleMenu};}$f._1=_1;$f._arg=_arg;$f._arg$1=_arg$1;$f._arg$2=_arg$2;$f._arg$3=_arg$3;$f._entry=_entry;$f._entry$1=_entry$1;$f._entry$2=_entry$2;$f._entry$3=_entry$3;$f._entry$4=_entry$4;$f._entry$5=_entry$5;$f._entry$6=_entry$6;$f._r=_r;$f._r$1=_r$1;$f._r$10=_r$10;$f._r$11=_r$11;$f._r$12=_r$12;$f._r$13=_r$13;$f._r$14=_r$14;$f._r$15=_r$15;$f._r$16=_r$16;$f._r$17=_r$17;$f._r$18=_r$18;$f._r$19=_r$19;$f._r$2=_r$2;$f._r$20=_r$20;$f._r$21=_r$21;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._r$7=_r$7;$f._r$8=_r$8;$f._r$9=_r$9;$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tmp$2=_tmp$2;$f._tmp$3=_tmp$3;$f._tmp$4=_tmp$4;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$10=_tuple$10;$f._tuple$11=_tuple$11;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f._tuple$4=_tuple$4;$f._tuple$5=_tuple$5;$f._tuple$6=_tuple$6;$f._tuple$7=_tuple$7;$f._tuple$8=_tuple$8;$f._tuple$9=_tuple$9;$f.battleMenuModel=battleMenuModel;$f.ctx=ctx;$f.err=err;$f.err$1=err$1;$f.err$2=err$2;$f.has=has;$f.hitRate=hitRate;$f.hitRate$1=hitRate$1;$f.hitRate$2=hitRate$2;$f.isSelectingWeapon=isSelectingWeapon;$f.menu=menu;$f.menuID=menuID;$f.model=model;$f.origin=origin;$f.pilot=pilot;$f.robot=robot;$f.selectedWeapon=selectedWeapon;$f.selectedWeapon$1=selectedWeapon$1;$f.selection=selection;$f.targetAction=targetAction;$f.targetPilot=targetPilot;$f.targetRobot=targetRobot;$f.targetWeapon=targetWeapon;$f.unitMenu=unitMenu;$f.unitMenuModel=unitMenuModel;$f.weapon=weapon;$f.x=x;$f.x$1=x$1;$f.$s=$s;$f.$r=$r;return $f;};$pkg.ObserveBattleMenu=ObserveBattleMenu;ObserveGameplayPage=function(origin,id){var _arg,_arg$1,_arg$2,_arg$3,_arg$4,_arg$5,_arg$6,_arg$7,_arg$8,_arg$9,_entry,_entry$1,_entry$2,_entry$3,_entry$4,_entry$5,_i,_i$1,_i$2,_key,_r,_r$1,_r$10,_r$11,_r$2,_r$3,_r$4,_r$5,_r$6,_r$7,_r$8,_r$9,_ref,_ref$1,_ref$2,_tuple,_tuple$1,_tuple$2,_tuple$3,_tuple$4,_tuple$5,_tuple$6,activeRobot,attackRange,battleMenuModel,ctx,cursor,err,err$1,err$2,gameplayPage,id,id$1,isSelectingWeapon,leftTop,localPosDict,mapAttackRange,model,modelMap,moveRange,moveRangeLocal,moveRangeLocal$1,origin,pos,pos$1,pos$2,rightBottom,robotPos,selectedWeapon,selectedWeaponID,terrain,terrainID,unitAtCursor,unitMenu,unitMenuModel,x,x$1,x$2,x$3,x$4,x$5,y,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_arg=$f._arg;_arg$1=$f._arg$1;_arg$2=$f._arg$2;_arg$3=$f._arg$3;_arg$4=$f._arg$4;_arg$5=$f._arg$5;_arg$6=$f._arg$6;_arg$7=$f._arg$7;_arg$8=$f._arg$8;_arg$9=$f._arg$9;_entry=$f._entry;_entry$1=$f._entry$1;_entry$2=$f._entry$2;_entry$3=$f._entry$3;_entry$4=$f._entry$4;_entry$5=$f._entry$5;_i=$f._i;_i$1=$f._i$1;_i$2=$f._i$2;_key=$f._key;_r=$f._r;_r$1=$f._r$1;_r$10=$f._r$10;_r$11=$f._r$11;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_r$7=$f._r$7;_r$8=$f._r$8;_r$9=$f._r$9;_ref=$f._ref;_ref$1=$f._ref$1;_ref$2=$f._ref$2;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;_tuple$4=$f._tuple$4;_tuple$5=$f._tuple$5;_tuple$6=$f._tuple$6;activeRobot=$f.activeRobot;attackRange=$f.attackRange;battleMenuModel=$f.battleMenuModel;ctx=$f.ctx;cursor=$f.cursor;err=$f.err;err$1=$f.err$1;err$2=$f.err$2;gameplayPage=$f.gameplayPage;id=$f.id;id$1=$f.id$1;isSelectingWeapon=$f.isSelectingWeapon;leftTop=$f.leftTop;localPosDict=$f.localPosDict;mapAttackRange=$f.mapAttackRange;model=$f.model;modelMap=$f.modelMap;moveRange=$f.moveRange;moveRangeLocal=$f.moveRangeLocal;moveRangeLocal$1=$f.moveRangeLocal$1;origin=$f.origin;pos=$f.pos;pos$1=$f.pos$1;pos$2=$f.pos$2;rightBottom=$f.rightBottom;robotPos=$f.robotPos;selectedWeapon=$f.selectedWeapon;selectedWeaponID=$f.selectedWeaponID;terrain=$f.terrain;terrainID=$f.terrainID;unitAtCursor=$f.unitAtCursor;unitMenu=$f.unitMenu;unitMenuModel=$f.unitMenuModel;x=$f.x;x$1=$f.x$1;x$2=$f.x$2;x$3=$f.x$3;x$4=$f.x$4;x$5=$f.x$5;y=$f.y;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=log.Log(protocol.LogCategoryRender,"ObserveGameplayPage","start");/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}err=$ifaceNil;ctx=$clone(origin,uidata.UI);model=$clone($clone($assertType(ctx.Model,Model),types.Model),types.Model);gameplayPage=$clone((_entry=ctx.GameplayPages[$Int.keyFor(id)],_entry!==undefined?_entry.v:new uidata.GameplayPage.ptr(false,arrayType$3.zero(),arrayType.zero(),arrayType.zero(),sliceType.nil,false,false,false,false,sliceType$4.nil,sliceType$4.nil,sliceType$4.nil,false,new protocol.RobotMenu.ptr(false,"",sliceType$3.nil,false,false,false,false),new uidata.CursorInfo.ptr(new data.TerrainProto.ptr("","",arrayType$1.zero(),0,0),""))),uidata.GameplayPage);modelMap=model.App.Gameplay.Map;cursor=$clone(model.App.Gameplay.Cursor,protocol.Position);gameplayPage.Players=model.App.Gameplay.Players;gameplayPage.Camera[0]=helper.Max(0,helper.Min((0>=modelMap.$length?($throwRuntimeError("index out of range"),undefined):modelMap.$array[modelMap.$offset+0]).$length-20>>0,gameplayPage.Camera[0]));gameplayPage.Camera[1]=helper.Max(0,helper.Min(modelMap.$length-20>>0,gameplayPage.Camera[1]));protocol.Position.copy(gameplayPage.Cursor,helper.World2Local($clone(gameplayPage.Camera,protocol.Position),$clone(cursor,protocol.Position)));gameplayPage.Cursor[0]=helper.Max(0,helper.Min(gameplayPage.Cursor[0],19));gameplayPage.Cursor[1]=helper.Max(0,helper.Min(gameplayPage.Cursor[1],19));x=0;while(true){if(!(x<20)){break;}y=0;while(true){if(!(y<20)){break;}x$4=(x$5=gameplayPage.Map,y<0||y>=x$5.length?($throwRuntimeError("index out of range"),undefined):x$5[y]),x<0||x>=x$4.length?($throwRuntimeError("index out of range"),undefined):x$4[x]=(x$1=(x$2=gameplayPage.Camera[1]+y>>0,x$2<0||x$2>=modelMap.$length?($throwRuntimeError("index out of range"),undefined):modelMap.$array[modelMap.$offset+x$2]),x$3=gameplayPage.Camera[0]+x>>0,x$3<0||x$3>=x$1.$length?($throwRuntimeError("index out of range"),undefined):x$1.$array[x$1.$offset+x$3]);y=y+1>>0;}x=x+1>>0;}leftTop=$clone(gameplayPage.Camera,protocol.Position);rightBottom=$toNativeArray($kindInt,[leftTop[0]+20>>0,leftTop[1]+20>>0]);gameplayPage.Units=impl.QueryUnitsByRegion($clone(model,types.Model),$clone(leftTop,protocol.Position),$clone(rightBottom,protocol.Position));localPosDict=$makeMap($String.keyFor,[]);_ref=gameplayPage.Units;_i=0;while(true){if(!(_i<_ref.$length)){break;}id$1=_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i];pos=$clone((_entry$1=model.App.Gameplay.Positions[$String.keyFor(id$1)],_entry$1!==undefined?_entry$1.v:arrayType.zero()),protocol.Position);_key=id$1;(localPosDict||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key)]={k:_key,v:$clone(helper.World2Local($clone(gameplayPage.Camera,protocol.Position),$clone(pos,protocol.Position)),protocol.Position)};_i++;}gameplayPage.Positions=localPosDict;_r=common.ObserveRobots($clone(model,types.Model),model.App.Gameplay.Robots,true);/* */$s=2;case 2:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;gameplayPage.Robots=_tuple[0];err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}gameplayPage.Items=model.App.Gameplay.Items;gameplayPage.Tags=model.App.Gameplay.Tags;moveRange=model.App.Gameplay.MoveRange;if(!(moveRange===sliceType$4.nil)){moveRangeLocal=new sliceType$4([]);_ref$1=moveRange;_i$1=0;while(true){if(!(_i$1<_ref$1.$length)){break;}pos$1=$clone(_i$1<0||_i$1>=_ref$1.$length?($throwRuntimeError("index out of range"),undefined):_ref$1.$array[_ref$1.$offset+_i$1],protocol.Position);moveRangeLocal=$append(moveRangeLocal,helper.World2Local($clone(gameplayPage.Camera,protocol.Position),$clone(pos$1,protocol.Position)));_i$1++;}gameplayPage.MoveRange=moveRangeLocal;}else{gameplayPage.MoveRange=new sliceType$4([]);}mapAttackRange=model.App.Gameplay.MapAttackRange;if(!(mapAttackRange===sliceType$4.nil)){moveRangeLocal$1=new sliceType$4([]);_ref$2=mapAttackRange;_i$2=0;while(true){if(!(_i$2<_ref$2.$length)){break;}pos$2=$clone(_i$2<0||_i$2>=_ref$2.$length?($throwRuntimeError("index out of range"),undefined):_ref$2.$array[_ref$2.$offset+_i$2],protocol.Position);moveRangeLocal$1=$append(moveRangeLocal$1,helper.World2Local($clone(gameplayPage.Camera,protocol.Position),$clone(pos$2,protocol.Position)));_i$2++;}gameplayPage.MapAttackRange=moveRangeLocal$1;}else{gameplayPage.MapAttackRange=new sliceType$4([]);}gameplayPage.HitMarks=model.App.Gameplay.HitMarks;unitMenuModel=$clone(model.App.Gameplay.RobotMenu,protocol.RobotMenu);/* */if(unitMenuModel.Active){$s=3;continue;}/* */$s=4;continue;/* if (unitMenuModel.Active) { */case 3:unitMenu=$clone((_entry$2=ctx.Menu2Ds[$Int.keyFor(31)],_entry$2!==undefined?_entry$2.v:new uidata.Menu2D.ptr(sliceType$3.nil,0,sliceType$1.nil)),uidata.Menu2D);_r$1=protocol.TryGetStringRobot(gameplayPage.Robots,unitMenuModel.ActiveRobotID);/* */$s=6;case 6:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$1=_r$1;activeRobot=$clone(_tuple$1[0],protocol.Robot);err$1=_tuple$1[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[origin,err$1];}isSelectingWeapon=(_entry$3=unitMenuModel.RowFunctionMapping[$Int.keyFor(unitMenu.Cursor1)],_entry$3!==undefined?_entry$3.v:0)===1;_arg=protocol.LogCategoryRender;_r$2=fmt.Sprintf("isSelectingWeapon(%v)",new sliceType$5([new $Bool(isSelectingWeapon)]));/* */$s=7;case 7:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_arg$1=_r$2;$r=log.Log(_arg,"Model.Render",_arg$1);/* */$s=8;case 8:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* */if(isSelectingWeapon){$s=9;continue;}/* */$s=10;continue;/* if (isSelectingWeapon) { */case 9:_r$3=tool.TryGetInt(unitMenu.Cursor2,unitMenu.Cursor1);/* */$s=12;case 12:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_tuple$3=_r$3;_r$4=tool.TryGetString2(unitMenu.Options,unitMenu.Cursor1)(_tuple$3[0],_tuple$3[1]);/* */$s=13;case 13:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}_tuple$2=_r$4;selectedWeaponID=_tuple$2[0];err$2=_tuple$2[1];if(!$interfaceIsEqual(err$2,$ifaceNil)){$s=-1;return[origin,err$2];}selectedWeapon=$clone((_entry$4=unitMenuModel.Weapons[$String.keyFor(selectedWeaponID)],_entry$4!==undefined?_entry$4.v:new protocol.Weapon.ptr("","",0,"",0,arrayType.zero(),0,0,arrayType$1.zero(),sliceType.nil,"","",0,0,0,0)),protocol.Weapon);_arg$2=protocol.LogCategoryRender;_r$5=fmt.Sprintf("selectedWeapon(%v)",new sliceType$5([new selectedWeapon.constructor.elem(selectedWeapon)]));/* */$s=14;case 14:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}_arg$3=_r$5;$r=log.Log(_arg$2,"Model.Render",_arg$3);/* */$s=15;case 15:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}robotPos=$clone((_entry$5=gameplayPage.Positions[$String.keyFor(unitMenuModel.ActiveRobotID)],_entry$5!==undefined?_entry$5.v:arrayType.zero()),protocol.Position);_arg$4=protocol.LogCategoryRender;_r$6=fmt.Sprintf("robotPos(%v)",new sliceType$5([new protocol.Position(robotPos)]));/* */$s=16;case 16:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}_arg$5=_r$6;$r=log.Log(_arg$4,"Model.Render",_arg$5);/* */$s=17;case 17:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}_r$7=common.QueryRobotWeaponAttackRange($clone(model,types.Model),activeRobot.ID,$clone(selectedWeapon,protocol.Weapon),$clone(robotPos,protocol.Position));/* */$s=18;case 18:if($c){$c=false;_r$7=_r$7.$blk();}if(_r$7&&_r$7.$blk!==undefined){break s;}_tuple$4=_r$7;attackRange=_tuple$4[0];err$2=_tuple$4[1];if(!$interfaceIsEqual(err$2,$ifaceNil)){$s=-1;return[origin,err$2];}gameplayPage.AttackRange=attackRange;$s=11;continue;/* } else { */case 10:gameplayPage.AttackRange=new sliceType$4([]);/* } */case 11:$s=5;continue;/* } else { */case 4:gameplayPage.AttackRange=new sliceType$4([]);/* } */case 5:if(ctx.PhaseMark===1){ctx.Actives=uidata.AssocIntBool(ctx.Actives,11,false);}else{ctx.Actives=uidata.AssocIntBool(ctx.Actives,11,unitMenuModel.Active);}battleMenuModel=$clone(model.App.Gameplay.BattleMenu,protocol.BattleMenu);ctx.Actives=uidata.AssocIntBool(ctx.Actives,13,battleMenuModel.Active);_r$8=tool.TryGetInt2(model.App.Gameplay.Map,cursor[1])(cursor[0],$ifaceNil);/* */$s=19;case 19:if($c){$c=false;_r$8=_r$8.$blk();}if(_r$8&&_r$8.$blk!==undefined){break s;}_tuple$5=_r$8;terrainID=_tuple$5[0];err=_tuple$5[1];/* */if(!$interfaceIsEqual(err,$ifaceNil)){$s=20;continue;}/* */$s=21;continue;/* if (!($interfaceIsEqual(err, $ifaceNil))) { */case 20:_arg$6=protocol.LogCategoryWarning;_r$9=err.Error();/* */$s=22;case 22:if($c){$c=false;_r$9=_r$9.$blk();}if(_r$9&&_r$9.$blk!==undefined){break s;}_arg$7=_r$9;$r=log.Log(_arg$6,"ObserveGameplayPage",_arg$7);/* */$s=23;case 23:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}err=$ifaceNil;/* } */case 21:_r$10=helper.TerrainID2Terrain(terrainID);/* */$s=24;case 24:if($c){$c=false;_r$10=_r$10.$blk();}if(_r$10&&_r$10.$blk!==undefined){break s;}_tuple$6=_r$10;terrain=$clone(_tuple$6[0],data.TerrainProto);err=_tuple$6[1];/* */if(!$interfaceIsEqual(err,$ifaceNil)){$s=25;continue;}/* */$s=26;continue;/* if (!($interfaceIsEqual(err, $ifaceNil))) { */case 25:_arg$8=protocol.LogCategoryWarning;_r$11=err.Error();/* */$s=27;case 27:if($c){$c=false;_r$11=_r$11.$blk();}if(_r$11&&_r$11.$blk!==undefined){break s;}_arg$9=_r$11;$r=log.Log(_arg$8,"ObserveGameplayPage",_arg$9);/* */$s=28;case 28:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}err=$ifaceNil;/* } */case 26:unitAtCursor=common.SearchUnitByPosition(model.App.Gameplay.Positions,$clone(cursor,protocol.Position));gameplayPage.CursorInfo.UnitID=unitAtCursor;data.TerrainProto.copy(gameplayPage.CursorInfo.Terrain,terrain);ctx.GameplayPages=uidata.AssocIntGameplayPage(ctx.GameplayPages,id,$clone(gameplayPage,uidata.GameplayPage));$s=-1;return[ctx,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:ObserveGameplayPage};}$f._arg=_arg;$f._arg$1=_arg$1;$f._arg$2=_arg$2;$f._arg$3=_arg$3;$f._arg$4=_arg$4;$f._arg$5=_arg$5;$f._arg$6=_arg$6;$f._arg$7=_arg$7;$f._arg$8=_arg$8;$f._arg$9=_arg$9;$f._entry=_entry;$f._entry$1=_entry$1;$f._entry$2=_entry$2;$f._entry$3=_entry$3;$f._entry$4=_entry$4;$f._entry$5=_entry$5;$f._i=_i;$f._i$1=_i$1;$f._i$2=_i$2;$f._key=_key;$f._r=_r;$f._r$1=_r$1;$f._r$10=_r$10;$f._r$11=_r$11;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._r$7=_r$7;$f._r$8=_r$8;$f._r$9=_r$9;$f._ref=_ref;$f._ref$1=_ref$1;$f._ref$2=_ref$2;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f._tuple$4=_tuple$4;$f._tuple$5=_tuple$5;$f._tuple$6=_tuple$6;$f.activeRobot=activeRobot;$f.attackRange=attackRange;$f.battleMenuModel=battleMenuModel;$f.ctx=ctx;$f.cursor=cursor;$f.err=err;$f.err$1=err$1;$f.err$2=err$2;$f.gameplayPage=gameplayPage;$f.id=id;$f.id$1=id$1;$f.isSelectingWeapon=isSelectingWeapon;$f.leftTop=leftTop;$f.localPosDict=localPosDict;$f.mapAttackRange=mapAttackRange;$f.model=model;$f.modelMap=modelMap;$f.moveRange=moveRange;$f.moveRangeLocal=moveRangeLocal;$f.moveRangeLocal$1=moveRangeLocal$1;$f.origin=origin;$f.pos=pos;$f.pos$1=pos$1;$f.pos$2=pos$2;$f.rightBottom=rightBottom;$f.robotPos=robotPos;$f.selectedWeapon=selectedWeapon;$f.selectedWeaponID=selectedWeaponID;$f.terrain=terrain;$f.terrainID=terrainID;$f.unitAtCursor=unitAtCursor;$f.unitMenu=unitMenu;$f.unitMenuModel=unitMenuModel;$f.x=x;$f.x$1=x$1;$f.x$2=x$2;$f.x$3=x$3;$f.x$4=x$4;$f.x$5=x$5;$f.y=y;$f.$s=$s;$f.$r=$r;return $f;};$pkg.ObserveGameplayPage=ObserveGameplayPage;ObserveMenu1D=function(origin,menuID){var _1,_entry,_entry$1,_entry$2,_i,_keys,_q,_r,_ref,_tmp,_tmp$1,_tuple,canBuy,canBuy$1,canBuy$2,canBuy$3,ctx,has,k,left,level,levels,menu,menuID,model,options,origin,right,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_entry=$f._entry;_entry$1=$f._entry$1;_entry$2=$f._entry$2;_i=$f._i;_keys=$f._keys;_q=$f._q;_r=$f._r;_ref=$f._ref;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tuple=$f._tuple;canBuy=$f.canBuy;canBuy$1=$f.canBuy$1;canBuy$2=$f.canBuy$2;canBuy$3=$f.canBuy$3;ctx=$f.ctx;has=$f.has;k=$f.k;left=$f.left;level=$f.level;levels=$f.levels;menu=$f.menu;menuID=$f.menuID;model=$f.model;options=$f.options;origin=$f.origin;right=$f.right;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:ctx=$clone(origin,uidata.UI);model=$clone($clone($assertType(ctx.Model,Model),types.Model),types.Model);_tuple=(_entry=ctx.Menu1Ds[$Int.keyFor(menuID)],_entry!==undefined?[_entry.v,true]:[new uidata.Menu1D.ptr(sliceType.nil,false,0,0,0),false]);menu=$clone(_tuple[0],uidata.Menu1D);has=_tuple[1];if(has===false){$s=-1;return[origin,$ifaceNil];}options=new sliceType([]);_1=menuID;if(_1===18){options=protocol.KesStringPilot(model.App.Lobby.Pilots);}else if(_1===26||_1===17||_1===30){options=protocol.KesStringRobot(model.App.Lobby.Robots);}else if(_1===27||_1===19){options=protocol.KesStringWeapon(model.App.Lobby.Weapons);}else if(_1===28||_1===20){options=protocol.KesStringComponent(model.App.Lobby.Components);}else if(_1===21){canBuy=lobby.QueryRobotCanBuy($clone(model,types.Model));options=data.KesStringRobotProto(canBuy);}else if(_1===22){canBuy$1=lobby.QueryPilotCanBuy($clone(model,types.Model));options=data.KesStringPilotProto(canBuy$1);}else if(_1===23){canBuy$2=lobby.QueryWeaponCanBuy($clone(model,types.Model));options=data.KesStringWeaponProto(canBuy$2);}else if(_1===24){canBuy$3=lobby.QueryComponentCanBuy($clone(model,types.Model));options=data.KesStringComponentProto(canBuy$3);}else if(_1===32){options=new sliceType(["\xE5\x9B\x9E\xE5\x90\x88\xE7\xB5\x90\xE6\x9D\x9F","\xE5\xAD\x98\xE6\xAA\x94","\xE8\xAE\x80\xE6\xAA\x94","\xE6\x94\xBE\xE6\xA3\x84\xE9\x81\x8A\xE6\x88\xB2"]);}else if(_1===34||_1===35||_1===36){levels=new sliceType([]);_ref=types.DefaultNormalLevels;_i=0;_keys=$keys(_ref);while(true){if(!(_i<_keys.length)){break;}_entry$1=_ref[_keys[_i]];if(_entry$1===undefined){_i++;continue;}k=_entry$1.k;level=$clone(_entry$1.v,types.NormalLevel);if(!(level.MenuID===menuID)){_i++;continue;}if(_entry$2=model.App.Lobby.ClearStateByLevelID[$String.keyFor(k)],_entry$2!==undefined?_entry$2.v:false){_i++;continue;}levels=$append(levels,k);_i++;}options=levels;}case 1:/* */if(menu.Limit===0){$s=2;continue;}/* */$s=3;continue;/* if (menu.Limit === 0) { */case 2:_r=fmt.Errorf("menuID(%v) Menu1D(%+v)\xE7\x9A\x84Limit\xE4\xB8\x8D\xE8\x83\xBD\xE7\x82\xBA0",new sliceType$5([new $Int(menuID),new menu.constructor.elem(menu)]));/* */$s=4;case 4:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return[origin,_r];/* } */case 3:menu.Offset=helper.Max(0,helper.Min($imul((_q=options.$length/menu.Limit,_q===_q&&_q!==1/0&&_q!==-1/0?_q>>0:$throwRuntimeError("integer divide by zero")),menu.Limit),menu.Offset));_tmp=helper.Max(0,helper.Min(menu.Offset,options.$length-1>>0));_tmp$1=helper.Min(menu.Offset+menu.Limit>>0,options.$length);left=_tmp;right=_tmp$1;if(options.$length>0){menu.Options=$subslice(options,left,right);}menu.Cursor=helper.Max(0,helper.Min(menu.Options.$length-1>>0,menu.Cursor));ctx.Menu1Ds=uidata.AssocIntMenu1D(ctx.Menu1Ds,menuID,$clone(menu,uidata.Menu1D));$s=-1;return[ctx,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:ObserveMenu1D};}$f._1=_1;$f._entry=_entry;$f._entry$1=_entry$1;$f._entry$2=_entry$2;$f._i=_i;$f._keys=_keys;$f._q=_q;$f._r=_r;$f._ref=_ref;$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tuple=_tuple;$f.canBuy=canBuy;$f.canBuy$1=canBuy$1;$f.canBuy$2=canBuy$2;$f.canBuy$3=canBuy$3;$f.ctx=ctx;$f.has=has;$f.k=k;$f.left=left;$f.level=level;$f.levels=levels;$f.menu=menu;$f.menuID=menuID;$f.model=model;$f.options=options;$f.origin=origin;$f.right=right;$f.$s=$s;$f.$r=$r;return $f;};$pkg.ObserveMenu1D=ObserveMenu1D;ObserveMenu2D=function(origin,menuID){var _1,_entry,_entry$1,_r,_tuple,_tuple$1,ctx,err,gameplayPage,has,i,menu,menuID,model,options,origin,unitMenuModel,x,x$1,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_entry=$f._entry;_entry$1=$f._entry$1;_r=$f._r;_tuple=$f._tuple;_tuple$1=$f._tuple$1;ctx=$f.ctx;err=$f.err;gameplayPage=$f.gameplayPage;has=$f.has;i=$f.i;menu=$f.menu;menuID=$f.menuID;model=$f.model;options=$f.options;origin=$f.origin;unitMenuModel=$f.unitMenuModel;x=$f.x;x$1=$f.x$1;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=log.Log(protocol.LogCategoryRender,"ObserveMenu2D","start");/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}ctx=$clone(origin,uidata.UI);model=$clone($clone($assertType(ctx.Model,Model),types.Model),types.Model);_tuple=(_entry=ctx.Menu2Ds[$Int.keyFor(menuID)],_entry!==undefined?[_entry.v,true]:[new uidata.Menu2D.ptr(sliceType$3.nil,0,sliceType$1.nil),false]);menu=$clone(_tuple[0],uidata.Menu2D);has=_tuple[1];if(has===false){$s=-1;return[origin,$ifaceNil];}options=new sliceType$3([]);_1=menuID;/* */if(_1===31){$s=3;continue;}/* */$s=4;continue;/* if (_1 === (31)) { */case 3:_r=common.ObserveRobotMenu($clone(model,types.Model),$clone(impl.GetRobotMenu($clone(model,types.Model)),protocol.RobotMenu));/* */$s=5;case 5:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple$1=_r;unitMenuModel=$clone(_tuple$1[0],protocol.RobotMenu);err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}if(unitMenuModel.Active){options=unitMenuModel.Options;gameplayPage=$clone((_entry$1=ctx.GameplayPages[$Int.keyFor(10)],_entry$1!==undefined?_entry$1.v:new uidata.GameplayPage.ptr(false,arrayType$3.zero(),arrayType.zero(),arrayType.zero(),sliceType.nil,false,false,false,false,sliceType$4.nil,sliceType$4.nil,sliceType$4.nil,false,new protocol.RobotMenu.ptr(false,"",sliceType$3.nil,false,false,false,false),new uidata.CursorInfo.ptr(new data.TerrainProto.ptr("","",arrayType$1.zero(),0,0),""))),uidata.GameplayPage);protocol.RobotMenu.copy(gameplayPage.RobotMenu,unitMenuModel);ctx.GameplayPages=uidata.AssocIntGameplayPage(ctx.GameplayPages,10,$clone(gameplayPage,uidata.GameplayPage));}/* } */case 4:case 2:if(menu.Cursor2===sliceType$1.nil||!(menu.Cursor2.$length===options.$length)){menu.Cursor2=$makeSlice(sliceType$1,options.$length);}menu.Options=options;if(options.$length>0){menu.Cursor1=helper.Max(0,helper.Min(options.$length-1>>0,menu.Cursor1));i=0;while(true){if(!(i<options.$length)){break;}if((i<0||i>=options.$length?($throwRuntimeError("index out of range"),undefined):options.$array[options.$offset+i]).$length>0){x$1=menu.Cursor2,i<0||i>=x$1.$length?($throwRuntimeError("index out of range"),undefined):x$1.$array[x$1.$offset+i]=helper.Max(0,helper.Min((i<0||i>=options.$length?($throwRuntimeError("index out of range"),undefined):options.$array[options.$offset+i]).$length-1>>0,(x=menu.Cursor2,i<0||i>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+i])));}i=i+1>>0;}}ctx.Menu2Ds=uidata.AssocIntMenu2D(ctx.Menu2Ds,menuID,$clone(menu,uidata.Menu2D));$r=log.Log(protocol.LogCategoryRender,"ObserveMenu2D","end");/* */$s=6;case 6:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return[ctx,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:ObserveMenu2D};}$f._1=_1;$f._entry=_entry;$f._entry$1=_entry$1;$f._r=_r;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f.ctx=ctx;$f.err=err;$f.gameplayPage=gameplayPage;$f.has=has;$f.i=i;$f.menu=menu;$f.menuID=menuID;$f.model=model;$f.options=options;$f.origin=origin;$f.unitMenuModel=unitMenuModel;$f.x=x;$f.x$1=x$1;$f.$s=$s;$f.$r=$r;return $f;};$pkg.ObserveMenu2D=ObserveMenu2D;ObservePage=function(origin,pageID){var _arg,_arg$1,_arg$2,_arg$3,_entry,_entry$1,_i,_r,_r$1,_r$2,_r$3,_r$4,_r$5,_r$6,_r$7,_r$8,_r$9,_ref,_tuple,_tuple$1,_tuple$2,_tuple$3,_tuple$4,_tuple$5,_tuple$6,_tuple$7,_tuple$8,ctx,err,has,menuID,model,origin,pageID,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_arg=$f._arg;_arg$1=$f._arg$1;_arg$2=$f._arg$2;_arg$3=$f._arg$3;_entry=$f._entry;_entry$1=$f._entry$1;_i=$f._i;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_r$7=$f._r$7;_r$8=$f._r$8;_r$9=$f._r$9;_ref=$f._ref;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;_tuple$4=$f._tuple$4;_tuple$5=$f._tuple$5;_tuple$6=$f._tuple$6;_tuple$7=$f._tuple$7;_tuple$8=$f._tuple$8;ctx=$f.ctx;err=$f.err;has=$f.has;menuID=$f.menuID;model=$f.model;origin=$f.origin;pageID=$f.pageID;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_arg=protocol.LogCategoryRender;_r=fmt.Sprintf("start with pageID(%v)",new sliceType$5([new $Int(pageID)]));/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_arg$1=_r;$r=log.Log(_arg,"ObservePage",_arg$1);/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}err=$ifaceNil;ctx=$clone(origin,uidata.UI);_ref=(_entry=ctx.Menus[$Int.keyFor(pageID)],_entry!==undefined?_entry.v:uidata.ListInt.nil);_i=0;/* while (true) { */case 3:/* if (!(_i < _ref.$length)) { break; } */if(!(_i<_ref.$length)){$s=4;continue;}menuID=_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i];_r$1=ObserveMenu1D($clone(ctx,uidata.UI),menuID);/* */$s=5;case 5:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple=_r$1;uidata.UI.copy(ctx,_tuple[0]);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}_r$2=ObserveMenu2D($clone(ctx,uidata.UI),menuID);/* */$s=6;case 6:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$1=_r$2;uidata.UI.copy(ctx,_tuple$1[0]);err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}_r$3=ObserveBattleMenu($clone(ctx,uidata.UI),menuID);/* */$s=7;case 7:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_tuple$2=_r$3;uidata.UI.copy(ctx,_tuple$2[0]);err=_tuple$2[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}_i++;/* } */$s=3;continue;case 4:_tuple$3=(_entry$1=ctx.GameplayPages[$Int.keyFor(pageID)],_entry$1!==undefined?[_entry$1.v,true]:[new uidata.GameplayPage.ptr(false,arrayType$3.zero(),arrayType.zero(),arrayType.zero(),sliceType.nil,false,false,false,false,sliceType$4.nil,sliceType$4.nil,sliceType$4.nil,false,new protocol.RobotMenu.ptr(false,"",sliceType$3.nil,false,false,false,false),new uidata.CursorInfo.ptr(new data.TerrainProto.ptr("","",arrayType$1.zero(),0,0),"")),false]);has=_tuple$3[1];/* */if(has){$s=8;continue;}/* */$s=9;continue;/* if (has) { */case 8:_r$4=ObserveGameplayPage($clone(ctx,uidata.UI),pageID);/* */$s=10;case 10:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}_tuple$4=_r$4;uidata.UI.copy(ctx,_tuple$4[0]);err=_tuple$4[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}/* } */case 9:/* */if(pageID===1){$s=11;continue;}/* */$s=12;continue;/* if (pageID === 1) { */case 11:model=$clone($clone($assertType(ctx.Model,Model),types.Model),types.Model);ctx.Info.Money=model.App.Money;_r$5=common.ObserveRobots($clone(model,types.Model),model.App.Lobby.Robots,false);/* */$s=13;case 13:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}_tuple$5=_r$5;ctx.Info.Robots=_tuple$5[0];err=_tuple$5[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}_r$6=common.ObservePilots($clone(model,types.Model),model.App.Lobby.Pilots,false);/* */$s=14;case 14:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}_tuple$6=_r$6;ctx.Info.Pilots=_tuple$6[0];err=_tuple$6[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}_r$7=common.ObserveWeapons($clone(model,types.Model),"",model.App.Lobby.Weapons,false);/* */$s=15;case 15:if($c){$c=false;_r$7=_r$7.$blk();}if(_r$7&&_r$7.$blk!==undefined){break s;}_tuple$7=_r$7;ctx.Info.Weapons=_tuple$7[0];err=_tuple$7[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}_r$8=common.ObserveComponents($clone(model,types.Model),"",model.App.Lobby.Components,false);/* */$s=16;case 16:if($c){$c=false;_r$8=_r$8.$blk();}if(_r$8&&_r$8.$blk!==undefined){break s;}_tuple$8=_r$8;ctx.Info.Components=_tuple$8[0];err=_tuple$8[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}ctx.Info.CanBuyRobots=lobby.QueryRobotCanBuy($clone(model,types.Model));ctx.Info.CanBuyPilots=lobby.QueryPilotCanBuy($clone(model,types.Model));ctx.Info.CanBuyWeapons=lobby.QueryWeaponCanBuy($clone(model,types.Model));ctx.Info.CanBuyComponents=lobby.QueryComponentCanBuy($clone(model,types.Model));ctx.Info.PilotIDByRobotID=lobby.QueryPilotIDByRobotID($clone(model,types.Model));ctx.Info.RobotIDByWeaponID=lobby.QueryRobotIDByWeaponID($clone(model,types.Model));ctx.Info.RobotIDByComponentID=lobby.QueryRobotIDByComponentID($clone(model,types.Model));/* } */case 12:_arg$2=protocol.LogCategoryRender;_r$9=fmt.Sprintf("end with pageID(%v)",new sliceType$5([new $Int(pageID)]));/* */$s=17;case 17:if($c){$c=false;_r$9=_r$9.$blk();}if(_r$9&&_r$9.$blk!==undefined){break s;}_arg$3=_r$9;$r=log.Log(_arg$2,"ObservePage",_arg$3);/* */$s=18;case 18:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return[ctx,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:ObservePage};}$f._arg=_arg;$f._arg$1=_arg$1;$f._arg$2=_arg$2;$f._arg$3=_arg$3;$f._entry=_entry;$f._entry$1=_entry$1;$f._i=_i;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._r$7=_r$7;$f._r$8=_r$8;$f._r$9=_r$9;$f._ref=_ref;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f._tuple$4=_tuple$4;$f._tuple$5=_tuple$5;$f._tuple$6=_tuple$6;$f._tuple$7=_tuple$7;$f._tuple$8=_tuple$8;$f.ctx=ctx;$f.err=err;$f.has=has;$f.menuID=menuID;$f.model=model;$f.origin=origin;$f.pageID=pageID;$f.$s=$s;$f.$r=$r;return $f;};$pkg.ObservePage=ObservePage;OnApplyPassLevel=function(origin){var _r,_r$1,_r$2,_ref,_tuple,ctx,detail,detail$1,detail$2,detail$3,err,model,origin,view,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_ref=$f._ref;_tuple=$f._tuple;ctx=$f.ctx;detail=$f.detail;detail$1=$f.detail$1;detail$2=$f.detail$2;detail$3=$f.detail$3;err=$f.err;model=$f.model;origin=$f.origin;view=$f.view;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:err=$ifaceNil;ctx=$clone(origin,uidata.UI);view=def.View;model=$clone($clone($assertType(ctx.Model,Model),types.Model),types.Model);_r=impl.ApplyPassLevel($clone(model,types.Model));/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;types.Model.copy(model,_tuple[0]);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}ctx.Model=(x=$clone(model,Model),new x.constructor.elem(x));_r$1=ctx.Model.StateReason();/* */$s=2;case 2:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_ref=_r$1;/* */if($assertType(_ref,protocol.StateReasonGiveUp,true)[1]){$s=3;continue;}/* */if($assertType(_ref,protocol.StateReasonLose,true)[1]){$s=4;continue;}/* */if($assertType(_ref,protocol.StateReasonWin,true)[1]){$s=5;continue;}/* */$s=6;continue;/* if ($assertType(_ref, protocol.StateReasonGiveUp, true)[1]) { */case 3:detail=$clone(_ref.$val,protocol.StateReasonGiveUp);$r=view.Alert("\xE4\xBD\xA0\xE6\x94\xBE\xE6\xA3\x84\xE4\xBA\x86\xE9\x81\x8A\xE6\x88\xB2, \xE5\xB0\x87\xE5\x9B\x9E\xE5\x88\xB0\xE6\xA9\x9F\xE5\xBA\xAB");/* */$s=8;case 8:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=time.Sleep(new time.Duration(0,2000000000));/* */$s=9;case 9:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=7;continue;/* } else if ($assertType(_ref, protocol.StateReasonLose, true)[1]) { */case 4:detail$1=$clone(_ref.$val,protocol.StateReasonLose);$r=view.Alert("\xE4\xBD\xA0\xE8\xBC\xB8\xE4\xBA\x86\xE9\x81\x8A\xE6\x88\xB2, \xE5\xB0\x87\xE5\x9B\x9E\xE5\x88\xB0\xE6\xA9\x9F\xE5\xBA\xAB");/* */$s=10;case 10:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=time.Sleep(new time.Duration(0,2000000000));/* */$s=11;case 11:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=7;continue;/* } else if ($assertType(_ref, protocol.StateReasonWin, true)[1]) { */case 5:detail$2=$clone(_ref.$val,protocol.StateReasonWin);$r=view.Alert("\xE4\xBD\xA0\xE5\x8B\x9D\xE4\xBA\x86\xE9\x81\x8A\xE6\x88\xB2, \xE5\xB0\x87\xE5\x9B\x9E\xE5\x88\xB0\xE6\xA9\x9F\xE5\xBA\xAB");/* */$s=12;case 12:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=time.Sleep(new time.Duration(0,2000000000));/* */$s=13;case 13:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=7;continue;/* } else { */case 6:detail$3=_ref;_r$2=fmt.Errorf("\xE9\x9B\xA2\xE9\x96\x8B\xE4\xBA\x86GameLoop\xEF\xBC\x8C\xE5\x8D\xBB\xE4\xB8\x8D\xE7\x9F\xA5\xE5\x8E\x9F\xE5\x9B\xA0(%+v)\xE3\x80\x82\xE8\xAB\x8B\xE6\xAA\xA2\xE6\x9F\xA5",new sliceType$5([detail$3]));/* */$s=14;case 14:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}$s=-1;return[origin,_r$2];/* } */case 7:$s=-1;return[ctx,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:OnApplyPassLevel};}$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._ref=_ref;$f._tuple=_tuple;$f.ctx=ctx;$f.detail=detail;$f.detail$1=detail$1;$f.detail$2=detail$2;$f.detail$3=detail$3;$f.err=err;$f.model=model;$f.origin=origin;$f.view=view;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};$pkg.OnApplyPassLevel=OnApplyPassLevel;OnCheckWinOrLose=function(origin){var _entry,_entry$1,_i,_keys,_r,_r$1,_r$2,_ref,_tuple,_tuple$1,_tuple$2,ctx,currPlayer,err,err$1,has,me,model,origin,playerWin,robotIDs,robotIDs$1,x,x$1,x$2,x$3,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_entry$1=$f._entry$1;_i=$f._i;_keys=$f._keys;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_ref=$f._ref;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;ctx=$f.ctx;currPlayer=$f.currPlayer;err=$f.err;err$1=$f.err$1;has=$f.has;me=$f.me;model=$f.model;origin=$f.origin;playerWin=$f.playerWin;robotIDs=$f.robotIDs;robotIDs$1=$f.robotIDs$1;x=$f.x;x$1=$f.x$1;x$2=$f.x$2;x$3=$f.x$3;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=log.Log(protocol.LogCategoryPhase,"OnCheckWinOrLose","start");/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}ctx=$clone(origin,uidata.UI);model=$clone($clone($assertType(ctx.Model,Model),types.Model),types.Model);_tuple=(_entry=model.App.Gameplay.Players[$String.keyFor("PlayerIDPlayer")],_entry!==undefined?[_entry.v,true]:[new protocol.Player.ptr("",""),false]);me=$clone(_tuple[0],protocol.Player);has=_tuple[1];/* */if(has===false){$s=2;continue;}/* */$s=3;continue;/* if (has === false) { */case 2:_r=fmt.Errorf("\xE8\xA6\x81\xE7\xA2\xBA\xE8\xAA\x8D\xE6\x9C\x89\xE6\xB2\x92\xE6\x9C\x89\xE5\x8B\x9D\xE5\x88\xA9\xE6\x99\x82\xE6\x89\xBE\xE4\xB8\x8D\xE5\x88\xB0(%v)\xE5\x9C\xA8(%v)",new sliceType$5([new $String("PlayerIDPlayer"),new mapType(model.App.Gameplay.Players)]));/* */$s=4;case 4:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return[origin,_r];/* } */case 3:playerWin=true;_ref=model.App.Gameplay.Players;_i=0;_keys=$keys(_ref);/* while (true) { */case 5:/* if (!(_i < _keys.length)) { break; } */if(!(_i<_keys.length)){$s=6;continue;}_entry$1=_ref[_keys[_i]];if(_entry$1===undefined){_i++;/* continue; */$s=5;continue;}currPlayer=$clone(_entry$1.v,protocol.Player);/* */if(currPlayer.ID==="PlayerIDPlayer"){$s=7;continue;}/* */$s=8;continue;/* if (currPlayer.ID === "PlayerIDPlayer") { */case 7:_i++;/* continue; */$s=5;continue;/* } */case 8:/* */if(currPlayer.GroupID===me.GroupID){$s=9;continue;}/* */$s=10;continue;/* if (currPlayer.GroupID === me.GroupID) { */case 9:_i++;/* continue; */$s=5;continue;/* } */case 10:_r$1=common.QueryUnitsByPlayer($clone(model,types.Model),currPlayer.ID);/* */$s=11;case 11:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$1=_r$1;robotIDs=_tuple$1[0];err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[ctx,err];}if(robotIDs.$length>0){playerWin=false;/* break; */$s=6;continue;}_i++;/* } */$s=5;continue;case 6:if(playerWin){model.App.Gameplay.State="GameplayModelStateDone";model.App.Gameplay.StateReason=(x=new protocol.StateReasonWin.ptr(),new x.constructor.elem(x));ctx.Model=(x$1=$clone(model,Model),new x$1.constructor.elem(x$1));$s=-1;return[ctx,$ifaceNil];}_r$2=common.QueryUnitsByPlayer($clone(model,types.Model),me.ID);/* */$s=12;case 12:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$2=_r$2;robotIDs$1=_tuple$2[0];err$1=_tuple$2[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[ctx,err$1];}if(robotIDs$1.$length===0){model.App.Gameplay.State="GameplayModelStateDone";model.App.Gameplay.StateReason=(x$2=new protocol.StateReasonLose.ptr(),new x$2.constructor.elem(x$2));ctx.Model=(x$3=$clone(model,Model),new x$3.constructor.elem(x$3));}$r=log.Log(protocol.LogCategoryPhase,"OnCheckWinOrLose","end");/* */$s=13;case 13:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return[ctx,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:OnCheckWinOrLose};}$f._entry=_entry;$f._entry$1=_entry$1;$f._i=_i;$f._keys=_keys;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._ref=_ref;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f.ctx=ctx;$f.currPlayer=currPlayer;$f.err=err;$f.err$1=err$1;$f.has=has;$f.me=me;$f.model=model;$f.origin=origin;$f.playerWin=playerWin;$f.robotIDs=robotIDs;$f.robotIDs$1=robotIDs$1;$f.x=x;$f.x$1=x$1;$f.x$2=x$2;$f.x$3=x$3;$f.$s=$s;$f.$r=$r;return $f;};$pkg.OnCheckWinOrLose=OnCheckWinOrLose;OnClickSystemMenu=function(origin,selection){var _1,_arg,_arg$1,_arg$2,_r,_r$1,_r$10,_r$11,_r$12,_r$13,_r$14,_r$15,_r$16,_r$17,_r$2,_r$3,_r$4,_r$5,_r$6,_r$7,_r$8,_r$9,_tuple,_tuple$1,_tuple$2,_tuple$3,_tuple$4,ctx,err,model,model$1,model$2,model$3,origin,selection,tempMap,view,x,x$1,x$2,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_arg=$f._arg;_arg$1=$f._arg$1;_arg$2=$f._arg$2;_r=$f._r;_r$1=$f._r$1;_r$10=$f._r$10;_r$11=$f._r$11;_r$12=$f._r$12;_r$13=$f._r$13;_r$14=$f._r$14;_r$15=$f._r$15;_r$16=$f._r$16;_r$17=$f._r$17;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_r$7=$f._r$7;_r$8=$f._r$8;_r$9=$f._r$9;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;_tuple$4=$f._tuple$4;ctx=$f.ctx;err=$f.err;model=$f.model;model$1=$f.model$1;model$2=$f.model$2;model$3=$f.model$3;origin=$f.origin;selection=$f.selection;tempMap=$f.tempMap;view=$f.view;x=$f.x;x$1=$f.x$1;x$2=$f.x$2;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:err=$ifaceNil;ctx=$clone(origin,uidata.UI);view=def.View;_1=selection;/* */if(_1==="\xE6\x94\xBE\xE6\xA3\x84\xE9\x81\x8A\xE6\x88\xB2"){$s=2;continue;}/* */if(_1==="\xE5\xAD\x98\xE6\xAA\x94"){$s=3;continue;}/* */if(_1==="\xE8\xAE\x80\xE6\xAA\x94"){$s=4;continue;}/* */if(_1==="MenuOptionTest"){$s=5;continue;}/* */if(_1==="MenuOptionTest2"){$s=6;continue;}/* */if(_1==="MenuOptionTest3"){$s=7;continue;}/* */$s=8;continue;/* if (_1 === ("\xE6\x94\xBE\xE6\xA3\x84\xE9\x81\x8A\xE6\x88\xB2")) { */case 2:model=$clone($assertType(ctx.Model,Model),Model);model.App.Gameplay.State="GameplayModelStateDone";model.App.Gameplay.StateReason=(x=new protocol.StateReasonGiveUp.ptr(),new x.constructor.elem(x));ctx.Model=new model.constructor.elem(model);$s=-1;return[ctx,err];/* } else if (_1 === ("\xE5\xAD\x98\xE6\xAA\x94")) { */case 3:_r=ctx.Model.Save();/* */$s=9;case 9:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}err=_r;/* */if(!$interfaceIsEqual(err,$ifaceNil)){$s=10;continue;}/* */$s=11;continue;/* if (!($interfaceIsEqual(err, $ifaceNil))) { */case 10:_r$1=err.Error();/* */$s=12;case 12:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}$r=view.Alert(_r$1);/* */$s=13;case 13:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return[origin,$ifaceNil];/* } */case 11:$s=8;continue;/* } else if (_1 === ("\xE8\xAE\x80\xE6\xAA\x94")) { */case 4:_r$2=ctx.Model.Load();/* */$s=14;case 14:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple=_r$2;ctx.Model=_tuple[0];err=_tuple[1];/* */if(!$interfaceIsEqual(err,$ifaceNil)){$s=15;continue;}/* */$s=16;continue;/* if (!($interfaceIsEqual(err, $ifaceNil))) { */case 15:_r$3=err.Error();/* */$s=17;case 17:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}$r=view.Alert(_r$3);/* */$s=18;case 18:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return[origin,$ifaceNil];/* } */case 16:_r$4=ctx.Model.State();/* */$s=21;case 21:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}/* */if(!(_r$4==="GameplayModelStatePlaying")){$s=19;continue;}/* */$s=20;continue;/* if (!(_r$4 === "GameplayModelStatePlaying")) { */case 19:$r=view.Alert("\xE4\xBD\xA0\xE6\xB2\x92\xE6\x9C\x89\xE6\x88\xB0\xE9\xAC\xA5\xE4\xB8\xAD\xE5\xAD\x98\xE6\xAA\x94");/* */$s=22;case 22:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return[origin,$ifaceNil];/* } */case 20:$s=8;continue;/* } else if (_1 === ("MenuOptionTest")) { */case 5:tempMap=sliceType$2.nil;_r$5=rand.Float64();/* */$s=23;case 23:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}_r$6=rand.Float64();/* */$s=24;case 24:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}_r$7=rand.Float64();/* */$s=25;case 25:if($c){$c=false;_r$7=_r$7.$blk();}if(_r$7&&_r$7.$blk!==undefined){break s;}_r$8=rand.Float64();/* */$s=26;case 26:if($c){$c=false;_r$8=_r$8.$blk();}if(_r$8&&_r$8.$blk!==undefined){break s;}_r$9=rand.Float64();/* */$s=27;case 27:if($c){$c=false;_r$9=_r$9.$blk();}if(_r$9&&_r$9.$blk!==undefined){break s;}_r$10=rand.Float64();/* */$s=28;case 28:if($c){$c=false;_r$10=_r$10.$blk();}if(_r$10&&_r$10.$blk!==undefined){break s;}_r$11=rand.Float64();/* */$s=29;case 29:if($c){$c=false;_r$11=_r$11.$blk();}if(_r$11&&_r$11.$blk!==undefined){break s;}_arg=new helper.GenerateMapConfig.ptr(_r$5,_r$6,_r$7,_r$8,_r$9,_r$10,_r$11,0);_r$12=rand.Int();/* */$s=30;case 30:if($c){$c=false;_r$12=_r$12.$blk();}if(_r$12&&_r$12.$blk!==undefined){break s;}_arg$1=_r$12;_r$13=rand.Int();/* */$s=31;case 31:if($c){$c=false;_r$13=_r$13.$blk();}if(_r$13&&_r$13.$blk!==undefined){break s;}_arg$2=_r$13;_r$14=helper.GenerateMap(_arg,new $Int64(0,0),0,1,20,20,_arg$1,_arg$2);/* */$s=32;case 32:if($c){$c=false;_r$14=_r$14.$blk();}if(_r$14&&_r$14.$blk!==undefined){break s;}_tuple$1=_r$14;tempMap=_tuple$1[0];err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}model$1=$clone($assertType(ctx.Model,Model),Model);model$1.App.Gameplay.Map=tempMap;ctx.Model=new model$1.constructor.elem(model$1);$s=8;continue;/* } else if (_1 === ("MenuOptionTest2")) { */case 6:model$2=$clone($clone($assertType(ctx.Model,Model),types.Model),types.Model);model$2.App.Gameplay.Units=new sliceType([]);model$2.App.Gameplay.Robots=$makeMap($String.keyFor,[]);model$2.App.Gameplay.Positions=$makeMap($String.keyFor,[]);_r$15=impl.GenerateLevelByPSO($clone(model$2,types.Model),"ai1");/* */$s=33;case 33:if($c){$c=false;_r$15=_r$15.$blk();}if(_r$15&&_r$15.$blk!==undefined){break s;}_tuple$2=_r$15;types.Model.copy(model$2,_tuple$2[0]);err=_tuple$2[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}ctx.Model=(x$1=$clone(model$2,Model),new x$1.constructor.elem(x$1));$s=8;continue;/* } else if (_1 === ("MenuOptionTest3")) { */case 7:model$3=$clone($clone($assertType(ctx.Model,Model),types.Model),types.Model);model$3.App.Gameplay.Units=new sliceType([]);model$3.App.Gameplay.Robots=$makeMap($String.keyFor,[]);model$3.App.Gameplay.Positions=$makeMap($String.keyFor,[]);_r$16=impl.GenerateLevelByHC($clone(model$3,types.Model),"ai1",$toNativeArray($kindInt,[19,19]),200000);/* */$s=34;case 34:if($c){$c=false;_r$16=_r$16.$blk();}if(_r$16&&_r$16.$blk!==undefined){break s;}_tuple$3=_r$16;types.Model.copy(model$3,_tuple$3[0]);err=_tuple$3[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}_r$17=impl.GenerateLevelByHC($clone(model$3,types.Model),"PlayerIDPlayer",$toNativeArray($kindInt,[0,0]),200000);/* */$s=35;case 35:if($c){$c=false;_r$17=_r$17.$blk();}if(_r$17&&_r$17.$blk!==undefined){break s;}_tuple$4=_r$17;types.Model.copy(model$3,_tuple$4[0]);err=_tuple$4[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}ctx.Model=(x$2=$clone(model$3,Model),new x$2.constructor.elem(x$2));/* } */case 8:case 1:$s=-1;return[ctx,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:OnClickSystemMenu};}$f._1=_1;$f._arg=_arg;$f._arg$1=_arg$1;$f._arg$2=_arg$2;$f._r=_r;$f._r$1=_r$1;$f._r$10=_r$10;$f._r$11=_r$11;$f._r$12=_r$12;$f._r$13=_r$13;$f._r$14=_r$14;$f._r$15=_r$15;$f._r$16=_r$16;$f._r$17=_r$17;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._r$7=_r$7;$f._r$8=_r$8;$f._r$9=_r$9;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f._tuple$4=_tuple$4;$f.ctx=ctx;$f.err=err;$f.model=model;$f.model$1=model$1;$f.model$2=model$2;$f.model$3=model$3;$f.origin=origin;$f.selection=selection;$f.tempMap=tempMap;$f.view=view;$f.x=x;$f.x$1=x$1;$f.x$2=x$2;$f.$s=$s;$f.$r=$r;return $f;};$pkg.OnClickSystemMenu=OnClickSystemMenu;OnDisableBattleMenu=function(origin){var _arg,_arg$1,_model,_r,_tuple,ctx,err,origin,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_arg=$f._arg;_arg$1=$f._arg$1;_model=$f._model;_r=$f._r;_tuple=$f._tuple;ctx=$f.ctx;err=$f.err;origin=$f.origin;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=log.Log(protocol.LogCategoryPhase,"DisableBattleMenu","start");/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}ctx=$clone(origin,uidata.UI);_model=$clone($assertType(ctx.Model,Model),Model);_model.App.Gameplay.BattleMenu.Active=false;ctx.Model=new _model.constructor.elem(_model);_tuple=OnDisableRobotMenu($clone(ctx,uidata.UI));ctx=$clone(_tuple[0],uidata.UI);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}_arg=protocol.LogCategoryDetail;_r=fmt.Sprintf("after RobotMenu(%v)",new sliceType$5([(x=$assertType(ctx.Model,Model).App.Gameplay.RobotMenu,new x.constructor.elem(x))]));/* */$s=2;case 2:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_arg$1=_r;$r=log.Log(_arg,"DisableBattleMenu",_arg$1);/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=log.Log(protocol.LogCategoryPhase,"DisableBattleMenu","end");/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return[ctx,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:OnDisableBattleMenu};}$f._arg=_arg;$f._arg$1=_arg$1;$f._model=_model;$f._r=_r;$f._tuple=_tuple;$f.ctx=ctx;$f.err=err;$f.origin=origin;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};$pkg.OnDisableBattleMenu=OnDisableBattleMenu;OnDisableLineBattleMenu=function(origin){var _model,_tuple,ctx,err,origin,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_model=$f._model;_tuple=$f._tuple;ctx=$f.ctx;err=$f.err;origin=$f.origin;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=log.Log(protocol.LogCategoryPhase,"OnDisableLineBattleMenu","start");/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}ctx=$clone(origin,uidata.UI);_model=$clone($assertType(ctx.Model,Model),Model);_model.App.Gameplay.HitMarks=$makeMap($String.keyFor,[]);_model.App.Gameplay.MapAttackRange=sliceType$4.nil;ctx.Model=new _model.constructor.elem(_model);_tuple=OnDisableRobotMenu($clone(ctx,uidata.UI));ctx=$clone(_tuple[0],uidata.UI);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}$r=log.Log(protocol.LogCategoryInfo,"OnDisableLineBattleMenu","end");/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return[ctx,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:OnDisableLineBattleMenu};}$f._model=_model;$f._tuple=_tuple;$f.ctx=ctx;$f.err=err;$f.origin=origin;$f.$s=$s;$f.$r=$r;return $f;};$pkg.OnDisableLineBattleMenu=OnDisableLineBattleMenu;OnDisableRobotMenu=function(origin){var _model,ctx,origin;ctx=$clone(origin,uidata.UI);_model=$clone($assertType(ctx.Model,Model),Model);_model.App.Gameplay.RobotMenu.Active=false;ctx.Model=new _model.constructor.elem(_model);return[ctx,$ifaceNil];};$pkg.OnDisableRobotMenu=OnDisableRobotMenu;OnEnableBattleMenu=function(origin,robotID,weaponID,targetRobotID){var _arg,_arg$1,_key,_key$1,_model,_r,_r$1,_r$10,_r$11,_r$12,_r$13,_r$14,_r$15,_r$2,_r$3,_r$4,_r$5,_r$6,_r$7,_r$8,_r$9,_tuple,_tuple$1,_tuple$10,_tuple$2,_tuple$3,_tuple$4,_tuple$5,_tuple$6,_tuple$7,_tuple$8,_tuple$9,battleMenu,ctx,err,err$1,err$2,err$3,err$4,invalidWeapons,invalidWeapons$1,menu,options,options$1,origin,pilot,robot,robotID,robotMenu,rowFunctionMapping,rowFunctionMapping$1,targetPilot,targetRobot,targetRobotID,weapon,weaponID,weapons,weapons$1,weapons$2,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_arg=$f._arg;_arg$1=$f._arg$1;_key=$f._key;_key$1=$f._key$1;_model=$f._model;_r=$f._r;_r$1=$f._r$1;_r$10=$f._r$10;_r$11=$f._r$11;_r$12=$f._r$12;_r$13=$f._r$13;_r$14=$f._r$14;_r$15=$f._r$15;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_r$7=$f._r$7;_r$8=$f._r$8;_r$9=$f._r$9;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$10=$f._tuple$10;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;_tuple$4=$f._tuple$4;_tuple$5=$f._tuple$5;_tuple$6=$f._tuple$6;_tuple$7=$f._tuple$7;_tuple$8=$f._tuple$8;_tuple$9=$f._tuple$9;battleMenu=$f.battleMenu;ctx=$f.ctx;err=$f.err;err$1=$f.err$1;err$2=$f.err$2;err$3=$f.err$3;err$4=$f.err$4;invalidWeapons=$f.invalidWeapons;invalidWeapons$1=$f.invalidWeapons$1;menu=$f.menu;options=$f.options;options$1=$f.options$1;origin=$f.origin;pilot=$f.pilot;robot=$f.robot;robotID=$f.robotID;robotMenu=$f.robotMenu;rowFunctionMapping=$f.rowFunctionMapping;rowFunctionMapping$1=$f.rowFunctionMapping$1;targetPilot=$f.targetPilot;targetRobot=$f.targetRobot;targetRobotID=$f.targetRobotID;weapon=$f.weapon;weaponID=$f.weaponID;weapons=$f.weapons;weapons$1=$f.weapons$1;weapons$2=$f.weapons$2;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_model=[_model];robot=[robot];targetRobot=[targetRobot];ctx=$clone(origin,uidata.UI);_model[0]=$clone($clone($assertType(origin.Model,Model),types.Model),types.Model);_r=common.QueryRobot($clone(_model[0],types.Model),robotID,true);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;robot[0]=$clone(_tuple[0],protocol.Robot);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}_r$1=common.QueryPilot($clone(_model[0],types.Model),robot[0].PilotID,true);/* */$s=2;case 2:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$1=_r$1;pilot=$clone(_tuple$1[0],protocol.Pilot);err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}_r$2=common.QueryRobot($clone(_model[0],types.Model),targetRobotID,true);/* */$s=3;case 3:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$2=_r$2;targetRobot[0]=$clone(_tuple$2[0],protocol.Robot);err=_tuple$2[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}_r$3=common.QueryPilot($clone(_model[0],types.Model),targetRobot[0].PilotID,true);/* */$s=4;case 4:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_tuple$3=_r$3;targetPilot=$clone(_tuple$3[0],protocol.Pilot);err=_tuple$3[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}battleMenu=$clone(_model[0].App.Gameplay.BattleMenu,protocol.BattleMenu);_r$4=common.QueryRobotWeapons($clone(_model[0],types.Model),robot[0].ID,robot[0].Transform,true);/* */$s=5;case 5:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}_tuple$4=_r$4;weapons=_tuple$4[0];err$1=_tuple$4[1];_r$5=protocol.TryGetStringWeapon(weapons,weaponID);/* */$s=6;case 6:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}_tuple$5=_r$5;weapon=$clone(_tuple$5[0],protocol.Weapon);err$1=_tuple$5[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[origin,err$1];}battleMenu.Active=true;protocol.Robot.copy(battleMenu.AttackRobot,robot[0]);protocol.Pilot.copy(battleMenu.AttackPilot,pilot);protocol.Weapon.copy(battleMenu.AttackWeapon,weapon);protocol.Robot.copy(battleMenu.DeffenceRobot,targetRobot[0]);protocol.Pilot.copy(battleMenu.DeffencePilot,targetPilot);robotMenu=$clone(_model[0].App.Gameplay.RobotMenu,protocol.RobotMenu);/* */if(targetRobot[0].PlayerID==="PlayerIDPlayer"){$s=7;continue;}/* */if(robot[0].PlayerID==="PlayerIDPlayer"){$s=8;continue;}/* */$s=9;continue;/* if (targetRobot[0].PlayerID === "PlayerIDPlayer") { */case 7:options=new sliceType$3([]);rowFunctionMapping=$makeMap($Int.keyFor,[]);_r$6=common.QueryRobotWeapons($clone(_model[0],types.Model),targetRobot[0].ID,targetRobot[0].Transform,true);/* */$s=11;case 11:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}_tuple$6=_r$6;weapons$1=_tuple$6[0];err$2=_tuple$6[1];if(!$interfaceIsEqual(err$2,$ifaceNil)){$s=-1;return[origin,err$2];}_r$7=protocol.FilterStringWeapon(weapons$1,function(_model,robot,targetRobot){return function $b(param,weapon$1){var _arg,_arg$1,_r$7,_r$8,_tuple$7,err$3,invalieStr,param,weapon$1,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_arg=$f._arg;_arg$1=$f._arg$1;_r$7=$f._r$7;_r$8=$f._r$8;_tuple$7=$f._tuple$7;err$3=$f.err$3;invalieStr=$f.invalieStr;param=$f.param;weapon$1=$f.weapon$1;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r$7=common.CheckInvalidWeapon($clone(_model[0],types.Model),targetRobot[0].ID,$clone(weapon$1,protocol.Weapon),new sliceType([robot[0].ID]),false);/* */$s=1;case 1:if($c){$c=false;_r$7=_r$7.$blk();}if(_r$7&&_r$7.$blk!==undefined){break s;}_tuple$7=_r$7;invalieStr=_tuple$7[0];err$3=_tuple$7[1];/* */if(!$interfaceIsEqual(err$3,$ifaceNil)){$s=2;continue;}/* */$s=3;continue;/* if (!($interfaceIsEqual(err$3, $ifaceNil))) { */case 2:_arg=protocol.LogCategoryWarning;_r$8=err$3.Error();/* */$s=4;case 4:if($c){$c=false;_r$8=_r$8.$blk();}if(_r$8&&_r$8.$blk!==undefined){break s;}_arg$1=_r$8;$r=log.Log(_arg,"EnableBattleMenu",_arg$1);/* */$s=5;case 5:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return false;/* } */case 3:$s=-1;return invalieStr==="";/* */}return;}if($f===undefined){$f={$blk:$b};}$f._arg=_arg;$f._arg$1=_arg$1;$f._r$7=_r$7;$f._r$8=_r$8;$f._tuple$7=_tuple$7;$f.err$3=err$3;$f.invalieStr=invalieStr;$f.param=param;$f.weapon$1=weapon$1;$f.$s=$s;$f.$r=$r;return $f;};}(_model,robot,targetRobot));/* */$s=12;case 12:if($c){$c=false;_r$7=_r$7.$blk();}if(_r$7&&_r$7.$blk!==undefined){break s;}weapons$1=_r$7;if($keys(weapons$1).length>0){_key=options.$length;(rowFunctionMapping||$throwRuntimeError("assignment to entry in nil map"))[$Int.keyFor(_key)]={k:_key,v:1};options=$append(options,protocol.KesStringWeapon(weapons$1));}options=$append(options,new sliceType(["\xE9\x98\xB2\xE7\xA6\xA6"]));options=$append(options,new sliceType(["\xE9\x96\x83\xE9\x81\xBF"]));invalidWeapons=$makeMap($String.keyFor,[]);/* */if($keys(weapons$1).length>0){$s=13;continue;}/* */$s=14;continue;/* if ($keys(weapons$1).length > 0) { */case 13:_r$8=common.CheckInvalidWeapons($clone(_model[0],types.Model),targetRobot[0].ID,weapons$1,false);/* */$s=15;case 15:if($c){$c=false;_r$8=_r$8.$blk();}if(_r$8&&_r$8.$blk!==undefined){break s;}_tuple$7=_r$8;invalidWeapons=_tuple$7[0];err$2=_tuple$7[1];/* } */case 14:robotMenu.Active=true;robotMenu.ActiveRobotID=targetRobotID;robotMenu.Options=options;robotMenu.RowFunctionMapping=rowFunctionMapping;robotMenu.Weapons=weapons$1;robotMenu.InvalidWeapons=invalidWeapons;$s=10;continue;/* } else if (robot[0].PlayerID === "PlayerIDPlayer") { */case 8:options$1=new sliceType$3([]);rowFunctionMapping$1=$makeMap($Int.keyFor,[]);_r$9=common.QueryRobotWeapons($clone(_model[0],types.Model),robot[0].ID,robot[0].Transform,true);/* */$s=16;case 16:if($c){$c=false;_r$9=_r$9.$blk();}if(_r$9&&_r$9.$blk!==undefined){break s;}_tuple$8=_r$9;weapons$2=_tuple$8[0];err$3=_tuple$8[1];if(!$interfaceIsEqual(err$3,$ifaceNil)){$s=-1;return[origin,err$3];}_r$10=protocol.FilterStringWeapon(weapons$2,function(_model,robot,targetRobot){return function $b(param,weapon$1){var _arg,_arg$1,_r$10,_r$11,_tuple$9,err$4,invalieStr,param,weapon$1,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_arg=$f._arg;_arg$1=$f._arg$1;_r$10=$f._r$10;_r$11=$f._r$11;_tuple$9=$f._tuple$9;err$4=$f.err$4;invalieStr=$f.invalieStr;param=$f.param;weapon$1=$f.weapon$1;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r$10=common.CheckInvalidWeapon($clone(_model[0],types.Model),robot[0].ID,$clone(weapon$1,protocol.Weapon),new sliceType([targetRobot[0].ID]),false);/* */$s=1;case 1:if($c){$c=false;_r$10=_r$10.$blk();}if(_r$10&&_r$10.$blk!==undefined){break s;}_tuple$9=_r$10;invalieStr=_tuple$9[0];err$4=_tuple$9[1];/* */if(!$interfaceIsEqual(err$4,$ifaceNil)){$s=2;continue;}/* */$s=3;continue;/* if (!($interfaceIsEqual(err$4, $ifaceNil))) { */case 2:_arg=protocol.LogCategoryWarning;_r$11=err$4.Error();/* */$s=4;case 4:if($c){$c=false;_r$11=_r$11.$blk();}if(_r$11&&_r$11.$blk!==undefined){break s;}_arg$1=_r$11;$r=log.Log(_arg,"EnableBattleMenu",_arg$1);/* */$s=5;case 5:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return false;/* } */case 3:$s=-1;return invalieStr==="";/* */}return;}if($f===undefined){$f={$blk:$b};}$f._arg=_arg;$f._arg$1=_arg$1;$f._r$10=_r$10;$f._r$11=_r$11;$f._tuple$9=_tuple$9;$f.err$4=err$4;$f.invalieStr=invalieStr;$f.param=param;$f.weapon$1=weapon$1;$f.$s=$s;$f.$r=$r;return $f;};}(_model,robot,targetRobot));/* */$s=17;case 17:if($c){$c=false;_r$10=_r$10.$blk();}if(_r$10&&_r$10.$blk!==undefined){break s;}weapons$2=_r$10;/* */if($keys(weapons$2).length>0){$s=18;continue;}/* */$s=19;continue;/* if ($keys(weapons$2).length > 0) { */case 18:_key$1=options$1.$length;(rowFunctionMapping$1||$throwRuntimeError("assignment to entry in nil map"))[$Int.keyFor(_key$1)]={k:_key$1,v:1};options$1=$append(options$1,protocol.KesStringWeapon(weapons$2));$s=20;continue;/* } else { */case 19:_r$11=fmt.Errorf("\xE9\x80\x99\xE6\x99\x82\xE5\xBF\x85\xE9\xA0\x88\xE6\x9C\x89\xE6\xAD\xA6\xE5\x99\xA8\xE5\x8F\xAF\xE4\xBB\xA5\xE9\x81\xB8",new sliceType$5([]));/* */$s=21;case 21:if($c){$c=false;_r$11=_r$11.$blk();}if(_r$11&&_r$11.$blk!==undefined){break s;}$s=-1;return[origin,_r$11];/* } */case 20:invalidWeapons$1=$makeMap($String.keyFor,[]);/* */if($keys(weapons$2).length>0){$s=22;continue;}/* */$s=23;continue;/* if ($keys(weapons$2).length > 0) { */case 22:_r$12=common.CheckInvalidWeapons($clone(_model[0],types.Model),robot[0].ID,weapons$2,false);/* */$s=24;case 24:if($c){$c=false;_r$12=_r$12.$blk();}if(_r$12&&_r$12.$blk!==undefined){break s;}_tuple$9=_r$12;invalidWeapons$1=_tuple$9[0];err$3=_tuple$9[1];/* } */case 23:robotMenu.Active=true;robotMenu.ActiveRobotID=robotID;robotMenu.Options=options$1;robotMenu.RowFunctionMapping=rowFunctionMapping$1;robotMenu.Weapons=weapons$2;robotMenu.InvalidWeapons=invalidWeapons$1;$s=10;continue;/* } else { */case 9:_r$13=fmt.Errorf("unknown situation. robot(%+v) targetRobot(%+v)",new sliceType$5([new robot[0].constructor.elem(robot[0]),new targetRobot[0].constructor.elem(targetRobot[0])]));/* */$s=25;case 25:if($c){$c=false;_r$13=_r$13.$blk();}if(_r$13&&_r$13.$blk!==undefined){break s;}$s=-1;return[origin,_r$13];/* } */case 10:protocol.BattleMenu.copy(_model[0].App.Gameplay.BattleMenu,battleMenu);protocol.RobotMenu.copy(_model[0].App.Gameplay.RobotMenu,robotMenu);ctx.Model=(x=$clone(_model[0],Model),new x.constructor.elem(x));_r$14=uidata.TryGetIntMenu2D(ctx.Menu2Ds,31);/* */$s=26;case 26:if($c){$c=false;_r$14=_r$14.$blk();}if(_r$14&&_r$14.$blk!==undefined){break s;}_tuple$10=_r$14;menu=$clone(_tuple$10[0],uidata.Menu2D);err$4=_tuple$10[1];if(!$interfaceIsEqual(err$4,$ifaceNil)){$s=-1;return[origin,err$4];}menu.Cursor1=0;ctx.Menu2Ds=uidata.AssocIntMenu2D(ctx.Menu2Ds,31,$clone(menu,uidata.Menu2D));_arg=protocol.LogCategoryInfo;_r$15=fmt.Sprintf("end. BattleMenu(%v)\n",new sliceType$5([new battleMenu.constructor.elem(battleMenu)]));/* */$s=27;case 27:if($c){$c=false;_r$15=_r$15.$blk();}if(_r$15&&_r$15.$blk!==undefined){break s;}_arg$1=_r$15;$r=log.Log(_arg,"EnableBattleMenu",_arg$1);/* */$s=28;case 28:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return[ctx,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:OnEnableBattleMenu};}$f._arg=_arg;$f._arg$1=_arg$1;$f._key=_key;$f._key$1=_key$1;$f._model=_model;$f._r=_r;$f._r$1=_r$1;$f._r$10=_r$10;$f._r$11=_r$11;$f._r$12=_r$12;$f._r$13=_r$13;$f._r$14=_r$14;$f._r$15=_r$15;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._r$7=_r$7;$f._r$8=_r$8;$f._r$9=_r$9;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$10=_tuple$10;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f._tuple$4=_tuple$4;$f._tuple$5=_tuple$5;$f._tuple$6=_tuple$6;$f._tuple$7=_tuple$7;$f._tuple$8=_tuple$8;$f._tuple$9=_tuple$9;$f.battleMenu=battleMenu;$f.ctx=ctx;$f.err=err;$f.err$1=err$1;$f.err$2=err$2;$f.err$3=err$3;$f.err$4=err$4;$f.invalidWeapons=invalidWeapons;$f.invalidWeapons$1=invalidWeapons$1;$f.menu=menu;$f.options=options;$f.options$1=options$1;$f.origin=origin;$f.pilot=pilot;$f.robot=robot;$f.robotID=robotID;$f.robotMenu=robotMenu;$f.rowFunctionMapping=rowFunctionMapping;$f.rowFunctionMapping$1=rowFunctionMapping$1;$f.targetPilot=targetPilot;$f.targetRobot=targetRobot;$f.targetRobotID=targetRobotID;$f.weapon=weapon;$f.weaponID=weaponID;$f.weapons=weapons;$f.weapons$1=weapons$1;$f.weapons$2=weapons$2;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};$pkg.OnEnableBattleMenu=OnEnableBattleMenu;OnEnableLineBattleMenu=function(origin,robotID,weaponID,targetPosition){var _arg,_arg$1,_arg$2,_arg$3,_i,_key,_key$1,_model,_q,_r,_r$1,_r$10,_r$11,_r$12,_r$13,_r$2,_r$3,_r$4,_r$5,_r$6,_r$7,_r$8,_r$9,_ref,_tmp,_tmp$1,_tuple,_tuple$1,_tuple$10,_tuple$11,_tuple$2,_tuple$3,_tuple$4,_tuple$5,_tuple$6,_tuple$7,_tuple$8,_tuple$9,attackRange,ctx,currPos,cx,cy,dir1,dir2,dir2$1,distanceLength,distanceLength$1,distanceWidth,distanceWidth$1,err,err$1,err$2,err$3,fromPos,fromPosV2,hitRate,invalidWeapons,leftTop,menu,normal,options,origin,pilot,rate,rightBottom,robot,robotID,robotMenu,rowFunctionMapping,size,targetPilot,targetPosition,targetPosition$1,targetRobot,toPos,toPosV2,unitID,unitPosV2,unitsInRegion,weapon,weaponID,weaponRange,weaponRangeLength,weaponRangeWidth,weapons,weapons$1,x,x$1,y,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_arg=$f._arg;_arg$1=$f._arg$1;_arg$2=$f._arg$2;_arg$3=$f._arg$3;_i=$f._i;_key=$f._key;_key$1=$f._key$1;_model=$f._model;_q=$f._q;_r=$f._r;_r$1=$f._r$1;_r$10=$f._r$10;_r$11=$f._r$11;_r$12=$f._r$12;_r$13=$f._r$13;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_r$7=$f._r$7;_r$8=$f._r$8;_r$9=$f._r$9;_ref=$f._ref;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$10=$f._tuple$10;_tuple$11=$f._tuple$11;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;_tuple$4=$f._tuple$4;_tuple$5=$f._tuple$5;_tuple$6=$f._tuple$6;_tuple$7=$f._tuple$7;_tuple$8=$f._tuple$8;_tuple$9=$f._tuple$9;attackRange=$f.attackRange;ctx=$f.ctx;currPos=$f.currPos;cx=$f.cx;cy=$f.cy;dir1=$f.dir1;dir2=$f.dir2;dir2$1=$f.dir2$1;distanceLength=$f.distanceLength;distanceLength$1=$f.distanceLength$1;distanceWidth=$f.distanceWidth;distanceWidth$1=$f.distanceWidth$1;err=$f.err;err$1=$f.err$1;err$2=$f.err$2;err$3=$f.err$3;fromPos=$f.fromPos;fromPosV2=$f.fromPosV2;hitRate=$f.hitRate;invalidWeapons=$f.invalidWeapons;leftTop=$f.leftTop;menu=$f.menu;normal=$f.normal;options=$f.options;origin=$f.origin;pilot=$f.pilot;rate=$f.rate;rightBottom=$f.rightBottom;robot=$f.robot;robotID=$f.robotID;robotMenu=$f.robotMenu;rowFunctionMapping=$f.rowFunctionMapping;size=$f.size;targetPilot=$f.targetPilot;targetPosition=$f.targetPosition;targetPosition$1=$f.targetPosition$1;targetRobot=$f.targetRobot;toPos=$f.toPos;toPosV2=$f.toPosV2;unitID=$f.unitID;unitPosV2=$f.unitPosV2;unitsInRegion=$f.unitsInRegion;weapon=$f.weapon;weaponID=$f.weaponID;weaponRange=$f.weaponRange;weaponRangeLength=$f.weaponRangeLength;weaponRangeWidth=$f.weaponRangeWidth;weapons=$f.weapons;weapons$1=$f.weapons$1;x=$f.x;x$1=$f.x$1;y=$f.y;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=log.Log(protocol.LogCategoryPhase,"OnEnableLineBattleMenu","start");/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}ctx=$clone(origin,uidata.UI);_model=$clone($clone($assertType(ctx.Model,Model),types.Model),types.Model);_r=protocol.TryGetStringRobot(_model.App.Gameplay.Robots,robotID);/* */$s=2;case 2:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;robot=$clone(_tuple[0],protocol.Robot);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}_r$1=protocol.TryGetStringPilot(_model.App.Gameplay.Pilots,robot.PilotID);/* */$s=3;case 3:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$1=_r$1;pilot=$clone(_tuple$1[0],protocol.Pilot);err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}_r$2=common.QueryRobotWeapons($clone(_model,types.Model),robot.ID,robot.Transform,true);/* */$s=4;case 4:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$2=_r$2;weapons=_tuple$2[0];err=_tuple$2[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}_r$3=protocol.TryGetStringWeapon(weapons,weaponID);/* */$s=5;case 5:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_tuple$3=_r$3;weapon=$clone(_tuple$3[0],protocol.Weapon);err=_tuple$3[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}robotMenu=$clone(_model.App.Gameplay.RobotMenu,protocol.RobotMenu);options=new sliceType$3([]);rowFunctionMapping=$makeMap($Int.keyFor,[]);weapons$1=$makeMap($String.keyFor,[{k:weapon.ID,v:$clone(weapon,protocol.Weapon)}]);if($keys(weapons$1).length>0){_key=options.$length;(rowFunctionMapping||$throwRuntimeError("assignment to entry in nil map"))[$Int.keyFor(_key)]={k:_key,v:1};options=$append(options,protocol.KesStringWeapon(weapons$1));}invalidWeapons=$makeMap($String.keyFor,[]);/* */if($keys(weapons$1).length>0){$s=6;continue;}/* */$s=7;continue;/* if ($keys(weapons$1).length > 0) { */case 6:_r$4=common.CheckInvalidWeapons($clone(_model,types.Model),robot.ID,weapons$1,false);/* */$s=8;case 8:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}_tuple$4=_r$4;invalidWeapons=_tuple$4[0];err=_tuple$4[1];/* } */case 7:robotMenu.Active=true;robotMenu.ActiveRobotID=robot.ID;robotMenu.Options=options;robotMenu.RowFunctionMapping=rowFunctionMapping;robotMenu.Weapons=weapons$1;robotMenu.InvalidWeapons=invalidWeapons;protocol.RobotMenu.copy(_model.App.Gameplay.RobotMenu,robotMenu);_model.App.Gameplay.HitMarks=$makeMap($String.keyFor,[]);_r$5=protocol.TryGetStringPosition(_model.App.Gameplay.Positions,robotID);/* */$s=9;case 9:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}_tuple$5=_r$5;fromPos=$clone(_tuple$5[0],protocol.Position);err$1=_tuple$5[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[origin,err$1];}toPos=$clone(targetPosition,protocol.Position);_r$6=common.QueryRobotWeaponRange($clone(_model,types.Model),robot.ID,$clone(weapon,protocol.Weapon),true);/* */$s=10;case 10:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}_tuple$6=_r$6;weaponRange=$clone(_tuple$6[0],arrayType);err$1=_tuple$6[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[origin,err$1];}weaponRangeLength=weaponRange[0];weaponRangeWidth=(_q=weaponRange[1]/2,_q===_q&&_q!==1/0&&_q!==-1/0?_q>>0:$throwRuntimeError("integer divide by zero"));size=10;leftTop=$toNativeArray($kindInt,[fromPos[0]-size>>0,fromPos[0]-size>>0]);rightBottom=$toNativeArray($kindInt,[fromPos[0]+size>>0,fromPos[0]+size>>0]);unitsInRegion=common.SearchUnitByRegion(_model.App.Gameplay.Positions,$clone(leftTop,protocol.Position),$clone(rightBottom,protocol.Position));fromPosV2=$toNativeArray($kindFloat64,[fromPos[0],fromPos[1]]);toPosV2=$toNativeArray($kindFloat64,[toPos[0],toPos[1]]);dir1=$clone(new mgl64.Vec2($clone(new mgl64.Vec2($clone(toPosV2,mgl64.Vec2)).Sub($clone(fromPosV2,mgl64.Vec2)),mgl64.Vec2)).Normalize(),mgl64.Vec2);normal=$clone(new mgl64.Vec2($clone(new mgl64.Vec3($clone(new mgl64.Vec3($clone(new mgl64.Vec2($clone(dir1,mgl64.Vec2)).Vec3(0),mgl64.Vec3)).Cross($toNativeArray($kindFloat64,[0,0,1])),mgl64.Vec3)).Vec2(),mgl64.Vec2)).Normalize(),mgl64.Vec2);_arg=protocol.LogCategoryDetail;_r$7=fmt.Sprintf("from(%v) to(%v) normal(%v)",new sliceType$5([new protocol.Position(fromPos),new protocol.Position(toPos),new mgl64.Vec2(normal)]));/* */$s=11;case 11:if($c){$c=false;_r$7=_r$7.$blk();}if(_r$7&&_r$7.$blk!==undefined){break s;}_arg$1=_r$7;$r=log.Log(_arg,"OnEnableLineBattleMenu",_arg$1);/* */$s=12;case 12:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}_ref=unitsInRegion;_i=0;/* while (true) { */case 13:/* if (!(_i < _ref.$length)) { break; } */if(!(_i<_ref.$length)){$s=14;continue;}unitID=_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i];/* */if(unitID===robot.ID){$s=15;continue;}/* */$s=16;continue;/* if (unitID === robot.ID) { */case 15:_i++;/* continue; */$s=13;continue;/* } */case 16:_r$8=protocol.TryGetStringRobot(_model.App.Gameplay.Robots,unitID);/* */$s=17;case 17:if($c){$c=false;_r$8=_r$8.$blk();}if(_r$8&&_r$8.$blk!==undefined){break s;}_tuple$7=_r$8;targetRobot=$clone(_tuple$7[0],protocol.Robot);err$2=_tuple$7[1];if(!$interfaceIsEqual(err$2,$ifaceNil)){$s=-1;return[origin,err$2];}_r$9=protocol.TryGetStringPilot(_model.App.Gameplay.Pilots,targetRobot.PilotID);/* */$s=18;case 18:if($c){$c=false;_r$9=_r$9.$blk();}if(_r$9&&_r$9.$blk!==undefined){break s;}_tuple$8=_r$9;targetPilot=$clone(_tuple$8[0],protocol.Pilot);err$2=_tuple$8[1];if(!$interfaceIsEqual(err$2,$ifaceNil)){$s=-1;return[origin,err$2];}_r$10=protocol.TryGetStringPosition(_model.App.Gameplay.Positions,unitID);/* */$s=19;case 19:if($c){$c=false;_r$10=_r$10.$blk();}if(_r$10&&_r$10.$blk!==undefined){break s;}_tuple$9=_r$10;targetPosition$1=$clone(_tuple$9[0],protocol.Position);err$2=_tuple$9[1];if(!$interfaceIsEqual(err$2,$ifaceNil)){$s=-1;return[origin,err$2];}unitPosV2=$toNativeArray($kindFloat64,[targetPosition$1[0],targetPosition$1[1]]);dir2=$clone(new mgl64.Vec2($clone(unitPosV2,mgl64.Vec2)).Sub($clone(fromPosV2,mgl64.Vec2)),mgl64.Vec2);distanceLength=new mgl64.Vec2($clone(dir2,mgl64.Vec2)).Dot($clone(dir1,mgl64.Vec2));/* */if(distanceLength<=0){$s=20;continue;}/* */$s=21;continue;/* if (distanceLength <= 0) { */case 20:_i++;/* continue; */$s=13;continue;/* } */case 21:/* */if(distanceLength>weaponRangeLength){$s=22;continue;}/* */$s=23;continue;/* if (distanceLength > (weaponRangeLength)) { */case 22:_i++;/* continue; */$s=13;continue;/* } */case 23:distanceWidth=math.Abs(new mgl64.Vec2($clone(dir2,mgl64.Vec2)).Dot($clone(normal,mgl64.Vec2)));/* */if(distanceWidth>=weaponRangeWidth){$s=24;continue;}/* */$s=25;continue;/* if (distanceWidth >= (weaponRangeWidth)) { */case 24:_i++;/* continue; */$s=13;continue;/* } */case 25:_arg$2=protocol.LogCategoryDetail;_r$11=fmt.Sprintf("dir2(%v) distance2line(%v)",new sliceType$5([new mgl64.Vec2(dir2),new $Float64(distanceWidth)]));/* */$s=26;case 26:if($c){$c=false;_r$11=_r$11.$blk();}if(_r$11&&_r$11.$blk!==undefined){break s;}_arg$3=_r$11;$r=log.Log(_arg$2,"OnEnableLineBattleMenu",_arg$3);/* */$s=27;case 27:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}rate=1-distanceWidth/weaponRangeWidth;_r$12=impl.QueryBattleHitRate($clone(_model,types.Model),$clone(robot,protocol.Robot),$clone(pilot,protocol.Pilot),$clone(weapon,protocol.Weapon),$clone(targetRobot,protocol.Robot),$clone(targetPilot,protocol.Pilot),new impl.QueryBattleHitRateOptions.ptr(false));/* */$s=28;case 28:if($c){$c=false;_r$12=_r$12.$blk();}if(_r$12&&_r$12.$blk!==undefined){break s;}_tuple$10=_r$12;hitRate=_tuple$10[0];err$2=_tuple$10[1];if(!$interfaceIsEqual(err$2,$ifaceNil)){$s=-1;return[origin,err$2];}hitRate=hitRate*rate;_key$1=unitID;(_model.App.Gameplay.HitMarks||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key$1)]={k:_key$1,v:new protocol.HitMark.ptr(hitRate,rate)};_i++;/* } */$s=13;continue;case 14:attackRange=new sliceType$4([]);y=-size;/* while (true) { */case 29:/* if (!(y <= size)) { break; } */if(!(y<=size)){$s=30;continue;}x=-size;while(true){if(!(x<=size)){break;}_tmp=x+fromPos[0]>>0;_tmp$1=y+fromPos[1]>>0;cx=_tmp;cy=_tmp$1;currPos=$toNativeArray($kindFloat64,[cx,cy]);dir2$1=$clone(new mgl64.Vec2($clone(currPos,mgl64.Vec2)).Sub($clone(fromPosV2,mgl64.Vec2)),mgl64.Vec2);distanceLength$1=new mgl64.Vec2($clone(dir2$1,mgl64.Vec2)).Dot($clone(dir1,mgl64.Vec2));if(distanceLength$1<=0){x=x+1>>0;continue;}if(distanceLength$1>weaponRangeLength){x=x+1>>0;continue;}distanceWidth$1=math.Abs(new mgl64.Vec2($clone(dir2$1,mgl64.Vec2)).Dot($clone(normal,mgl64.Vec2)));if(distanceWidth$1>=weaponRangeWidth){x=x+1>>0;continue;}attackRange=$append(attackRange,$toNativeArray($kindInt,[cx,cy]));x=x+1>>0;}y=y+1>>0;/* } */$s=29;continue;case 30:_model.App.Gameplay.MapAttackRange=attackRange;ctx.Model=(x$1=$clone(_model,Model),new x$1.constructor.elem(x$1));_r$13=uidata.TryGetIntMenu2D(ctx.Menu2Ds,31);/* */$s=31;case 31:if($c){$c=false;_r$13=_r$13.$blk();}if(_r$13&&_r$13.$blk!==undefined){break s;}_tuple$11=_r$13;menu=$clone(_tuple$11[0],uidata.Menu2D);err$3=_tuple$11[1];if(!$interfaceIsEqual(err$3,$ifaceNil)){$s=-1;return[origin,err$3];}menu.Cursor1=0;ctx.Menu2Ds=uidata.AssocIntMenu2D(ctx.Menu2Ds,31,$clone(menu,uidata.Menu2D));$r=log.Log(protocol.LogCategoryInfo,"OnEnableLineBattleMenu","end");/* */$s=32;case 32:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return[ctx,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:OnEnableLineBattleMenu};}$f._arg=_arg;$f._arg$1=_arg$1;$f._arg$2=_arg$2;$f._arg$3=_arg$3;$f._i=_i;$f._key=_key;$f._key$1=_key$1;$f._model=_model;$f._q=_q;$f._r=_r;$f._r$1=_r$1;$f._r$10=_r$10;$f._r$11=_r$11;$f._r$12=_r$12;$f._r$13=_r$13;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._r$7=_r$7;$f._r$8=_r$8;$f._r$9=_r$9;$f._ref=_ref;$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$10=_tuple$10;$f._tuple$11=_tuple$11;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f._tuple$4=_tuple$4;$f._tuple$5=_tuple$5;$f._tuple$6=_tuple$6;$f._tuple$7=_tuple$7;$f._tuple$8=_tuple$8;$f._tuple$9=_tuple$9;$f.attackRange=attackRange;$f.ctx=ctx;$f.currPos=currPos;$f.cx=cx;$f.cy=cy;$f.dir1=dir1;$f.dir2=dir2;$f.dir2$1=dir2$1;$f.distanceLength=distanceLength;$f.distanceLength$1=distanceLength$1;$f.distanceWidth=distanceWidth;$f.distanceWidth$1=distanceWidth$1;$f.err=err;$f.err$1=err$1;$f.err$2=err$2;$f.err$3=err$3;$f.fromPos=fromPos;$f.fromPosV2=fromPosV2;$f.hitRate=hitRate;$f.invalidWeapons=invalidWeapons;$f.leftTop=leftTop;$f.menu=menu;$f.normal=normal;$f.options=options;$f.origin=origin;$f.pilot=pilot;$f.rate=rate;$f.rightBottom=rightBottom;$f.robot=robot;$f.robotID=robotID;$f.robotMenu=robotMenu;$f.rowFunctionMapping=rowFunctionMapping;$f.size=size;$f.targetPilot=targetPilot;$f.targetPosition=targetPosition;$f.targetPosition$1=targetPosition$1;$f.targetRobot=targetRobot;$f.toPos=toPos;$f.toPosV2=toPosV2;$f.unitID=unitID;$f.unitPosV2=unitPosV2;$f.unitsInRegion=unitsInRegion;$f.weapon=weapon;$f.weaponID=weaponID;$f.weaponRange=weaponRange;$f.weaponRangeLength=weaponRangeLength;$f.weaponRangeWidth=weaponRangeWidth;$f.weapons=weapons;$f.weapons$1=weapons$1;$f.x=x;$f.x$1=x$1;$f.y=y;$f.$s=$s;$f.$r=$r;return $f;};$pkg.OnEnableLineBattleMenu=OnEnableLineBattleMenu;OnEnableRobotMenu=function(origin,robotID){var _arg,_arg$1,_entry,_entry$1,_key,_key$1,_model,_r,_r$1,_r$2,_r$3,_r$4,_r$5,_r$6,_r$7,_tuple,_tuple$1,_tuple$2,_tuple$3,_tuple$4,_tuple$5,ctx,err,err$1,err$2,err$3,hasTransform,invalidWeapons,isSky,menu,options,options$1,origin,robot,robotID,robotProto,rowFunctionMapping,suitabiity,tags,weapons,x,x$1,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_arg=$f._arg;_arg$1=$f._arg$1;_entry=$f._entry;_entry$1=$f._entry$1;_key=$f._key;_key$1=$f._key$1;_model=$f._model;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_r$7=$f._r$7;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;_tuple$4=$f._tuple$4;_tuple$5=$f._tuple$5;ctx=$f.ctx;err=$f.err;err$1=$f.err$1;err$2=$f.err$2;err$3=$f.err$3;hasTransform=$f.hasTransform;invalidWeapons=$f.invalidWeapons;isSky=$f.isSky;menu=$f.menu;options=$f.options;options$1=$f.options$1;origin=$f.origin;robot=$f.robot;robotID=$f.robotID;robotProto=$f.robotProto;rowFunctionMapping=$f.rowFunctionMapping;suitabiity=$f.suitabiity;tags=$f.tags;weapons=$f.weapons;x=$f.x;x$1=$f.x$1;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=log.Log(protocol.LogCategoryPhase,"OnEnableRobotMenu","start");/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}ctx=$clone(origin,uidata.UI);_model=$clone($clone($assertType(ctx.Model,Model),types.Model),types.Model);tags=$clone((_entry=_model.App.Gameplay.Tags[$String.keyFor(robotID)],_entry!==undefined?_entry.v:new protocol.Tag.ptr(0,false,false)),protocol.Tag);/* */if(tags.IsDone){$s=2;continue;}/* */$s=3;continue;/* if (tags.IsDone) { */case 2:_r=fmt.Errorf("[EnableRobotMenu] robot(%v) already done",new sliceType$5([new $String(robotID)]));/* */$s=4;case 4:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return[origin,_r];/* } */case 3:_r$1=protocol.TryGetStringRobot(_model.App.Gameplay.Robots,robotID);/* */$s=5;case 5:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple=_r$1;robot=$clone(_tuple[0],protocol.Robot);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}_r$2=data.TryGetStringRobotProto(data.GameData.Robot,robot.ProtoID);/* */$s=6;case 6:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$1=_r$2;robotProto=$clone(_tuple$1[0],data.RobotProto);err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}/* */if(robot.PlayerID==="PlayerIDPlayer"){$s=7;continue;}/* */$s=8;continue;/* if (robot.PlayerID === "PlayerIDPlayer") { */case 7:options=new sliceType$3([]);rowFunctionMapping=$makeMap($Int.keyFor,[]);if(tags.MoveCount===0){options=$append(options,new sliceType(["\xE7\xA7\xBB\xE5\x8B\x95"]));}_r$3=common.QueryRobotWeapons($clone(_model,types.Model),robot.ID,robot.Transform,true);/* */$s=10;case 10:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_tuple$2=_r$3;weapons=_tuple$2[0];err$1=_tuple$2[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[origin,err$1];}if($keys(weapons).length>0){_key=options.$length;(rowFunctionMapping||$throwRuntimeError("assignment to entry in nil map"))[$Int.keyFor(_key)]={k:_key,v:1};options=$append(options,protocol.KesStringWeapon(weapons));}if(tags.MoveCount===0){hasTransform=robotProto.Transform.$length>0;if(hasTransform){_key$1=options.$length;(rowFunctionMapping||$throwRuntimeError("assignment to entry in nil map"))[$Int.keyFor(_key$1)]={k:_key$1,v:2};options=$append(options,robotProto.Transform);}}/* */if(tags.MoveCount===0){$s=11;continue;}/* */$s=12;continue;/* if (tags.MoveCount === 0) { */case 11:_r$4=common.QueryRobotSuitability($clone(_model,types.Model),robot.ID,true);/* */$s=13;case 13:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}_tuple$3=_r$4;suitabiity=$clone(_tuple$3[0],arrayType$1);err$2=_tuple$3[1];if(!$interfaceIsEqual(err$2,$ifaceNil)){$s=-1;return[origin,err$2];}isSky=(_entry$1=_model.App.Gameplay.Tags[$String.keyFor(robot.ID)],_entry$1!==undefined?_entry$1.v:new protocol.Tag.ptr(0,false,false)).Sky;if(isSky===false&&suitabiity[2]>0||isSky&&suitabiity[0]>0){options=$append(options,new sliceType(["\xE7\xA9\xBA\xE4\xB8\xAD\xE9\x99\xB8\xE5\x9C\xB0"]));}/* } */case 12:options=$append(options,new sliceType(["\xE7\xB5\x90\xE6\x9D\x9F\xE8\xA1\x8C\xE5\x8B\x95"]));invalidWeapons=$makeMap($String.keyFor,[]);/* */if($keys(weapons).length>0){$s=14;continue;}/* */$s=15;continue;/* if ($keys(weapons).length > 0) { */case 14:_r$5=common.CheckInvalidWeapons($clone(_model,types.Model),robot.ID,weapons,false);/* */$s=16;case 16:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}_tuple$4=_r$5;invalidWeapons=_tuple$4[0];err$1=_tuple$4[1];/* } */case 15:_model.App.Gameplay.RobotMenu.Active=true;_model.App.Gameplay.RobotMenu.ActiveRobotID=robotID;_model.App.Gameplay.RobotMenu.Options=options;_model.App.Gameplay.RobotMenu.RowFunctionMapping=rowFunctionMapping;_model.App.Gameplay.RobotMenu.Weapons=weapons;_model.App.Gameplay.RobotMenu.InvalidWeapons=invalidWeapons;$s=9;continue;/* } else { */case 8:options$1=new sliceType$3([new sliceType(["\xE7\xA2\xBA\xE8\xAA\x8D"])]);_model.App.Gameplay.RobotMenu.Active=true;_model.App.Gameplay.RobotMenu.ActiveRobotID=robotID;_model.App.Gameplay.RobotMenu.Options=options$1;_model.App.Gameplay.RobotMenu.RowFunctionMapping=$makeMap($Int.keyFor,[]);_model.App.Gameplay.RobotMenu.Weapons=$makeMap($String.keyFor,[]);_model.App.Gameplay.RobotMenu.InvalidWeapons=$makeMap($String.keyFor,[]);/* } */case 9:_r$6=uidata.TryGetIntMenu2D(ctx.Menu2Ds,31);/* */$s=17;case 17:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}_tuple$5=_r$6;menu=$clone(_tuple$5[0],uidata.Menu2D);err$3=_tuple$5[1];if(!$interfaceIsEqual(err$3,$ifaceNil)){$s=-1;return[origin,err$3];}menu.Cursor1=0;ctx.Menu2Ds=uidata.AssocIntMenu2D(ctx.Menu2Ds,31,$clone(menu,uidata.Menu2D));_arg=protocol.LogCategoryDetail;_r$7=fmt.Sprintf("RobotMenu(%v)\n",new sliceType$5([(x=_model.App.Gameplay.RobotMenu,new x.constructor.elem(x))]));/* */$s=18;case 18:if($c){$c=false;_r$7=_r$7.$blk();}if(_r$7&&_r$7.$blk!==undefined){break s;}_arg$1=_r$7;$r=log.Log(_arg,"EnableRobotMenu",_arg$1);/* */$s=19;case 19:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}ctx.Model=(x$1=$clone(_model,Model),new x$1.constructor.elem(x$1));$s=-1;return[ctx,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:OnEnableRobotMenu};}$f._arg=_arg;$f._arg$1=_arg$1;$f._entry=_entry;$f._entry$1=_entry$1;$f._key=_key;$f._key$1=_key$1;$f._model=_model;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._r$7=_r$7;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f._tuple$4=_tuple$4;$f._tuple$5=_tuple$5;$f.ctx=ctx;$f.err=err;$f.err$1=err$1;$f.err$2=err$2;$f.err$3=err$3;$f.hasTransform=hasTransform;$f.invalidWeapons=invalidWeapons;$f.isSky=isSky;$f.menu=menu;$f.options=options;$f.options$1=options$1;$f.origin=origin;$f.robot=robot;$f.robotID=robotID;$f.robotProto=robotProto;$f.rowFunctionMapping=rowFunctionMapping;$f.suitabiity=suitabiity;$f.tags=tags;$f.weapons=weapons;$f.x=x;$f.x$1=x$1;$f.$s=$s;$f.$r=$r;return $f;};$pkg.OnEnableRobotMenu=OnEnableRobotMenu;QueryGoal=function(model,robotID){var _arg,_arg$1,_arg$2,_arg$3,_arg$4,_arg$5,_entry,_entry$1,_entry$2,_entry$3,_r,_r$1,_r$2,_r$3,_r$4,_tuple,_tuple$1,_tuple$2,_tuple$3,centroid,centroidV2,err,goal,has,hasTargetTeam,hasTeam,memory,model,robot,robotID,targetTeamID,teamID,x,x$1,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_arg=$f._arg;_arg$1=$f._arg$1;_arg$2=$f._arg$2;_arg$3=$f._arg$3;_arg$4=$f._arg$4;_arg$5=$f._arg$5;_entry=$f._entry;_entry$1=$f._entry$1;_entry$2=$f._entry$2;_entry$3=$f._entry$3;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;centroid=$f.centroid;centroidV2=$f.centroidV2;err=$f.err;goal=$f.goal;has=$f.has;hasTargetTeam=$f.hasTargetTeam;hasTeam=$f.hasTeam;memory=$f.memory;model=$f.model;robot=$f.robot;robotID=$f.robotID;targetTeamID=$f.targetTeamID;teamID=$f.teamID;x=$f.x;x$1=$f.x$1;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_tuple=(_entry=model.App.Gameplay.AIModel.GoalByRobotID[$String.keyFor(robotID)],_entry!==undefined?[_entry.v,true]:[new types.Goal.ptr("","",arrayType.zero()),false]);goal=$clone(_tuple[0],types.Goal);has=_tuple[1];if(has){$s=-1;return[goal,$ifaceNil];}_r=protocol.TryGetStringRobot(model.App.Gameplay.Robots,robotID);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple$1=_r;robot=$clone(_tuple$1[0],protocol.Robot);err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[new types.Goal.ptr("","",arrayType.zero()),err];}memory=$clone((_entry$1=model.App.Gameplay.AIModel.Memory[$String.keyFor(robot.PlayerID)],_entry$1!==undefined?_entry$1.v:new types.Memory.ptr(new $packages["tool/nodejs/mlkmeans"].KMeansResult.ptr(sliceType$1.nil,sliceType$6.nil,false,0),new $packages["tool/nodejs/mlkmeans"].KMeansResult.ptr(sliceType$1.nil,sliceType$6.nil,false,0),false,false)),types.Memory);_tuple$2=(_entry$2=memory.TeamIDByRobotID[$String.keyFor(robotID)],_entry$2!==undefined?[_entry$2.v,true]:[0,false]);teamID=_tuple$2[0];hasTeam=_tuple$2[1];_arg=protocol.LogCategoryDetail;_r$1=fmt.Sprintf("robotID(%v) teamID(%v) hasTeam(%v)",new sliceType$5([new $String(robotID),new $Int(teamID),new $Bool(hasTeam)]));/* */$s=2;case 2:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_arg$1=_r$1;$r=log.Log(_arg,"QueryGoal",_arg$1);/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* */if(hasTeam){$s=4;continue;}/* */$s=5;continue;/* if (hasTeam) { */case 4:_tuple$3=(_entry$3=memory.MyTeamTarget[$Int.keyFor(teamID)],_entry$3!==undefined?[_entry$3.v,true]:[0,false]);targetTeamID=_tuple$3[0];hasTargetTeam=_tuple$3[1];_arg$2=protocol.LogCategoryDetail;_r$2=fmt.Sprintf("robotID(%v) targetTeamID(%v) hasTargetTeam(%v)",new sliceType$5([new $String(robotID),new $Int(targetTeamID),new $Bool(hasTargetTeam)]));/* */$s=6;case 6:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_arg$3=_r$2;$r=log.Log(_arg$2,"QueryGoal",_arg$3);/* */$s=7;case 7:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* */if(hasTargetTeam){$s=8;continue;}/* */$s=9;continue;/* if (hasTargetTeam) { */case 8:/* */if(targetTeamID>=memory.TargetClusters.Clusters.$length){$s=10;continue;}/* */$s=11;continue;/* if (targetTeamID >= memory.TargetClusters.Clusters.$length) { */case 10:_r$3=fmt.Errorf("targetTeamID not found in clusters",new sliceType$5([]));/* */$s=12;case 12:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}$s=-1;return[new types.Goal.ptr("","",arrayType.zero()),_r$3];/* } */case 11:if((x=memory.TargetClusters.Centroids,targetTeamID<0||targetTeamID>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+targetTeamID]).Size===0){$s=-1;return[new types.Goal.ptr("GoalTypeSearchAndAttack","",arrayType.zero()),$ifaceNil];}centroidV2=(x$1=memory.TargetClusters.Centroids,targetTeamID<0||targetTeamID>=x$1.$length?($throwRuntimeError("index out of range"),undefined):x$1.$array[x$1.$offset+targetTeamID]).Centroid;centroid=$toNativeArray($kindInt,[(0>=centroidV2.$length?($throwRuntimeError("index out of range"),undefined):centroidV2.$array[centroidV2.$offset+0])>>0,(1>=centroidV2.$length?($throwRuntimeError("index out of range"),undefined):centroidV2.$array[centroidV2.$offset+1])>>0]);_arg$4=protocol.LogCategoryDetail;_r$4=fmt.Sprintf("centroid(%v)",new sliceType$5([new protocol.Position(centroid)]));/* */$s=13;case 13:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}_arg$5=_r$4;$r=log.Log(_arg$4,"QueryGoal",_arg$5);/* */$s=14;case 14:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return[new types.Goal.ptr("GoalTypeMoveToPosition","",$clone(centroid,protocol.Position)),$ifaceNil];/* } */case 9:/* } */case 5:$s=-1;return[new types.Goal.ptr("GoalTypeSearchAndAttack","",$toNativeArray($kindInt,[0,0])),$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:QueryGoal};}$f._arg=_arg;$f._arg$1=_arg$1;$f._arg$2=_arg$2;$f._arg$3=_arg$3;$f._arg$4=_arg$4;$f._arg$5=_arg$5;$f._entry=_entry;$f._entry$1=_entry$1;$f._entry$2=_entry$2;$f._entry$3=_entry$3;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f.centroid=centroid;$f.centroidV2=centroidV2;$f.err=err;$f.goal=goal;$f.has=has;$f.hasTargetTeam=hasTargetTeam;$f.hasTeam=hasTeam;$f.memory=memory;$f.model=model;$f.robot=robot;$f.robotID=robotID;$f.targetTeamID=targetTeamID;$f.teamID=teamID;$f.x=x;$f.x$1=x$1;$f.$s=$s;$f.$r=$r;return $f;};$pkg.QueryGoal=QueryGoal;RenderRobotAim=function(origin,fromRobot,toRobot){var _r,_r$1,_tuple,_tuple$1,ctx,err,fromPos,fromRobot,origin,toPos,toRobot,view,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_tuple=$f._tuple;_tuple$1=$f._tuple$1;ctx=$f.ctx;err=$f.err;fromPos=$f.fromPos;fromRobot=$f.fromRobot;origin=$f.origin;toPos=$f.toPos;toRobot=$f.toRobot;view=$f.view;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:err=$ifaceNil;ctx=$clone(origin,uidata.UI);view=def.View;_r=protocol.TryGetStringPosition($clone($assertType(ctx.Model,Model),types.Model).App.Gameplay.Positions,fromRobot);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;fromPos=$clone(_tuple[0],protocol.Position);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return err;}_r$1=protocol.TryGetStringPosition($clone($assertType(ctx.Model,Model),types.Model).App.Gameplay.Positions,toRobot);/* */$s=2;case 2:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$1=_r$1;toPos=$clone(_tuple$1[0],protocol.Position);err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return err;}$r=view.RenderRobotBattle($clone(ctx,uidata.UI),new protocol.BattleResult.ptr(new sliceType$7([new protocol.BattleAnimation.ptr(1,new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),0,false,$toNativeArray($kindArray,[$clone(fromPos,protocol.Position),$clone(toPos,protocol.Position)]))])));/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return $ifaceNil;/* */}return;}if($f===undefined){$f={$blk:RenderRobotAim};}$f._r=_r;$f._r$1=_r$1;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f.ctx=ctx;$f.err=err;$f.fromPos=fromPos;$f.fromRobot=fromRobot;$f.origin=origin;$f.toPos=toPos;$f.toRobot=toRobot;$f.view=view;$f.$s=$s;$f.$r=$r;return $f;};$pkg.RenderRobotAim=RenderRobotAim;OnRobotAttack=function(origin,robotID,weaponID,targetRobotID){var _r,_r$1,_tuple,cancel,ctx,err,origin,robotID,targetRobotID,weaponID,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_tuple=$f._tuple;cancel=$f.cancel;ctx=$f.ctx;err=$f.err;origin=$f.origin;robotID=$f.robotID;targetRobotID=$f.targetRobotID;weaponID=$f.weaponID;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:err=$ifaceNil;ctx=$clone(origin,uidata.UI);_r=RenderRobotAim($clone(ctx,uidata.UI),robotID,targetRobotID);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}err=_r;if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}/* while (true) { */case 2:cancel=false;_r$1=OnSingleBattleMenuPhase($clone(ctx,uidata.UI),false,robotID,weaponID,targetRobotID);/* */$s=4;case 4:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple=_r$1;uidata.UI.copy(ctx,_tuple[0]);cancel=_tuple[1];err=_tuple[2];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}if(cancel){/* continue; */$s=2;continue;}/* break; */$s=3;continue;/* } */$s=2;continue;case 3:$s=-1;return[ctx,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:OnRobotAttack};}$f._r=_r;$f._r$1=_r$1;$f._tuple=_tuple;$f.cancel=cancel;$f.ctx=ctx;$f.err=err;$f.origin=origin;$f.robotID=robotID;$f.targetRobotID=targetRobotID;$f.weaponID=weaponID;$f.$s=$s;$f.$r=$r;return $f;};$pkg.OnRobotAttack=OnRobotAttack;OnAIRobotMoveFirst=function(origin,robotID,targetPosition){var _arg,_arg$1,_r,_r$1,_r$2,_r$3,_r$4,_r$5,_r$6,_r$7,_r$8,_tuple,_tuple$1,_tuple$2,_tuple$3,_tuple$4,_tuple$5,_tuple$6,ctx,err,invalidWeapons,isCanMove,origin,potentail,potentails,robot,robotID,targetPosition,tree,weapons,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_arg=$f._arg;_arg$1=$f._arg$1;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_r$7=$f._r$7;_r$8=$f._r$8;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;_tuple$4=$f._tuple$4;_tuple$5=$f._tuple$5;_tuple$6=$f._tuple$6;ctx=$f.ctx;err=$f.err;invalidWeapons=$f.invalidWeapons;isCanMove=$f.isCanMove;origin=$f.origin;potentail=$f.potentail;potentails=$f.potentails;robot=$f.robot;robotID=$f.robotID;targetPosition=$f.targetPosition;tree=$f.tree;weapons=$f.weapons;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:invalidWeapons=[invalidWeapons];ctx=$clone(origin,uidata.UI);_r=impl.QueryFastestMovePosition($clone($clone($assertType(ctx.Model,Model),types.Model),types.Model),sliceType$9.nil,robotID,$clone(targetPosition,protocol.Position));/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;isCanMove=_tuple[0];targetPosition=$clone(_tuple[1],protocol.Position);tree=_tuple[2];err=_tuple[3];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}_arg=protocol.LogCategoryDetail;_r$1=fmt.Sprintf("isCanMove(%v) targetPosition(%v)",new sliceType$5([new $Bool(isCanMove),new protocol.Position(targetPosition)]));/* */$s=2;case 2:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_arg$1=_r$1;$r=log.Log(_arg,"OnAIRobotMoveFirst",_arg$1);/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* */if(isCanMove){$s=4;continue;}/* */$s=5;continue;/* if (isCanMove) { */case 4:_r$2=OnRobotMove($clone(ctx,uidata.UI),robotID,tree,$clone(targetPosition,protocol.Position));/* */$s=6;case 6:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$1=_r$2;uidata.UI.copy(ctx,_tuple$1[0]);err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}/* } */case 5:_r$3=protocol.TryGetStringRobot($clone($assertType(ctx.Model,Model),types.Model).App.Gameplay.Robots,robotID);/* */$s=7;case 7:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_tuple$2=_r$3;robot=$clone(_tuple$2[0],protocol.Robot);err=_tuple$2[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}_r$4=common.QueryRobotWeapons($clone($clone($assertType(ctx.Model,Model),types.Model),types.Model),robotID,robot.Transform,true);/* */$s=8;case 8:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}_tuple$3=_r$4;weapons=_tuple$3[0];err=_tuple$3[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}_r$5=common.CheckInvalidWeapons($clone($clone($assertType(ctx.Model,Model),types.Model),types.Model),robotID,weapons,false);/* */$s=9;case 9:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}_tuple$4=_r$5;invalidWeapons[0]=_tuple$4[0];err=_tuple$4[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}_r$6=protocol.FilterStringWeapon(weapons,function(invalidWeapons){return function(param,weapon){var _entry,_tuple$5,isInvalid,param,weapon;_tuple$5=(_entry=invalidWeapons[0][$String.keyFor(weapon.ID)],_entry!==undefined?[_entry.v,true]:["",false]);isInvalid=_tuple$5[1];return isInvalid===false;};}(invalidWeapons));/* */$s=10;case 10:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}weapons=_r$6;_r$7=impl.QueryPotentialTarget($clone($clone($assertType(ctx.Model,Model),types.Model),types.Model),robot.ID,robot.Transform,weapons,false);/* */$s=11;case 11:if($c){$c=false;_r$7=_r$7.$blk();}if(_r$7&&_r$7.$blk!==undefined){break s;}_tuple$5=_r$7;potentails=_tuple$5[0];err=_tuple$5[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}/* */if(potentails.$length>0){$s=12;continue;}/* */$s=13;continue;/* if (potentails.$length > 0) { */case 12:potentail=$clone((x=potentails.$length-1>>0,x<0||x>=potentails.$length?($throwRuntimeError("index out of range"),undefined):potentails.$array[potentails.$offset+x]),impl.PotentailTarget);_r$8=OnRobotAttack($clone(ctx,uidata.UI),robotID,potentail.DesireWeapon.ID,potentail.DesireUnitID);/* */$s=14;case 14:if($c){$c=false;_r$8=_r$8.$blk();}if(_r$8&&_r$8.$blk!==undefined){break s;}_tuple$6=_r$8;uidata.UI.copy(ctx,_tuple$6[0]);err=_tuple$6[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}/* } */case 13:$s=-1;return[ctx,true,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:OnAIRobotMoveFirst};}$f._arg=_arg;$f._arg$1=_arg$1;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._r$7=_r$7;$f._r$8=_r$8;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f._tuple$4=_tuple$4;$f._tuple$5=_tuple$5;$f._tuple$6=_tuple$6;$f.ctx=ctx;$f.err=err;$f.invalidWeapons=invalidWeapons;$f.isCanMove=isCanMove;$f.origin=origin;$f.potentail=potentail;$f.potentails=potentails;$f.robot=robot;$f.robotID=robotID;$f.targetPosition=targetPosition;$f.tree=tree;$f.weapons=weapons;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};$pkg.OnAIRobotMoveFirst=OnAIRobotMoveFirst;OnAIRobotAttackFirst=function(origin,robotID){var _r,_r$1,_r$10,_r$2,_r$3,_r$4,_r$5,_r$6,_r$7,_r$8,_r$9,_tuple,_tuple$1,_tuple$2,_tuple$3,_tuple$4,_tuple$5,_tuple$6,_tuple$7,_tuple$8,ctx,err,err$1,invalidWeapons,isCanMove,origin,potentail,potentail$1,potentails,robot,robotID,targetPosition,tree,weapons,weaponsCanMoveAttack,x,x$1,x$2,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_r$10=$f._r$10;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_r$7=$f._r$7;_r$8=$f._r$8;_r$9=$f._r$9;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;_tuple$4=$f._tuple$4;_tuple$5=$f._tuple$5;_tuple$6=$f._tuple$6;_tuple$7=$f._tuple$7;_tuple$8=$f._tuple$8;ctx=$f.ctx;err=$f.err;err$1=$f.err$1;invalidWeapons=$f.invalidWeapons;isCanMove=$f.isCanMove;origin=$f.origin;potentail=$f.potentail;potentail$1=$f.potentail$1;potentails=$f.potentails;robot=$f.robot;robotID=$f.robotID;targetPosition=$f.targetPosition;tree=$f.tree;weapons=$f.weapons;weaponsCanMoveAttack=$f.weaponsCanMoveAttack;x=$f.x;x$1=$f.x$1;x$2=$f.x$2;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:ctx=[ctx];invalidWeapons=[invalidWeapons];robot=[robot];ctx[0]=$clone(origin,uidata.UI);_r=protocol.TryGetStringRobot($clone($assertType(ctx[0].Model,Model),types.Model).App.Gameplay.Robots,robotID);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;robot[0]=$clone(_tuple[0],protocol.Robot);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}_r$1=common.QueryRobotWeapons($clone($clone($assertType(ctx[0].Model,Model),types.Model),types.Model),robotID,robot[0].Transform,true);/* */$s=2;case 2:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$1=_r$1;weapons=_tuple$1[0];err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}_r$2=common.CheckInvalidWeapons($clone($clone($assertType(ctx[0].Model,Model),types.Model),types.Model),robotID,weapons,false);/* */$s=3;case 3:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$2=_r$2;invalidWeapons[0]=_tuple$2[0];err=_tuple$2[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}_r$3=protocol.FilterStringWeapon(weapons,function(ctx,invalidWeapons,robot){return function(param,weapon){var _entry,_tuple$3,isInvalid,param,weapon;_tuple$3=(_entry=invalidWeapons[0][$String.keyFor(weapon.ID)],_entry!==undefined?[_entry.v,true]:["",false]);isInvalid=_tuple$3[1];if(isInvalid){return false;}return true;};}(ctx,invalidWeapons,robot));/* */$s=4;case 4:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}weapons=_r$3;_r$4=impl.QueryPotentialTarget($clone($clone($assertType(ctx[0].Model,Model),types.Model),types.Model),robot[0].ID,robot[0].Transform,weapons,false);/* */$s=5;case 5:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}_tuple$3=_r$4;potentails=_tuple$3[0];err=_tuple$3[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}/* */if(potentails.$length>0){$s=6;continue;}/* */$s=7;continue;/* if (potentails.$length > 0) { */case 6:potentail=$clone((x=potentails.$length-1>>0,x<0||x>=potentails.$length?($throwRuntimeError("index out of range"),undefined):potentails.$array[potentails.$offset+x]),impl.PotentailTarget);_r$5=OnRobotAttack($clone(ctx[0],uidata.UI),robotID,potentail.DesireWeapon.ID,potentail.DesireUnitID);/* */$s=8;case 8:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}_tuple$4=_r$5;uidata.UI.copy(ctx[0],_tuple$4[0]);err=_tuple$4[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}$s=-1;return[ctx[0],true,$ifaceNil];/* } */case 7:_r$6=protocol.FilterStringWeapon(weapons,function(ctx,invalidWeapons,robot){return function $b(param,weapon){var _r$6,_r$7,_r$8,_r$9,_tuple$5,ability,err$1,hasMoveAttack,param,weapon,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r$6=$f._r$6;_r$7=$f._r$7;_r$8=$f._r$8;_r$9=$f._r$9;_tuple$5=$f._tuple$5;ability=$f.ability;err$1=$f.err$1;hasMoveAttack=$f.hasMoveAttack;param=$f.param;weapon=$f.weapon;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r$6=common.QueryRobotWeaponAbility($clone($clone($assertType(ctx[0].Model,Model),types.Model),types.Model),robot[0].ID,$clone(weapon,protocol.Weapon),true);/* */$s=1;case 1:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}_tuple$5=_r$6;ability=_tuple$5[0];err$1=_tuple$5[1];/* */if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=2;continue;}/* */$s=3;continue;/* if (!($interfaceIsEqual(err$1, $ifaceNil))) { */case 2:_r$7=err$1.Error();/* */$s=4;case 4:if($c){$c=false;_r$7=_r$7.$blk();}if(_r$7&&_r$7.$blk!==undefined){break s;}_r$8=fmt.Print(new sliceType$5([new $String(_r$7)]));/* */$s=5;case 5:if($c){$c=false;_r$8=_r$8.$blk();}if(_r$8&&_r$8.$blk!==undefined){break s;}_r$8;$s=-1;return false;/* } */case 3:_r$9=tool.FilterString(ability,function(ctx,invalidWeapons,robot){return function(c){var c;return c==="moveAttack";};}(ctx,invalidWeapons,robot));/* */$s=6;case 6:if($c){$c=false;_r$9=_r$9.$blk();}if(_r$9&&_r$9.$blk!==undefined){break s;}hasMoveAttack=_r$9.$length>0;if(hasMoveAttack===false){$s=-1;return false;}$s=-1;return true;/* */}return;}if($f===undefined){$f={$blk:$b};}$f._r$6=_r$6;$f._r$7=_r$7;$f._r$8=_r$8;$f._r$9=_r$9;$f._tuple$5=_tuple$5;$f.ability=ability;$f.err$1=err$1;$f.hasMoveAttack=hasMoveAttack;$f.param=param;$f.weapon=weapon;$f.$s=$s;$f.$r=$r;return $f;};}(ctx,invalidWeapons,robot));/* */$s=9;case 9:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}weaponsCanMoveAttack=_r$6;_r$7=impl.QueryPotentialTarget($clone($clone($assertType(ctx[0].Model,Model),types.Model),types.Model),robot[0].ID,robot[0].Transform,weaponsCanMoveAttack,true);/* */$s=10;case 10:if($c){$c=false;_r$7=_r$7.$blk();}if(_r$7&&_r$7.$blk!==undefined){break s;}_tuple$5=_r$7;potentails=_tuple$5[0];err=_tuple$5[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}/* */if(potentails.$length>0){$s=11;continue;}/* */$s=12;continue;/* if (potentails.$length > 0) { */case 11:potentail$1=$clone((x$1=potentails.$length-1>>0,x$1<0||x$1>=potentails.$length?($throwRuntimeError("index out of range"),undefined):potentails.$array[potentails.$offset+x$1]),impl.PotentailTarget);targetPosition=$clone((x$2=potentail$1.DesirePositions,0>=x$2.$length?($throwRuntimeError("index out of range"),undefined):x$2.$array[x$2.$offset+0]),protocol.Position);_r$8=impl.QueryFastestMovePosition($clone($clone($assertType(ctx[0].Model,Model),types.Model),types.Model),sliceType$9.nil,robotID,$clone(targetPosition,protocol.Position));/* */$s=13;case 13:if($c){$c=false;_r$8=_r$8.$blk();}if(_r$8&&_r$8.$blk!==undefined){break s;}_tuple$6=_r$8;isCanMove=_tuple$6[0];targetPosition=$clone(_tuple$6[1],protocol.Position);tree=_tuple$6[2];err$1=_tuple$6[3];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[origin,false,err$1];}/* */if(isCanMove){$s=14;continue;}/* */$s=15;continue;/* if (isCanMove) { */case 14:_r$9=OnRobotMove($clone(ctx[0],uidata.UI),robotID,tree,$clone(targetPosition,protocol.Position));/* */$s=16;case 16:if($c){$c=false;_r$9=_r$9.$blk();}if(_r$9&&_r$9.$blk!==undefined){break s;}_tuple$7=_r$9;uidata.UI.copy(ctx[0],_tuple$7[0]);err$1=_tuple$7[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[origin,false,err$1];}/* } */case 15:_r$10=OnRobotAttack($clone(ctx[0],uidata.UI),robotID,potentail$1.DesireWeapon.ID,potentail$1.DesireUnitID);/* */$s=17;case 17:if($c){$c=false;_r$10=_r$10.$blk();}if(_r$10&&_r$10.$blk!==undefined){break s;}_tuple$8=_r$10;uidata.UI.copy(ctx[0],_tuple$8[0]);err$1=_tuple$8[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[origin,false,err$1];}$s=-1;return[ctx[0],true,$ifaceNil];/* } */case 12:$s=-1;return[ctx[0],false,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:OnAIRobotAttackFirst};}$f._r=_r;$f._r$1=_r$1;$f._r$10=_r$10;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._r$7=_r$7;$f._r$8=_r$8;$f._r$9=_r$9;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f._tuple$4=_tuple$4;$f._tuple$5=_tuple$5;$f._tuple$6=_tuple$6;$f._tuple$7=_tuple$7;$f._tuple$8=_tuple$8;$f.ctx=ctx;$f.err=err;$f.err$1=err$1;$f.invalidWeapons=invalidWeapons;$f.isCanMove=isCanMove;$f.origin=origin;$f.potentail=potentail;$f.potentail$1=potentail$1;$f.potentails=potentails;$f.robot=robot;$f.robotID=robotID;$f.targetPosition=targetPosition;$f.tree=tree;$f.weapons=weapons;$f.weaponsCanMoveAttack=weaponsCanMoveAttack;$f.x=x;$f.x$1=x$1;$f.x$2=x$2;$f.$s=$s;$f.$r=$r;return $f;};$pkg.OnAIRobotAttackFirst=OnAIRobotAttackFirst;OnRobotThinking=function(origin,robotID){var _1,_arg,_arg$1,_entry,_r,_r$1,_r$10,_r$11,_r$2,_r$3,_r$4,_r$5,_r$6,_r$7,_r$8,_r$9,_tuple,_tuple$1,_tuple$2,_tuple$3,_tuple$4,_tuple$5,_tuple$6,_tuple$7,_tuple$8,_tuple$9,cancel,ctx,currPos,currPosV2,err,err$1,find,goal,isArrive,isRobotDone,noGoal,origin,robotID,success,targetPosV2,targetPosition,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_arg=$f._arg;_arg$1=$f._arg$1;_entry=$f._entry;_r=$f._r;_r$1=$f._r$1;_r$10=$f._r$10;_r$11=$f._r$11;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_r$7=$f._r$7;_r$8=$f._r$8;_r$9=$f._r$9;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;_tuple$4=$f._tuple$4;_tuple$5=$f._tuple$5;_tuple$6=$f._tuple$6;_tuple$7=$f._tuple$7;_tuple$8=$f._tuple$8;_tuple$9=$f._tuple$9;cancel=$f.cancel;ctx=$f.ctx;currPos=$f.currPos;currPosV2=$f.currPosV2;err=$f.err;err$1=$f.err$1;find=$f.find;goal=$f.goal;isArrive=$f.isArrive;isRobotDone=$f.isRobotDone;noGoal=$f.noGoal;origin=$f.origin;robotID=$f.robotID;success=$f.success;targetPosV2=$f.targetPosV2;targetPosition=$f.targetPosition;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:err=$ifaceNil;cancel=false;ctx=$clone(origin,uidata.UI);_tuple=common.IsRobotDone($clone($clone($assertType(ctx.Model,Model),types.Model),types.Model),robotID);isRobotDone=_tuple[0];err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}/* */if(isRobotDone){$s=1;continue;}/* */$s=2;continue;/* if (isRobotDone) { */case 1:_r=fmt.Errorf("[OnRobotThinking]robot(%v) already done.",new sliceType$5([new $String(robotID)]));/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return[origin,false,_r];/* } */case 2:noGoal=new types.Goal.ptr("","",arrayType.zero());_r$1=QueryGoal($clone($assertType(ctx.Model,Model),Model),robotID);/* */$s=4;case 4:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$1=_r$1;goal=$clone(_tuple$1[0],types.Goal);err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}_arg=protocol.LogCategoryDetail;_r$2=fmt.Sprintf("robotID(%v) goal(%+v)",new sliceType$5([new $String(robotID),new goal.constructor.elem(goal)]));/* */$s=5;case 5:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_arg$1=_r$2;$r=log.Log(_arg,"OnRobotThinking",_arg$1);/* */$s=6;case 6:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}if($equal(goal,noGoal,types.Goal)){$s=-1;return[origin,false,$ifaceNil];}_1=goal.Type;/* */if(_1==="GoalTypeSearchAndAttack"){$s=8;continue;}/* */if(_1==="GoalTypeMoveToPosition"){$s=9;continue;}/* */if(_1==="GoalTypeAttackTargetRobot"){$s=10;continue;}/* */$s=11;continue;/* if (_1 === ("GoalTypeSearchAndAttack")) { */case 8:success=false;_r$3=OnAIRobotAttackFirst($clone(ctx,uidata.UI),robotID);/* */$s=13;case 13:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_tuple$2=_r$3;uidata.UI.copy(ctx,_tuple$2[0]);success=_tuple$2[1];err=_tuple$2[2];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}/* */if(success===false){$s=14;continue;}/* */$s=15;continue;/* if (success === false) { */case 14:_r$4=common.QueryMostCloseEnemyPosition($clone($clone($assertType(ctx.Model,Model),types.Model),types.Model),robotID);/* */$s=16;case 16:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}_tuple$3=_r$4;targetPosition=$clone(_tuple$3[0],protocol.Position);find=_tuple$3[1];err$1=_tuple$3[2];if(find===false){}_r$5=OnAIRobotMoveFirst($clone(ctx,uidata.UI),robotID,$clone(targetPosition,protocol.Position));/* */$s=17;case 17:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}_tuple$4=_r$5;uidata.UI.copy(ctx,_tuple$4[0]);err$1=_tuple$4[2];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[origin,false,err$1];}/* } */case 15:_r$6=OnRobotDone($clone(ctx,uidata.UI),robotID);/* */$s=18;case 18:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}_tuple$5=_r$6;uidata.UI.copy(ctx,_tuple$5[0]);err=_tuple$5[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}$s=12;continue;/* } else if (_1 === ("GoalTypeMoveToPosition")) { */case 9:currPos=$clone((_entry=$assertType(ctx.Model,Model).App.Gameplay.Positions[$String.keyFor(robotID)],_entry!==undefined?_entry.v:arrayType.zero()),protocol.Position);isArrive=false;currPosV2=$toNativeArray($kindFloat64,[currPos[0],currPos[1]]);targetPosV2=$toNativeArray($kindFloat64,[goal.Position[0],goal.Position[1]]);isArrive=new mgl64.Vec2($clone(new mgl64.Vec2($clone(targetPosV2,mgl64.Vec2)).Sub($clone(currPosV2,mgl64.Vec2)),mgl64.Vec2)).LenSqr()<9;/* */if(isArrive){$s=19;continue;}/* */$s=20;continue;/* if (isArrive) { */case 19:_r$7=OnAIRobotAttackFirst($clone(ctx,uidata.UI),robotID);/* */$s=22;case 22:if($c){$c=false;_r$7=_r$7.$blk();}if(_r$7&&_r$7.$blk!==undefined){break s;}_tuple$6=_r$7;uidata.UI.copy(ctx,_tuple$6[0]);err=_tuple$6[2];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}$s=21;continue;/* } else { */case 20:_r$8=OnAIRobotMoveFirst($clone(ctx,uidata.UI),robotID,$clone(goal.Position,protocol.Position));/* */$s=23;case 23:if($c){$c=false;_r$8=_r$8.$blk();}if(_r$8&&_r$8.$blk!==undefined){break s;}_tuple$7=_r$8;uidata.UI.copy(ctx,_tuple$7[0]);err=_tuple$7[2];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}/* } */case 21:_r$9=OnRobotDone($clone(ctx,uidata.UI),robotID);/* */$s=24;case 24:if($c){$c=false;_r$9=_r$9.$blk();}if(_r$9&&_r$9.$blk!==undefined){break s;}_tuple$8=_r$9;uidata.UI.copy(ctx,_tuple$8[0]);err=_tuple$8[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}$s=12;continue;/* } else if (_1 === ("GoalTypeAttackTargetRobot")) { */case 10:_r$10=OnSingleBattleMenuPhase($clone(ctx,uidata.UI),false,robotID,"weaponID","targetID");/* */$s=25;case 25:if($c){$c=false;_r$10=_r$10.$blk();}if(_r$10&&_r$10.$blk!==undefined){break s;}_tuple$9=_r$10;uidata.UI.copy(ctx,_tuple$9[0]);cancel=_tuple$9[1];err=_tuple$9[2];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}if(cancel){$s=-1;return[origin,cancel,$ifaceNil];}$s=12;continue;/* } else { */case 11:_r$11=fmt.Errorf("[OnRobotThinking] unknown goal(%v)",new sliceType$5([new goal.constructor.elem(goal)]));/* */$s=26;case 26:if($c){$c=false;_r$11=_r$11.$blk();}if(_r$11&&_r$11.$blk!==undefined){break s;}$s=-1;return[origin,false,_r$11];/* } */case 12:case 7:$s=-1;return[ctx,false,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:OnRobotThinking};}$f._1=_1;$f._arg=_arg;$f._arg$1=_arg$1;$f._entry=_entry;$f._r=_r;$f._r$1=_r$1;$f._r$10=_r$10;$f._r$11=_r$11;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._r$7=_r$7;$f._r$8=_r$8;$f._r$9=_r$9;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f._tuple$4=_tuple$4;$f._tuple$5=_tuple$5;$f._tuple$6=_tuple$6;$f._tuple$7=_tuple$7;$f._tuple$8=_tuple$8;$f._tuple$9=_tuple$9;$f.cancel=cancel;$f.ctx=ctx;$f.currPos=currPos;$f.currPosV2=currPosV2;$f.err=err;$f.err$1=err$1;$f.find=find;$f.goal=goal;$f.isArrive=isArrive;$f.isRobotDone=isRobotDone;$f.noGoal=noGoal;$f.origin=origin;$f.robotID=robotID;$f.success=success;$f.targetPosV2=targetPosV2;$f.targetPosition=targetPosition;$f.$s=$s;$f.$r=$r;return $f;};$pkg.OnRobotThinking=OnRobotThinking;OnEnemyTurnPhase=function(origin){var _i,_model,_r,_r$1,_r$2,_r$3,_r$4,_r$5,_r$6,_r$7,_r$8,_r$9,_ref,_tuple,_tuple$1,_tuple$2,_tuple$3,_tuple$4,_tuple$5,_tuple$6,_tuple$7,activePlayer,cancel,ctx,err,err$1,err$2,isRobotDone,origin,robotID,robotIDs,targetRobotIDs,view,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_i=$f._i;_model=$f._model;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_r$7=$f._r$7;_r$8=$f._r$8;_r$9=$f._r$9;_ref=$f._ref;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;_tuple$4=$f._tuple$4;_tuple$5=$f._tuple$5;_tuple$6=$f._tuple$6;_tuple$7=$f._tuple$7;activePlayer=$f.activePlayer;cancel=$f.cancel;ctx=$f.ctx;err=$f.err;err$1=$f.err$1;err$2=$f.err$2;isRobotDone=$f.isRobotDone;origin=$f.origin;robotID=$f.robotID;robotIDs=$f.robotIDs;targetRobotIDs=$f.targetRobotIDs;view=$f.view;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=log.Log(protocol.LogCategoryPhase,"OnEnemyTurnPhase","start");/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}err=$ifaceNil;cancel=false;view=def.View;ctx=$clone(origin,uidata.UI);_r=OnCheckWinOrLose($clone(ctx,uidata.UI));/* */$s=2;case 2:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;uidata.UI.copy(ctx,_tuple[0]);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}_r$1=ctx.Model.QueryActivePlayer();/* */$s=3;case 3:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$1=_r$1;activePlayer=$clone(_tuple$1[0],protocol.Player);err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}_r$2=common.QueryUnitsByPlayer($clone($clone($assertType(ctx.Model,Model),types.Model),types.Model),activePlayer.ID);/* */$s=4;case 4:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$2=_r$2;robotIDs=_tuple$2[0];err=_tuple$2[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}_r$3=common.QueryUnitsByPlayer($clone($clone($assertType(ctx.Model,Model),types.Model),types.Model),"PlayerIDPlayer");/* */$s=5;case 5:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_tuple$3=_r$3;targetRobotIDs=_tuple$3[0];err$1=_tuple$3[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[origin,false,err$1];}_model=$clone($clone($assertType(ctx.Model,Model),types.Model),types.Model);_r$4=ai.Strategy($clone(_model,types.Model),activePlayer.ID,robotIDs,targetRobotIDs);/* */$s=6;case 6:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}_tuple$4=_r$4;types.Model.copy(_model,_tuple$4[0]);err$1=_tuple$4[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[origin,false,err$1];}ctx.Model=(x=$clone(_model,Model),new x.constructor.elem(x));_ref=robotIDs;_i=0;/* while (true) { */case 7:/* if (!(_i < _ref.$length)) { break; } */if(!(_i<_ref.$length)){$s=8;continue;}robotID=_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i];_r$5=view.Render($clone(ctx,uidata.UI));/* */$s=9;case 9:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}_tuple$5=_r$5;uidata.UI.copy(ctx,_tuple$5[0]);err=_tuple$5[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}_r$6=ctx.Model.State();/* */$s=12;case 12:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}/* */if(_r$6==="GameplayModelStateDone"){$s=10;continue;}/* */$s=11;continue;/* if (_r$6 === "GameplayModelStateDone") { */case 10:_r$7=ctx.Model.StateReason();/* */$s=15;case 15:if($c){$c=false;_r$7=_r$7.$blk();}if(_r$7&&_r$7.$blk!==undefined){break s;}/* */if($interfaceIsEqual(_r$7,$ifaceNil)){$s=13;continue;}/* */$s=14;continue;/* if ($interfaceIsEqual(_r$7, $ifaceNil)) { */case 13:_r$8=fmt.Errorf("State == GameplayModelStateDone. \xE4\xBD\x86\xE6\x98\xAFStateReason\xE6\x98\xAF\xE7\xA9\xBA\xE5\x80\xBC\xEF\xBC\x8C\xE8\xAB\x8B\xE7\xA2\xBA\xE8\xAA\x8D\xE7\x95\xB6\xE8\xA8\xAD\xE5\xAE\x9A\xE7\x82\xBAGameplayModelStateDone\xE6\x99\x82, \xE4\xB8\x80\xE5\xAE\x9A\xE8\xA6\x81\xE7\xB5\xA6StateReason",new sliceType$5([]));/* */$s=16;case 16:if($c){$c=false;_r$8=_r$8.$blk();}if(_r$8&&_r$8.$blk!==undefined){break s;}$s=-1;return[origin,false,_r$8];/* } */case 14:/* break; */$s=8;continue;/* } */case 11:_tuple$6=common.IsRobotDone($clone($clone($assertType(ctx.Model,Model),types.Model),types.Model),robotID);isRobotDone=_tuple$6[0];err$2=_tuple$6[1];if(!$interfaceIsEqual(err$2,$ifaceNil)){$s=-1;return[origin,false,err$2];}/* */if(isRobotDone){$s=17;continue;}/* */$s=18;continue;/* if (isRobotDone) { */case 17:_i++;/* continue; */$s=7;continue;/* } */case 18:_r$9=OnRobotThinking($clone(ctx,uidata.UI),robotID);/* */$s=19;case 19:if($c){$c=false;_r$9=_r$9.$blk();}if(_r$9&&_r$9.$blk!==undefined){break s;}_tuple$7=_r$9;uidata.UI.copy(ctx,_tuple$7[0]);cancel=_tuple$7[1];err$2=_tuple$7[2];if(!$interfaceIsEqual(err$2,$ifaceNil)){$s=-1;return[origin,false,err$2];}if(cancel){$s=-1;return[origin,cancel,$ifaceNil];}_i++;/* } */$s=7;continue;case 8:$r=log.Log(protocol.LogCategoryPhase,"OnEnemyTurnPhase","end");/* */$s=20;case 20:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$unused(view);$s=-1;return[ctx,false,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:OnEnemyTurnPhase};}$f._i=_i;$f._model=_model;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._r$7=_r$7;$f._r$8=_r$8;$f._r$9=_r$9;$f._ref=_ref;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f._tuple$4=_tuple$4;$f._tuple$5=_tuple$5;$f._tuple$6=_tuple$6;$f._tuple$7=_tuple$7;$f.activePlayer=activePlayer;$f.cancel=cancel;$f.ctx=ctx;$f.err=err;$f.err$1=err$1;$f.err$2=err$2;$f.isRobotDone=isRobotDone;$f.origin=origin;$f.robotID=robotID;$f.robotIDs=robotIDs;$f.targetRobotIDs=targetRobotIDs;$f.view=view;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};$pkg.OnEnemyTurnPhase=OnEnemyTurnPhase;OnEventPlayerTurnPhase=function(origin,evt){var _1,_2,_3,_4,_arg,_arg$1,_arg$2,_arg$3,_arg$4,_arg$5,_arg$6,_arg$7,_entry,_r,_r$1,_r$2,_r$3,_r$4,_r$5,_ref,_tuple,ctx,detail,err,evt,i,model,nextCursor,nextUnitID,notFound,origin,robotIDs,unitAtCursor,x,x$1,x$2,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_2=$f._2;_3=$f._3;_4=$f._4;_arg=$f._arg;_arg$1=$f._arg$1;_arg$2=$f._arg$2;_arg$3=$f._arg$3;_arg$4=$f._arg$4;_arg$5=$f._arg$5;_arg$6=$f._arg$6;_arg$7=$f._arg$7;_entry=$f._entry;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_ref=$f._ref;_tuple=$f._tuple;ctx=$f.ctx;detail=$f.detail;err=$f.err;evt=$f.evt;i=$f.i;model=$f.model;nextCursor=$f.nextCursor;nextUnitID=$f.nextUnitID;notFound=$f.notFound;origin=$f.origin;robotIDs=$f.robotIDs;unitAtCursor=$f.unitAtCursor;x=$f.x;x$1=$f.x$1;x$2=$f.x$2;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=log.Log(protocol.LogCategoryPhase,"OnEventPlayerTurnPhase","start");/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}ctx=$clone(origin,uidata.UI);_ref=evt;/* */if($assertType(_ref,uidata.CommandKeyDown,true)[1]){$s=2;continue;}/* */$s=3;continue;/* if ($assertType(_ref, uidata.CommandKeyDown, true)[1]) { */case 2:detail=$clone(_ref.$val,uidata.CommandKeyDown);_1=detail.KeyCode;/* */if(_1===81||_1===69){$s=5;continue;}/* */$s=6;continue;/* if ((_1 === (81)) || (_1 === (69))) { */case 5:model=$clone($clone($assertType(ctx.Model,Model),types.Model),types.Model);_r=common.QueryUnitsByPlayer($clone(model,types.Model),"PlayerIDPlayer");/* */$s=7;case 7:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;robotIDs=_tuple[0];err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,$ifaceNil];}if(robotIDs.$length===0){$s=-1;return[origin,$ifaceNil];}nextUnitID="";unitAtCursor=common.SearchUnitByPosition(model.App.Gameplay.Positions,$clone(model.App.Gameplay.Cursor,protocol.Position));_arg=protocol.LogCategoryDetail;_r$1=fmt.Sprintf("unitAtCursor(%v)",new sliceType$5([new $String(unitAtCursor)]));/* */$s=8;case 8:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_arg$1=_r$1;$r=log.Log(_arg,"OnEventPlayerTurnPhase",_arg$1);/* */$s=9;case 9:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}notFound="";/* */if(unitAtCursor===notFound){$s=10;continue;}/* */$s=11;continue;/* if (unitAtCursor === notFound) { */case 10:_2=detail.KeyCode;if(_2===81){nextUnitID=(x=robotIDs.$length-1>>0,x<0||x>=robotIDs.$length?($throwRuntimeError("index out of range"),undefined):robotIDs.$array[robotIDs.$offset+x]);}else if(_2===69){nextUnitID=0>=robotIDs.$length?($throwRuntimeError("index out of range"),undefined):robotIDs.$array[robotIDs.$offset+0];}$s=12;continue;/* } else { */case 11:i=tool.FindStringIndex(robotIDs,unitAtCursor);/* */if(i===-1){$s=13;continue;}/* */$s=14;continue;/* if (i === -1) { */case 13:_arg$2=protocol.LogCategoryDetail;_r$2=fmt.Sprintf("[OnEventPlayerTurnPhase] unitAtCursor(%v) not found in myRobotIDs(%v)",new sliceType$5([new $String(unitAtCursor),robotIDs]));/* */$s=16;case 16:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_arg$3=_r$2;$r=log.Log(_arg$2,"OnEventPlayerTurnPhase",_arg$3);/* */$s=17;case 17:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}_3=detail.KeyCode;if(_3===81){nextUnitID=(x$1=robotIDs.$length-1>>0,x$1<0||x$1>=robotIDs.$length?($throwRuntimeError("index out of range"),undefined):robotIDs.$array[robotIDs.$offset+x$1]);}else if(_3===69){nextUnitID=0>=robotIDs.$length?($throwRuntimeError("index out of range"),undefined):robotIDs.$array[robotIDs.$offset+0];}$s=15;continue;/* } else { */case 14:_4=detail.KeyCode;if(_4===81){i=i-1>>0;}else if(_4===69){i=i+1>>0;}i=(_r$3=(i+robotIDs.$length>>0)%robotIDs.$length,_r$3===_r$3?_r$3:$throwRuntimeError("integer divide by zero"));nextUnitID=i<0||i>=robotIDs.$length?($throwRuntimeError("index out of range"),undefined):robotIDs.$array[robotIDs.$offset+i];/* } */case 15:/* } */case 12:_arg$4=protocol.LogCategoryDetail;_r$4=fmt.Sprintf("nextUnitID(%v)",new sliceType$5([new $String(nextUnitID)]));/* */$s=18;case 18:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}_arg$5=_r$4;$r=log.Log(_arg$4,"OnEventPlayerTurnPhase",_arg$5);/* */$s=19;case 19:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}nextCursor=$clone((_entry=model.App.Gameplay.Positions[$String.keyFor(nextUnitID)],_entry!==undefined?_entry.v:arrayType.zero()),protocol.Position);_arg$6=protocol.LogCategoryDetail;_r$5=fmt.Sprintf("nextCursor(%v)",new sliceType$5([new protocol.Position(nextCursor)]));/* */$s=20;case 20:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}_arg$7=_r$5;$r=log.Log(_arg$6,"OnEventPlayerTurnPhase",_arg$7);/* */$s=21;case 21:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}protocol.Position.copy(model.App.Gameplay.Cursor,nextCursor);ctx.Model=(x$2=$clone(model,Model),new x$2.constructor.elem(x$2));/* } */case 6:case 4:/* } */case 3:$r=log.Log(protocol.LogCategoryPhase,"OnEventPlayerTurnPhase","end");/* */$s=22;case 22:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return[ctx,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:OnEventPlayerTurnPhase};}$f._1=_1;$f._2=_2;$f._3=_3;$f._4=_4;$f._arg=_arg;$f._arg$1=_arg$1;$f._arg$2=_arg$2;$f._arg$3=_arg$3;$f._arg$4=_arg$4;$f._arg$5=_arg$5;$f._arg$6=_arg$6;$f._arg$7=_arg$7;$f._entry=_entry;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._ref=_ref;$f._tuple=_tuple;$f.ctx=ctx;$f.detail=detail;$f.err=err;$f.evt=evt;$f.i=i;$f.model=model;$f.nextCursor=nextCursor;$f.nextUnitID=nextUnitID;$f.notFound=notFound;$f.origin=origin;$f.robotIDs=robotIDs;$f.unitAtCursor=unitAtCursor;$f.x=x;$f.x$1=x$1;$f.x$2=x$2;$f.$s=$s;$f.$r=$r;return $f;};$pkg.OnEventPlayerTurnPhase=OnEventPlayerTurnPhase;OnLineBattleMenuPhase=function(origin,isPlayerTurn,robotID,weaponID,targetPosition){var _r,_r$1,_r$2,_r$3,_r$4,_r$5,_r$6,_tmp,_tmp$1,_tuple,_tuple$1,_tuple$2,_tuple$3,_tuple$4,_tuple$5,_tuple$6,cancel,ctx,err,isPlayerTurn,marks,origin,robotID,tab,targetPosition,view,weaponID,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;_tuple$4=$f._tuple$4;_tuple$5=$f._tuple$5;_tuple$6=$f._tuple$6;cancel=$f.cancel;ctx=$f.ctx;err=$f.err;isPlayerTurn=$f.isPlayerTurn;marks=$f.marks;origin=$f.origin;robotID=$f.robotID;tab=$f.tab;targetPosition=$f.targetPosition;view=$f.view;weaponID=$f.weaponID;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=log.Log(protocol.LogCategoryPhase,"OnLineBattleMenuPhase","start");/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}err=$ifaceNil;ctx=$clone(origin,uidata.UI);view=def.View;ctx.PhaseMark=0;_r=OnEnableLineBattleMenu($clone(ctx,uidata.UI),robotID,weaponID,$clone(targetPosition,protocol.Position));/* */$s=2;case 2:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;uidata.UI.copy(ctx,_tuple[0]);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}_r$1=view.Render($clone(ctx,uidata.UI));/* */$s=3;case 3:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$1=_r$1;uidata.UI.copy(ctx,_tuple$1[0]);err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}/* while (true) { */case 4:_r$2=view.Render($clone(ctx,uidata.UI));/* */$s=6;case 6:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$2=_r$2;uidata.UI.copy(ctx,_tuple$2[0]);err=_tuple$2[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}_tmp=false;_tmp$1=false;cancel=_tmp;tab=_tmp$1;_r$3=common$1.Menu2DStep($clone(ctx,uidata.UI),10,31);/* */$s=7;case 7:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_tuple$3=_r$3;uidata.UI.copy(ctx,_tuple$3[0]);cancel=_tuple$3[2];tab=_tuple$3[3];err=_tuple$3[4];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}if(tab){/* continue; */$s=4;continue;}if(cancel){if(isPlayerTurn){$s=-1;return[origin,cancel,$ifaceNil];}/* continue; */$s=4;continue;}/* break; */$s=5;continue;/* } */$s=4;continue;case 5:_r$4=view.Render($clone(ctx,uidata.UI));/* */$s=8;case 8:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}_tuple$4=_r$4;uidata.UI.copy(ctx,_tuple$4[0]);err=_tuple$4[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}marks=$assertType(ctx.Model,Model).App.Gameplay.HitMarks;_r$5=OnDisableLineBattleMenu($clone(ctx,uidata.UI));/* */$s=9;case 9:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}_tuple$5=_r$5;uidata.UI.copy(ctx,_tuple$5[0]);err=_tuple$5[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}_r$6=OnRobotLineBattle($clone(ctx,uidata.UI),robotID,weaponID,$clone(targetPosition,protocol.Position),marks);/* */$s=10;case 10:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}_tuple$6=_r$6;uidata.UI.copy(ctx,_tuple$6[0]);err=_tuple$6[2];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}$r=log.Log(protocol.LogCategoryPhase,"OnLineBattleMenuPhase","end");/* */$s=11;case 11:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return[ctx,false,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:OnLineBattleMenuPhase};}$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f._tuple$4=_tuple$4;$f._tuple$5=_tuple$5;$f._tuple$6=_tuple$6;$f.cancel=cancel;$f.ctx=ctx;$f.err=err;$f.isPlayerTurn=isPlayerTurn;$f.marks=marks;$f.origin=origin;$f.robotID=robotID;$f.tab=tab;$f.targetPosition=targetPosition;$f.view=view;$f.weaponID=weaponID;$f.$s=$s;$f.$r=$r;return $f;};$pkg.OnLineBattleMenuPhase=OnLineBattleMenuPhase;OnPlayerTurnEnd=function(origin,player){var _arg,_arg$1,_entry,_i,_r,_r$1,_ref,_tuple,ctx,err,model,origin,player,robotID,robots,tag,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_arg=$f._arg;_arg$1=$f._arg$1;_entry=$f._entry;_i=$f._i;_r=$f._r;_r$1=$f._r$1;_ref=$f._ref;_tuple=$f._tuple;ctx=$f.ctx;err=$f.err;model=$f.model;origin=$f.origin;player=$f.player;robotID=$f.robotID;robots=$f.robots;tag=$f.tag;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=log.Log(protocol.LogCategoryPhase,"OnPlayerTurnEnd","start");/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}err=$ifaceNil;ctx=$clone(origin,uidata.UI);_r=common.QueryUnitsByPlayer($clone($clone($assertType(ctx.Model,Model),types.Model),types.Model),player.ID);/* */$s=2;case 2:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;robots=_tuple[0];err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}_arg=protocol.LogCategoryDetail;_r$1=fmt.Sprintf("robots(%v)",new sliceType$5([robots]));/* */$s=3;case 3:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_arg$1=_r$1;$r=log.Log(_arg,"OnPlayerTurnEnd",_arg$1);/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}_ref=robots;_i=0;while(true){if(!(_i<_ref.$length)){break;}robotID=_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i];model=$clone($clone($assertType(ctx.Model,Model),types.Model),types.Model);tag=$clone((_entry=model.App.Gameplay.Tags[$String.keyFor(robotID)],_entry!==undefined?_entry.v:new protocol.Tag.ptr(0,false,false)),protocol.Tag);tag.MoveCount=0;tag.IsDone=false;model.App.Gameplay.Tags=protocol.AssocStringTag(model.App.Gameplay.Tags,robotID,$clone(tag,protocol.Tag));ctx.Model=(x=$clone(model,Model),new x.constructor.elem(x));_i++;}$r=log.Log(protocol.LogCategoryPhase,"OnPlayerTurnEnd","end");/* */$s=5;case 5:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return[ctx,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:OnPlayerTurnEnd};}$f._arg=_arg;$f._arg$1=_arg$1;$f._entry=_entry;$f._i=_i;$f._r=_r;$f._r$1=_r$1;$f._ref=_ref;$f._tuple=_tuple;$f.ctx=ctx;$f.err=err;$f.model=model;$f.origin=origin;$f.player=player;$f.robotID=robotID;$f.robots=robots;$f.tag=tag;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};$pkg.OnPlayerTurnEnd=OnPlayerTurnEnd;OnPlayerTurnStart=function(origin,player){var ctx,origin,player,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;ctx=$f.ctx;origin=$f.origin;player=$f.player;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=log.Log(protocol.LogCategoryPhase,"OnPlayerTurnStart","start");/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}ctx=$clone(origin,uidata.UI);$r=log.Log(protocol.LogCategoryPhase,"OnPlayerTurnStart","start");/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return[ctx,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:OnPlayerTurnStart};}$f.ctx=ctx;$f.origin=origin;$f.player=player;$f.$s=$s;$f.$r=$r;return $f;};$pkg.OnPlayerTurnStart=OnPlayerTurnStart;OnRobotBattle=function(origin,robotID,weaponID,targetRobotID,targetAction,targetWeaponID){var _r,_tuple,ctx,err,origin,robotID,targetAction,targetRobotID,targetWeaponID,weaponID,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tuple=$f._tuple;ctx=$f.ctx;err=$f.err;origin=$f.origin;robotID=$f.robotID;targetAction=$f.targetAction;targetRobotID=$f.targetRobotID;targetWeaponID=$f.targetWeaponID;weaponID=$f.weaponID;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=log.Log(protocol.LogCategoryPhase,"OnRobotBattle","start");/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}err=$ifaceNil;ctx=$clone(origin,uidata.UI);_r=Battle($clone(ctx,uidata.UI),robotID,weaponID,targetRobotID,targetAction,targetWeaponID);/* */$s=2;case 2:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;uidata.UI.copy(ctx,_tuple[0]);err=_tuple[2];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}$r=log.Log(protocol.LogCategoryPhase,"OnRobotBattle","end");/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return[ctx,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:OnRobotBattle};}$f._r=_r;$f._tuple=_tuple;$f.ctx=ctx;$f.err=err;$f.origin=origin;$f.robotID=robotID;$f.targetAction=targetAction;$f.targetRobotID=targetRobotID;$f.targetWeaponID=targetWeaponID;$f.weaponID=weaponID;$f.$s=$s;$f.$r=$r;return $f;};$pkg.OnRobotBattle=OnRobotBattle;Battle=function(origin,robotID,weaponID,targetRobotID,targetAction,targetWeaponID){var _1,_2,_3,_4,_key,_key$1,_model,_q,_r,_r$1,_r$10,_r$11,_r$12,_r$13,_r$14,_r$15,_r$16,_r$17,_r$18,_r$19,_r$2,_r$20,_r$21,_r$22,_r$23,_r$24,_r$25,_r$26,_r$27,_r$28,_r$3,_r$4,_r$5,_r$6,_r$7,_r$8,_r$9,_robot,_robot$1,_robotAfter,_robotAfter$1,_robotPos,_robotPos$1,_tuple,_tuple$1,_tuple$10,_tuple$11,_tuple$12,_tuple$13,_tuple$14,_tuple$15,_tuple$16,_tuple$17,_tuple$18,_tuple$19,_tuple$2,_tuple$20,_tuple$3,_tuple$4,_tuple$5,_tuple$6,_tuple$7,_tuple$8,_tuple$9,_weapon,_weapon$1,_weapons,_weapons$1,animationType,battleResult,cost,cost$1,ctx,damage,damage$1,err,err$1,err$2,err$3,err$4,err$5,hitRate,hitRate$1,isGuardAction,isHit,isHit$1,origin,robot,robotAfter,robotID,robotPilot,robotPos,robotWeapon,robotWeapons,targetAction,targetRobot,targetRobotAfter,targetRobotID,targetRobotPilot,targetRobotPos,targetRobotWeapon,targetRobotWeapons,targetWeaponID,view,weaponID,weaponProto,weaponProto$1,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_2=$f._2;_3=$f._3;_4=$f._4;_key=$f._key;_key$1=$f._key$1;_model=$f._model;_q=$f._q;_r=$f._r;_r$1=$f._r$1;_r$10=$f._r$10;_r$11=$f._r$11;_r$12=$f._r$12;_r$13=$f._r$13;_r$14=$f._r$14;_r$15=$f._r$15;_r$16=$f._r$16;_r$17=$f._r$17;_r$18=$f._r$18;_r$19=$f._r$19;_r$2=$f._r$2;_r$20=$f._r$20;_r$21=$f._r$21;_r$22=$f._r$22;_r$23=$f._r$23;_r$24=$f._r$24;_r$25=$f._r$25;_r$26=$f._r$26;_r$27=$f._r$27;_r$28=$f._r$28;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_r$7=$f._r$7;_r$8=$f._r$8;_r$9=$f._r$9;_robot=$f._robot;_robot$1=$f._robot$1;_robotAfter=$f._robotAfter;_robotAfter$1=$f._robotAfter$1;_robotPos=$f._robotPos;_robotPos$1=$f._robotPos$1;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$10=$f._tuple$10;_tuple$11=$f._tuple$11;_tuple$12=$f._tuple$12;_tuple$13=$f._tuple$13;_tuple$14=$f._tuple$14;_tuple$15=$f._tuple$15;_tuple$16=$f._tuple$16;_tuple$17=$f._tuple$17;_tuple$18=$f._tuple$18;_tuple$19=$f._tuple$19;_tuple$2=$f._tuple$2;_tuple$20=$f._tuple$20;_tuple$3=$f._tuple$3;_tuple$4=$f._tuple$4;_tuple$5=$f._tuple$5;_tuple$6=$f._tuple$6;_tuple$7=$f._tuple$7;_tuple$8=$f._tuple$8;_tuple$9=$f._tuple$9;_weapon=$f._weapon;_weapon$1=$f._weapon$1;_weapons=$f._weapons;_weapons$1=$f._weapons$1;animationType=$f.animationType;battleResult=$f.battleResult;cost=$f.cost;cost$1=$f.cost$1;ctx=$f.ctx;damage=$f.damage;damage$1=$f.damage$1;err=$f.err;err$1=$f.err$1;err$2=$f.err$2;err$3=$f.err$3;err$4=$f.err$4;err$5=$f.err$5;hitRate=$f.hitRate;hitRate$1=$f.hitRate$1;isGuardAction=$f.isGuardAction;isHit=$f.isHit;isHit$1=$f.isHit$1;origin=$f.origin;robot=$f.robot;robotAfter=$f.robotAfter;robotID=$f.robotID;robotPilot=$f.robotPilot;robotPos=$f.robotPos;robotWeapon=$f.robotWeapon;robotWeapons=$f.robotWeapons;targetAction=$f.targetAction;targetRobot=$f.targetRobot;targetRobotAfter=$f.targetRobotAfter;targetRobotID=$f.targetRobotID;targetRobotPilot=$f.targetRobotPilot;targetRobotPos=$f.targetRobotPos;targetRobotWeapon=$f.targetRobotWeapon;targetRobotWeapons=$f.targetRobotWeapons;targetWeaponID=$f.targetWeaponID;view=$f.view;weaponID=$f.weaponID;weaponProto=$f.weaponProto;weaponProto$1=$f.weaponProto$1;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=log.Log(protocol.LogCategoryPhase,"Battle","start");/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}ctx=$clone(origin,uidata.UI);_model=$clone($clone($assertType(ctx.Model,Model),types.Model),types.Model);view=def.View;_r=common.QueryRobot($clone(_model,types.Model),robotID,true);/* */$s=2;case 2:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;robot=$clone(_tuple[0],protocol.Robot);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,new protocol.BattleResult.ptr(sliceType$7.nil),err];}_r$1=common.QueryPilot($clone(_model,types.Model),robot.PilotID,true);/* */$s=3;case 3:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$1=_r$1;robotPilot=$clone(_tuple$1[0],protocol.Pilot);err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,new protocol.BattleResult.ptr(sliceType$7.nil),err];}_r$2=common.QueryRobotWeapons($clone(_model,types.Model),robot.ID,robot.Transform,true);/* */$s=4;case 4:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$2=_r$2;robotWeapons=_tuple$2[0];err=_tuple$2[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,new protocol.BattleResult.ptr(sliceType$7.nil),err];}_r$3=protocol.TryGetStringWeapon(robotWeapons,weaponID);/* */$s=5;case 5:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_tuple$3=_r$3;robotWeapon=$clone(_tuple$3[0],protocol.Weapon);err=_tuple$3[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,new protocol.BattleResult.ptr(sliceType$7.nil),err];}_r$4=protocol.TryGetStringPosition(_model.App.Gameplay.Positions,robotID);/* */$s=6;case 6:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}_tuple$4=_r$4;robotPos=$clone(_tuple$4[0],protocol.Position);err=_tuple$4[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,new protocol.BattleResult.ptr(sliceType$7.nil),err];}_r$5=protocol.TryGetStringRobot(_model.App.Gameplay.Robots,targetRobotID);/* */$s=7;case 7:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}_tuple$5=_r$5;targetRobot=$clone(_tuple$5[0],protocol.Robot);err=_tuple$5[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,new protocol.BattleResult.ptr(sliceType$7.nil),err];}_r$6=protocol.TryGetStringPilot(_model.App.Gameplay.Pilots,targetRobot.PilotID);/* */$s=8;case 8:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}_tuple$6=_r$6;targetRobotPilot=$clone(_tuple$6[0],protocol.Pilot);err=_tuple$6[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,new protocol.BattleResult.ptr(sliceType$7.nil),err];}_r$7=common.QueryRobotWeapons($clone(_model,types.Model),targetRobot.ID,targetRobot.Transform,true);/* */$s=9;case 9:if($c){$c=false;_r$7=_r$7.$blk();}if(_r$7&&_r$7.$blk!==undefined){break s;}_tuple$7=_r$7;targetRobotWeapons=_tuple$7[0];err=_tuple$7[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,new protocol.BattleResult.ptr(sliceType$7.nil),err];}_r$8=protocol.TryGetStringPosition(_model.App.Gameplay.Positions,targetRobotID);/* */$s=10;case 10:if($c){$c=false;_r$8=_r$8.$blk();}if(_r$8&&_r$8.$blk!==undefined){break s;}_tuple$8=_r$8;targetRobotPos=$clone(_tuple$8[0],protocol.Position);err=_tuple$8[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,new protocol.BattleResult.ptr(sliceType$7.nil),err];}battleResult=new protocol.BattleResult.ptr(new sliceType$7([]));_robot=$clone(robot,protocol.Robot);_robotPos=$clone(robotPos,protocol.Position);_weapon=$clone(robotWeapon,protocol.Weapon);_weapons=robotWeapons;_r$9=data.TryGetStringWeaponProto(data.GameData.Weapon,_weapon.ProtoID);/* */$s=11;case 11:if($c){$c=false;_r$9=_r$9.$blk();}if(_r$9&&_r$9.$blk!==undefined){break s;}_tuple$9=_r$9;weaponProto=$clone(_tuple$9[0],data.WeaponProto);err$1=_tuple$9[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[origin,new protocol.BattleResult.ptr(sliceType$7.nil),err$1];}_robotAfter=$clone(_robot,protocol.Robot);_1=weaponProto.EnergyType;/* */if(_1==="energy"){$s=13;continue;}/* */if(_1==="bullet"){$s=14;continue;}/* */$s=15;continue;/* if (_1 === ("energy")) { */case 13:cost=weaponProto.EnergyCost;/* */if(_robot.EN<cost){$s=17;continue;}/* */$s=18;continue;/* if (_robot.EN < cost) { */case 17:_r$10=fmt.Errorf("robot.EN(%v) not enougth for cost(%v)",new sliceType$5([new $Int(_robot.EN),new $Int(cost)]));/* */$s=19;case 19:if($c){$c=false;_r$10=_r$10.$blk();}if(_r$10&&_r$10.$blk!==undefined){break s;}$s=-1;return[origin,new protocol.BattleResult.ptr(sliceType$7.nil),_r$10];/* } */case 18:_robotAfter.EN=_robotAfter.EN-cost>>0;$s=16;continue;/* } else if (_1 === ("bullet")) { */case 14:/* */if(_weapon.BulletCount===0){$s=20;continue;}/* */$s=21;continue;/* if (_weapon.BulletCount === 0) { */case 20:_r$11=fmt.Errorf("weapon.BulletCount not enougth",new sliceType$5([]));/* */$s=22;case 22:if($c){$c=false;_r$11=_r$11.$blk();}if(_r$11&&_r$11.$blk!==undefined){break s;}$s=-1;return[origin,new protocol.BattleResult.ptr(sliceType$7.nil),_r$11];/* } */case 21:_weapon.BulletCount=_weapon.BulletCount-1>>0;_weapons=protocol.AssocStringWeapon(_weapons,_weapon.ID,$clone(_weapon,protocol.Weapon));_key=_robotAfter.Transform;(_robotAfter.WeaponsByTransform||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key)]={k:_key,v:_weapons};$s=16;continue;/* } else { */case 15:_r$12=fmt.Errorf("unknown energy type(%+v)",new sliceType$5([new _weapon.constructor.elem(_weapon)]));/* */$s=23;case 23:if($c){$c=false;_r$12=_r$12.$blk();}if(_r$12&&_r$12.$blk!==undefined){break s;}$s=-1;return[origin,new protocol.BattleResult.ptr(sliceType$7.nil),_r$12];/* } */case 16:case 12:battleResult.Animations=$append(battleResult.Animations,new protocol.BattleAnimation.ptr(2,$clone(_robot,protocol.Robot),$clone(_robotAfter,protocol.Robot),0,$makeMap($String.keyFor,[{k:_robot.ID,v:$clone(_robotPos,protocol.Position)}]),arrayType$4.zero()));protocol.Robot.copy(robot,_robotAfter);_r$13=impl.QueryBattleHitRate($clone(_model,types.Model),$clone(robot,protocol.Robot),$clone(robotPilot,protocol.Pilot),$clone(robotWeapon,protocol.Weapon),$clone(targetRobot,protocol.Robot),$clone(targetRobotPilot,protocol.Pilot),new impl.QueryBattleHitRateOptions.ptr(false));/* */$s=24;case 24:if($c){$c=false;_r$13=_r$13.$blk();}if(_r$13&&_r$13.$blk!==undefined){break s;}_tuple$10=_r$13;hitRate=_tuple$10[0];err=_tuple$10[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,new protocol.BattleResult.ptr(sliceType$7.nil),err];}_2=targetAction;if(_2===3){hitRate=hitRate/2;}_r$14=rand.Float64();/* */$s=25;case 25:if($c){$c=false;_r$14=_r$14.$blk();}if(_r$14&&_r$14.$blk!==undefined){break s;}isHit=_r$14<hitRate;/* */if(isHit){$s=26;continue;}/* */$s=27;continue;/* if (isHit) { */case 26:animationType=5;_r$15=impl.QueryBattleDamage($clone(_model,types.Model),$clone(robot,protocol.Robot),$clone(robotPilot,protocol.Pilot),$clone(robotWeapon,protocol.Weapon),$clone(targetRobot,protocol.Robot),$clone(targetRobotPilot,protocol.Pilot));/* */$s=29;case 29:if($c){$c=false;_r$15=_r$15.$blk();}if(_r$15&&_r$15.$blk!==undefined){break s;}_tuple$11=_r$15;damage=_tuple$11[0];err$2=_tuple$11[1];if(!$interfaceIsEqual(err$2,$ifaceNil)){$s=-1;return[origin,new protocol.BattleResult.ptr(sliceType$7.nil),err$2];}isGuardAction=targetAction===2;if(isGuardAction){damage=(_q=damage/2,_q===_q&&_q!==1/0&&_q!==-1/0?_q>>0:$throwRuntimeError("integer divide by zero"));animationType=3;}targetRobotAfter=$clone(targetRobot,protocol.Robot);targetRobotAfter.HP=helper.Max(0,targetRobotAfter.HP-damage>>0);battleResult.Animations=$append(battleResult.Animations,new protocol.BattleAnimation.ptr(animationType,$clone(targetRobot,protocol.Robot),$clone(targetRobotAfter,protocol.Robot),damage,$makeMap($String.keyFor,[{k:targetRobot.ID,v:$clone(targetRobotPos,protocol.Position)}]),arrayType$4.zero()));protocol.Robot.copy(targetRobot,targetRobotAfter);$s=28;continue;/* } else { */case 27:battleResult.Animations=$append(battleResult.Animations,new protocol.BattleAnimation.ptr(4,$clone(targetRobot,protocol.Robot),$clone(targetRobot,protocol.Robot),0,$makeMap($String.keyFor,[{k:targetRobot.ID,v:$clone(targetRobotPos,protocol.Position)}]),arrayType$4.zero()));/* } */case 28:/* */if(targetRobot.HP<=0){$s=30;continue;}/* */$s=31;continue;/* if (targetRobot.HP <= 0) { */case 30:battleResult.Animations=$append(battleResult.Animations,new protocol.BattleAnimation.ptr(6,$clone(targetRobot,protocol.Robot),$clone(targetRobot,protocol.Robot),0,$makeMap($String.keyFor,[{k:targetRobot.ID,v:$clone(targetRobotPos,protocol.Position)}]),arrayType$4.zero()));/* goto ANIMATE */$s=32;continue;/* } */case 31:_3=targetAction;/* */if(_3===1){$s=34;continue;}/* */$s=35;continue;/* if (_3 === (1)) { */case 34:battleResult.Animations=$append(battleResult.Animations,new protocol.BattleAnimation.ptr(1,new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),0,false,$toNativeArray($kindArray,[$clone(targetRobotPos,protocol.Position),$clone(robotPos,protocol.Position)])));_r$16=protocol.TryGetStringWeapon(targetRobotWeapons,targetWeaponID);/* */$s=36;case 36:if($c){$c=false;_r$16=_r$16.$blk();}if(_r$16&&_r$16.$blk!==undefined){break s;}_tuple$12=_r$16;targetRobotWeapon=$clone(_tuple$12[0],protocol.Weapon);err$3=_tuple$12[1];if(!$interfaceIsEqual(err$3,$ifaceNil)){$s=-1;return[origin,new protocol.BattleResult.ptr(sliceType$7.nil),err$3];}_robot$1=$clone(targetRobot,protocol.Robot);_robotPos$1=$clone(targetRobotPos,protocol.Position);_weapon$1=$clone(targetRobotWeapon,protocol.Weapon);_weapons$1=targetRobotWeapons;_r$17=data.TryGetStringWeaponProto(data.GameData.Weapon,_weapon$1.ProtoID);/* */$s=37;case 37:if($c){$c=false;_r$17=_r$17.$blk();}if(_r$17&&_r$17.$blk!==undefined){break s;}_tuple$13=_r$17;weaponProto$1=$clone(_tuple$13[0],data.WeaponProto);err$4=_tuple$13[1];if(!$interfaceIsEqual(err$4,$ifaceNil)){$s=-1;return[origin,new protocol.BattleResult.ptr(sliceType$7.nil),err$4];}_robotAfter$1=$clone(_robot$1,protocol.Robot);_4=weaponProto$1.EnergyType;/* */if(_4==="energy"){$s=39;continue;}/* */if(_4==="bullet"){$s=40;continue;}/* */$s=41;continue;/* if (_4 === ("energy")) { */case 39:cost$1=weaponProto$1.EnergyCost;/* */if(_robot$1.EN<cost$1){$s=43;continue;}/* */$s=44;continue;/* if (_robot$1.EN < cost$1) { */case 43:_r$18=fmt.Errorf("robot.EN(%v) not enougth for cost(%v)",new sliceType$5([new $Int(robot.EN),new $Int(cost$1)]));/* */$s=45;case 45:if($c){$c=false;_r$18=_r$18.$blk();}if(_r$18&&_r$18.$blk!==undefined){break s;}$s=-1;return[origin,new protocol.BattleResult.ptr(sliceType$7.nil),_r$18];/* } */case 44:_robotAfter$1.EN=_robotAfter$1.EN-cost$1>>0;$s=42;continue;/* } else if (_4 === ("bullet")) { */case 40:/* */if(_weapon$1.BulletCount===0){$s=46;continue;}/* */$s=47;continue;/* if (_weapon$1.BulletCount === 0) { */case 46:_r$19=fmt.Errorf("weapon.BulletCount not enougth",new sliceType$5([]));/* */$s=48;case 48:if($c){$c=false;_r$19=_r$19.$blk();}if(_r$19&&_r$19.$blk!==undefined){break s;}$s=-1;return[origin,new protocol.BattleResult.ptr(sliceType$7.nil),_r$19];/* } */case 47:_weapon$1.BulletCount=_weapon$1.BulletCount-1>>0;_weapons$1=protocol.AssocStringWeapon(_weapons$1,_weapon$1.ID,$clone(_weapon$1,protocol.Weapon));_key$1=_robotAfter$1.Transform;(_robotAfter$1.WeaponsByTransform||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key$1)]={k:_key$1,v:_weapons$1};$s=42;continue;/* } else { */case 41:_r$20=fmt.Errorf("unknown energy type(%+v)",new sliceType$5([new _weapon$1.constructor.elem(_weapon$1)]));/* */$s=49;case 49:if($c){$c=false;_r$20=_r$20.$blk();}if(_r$20&&_r$20.$blk!==undefined){break s;}$s=-1;return[origin,new protocol.BattleResult.ptr(sliceType$7.nil),_r$20];/* } */case 42:case 38:battleResult.Animations=$append(battleResult.Animations,new protocol.BattleAnimation.ptr(2,$clone(_robot$1,protocol.Robot),$clone(_robotAfter$1,protocol.Robot),0,$makeMap($String.keyFor,[{k:_robot$1.ID,v:$clone(_robotPos$1,protocol.Position)}]),arrayType$4.zero()));protocol.Robot.copy(targetRobot,_robotAfter$1);_r$21=impl.QueryBattleHitRate($clone(_model,types.Model),$clone(targetRobot,protocol.Robot),$clone(targetRobotPilot,protocol.Pilot),$clone(targetRobotWeapon,protocol.Weapon),$clone(robot,protocol.Robot),$clone(robotPilot,protocol.Pilot),new impl.QueryBattleHitRateOptions.ptr(false));/* */$s=50;case 50:if($c){$c=false;_r$21=_r$21.$blk();}if(_r$21&&_r$21.$blk!==undefined){break s;}_tuple$14=_r$21;hitRate$1=_tuple$14[0];err$3=_tuple$14[1];if(!$interfaceIsEqual(err$3,$ifaceNil)){$s=-1;return[origin,new protocol.BattleResult.ptr(sliceType$7.nil),err$3];}_r$22=rand.Float64();/* */$s=51;case 51:if($c){$c=false;_r$22=_r$22.$blk();}if(_r$22&&_r$22.$blk!==undefined){break s;}isHit$1=_r$22<hitRate$1;/* */if(isHit$1){$s=52;continue;}/* */$s=53;continue;/* if (isHit$1) { */case 52:_r$23=impl.QueryBattleDamage($clone(_model,types.Model),$clone(targetRobot,protocol.Robot),$clone(targetRobotPilot,protocol.Pilot),$clone(targetRobotWeapon,protocol.Weapon),$clone(robot,protocol.Robot),$clone(robotPilot,protocol.Pilot));/* */$s=55;case 55:if($c){$c=false;_r$23=_r$23.$blk();}if(_r$23&&_r$23.$blk!==undefined){break s;}_tuple$15=_r$23;damage$1=_tuple$15[0];err$5=_tuple$15[1];if(!$interfaceIsEqual(err$5,$ifaceNil)){$s=-1;return[origin,new protocol.BattleResult.ptr(sliceType$7.nil),err$5];}robotAfter=$clone(robot,protocol.Robot);robotAfter.HP=helper.Max(0,robotAfter.HP-damage$1>>0);battleResult.Animations=$append(battleResult.Animations,new protocol.BattleAnimation.ptr(5,$clone(robot,protocol.Robot),$clone(robotAfter,protocol.Robot),damage$1,$makeMap($String.keyFor,[{k:robot.ID,v:$clone(robotPos,protocol.Position)}]),arrayType$4.zero()));protocol.Robot.copy(robot,robotAfter);$s=54;continue;/* } else { */case 53:battleResult.Animations=$append(battleResult.Animations,new protocol.BattleAnimation.ptr(4,$clone(robot,protocol.Robot),$clone(robot,protocol.Robot),0,$makeMap($String.keyFor,[{k:robot.ID,v:$clone(robotPos,protocol.Position)}]),arrayType$4.zero()));/* } */case 54:/* } */case 35:case 33:if(robot.HP<=0){battleResult.Animations=$append(battleResult.Animations,new protocol.BattleAnimation.ptr(6,$clone(robot,protocol.Robot),$clone(robot,protocol.Robot),0,$makeMap($String.keyFor,[{k:robot.ID,v:$clone(robotPos,protocol.Position)}]),arrayType$4.zero()));}/* ANIMATE: */case 32:_r$24=OnDisableBattleMenu($clone(ctx,uidata.UI));/* */$s=56;case 56:if($c){$c=false;_r$24=_r$24.$blk();}if(_r$24&&_r$24.$blk!==undefined){break s;}_tuple$16=_r$24;uidata.UI.copy(ctx,_tuple$16[0]);err=_tuple$16[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,new protocol.BattleResult.ptr(sliceType$7.nil),err];}_r$25=view.Render($clone(ctx,uidata.UI));/* */$s=57;case 57:if($c){$c=false;_r$25=_r$25.$blk();}if(_r$25&&_r$25.$blk!==undefined){break s;}_tuple$17=_r$25;uidata.UI.copy(ctx,_tuple$17[0]);err=_tuple$17[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,new protocol.BattleResult.ptr(sliceType$7.nil),err];}$r=view.RenderRobotBattle($clone(ctx,uidata.UI),$clone(battleResult,protocol.BattleResult));/* */$s=58;case 58:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}types.Model.copy(_model,$clone($assertType(ctx.Model,Model),types.Model));if(robot.HP<=0){_model.App.Gameplay.Robots=protocol.DissocStringRobot(_model.App.Gameplay.Robots,robot.ID);_model.App.Gameplay.Positions=protocol.DissocStringPosition(_model.App.Gameplay.Positions,robot.ID);_model.App.Gameplay.Tags=protocol.DissocStringTag(_model.App.Gameplay.Tags,robot.ID);_model.App.Gameplay.Pilots=protocol.DissocStringPilot(_model.App.Gameplay.Pilots,robot.PilotID);}else{_model.App.Gameplay.Robots=protocol.AssocStringRobot(_model.App.Gameplay.Robots,robot.ID,$clone(robot,protocol.Robot));_model.App.Gameplay.Pilots=protocol.AssocStringPilot(_model.App.Gameplay.Pilots,robotPilot.ID,$clone(robotPilot,protocol.Pilot));}if(targetRobot.HP<=0){_model.App.Gameplay.Robots=protocol.DissocStringRobot(_model.App.Gameplay.Robots,targetRobot.ID);_model.App.Gameplay.Positions=protocol.DissocStringPosition(_model.App.Gameplay.Positions,targetRobot.ID);_model.App.Gameplay.Tags=protocol.DissocStringTag(_model.App.Gameplay.Tags,targetRobot.ID);_model.App.Gameplay.Pilots=protocol.DissocStringPilot(_model.App.Gameplay.Pilots,targetRobot.PilotID);}else{_model.App.Gameplay.Robots=protocol.AssocStringRobot(_model.App.Gameplay.Robots,targetRobot.ID,$clone(targetRobot,protocol.Robot));_model.App.Gameplay.Pilots=protocol.AssocStringPilot(_model.App.Gameplay.Pilots,targetRobotPilot.ID,$clone(targetRobotPilot,protocol.Pilot));}ctx.Model=(x=$clone(_model,Model),new x.constructor.elem(x));_r$26=OnRobotBattleEnd($clone(ctx,uidata.UI),$clone(robot,protocol.Robot),$clone(targetRobot,protocol.Robot));/* */$s=59;case 59:if($c){$c=false;_r$26=_r$26.$blk();}if(_r$26&&_r$26.$blk!==undefined){break s;}_tuple$18=_r$26;uidata.UI.copy(ctx,_tuple$18[0]);err=_tuple$18[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,battleResult,err];}_r$27=OnRobotBattleEnd($clone(ctx,uidata.UI),$clone(targetRobot,protocol.Robot),$clone(robot,protocol.Robot));/* */$s=60;case 60:if($c){$c=false;_r$27=_r$27.$blk();}if(_r$27&&_r$27.$blk!==undefined){break s;}_tuple$19=_r$27;uidata.UI.copy(ctx,_tuple$19[0]);err=_tuple$19[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,battleResult,err];}_r$28=view.Render($clone(ctx,uidata.UI));/* */$s=61;case 61:if($c){$c=false;_r$28=_r$28.$blk();}if(_r$28&&_r$28.$blk!==undefined){break s;}_tuple$20=_r$28;uidata.UI.copy(ctx,_tuple$20[0]);err=_tuple$20[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,battleResult,err];}$r=log.Log(protocol.LogCategoryPhase,"Battle","end");/* */$s=62;case 62:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return[ctx,battleResult,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:Battle};}$f._1=_1;$f._2=_2;$f._3=_3;$f._4=_4;$f._key=_key;$f._key$1=_key$1;$f._model=_model;$f._q=_q;$f._r=_r;$f._r$1=_r$1;$f._r$10=_r$10;$f._r$11=_r$11;$f._r$12=_r$12;$f._r$13=_r$13;$f._r$14=_r$14;$f._r$15=_r$15;$f._r$16=_r$16;$f._r$17=_r$17;$f._r$18=_r$18;$f._r$19=_r$19;$f._r$2=_r$2;$f._r$20=_r$20;$f._r$21=_r$21;$f._r$22=_r$22;$f._r$23=_r$23;$f._r$24=_r$24;$f._r$25=_r$25;$f._r$26=_r$26;$f._r$27=_r$27;$f._r$28=_r$28;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._r$7=_r$7;$f._r$8=_r$8;$f._r$9=_r$9;$f._robot=_robot;$f._robot$1=_robot$1;$f._robotAfter=_robotAfter;$f._robotAfter$1=_robotAfter$1;$f._robotPos=_robotPos;$f._robotPos$1=_robotPos$1;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$10=_tuple$10;$f._tuple$11=_tuple$11;$f._tuple$12=_tuple$12;$f._tuple$13=_tuple$13;$f._tuple$14=_tuple$14;$f._tuple$15=_tuple$15;$f._tuple$16=_tuple$16;$f._tuple$17=_tuple$17;$f._tuple$18=_tuple$18;$f._tuple$19=_tuple$19;$f._tuple$2=_tuple$2;$f._tuple$20=_tuple$20;$f._tuple$3=_tuple$3;$f._tuple$4=_tuple$4;$f._tuple$5=_tuple$5;$f._tuple$6=_tuple$6;$f._tuple$7=_tuple$7;$f._tuple$8=_tuple$8;$f._tuple$9=_tuple$9;$f._weapon=_weapon;$f._weapon$1=_weapon$1;$f._weapons=_weapons;$f._weapons$1=_weapons$1;$f.animationType=animationType;$f.battleResult=battleResult;$f.cost=cost;$f.cost$1=cost$1;$f.ctx=ctx;$f.damage=damage;$f.damage$1=damage$1;$f.err=err;$f.err$1=err$1;$f.err$2=err$2;$f.err$3=err$3;$f.err$4=err$4;$f.err$5=err$5;$f.hitRate=hitRate;$f.hitRate$1=hitRate$1;$f.isGuardAction=isGuardAction;$f.isHit=isHit;$f.isHit$1=isHit$1;$f.origin=origin;$f.robot=robot;$f.robotAfter=robotAfter;$f.robotID=robotID;$f.robotPilot=robotPilot;$f.robotPos=robotPos;$f.robotWeapon=robotWeapon;$f.robotWeapons=robotWeapons;$f.targetAction=targetAction;$f.targetRobot=targetRobot;$f.targetRobotAfter=targetRobotAfter;$f.targetRobotID=targetRobotID;$f.targetRobotPilot=targetRobotPilot;$f.targetRobotPos=targetRobotPos;$f.targetRobotWeapon=targetRobotWeapon;$f.targetRobotWeapons=targetRobotWeapons;$f.targetWeaponID=targetWeaponID;$f.view=view;$f.weaponID=weaponID;$f.weaponProto=weaponProto;$f.weaponProto$1=weaponProto$1;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};$pkg.Battle=Battle;OnRobotBattleEnd=function(origin,robotAfter,targetRobotAfter){var _r,_r$1,_r$2,_tuple,_tuple$1,awardMoney,ctx,err,err$1,model,msg,origin,robotAfter,robotProto,targetRobotAfter,view,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_tuple=$f._tuple;_tuple$1=$f._tuple$1;awardMoney=$f.awardMoney;ctx=$f.ctx;err=$f.err;err$1=$f.err$1;model=$f.model;msg=$f.msg;origin=$f.origin;robotAfter=$f.robotAfter;robotProto=$f.robotProto;targetRobotAfter=$f.targetRobotAfter;view=$f.view;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:err=$ifaceNil;ctx=$clone(origin,uidata.UI);model=$clone($clone($assertType(ctx.Model,Model),types.Model),types.Model);view=def.View;msg=new sliceType([]);/* */if(robotAfter.PlayerID==="PlayerIDPlayer"){$s=1;continue;}/* */$s=2;continue;/* if (robotAfter.PlayerID === "PlayerIDPlayer") { */case 1:/* */if(targetRobotAfter.HP<=0){$s=3;continue;}/* */$s=4;continue;/* if (targetRobotAfter.HP <= 0) { */case 3:awardMoney=0;_r=data.TryGetStringRobotProto(data.GameData.Robot,targetRobotAfter.ProtoID);/* */$s=5;case 5:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;robotProto=$clone(_tuple[0],data.RobotProto);err$1=_tuple[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[origin,err$1];}awardMoney=robotProto.Cost;model.App.Money=model.App.Money+awardMoney>>0;_r$1=fmt.Sprintf("\xE7\x8D\xB2\xE5\xBE\x97%v\xE8\xB3\x87\xE9\x87\x91",new sliceType$5([new $Int(awardMoney)]));/* */$s=6;case 6:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}msg=$append(msg,_r$1);/* } */case 4:/* } */case 2:/* */if(msg.$length>0){$s=7;continue;}/* */$s=8;continue;/* if (msg.$length > 0) { */case 7:$r=view.Alert(strings.Join(msg,"\n"));/* */$s=9;case 9:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=time.Sleep(new time.Duration(0,2000000000));/* */$s=10;case 10:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 8:ctx.Model=(x=$clone(model,Model),new x.constructor.elem(x));_r$2=OnCheckWinOrLose($clone(ctx,uidata.UI));/* */$s=11;case 11:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$1=_r$2;uidata.UI.copy(ctx,_tuple$1[0]);err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}$s=-1;return[ctx,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:OnRobotBattleEnd};}$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f.awardMoney=awardMoney;$f.ctx=ctx;$f.err=err;$f.err$1=err$1;$f.model=model;$f.msg=msg;$f.origin=origin;$f.robotAfter=robotAfter;$f.robotProto=robotProto;$f.targetRobotAfter=targetRobotAfter;$f.view=view;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};$pkg.OnRobotBattleEnd=OnRobotBattleEnd;OnRobotDone=function(origin,robotID){var _r,_r$1,_tuple,_tuple$1,_tuple$2,ctx,err,model,origin,robotID,view,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;ctx=$f.ctx;err=$f.err;model=$f.model;origin=$f.origin;robotID=$f.robotID;view=$f.view;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:err=$ifaceNil;ctx=$clone(origin,uidata.UI);view=def.View;_tuple=impl.RobotDone($clone($clone($assertType(ctx.Model,Model),types.Model),types.Model),robotID);model=$clone(_tuple[0],types.Model);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}ctx.Model=(x=$clone(model,Model),new x.constructor.elem(x));_r=ObservePage($clone(ctx,uidata.UI),10);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple$1=_r;uidata.UI.copy(ctx,_tuple$1[0]);err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}_r$1=view.Render($clone(ctx,uidata.UI));/* */$s=2;case 2:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$2=_r$1;uidata.UI.copy(ctx,_tuple$2[0]);err=_tuple$2[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}$s=-1;return[ctx,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:OnRobotDone};}$f._r=_r;$f._r$1=_r$1;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f.ctx=ctx;$f.err=err;$f.model=model;$f.origin=origin;$f.robotID=robotID;$f.view=view;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};$pkg.OnRobotDone=OnRobotDone;OnRobotLineBattle=function(origin,robotID,weaponID,targetPosition,marks){var _1,_entry,_i,_key,_keys,_model,_r,_r$1,_r$10,_r$11,_r$12,_r$13,_r$14,_r$15,_r$16,_r$2,_r$3,_r$4,_r$5,_r$6,_r$7,_r$8,_r$9,_ref,_robot,_robotAfter,_robotPos,_tuple,_tuple$1,_tuple$10,_tuple$11,_tuple$12,_tuple$2,_tuple$3,_tuple$4,_tuple$5,_tuple$6,_tuple$7,_tuple$8,_tuple$9,_weapon,_weapons,battleResult,cost,ctx,damage,err,err$1,err$2,err$3,hitRate,isHit,mark,marks,origin,rate,robot,robotID,robotPilot,robotPos,targetPosition,targetRobot,targetRobotAfter,targetRobotID,targetRobotPilot,targetRobotPos,view,weapon,weaponID,weaponProto,weapons,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_entry=$f._entry;_i=$f._i;_key=$f._key;_keys=$f._keys;_model=$f._model;_r=$f._r;_r$1=$f._r$1;_r$10=$f._r$10;_r$11=$f._r$11;_r$12=$f._r$12;_r$13=$f._r$13;_r$14=$f._r$14;_r$15=$f._r$15;_r$16=$f._r$16;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_r$7=$f._r$7;_r$8=$f._r$8;_r$9=$f._r$9;_ref=$f._ref;_robot=$f._robot;_robotAfter=$f._robotAfter;_robotPos=$f._robotPos;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$10=$f._tuple$10;_tuple$11=$f._tuple$11;_tuple$12=$f._tuple$12;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;_tuple$4=$f._tuple$4;_tuple$5=$f._tuple$5;_tuple$6=$f._tuple$6;_tuple$7=$f._tuple$7;_tuple$8=$f._tuple$8;_tuple$9=$f._tuple$9;_weapon=$f._weapon;_weapons=$f._weapons;battleResult=$f.battleResult;cost=$f.cost;ctx=$f.ctx;damage=$f.damage;err=$f.err;err$1=$f.err$1;err$2=$f.err$2;err$3=$f.err$3;hitRate=$f.hitRate;isHit=$f.isHit;mark=$f.mark;marks=$f.marks;origin=$f.origin;rate=$f.rate;robot=$f.robot;robotID=$f.robotID;robotPilot=$f.robotPilot;robotPos=$f.robotPos;targetPosition=$f.targetPosition;targetRobot=$f.targetRobot;targetRobotAfter=$f.targetRobotAfter;targetRobotID=$f.targetRobotID;targetRobotPilot=$f.targetRobotPilot;targetRobotPos=$f.targetRobotPos;view=$f.view;weapon=$f.weapon;weaponID=$f.weaponID;weaponProto=$f.weaponProto;weapons=$f.weapons;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=log.Log(protocol.LogCategoryPhase,"OnRobotLineBattle","start");/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}ctx=$clone(origin,uidata.UI);view=def.View;_model=$clone($clone($assertType(ctx.Model,Model),types.Model),types.Model);_r=protocol.TryGetStringRobot(_model.App.Gameplay.Robots,robotID);/* */$s=2;case 2:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;robot=$clone(_tuple[0],protocol.Robot);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,new protocol.BattleResult.ptr(sliceType$7.nil),err];}_r$1=protocol.TryGetStringPosition(_model.App.Gameplay.Positions,robotID);/* */$s=3;case 3:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$1=_r$1;robotPos=$clone(_tuple$1[0],protocol.Position);err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,new protocol.BattleResult.ptr(sliceType$7.nil),err];}_r$2=protocol.TryGetStringPilot(_model.App.Gameplay.Pilots,robot.PilotID);/* */$s=4;case 4:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$2=_r$2;robotPilot=$clone(_tuple$2[0],protocol.Pilot);err=_tuple$2[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,new protocol.BattleResult.ptr(sliceType$7.nil),err];}_r$3=common.QueryRobotWeapons($clone(_model,types.Model),robot.ID,robot.Transform,true);/* */$s=5;case 5:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_tuple$3=_r$3;weapons=_tuple$3[0];err=_tuple$3[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,new protocol.BattleResult.ptr(sliceType$7.nil),err];}_r$4=protocol.TryGetStringWeapon(weapons,weaponID);/* */$s=6;case 6:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}_tuple$4=_r$4;weapon=$clone(_tuple$4[0],protocol.Weapon);err=_tuple$4[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,new protocol.BattleResult.ptr(sliceType$7.nil),err];}battleResult=new protocol.BattleResult.ptr(new sliceType$7([]));_robot=$clone(robot,protocol.Robot);_robotPos=$clone(robotPos,protocol.Position);_weapon=$clone(weapon,protocol.Weapon);_weapons=weapons;_r$5=data.TryGetStringWeaponProto(data.GameData.Weapon,_weapon.ProtoID);/* */$s=7;case 7:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}_tuple$5=_r$5;weaponProto=$clone(_tuple$5[0],data.WeaponProto);err$1=_tuple$5[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[origin,new protocol.BattleResult.ptr(sliceType$7.nil),err$1];}_robotAfter=$clone(_robot,protocol.Robot);_1=weaponProto.EnergyType;/* */if(_1==="energy"){$s=9;continue;}/* */if(_1==="bullet"){$s=10;continue;}/* */$s=11;continue;/* if (_1 === ("energy")) { */case 9:cost=weaponProto.EnergyCost;/* */if(_robot.EN<cost){$s=13;continue;}/* */$s=14;continue;/* if (_robot.EN < cost) { */case 13:_r$6=fmt.Errorf("robot.EN(%v) not enougth for cost(%v)",new sliceType$5([new $Int(_robot.EN),new $Int(cost)]));/* */$s=15;case 15:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}$s=-1;return[origin,new protocol.BattleResult.ptr(sliceType$7.nil),_r$6];/* } */case 14:_robotAfter.EN=_robotAfter.EN-cost>>0;$s=12;continue;/* } else if (_1 === ("bullet")) { */case 10:/* */if(_weapon.BulletCount===0){$s=16;continue;}/* */$s=17;continue;/* if (_weapon.BulletCount === 0) { */case 16:_r$7=fmt.Errorf("weapon.BulletCount not enougth",new sliceType$5([]));/* */$s=18;case 18:if($c){$c=false;_r$7=_r$7.$blk();}if(_r$7&&_r$7.$blk!==undefined){break s;}$s=-1;return[origin,new protocol.BattleResult.ptr(sliceType$7.nil),_r$7];/* } */case 17:_weapon.BulletCount=_weapon.BulletCount-1>>0;_weapons=protocol.AssocStringWeapon(_weapons,_weapon.ID,$clone(_weapon,protocol.Weapon));_key=_robotAfter.Transform;(_robotAfter.WeaponsByTransform||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key)]={k:_key,v:_weapons};$s=12;continue;/* } else { */case 11:_r$8=fmt.Errorf("unknown energy type(%+v)",new sliceType$5([new _weapon.constructor.elem(_weapon)]));/* */$s=19;case 19:if($c){$c=false;_r$8=_r$8.$blk();}if(_r$8&&_r$8.$blk!==undefined){break s;}$s=-1;return[origin,new protocol.BattleResult.ptr(sliceType$7.nil),_r$8];/* } */case 12:case 8:battleResult.Animations=$append(battleResult.Animations,new protocol.BattleAnimation.ptr(2,$clone(_robot,protocol.Robot),$clone(_robotAfter,protocol.Robot),0,$makeMap($String.keyFor,[{k:_robot.ID,v:$clone(_robotPos,protocol.Position)}]),arrayType$4.zero()));protocol.Robot.copy(robot,_robotAfter);if(robot.HP<=0){_model.App.Gameplay.Robots=protocol.DissocStringRobot(_model.App.Gameplay.Robots,robot.ID);_model.App.Gameplay.Positions=protocol.DissocStringPosition(_model.App.Gameplay.Positions,robot.ID);_model.App.Gameplay.Tags=protocol.DissocStringTag(_model.App.Gameplay.Tags,robot.ID);_model.App.Gameplay.Pilots=protocol.DissocStringPilot(_model.App.Gameplay.Pilots,robot.PilotID);}else{_model.App.Gameplay.Robots=protocol.AssocStringRobot(_model.App.Gameplay.Robots,robot.ID,$clone(robot,protocol.Robot));_model.App.Gameplay.Pilots=protocol.AssocStringPilot(_model.App.Gameplay.Pilots,robotPilot.ID,$clone(robotPilot,protocol.Pilot));}_ref=marks;_i=0;_keys=$keys(_ref);/* while (true) { */case 20:/* if (!(_i < _keys.length)) { break; } */if(!(_i<_keys.length)){$s=21;continue;}_entry=_ref[_keys[_i]];if(_entry===undefined){_i++;/* continue; */$s=20;continue;}targetRobotID=_entry.k;mark=$clone(_entry.v,protocol.HitMark);hitRate=mark.HitRate;rate=mark.Rate;_r$9=protocol.TryGetStringRobot(_model.App.Gameplay.Robots,targetRobotID);/* */$s=22;case 22:if($c){$c=false;_r$9=_r$9.$blk();}if(_r$9&&_r$9.$blk!==undefined){break s;}_tuple$6=_r$9;targetRobot=$clone(_tuple$6[0],protocol.Robot);err$2=_tuple$6[1];if(!$interfaceIsEqual(err$2,$ifaceNil)){$s=-1;return[origin,new protocol.BattleResult.ptr(sliceType$7.nil),err$2];}_r$10=protocol.TryGetStringPosition(_model.App.Gameplay.Positions,targetRobot.ID);/* */$s=23;case 23:if($c){$c=false;_r$10=_r$10.$blk();}if(_r$10&&_r$10.$blk!==undefined){break s;}_tuple$7=_r$10;targetRobotPos=$clone(_tuple$7[0],protocol.Position);err$2=_tuple$7[1];if(!$interfaceIsEqual(err$2,$ifaceNil)){$s=-1;return[origin,new protocol.BattleResult.ptr(sliceType$7.nil),err$2];}_r$11=protocol.TryGetStringPilot(_model.App.Gameplay.Pilots,targetRobot.PilotID);/* */$s=24;case 24:if($c){$c=false;_r$11=_r$11.$blk();}if(_r$11&&_r$11.$blk!==undefined){break s;}_tuple$8=_r$11;targetRobotPilot=$clone(_tuple$8[0],protocol.Pilot);err$2=_tuple$8[1];if(!$interfaceIsEqual(err$2,$ifaceNil)){$s=-1;return[origin,new protocol.BattleResult.ptr(sliceType$7.nil),err$2];}_r$12=rand.Float64();/* */$s=25;case 25:if($c){$c=false;_r$12=_r$12.$blk();}if(_r$12&&_r$12.$blk!==undefined){break s;}isHit=_r$12<hitRate;/* */if(isHit){$s=26;continue;}/* */$s=27;continue;/* if (isHit) { */case 26:_r$13=impl.QueryBattleDamage($clone(_model,types.Model),$clone(robot,protocol.Robot),$clone(robotPilot,protocol.Pilot),$clone(weapon,protocol.Weapon),$clone(targetRobot,protocol.Robot),$clone(targetRobotPilot,protocol.Pilot));/* */$s=29;case 29:if($c){$c=false;_r$13=_r$13.$blk();}if(_r$13&&_r$13.$blk!==undefined){break s;}_tuple$9=_r$13;damage=_tuple$9[0];err$3=_tuple$9[1];if(!$interfaceIsEqual(err$3,$ifaceNil)){$s=-1;return[origin,new protocol.BattleResult.ptr(sliceType$7.nil),err$3];}damage=damage*rate>>0;targetRobotAfter=$clone(targetRobot,protocol.Robot);targetRobotAfter.HP=helper.Max(0,targetRobotAfter.HP-damage>>0);battleResult.Animations=$append(battleResult.Animations,new protocol.BattleAnimation.ptr(5,$clone(targetRobot,protocol.Robot),$clone(targetRobotAfter,protocol.Robot),damage,$makeMap($String.keyFor,[{k:targetRobot.ID,v:$clone(targetRobotPos,protocol.Position)}]),arrayType$4.zero()));protocol.Robot.copy(targetRobot,targetRobotAfter);if(targetRobot.HP<=0){battleResult.Animations=$append(battleResult.Animations,new protocol.BattleAnimation.ptr(6,$clone(targetRobot,protocol.Robot),$clone(targetRobot,protocol.Robot),0,$makeMap($String.keyFor,[{k:targetRobot.ID,v:$clone(targetRobotPos,protocol.Position)}]),arrayType$4.zero()));}$s=28;continue;/* } else { */case 27:battleResult.Animations=$append(battleResult.Animations,new protocol.BattleAnimation.ptr(4,$clone(targetRobot,protocol.Robot),$clone(targetRobot,protocol.Robot),0,$makeMap($String.keyFor,[{k:targetRobot.ID,v:$clone(targetRobotPos,protocol.Position)}]),arrayType$4.zero()));/* } */case 28:if(targetRobot.HP<=0){_model.App.Gameplay.Robots=protocol.DissocStringRobot(_model.App.Gameplay.Robots,targetRobot.ID);_model.App.Gameplay.Positions=protocol.DissocStringPosition(_model.App.Gameplay.Positions,targetRobot.ID);_model.App.Gameplay.Tags=protocol.DissocStringTag(_model.App.Gameplay.Tags,targetRobot.ID);_model.App.Gameplay.Pilots=protocol.DissocStringPilot(_model.App.Gameplay.Pilots,targetRobot.PilotID);}else{_model.App.Gameplay.Robots=protocol.AssocStringRobot(_model.App.Gameplay.Robots,targetRobot.ID,$clone(targetRobot,protocol.Robot));_model.App.Gameplay.Pilots=protocol.AssocStringPilot(_model.App.Gameplay.Pilots,targetRobotPilot.ID,$clone(targetRobotPilot,protocol.Pilot));}_i++;/* } */$s=20;continue;case 21:_r$14=OnDisableBattleMenu($clone(ctx,uidata.UI));/* */$s=30;case 30:if($c){$c=false;_r$14=_r$14.$blk();}if(_r$14&&_r$14.$blk!==undefined){break s;}_tuple$10=_r$14;uidata.UI.copy(ctx,_tuple$10[0]);err=_tuple$10[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,new protocol.BattleResult.ptr(sliceType$7.nil),err];}_r$15=view.Render($clone(ctx,uidata.UI));/* */$s=31;case 31:if($c){$c=false;_r$15=_r$15.$blk();}if(_r$15&&_r$15.$blk!==undefined){break s;}_tuple$11=_r$15;uidata.UI.copy(ctx,_tuple$11[0]);err=_tuple$11[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,new protocol.BattleResult.ptr(sliceType$7.nil),err];}$r=view.RenderRobotBattle($clone(ctx,uidata.UI),$clone(battleResult,protocol.BattleResult));/* */$s=32;case 32:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}ctx.Model=(x=$clone(_model,Model),new x.constructor.elem(x));_r$16=view.Render($clone(ctx,uidata.UI));/* */$s=33;case 33:if($c){$c=false;_r$16=_r$16.$blk();}if(_r$16&&_r$16.$blk!==undefined){break s;}_tuple$12=_r$16;uidata.UI.copy(ctx,_tuple$12[0]);err=_tuple$12[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,new protocol.BattleResult.ptr(sliceType$7.nil),err];}$r=log.Log(protocol.LogCategoryPhase,"OnRobotLineBattle","end");/* */$s=34;case 34:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return[ctx,battleResult,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:OnRobotLineBattle};}$f._1=_1;$f._entry=_entry;$f._i=_i;$f._key=_key;$f._keys=_keys;$f._model=_model;$f._r=_r;$f._r$1=_r$1;$f._r$10=_r$10;$f._r$11=_r$11;$f._r$12=_r$12;$f._r$13=_r$13;$f._r$14=_r$14;$f._r$15=_r$15;$f._r$16=_r$16;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._r$7=_r$7;$f._r$8=_r$8;$f._r$9=_r$9;$f._ref=_ref;$f._robot=_robot;$f._robotAfter=_robotAfter;$f._robotPos=_robotPos;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$10=_tuple$10;$f._tuple$11=_tuple$11;$f._tuple$12=_tuple$12;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f._tuple$4=_tuple$4;$f._tuple$5=_tuple$5;$f._tuple$6=_tuple$6;$f._tuple$7=_tuple$7;$f._tuple$8=_tuple$8;$f._tuple$9=_tuple$9;$f._weapon=_weapon;$f._weapons=_weapons;$f.battleResult=battleResult;$f.cost=cost;$f.ctx=ctx;$f.damage=damage;$f.err=err;$f.err$1=err$1;$f.err$2=err$2;$f.err$3=err$3;$f.hitRate=hitRate;$f.isHit=isHit;$f.mark=mark;$f.marks=marks;$f.origin=origin;$f.rate=rate;$f.robot=robot;$f.robotID=robotID;$f.robotPilot=robotPilot;$f.robotPos=robotPos;$f.targetPosition=targetPosition;$f.targetRobot=targetRobot;$f.targetRobotAfter=targetRobotAfter;$f.targetRobotID=targetRobotID;$f.targetRobotPilot=targetRobotPilot;$f.targetRobotPos=targetRobotPos;$f.view=view;$f.weapon=weapon;$f.weaponID=weaponID;$f.weaponProto=weaponProto;$f.weapons=weapons;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};$pkg.OnRobotLineBattle=OnRobotLineBattle;OnRobotMove=function(origin,robotID,tree,pos){var _arg,_arg$1,_arg$2,_r,_r$1,_r$2,_tuple,_tuple$1,ctx,err,model,origin,pos,robotID,tree,view,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_arg=$f._arg;_arg$1=$f._arg$1;_arg$2=$f._arg$2;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_tuple=$f._tuple;_tuple$1=$f._tuple$1;ctx=$f.ctx;err=$f.err;model=$f.model;origin=$f.origin;pos=$f.pos;robotID=$f.robotID;tree=$f.tree;view=$f.view;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:err=$ifaceNil;ctx=$clone(origin,uidata.UI);view=def.View;model=$clone($clone($assertType(ctx.Model,Model),types.Model),types.Model);_r=impl.RobotMove($clone(model,types.Model),robotID,$clone(pos,protocol.Position));/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;types.Model.copy(model,_tuple[0]);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}_arg=$clone(ctx,uidata.UI);_arg$1=robotID;_r$1=helper.MoveRangeTree2Path(tree,$clone(pos,protocol.Position));/* */$s=2;case 2:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_arg$2=_r$1;$r=view.RenderRobotMove(_arg,_arg$1,_arg$2);/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}ctx.Model=(x=$clone(model,Model),new x.constructor.elem(x));_r$2=view.Render($clone(ctx,uidata.UI));/* */$s=4;case 4:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$1=_r$2;uidata.UI.copy(ctx,_tuple$1[0]);err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}$s=-1;return[ctx,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:OnRobotMove};}$f._arg=_arg;$f._arg$1=_arg$1;$f._arg$2=_arg$2;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f.ctx=ctx;$f.err=err;$f.model=model;$f.origin=origin;$f.pos=pos;$f.robotID=robotID;$f.tree=tree;$f.view=view;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};$pkg.OnRobotMove=OnRobotMove;OnRobotSkyGround=function(origin,robotID,sky){var _entry,_entry$1,_entry$2,_r,_r$1,_r$2,_r$3,_tuple,ctx,err,model,model$1,origin,robotID,sky,suitabiity,tag,tag$1,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_entry$1=$f._entry$1;_entry$2=$f._entry$2;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_tuple=$f._tuple;ctx=$f.ctx;err=$f.err;model=$f.model;model$1=$f.model$1;origin=$f.origin;robotID=$f.robotID;sky=$f.sky;suitabiity=$f.suitabiity;tag=$f.tag;tag$1=$f.tag$1;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:ctx=$clone(origin,uidata.UI);_r=common.QueryRobotSuitability($clone($clone($assertType(ctx.Model,Model),types.Model),types.Model),robotID,true);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;suitabiity=$clone(_tuple[0],arrayType$1);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}/* */if(sky===false){$s=3;continue;}/* */if(sky){$s=4;continue;}/* */$s=5;continue;/* if (sky === false) { */case 3:/* */if(suitabiity[0]===0){$s=7;continue;}/* */$s=8;continue;/* if (suitabiity[0] === 0) { */case 7:_r$1=fmt.Errorf("\xE4\xBD\xA0\xE7\x84\xA1\xE6\xB3\x95\xE5\x88\xB0\xE5\x9C\xB0\xE4\xB8\x8A. suitabiity(%v)",new sliceType$5([new arrayType$1(suitabiity)]));/* */$s=9;case 9:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}$s=-1;return[origin,_r$1];/* } */case 8:model=$clone($assertType(ctx.Model,Model),Model);tag=$clone((_entry=model.App.Gameplay.Tags[$String.keyFor(robotID)],_entry!==undefined?_entry.v:new protocol.Tag.ptr(0,false,false)),protocol.Tag);tag.Sky=sky;model.App.Gameplay.Tags=protocol.AssocStringTag(model.App.Gameplay.Tags,robotID,$clone(tag,protocol.Tag));ctx.Model=new model.constructor.elem(model);$s=6;continue;/* } else if (sky) { */case 4:/* */if(suitabiity[2]===0){$s=10;continue;}/* */$s=11;continue;/* if (suitabiity[2] === 0) { */case 10:_r$2=fmt.Errorf("\xE4\xBD\xA0\xE7\x84\xA1\xE6\xB3\x95\xE5\x88\xB0\xE7\xA9\xBA\xE4\xB8\xAD. suitabiity(%v)",new sliceType$5([new arrayType$1(suitabiity)]));/* */$s=12;case 12:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}$s=-1;return[origin,_r$2];/* } */case 11:model$1=$clone($assertType(ctx.Model,Model),Model);tag$1=$clone((_entry$1=model$1.App.Gameplay.Tags[$String.keyFor(robotID)],_entry$1!==undefined?_entry$1.v:new protocol.Tag.ptr(0,false,false)),protocol.Tag);tag$1.Sky=sky;model$1.App.Gameplay.Tags=protocol.AssocStringTag(model$1.App.Gameplay.Tags,robotID,$clone(tag$1,protocol.Tag));ctx.Model=new model$1.constructor.elem(model$1);$s=6;continue;/* } else { */case 5:_r$3=fmt.Errorf("[OnRobotSkyGround]unknown situation. sky(%v) tag(%+v)",new sliceType$5([new $Bool(sky),(x=(_entry$2=$assertType(ctx.Model,Model).App.Gameplay.Tags[$String.keyFor(robotID)],_entry$2!==undefined?_entry$2.v:new protocol.Tag.ptr(0,false,false)),new x.constructor.elem(x))]));/* */$s=13;case 13:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}$s=-1;return[origin,_r$3];/* } */case 6:case 2:$s=-1;return[ctx,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:OnRobotSkyGround};}$f._entry=_entry;$f._entry$1=_entry$1;$f._entry$2=_entry$2;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._tuple=_tuple;$f.ctx=ctx;$f.err=err;$f.model=model;$f.model$1=model$1;$f.origin=origin;$f.robotID=robotID;$f.sky=sky;$f.suitabiity=suitabiity;$f.tag=tag;$f.tag$1=tag$1;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};$pkg.OnRobotSkyGround=OnRobotSkyGround;OnRobotTransform=function(origin,robotID,transform){var _arg,_arg$1,_arg$2,_arg$3,_r,_r$1,_r$2,_r$3,_r$4,_r$5,_tuple,_tuple$1,ctx,err,hasTransform,model,origin,robot,robotID,robotProto,transform,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_arg=$f._arg;_arg$1=$f._arg$1;_arg$2=$f._arg$2;_arg$3=$f._arg$3;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_tuple=$f._tuple;_tuple$1=$f._tuple$1;ctx=$f.ctx;err=$f.err;hasTransform=$f.hasTransform;model=$f.model;origin=$f.origin;robot=$f.robot;robotID=$f.robotID;robotProto=$f.robotProto;transform=$f.transform;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:transform=[transform];_arg=protocol.LogCategoryPhase;_r=fmt.Sprintf("robotID(%v) transform(%v)",new sliceType$5([new $String(robotID),new $String(transform[0])]));/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_arg$1=_r;$r=log.Log(_arg,"OnRobotTransform",_arg$1);/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}ctx=$clone(origin,uidata.UI);_r$1=protocol.TryGetStringRobot($assertType(ctx.Model,Model).App.Gameplay.Robots,robotID);/* */$s=3;case 3:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple=_r$1;robot=$clone(_tuple[0],protocol.Robot);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,$ifaceNil];}/* */if(robot.Transform===transform[0]){$s=4;continue;}/* */$s=5;continue;/* if (robot.Transform === transform[0]) { */case 4:_arg$2=protocol.LogCategoryWarning;_r$2=fmt.Sprintf("already transform (%v)",new sliceType$5([new $String(robot.Transform)]));/* */$s=6;case 6:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_arg$3=_r$2;$r=log.Log(_arg$2,"OnRobotTransform",_arg$3);/* */$s=7;case 7:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return[origin,$ifaceNil];/* } */case 5:_r$3=data.TryGetStringRobotProto(data.GameData.Robot,robot.ProtoID);/* */$s=8;case 8:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_tuple$1=_r$3;robotProto=$clone(_tuple$1[0],data.RobotProto);err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,$ifaceNil];}_r$4=tool.FilterString(robotProto.Transform,function(transform){return function(curr){var curr;return curr===transform[0];};}(transform));/* */$s=9;case 9:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}hasTransform=_r$4.$length>0;/* */if(hasTransform===false){$s=10;continue;}/* */$s=11;continue;/* if (hasTransform === false) { */case 10:_r$5=fmt.Errorf("you can not transform(%v), you transform list is (%v)",new sliceType$5([new $String(transform[0]),robotProto.Transform]));/* */$s=12;case 12:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}$s=-1;return[origin,_r$5];/* } */case 11:robot.Transform=transform[0];robot.ProtoID=transform[0];model=$clone($assertType(ctx.Model,Model),Model);model.App.Gameplay.Robots=protocol.AssocStringRobot(model.App.Gameplay.Robots,robot.ID,$clone(robot,protocol.Robot));ctx.Model=new model.constructor.elem(model);$s=-1;return[ctx,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:OnRobotTransform};}$f._arg=_arg;$f._arg$1=_arg$1;$f._arg$2=_arg$2;$f._arg$3=_arg$3;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f.ctx=ctx;$f.err=err;$f.hasTransform=hasTransform;$f.model=model;$f.origin=origin;$f.robot=robot;$f.robotID=robotID;$f.robotProto=robotProto;$f.transform=transform;$f.$s=$s;$f.$r=$r;return $f;};$pkg.OnRobotTransform=OnRobotTransform;AutoCursorAtWeaponID=function(origin,menu2DID,weaponID){var _entry,_entry$1,_entry$2,_i,_keys,_r,_r$1,_r$2,_ref,ctx,function$1,gameplayPage,i,menu2DID,origin,unitMenu,weaponFunctionIdx,weaponID,weaponIdx,x,x$1,x$2,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_entry$1=$f._entry$1;_entry$2=$f._entry$2;_i=$f._i;_keys=$f._keys;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_ref=$f._ref;ctx=$f.ctx;function$1=$f.function$1;gameplayPage=$f.gameplayPage;i=$f.i;menu2DID=$f.menu2DID;origin=$f.origin;unitMenu=$f.unitMenu;weaponFunctionIdx=$f.weaponFunctionIdx;weaponID=$f.weaponID;weaponIdx=$f.weaponIdx;x=$f.x;x$1=$f.x$1;x$2=$f.x$2;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:ctx=$clone(origin,uidata.UI);gameplayPage=$clone((_entry=ctx.GameplayPages[$Int.keyFor(10)],_entry!==undefined?_entry.v:new uidata.GameplayPage.ptr(false,arrayType$3.zero(),arrayType.zero(),arrayType.zero(),sliceType.nil,false,false,false,false,sliceType$4.nil,sliceType$4.nil,sliceType$4.nil,false,new protocol.RobotMenu.ptr(false,"",sliceType$3.nil,false,false,false,false),new uidata.CursorInfo.ptr(new data.TerrainProto.ptr("","",arrayType$1.zero(),0,0),""))),uidata.GameplayPage);unitMenu=$clone((_entry$1=ctx.Menu2Ds[$Int.keyFor(menu2DID)],_entry$1!==undefined?_entry$1.v:new uidata.Menu2D.ptr(sliceType$3.nil,0,sliceType$1.nil)),uidata.Menu2D);weaponFunctionIdx=-1;weaponIdx=-1;_ref=gameplayPage.RobotMenu.RowFunctionMapping;_i=0;_keys=$keys(_ref);/* while (true) { */case 1:/* if (!(_i < _keys.length)) { break; } */if(!(_i<_keys.length)){$s=2;continue;}_entry$2=_ref[_keys[_i]];if(_entry$2===undefined){_i++;/* continue; */$s=1;continue;}i=_entry$2.k;function$1=_entry$2.v;/* */if(function$1===1){$s=3;continue;}/* */$s=4;continue;/* if (function$1 === 1) { */case 3:/* */if(i>=unitMenu.Options.$length){$s=5;continue;}/* */$s=6;continue;/* if (i >= unitMenu.Options.$length) { */case 5:_r=fmt.Errorf("[AutoCursorAtWeaponID] function idx(%v) more then Options",new sliceType$5([new $Int(i)]));/* */$s=7;case 7:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}$s=-1;return[origin,_r];/* } */case 6:weaponFunctionIdx=i;weaponIdx=tool.FindStringIndex((x=unitMenu.Options,i<0||i>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+i]),weaponID);/* } */case 4:_i++;/* } */$s=1;continue;case 2:/* */if(weaponFunctionIdx===-1){$s=8;continue;}/* */$s=9;continue;/* if (weaponFunctionIdx === -1) { */case 8:_r$1=fmt.Errorf("[AutoCursorAtWeaponID] weaponFunctionIdx(%v) not found.",new sliceType$5([new $Int(weaponFunctionIdx)]));/* */$s=10;case 10:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}$s=-1;return[origin,_r$1];/* } */case 9:/* */if(weaponIdx===-1){$s=11;continue;}/* */$s=12;continue;/* if (weaponIdx === -1) { */case 11:_r$2=fmt.Errorf("[AutoCursorAtWeaponID] weaponID(%v) not found in Options(%v).",new sliceType$5([new $String(weaponID),unitMenu.Options]));/* */$s=13;case 13:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}$s=-1;return[origin,_r$2];/* } */case 12:unitMenu.Cursor1=weaponFunctionIdx;x$1=unitMenu.Cursor2,x$2=unitMenu.Cursor1,x$2<0||x$2>=x$1.$length?($throwRuntimeError("index out of range"),undefined):x$1.$array[x$1.$offset+x$2]=weaponIdx;ctx.Menu2Ds=uidata.AssocIntMenu2D(ctx.Menu2Ds,menu2DID,$clone(unitMenu,uidata.Menu2D));$s=-1;return[ctx,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:AutoCursorAtWeaponID};}$f._entry=_entry;$f._entry$1=_entry$1;$f._entry$2=_entry$2;$f._i=_i;$f._keys=_keys;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._ref=_ref;$f.ctx=ctx;$f.function$1=function$1;$f.gameplayPage=gameplayPage;$f.i=i;$f.menu2DID=menu2DID;$f.origin=origin;$f.unitMenu=unitMenu;$f.weaponFunctionIdx=weaponFunctionIdx;$f.weaponID=weaponID;$f.weaponIdx=weaponIdx;$f.x=x;$f.x$1=x$1;$f.x$2=x$2;$f.$s=$s;$f.$r=$r;return $f;};$pkg.AutoCursorAtWeaponID=AutoCursorAtWeaponID;OnSingleBattleMenuPhase=function(origin,isPlayerTurn,robotID,weaponID,targetRobotID){var _1,_2,_3,_entry,_entry$1,_entry$2,_entry$3,_entry$4,_entry$5,_entry$6,_entry$7,_entry$8,_r,_r$1,_r$10,_r$11,_r$12,_r$13,_r$14,_r$2,_r$3,_r$4,_r$5,_r$6,_r$7,_r$8,_r$9,_tmp,_tmp$1,_tmp$2,_tmp$3,_tuple,_tuple$1,_tuple$10,_tuple$11,_tuple$12,_tuple$13,_tuple$14,_tuple$2,_tuple$3,_tuple$4,_tuple$5,_tuple$6,_tuple$7,_tuple$8,_tuple$9,battleMenus,cancel,cancel$1,ctx,err,gameplayPage,gameplayPage$1,has,has$1,hasBattleMenu,invalidStr,invalidStr$1,isPlayerTurn,origin,playerAction,playerWeaponID,robotID,selection,selection$1,tab,tab$1,targetRobotAction,targetRobotAction$1,targetRobotID,targetRobotWeapon,targetRobotWeaponID,topMenu,topMenu$1,view,weaponID,weaponID$1,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_2=$f._2;_3=$f._3;_entry=$f._entry;_entry$1=$f._entry$1;_entry$2=$f._entry$2;_entry$3=$f._entry$3;_entry$4=$f._entry$4;_entry$5=$f._entry$5;_entry$6=$f._entry$6;_entry$7=$f._entry$7;_entry$8=$f._entry$8;_r=$f._r;_r$1=$f._r$1;_r$10=$f._r$10;_r$11=$f._r$11;_r$12=$f._r$12;_r$13=$f._r$13;_r$14=$f._r$14;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_r$7=$f._r$7;_r$8=$f._r$8;_r$9=$f._r$9;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tmp$2=$f._tmp$2;_tmp$3=$f._tmp$3;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$10=$f._tuple$10;_tuple$11=$f._tuple$11;_tuple$12=$f._tuple$12;_tuple$13=$f._tuple$13;_tuple$14=$f._tuple$14;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;_tuple$4=$f._tuple$4;_tuple$5=$f._tuple$5;_tuple$6=$f._tuple$6;_tuple$7=$f._tuple$7;_tuple$8=$f._tuple$8;_tuple$9=$f._tuple$9;battleMenus=$f.battleMenus;cancel=$f.cancel;cancel$1=$f.cancel$1;ctx=$f.ctx;err=$f.err;gameplayPage=$f.gameplayPage;gameplayPage$1=$f.gameplayPage$1;has=$f.has;has$1=$f.has$1;hasBattleMenu=$f.hasBattleMenu;invalidStr=$f.invalidStr;invalidStr$1=$f.invalidStr$1;isPlayerTurn=$f.isPlayerTurn;origin=$f.origin;playerAction=$f.playerAction;playerWeaponID=$f.playerWeaponID;robotID=$f.robotID;selection=$f.selection;selection$1=$f.selection$1;tab=$f.tab;tab$1=$f.tab$1;targetRobotAction=$f.targetRobotAction;targetRobotAction$1=$f.targetRobotAction$1;targetRobotID=$f.targetRobotID;targetRobotWeapon=$f.targetRobotWeapon;targetRobotWeaponID=$f.targetRobotWeaponID;topMenu=$f.topMenu;topMenu$1=$f.topMenu$1;view=$f.view;weaponID=$f.weaponID;weaponID$1=$f.weaponID$1;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=log.Log(protocol.LogCategoryPhase,"OnSingleBattleMenuPhase","start");/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}err=$ifaceNil;ctx=$clone(origin,uidata.UI);view=def.View;ctx.PhaseMark=0;_r=OnEnableBattleMenu($clone(ctx,uidata.UI),robotID,weaponID,targetRobotID);/* */$s=2;case 2:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;uidata.UI.copy(ctx,_tuple[0]);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}/* */if(isPlayerTurn){$s=3;continue;}/* */$s=4;continue;/* if (isPlayerTurn) { */case 3:_r$1=view.Render($clone(ctx,uidata.UI));/* */$s=6;case 6:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$1=_r$1;uidata.UI.copy(ctx,_tuple$1[0]);err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}_r$2=AutoCursorAtWeaponID($clone(ctx,uidata.UI),31,weaponID);/* */$s=7;case 7:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$2=_r$2;uidata.UI.copy(ctx,_tuple$2[0]);err=_tuple$2[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}_r$3=view.Render($clone(ctx,uidata.UI));/* */$s=8;case 8:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_tuple$3=_r$3;uidata.UI.copy(ctx,_tuple$3[0]);err=_tuple$3[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}/* PLAYER_MENU2D_STEP: */case 9:_tmp=false;_tmp$1=false;cancel=_tmp;tab=_tmp$1;selection="";/* while (true) { */case 10:_r$4=view.Render($clone(ctx,uidata.UI));/* */$s=12;case 12:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}_tuple$4=_r$4;uidata.UI.copy(ctx,_tuple$4[0]);err=_tuple$4[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}_r$5=common$1.Menu2DStep($clone(ctx,uidata.UI),10,31);/* */$s=13;case 13:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}_tuple$5=_r$5;uidata.UI.copy(ctx,_tuple$5[0]);selection=_tuple$5[1];cancel=_tuple$5[2];tab=_tuple$5[3];err=_tuple$5[4];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}if(tab){/* continue; */$s=10;continue;}if(cancel){$s=-1;return[origin,cancel,$ifaceNil];}/* break; */$s=11;continue;/* } */$s=10;continue;case 11:_r$6=view.Render($clone(ctx,uidata.UI));/* */$s=14;case 14:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}_tuple$6=_r$6;uidata.UI.copy(ctx,_tuple$6[0]);err=_tuple$6[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}topMenu=$clone((_entry=ctx.Menu2Ds[$Int.keyFor(31)],_entry!==undefined?_entry.v:new uidata.Menu2D.ptr(sliceType$3.nil,0,sliceType$1.nil)),uidata.Menu2D);gameplayPage=$clone((_entry$1=ctx.GameplayPages[$Int.keyFor(10)],_entry$1!==undefined?_entry$1.v:new uidata.GameplayPage.ptr(false,arrayType$3.zero(),arrayType.zero(),arrayType.zero(),sliceType.nil,false,false,false,false,sliceType$4.nil,sliceType$4.nil,sliceType$4.nil,false,new protocol.RobotMenu.ptr(false,"",sliceType$3.nil,false,false,false,false),new uidata.CursorInfo.ptr(new data.TerrainProto.ptr("","",arrayType$1.zero(),0,0),""))),uidata.GameplayPage);_1=(_entry$2=gameplayPage.RobotMenu.RowFunctionMapping[$Int.keyFor(topMenu.Cursor1)],_entry$2!==undefined?_entry$2.v:0);/* */if(_1===1){$s=16;continue;}/* */$s=17;continue;/* if (_1 === (1)) { */case 16:weaponID$1=selection;_tuple$7=(_entry$3=gameplayPage.RobotMenu.InvalidWeapons[$String.keyFor(weaponID$1)],_entry$3!==undefined?[_entry$3.v,true]:["",false]);invalidStr=_tuple$7[0];has=_tuple$7[1];/* */if(has){$s=19;continue;}/* */$s=20;continue;/* if (has) { */case 19:$r=view.Alert(invalidStr);/* */$s=21;case 21:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* goto PLAYER_MENU2D_STEP */$s=9;continue;/* } */case 20:_tuple$8=(_entry$4=ctx.BattleMenus[$Int.keyFor(33)],_entry$4!==undefined?[_entry$4.v,true]:[new uidata.BattleMenu.ptr(new uidata.BattleMenuSlot.ptr(new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),new protocol.Pilot.ptr("","","",0,0,0,0,0,0,0,0,0,0,0),0,new protocol.Weapon.ptr("","",0,"",0,arrayType.zero(),0,0,arrayType$1.zero(),sliceType.nil,"","",0,0,0,0),new structType.ptr(0)),new uidata.BattleMenuSlot.ptr(new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),new protocol.Pilot.ptr("","","",0,0,0,0,0,0,0,0,0,0,0),0,new protocol.Weapon.ptr("","",0,"",0,arrayType.zero(),0,0,arrayType$1.zero(),sliceType.nil,"","",0,0,0,0),new structType.ptr(0))),false]);battleMenus=$clone(_tuple$8[0],uidata.BattleMenu);hasBattleMenu=_tuple$8[1];/* */if(hasBattleMenu===false){$s=22;continue;}/* */$s=23;continue;/* if (hasBattleMenu === false) { */case 22:_r$7=fmt.Errorf("\xE6\x88\xB0\xE9\xAC\xA5\xE9\x9A\x8E\xE6\xAE\xB5\xE6\x99\x82uidata.BattleMenuUnitBattleMenu\xE5\xBF\x85\xE9\xA0\x88\xE5\xAD\x98\xE5\x9C\xA8",new sliceType$5([]));/* */$s=24;case 24:if($c){$c=false;_r$7=_r$7.$blk();}if(_r$7&&_r$7.$blk!==undefined){break s;}$s=-1;return[origin,false,_r$7];/* } */case 23:targetRobotAction=battleMenus.Right.BattleAction;targetRobotWeapon=$clone(battleMenus.Right.Weapon,protocol.Weapon);_r$8=OnRobotBattle($clone(ctx,uidata.UI),robotID,weaponID$1,targetRobotID,targetRobotAction,targetRobotWeapon.ID);/* */$s=25;case 25:if($c){$c=false;_r$8=_r$8.$blk();}if(_r$8&&_r$8.$blk!==undefined){break s;}_tuple$9=_r$8;uidata.UI.copy(ctx,_tuple$9[0]);err=_tuple$9[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}$s=18;continue;/* } else { */case 17:_r$9=fmt.Errorf("\xE7\x8E\xA9\xE5\xAE\xB6\xE5\x9B\x9E\xE5\x90\x88\xE6\x99\x82\xE5\xBF\x85\xE9\xA0\x88\xE5\x8F\xAA\xE6\x9C\x89\xE6\xAD\xA6\xE5\x99\xA8\xE9\x81\xB8\xE9\xA0\x85",new sliceType$5([]));/* */$s=26;case 26:if($c){$c=false;_r$9=_r$9.$blk();}if(_r$9&&_r$9.$blk!==undefined){break s;}$s=-1;return[origin,false,_r$9];/* } */case 18:case 15:$s=5;continue;/* } else { */case 4:/* ENEMY_MENU2D_STEP: */case 27:_tmp$2=false;_tmp$3=false;cancel$1=_tmp$2;tab$1=_tmp$3;selection$1="";/* while (true) { */case 28:_r$10=view.Render($clone(ctx,uidata.UI));/* */$s=30;case 30:if($c){$c=false;_r$10=_r$10.$blk();}if(_r$10&&_r$10.$blk!==undefined){break s;}_tuple$10=_r$10;uidata.UI.copy(ctx,_tuple$10[0]);err=_tuple$10[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}_r$11=common$1.Menu2DStep($clone(ctx,uidata.UI),10,31);/* */$s=31;case 31:if($c){$c=false;_r$11=_r$11.$blk();}if(_r$11&&_r$11.$blk!==undefined){break s;}_tuple$11=_r$11;uidata.UI.copy(ctx,_tuple$11[0]);selection$1=_tuple$11[1];cancel$1=_tuple$11[2];tab$1=_tuple$11[3];err=_tuple$11[4];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}/* */if(tab$1){$s=32;continue;}/* */$s=33;continue;/* if (tab$1) { */case 32:/* continue; */$s=28;continue;/* } */case 33:/* */if(cancel$1){$s=34;continue;}/* */$s=35;continue;/* if (cancel$1) { */case 34:$r=log.Log(protocol.LogCategoryInfo,"BattleMenuPhase","\xE6\x95\xB5\xE4\xBA\xBA\xE5\x9B\x9E\xE5\x90\x88\xE4\xB8\x8D\xE8\x83\xBD\xE5\x8F\x96\xE6\xB6\x88");/* */$s=36;case 36:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* continue; */$s=28;continue;/* } */case 35:/* break; */$s=29;continue;/* } */$s=28;continue;case 29:topMenu$1=$clone((_entry$5=ctx.Menu2Ds[$Int.keyFor(31)],_entry$5!==undefined?_entry$5.v:new uidata.Menu2D.ptr(sliceType$3.nil,0,sliceType$1.nil)),uidata.Menu2D);gameplayPage$1=$clone((_entry$6=ctx.GameplayPages[$Int.keyFor(10)],_entry$6!==undefined?_entry$6.v:new uidata.GameplayPage.ptr(false,arrayType$3.zero(),arrayType.zero(),arrayType.zero(),sliceType.nil,false,false,false,false,sliceType$4.nil,sliceType$4.nil,sliceType$4.nil,false,new protocol.RobotMenu.ptr(false,"",sliceType$3.nil,false,false,false,false),new uidata.CursorInfo.ptr(new data.TerrainProto.ptr("","",arrayType$1.zero(),0,0),""))),uidata.GameplayPage);playerAction=0;playerWeaponID="";_2=(_entry$7=gameplayPage$1.RobotMenu.RowFunctionMapping[$Int.keyFor(topMenu$1.Cursor1)],_entry$7!==undefined?_entry$7.v:0);/* */if(_2===1){$s=38;continue;}/* */$s=39;continue;/* if (_2 === (1)) { */case 38:playerWeaponID=selection$1;playerAction=1;$s=40;continue;/* } else { */case 39:_3=selection$1;/* */if(_3==="\xE9\x98\xB2\xE7\xA6\xA6"){$s=42;continue;}/* */if(_3==="\xE9\x96\x83\xE9\x81\xBF"){$s=43;continue;}/* */$s=44;continue;/* if (_3 === ("\xE9\x98\xB2\xE7\xA6\xA6")) { */case 42:playerAction=2;$s=45;continue;/* } else if (_3 === ("\xE9\x96\x83\xE9\x81\xBF")) { */case 43:playerAction=3;$s=45;continue;/* } else { */case 44:_r$12=fmt.Errorf("\xE6\x9C\xAA\xE7\x9F\xA5\xE7\x9A\x84\xE9\x81\xB8\xE9\xA0\x85(%v)",new sliceType$5([new $String(selection$1)]));/* */$s=46;case 46:if($c){$c=false;_r$12=_r$12.$blk();}if(_r$12&&_r$12.$blk!==undefined){break s;}$s=-1;return[origin,false,_r$12];/* } */case 45:case 41:/* } */case 40:case 37:_tuple$12=(_entry$8=gameplayPage$1.RobotMenu.InvalidWeapons[$String.keyFor(playerWeaponID)],_entry$8!==undefined?[_entry$8.v,true]:["",false]);invalidStr$1=_tuple$12[0];has$1=_tuple$12[1];/* */if(has$1){$s=47;continue;}/* */$s=48;continue;/* if (has$1) { */case 47:$r=view.Alert(invalidStr$1);/* */$s=49;case 49:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* goto ENEMY_MENU2D_STEP */$s=27;continue;/* } */case 48:targetRobotAction$1=playerAction;targetRobotWeaponID=playerWeaponID;_r$13=OnRobotBattle($clone(ctx,uidata.UI),robotID,weaponID,targetRobotID,targetRobotAction$1,targetRobotWeaponID);/* */$s=50;case 50:if($c){$c=false;_r$13=_r$13.$blk();}if(_r$13&&_r$13.$blk!==undefined){break s;}_tuple$13=_r$13;uidata.UI.copy(ctx,_tuple$13[0]);err=_tuple$13[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}/* } */case 5:_r$14=OnDisableBattleMenu($clone(ctx,uidata.UI));/* */$s=51;case 51:if($c){$c=false;_r$14=_r$14.$blk();}if(_r$14&&_r$14.$blk!==undefined){break s;}_tuple$14=_r$14;uidata.UI.copy(ctx,_tuple$14[0]);err=_tuple$14[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}$r=log.Log(protocol.LogCategoryPhase,"OnSingleBattleMenuPhase","end");/* */$s=52;case 52:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return[ctx,false,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:OnSingleBattleMenuPhase};}$f._1=_1;$f._2=_2;$f._3=_3;$f._entry=_entry;$f._entry$1=_entry$1;$f._entry$2=_entry$2;$f._entry$3=_entry$3;$f._entry$4=_entry$4;$f._entry$5=_entry$5;$f._entry$6=_entry$6;$f._entry$7=_entry$7;$f._entry$8=_entry$8;$f._r=_r;$f._r$1=_r$1;$f._r$10=_r$10;$f._r$11=_r$11;$f._r$12=_r$12;$f._r$13=_r$13;$f._r$14=_r$14;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._r$7=_r$7;$f._r$8=_r$8;$f._r$9=_r$9;$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tmp$2=_tmp$2;$f._tmp$3=_tmp$3;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$10=_tuple$10;$f._tuple$11=_tuple$11;$f._tuple$12=_tuple$12;$f._tuple$13=_tuple$13;$f._tuple$14=_tuple$14;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f._tuple$4=_tuple$4;$f._tuple$5=_tuple$5;$f._tuple$6=_tuple$6;$f._tuple$7=_tuple$7;$f._tuple$8=_tuple$8;$f._tuple$9=_tuple$9;$f.battleMenus=battleMenus;$f.cancel=cancel;$f.cancel$1=cancel$1;$f.ctx=ctx;$f.err=err;$f.gameplayPage=gameplayPage;$f.gameplayPage$1=gameplayPage$1;$f.has=has;$f.has$1=has$1;$f.hasBattleMenu=hasBattleMenu;$f.invalidStr=invalidStr;$f.invalidStr$1=invalidStr$1;$f.isPlayerTurn=isPlayerTurn;$f.origin=origin;$f.playerAction=playerAction;$f.playerWeaponID=playerWeaponID;$f.robotID=robotID;$f.selection=selection;$f.selection$1=selection$1;$f.tab=tab;$f.tab$1=tab$1;$f.targetRobotAction=targetRobotAction;$f.targetRobotAction$1=targetRobotAction$1;$f.targetRobotID=targetRobotID;$f.targetRobotWeapon=targetRobotWeapon;$f.targetRobotWeaponID=targetRobotWeaponID;$f.topMenu=topMenu;$f.topMenu$1=topMenu$1;$f.view=view;$f.weaponID=weaponID;$f.weaponID$1=weaponID$1;$f.$s=$s;$f.$r=$r;return $f;};$pkg.OnSingleBattleMenuPhase=OnSingleBattleMenuPhase;Model.methods=[{prop:"BuyRobot",name:"BuyRobot",pkg:"",typ:$funcType([$String],[protocol.IModel,$error],false)},{prop:"BuyPilot",name:"BuyPilot",pkg:"",typ:$funcType([$String],[protocol.IModel,$error],false)},{prop:"BuyWeapon",name:"BuyWeapon",pkg:"",typ:$funcType([$String],[protocol.IModel,$error],false)},{prop:"BuyComponent",name:"BuyComponent",pkg:"",typ:$funcType([$String],[protocol.IModel,$error],false)},{prop:"AssocRobotPilot",name:"AssocRobotPilot",pkg:"",typ:$funcType([$String,$String],[protocol.IModel,$error],false)},{prop:"DissocRobotPilot",name:"DissocRobotPilot",pkg:"",typ:$funcType([$String],[protocol.IModel,$error],false)},{prop:"AssocWeaponRobot",name:"AssocWeaponRobot",pkg:"",typ:$funcType([$String,$String],[protocol.IModel,$error],false)},{prop:"DissocWeaponRobot",name:"DissocWeaponRobot",pkg:"",typ:$funcType([$String],[protocol.IModel,$error],false)},{prop:"AssocComponentRobot",name:"AssocComponentRobot",pkg:"",typ:$funcType([$String,$String],[protocol.IModel,$error],false)},{prop:"DissocComponentRobot",name:"DissocComponentRobot",pkg:"",typ:$funcType([$String],[protocol.IModel,$error],false)},{prop:"OnSingleBattleMenuPhase",name:"OnSingleBattleMenuPhase",pkg:"",typ:$funcType([$emptyInterface,$Bool,$String,$String,$String],[$emptyInterface,$Bool,$error],false)},{prop:"OnLineBattleMenuPhase",name:"OnLineBattleMenuPhase",pkg:"",typ:$funcType([$emptyInterface,$Bool,$String,$String,protocol.Position],[$emptyInterface,$Bool,$error],false)},{prop:"OnPlayerTurnStart",name:"OnPlayerTurnStart",pkg:"",typ:$funcType([$emptyInterface,protocol.Player],[$emptyInterface,$error],false)},{prop:"OnPlayerTurnEnd",name:"OnPlayerTurnEnd",pkg:"",typ:$funcType([$emptyInterface,protocol.Player],[$emptyInterface,$error],false)},{prop:"OnEnemyTurnPhase",name:"OnEnemyTurnPhase",pkg:"",typ:$funcType([$emptyInterface],[$emptyInterface,$Bool,$error],false)},{prop:"OnRobotTransform",name:"OnRobotTransform",pkg:"",typ:$funcType([$emptyInterface,$String,$String],[$emptyInterface,$error],false)},{prop:"OnRobotSkyGround",name:"OnRobotSkyGround",pkg:"",typ:$funcType([$emptyInterface,$String,$Bool],[$emptyInterface,$error],false)},{prop:"OnRobotMove",name:"OnRobotMove",pkg:"",typ:$funcType([$emptyInterface,$String,astar.NodeMap,protocol.Position],[$emptyInterface,$error],false)},{prop:"OnRobotDone",name:"OnRobotDone",pkg:"",typ:$funcType([$emptyInterface,$String],[$emptyInterface,$error],false)},{prop:"OnEnableRobotMenu",name:"OnEnableRobotMenu",pkg:"",typ:$funcType([$emptyInterface,$String],[$emptyInterface,$error],false)},{prop:"OnDisableRobotMenu",name:"OnDisableRobotMenu",pkg:"",typ:$funcType([$emptyInterface],[$emptyInterface,$error],false)},{prop:"OnEnableBattleMenu",name:"OnEnableBattleMenu",pkg:"",typ:$funcType([$emptyInterface,$String,$String,$String],[$emptyInterface,$error],false)},{prop:"OnDisableBattleMenu",name:"OnDisableBattleMenu",pkg:"",typ:$funcType([$emptyInterface],[$emptyInterface,$error],false)},{prop:"OnClickSystemMenu",name:"OnClickSystemMenu",pkg:"",typ:$funcType([$emptyInterface,$String],[$emptyInterface,$error],false)},{prop:"ObservePage",name:"ObservePage",pkg:"",typ:$funcType([$emptyInterface,$Int],[$emptyInterface,$error],false)},{prop:"OnEventPlayerTurnPhase",name:"OnEventPlayerTurnPhase",pkg:"",typ:$funcType([$emptyInterface,$emptyInterface],[$emptyInterface,$error],false)},{prop:"OnApplyPassLevel",name:"OnApplyPassLevel",pkg:"",typ:$funcType([$emptyInterface],[$emptyInterface,$error],false)},{prop:"ObserveRobot",name:"ObserveRobot",pkg:"",typ:$funcType([protocol.Robot,$Bool],[protocol.Robot,$error],false)},{prop:"New",name:"New",pkg:"",typ:$funcType([$emptyInterface],[protocol.IModel,$error],false)},{prop:"Save",name:"Save",pkg:"",typ:$funcType([],[$error],false)},{prop:"Load",name:"Load",pkg:"",typ:$funcType([],[protocol.IModel,$error],false)},{prop:"QueryActivePlayer",name:"QueryActivePlayer",pkg:"",typ:$funcType([],[protocol.Player,$error],false)},{prop:"NextPlayer",name:"NextPlayer",pkg:"",typ:$funcType([],[protocol.IModel,$error],false)},{prop:"State",name:"State",pkg:"",typ:$funcType([],[$String],false)},{prop:"StateReason",name:"StateReason",pkg:"",typ:$funcType([],[$emptyInterface],false)},{prop:"QueryUnitsByRegion",name:"QueryUnitsByRegion",pkg:"",typ:$funcType([protocol.Position,protocol.Position],[sliceType],false)},{prop:"QueryUnitByPosition",name:"QueryUnitByPosition",pkg:"",typ:$funcType([protocol.Position],[$String],false)},{prop:"SetMoveRange",name:"SetMoveRange",pkg:"",typ:$funcType([sliceType$4],[protocol.IModel],false)},{prop:"GetMoveRange",name:"GetMoveRange",pkg:"",typ:$funcType([],[sliceType$4],false)},{prop:"QueryMoveRangeTree",name:"QueryMoveRangeTree",pkg:"",typ:$funcType([$String],[astar.NodeMap,$error],false)},{prop:"QueryMoveCount",name:"QueryMoveCount",pkg:"",typ:$funcType([$String],[$Int],false)},{prop:"SetCursor",name:"SetCursor",pkg:"",typ:$funcType([protocol.Position],[protocol.IModel],false)},{prop:"GetCursor",name:"GetCursor",pkg:"",typ:$funcType([],[protocol.Position],false)}];Model.init("",[{prop:"App",name:"App",embedded:false,exported:true,typ:types.App,tag:""}]);$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=ai.$init();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=common.$init();/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=impl.$init();/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=lobby.$init();/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=types.$init();/* */$s=5;case 5:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=common$1.$init();/* */$s=6;case 6:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=tool.$init();/* */$s=7;case 7:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=data.$init();/* */$s=8;case 8:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=def.$init();/* */$s=9;case 9:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=helper.$init();/* */$s=10;case 10:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=protocol.$init();/* */$s=11;case 11:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=uidata.$init();/* */$s=12;case 12:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=fmt.$init();/* */$s=13;case 13:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=mgl64.$init();/* */$s=14;case 14:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=math.$init();/* */$s=15;case 15:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=rand.$init();/* */$s=16;case 16:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=strings.$init();/* */$s=17;case 17:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=time.$init();/* */$s=18;case 18:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=astar.$init();/* */$s=19;case 19:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=log.$init();/* */$s=20;case 20:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$pkg.DefaultModel=new Model.ptr(new types.App.ptr(0,0,new types.Gameplay.ptr(new types.AIModel.ptr(false,false),"","",sliceType.nil,sliceType$2.nil,arrayType.zero(),sliceType.nil,false,false,false,false,false,false,false,new protocol.RobotMenu.ptr(false,"",sliceType$3.nil,false,false,false,false),new protocol.BattleMenu.ptr(false,new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),new protocol.Pilot.ptr("","","",0,0,0,0,0,0,0,0,0,0,0),new protocol.Weapon.ptr("","",0,"",0,arrayType.zero(),0,0,arrayType$1.zero(),sliceType.nil,"","",0,0,0,0),new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$1.zero(),0,false),new protocol.Pilot.ptr("","","",0,0,0,0,0,0,0,0,0,0,0)),sliceType$4.nil,sliceType$4.nil,"",$ifaceNil),new types.Lobby.ptr(false,false,false,false,false,false,false,false),0));/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["app/page/gameplay"]=function(){var $pkg={},$init,common,data,def,helper,protocol,uidata,fmt,log,sliceType,arrayType,arrayType$1,arrayType$2,sliceType$1,sliceType$2,sliceType$3,arrayType$3,structType,sliceType$4,mapType,sliceType$5,EnemyTurnPhase,GameLoop,PlayerTurnPhase,RobotMovePhase,SelectWeaponTargetPhase,SystemMenuPhase,TurnPhase,CreateItemMenu,UnitMenuPhase;common=$packages["app/page/common"];data=$packages["app/tool/data"];def=$packages["app/tool/def"];helper=$packages["app/tool/helper"];protocol=$packages["app/tool/protocol"];uidata=$packages["app/tool/uidata"];fmt=$packages["fmt"];log=$packages["tool/log"];sliceType=$sliceType(helper.UIReducer);arrayType=$arrayType($Int,20);arrayType$1=$arrayType(arrayType,20);arrayType$2=$arrayType($Int,2);sliceType$1=$sliceType($String);sliceType$2=$sliceType(protocol.Position);sliceType$3=$sliceType(sliceType$1);arrayType$3=$arrayType($Float64,4);structType=$structType("",[]);sliceType$4=$sliceType($emptyInterface);mapType=$mapType($String,protocol.Position);sliceType$5=$sliceType($Int);EnemyTurnPhase=function(origin){var _r,_tuple,cancel,ctx,err,origin,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tuple=$f._tuple;cancel=$f.cancel;ctx=$f.ctx;err=$f.err;origin=$f.origin;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:err=$ifaceNil;cancel=false;ctx=new origin.constructor.elem(origin);_r=origin.Model.OnEnemyTurnPhase(ctx);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;ctx=_tuple[0];cancel=_tuple[1];err=_tuple[2];$s=-1;return[$assertType(ctx,uidata.UI),cancel,err];/* */}return;}if($f===undefined){$f={$blk:EnemyTurnPhase};}$f._r=_r;$f._tuple=_tuple;$f.cancel=cancel;$f.ctx=ctx;$f.err=err;$f.origin=origin;$f.$s=$s;$f.$r=$r;return $f;};$pkg.EnemyTurnPhase=EnemyTurnPhase;GameLoop=function(origin){var _r,_r$1,_r$2,_r$3,_r$4,_r$5,_tuple,_tuple$1,_tuple$2,_tuple$3,_tuple$4,activePlayer,cancel,ctx,ctxObj,err,origin,view,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;_tuple$4=$f._tuple$4;activePlayer=$f.activePlayer;cancel=$f.cancel;ctx=$f.ctx;ctxObj=$f.ctxObj;err=$f.err;origin=$f.origin;view=$f.view;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=log.Log(protocol.LogCategoryPhase,"GameLoop","start");/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}err=$ifaceNil;ctx=$clone(origin,uidata.UI);view=def.View;ctx.Actives=uidata.AssocIntBool(ctx.Actives,10,true);_r=view.Render($clone(ctx,uidata.UI));/* */$s=2;case 2:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;uidata.UI.copy(ctx,_tuple[0]);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}/* while (true) { */case 3:activePlayer=new protocol.Player.ptr("","");_r$1=ctx.Model.QueryActivePlayer();/* */$s=5;case 5:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$1=_r$1;protocol.Player.copy(activePlayer,_tuple$1[0]);err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}cancel=false;_r$2=TurnPhase($clone(ctx,uidata.UI),$clone(activePlayer,protocol.Player));/* */$s=6;case 6:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$2=_r$2;uidata.UI.copy(ctx,_tuple$2[0]);cancel=_tuple$2[1];err=_tuple$2[2];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}if(cancel){/* break; */$s=4;continue;}_r$3=ctx.Model.State();/* */$s=9;case 9:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}/* */if(_r$3==="GameplayModelStateDone"){$s=7;continue;}/* */$s=8;continue;/* if (_r$3 === "GameplayModelStateDone") { */case 7:/* break; */$s=4;continue;/* } */case 8:_r$4=ctx.Model.NextPlayer();/* */$s=10;case 10:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}_tuple$3=_r$4;ctx.Model=_tuple$3[0];err=_tuple$3[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}/* } */$s=3;continue;case 4:_r$5=ctx.Model.OnApplyPassLevel(new ctx.constructor.elem(ctx));/* */$s=11;case 11:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}_tuple$4=_r$5;ctxObj=_tuple$4[0];err=_tuple$4[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,err];}uidata.UI.copy(ctx,$assertType(ctxObj,uidata.UI));ctx.Actives=uidata.AssocIntBool(ctx.Actives,10,false);$r=log.Log(protocol.LogCategoryPhase,"GameLoop","end");/* */$s=12;case 12:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return[ctx,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:GameLoop};}$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f._tuple$4=_tuple$4;$f.activePlayer=activePlayer;$f.cancel=cancel;$f.ctx=ctx;$f.ctxObj=ctxObj;$f.err=err;$f.origin=origin;$f.view=view;$f.$s=$s;$f.$r=$r;return $f;};$pkg.GameLoop=GameLoop;PlayerTurnPhase=function(origin){var _1,_2,_entry,_entry$1,_i,_keys,_r,_r$1,_r$2,_r$3,_r$4,_r$5,_r$6,_r$7,_ref,_ref$1,_tuple,_tuple$1,_tuple$2,_tuple$3,_tuple$4,_tuple$5,cancel,ctx,ctxObj,currUnitID,detail,detail$1,err,err$1,evt,gameplayPage,notFound,origin,pos,selection,unitID,view,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_2=$f._2;_entry=$f._entry;_entry$1=$f._entry$1;_i=$f._i;_keys=$f._keys;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_r$7=$f._r$7;_ref=$f._ref;_ref$1=$f._ref$1;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;_tuple$4=$f._tuple$4;_tuple$5=$f._tuple$5;cancel=$f.cancel;ctx=$f.ctx;ctxObj=$f.ctxObj;currUnitID=$f.currUnitID;detail=$f.detail;detail$1=$f.detail$1;err=$f.err;err$1=$f.err$1;evt=$f.evt;gameplayPage=$f.gameplayPage;notFound=$f.notFound;origin=$f.origin;pos=$f.pos;selection=$f.selection;unitID=$f.unitID;view=$f.view;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=log.Log(protocol.LogCategoryPhase,"PlayerTurnPhase","start");/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}view=def.View;err=$ifaceNil;cancel=false;ctx=$clone(origin,uidata.UI);/* while (true) { */case 2:$r=log.Log(protocol.LogCategoryPhase,"PlayerTurnPhase","ObservePage");/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}_r=view.Render($clone(ctx,uidata.UI));/* */$s=5;case 5:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;uidata.UI.copy(ctx,_tuple[0]);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}_r$1=view.AskCommand();/* */$s=6;case 6:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}evt=_r$1;if($interfaceIsEqual(evt,$ifaceNil)){$s=-1;return[origin,false,protocol.ErrTerminate];}_r$2=helper.UIReduce(new sliceType([common.HandleCursor,common.HandleCamera,common.HandleShowMoveRangeWhenUnitAtCursor]))($clone(ctx,uidata.UI),evt);/* */$s=7;case 7:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$1=_r$2;uidata.UI.copy(ctx,_tuple$1[0]);err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}_ref=evt;/* */if($assertType(_ref,uidata.CommandKeyDown,true)[1]){$s=8;continue;}/* */$s=9;continue;/* if ($assertType(_ref, uidata.CommandKeyDown, true)[1]) { */case 8:detail=$clone(_ref.$val,uidata.CommandKeyDown);_1=detail.KeyCode;/* */if(_1===13){$s=12;continue;}/* */$s=13;continue;/* if (_1 === (13)) { */case 12:gameplayPage=$clone((_entry=ctx.GameplayPages[$Int.keyFor(10)],_entry!==undefined?_entry.v:new uidata.GameplayPage.ptr(false,arrayType$1.zero(),arrayType$2.zero(),arrayType$2.zero(),sliceType$1.nil,false,false,false,false,sliceType$2.nil,sliceType$2.nil,sliceType$2.nil,false,new protocol.RobotMenu.ptr(false,"",sliceType$3.nil,false,false,false,false),new uidata.CursorInfo.ptr(new data.TerrainProto.ptr("","",arrayType$3.zero(),0,0),""))),uidata.GameplayPage);unitID="";_ref$1=gameplayPage.Positions;_i=0;_keys=$keys(_ref$1);while(true){if(!(_i<_keys.length)){break;}_entry$1=_ref$1[_keys[_i]];if(_entry$1===undefined){_i++;continue;}currUnitID=_entry$1.k;pos=$clone(_entry$1.v,protocol.Position);if($equal(pos,gameplayPage.Cursor,protocol.Position)){unitID=currUnitID;break;}_i++;}notFound="";/* */if(unitID===notFound){$s=14;continue;}/* */$s=15;continue;/* if (unitID === notFound) { */case 14:selection="";_r$3=SystemMenuPhase($clone(ctx,uidata.UI));/* */$s=17;case 17:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_tuple$2=_r$3;uidata.UI.copy(ctx,_tuple$2[0]);selection=_tuple$2[1];err=_tuple$2[2];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}_2=selection;if(_2==="\xE5\x9B\x9E\xE5\x90\x88\xE7\xB5\x90\xE6\x9D\x9F"){/* break TURN; */$s=3;continue s;}$s=16;continue;/* } else { */case 15:_r$4=UnitMenuPhase($clone(ctx,uidata.UI),unitID);/* */$s=18;case 18:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}_tuple$3=_r$4;uidata.UI.copy(ctx,_tuple$3[0]);cancel=_tuple$3[1];err=_tuple$3[2];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}if(cancel){/* continue; */$s=2;continue;}/* } */case 16:/* } */case 13:case 11:$s=10;continue;/* } else { */case 9:detail$1=_ref;$unused(detail$1);/* } */case 10:_r$5=ctx.Model.OnEventPlayerTurnPhase(new ctx.constructor.elem(ctx),evt);/* */$s=19;case 19:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}_tuple$4=_r$5;ctxObj=_tuple$4[0];err$1=_tuple$4[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[origin,false,err$1];}uidata.UI.copy(ctx,$assertType(ctxObj,uidata.UI));_r$6=common.HandleShowMoveRangeWhenUnitAtCursor($clone(ctx,uidata.UI),(x=new structType.ptr(),new x.constructor.elem(x)));/* */$s=20;case 20:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}_tuple$5=_r$6;uidata.UI.copy(ctx,_tuple$5[0]);err$1=_tuple$5[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[origin,false,err$1];}_r$7=ctx.Model.State();/* */$s=23;case 23:if($c){$c=false;_r$7=_r$7.$blk();}if(_r$7&&_r$7.$blk!==undefined){break s;}/* */if(_r$7==="GameplayModelStateDone"){$s=21;continue;}/* */$s=22;continue;/* if (_r$7 === "GameplayModelStateDone") { */case 21:/* break; */$s=3;continue;/* } */case 22:/* } */$s=2;continue;case 3:$r=log.Log(protocol.LogCategoryPhase,"PlayerTurnPhase","end");/* */$s=24;case 24:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return[ctx,false,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:PlayerTurnPhase};}$f._1=_1;$f._2=_2;$f._entry=_entry;$f._entry$1=_entry$1;$f._i=_i;$f._keys=_keys;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._r$7=_r$7;$f._ref=_ref;$f._ref$1=_ref$1;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f._tuple$4=_tuple$4;$f._tuple$5=_tuple$5;$f.cancel=cancel;$f.ctx=ctx;$f.ctxObj=ctxObj;$f.currUnitID=currUnitID;$f.detail=detail;$f.detail$1=detail$1;$f.err=err;$f.err$1=err$1;$f.evt=evt;$f.gameplayPage=gameplayPage;$f.notFound=notFound;$f.origin=origin;$f.pos=pos;$f.selection=selection;$f.unitID=unitID;$f.view=view;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};$pkg.PlayerTurnPhase=PlayerTurnPhase;RobotMovePhase=function(origin,robotID){var _arg,_arg$1,_arg$2,_arg$3,_entry,_r,_r$1,_r$10,_r$11,_r$2,_r$3,_r$4,_r$5,_r$6,_r$7,_r$8,_r$9,_tuple,_tuple$1,_tuple$2,_tuple$3,_tuple$4,cancel,ctx,ctxObj,ctxObj$1,ctxSnapshot,cursor,cursorWorld,err,err$1,isCanMove,moveRange,origin,robotID,tree,view,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_arg=$f._arg;_arg$1=$f._arg$1;_arg$2=$f._arg$2;_arg$3=$f._arg$3;_entry=$f._entry;_r=$f._r;_r$1=$f._r$1;_r$10=$f._r$10;_r$11=$f._r$11;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_r$7=$f._r$7;_r$8=$f._r$8;_r$9=$f._r$9;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;_tuple$4=$f._tuple$4;cancel=$f.cancel;ctx=$f.ctx;ctxObj=$f.ctxObj;ctxObj$1=$f.ctxObj$1;ctxSnapshot=$f.ctxSnapshot;cursor=$f.cursor;cursorWorld=$f.cursorWorld;err=$f.err;err$1=$f.err$1;isCanMove=$f.isCanMove;moveRange=$f.moveRange;origin=$f.origin;robotID=$f.robotID;tree=$f.tree;view=$f.view;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:moveRange=[moveRange];_arg=protocol.LogCategoryPhase;_r=fmt.Sprintf("start robotID(%v)\n",new sliceType$4([new $String(robotID)]));/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_arg$1=_r;$r=log.Log(_arg,"RobotMovePhase",_arg$1);/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}view=def.View;ctx=$clone(origin,uidata.UI);_r$1=ctx.Model.QueryMoveCount(robotID);/* */$s=3;case 3:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}isCanMove=_r$1===0;/* */if(isCanMove===false){$s=4;continue;}/* */$s=5;continue;/* if (isCanMove === false) { */case 4:_r$2=fmt.Errorf("can not move",new sliceType$4([]));/* */$s=6;case 6:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}$s=-1;return[origin,false,_r$2];/* } */case 5:_r$3=ctx.Model.QueryMoveRangeTree(robotID);/* */$s=7;case 7:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_tuple=_r$3;tree=_tuple[0];err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}moveRange[0]=helper.MoveRangeTree2MoveRange(tree);_r$4=ctx.Model.SetMoveRange(moveRange[0]);/* */$s=8;case 8:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}ctx.Model=_r$4;_r$5=ctx.Model.OnDisableRobotMenu(new ctx.constructor.elem(ctx));/* */$s=9;case 9:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}_tuple$1=_r$5;ctxObj=_tuple$1[0];err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}uidata.UI.copy(ctx,$assertType(ctxObj,uidata.UI));/* while (true) { */case 10:ctxSnapshot=$clone(ctx,uidata.UI);cancel=false;cursor=arrayType$2.zero();_r$6=common.SelectPositionStep($clone(ctx,uidata.UI),robotID,function(moveRange){return function $b(ctx$1,localCursor){var _entry,_i,_r$6,_ref,ctx$1,localCursor,pos,worldCursor,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_i=$f._i;_r$6=$f._r$6;_ref=$f._ref;ctx$1=$f.ctx$1;localCursor=$f.localCursor;pos=$f.pos;worldCursor=$f.worldCursor;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:worldCursor=$clone(helper.Local2World($clone((_entry=ctx$1.GameplayPages[$Int.keyFor(10)],_entry!==undefined?_entry.v:new uidata.GameplayPage.ptr(false,arrayType$1.zero(),arrayType$2.zero(),arrayType$2.zero(),sliceType$1.nil,false,false,false,false,sliceType$2.nil,sliceType$2.nil,sliceType$2.nil,false,new protocol.RobotMenu.ptr(false,"",sliceType$3.nil,false,false,false,false),new uidata.CursorInfo.ptr(new data.TerrainProto.ptr("","",arrayType$3.zero(),0,0),""))).Camera,protocol.Position),$clone(localCursor,protocol.Position)),protocol.Position);_ref=moveRange[0];_i=0;while(true){if(!(_i<_ref.$length)){break;}pos=$clone(_i<0||_i>=_ref.$length?($throwRuntimeError("index out of range"),undefined):_ref.$array[_ref.$offset+_i],protocol.Position);if($equal(pos,worldCursor,protocol.Position)){$s=-1;return $ifaceNil;}_i++;}_r$6=fmt.Errorf("you must select in move range",new sliceType$4([]));/* */$s=1;case 1:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}$s=-1;return _r$6;/* */}return;}if($f===undefined){$f={$blk:$b};}$f._entry=_entry;$f._i=_i;$f._r$6=_r$6;$f._ref=_ref;$f.ctx$1=ctx$1;$f.localCursor=localCursor;$f.pos=pos;$f.worldCursor=worldCursor;$f.$s=$s;$f.$r=$r;return $f;};}(moveRange));/* */$s=12;case 12:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}_tuple$2=_r$6;uidata.UI.copy(ctx,_tuple$2[0]);protocol.Position.copy(cursor,_tuple$2[1]);cancel=_tuple$2[2];err=_tuple$2[3];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}if(cancel){$s=-1;return[origin,cancel,$ifaceNil];}cursorWorld=$clone(helper.Local2World($clone((_entry=ctx.GameplayPages[$Int.keyFor(10)],_entry!==undefined?_entry.v:new uidata.GameplayPage.ptr(false,arrayType$1.zero(),arrayType$2.zero(),arrayType$2.zero(),sliceType$1.nil,false,false,false,false,sliceType$2.nil,sliceType$2.nil,sliceType$2.nil,false,new protocol.RobotMenu.ptr(false,"",sliceType$3.nil,false,false,false,false),new uidata.CursorInfo.ptr(new data.TerrainProto.ptr("","",arrayType$3.zero(),0,0),""))).Camera,protocol.Position),$clone(cursor,protocol.Position)),protocol.Position);_r$7=ctx.Model.OnRobotMove(new ctx.constructor.elem(ctx),robotID,tree,$clone(cursorWorld,protocol.Position));/* */$s=13;case 13:if($c){$c=false;_r$7=_r$7.$blk();}if(_r$7&&_r$7.$blk!==undefined){break s;}_tuple$3=_r$7;ctxObj$1=_tuple$3[0];err$1=_tuple$3[1];/* */if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=14;continue;}/* */$s=15;continue;/* if (!($interfaceIsEqual(err$1, $ifaceNil))) { */case 14:_r$8=err$1.Error();/* */$s=16;case 16:if($c){$c=false;_r$8=_r$8.$blk();}if(_r$8&&_r$8.$blk!==undefined){break s;}$r=view.Alert(_r$8);/* */$s=17;case 17:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}uidata.UI.copy(ctx,ctxSnapshot);/* continue; */$s=10;continue;/* } */case 15:uidata.UI.copy(ctx,$assertType(ctxObj$1,uidata.UI));_r$9=UnitMenuPhase($clone(ctx,uidata.UI),robotID);/* */$s=18;case 18:if($c){$c=false;_r$9=_r$9.$blk();}if(_r$9&&_r$9.$blk!==undefined){break s;}_tuple$4=_r$9;uidata.UI.copy(ctx,_tuple$4[0]);cancel=_tuple$4[1];err$1=_tuple$4[2];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[origin,false,err$1];}if(cancel){uidata.UI.copy(ctx,ctxSnapshot);/* continue; */$s=10;continue;}/* break; */$s=11;continue;/* } */$s=10;continue;case 11:_r$10=ctx.Model.SetMoveRange(sliceType$2.nil);/* */$s=19;case 19:if($c){$c=false;_r$10=_r$10.$blk();}if(_r$10&&_r$10.$blk!==undefined){break s;}ctx.Model=_r$10;_arg$2=protocol.LogCategoryPhase;_r$11=fmt.Sprintf("end robotID(%v)\n",new sliceType$4([new $String(robotID)]));/* */$s=20;case 20:if($c){$c=false;_r$11=_r$11.$blk();}if(_r$11&&_r$11.$blk!==undefined){break s;}_arg$3=_r$11;$r=log.Log(_arg$2,"RobotMovePhase",_arg$3);/* */$s=21;case 21:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return[ctx,false,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:RobotMovePhase};}$f._arg=_arg;$f._arg$1=_arg$1;$f._arg$2=_arg$2;$f._arg$3=_arg$3;$f._entry=_entry;$f._r=_r;$f._r$1=_r$1;$f._r$10=_r$10;$f._r$11=_r$11;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._r$7=_r$7;$f._r$8=_r$8;$f._r$9=_r$9;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f._tuple$4=_tuple$4;$f.cancel=cancel;$f.ctx=ctx;$f.ctxObj=ctxObj;$f.ctxObj$1=ctxObj$1;$f.ctxSnapshot=ctxSnapshot;$f.cursor=cursor;$f.cursorWorld=cursorWorld;$f.err=err;$f.err$1=err$1;$f.isCanMove=isCanMove;$f.moveRange=moveRange;$f.origin=origin;$f.robotID=robotID;$f.tree=tree;$f.view=view;$f.$s=$s;$f.$r=$r;return $f;};$pkg.RobotMovePhase=RobotMovePhase;SelectWeaponTargetPhase=function(origin,robotID,weaponID){var _1,_entry,_entry$1,_r,_r$1,_r$2,_r$3,_r$4,_r$5,_r$6,_r$7,_r$8,_tuple,_tuple$1,_tuple$2,_tuple$3,_tuple$4,_tuple$5,_tuple$6,_tuple$7,cancel,cancel$1,ctx,ctxObj,ctxObj$1,cursor,cursorWorld,err,err$1,err$2,gameplayPage,origin,robotID,targetID,weapon,weaponID,weaponProto,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_entry=$f._entry;_entry$1=$f._entry$1;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_r$7=$f._r$7;_r$8=$f._r$8;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;_tuple$4=$f._tuple$4;_tuple$5=$f._tuple$5;_tuple$6=$f._tuple$6;_tuple$7=$f._tuple$7;cancel=$f.cancel;cancel$1=$f.cancel$1;ctx=$f.ctx;ctxObj=$f.ctxObj;ctxObj$1=$f.ctxObj$1;cursor=$f.cursor;cursorWorld=$f.cursorWorld;err=$f.err;err$1=$f.err$1;err$2=$f.err$2;gameplayPage=$f.gameplayPage;origin=$f.origin;robotID=$f.robotID;targetID=$f.targetID;weapon=$f.weapon;weaponID=$f.weaponID;weaponProto=$f.weaponProto;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:ctx=[ctx];gameplayPage=[gameplayPage];robotID=[robotID];err=$ifaceNil;ctx[0]=$clone(origin,uidata.UI);if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}ctx[0].PhaseMark=1;gameplayPage[0]=$clone((_entry=ctx[0].GameplayPages[$Int.keyFor(10)],_entry!==undefined?_entry.v:new uidata.GameplayPage.ptr(false,arrayType$1.zero(),arrayType$2.zero(),arrayType$2.zero(),sliceType$1.nil,false,false,false,false,sliceType$2.nil,sliceType$2.nil,sliceType$2.nil,false,new protocol.RobotMenu.ptr(false,"",sliceType$3.nil,false,false,false,false),new uidata.CursorInfo.ptr(new data.TerrainProto.ptr("","",arrayType$3.zero(),0,0),""))),uidata.GameplayPage);_r=protocol.TryGetStringWeapon(gameplayPage[0].RobotMenu.Weapons,weaponID);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;weapon=$clone(_tuple[0],protocol.Weapon);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}_r$1=data.TryGetStringWeaponProto(data.GameData.Weapon,weapon.ProtoID);/* */$s=2;case 2:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$1=_r$1;weaponProto=$clone(_tuple$1[0],data.WeaponProto);err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}_1=weaponProto.Type;/* */if(_1==="single"){$s=4;continue;}/* */if(_1==="line"){$s=5;continue;}/* */$s=6;continue;/* if (_1 === ("single")) { */case 4:/* while (true) { */case 8:cancel=false;targetID="";_r$2=common.SelectUnitStep($clone(ctx[0],uidata.UI),robotID[0],function(ctx,gameplayPage,robotID){return function $b(targetID$1){var _entry$1,_entry$2,_entry$3,_entry$4,_r$2,_r$3,_r$4,_r$5,_r$6,_r$7,_r$8,_r$9,_tuple$3,_tuple$4,_tuple$5,_tuple$6,_tuple$7,attackRange,err$1,has,insideAttackRange,localPos,plyr1,plyr2,robot,targetID$1,targetRobot,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry$1=$f._entry$1;_entry$2=$f._entry$2;_entry$3=$f._entry$3;_entry$4=$f._entry$4;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_r$7=$f._r$7;_r$8=$f._r$8;_r$9=$f._r$9;_tuple$3=$f._tuple$3;_tuple$4=$f._tuple$4;_tuple$5=$f._tuple$5;_tuple$6=$f._tuple$6;_tuple$7=$f._tuple$7;attackRange=$f.attackRange;err$1=$f.err$1;has=$f.has;insideAttackRange=$f.insideAttackRange;localPos=$f.localPos;plyr1=$f.plyr1;plyr2=$f.plyr2;robot=$f.robot;targetID$1=$f.targetID$1;targetRobot=$f.targetRobot;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r$2=protocol.TryGetStringRobot(gameplayPage[0].Robots,robotID[0]);/* */$s=1;case 1:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$3=_r$2;robot=$clone(_tuple$3[0],protocol.Robot);err$1=_tuple$3[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return err$1;}_r$3=protocol.TryGetStringRobot(gameplayPage[0].Robots,targetID$1);/* */$s=2;case 2:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_tuple$4=_r$3;targetRobot=$clone(_tuple$4[0],protocol.Robot);err$1=_tuple$4[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return err$1;}_r$4=protocol.TryGetStringPlayer(gameplayPage[0].Players,robot.PlayerID);/* */$s=3;case 3:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}_tuple$5=_r$4;plyr1=$clone(_tuple$5[0],protocol.Player);err$1=_tuple$5[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return err$1;}_r$5=protocol.TryGetStringPlayer(gameplayPage[0].Players,targetRobot.PlayerID);/* */$s=4;case 4:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}_tuple$6=_r$5;plyr2=$clone(_tuple$6[0],protocol.Player);err$1=_tuple$6[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return err$1;}/* */if(plyr1.GroupID===plyr2.GroupID){$s=5;continue;}/* */$s=6;continue;/* if (plyr1.GroupID === plyr2.GroupID) { */case 5:_r$6=fmt.Errorf("\xE5\xBF\x85\xE9\xA0\x88\xE9\x81\xB8\xE6\x93\x87\xE6\x95\xB5\xE4\xBA\xBA",new sliceType$4([]));/* */$s=7;case 7:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}$s=-1;return _r$6;/* } */case 6:attackRange=(_entry$1=ctx[0].GameplayPages[$Int.keyFor(10)],_entry$1!==undefined?_entry$1.v:new uidata.GameplayPage.ptr(false,arrayType$1.zero(),arrayType$2.zero(),arrayType$2.zero(),sliceType$1.nil,false,false,false,false,sliceType$2.nil,sliceType$2.nil,sliceType$2.nil,false,new protocol.RobotMenu.ptr(false,"",sliceType$3.nil,false,false,false,false),new uidata.CursorInfo.ptr(new data.TerrainProto.ptr("","",arrayType$3.zero(),0,0),""))).AttackRange;/* */if(attackRange.$length===0){$s=8;continue;}/* */$s=9;continue;/* if (attackRange.$length === 0) { */case 8:_r$7=fmt.Errorf("\xE9\x80\x99\xE6\x99\x82\xE5\xBF\x85\xE9\xA0\x88\xE6\x9C\x89AttackRange",new sliceType$4([]));/* */$s=10;case 10:if($c){$c=false;_r$7=_r$7.$blk();}if(_r$7&&_r$7.$blk!==undefined){break s;}$s=-1;return _r$7;/* } */case 9:_tuple$7=(_entry$2=(_entry$3=ctx[0].GameplayPages[$Int.keyFor(10)],_entry$3!==undefined?_entry$3.v:new uidata.GameplayPage.ptr(false,arrayType$1.zero(),arrayType$2.zero(),arrayType$2.zero(),sliceType$1.nil,false,false,false,false,sliceType$2.nil,sliceType$2.nil,sliceType$2.nil,false,new protocol.RobotMenu.ptr(false,"",sliceType$3.nil,false,false,false,false),new uidata.CursorInfo.ptr(new data.TerrainProto.ptr("","",arrayType$3.zero(),0,0),""))).Positions[$String.keyFor(targetID$1)],_entry$2!==undefined?[_entry$2.v,true]:[arrayType$2.zero(),false]);localPos=$clone(_tuple$7[0],protocol.Position);has=_tuple$7[1];/* */if(has===false){$s=11;continue;}/* */$s=12;continue;/* if (has === false) { */case 11:_r$8=fmt.Errorf("\xE6\x8C\x87\xE5\xAE\x9A\xE7\x9A\x84robotID(%v)\xE5\xBF\x85\xE9\xA0\x88\xE6\x9C\x89position. positions(%v)",new sliceType$4([new $String(targetID$1),new mapType((_entry$4=ctx[0].GameplayPages[$Int.keyFor(10)],_entry$4!==undefined?_entry$4.v:new uidata.GameplayPage.ptr(false,arrayType$1.zero(),arrayType$2.zero(),arrayType$2.zero(),sliceType$1.nil,false,false,false,false,sliceType$2.nil,sliceType$2.nil,sliceType$2.nil,false,new protocol.RobotMenu.ptr(false,"",sliceType$3.nil,false,false,false,false),new uidata.CursorInfo.ptr(new data.TerrainProto.ptr("","",arrayType$3.zero(),0,0),""))).Positions)]));/* */$s=13;case 13:if($c){$c=false;_r$8=_r$8.$blk();}if(_r$8&&_r$8.$blk!==undefined){break s;}$s=-1;return _r$8;/* } */case 12:insideAttackRange=protocol.IntersectionPosition(attackRange,new sliceType$2([$clone(localPos,protocol.Position)])).$length>0;/* */if(insideAttackRange===false){$s=14;continue;}/* */$s=15;continue;/* if (insideAttackRange === false) { */case 14:_r$9=fmt.Errorf("\xE6\x8C\x87\xE5\xAE\x9A\xE7\x9A\x84\xE6\xA9\x9F\xE9\xAB\x94(%v)\xE6\x89\x80\xE5\x9C\xA8\xE4\xBD\x8D\xE7\xBD\xAE(%v)\xE5\xBF\x85\xE9\xA0\x88\xE5\x9C\xA8\xE6\x94\xBB\xE6\x93\x8A\xE7\xAF\x84\xE5\x9C\x8D\xE5\x85\xA7",new sliceType$4([new $String(targetID$1),new protocol.Position(localPos)]));/* */$s=16;case 16:if($c){$c=false;_r$9=_r$9.$blk();}if(_r$9&&_r$9.$blk!==undefined){break s;}$s=-1;return _r$9;/* } */case 15:$s=-1;return $ifaceNil;/* */}return;}if($f===undefined){$f={$blk:$b};}$f._entry$1=_entry$1;$f._entry$2=_entry$2;$f._entry$3=_entry$3;$f._entry$4=_entry$4;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._r$7=_r$7;$f._r$8=_r$8;$f._r$9=_r$9;$f._tuple$3=_tuple$3;$f._tuple$4=_tuple$4;$f._tuple$5=_tuple$5;$f._tuple$6=_tuple$6;$f._tuple$7=_tuple$7;$f.attackRange=attackRange;$f.err$1=err$1;$f.has=has;$f.insideAttackRange=insideAttackRange;$f.localPos=localPos;$f.plyr1=plyr1;$f.plyr2=plyr2;$f.robot=robot;$f.targetID$1=targetID$1;$f.targetRobot=targetRobot;$f.$s=$s;$f.$r=$r;return $f;};}(ctx,gameplayPage,robotID));/* */$s=10;case 10:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$2=_r$2;uidata.UI.copy(ctx[0],_tuple$2[0]);targetID=_tuple$2[1];cancel=_tuple$2[2];err=_tuple$2[3];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}if(cancel){$s=-1;return[origin,cancel,$ifaceNil];}_r$3=ctx[0].Model.OnSingleBattleMenuPhase(new ctx[0].constructor.elem(ctx[0]),true,robotID[0],weaponID,targetID);/* */$s=11;case 11:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_tuple$3=_r$3;ctxObj=_tuple$3[0];cancel=_tuple$3[1];err$1=_tuple$3[2];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[origin,false,err$1];}/* */if(cancel){$s=12;continue;}/* */$s=13;continue;/* if (cancel) { */case 12:/* continue; */$s=8;continue;/* } */case 13:uidata.UI.copy(ctx[0],$assertType(ctxObj,uidata.UI));_r$4=ctx[0].Model.OnRobotDone(new ctx[0].constructor.elem(ctx[0]),robotID[0]);/* */$s=14;case 14:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}_tuple$4=_r$4;ctxObj=_tuple$4[0];err$1=_tuple$4[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[origin,false,err$1];}uidata.UI.copy(ctx[0],$assertType(ctxObj,uidata.UI));/* break; */$s=9;continue;/* } */$s=8;continue;case 9:$s=7;continue;/* } else if (_1 === ("line")) { */case 5:/* while (true) { */case 15:cancel$1=false;cursor=arrayType$2.zero();_r$5=common.SelectPositionStep($clone(ctx[0],uidata.UI),robotID[0],function(ctx,gameplayPage,robotID){return function(ctx$1,localCursor){var ctx$1,localCursor;return $ifaceNil;};}(ctx,gameplayPage,robotID));/* */$s=17;case 17:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}_tuple$5=_r$5;uidata.UI.copy(ctx[0],_tuple$5[0]);protocol.Position.copy(cursor,_tuple$5[1]);cancel$1=_tuple$5[2];err=_tuple$5[3];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}if(cancel$1){$s=-1;return[origin,cancel$1,$ifaceNil];}cursorWorld=$clone(helper.Local2World($clone((_entry$1=ctx[0].GameplayPages[$Int.keyFor(10)],_entry$1!==undefined?_entry$1.v:new uidata.GameplayPage.ptr(false,arrayType$1.zero(),arrayType$2.zero(),arrayType$2.zero(),sliceType$1.nil,false,false,false,false,sliceType$2.nil,sliceType$2.nil,sliceType$2.nil,false,new protocol.RobotMenu.ptr(false,"",sliceType$3.nil,false,false,false,false),new uidata.CursorInfo.ptr(new data.TerrainProto.ptr("","",arrayType$3.zero(),0,0),""))).Camera,protocol.Position),$clone(cursor,protocol.Position)),protocol.Position);_r$6=ctx[0].Model.OnLineBattleMenuPhase(new ctx[0].constructor.elem(ctx[0]),true,robotID[0],weaponID,$clone(cursorWorld,protocol.Position));/* */$s=18;case 18:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}_tuple$6=_r$6;ctxObj$1=_tuple$6[0];cancel$1=_tuple$6[1];err$2=_tuple$6[2];if(!$interfaceIsEqual(err$2,$ifaceNil)){$s=-1;return[origin,false,err$2];}/* */if(cancel$1){$s=19;continue;}/* */$s=20;continue;/* if (cancel$1) { */case 19:/* continue; */$s=15;continue;/* } */case 20:uidata.UI.copy(ctx[0],$assertType(ctxObj$1,uidata.UI));_r$7=ctx[0].Model.OnRobotDone(new ctx[0].constructor.elem(ctx[0]),robotID[0]);/* */$s=21;case 21:if($c){$c=false;_r$7=_r$7.$blk();}if(_r$7&&_r$7.$blk!==undefined){break s;}_tuple$7=_r$7;ctxObj$1=_tuple$7[0];err$2=_tuple$7[1];if(!$interfaceIsEqual(err$2,$ifaceNil)){$s=-1;return[origin,false,err$2];}uidata.UI.copy(ctx[0],$assertType(ctxObj$1,uidata.UI));/* break; */$s=16;continue;/* } */$s=15;continue;case 16:$s=7;continue;/* } else { */case 6:_r$8=fmt.Errorf("unknown weapon type(%v)",new sliceType$4([new weaponProto.constructor.elem(weaponProto)]));/* */$s=22;case 22:if($c){$c=false;_r$8=_r$8.$blk();}if(_r$8&&_r$8.$blk!==undefined){break s;}$s=-1;return[origin,false,_r$8];/* } */case 7:case 3:$s=-1;return[ctx[0],false,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:SelectWeaponTargetPhase};}$f._1=_1;$f._entry=_entry;$f._entry$1=_entry$1;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._r$7=_r$7;$f._r$8=_r$8;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f._tuple$4=_tuple$4;$f._tuple$5=_tuple$5;$f._tuple$6=_tuple$6;$f._tuple$7=_tuple$7;$f.cancel=cancel;$f.cancel$1=cancel$1;$f.ctx=ctx;$f.ctxObj=ctxObj;$f.ctxObj$1=ctxObj$1;$f.cursor=cursor;$f.cursorWorld=cursorWorld;$f.err=err;$f.err$1=err$1;$f.err$2=err$2;$f.gameplayPage=gameplayPage;$f.origin=origin;$f.robotID=robotID;$f.targetID=targetID;$f.weapon=weapon;$f.weaponID=weaponID;$f.weaponProto=weaponProto;$f.$s=$s;$f.$r=$r;return $f;};$pkg.SelectWeaponTargetPhase=SelectWeaponTargetPhase;SystemMenuPhase=function(origin){var _entry,_r,_r$1,_tmp,_tmp$1,_tuple,_tuple$1,cancel,ctx,ctxObj,err,menu,origin,selection,tab,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_entry=$f._entry;_r=$f._r;_r$1=$f._r$1;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tuple=$f._tuple;_tuple$1=$f._tuple$1;cancel=$f.cancel;ctx=$f.ctx;ctxObj=$f.ctxObj;err=$f.err;menu=$f.menu;origin=$f.origin;selection=$f.selection;tab=$f.tab;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=log.Log(protocol.LogCategoryPhase,"SystemMenuPhase","start");/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}ctx=$clone(origin,uidata.UI);ctx.Actives=uidata.AssocIntBool(ctx.Actives,12,true);menu=$clone((_entry=ctx.Menu1Ds[$Int.keyFor(32)],_entry!==undefined?_entry.v:new uidata.Menu1D.ptr(sliceType$1.nil,false,0,0,0)),uidata.Menu1D);menu.Cursor=0;ctx.Menu1Ds=uidata.AssocIntMenu1D(ctx.Menu1Ds,32,$clone(menu,uidata.Menu1D));err=$ifaceNil;_tmp=false;_tmp$1=false;cancel=_tmp;tab=_tmp$1;selection="";/* while (true) { */case 2:_r=common.Menu1DStep($clone(ctx,uidata.UI),12,32);/* */$s=4;case 4:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;uidata.UI.copy(ctx,_tuple[0]);selection=_tuple[1];cancel=_tuple[2];tab=_tuple[3];err=_tuple[4];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,"",err];}if(tab){/* continue; */$s=2;continue;}if(cancel){$s=-1;return[origin,"",$ifaceNil];}/* break; */$s=3;continue;/* } */$s=2;continue;case 3:_r$1=ctx.Model.OnClickSystemMenu(new ctx.constructor.elem(ctx),selection);/* */$s=5;case 5:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$1=_r$1;ctxObj=_tuple$1[0];err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,"",err];}uidata.UI.copy(ctx,$assertType(ctxObj,uidata.UI));ctx.Actives=uidata.AssocIntBool(ctx.Actives,12,false);$r=log.Log(protocol.LogCategoryPhase,"SystemMenuPhase","end");/* */$s=6;case 6:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return[ctx,selection,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:SystemMenuPhase};}$f._entry=_entry;$f._r=_r;$f._r$1=_r$1;$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f.cancel=cancel;$f.ctx=ctx;$f.ctxObj=ctxObj;$f.err=err;$f.menu=menu;$f.origin=origin;$f.selection=selection;$f.tab=tab;$f.$s=$s;$f.$r=$r;return $f;};$pkg.SystemMenuPhase=SystemMenuPhase;TurnPhase=function(origin,player){var _1,_r,_r$1,_r$2,_r$3,_r$4,_tuple,_tuple$1,_tuple$2,_tuple$3,cancel,ctx,ctxObj,err,origin,player,view,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;cancel=$f.cancel;ctx=$f.ctx;ctxObj=$f.ctxObj;err=$f.err;origin=$f.origin;player=$f.player;view=$f.view;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:err=$ifaceNil;ctx=$clone(origin,uidata.UI);view=def.View;ctxObj=$ifaceNil;_r=ctx.Model.OnPlayerTurnStart(new ctx.constructor.elem(ctx),$clone(player,protocol.Player));/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;ctxObj=_tuple[0];err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}uidata.UI.copy(ctx,$assertType(ctxObj,uidata.UI));$r=view.RenderTurnStart($clone(ctx,uidata.UI),$clone(player,protocol.Player));/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}cancel=false;_1=player.ID;/* */if(_1===""){$s=4;continue;}/* */if(_1==="PlayerIDPlayer"){$s=5;continue;}/* */$s=6;continue;/* if (_1 === ("")) { */case 4:_r$1=fmt.Errorf("unknown player",new sliceType$4([]));/* */$s=8;case 8:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}$s=-1;return[origin,false,_r$1];/* } else if (_1 === ("PlayerIDPlayer")) { */case 5:_r$2=PlayerTurnPhase($clone(ctx,uidata.UI));/* */$s=9;case 9:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$1=_r$2;uidata.UI.copy(ctx,_tuple$1[0]);cancel=_tuple$1[1];err=_tuple$1[2];$s=7;continue;/* } else { */case 6:_r$3=EnemyTurnPhase($clone(ctx,uidata.UI));/* */$s=10;case 10:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_tuple$2=_r$3;uidata.UI.copy(ctx,_tuple$2[0]);cancel=_tuple$2[1];err=_tuple$2[2];/* } */case 7:case 3:if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}if(cancel){$s=-1;return[origin,cancel,err];}_r$4=ctx.Model.OnPlayerTurnEnd(new ctx.constructor.elem(ctx),$clone(player,protocol.Player));/* */$s=11;case 11:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}_tuple$3=_r$4;ctxObj=_tuple$3[0];err=_tuple$3[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}uidata.UI.copy(ctx,$assertType(ctxObj,uidata.UI));$s=-1;return[ctx,false,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:TurnPhase};}$f._1=_1;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f.cancel=cancel;$f.ctx=ctx;$f.ctxObj=ctxObj;$f.err=err;$f.origin=origin;$f.player=player;$f.view=view;$f.$s=$s;$f.$r=$r;return $f;};$pkg.TurnPhase=TurnPhase;CreateItemMenu=function(origin,unitID){var origin,unitID;return[origin,$ifaceNil];};$pkg.CreateItemMenu=CreateItemMenu;UnitMenuPhase=function(origin,unitID){var _1,_2,_arg,_arg$1,_arg$2,_arg$3,_arg$4,_arg$5,_entry,_entry$1,_entry$10,_entry$2,_entry$3,_entry$4,_entry$5,_entry$6,_entry$7,_entry$8,_entry$9,_r,_r$1,_r$10,_r$11,_r$12,_r$13,_r$14,_r$15,_r$16,_r$17,_r$18,_r$2,_r$3,_r$4,_r$5,_r$6,_r$7,_r$8,_r$9,_tmp,_tmp$1,_tmp$2,_tmp$3,_tuple,_tuple$1,_tuple$10,_tuple$11,_tuple$12,_tuple$13,_tuple$14,_tuple$15,_tuple$16,_tuple$17,_tuple$18,_tuple$2,_tuple$3,_tuple$4,_tuple$5,_tuple$6,_tuple$7,_tuple$8,_tuple$9,cancel,cancel$1,ctx,ctx$1,ctxObj,ctxObj$1,ctxObj$2,ctxObj$3,err,err$1,err$2,err$3,err$4,err$5,gameplayPage,has,invalidStr,is,is$1,isRobotDone,item,origin,robot,selection,selection$1,tab,tab$1,tag,topMenu,transformID,unitID,view,weaponID,x,x$1,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_2=$f._2;_arg=$f._arg;_arg$1=$f._arg$1;_arg$2=$f._arg$2;_arg$3=$f._arg$3;_arg$4=$f._arg$4;_arg$5=$f._arg$5;_entry=$f._entry;_entry$1=$f._entry$1;_entry$10=$f._entry$10;_entry$2=$f._entry$2;_entry$3=$f._entry$3;_entry$4=$f._entry$4;_entry$5=$f._entry$5;_entry$6=$f._entry$6;_entry$7=$f._entry$7;_entry$8=$f._entry$8;_entry$9=$f._entry$9;_r=$f._r;_r$1=$f._r$1;_r$10=$f._r$10;_r$11=$f._r$11;_r$12=$f._r$12;_r$13=$f._r$13;_r$14=$f._r$14;_r$15=$f._r$15;_r$16=$f._r$16;_r$17=$f._r$17;_r$18=$f._r$18;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_r$7=$f._r$7;_r$8=$f._r$8;_r$9=$f._r$9;_tmp=$f._tmp;_tmp$1=$f._tmp$1;_tmp$2=$f._tmp$2;_tmp$3=$f._tmp$3;_tuple=$f._tuple;_tuple$1=$f._tuple$1;_tuple$10=$f._tuple$10;_tuple$11=$f._tuple$11;_tuple$12=$f._tuple$12;_tuple$13=$f._tuple$13;_tuple$14=$f._tuple$14;_tuple$15=$f._tuple$15;_tuple$16=$f._tuple$16;_tuple$17=$f._tuple$17;_tuple$18=$f._tuple$18;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;_tuple$4=$f._tuple$4;_tuple$5=$f._tuple$5;_tuple$6=$f._tuple$6;_tuple$7=$f._tuple$7;_tuple$8=$f._tuple$8;_tuple$9=$f._tuple$9;cancel=$f.cancel;cancel$1=$f.cancel$1;ctx=$f.ctx;ctx$1=$f.ctx$1;ctxObj=$f.ctxObj;ctxObj$1=$f.ctxObj$1;ctxObj$2=$f.ctxObj$2;ctxObj$3=$f.ctxObj$3;err=$f.err;err$1=$f.err$1;err$2=$f.err$2;err$3=$f.err$3;err$4=$f.err$4;err$5=$f.err$5;gameplayPage=$f.gameplayPage;has=$f.has;invalidStr=$f.invalidStr;is=$f.is;is$1=$f.is$1;isRobotDone=$f.isRobotDone;item=$f.item;origin=$f.origin;robot=$f.robot;selection=$f.selection;selection$1=$f.selection$1;tab=$f.tab;tab$1=$f.tab$1;tag=$f.tag;topMenu=$f.topMenu;transformID=$f.transformID;unitID=$f.unitID;view=$f.view;weaponID=$f.weaponID;x=$f.x;x$1=$f.x$1;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_arg=protocol.LogCategoryPhase;_r=fmt.Sprintf("unitID(%v) start",new sliceType$4([new $String(unitID)]));/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_arg$1=_r;$r=log.Log(_arg,"UnitMenuPhase",_arg$1);/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}err=$ifaceNil;ctx=$clone(origin,uidata.UI);view=def.View;ctx.PhaseMark=0;_r$1=view.Render($clone(ctx,uidata.UI));/* */$s=3;case 3:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple=_r$1;uidata.UI.copy(ctx,_tuple[0]);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,err];}gameplayPage=$clone((_entry=ctx.GameplayPages[$Int.keyFor(10)],_entry!==undefined?_entry.v:new uidata.GameplayPage.ptr(false,arrayType$1.zero(),arrayType$2.zero(),arrayType$2.zero(),sliceType$1.nil,false,false,false,false,sliceType$2.nil,sliceType$2.nil,sliceType$2.nil,false,new protocol.RobotMenu.ptr(false,"",sliceType$3.nil,false,false,false,false),new uidata.CursorInfo.ptr(new data.TerrainProto.ptr("","",arrayType$3.zero(),0,0),""))),uidata.GameplayPage);_tuple$1=(_entry$1=gameplayPage.Robots[$String.keyFor(unitID)],_entry$1!==undefined?[_entry$1.v,true]:[new protocol.Robot.ptr("","","","","",0,0,false,false,"",0,0,0,0,0,0,0,arrayType$3.zero(),0,false),false]);robot=$clone(_tuple$1[0],protocol.Robot);is=_tuple$1[1];/* */if(is){$s=4;continue;}/* */$s=5;continue;/* if (is) { */case 4:$unused(robot);isRobotDone=(_entry$2=(_entry$3=ctx.GameplayPages[$Int.keyFor(10)],_entry$3!==undefined?_entry$3.v:new uidata.GameplayPage.ptr(false,arrayType$1.zero(),arrayType$2.zero(),arrayType$2.zero(),sliceType$1.nil,false,false,false,false,sliceType$2.nil,sliceType$2.nil,sliceType$2.nil,false,new protocol.RobotMenu.ptr(false,"",sliceType$3.nil,false,false,false,false),new uidata.CursorInfo.ptr(new data.TerrainProto.ptr("","",arrayType$3.zero(),0,0),""))).Tags[$String.keyFor(unitID)],_entry$2!==undefined?_entry$2.v:new protocol.Tag.ptr(0,false,false)).IsDone;/* */if(isRobotDone){$s=6;continue;}/* */$s=7;continue;/* if (isRobotDone) { */case 6:_arg$2=protocol.LogCategoryWarning;_r$2=fmt.Sprintf("unitID(%v) already done",new sliceType$4([new $String(unitID)]));/* */$s=8;case 8:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_arg$3=_r$2;$r=log.Log(_arg$2,"UnitMenuPhase",_arg$3);/* */$s=9;case 9:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return[origin,false,$ifaceNil];/* } */case 7:_r$3=ctx.Model.OnEnableRobotMenu(new ctx.constructor.elem(ctx),unitID);/* */$s=10;case 10:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_tuple$2=_r$3;ctxObj=_tuple$2[0];err$1=_tuple$2[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[origin,false,err$1];}uidata.UI.copy(ctx,$assertType(ctxObj,uidata.UI));_tmp=false;_tmp$1=false;cancel=_tmp;tab=_tmp$1;selection="";/* MENU2D_STEP: */case 11:/* while (true) { */case 12:ctx.PhaseMark=0;_r$4=view.Render($clone(ctx,uidata.UI));/* */$s=14;case 14:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}_tuple$3=_r$4;uidata.UI.copy(ctx,_tuple$3[0]);err$1=_tuple$3[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[origin,false,err$1];}/* */if((_entry$4=ctx.Actives[$Int.keyFor(11)],_entry$4!==undefined?_entry$4.v:false)===false){$s=15;continue;}/* */$s=16;continue;/* if ((_entry$4 = ctx.Actives[$Int.keyFor(11)], _entry$4 !== undefined ? _entry$4.v : false) === false) { */case 15:_r$5=fmt.Errorf("\xE9\x80\x99\xE6\x99\x82\xE5\xBF\x85\xE9\xA0\x88\xE6\x89\x93\xE9\x96\x8BPageUnitMenu\xE9\xA0\x81",new sliceType$4([]));/* */$s=17;case 17:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}$s=-1;return[origin,false,_r$5];/* } */case 16:_r$6=common.Menu2DStep($clone(ctx,uidata.UI),10,31);/* */$s=18;case 18:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}_tuple$4=_r$6;uidata.UI.copy(ctx,_tuple$4[0]);selection=_tuple$4[1];cancel=_tuple$4[2];tab=_tuple$4[3];err$1=_tuple$4[4];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[origin,false,err$1];}if(tab){/* continue; */$s=12;continue;}if(cancel){$s=-1;return[origin,cancel,$ifaceNil];}/* break; */$s=13;continue;/* } */$s=12;continue;case 13:topMenu=$clone((_entry$5=ctx.Menu2Ds[$Int.keyFor(31)],_entry$5!==undefined?_entry$5.v:new uidata.Menu2D.ptr(sliceType$3.nil,0,sliceType$5.nil)),uidata.Menu2D);uidata.GameplayPage.copy(gameplayPage,(_entry$6=ctx.GameplayPages[$Int.keyFor(10)],_entry$6!==undefined?_entry$6.v:new uidata.GameplayPage.ptr(false,arrayType$1.zero(),arrayType$2.zero(),arrayType$2.zero(),sliceType$1.nil,false,false,false,false,sliceType$2.nil,sliceType$2.nil,sliceType$2.nil,false,new protocol.RobotMenu.ptr(false,"",sliceType$3.nil,false,false,false,false),new uidata.CursorInfo.ptr(new data.TerrainProto.ptr("","",arrayType$3.zero(),0,0),""))));_1=(_entry$7=gameplayPage.RobotMenu.RowFunctionMapping[$Int.keyFor(topMenu.Cursor1)],_entry$7!==undefined?_entry$7.v:0);/* */if(_1===1){$s=20;continue;}/* */if(_1===2){$s=21;continue;}/* */$s=22;continue;/* if (_1 === (1)) { */case 20:weaponID=selection;_tuple$5=(_entry$8=gameplayPage.RobotMenu.InvalidWeapons[$String.keyFor(weaponID)],_entry$8!==undefined?[_entry$8.v,true]:["",false]);invalidStr=_tuple$5[0];has=_tuple$5[1];/* */if(has){$s=24;continue;}/* */$s=25;continue;/* if (has) { */case 24:$r=view.Alert(invalidStr);/* */$s=26;case 26:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* goto MENU2D_STEP */$s=11;continue;/* } */case 25:_r$7=SelectWeaponTargetPhase($clone(ctx,uidata.UI),unitID,weaponID);/* */$s=27;case 27:if($c){$c=false;_r$7=_r$7.$blk();}if(_r$7&&_r$7.$blk!==undefined){break s;}_tuple$6=_r$7;uidata.UI.copy(ctx,_tuple$6[0]);cancel=_tuple$6[1];err$1=_tuple$6[2];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[origin,false,err$1];}/* */if(cancel){$s=28;continue;}/* */$s=29;continue;/* if (cancel) { */case 28:/* goto MENU2D_STEP */$s=11;continue;/* } */case 29:$s=23;continue;/* } else if (_1 === (2)) { */case 21:transformID=selection;_r$8=ctx.Model.OnRobotTransform(new ctx.constructor.elem(ctx),unitID,transformID);/* */$s=30;case 30:if($c){$c=false;_r$8=_r$8.$blk();}if(_r$8&&_r$8.$blk!==undefined){break s;}_tuple$7=_r$8;ctxObj$1=_tuple$7[0];err$2=_tuple$7[1];if(!$interfaceIsEqual(err$2,$ifaceNil)){$s=-1;return[origin,false,err$2];}uidata.UI.copy(ctx,$assertType(ctxObj$1,uidata.UI));_r$9=common.HandleShowMoveRangeWhenUnitAtCursor($clone(ctx,uidata.UI),(x=new structType.ptr(),new x.constructor.elem(x)));/* */$s=31;case 31:if($c){$c=false;_r$9=_r$9.$blk();}if(_r$9&&_r$9.$blk!==undefined){break s;}_tuple$8=_r$9;uidata.UI.copy(ctx,_tuple$8[0]);err$2=_tuple$8[1];if(!$interfaceIsEqual(err$2,$ifaceNil)){$s=-1;return[origin,false,err$2];}_r$10=UnitMenuPhase($clone(ctx,uidata.UI),unitID);/* */$s=32;case 32:if($c){$c=false;_r$10=_r$10.$blk();}if(_r$10&&_r$10.$blk!==undefined){break s;}_tuple$9=_r$10;uidata.UI.copy(ctx,_tuple$9[0]);cancel=_tuple$9[1];err$2=_tuple$9[2];if(!$interfaceIsEqual(err$2,$ifaceNil)){$s=-1;return[origin,false,err$2];}if(cancel){$s=-1;return[origin,cancel,$ifaceNil];}$s=23;continue;/* } else { */case 22:_2=selection;/* */if(_2==="\xE7\xB5\x90\xE6\x9D\x9F\xE8\xA1\x8C\xE5\x8B\x95"){$s=34;continue;}/* */if(_2==="\xE7\xA7\xBB\xE5\x8B\x95"){$s=35;continue;}/* */if(_2==="\xE7\xA9\xBA\xE4\xB8\xAD\xE9\x99\xB8\xE5\x9C\xB0"){$s=36;continue;}/* */if(_2==="\xE7\xA2\xBA\xE8\xAA\x8D"){$s=37;continue;}/* */$s=38;continue;/* if (_2 === ("\xE7\xB5\x90\xE6\x9D\x9F\xE8\xA1\x8C\xE5\x8B\x95")) { */case 34:_r$11=ctx.Model.OnRobotDone(new ctx.constructor.elem(ctx),unitID);/* */$s=39;case 39:if($c){$c=false;_r$11=_r$11.$blk();}if(_r$11&&_r$11.$blk!==undefined){break s;}_tuple$10=_r$11;ctxObj$2=_tuple$10[0];err$3=_tuple$10[1];if(!$interfaceIsEqual(err$3,$ifaceNil)){$s=-1;return[origin,false,err$3];}uidata.UI.copy(ctx,$assertType(ctxObj$2,uidata.UI));$s=38;continue;/* } else if (_2 === ("\xE7\xA7\xBB\xE5\x8B\x95")) { */case 35:_r$12=RobotMovePhase($clone(ctx,uidata.UI),unitID);/* */$s=40;case 40:if($c){$c=false;_r$12=_r$12.$blk();}if(_r$12&&_r$12.$blk!==undefined){break s;}_tuple$11=_r$12;uidata.UI.copy(ctx,_tuple$11[0]);cancel=_tuple$11[1];err$1=_tuple$11[2];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[origin,false,err$1];}/* */if(cancel){$s=41;continue;}/* */$s=42;continue;/* if (cancel) { */case 41:/* goto MENU2D_STEP */$s=11;continue;/* } */case 42:$s=38;continue;/* } else if (_2 === ("\xE7\xA9\xBA\xE4\xB8\xAD\xE9\x99\xB8\xE5\x9C\xB0")) { */case 36:tag=$clone((_entry$9=gameplayPage.Tags[$String.keyFor(unitID)],_entry$9!==undefined?_entry$9.v:new protocol.Tag.ptr(0,false,false)),protocol.Tag);_r$13=ctx.Model.OnRobotSkyGround(new ctx.constructor.elem(ctx),unitID,!tag.Sky);/* */$s=43;case 43:if($c){$c=false;_r$13=_r$13.$blk();}if(_r$13&&_r$13.$blk!==undefined){break s;}_tuple$12=_r$13;ctxObj$3=_tuple$12[0];err$4=_tuple$12[1];if(!$interfaceIsEqual(err$4,$ifaceNil)){$s=-1;return[origin,false,err$4];}uidata.UI.copy(ctx,$assertType(ctxObj$3,uidata.UI));_r$14=common.HandleShowMoveRangeWhenUnitAtCursor($clone(ctx,uidata.UI),(x$1=new structType.ptr(),new x$1.constructor.elem(x$1)));/* */$s=44;case 44:if($c){$c=false;_r$14=_r$14.$blk();}if(_r$14&&_r$14.$blk!==undefined){break s;}_tuple$13=_r$14;uidata.UI.copy(ctx,_tuple$13[0]);err$4=_tuple$13[1];if(!$interfaceIsEqual(err$4,$ifaceNil)){$s=-1;return[origin,false,err$4];}_r$15=UnitMenuPhase($clone(ctx,uidata.UI),unitID);/* */$s=45;case 45:if($c){$c=false;_r$15=_r$15.$blk();}if(_r$15&&_r$15.$blk!==undefined){break s;}_tuple$14=_r$15;uidata.UI.copy(ctx,_tuple$14[0]);cancel=_tuple$14[1];err$4=_tuple$14[2];if(!$interfaceIsEqual(err$4,$ifaceNil)){$s=-1;return[origin,false,err$4];}/* */if(cancel){$s=46;continue;}/* */$s=47;continue;/* if (cancel) { */case 46:/* goto MENU2D_STEP */$s=11;continue;/* } */case 47:$s=38;continue;/* } else if (_2 === ("\xE7\xA2\xBA\xE8\xAA\x8D")) { */case 37:/* } */case 38:case 33:/* } */case 23:case 19:_r$16=ctx.Model.OnDisableRobotMenu(new ctx.constructor.elem(ctx));/* */$s=48;case 48:if($c){$c=false;_r$16=_r$16.$blk();}if(_r$16&&_r$16.$blk!==undefined){break s;}_tuple$15=_r$16;ctxObj=_tuple$15[0];err$1=_tuple$15[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[origin,false,err$1];}uidata.UI.copy(ctx,$assertType(ctxObj,uidata.UI));/* } */case 5:_tuple$16=(_entry$10=gameplayPage.Items[$String.keyFor(unitID)],_entry$10!==undefined?[_entry$10.v,true]:[new protocol.Item.ptr("","",""),false]);item=$clone(_tuple$16[0],protocol.Item);is$1=_tuple$16[1];/* */if(is$1){$s=49;continue;}/* */$s=50;continue;/* if (is$1) { */case 49:$unused(item);_tuple$17=CreateItemMenu($clone(ctx,uidata.UI),unitID);ctx$1=$clone(_tuple$17[0],uidata.UI);err$5=_tuple$17[1];if(!$interfaceIsEqual(err$5,$ifaceNil)){$s=-1;return[origin,false,err$5];}ctx$1.Actives=uidata.AssocIntBool(ctx$1.Actives,12,true);_tmp$2=false;_tmp$3=false;cancel$1=_tmp$2;tab$1=_tmp$3;selection$1="";/* while (true) { */case 51:_r$17=common.Menu1DStep($clone(ctx$1,uidata.UI),10,32);/* */$s=53;case 53:if($c){$c=false;_r$17=_r$17.$blk();}if(_r$17&&_r$17.$blk!==undefined){break s;}_tuple$18=_r$17;uidata.UI.copy(ctx$1,_tuple$18[0]);selection$1=_tuple$18[1];cancel$1=_tuple$18[2];tab$1=_tuple$18[3];err$5=_tuple$18[4];if(!$interfaceIsEqual(err$5,$ifaceNil)){$s=-1;return[origin,false,err$5];}if(tab$1){/* continue; */$s=51;continue;}if(cancel$1){$s=-1;return[origin,cancel$1,$ifaceNil];}/* break; */$s=52;continue;/* } */$s=51;continue;case 52:$unused(selection$1);ctx$1.Actives=uidata.AssocIntBool(ctx$1.Actives,12,false);/* } */case 50:_arg$4=protocol.LogCategoryPhase;_r$18=fmt.Sprintf("unitID(%v) end",new sliceType$4([new $String(unitID)]));/* */$s=54;case 54:if($c){$c=false;_r$18=_r$18.$blk();}if(_r$18&&_r$18.$blk!==undefined){break s;}_arg$5=_r$18;$r=log.Log(_arg$4,"UnitMenuPhase",_arg$5);/* */$s=55;case 55:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return[ctx,false,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:UnitMenuPhase};}$f._1=_1;$f._2=_2;$f._arg=_arg;$f._arg$1=_arg$1;$f._arg$2=_arg$2;$f._arg$3=_arg$3;$f._arg$4=_arg$4;$f._arg$5=_arg$5;$f._entry=_entry;$f._entry$1=_entry$1;$f._entry$10=_entry$10;$f._entry$2=_entry$2;$f._entry$3=_entry$3;$f._entry$4=_entry$4;$f._entry$5=_entry$5;$f._entry$6=_entry$6;$f._entry$7=_entry$7;$f._entry$8=_entry$8;$f._entry$9=_entry$9;$f._r=_r;$f._r$1=_r$1;$f._r$10=_r$10;$f._r$11=_r$11;$f._r$12=_r$12;$f._r$13=_r$13;$f._r$14=_r$14;$f._r$15=_r$15;$f._r$16=_r$16;$f._r$17=_r$17;$f._r$18=_r$18;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._r$7=_r$7;$f._r$8=_r$8;$f._r$9=_r$9;$f._tmp=_tmp;$f._tmp$1=_tmp$1;$f._tmp$2=_tmp$2;$f._tmp$3=_tmp$3;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f._tuple$10=_tuple$10;$f._tuple$11=_tuple$11;$f._tuple$12=_tuple$12;$f._tuple$13=_tuple$13;$f._tuple$14=_tuple$14;$f._tuple$15=_tuple$15;$f._tuple$16=_tuple$16;$f._tuple$17=_tuple$17;$f._tuple$18=_tuple$18;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f._tuple$4=_tuple$4;$f._tuple$5=_tuple$5;$f._tuple$6=_tuple$6;$f._tuple$7=_tuple$7;$f._tuple$8=_tuple$8;$f._tuple$9=_tuple$9;$f.cancel=cancel;$f.cancel$1=cancel$1;$f.ctx=ctx;$f.ctx$1=ctx$1;$f.ctxObj=ctxObj;$f.ctxObj$1=ctxObj$1;$f.ctxObj$2=ctxObj$2;$f.ctxObj$3=ctxObj$3;$f.err=err;$f.err$1=err$1;$f.err$2=err$2;$f.err$3=err$3;$f.err$4=err$4;$f.err$5=err$5;$f.gameplayPage=gameplayPage;$f.has=has;$f.invalidStr=invalidStr;$f.is=is;$f.is$1=is$1;$f.isRobotDone=isRobotDone;$f.item=item;$f.origin=origin;$f.robot=robot;$f.selection=selection;$f.selection$1=selection$1;$f.tab=tab;$f.tab$1=tab$1;$f.tag=tag;$f.topMenu=topMenu;$f.transformID=transformID;$f.unitID=unitID;$f.view=view;$f.weaponID=weaponID;$f.x=x;$f.x$1=x$1;$f.$s=$s;$f.$r=$r;return $f;};$pkg.UnitMenuPhase=UnitMenuPhase;$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=common.$init();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=data.$init();/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=def.$init();/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=helper.$init();/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=protocol.$init();/* */$s=5;case 5:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=uidata.$init();/* */$s=6;case 6:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=fmt.$init();/* */$s=7;case 7:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=log.$init();/* */$s=8;case 8:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["app/page/lobby"]=function(){var $pkg={},$init,common,gameplay,tool,def,helper,protocol,uidata,fmt,log,sliceType,sliceType$1,AssocPhase,BuyPhase,LobbyPagePhase,MultiUnitSelectionPagePhase,SelectLevelPhase;common=$packages["app/page/common"];gameplay=$packages["app/page/gameplay"];tool=$packages["app/tool"];def=$packages["app/tool/def"];helper=$packages["app/tool/helper"];protocol=$packages["app/tool/protocol"];uidata=$packages["app/tool/uidata"];fmt=$packages["fmt"];log=$packages["tool/log"];sliceType=$sliceType($String);sliceType$1=$sliceType($emptyInterface);AssocPhase=function(origin,pageID){var _r,_tuple,ctx,err,leftMapping,origin,pageID,view,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tuple=$f._tuple;ctx=$f.ctx;err=$f.err;leftMapping=$f.leftMapping;origin=$f.origin;pageID=$f.pageID;view=$f.view;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:err=[err];leftMapping=[leftMapping];pageID=[pageID];view=[view];view[0]=def.View;err[0]=$ifaceNil;ctx=$clone(origin,uidata.UI);ctx.Actives=uidata.AssocIntBool(ctx.Actives,pageID[0],true);leftMapping[0]=$makeMap($Int.keyFor,[{k:6,v:26},{k:7,v:27},{k:8,v:28}]);_r=common.BasicPagePhase($clone(ctx,uidata.UI),pageID[0],false,function(err,leftMapping,pageID,view){return function $b(origin$1){var _r,_tuple$1,ctx$1,err$1,origin$1,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tuple$1=$f._tuple$1;ctx$1=$f.ctx$1;err$1=$f.err$1;origin$1=$f.origin$1;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:err$1=$ifaceNil;ctx$1=$clone(origin$1,uidata.UI);_r=view[0].Render($clone(ctx$1,uidata.UI));/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple$1=_r;uidata.UI.copy(ctx$1,_tuple$1[0]);err$1=_tuple$1[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[origin$1,err$1];}$s=-1;return[ctx$1,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:$b};}$f._r=_r;$f._tuple$1=_tuple$1;$f.ctx$1=ctx$1;$f.err$1=err$1;$f.origin$1=origin$1;$f.$s=$s;$f.$r=$r;return $f;};}(err,leftMapping,pageID,view),function(err,leftMapping,pageID,view){return function $b(origin$1,focus,selection,cancel,tab){var _1,_2,_3,_4,_5,_6,_7,_arg,_arg$1,_arg$10,_arg$11,_arg$2,_arg$3,_arg$4,_arg$5,_arg$6,_arg$7,_arg$8,_arg$9,_entry,_entry$1,_entry$10,_entry$11,_entry$12,_entry$13,_entry$2,_entry$3,_entry$4,_entry$5,_entry$6,_entry$7,_entry$8,_entry$9,_r,_r$1,_r$10,_r$11,_r$12,_r$13,_r$14,_r$15,_r$16,_r$17,_r$18,_r$19,_r$2,_r$20,_r$21,_r$22,_r$23,_r$3,_r$4,_r$5,_r$6,_r$7,_r$8,_r$9,_tuple$1,_tuple$10,_tuple$11,_tuple$12,_tuple$13,_tuple$14,_tuple$15,_tuple$16,_tuple$2,_tuple$3,_tuple$4,_tuple$5,_tuple$6,_tuple$7,_tuple$8,_tuple$9,cancel,ctx$1,focus,focus$1,focus$2,focus$3,focus$4,leftMenu,leftMenu$1,leftSelection,leftSelection$1,menuID,middleMenu,middleSelection,origin$1,outOfRange,outOfRange$1,rightSelection,selection,tab,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_2=$f._2;_3=$f._3;_4=$f._4;_5=$f._5;_6=$f._6;_7=$f._7;_arg=$f._arg;_arg$1=$f._arg$1;_arg$10=$f._arg$10;_arg$11=$f._arg$11;_arg$2=$f._arg$2;_arg$3=$f._arg$3;_arg$4=$f._arg$4;_arg$5=$f._arg$5;_arg$6=$f._arg$6;_arg$7=$f._arg$7;_arg$8=$f._arg$8;_arg$9=$f._arg$9;_entry=$f._entry;_entry$1=$f._entry$1;_entry$10=$f._entry$10;_entry$11=$f._entry$11;_entry$12=$f._entry$12;_entry$13=$f._entry$13;_entry$2=$f._entry$2;_entry$3=$f._entry$3;_entry$4=$f._entry$4;_entry$5=$f._entry$5;_entry$6=$f._entry$6;_entry$7=$f._entry$7;_entry$8=$f._entry$8;_entry$9=$f._entry$9;_r=$f._r;_r$1=$f._r$1;_r$10=$f._r$10;_r$11=$f._r$11;_r$12=$f._r$12;_r$13=$f._r$13;_r$14=$f._r$14;_r$15=$f._r$15;_r$16=$f._r$16;_r$17=$f._r$17;_r$18=$f._r$18;_r$19=$f._r$19;_r$2=$f._r$2;_r$20=$f._r$20;_r$21=$f._r$21;_r$22=$f._r$22;_r$23=$f._r$23;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_r$7=$f._r$7;_r$8=$f._r$8;_r$9=$f._r$9;_tuple$1=$f._tuple$1;_tuple$10=$f._tuple$10;_tuple$11=$f._tuple$11;_tuple$12=$f._tuple$12;_tuple$13=$f._tuple$13;_tuple$14=$f._tuple$14;_tuple$15=$f._tuple$15;_tuple$16=$f._tuple$16;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;_tuple$4=$f._tuple$4;_tuple$5=$f._tuple$5;_tuple$6=$f._tuple$6;_tuple$7=$f._tuple$7;_tuple$8=$f._tuple$8;_tuple$9=$f._tuple$9;cancel=$f.cancel;ctx$1=$f.ctx$1;focus=$f.focus;focus$1=$f.focus$1;focus$2=$f.focus$2;focus$3=$f.focus$3;focus$4=$f.focus$4;leftMenu=$f.leftMenu;leftMenu$1=$f.leftMenu$1;leftSelection=$f.leftSelection;leftSelection$1=$f.leftSelection$1;menuID=$f.menuID;middleMenu=$f.middleMenu;middleSelection=$f.middleSelection;origin$1=$f.origin$1;outOfRange=$f.outOfRange;outOfRange$1=$f.outOfRange$1;rightSelection=$f.rightSelection;selection=$f.selection;tab=$f.tab;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:ctx$1=$clone(origin$1,uidata.UI);menuID=(x=(_entry=ctx$1.Menus[$Int.keyFor(pageID[0])],_entry!==undefined?_entry.v:uidata.ListInt.nil),focus<0||focus>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+focus]);_1=menuID;/* */if(_1===26||_1===27||_1===28){$s=2;continue;}/* */if(_1===18||_1===17){$s=3;continue;}/* */if(_1===29){$s=4;continue;}/* */$s=5;continue;/* if ((_1 === (26)) || (_1 === (27)) || (_1 === (28))) { */case 2:if(cancel){$s=-1;return[ctx$1,cancel,$ifaceNil];}_tuple$1=helper.Clamp((_entry$1=ctx$1.Focus[$Int.keyFor(pageID[0])],_entry$1!==undefined?_entry$1.v:0)+1>>0,0,(_entry$2=ctx$1.Menus[$Int.keyFor(pageID[0])],_entry$2!==undefined?_entry$2.v:uidata.ListInt.nil).$length);focus$1=_tuple$1[0];ctx$1.Focus=uidata.AssocIntInt(ctx$1.Focus,pageID[0],focus$1);$s=6;continue;/* } else if ((_1 === (18)) || (_1 === (17))) { */case 3:if(cancel){_tuple$2=helper.Clamp((_entry$3=ctx$1.Focus[$Int.keyFor(pageID[0])],_entry$3!==undefined?_entry$3.v:0)-1>>0,0,(_entry$4=ctx$1.Menus[$Int.keyFor(pageID[0])],_entry$4!==undefined?_entry$4.v:uidata.ListInt.nil).$length);focus$2=_tuple$2[0];ctx$1.Focus=uidata.AssocIntInt(ctx$1.Focus,pageID[0],focus$2);$s=-1;return[ctx$1,false,$ifaceNil];}leftMenu=$clone((_entry$6=ctx$1.Menu1Ds[$Int.keyFor((_entry$5=leftMapping[0][$Int.keyFor(pageID[0])],_entry$5!==undefined?_entry$5.v:0))],_entry$6!==undefined?_entry$6.v:new uidata.Menu1D.ptr(sliceType.nil,false,0,0,0)),uidata.Menu1D);middleMenu=$clone((_entry$7=ctx$1.Menu1Ds[$Int.keyFor(29)],_entry$7!==undefined?_entry$7.v:new uidata.Menu1D.ptr(sliceType.nil,false,0,0,0)),uidata.Menu1D);_r=tool.TryGetString(leftMenu.Options,leftMenu.Cursor);/* */$s=7;case 7:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple$3=_r;leftSelection=_tuple$3[0];outOfRange=_tuple$3[1];_arg=protocol.LogCategoryDetail;_r$1=fmt.Sprintf("leftSelection(%v)",new sliceType$1([new $String(leftSelection)]));/* */$s=8;case 8:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_arg$1=_r$1;$r=log.Log(_arg,"AssocPhase",_arg$1);/* */$s=9;case 9:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* */if(!$interfaceIsEqual(outOfRange,$ifaceNil)){$s=10;continue;}/* */$s=11;continue;/* if (!($interfaceIsEqual(outOfRange, $ifaceNil))) { */case 10:_arg$2=protocol.LogCategoryWarning;_r$2=outOfRange.Error();/* */$s=12;case 12:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_arg$3=_r$2;$r=log.Log(_arg$2,"AssocPhase",_arg$3);/* */$s=13;case 13:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return[ctx$1,cancel,$ifaceNil];/* } */case 11:_r$3=tool.TryGetString(middleMenu.Options,middleMenu.Cursor);/* */$s=14;case 14:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_tuple$4=_r$3;middleSelection=_tuple$4[0];outOfRange=_tuple$4[1];_arg$4=protocol.LogCategoryDetail;_r$4=fmt.Sprintf("middleSelection(%v)",new sliceType$1([new $String(middleSelection)]));/* */$s=15;case 15:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}_arg$5=_r$4;$r=log.Log(_arg$4,"AssocPhase",_arg$5);/* */$s=16;case 16:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* */if(!$interfaceIsEqual(outOfRange,$ifaceNil)){$s=17;continue;}/* */$s=18;continue;/* if (!($interfaceIsEqual(outOfRange, $ifaceNil))) { */case 17:_arg$6=protocol.LogCategoryWarning;_r$5=outOfRange.Error();/* */$s=19;case 19:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}_arg$7=_r$5;$r=log.Log(_arg$6,"AssocPhase",_arg$7);/* */$s=20;case 20:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return[ctx$1,cancel,$ifaceNil];/* } */case 18:rightSelection=selection;_arg$8=protocol.LogCategoryDetail;_r$6=fmt.Sprintf("rightSelection(%v)",new sliceType$1([new $String(rightSelection)]));/* */$s=21;case 21:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}_arg$9=_r$6;$r=log.Log(_arg$8,"AssocPhase",_arg$9);/* */$s=22;case 22:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}_2=pageID[0];/* */if(_2===6){$s=24;continue;}/* */if(_2===7){$s=25;continue;}/* */if(_2===8){$s=26;continue;}/* */$s=27;continue;/* if (_2 === (6)) { */case 24:_3=middleSelection;/* */if(_3==="\xE6\x8C\x87\xE5\xAE\x9A"){$s=30;continue;}/* */if(_3==="\xE7\xA7\xBB\xE9\x99\xA4"){$s=31;continue;}/* */$s=32;continue;/* if (_3 === ("\xE6\x8C\x87\xE5\xAE\x9A")) { */case 30:_r$7=ctx$1.Model.AssocRobotPilot(leftSelection,rightSelection);/* */$s=34;case 34:if($c){$c=false;_r$7=_r$7.$blk();}if(_r$7&&_r$7.$blk!==undefined){break s;}_tuple$5=_r$7;ctx$1.Model=_tuple$5[0];err[0]=_tuple$5[1];if(!$interfaceIsEqual(err[0],$ifaceNil)){$s=-1;return[ctx$1,false,err[0]];}$s=33;continue;/* } else if (_3 === ("\xE7\xA7\xBB\xE9\x99\xA4")) { */case 31:_r$8=ctx$1.Model.DissocRobotPilot(leftSelection);/* */$s=35;case 35:if($c){$c=false;_r$8=_r$8.$blk();}if(_r$8&&_r$8.$blk!==undefined){break s;}_tuple$6=_r$8;ctx$1.Model=_tuple$6[0];err[0]=_tuple$6[1];if(!$interfaceIsEqual(err[0],$ifaceNil)){$s=-1;return[ctx$1,false,err[0]];}$s=33;continue;/* } else { */case 32:_r$9=fmt.Errorf("AssocPhase: you must select option: %v",new sliceType$1([new $String(middleSelection)]));/* */$s=36;case 36:if($c){$c=false;_r$9=_r$9.$blk();}if(_r$9&&_r$9.$blk!==undefined){break s;}$s=-1;return[origin$1,cancel,_r$9];/* } */case 33:case 29:$s=28;continue;/* } else if (_2 === (7)) { */case 25:_4=middleSelection;/* */if(_4==="\xE6\x8C\x87\xE5\xAE\x9A"){$s=38;continue;}/* */if(_4==="\xE7\xA7\xBB\xE9\x99\xA4"){$s=39;continue;}/* */$s=40;continue;/* if (_4 === ("\xE6\x8C\x87\xE5\xAE\x9A")) { */case 38:_r$10=ctx$1.Model.AssocWeaponRobot(leftSelection,rightSelection);/* */$s=42;case 42:if($c){$c=false;_r$10=_r$10.$blk();}if(_r$10&&_r$10.$blk!==undefined){break s;}_tuple$7=_r$10;ctx$1.Model=_tuple$7[0];err[0]=_tuple$7[1];if(!$interfaceIsEqual(err[0],$ifaceNil)){$s=-1;return[ctx$1,false,err[0]];}$s=41;continue;/* } else if (_4 === ("\xE7\xA7\xBB\xE9\x99\xA4")) { */case 39:_r$11=ctx$1.Model.DissocWeaponRobot(leftSelection);/* */$s=43;case 43:if($c){$c=false;_r$11=_r$11.$blk();}if(_r$11&&_r$11.$blk!==undefined){break s;}_tuple$8=_r$11;ctx$1.Model=_tuple$8[0];err[0]=_tuple$8[1];if(!$interfaceIsEqual(err[0],$ifaceNil)){$s=-1;return[ctx$1,false,err[0]];}$s=41;continue;/* } else { */case 40:_r$12=fmt.Errorf("AssocPhase: you must select option: %v",new sliceType$1([new $String(middleSelection)]));/* */$s=44;case 44:if($c){$c=false;_r$12=_r$12.$blk();}if(_r$12&&_r$12.$blk!==undefined){break s;}$s=-1;return[origin$1,cancel,_r$12];/* } */case 41:case 37:$s=28;continue;/* } else if (_2 === (8)) { */case 26:_5=middleSelection;/* */if(_5==="\xE6\x8C\x87\xE5\xAE\x9A"){$s=46;continue;}/* */if(_5==="\xE7\xA7\xBB\xE9\x99\xA4"){$s=47;continue;}/* */$s=48;continue;/* if (_5 === ("\xE6\x8C\x87\xE5\xAE\x9A")) { */case 46:_r$13=ctx$1.Model.AssocComponentRobot(leftSelection,rightSelection);/* */$s=50;case 50:if($c){$c=false;_r$13=_r$13.$blk();}if(_r$13&&_r$13.$blk!==undefined){break s;}_tuple$9=_r$13;ctx$1.Model=_tuple$9[0];err[0]=_tuple$9[1];if(!$interfaceIsEqual(err[0],$ifaceNil)){$s=-1;return[ctx$1,false,err[0]];}$s=49;continue;/* } else if (_5 === ("\xE7\xA7\xBB\xE9\x99\xA4")) { */case 47:_r$14=ctx$1.Model.DissocComponentRobot(leftSelection);/* */$s=51;case 51:if($c){$c=false;_r$14=_r$14.$blk();}if(_r$14&&_r$14.$blk!==undefined){break s;}_tuple$10=_r$14;ctx$1.Model=_tuple$10[0];err[0]=_tuple$10[1];if(!$interfaceIsEqual(err[0],$ifaceNil)){$s=-1;return[ctx$1,false,err[0]];}$s=49;continue;/* } else { */case 48:_r$15=fmt.Errorf("AssocPhase: you must select option: %v",new sliceType$1([new $String(middleSelection)]));/* */$s=52;case 52:if($c){$c=false;_r$15=_r$15.$blk();}if(_r$15&&_r$15.$blk!==undefined){break s;}$s=-1;return[origin$1,cancel,_r$15];/* } */case 49:case 45:$s=28;continue;/* } else { */case 27:_r$16=fmt.Errorf("AssocPhase: you must have page: %v",new sliceType$1([new $Int(pageID[0])]));/* */$s=53;case 53:if($c){$c=false;_r$16=_r$16.$blk();}if(_r$16&&_r$16.$blk!==undefined){break s;}$s=-1;return[origin$1,cancel,_r$16];/* } */case 28:case 23:$s=6;continue;/* } else if (_1 === (29)) { */case 4:if(cancel){_tuple$11=helper.Clamp((_entry$8=ctx$1.Focus[$Int.keyFor(pageID[0])],_entry$8!==undefined?_entry$8.v:0)-1>>0,0,(_entry$9=ctx$1.Menus[$Int.keyFor(pageID[0])],_entry$9!==undefined?_entry$9.v:uidata.ListInt.nil).$length);focus$3=_tuple$11[0];ctx$1.Focus=uidata.AssocIntInt(ctx$1.Focus,pageID[0],focus$3);$s=-1;return[ctx$1,false,$ifaceNil];}_6=selection;/* */if(_6==="\xE6\x8C\x87\xE5\xAE\x9A"){$s=55;continue;}/* */if(_6==="\xE7\xA7\xBB\xE9\x99\xA4"){$s=56;continue;}/* */$s=57;continue;/* if (_6 === ("\xE6\x8C\x87\xE5\xAE\x9A")) { */case 55:_tuple$12=helper.Clamp((_entry$10=ctx$1.Focus[$Int.keyFor(pageID[0])],_entry$10!==undefined?_entry$10.v:0)+1>>0,0,(_entry$11=ctx$1.Menus[$Int.keyFor(pageID[0])],_entry$11!==undefined?_entry$11.v:uidata.ListInt.nil).$length);focus$4=_tuple$12[0];ctx$1.Focus=uidata.AssocIntInt(ctx$1.Focus,pageID[0],focus$4);$s=57;continue;/* } else if (_6 === ("\xE7\xA7\xBB\xE9\x99\xA4")) { */case 56:leftMenu$1=$clone((_entry$13=ctx$1.Menu1Ds[$Int.keyFor((_entry$12=leftMapping[0][$Int.keyFor(pageID[0])],_entry$12!==undefined?_entry$12.v:0))],_entry$13!==undefined?_entry$13.v:new uidata.Menu1D.ptr(sliceType.nil,false,0,0,0)),uidata.Menu1D);_r$17=tool.TryGetString(leftMenu$1.Options,leftMenu$1.Cursor);/* */$s=58;case 58:if($c){$c=false;_r$17=_r$17.$blk();}if(_r$17&&_r$17.$blk!==undefined){break s;}_tuple$13=_r$17;leftSelection$1=_tuple$13[0];outOfRange$1=_tuple$13[1];/* */if(!$interfaceIsEqual(outOfRange$1,$ifaceNil)){$s=59;continue;}/* */$s=60;continue;/* if (!($interfaceIsEqual(outOfRange$1, $ifaceNil))) { */case 59:_arg$10=protocol.LogCategoryWarning;_r$18=outOfRange$1.Error();/* */$s=61;case 61:if($c){$c=false;_r$18=_r$18.$blk();}if(_r$18&&_r$18.$blk!==undefined){break s;}_arg$11=_r$18;$r=log.Log(_arg$10,"AssocPhase",_arg$11);/* */$s=62;case 62:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return[ctx$1,cancel,$ifaceNil];/* } */case 60:_7=pageID[0];/* */if(_7===6){$s=64;continue;}/* */if(_7===7){$s=65;continue;}/* */if(_7===8){$s=66;continue;}/* */$s=67;continue;/* if (_7 === (6)) { */case 64:_r$19=ctx$1.Model.DissocRobotPilot(leftSelection$1);/* */$s=69;case 69:if($c){$c=false;_r$19=_r$19.$blk();}if(_r$19&&_r$19.$blk!==undefined){break s;}_tuple$14=_r$19;ctx$1.Model=_tuple$14[0];err[0]=_tuple$14[1];if(!$interfaceIsEqual(err[0],$ifaceNil)){$s=-1;return[ctx$1,false,err[0]];}$s=68;continue;/* } else if (_7 === (7)) { */case 65:_r$20=ctx$1.Model.DissocWeaponRobot(leftSelection$1);/* */$s=70;case 70:if($c){$c=false;_r$20=_r$20.$blk();}if(_r$20&&_r$20.$blk!==undefined){break s;}_tuple$15=_r$20;ctx$1.Model=_tuple$15[0];err[0]=_tuple$15[1];if(!$interfaceIsEqual(err[0],$ifaceNil)){$s=-1;return[ctx$1,false,err[0]];}$s=68;continue;/* } else if (_7 === (8)) { */case 66:_r$21=ctx$1.Model.DissocComponentRobot(leftSelection$1);/* */$s=71;case 71:if($c){$c=false;_r$21=_r$21.$blk();}if(_r$21&&_r$21.$blk!==undefined){break s;}_tuple$16=_r$21;ctx$1.Model=_tuple$16[0];err[0]=_tuple$16[1];if(!$interfaceIsEqual(err[0],$ifaceNil)){$s=-1;return[ctx$1,false,err[0]];}$s=68;continue;/* } else { */case 67:_r$22=fmt.Errorf("AssocPhase: you must have page: %v",new sliceType$1([new $Int(pageID[0])]));/* */$s=72;case 72:if($c){$c=false;_r$22=_r$22.$blk();}if(_r$22&&_r$22.$blk!==undefined){break s;}$s=-1;return[origin$1,cancel,_r$22];/* } */case 68:case 63:/* } */case 57:case 54:$s=6;continue;/* } else { */case 5:_r$23=fmt.Errorf("AssocPhase: menu not found %v",new sliceType$1([new $Int(menuID)]));/* */$s=73;case 73:if($c){$c=false;_r$23=_r$23.$blk();}if(_r$23&&_r$23.$blk!==undefined){break s;}$s=-1;return[origin$1,cancel,_r$23];/* } */case 6:case 1:$s=-1;return[ctx$1,cancel,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:$b};}$f._1=_1;$f._2=_2;$f._3=_3;$f._4=_4;$f._5=_5;$f._6=_6;$f._7=_7;$f._arg=_arg;$f._arg$1=_arg$1;$f._arg$10=_arg$10;$f._arg$11=_arg$11;$f._arg$2=_arg$2;$f._arg$3=_arg$3;$f._arg$4=_arg$4;$f._arg$5=_arg$5;$f._arg$6=_arg$6;$f._arg$7=_arg$7;$f._arg$8=_arg$8;$f._arg$9=_arg$9;$f._entry=_entry;$f._entry$1=_entry$1;$f._entry$10=_entry$10;$f._entry$11=_entry$11;$f._entry$12=_entry$12;$f._entry$13=_entry$13;$f._entry$2=_entry$2;$f._entry$3=_entry$3;$f._entry$4=_entry$4;$f._entry$5=_entry$5;$f._entry$6=_entry$6;$f._entry$7=_entry$7;$f._entry$8=_entry$8;$f._entry$9=_entry$9;$f._r=_r;$f._r$1=_r$1;$f._r$10=_r$10;$f._r$11=_r$11;$f._r$12=_r$12;$f._r$13=_r$13;$f._r$14=_r$14;$f._r$15=_r$15;$f._r$16=_r$16;$f._r$17=_r$17;$f._r$18=_r$18;$f._r$19=_r$19;$f._r$2=_r$2;$f._r$20=_r$20;$f._r$21=_r$21;$f._r$22=_r$22;$f._r$23=_r$23;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._r$7=_r$7;$f._r$8=_r$8;$f._r$9=_r$9;$f._tuple$1=_tuple$1;$f._tuple$10=_tuple$10;$f._tuple$11=_tuple$11;$f._tuple$12=_tuple$12;$f._tuple$13=_tuple$13;$f._tuple$14=_tuple$14;$f._tuple$15=_tuple$15;$f._tuple$16=_tuple$16;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f._tuple$4=_tuple$4;$f._tuple$5=_tuple$5;$f._tuple$6=_tuple$6;$f._tuple$7=_tuple$7;$f._tuple$8=_tuple$8;$f._tuple$9=_tuple$9;$f.cancel=cancel;$f.ctx$1=ctx$1;$f.focus=focus;$f.focus$1=focus$1;$f.focus$2=focus$2;$f.focus$3=focus$3;$f.focus$4=focus$4;$f.leftMenu=leftMenu;$f.leftMenu$1=leftMenu$1;$f.leftSelection=leftSelection;$f.leftSelection$1=leftSelection$1;$f.menuID=menuID;$f.middleMenu=middleMenu;$f.middleSelection=middleSelection;$f.origin$1=origin$1;$f.outOfRange=outOfRange;$f.outOfRange$1=outOfRange$1;$f.rightSelection=rightSelection;$f.selection=selection;$f.tab=tab;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};}(err,leftMapping,pageID,view),function(err,leftMapping,pageID,view){return function(origin$1,focus,selection,cancel,tab){var cancel,focus,origin$1,selection,tab;return[origin$1,cancel,$ifaceNil];};}(err,leftMapping,pageID,view));/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;uidata.UI.copy(ctx,_tuple[0]);err[0]=_tuple[1];if(!$interfaceIsEqual(err[0],$ifaceNil)){$s=-1;return[ctx,err[0]];}ctx.Actives=uidata.AssocIntBool(ctx.Actives,pageID[0],false);$s=-1;return[ctx,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:AssocPhase};}$f._r=_r;$f._tuple=_tuple;$f.ctx=ctx;$f.err=err;$f.leftMapping=leftMapping;$f.origin=origin;$f.pageID=pageID;$f.view=view;$f.$s=$s;$f.$r=$r;return $f;};$pkg.AssocPhase=AssocPhase;BuyPhase=function(origin,pageID){var _r,_tuple,ctx,err,origin,pageID,view,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tuple=$f._tuple;ctx=$f.ctx;err=$f.err;origin=$f.origin;pageID=$f.pageID;view=$f.view;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:err=[err];pageID=[pageID];view=[view];view[0]=def.View;err[0]=$ifaceNil;ctx=$clone(origin,uidata.UI);ctx.Actives=uidata.AssocIntBool(ctx.Actives,pageID[0],true);_r=common.BasicPagePhase($clone(ctx,uidata.UI),pageID[0],false,function(err,pageID,view){return function $b(origin$1){var _r,_tuple$1,ctx$1,err$1,origin$1,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tuple$1=$f._tuple$1;ctx$1=$f.ctx$1;err$1=$f.err$1;origin$1=$f.origin$1;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:err$1=$ifaceNil;ctx$1=$clone(origin$1,uidata.UI);_r=view[0].Render($clone(ctx$1,uidata.UI));/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple$1=_r;uidata.UI.copy(ctx$1,_tuple$1[0]);err$1=_tuple$1[1];if(!$interfaceIsEqual(err$1,$ifaceNil)){$s=-1;return[origin$1,err$1];}$s=-1;return[ctx$1,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:$b};}$f._r=_r;$f._tuple$1=_tuple$1;$f.ctx$1=ctx$1;$f.err$1=err$1;$f.origin$1=origin$1;$f.$s=$s;$f.$r=$r;return $f;};}(err,pageID,view),function(err,pageID,view){return function $b(origin$1,focus,selection,cancel,tab){var _1,_2,_entry,_entry$1,_entry$10,_entry$11,_entry$12,_entry$13,_entry$14,_entry$2,_entry$3,_entry$4,_entry$5,_entry$6,_entry$7,_entry$8,_entry$9,_r,_r$1,_r$2,_r$3,_r$4,_r$5,_r$6,_r$7,_r$8,_tuple$1,_tuple$10,_tuple$11,_tuple$2,_tuple$3,_tuple$4,_tuple$5,_tuple$6,_tuple$7,_tuple$8,_tuple$9,cancel,ctx$1,focus,focus$1,focus$2,focus$3,focus$4,focus$5,focus$6,focus$7,menuID,origin$1,selection,tab,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_2=$f._2;_entry=$f._entry;_entry$1=$f._entry$1;_entry$10=$f._entry$10;_entry$11=$f._entry$11;_entry$12=$f._entry$12;_entry$13=$f._entry$13;_entry$14=$f._entry$14;_entry$2=$f._entry$2;_entry$3=$f._entry$3;_entry$4=$f._entry$4;_entry$5=$f._entry$5;_entry$6=$f._entry$6;_entry$7=$f._entry$7;_entry$8=$f._entry$8;_entry$9=$f._entry$9;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_r$7=$f._r$7;_r$8=$f._r$8;_tuple$1=$f._tuple$1;_tuple$10=$f._tuple$10;_tuple$11=$f._tuple$11;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;_tuple$4=$f._tuple$4;_tuple$5=$f._tuple$5;_tuple$6=$f._tuple$6;_tuple$7=$f._tuple$7;_tuple$8=$f._tuple$8;_tuple$9=$f._tuple$9;cancel=$f.cancel;ctx$1=$f.ctx$1;focus=$f.focus;focus$1=$f.focus$1;focus$2=$f.focus$2;focus$3=$f.focus$3;focus$4=$f.focus$4;focus$5=$f.focus$5;focus$6=$f.focus$6;focus$7=$f.focus$7;menuID=$f.menuID;origin$1=$f.origin$1;selection=$f.selection;tab=$f.tab;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:ctx$1=$clone(origin$1,uidata.UI);menuID=(x=(_entry=ctx$1.Menus[$Int.keyFor(pageID[0])],_entry!==undefined?_entry.v:uidata.ListInt.nil),focus<0||focus>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+focus]);_1=menuID;/* */if(_1===25){$s=2;continue;}/* */if(_1===17||_1===18||_1===19||_1===20){$s=3;continue;}/* */if(_1===21){$s=4;continue;}/* */if(_1===22){$s=5;continue;}/* */if(_1===23){$s=6;continue;}/* */if(_1===24){$s=7;continue;}/* */$s=8;continue;/* if (_1 === (25)) { */case 2:if(cancel){_tuple$1=helper.Clamp((_entry$1=ctx$1.Focus[$Int.keyFor(pageID[0])],_entry$1!==undefined?_entry$1.v:0)-1>>0,0,(_entry$2=ctx$1.Menus[$Int.keyFor(pageID[0])],_entry$2!==undefined?_entry$2.v:uidata.ListInt.nil).$length);focus$1=_tuple$1[0];ctx$1.Focus=uidata.AssocIntInt(ctx$1.Focus,pageID[0],focus$1);$s=-1;return[ctx$1,false,$ifaceNil];}_2=selection;/* */if(_2==="\xE8\xB2\xB7"){$s=10;continue;}/* */if(_2==="\xE8\xB3\xA3"){$s=11;continue;}/* */$s=12;continue;/* if (_2 === ("\xE8\xB2\xB7")) { */case 10:_tuple$2=helper.Clamp((_entry$3=ctx$1.Focus[$Int.keyFor(pageID[0])],_entry$3!==undefined?_entry$3.v:0)+1>>0,0,(_entry$4=ctx$1.Menus[$Int.keyFor(pageID[0])],_entry$4!==undefined?_entry$4.v:uidata.ListInt.nil).$length);focus$2=_tuple$2[0];ctx$1.Focus=uidata.AssocIntInt(ctx$1.Focus,pageID[0],focus$2);$s=12;continue;/* } else if (_2 === ("\xE8\xB3\xA3")) { */case 11:_r=fmt.Println(new sliceType$1([new $String("Sell")]));/* */$s=13;case 13:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_r;/* } */case 12:case 9:$s=8;continue;/* } else if ((_1 === (17)) || (_1 === (18)) || (_1 === (19)) || (_1 === (20))) { */case 3:if(cancel){$s=-1;return[ctx$1,cancel,$ifaceNil];}_tuple$3=helper.Clamp((_entry$5=ctx$1.Focus[$Int.keyFor(pageID[0])],_entry$5!==undefined?_entry$5.v:0)+1>>0,0,(_entry$6=ctx$1.Menus[$Int.keyFor(pageID[0])],_entry$6!==undefined?_entry$6.v:uidata.ListInt.nil).$length);focus$3=_tuple$3[0];ctx$1.Focus=uidata.AssocIntInt(ctx$1.Focus,pageID[0],focus$3);$s=8;continue;/* } else if (_1 === (21)) { */case 4:if(cancel){_tuple$4=helper.Clamp((_entry$7=ctx$1.Focus[$Int.keyFor(pageID[0])],_entry$7!==undefined?_entry$7.v:0)-1>>0,0,(_entry$8=ctx$1.Menus[$Int.keyFor(pageID[0])],_entry$8!==undefined?_entry$8.v:uidata.ListInt.nil).$length);focus$4=_tuple$4[0];ctx$1.Focus=uidata.AssocIntInt(ctx$1.Focus,pageID[0],focus$4);$s=-1;return[ctx$1,false,$ifaceNil];}_r$1=ctx$1.Model.BuyRobot(selection);/* */$s=14;case 14:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$5=_r$1;ctx$1.Model=_tuple$5[0];err[0]=_tuple$5[1];/* */if(!$interfaceIsEqual(err[0],$ifaceNil)){$s=15;continue;}/* */$s=16;continue;/* if (!($interfaceIsEqual(err[0], $ifaceNil))) { */case 15:_r$2=err[0].Error();/* */$s=17;case 17:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}$r=view[0].Alert(_r$2);/* */$s=18;case 18:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 16:$s=8;continue;/* } else if (_1 === (22)) { */case 5:if(cancel){_tuple$6=helper.Clamp((_entry$9=ctx$1.Focus[$Int.keyFor(pageID[0])],_entry$9!==undefined?_entry$9.v:0)-1>>0,0,(_entry$10=ctx$1.Menus[$Int.keyFor(pageID[0])],_entry$10!==undefined?_entry$10.v:uidata.ListInt.nil).$length);focus$5=_tuple$6[0];ctx$1.Focus=uidata.AssocIntInt(ctx$1.Focus,pageID[0],focus$5);$s=-1;return[ctx$1,false,$ifaceNil];}_r$3=ctx$1.Model.BuyPilot(selection);/* */$s=19;case 19:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_tuple$7=_r$3;ctx$1.Model=_tuple$7[0];err[0]=_tuple$7[1];/* */if(!$interfaceIsEqual(err[0],$ifaceNil)){$s=20;continue;}/* */$s=21;continue;/* if (!($interfaceIsEqual(err[0], $ifaceNil))) { */case 20:_r$4=err[0].Error();/* */$s=22;case 22:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}$r=view[0].Alert(_r$4);/* */$s=23;case 23:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 21:$s=8;continue;/* } else if (_1 === (23)) { */case 6:if(cancel){_tuple$8=helper.Clamp((_entry$11=ctx$1.Focus[$Int.keyFor(pageID[0])],_entry$11!==undefined?_entry$11.v:0)-1>>0,0,(_entry$12=ctx$1.Menus[$Int.keyFor(pageID[0])],_entry$12!==undefined?_entry$12.v:uidata.ListInt.nil).$length);focus$6=_tuple$8[0];ctx$1.Focus=uidata.AssocIntInt(ctx$1.Focus,pageID[0],focus$6);$s=-1;return[ctx$1,false,$ifaceNil];}_r$5=ctx$1.Model.BuyWeapon(selection);/* */$s=24;case 24:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}_tuple$9=_r$5;ctx$1.Model=_tuple$9[0];err[0]=_tuple$9[1];/* */if(!$interfaceIsEqual(err[0],$ifaceNil)){$s=25;continue;}/* */$s=26;continue;/* if (!($interfaceIsEqual(err[0], $ifaceNil))) { */case 25:_r$6=err[0].Error();/* */$s=27;case 27:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}$r=view[0].Alert(_r$6);/* */$s=28;case 28:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 26:$s=8;continue;/* } else if (_1 === (24)) { */case 7:if(cancel){_tuple$10=helper.Clamp((_entry$13=ctx$1.Focus[$Int.keyFor(pageID[0])],_entry$13!==undefined?_entry$13.v:0)-1>>0,0,(_entry$14=ctx$1.Menus[$Int.keyFor(pageID[0])],_entry$14!==undefined?_entry$14.v:uidata.ListInt.nil).$length);focus$7=_tuple$10[0];ctx$1.Focus=uidata.AssocIntInt(ctx$1.Focus,pageID[0],focus$7);$s=-1;return[ctx$1,false,$ifaceNil];}_r$7=ctx$1.Model.BuyComponent(selection);/* */$s=29;case 29:if($c){$c=false;_r$7=_r$7.$blk();}if(_r$7&&_r$7.$blk!==undefined){break s;}_tuple$11=_r$7;ctx$1.Model=_tuple$11[0];err[0]=_tuple$11[1];/* */if(!$interfaceIsEqual(err[0],$ifaceNil)){$s=30;continue;}/* */$s=31;continue;/* if (!($interfaceIsEqual(err[0], $ifaceNil))) { */case 30:_r$8=err[0].Error();/* */$s=32;case 32:if($c){$c=false;_r$8=_r$8.$blk();}if(_r$8&&_r$8.$blk!==undefined){break s;}$r=view[0].Alert(_r$8);/* */$s=33;case 33:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 31:/* } */case 8:case 1:$s=-1;return[ctx$1,cancel,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:$b};}$f._1=_1;$f._2=_2;$f._entry=_entry;$f._entry$1=_entry$1;$f._entry$10=_entry$10;$f._entry$11=_entry$11;$f._entry$12=_entry$12;$f._entry$13=_entry$13;$f._entry$14=_entry$14;$f._entry$2=_entry$2;$f._entry$3=_entry$3;$f._entry$4=_entry$4;$f._entry$5=_entry$5;$f._entry$6=_entry$6;$f._entry$7=_entry$7;$f._entry$8=_entry$8;$f._entry$9=_entry$9;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._r$7=_r$7;$f._r$8=_r$8;$f._tuple$1=_tuple$1;$f._tuple$10=_tuple$10;$f._tuple$11=_tuple$11;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f._tuple$4=_tuple$4;$f._tuple$5=_tuple$5;$f._tuple$6=_tuple$6;$f._tuple$7=_tuple$7;$f._tuple$8=_tuple$8;$f._tuple$9=_tuple$9;$f.cancel=cancel;$f.ctx$1=ctx$1;$f.focus=focus;$f.focus$1=focus$1;$f.focus$2=focus$2;$f.focus$3=focus$3;$f.focus$4=focus$4;$f.focus$5=focus$5;$f.focus$6=focus$6;$f.focus$7=focus$7;$f.menuID=menuID;$f.origin$1=origin$1;$f.selection=selection;$f.tab=tab;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};}(err,pageID,view),function(err,pageID,view){return function(origin$1,focus,selection,cancel,tab){var cancel,focus,origin$1,selection,tab;return[origin$1,cancel,$ifaceNil];};}(err,pageID,view));/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;uidata.UI.copy(ctx,_tuple[0]);err[0]=_tuple[1];if(!$interfaceIsEqual(err[0],$ifaceNil)){$s=-1;return[origin,err[0]];}ctx.Actives=uidata.AssocIntBool(ctx.Actives,pageID[0],false);$s=-1;return[ctx,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:BuyPhase};}$f._r=_r;$f._tuple=_tuple;$f.ctx=ctx;$f.err=err;$f.origin=origin;$f.pageID=pageID;$f.view=view;$f.$s=$s;$f.$r=$r;return $f;};$pkg.BuyPhase=BuyPhase;LobbyPagePhase=function(origin){var _arg,_arg$1,_arg$2,_arg$3,_r,_tuple,ctx,err,origin,view,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_arg=$f._arg;_arg$1=$f._arg$1;_arg$2=$f._arg$2;_arg$3=$f._arg$3;_r=$f._r;_tuple=$f._tuple;ctx=$f.ctx;err=$f.err;origin=$f.origin;view=$f.view;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:err=[err];view=[view];$r=log.Log(protocol.LogCategoryPhase,"LobbyPagePhase","start");/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}err[0]=$ifaceNil;ctx=$clone(origin,uidata.UI);view[0]=def.View;ctx.Actives=uidata.AssocIntBool(ctx.Actives,1,true);_arg=$clone(ctx,uidata.UI);_arg$1=function(err,view){return function(origin$1){var origin$1;return[origin$1,$ifaceNil];};}(err,view);_arg$2=function(err,view){return function $b(origin$1,focus,selection,cancel,tab){var _1,_2,_entry,_r,_r$1,_r$10,_r$11,_r$12,_r$13,_r$2,_r$3,_r$4,_r$5,_r$6,_r$7,_r$8,_r$9,_tuple$1,_tuple$10,_tuple$11,_tuple$2,_tuple$3,_tuple$4,_tuple$5,_tuple$6,_tuple$7,_tuple$8,_tuple$9,cancel,ctx$1,focus,levelSelection,menuID,origin$1,selection,tab,unitSelection,x,x$1,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_2=$f._2;_entry=$f._entry;_r=$f._r;_r$1=$f._r$1;_r$10=$f._r$10;_r$11=$f._r$11;_r$12=$f._r$12;_r$13=$f._r$13;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_r$6=$f._r$6;_r$7=$f._r$7;_r$8=$f._r$8;_r$9=$f._r$9;_tuple$1=$f._tuple$1;_tuple$10=$f._tuple$10;_tuple$11=$f._tuple$11;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;_tuple$4=$f._tuple$4;_tuple$5=$f._tuple$5;_tuple$6=$f._tuple$6;_tuple$7=$f._tuple$7;_tuple$8=$f._tuple$8;_tuple$9=$f._tuple$9;cancel=$f.cancel;ctx$1=$f.ctx$1;focus=$f.focus;levelSelection=$f.levelSelection;menuID=$f.menuID;origin$1=$f.origin$1;selection=$f.selection;tab=$f.tab;unitSelection=$f.unitSelection;x=$f.x;x$1=$f.x$1;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:ctx$1=$clone(origin$1,uidata.UI);menuID=(x=(_entry=ctx$1.Menus[$Int.keyFor(1)],_entry!==undefined?_entry.v:uidata.ListInt.nil),focus<0||focus>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+focus]);_1=menuID;/* */if(_1===16){$s=2;continue;}/* */$s=3;continue;/* if (_1 === (16)) { */case 2:_2=selection;/* */if(_2==="\xE5\xAD\x98\xE6\xAA\x94"){$s=5;continue;}/* */if(_2==="\xE8\xB2\xB7\xE9\xA7\x95\xE9\xA7\x9B"){$s=6;continue;}/* */if(_2==="\xE8\xB2\xB7\xE6\xA9\x9F\xE9\xAB\x94"){$s=7;continue;}/* */if(_2==="\xE8\xB2\xB7\xE6\xAD\xA6\xE5\x99\xA8"){$s=8;continue;}/* */if(_2==="\xE8\xB2\xB7\xE9\x85\x8D\xE4\xBB\xB6"){$s=9;continue;}/* */if(_2==="\xE8\xA8\xAD\xE5\xAE\x9A\xE9\xA7\x95\xE9\xA7\x9B"){$s=10;continue;}/* */if(_2==="\xE8\xA3\x9D\xE5\x82\x99\xE6\xAD\xA6\xE5\x99\xA8"){$s=11;continue;}/* */if(_2==="\xE8\xA3\x9D\xE5\x82\x99\xE9\x85\x8D\xE4\xBB\xB6"){$s=12;continue;}/* */if(_2==="\xE9\x81\xB8\xE6\x93\x87\xE9\x97\x9C\xE5\x8D\xA1"){$s=13;continue;}/* */$s=14;continue;/* if (_2 === ("\xE5\xAD\x98\xE6\xAA\x94")) { */case 5:_r=ctx$1.Model.Save();/* */$s=15;case 15:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}err[0]=_r;/* */if(!$interfaceIsEqual(err[0],$ifaceNil)){$s=16;continue;}/* */$s=17;continue;/* if (!($interfaceIsEqual(err[0], $ifaceNil))) { */case 16:_r$1=err[0].Error();/* */$s=18;case 18:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}$r=view[0].Alert(_r$1);/* */$s=19;case 19:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return[origin$1,cancel,$ifaceNil];/* } */case 17:$s=14;continue;/* } else if (_2 === ("\xE8\xB2\xB7\xE9\xA7\x95\xE9\xA7\x9B")) { */case 6:_r$2=BuyPhase($clone(ctx$1,uidata.UI),3);/* */$s=20;case 20:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_tuple$1=_r$2;uidata.UI.copy(ctx$1,_tuple$1[0]);err[0]=_tuple$1[1];if(!$interfaceIsEqual(err[0],$ifaceNil)){$s=-1;return[origin$1,cancel,err[0]];}$s=14;continue;/* } else if (_2 === ("\xE8\xB2\xB7\xE6\xA9\x9F\xE9\xAB\x94")) { */case 7:_r$3=BuyPhase($clone(ctx$1,uidata.UI),2);/* */$s=21;case 21:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_tuple$2=_r$3;uidata.UI.copy(ctx$1,_tuple$2[0]);err[0]=_tuple$2[1];if(!$interfaceIsEqual(err[0],$ifaceNil)){$s=-1;return[origin$1,cancel,err[0]];}$s=14;continue;/* } else if (_2 === ("\xE8\xB2\xB7\xE6\xAD\xA6\xE5\x99\xA8")) { */case 8:_r$4=BuyPhase($clone(ctx$1,uidata.UI),4);/* */$s=22;case 22:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}_tuple$3=_r$4;uidata.UI.copy(ctx$1,_tuple$3[0]);err[0]=_tuple$3[1];if(!$interfaceIsEqual(err[0],$ifaceNil)){$s=-1;return[origin$1,cancel,err[0]];}$s=14;continue;/* } else if (_2 === ("\xE8\xB2\xB7\xE9\x85\x8D\xE4\xBB\xB6")) { */case 9:_r$5=BuyPhase($clone(ctx$1,uidata.UI),5);/* */$s=23;case 23:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}_tuple$4=_r$5;uidata.UI.copy(ctx$1,_tuple$4[0]);err[0]=_tuple$4[1];if(!$interfaceIsEqual(err[0],$ifaceNil)){$s=-1;return[origin$1,cancel,err[0]];}$s=14;continue;/* } else if (_2 === ("\xE8\xA8\xAD\xE5\xAE\x9A\xE9\xA7\x95\xE9\xA7\x9B")) { */case 10:_r$6=AssocPhase($clone(ctx$1,uidata.UI),6);/* */$s=24;case 24:if($c){$c=false;_r$6=_r$6.$blk();}if(_r$6&&_r$6.$blk!==undefined){break s;}_tuple$5=_r$6;uidata.UI.copy(ctx$1,_tuple$5[0]);err[0]=_tuple$5[1];if(!$interfaceIsEqual(err[0],$ifaceNil)){$s=-1;return[origin$1,cancel,err[0]];}$s=14;continue;/* } else if (_2 === ("\xE8\xA3\x9D\xE5\x82\x99\xE6\xAD\xA6\xE5\x99\xA8")) { */case 11:_r$7=AssocPhase($clone(ctx$1,uidata.UI),7);/* */$s=25;case 25:if($c){$c=false;_r$7=_r$7.$blk();}if(_r$7&&_r$7.$blk!==undefined){break s;}_tuple$6=_r$7;uidata.UI.copy(ctx$1,_tuple$6[0]);err[0]=_tuple$6[1];if(!$interfaceIsEqual(err[0],$ifaceNil)){$s=-1;return[origin$1,cancel,err[0]];}$s=14;continue;/* } else if (_2 === ("\xE8\xA3\x9D\xE5\x82\x99\xE9\x85\x8D\xE4\xBB\xB6")) { */case 12:_r$8=AssocPhase($clone(ctx$1,uidata.UI),8);/* */$s=26;case 26:if($c){$c=false;_r$8=_r$8.$blk();}if(_r$8&&_r$8.$blk!==undefined){break s;}_tuple$7=_r$8;uidata.UI.copy(ctx$1,_tuple$7[0]);err[0]=_tuple$7[1];if(!$interfaceIsEqual(err[0],$ifaceNil)){$s=-1;return[origin$1,cancel,err[0]];}$s=14;continue;/* } else if (_2 === ("\xE9\x81\xB8\xE6\x93\x87\xE9\x97\x9C\xE5\x8D\xA1")) { */case 13:ctx$1.Actives=uidata.AssocIntBool(ctx$1.Actives,1,false);/* while (true) { */case 27:levelSelection="";_r$9=SelectLevelPhase($clone(ctx$1,uidata.UI));/* */$s=29;case 29:if($c){$c=false;_r$9=_r$9.$blk();}if(_r$9&&_r$9.$blk!==undefined){break s;}_tuple$8=_r$9;uidata.UI.copy(ctx$1,_tuple$8[0]);levelSelection=_tuple$8[1];cancel=_tuple$8[2];err[0]=_tuple$8[3];if(!$interfaceIsEqual(err[0],$ifaceNil)){$s=-1;return[origin$1,cancel,err[0]];}if(cancel){$s=-1;return[origin$1,false,err[0]];}/* while (true) { */case 30:unitSelection=false;_r$10=MultiUnitSelectionPagePhase($clone(ctx$1,uidata.UI));/* */$s=32;case 32:if($c){$c=false;_r$10=_r$10.$blk();}if(_r$10&&_r$10.$blk!==undefined){break s;}_tuple$9=_r$10;uidata.UI.copy(ctx$1,_tuple$9[0]);unitSelection=_tuple$9[1];cancel=_tuple$9[2];err[0]=_tuple$9[3];if(!$interfaceIsEqual(err[0],$ifaceNil)){$s=-1;return[origin$1,cancel,err[0]];}/* */if(cancel){$s=33;continue;}/* */$s=34;continue;/* if (cancel) { */case 33:/* continue SELECT_LEVEL; */$s=27;continue s;/* } */case 34:_r$11=ctx$1.Model.New((x$1=new protocol.NewGameplayWithSelection.ptr(unitSelection,levelSelection),new x$1.constructor.elem(x$1)));/* */$s=35;case 35:if($c){$c=false;_r$11=_r$11.$blk();}if(_r$11&&_r$11.$blk!==undefined){break s;}_tuple$10=_r$11;ctx$1.Model=_tuple$10[0];err[0]=_tuple$10[1];/* */if(!$interfaceIsEqual(err[0],$ifaceNil)){$s=36;continue;}/* */$s=37;continue;/* if (!($interfaceIsEqual(err[0], $ifaceNil))) { */case 36:_r$12=err[0].Error();/* */$s=38;case 38:if($c){$c=false;_r$12=_r$12.$blk();}if(_r$12&&_r$12.$blk!==undefined){break s;}$r=view[0].Alert(_r$12);/* */$s=39;case 39:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* continue; */$s=30;continue;/* } */case 37:/* break; */$s=31;continue;/* } */$s=30;continue;case 31:/* break; */$s=28;continue;/* } */$s=27;continue;case 28:_r$13=gameplay.GameLoop($clone(ctx$1,uidata.UI));/* */$s=40;case 40:if($c){$c=false;_r$13=_r$13.$blk();}if(_r$13&&_r$13.$blk!==undefined){break s;}_tuple$11=_r$13;uidata.UI.copy(ctx$1,_tuple$11[0]);err[0]=_tuple$11[1];if(!$interfaceIsEqual(err[0],$ifaceNil)){$s=-1;return[origin$1,cancel,err[0]];}ctx$1.Actives=uidata.AssocIntBool(ctx$1.Actives,1,true);/* } */case 14:case 4:/* } */case 3:case 1:$s=-1;return[ctx$1,cancel,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:$b};}$f._1=_1;$f._2=_2;$f._entry=_entry;$f._r=_r;$f._r$1=_r$1;$f._r$10=_r$10;$f._r$11=_r$11;$f._r$12=_r$12;$f._r$13=_r$13;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._r$6=_r$6;$f._r$7=_r$7;$f._r$8=_r$8;$f._r$9=_r$9;$f._tuple$1=_tuple$1;$f._tuple$10=_tuple$10;$f._tuple$11=_tuple$11;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f._tuple$4=_tuple$4;$f._tuple$5=_tuple$5;$f._tuple$6=_tuple$6;$f._tuple$7=_tuple$7;$f._tuple$8=_tuple$8;$f._tuple$9=_tuple$9;$f.cancel=cancel;$f.ctx$1=ctx$1;$f.focus=focus;$f.levelSelection=levelSelection;$f.menuID=menuID;$f.origin$1=origin$1;$f.selection=selection;$f.tab=tab;$f.unitSelection=unitSelection;$f.x=x;$f.x$1=x$1;$f.$s=$s;$f.$r=$r;return $f;};}(err,view);_arg$3=function(err,view){return function(origin$1,focus,selection,cancel,tab){var cancel,focus,origin$1,selection,tab;return[origin$1,cancel,$ifaceNil];};}(err,view);_r=common.BasicPagePhase(_arg,1,false,_arg$1,_arg$2,_arg$3);/* */$s=2;case 2:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;uidata.UI.copy(ctx,_tuple[0]);err[0]=_tuple[1];if(!$interfaceIsEqual(err[0],$ifaceNil)){$s=-1;return[ctx,err[0]];}ctx.Actives=uidata.AssocIntBool(ctx.Actives,1,false);$r=log.Log(protocol.LogCategoryPhase,"LobbyPagePhase","end");/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return[ctx,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:LobbyPagePhase};}$f._arg=_arg;$f._arg$1=_arg$1;$f._arg$2=_arg$2;$f._arg$3=_arg$3;$f._r=_r;$f._tuple=_tuple;$f.ctx=ctx;$f.err=err;$f.origin=origin;$f.view=view;$f.$s=$s;$f.$r=$r;return $f;};$pkg.LobbyPagePhase=LobbyPagePhase;MultiUnitSelectionPagePhase=function(origin){var _arg,_arg$1,_arg$2,_arg$3,_r,_r$1,_tuple,_tuple$1,cancel,confirm,ctx,err,origin,unitSelection,view,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_arg=$f._arg;_arg$1=$f._arg$1;_arg$2=$f._arg$2;_arg$3=$f._arg$3;_r=$f._r;_r$1=$f._r$1;_tuple=$f._tuple;_tuple$1=$f._tuple$1;cancel=$f.cancel;confirm=$f.confirm;ctx=$f.ctx;err=$f.err;origin=$f.origin;unitSelection=$f.unitSelection;view=$f.view;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:confirm=[confirm];ctx=[ctx];unitSelection=[unitSelection];view=[view];$r=log.Log(protocol.LogCategoryPhase,"MultiUnitSelectionPagePhase","start");/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}err=$ifaceNil;ctx[0]=$clone(origin,uidata.UI);view[0]=def.View;_r=view[0].Render($clone(ctx[0],uidata.UI));/* */$s=2;case 2:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;uidata.UI.copy(ctx[0],_tuple[0]);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[origin,false,false,err];}ctx[0].Actives=uidata.AssocIntBool(ctx[0].Actives,9,true);unitSelection[0]=false;confirm[0]=false;_arg=$clone(ctx[0],uidata.UI);_arg$1=function(confirm,ctx,unitSelection,view){return function $b(origin$1){var _r$1,origin$1,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r$1=$f._r$1;origin$1=$f.origin$1;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_r$1=view[0].Render($clone(ctx[0],uidata.UI));/* */$s=1;case 1:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}$s=-1;return _r$1;/* */}return;}if($f===undefined){$f={$blk:$b};}$f._r$1=_r$1;$f.origin$1=origin$1;$f.$s=$s;$f.$r=$r;return $f;};}(confirm,ctx,unitSelection,view);_arg$2=function(confirm,ctx,unitSelection,view){return function(origin$1,focus,selection,cancel,tab){var _1,_entry,_entry$1,cancel,ctx$1,focus,menuID,origin$1,selection,tab,x;ctx$1=$clone(origin$1,uidata.UI);menuID=(x=(_entry=ctx$1.Menus[$Int.keyFor(9)],_entry!==undefined?_entry.v:uidata.ListInt.nil),focus<0||focus>=x.$length?($throwRuntimeError("index out of range"),undefined):x.$array[x.$offset+focus]);_1=menuID;if(_1===30){if(cancel){return[ctx$1,cancel,$ifaceNil];}unitSelection[0]=(_entry$1=ctx$1.Menu1Ds[$Int.keyFor(menuID)],_entry$1!==undefined?_entry$1.v:new uidata.Menu1D.ptr(sliceType.nil,false,0,0,0)).Selection;confirm[0]=true;return[ctx$1,true,$ifaceNil];}return[ctx$1,cancel,$ifaceNil];};}(confirm,ctx,unitSelection,view);_arg$3=function(confirm,ctx,unitSelection,view){return function(origin$1,focus,selection,cancel,tab){var cancel,focus,origin$1,selection,tab;return[origin$1,cancel,$ifaceNil];};}(confirm,ctx,unitSelection,view);_r$1=common.BasicPagePhase(_arg,9,false,_arg$1,_arg$2,_arg$3);/* */$s=3;case 3:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$1=_r$1;uidata.UI.copy(ctx[0],_tuple$1[0]);err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[ctx[0],false,false,err];}ctx[0].Actives=uidata.AssocIntBool(ctx[0].Actives,9,false);cancel=confirm[0]===false;$r=log.Log(protocol.LogCategoryPhase,"MultiUnitSelectionPagePhase","end");/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return[ctx[0],unitSelection[0],cancel,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:MultiUnitSelectionPagePhase};}$f._arg=_arg;$f._arg$1=_arg$1;$f._arg$2=_arg$2;$f._arg$3=_arg$3;$f._r=_r;$f._r$1=_r$1;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f.cancel=cancel;$f.confirm=confirm;$f.ctx=ctx;$f.err=err;$f.origin=origin;$f.unitSelection=unitSelection;$f.view=view;$f.$s=$s;$f.$r=$r;return $f;};$pkg.MultiUnitSelectionPagePhase=MultiUnitSelectionPagePhase;SelectLevelPhase=function(origin){var _arg,_arg$1,_arg$2,_arg$3,_arg$4,_arg$5,_r,_r$1,_tuple,cancel,confirm,ctx,err,levelSelection,origin,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_arg=$f._arg;_arg$1=$f._arg$1;_arg$2=$f._arg$2;_arg$3=$f._arg$3;_arg$4=$f._arg$4;_arg$5=$f._arg$5;_r=$f._r;_r$1=$f._r$1;_tuple=$f._tuple;cancel=$f.cancel;confirm=$f.confirm;ctx=$f.ctx;err=$f.err;levelSelection=$f.levelSelection;origin=$f.origin;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:confirm=[confirm];levelSelection=[levelSelection];$r=log.Log(protocol.LogCategoryPhase,"SelectLevelPhase","start");/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}err=$ifaceNil;ctx=$clone(origin,uidata.UI);ctx.Actives=uidata.AssocIntBool(ctx.Actives,14,true);levelSelection[0]="";confirm[0]=false;_arg=$clone(ctx,uidata.UI);_arg$1=function(confirm,levelSelection){return function(origin$1){var origin$1;return[origin$1,$ifaceNil];};}(confirm,levelSelection);_arg$2=function(confirm,levelSelection){return function $b(origin$1,focus,selection,cancel,tab){var _arg$2,_arg$3,_r,cancel,ctx$1,focus,origin$1,selection,tab,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_arg$2=$f._arg$2;_arg$3=$f._arg$3;_r=$f._r;cancel=$f.cancel;ctx$1=$f.ctx$1;focus=$f.focus;origin$1=$f.origin$1;selection=$f.selection;tab=$f.tab;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:_arg$2=protocol.LogCategoryDetail;_r=fmt.Sprintf("cancel(%v) tab(%v)",new sliceType$1([new $Bool(cancel),new $Bool(tab)]));/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_arg$3=_r;$r=log.Log(_arg$2,"SelectLevelPhase",_arg$3);/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}ctx$1=$clone(origin$1,uidata.UI);if(cancel){$s=-1;return[ctx$1,cancel,$ifaceNil];}levelSelection[0]=selection;confirm[0]=true;$s=-1;return[ctx$1,true,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:$b};}$f._arg$2=_arg$2;$f._arg$3=_arg$3;$f._r=_r;$f.cancel=cancel;$f.ctx$1=ctx$1;$f.focus=focus;$f.origin$1=origin$1;$f.selection=selection;$f.tab=tab;$f.$s=$s;$f.$r=$r;return $f;};}(confirm,levelSelection);_arg$3=function(confirm,levelSelection){return function(origin$1,focus,selection,cancel,tab){var cancel,focus,origin$1,selection,tab;return[origin$1,cancel,$ifaceNil];};}(confirm,levelSelection);_r=common.BasicPagePhase(_arg,14,true,_arg$1,_arg$2,_arg$3);/* */$s=2;case 2:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;uidata.UI.copy(ctx,_tuple[0]);err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$s=-1;return[ctx,"",false,err];}ctx.Actives=uidata.AssocIntBool(ctx.Actives,14,false);cancel=confirm[0]===false;_arg$4=protocol.LogCategoryDetail;_r$1=fmt.Sprintf("levelSelection(%v) cancel(%v)",new sliceType$1([new $String(levelSelection[0]),new $Bool(cancel)]));/* */$s=3;case 3:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_arg$5=_r$1;$r=log.Log(_arg$4,"SelectLevelPhase",_arg$5);/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=log.Log(protocol.LogCategoryPhase,"SelectLevelPhase","end");/* */$s=5;case 5:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return[ctx,levelSelection[0],cancel,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:SelectLevelPhase};}$f._arg=_arg;$f._arg$1=_arg$1;$f._arg$2=_arg$2;$f._arg$3=_arg$3;$f._arg$4=_arg$4;$f._arg$5=_arg$5;$f._r=_r;$f._r$1=_r$1;$f._tuple=_tuple;$f.cancel=cancel;$f.confirm=confirm;$f.ctx=ctx;$f.err=err;$f.levelSelection=levelSelection;$f.origin=origin;$f.$s=$s;$f.$r=$r;return $f;};$pkg.SelectLevelPhase=SelectLevelPhase;$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=common.$init();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=gameplay.$init();/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=tool.$init();/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=def.$init();/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=helper.$init();/* */$s=5;case 5:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=protocol.$init();/* */$s=6;case 6:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=uidata.$init();/* */$s=7;case 7:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=fmt.$init();/* */$s=8;case 8:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=log.$init();/* */$s=9;case 9:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["app/page/title"]=function(){var $pkg={},$init,common,gameplay,lobby,def,protocol,uidata,StartPagePhase;common=$packages["app/page/common"];gameplay=$packages["app/page/gameplay"];lobby=$packages["app/page/lobby"];def=$packages["app/tool/def"];protocol=$packages["app/tool/protocol"];uidata=$packages["app/tool/uidata"];StartPagePhase=function(origin){var _r,_tuple,ctx,err,origin,view,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_tuple=$f._tuple;ctx=$f.ctx;err=$f.err;origin=$f.origin;view=$f.view;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:err=[err];view=[view];err[0]=$ifaceNil;ctx=$clone(origin,uidata.UI);view[0]=def.View;ctx.Actives=uidata.AssocIntBool(ctx.Actives,0,true);_r=common.BasicPagePhase($clone(ctx,uidata.UI),0,false,function(err,view){return function(origin$1){var origin$1;return[origin$1,$ifaceNil];};}(err,view),function(err,view){return function $b(origin$1,focus,selection,cancel,tab){var _1,_2,_r,_r$1,_r$2,_r$3,_r$4,_r$5,_tuple$1,_tuple$2,_tuple$3,_tuple$4,cancel,ctx$1,focus,origin$1,selection,tab,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_1=$f._1;_2=$f._2;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_r$3=$f._r$3;_r$4=$f._r$4;_r$5=$f._r$5;_tuple$1=$f._tuple$1;_tuple$2=$f._tuple$2;_tuple$3=$f._tuple$3;_tuple$4=$f._tuple$4;cancel=$f.cancel;ctx$1=$f.ctx$1;focus=$f.focus;origin$1=$f.origin$1;selection=$f.selection;tab=$f.tab;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:ctx$1=$clone(origin$1,uidata.UI);_1=selection;/* */if(_1==="\xE8\xAE\x80\xE6\xAA\x94"){$s=2;continue;}/* */if(_1==="\xE6\x96\xB0\xE9\x81\x8A\xE6\x88\xB2"){$s=3;continue;}/* */$s=4;continue;/* if (_1 === ("\xE8\xAE\x80\xE6\xAA\x94")) { */case 2:_r=ctx$1.Model.Load();/* */$s=5;case 5:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple$1=_r;ctx$1.Model=_tuple$1[0];err[0]=_tuple$1[1];/* */if(!$interfaceIsEqual(err[0],$ifaceNil)){$s=6;continue;}/* */$s=7;continue;/* if (!($interfaceIsEqual(err[0], $ifaceNil))) { */case 6:_r$1=err[0].Error();/* */$s=8;case 8:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}$r=view[0].Alert(_r$1);/* */$s=9;case 9:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return[origin$1,cancel,$ifaceNil];/* } */case 7:ctx$1.Actives=uidata.AssocIntBool(ctx$1.Actives,0,false);_r$2=ctx$1.Model.State();/* */$s=11;case 11:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}_2=_r$2;/* */if(_2==="GameplayModelStatePlaying"){$s=12;continue;}/* */$s=13;continue;/* if (_2 === ("GameplayModelStatePlaying")) { */case 12:_r$3=gameplay.GameLoop($clone(ctx$1,uidata.UI));/* */$s=14;case 14:if($c){$c=false;_r$3=_r$3.$blk();}if(_r$3&&_r$3.$blk!==undefined){break s;}_tuple$2=_r$3;uidata.UI.copy(ctx$1,_tuple$2[0]);err[0]=_tuple$2[1];if(!$interfaceIsEqual(err[0],$ifaceNil)){$s=-1;return[origin$1,cancel,err[0]];}/* } */case 13:case 10:_r$4=lobby.LobbyPagePhase($clone(ctx$1,uidata.UI));/* */$s=15;case 15:if($c){$c=false;_r$4=_r$4.$blk();}if(_r$4&&_r$4.$blk!==undefined){break s;}_tuple$3=_r$4;uidata.UI.copy(ctx$1,_tuple$3[0]);err[0]=_tuple$3[1];if(!$interfaceIsEqual(err[0],$ifaceNil)){$s=-1;return[origin$1,cancel,err[0]];}ctx$1.Actives=uidata.AssocIntBool(ctx$1.Actives,0,true);$s=4;continue;/* } else if (_1 === ("\xE6\x96\xB0\xE9\x81\x8A\xE6\x88\xB2")) { */case 3:ctx$1.Actives=uidata.AssocIntBool(ctx$1.Actives,0,false);_r$5=lobby.LobbyPagePhase($clone(ctx$1,uidata.UI));/* */$s=16;case 16:if($c){$c=false;_r$5=_r$5.$blk();}if(_r$5&&_r$5.$blk!==undefined){break s;}_tuple$4=_r$5;uidata.UI.copy(ctx$1,_tuple$4[0]);err[0]=_tuple$4[1];if(!$interfaceIsEqual(err[0],$ifaceNil)){$s=-1;return[origin$1,cancel,err[0]];}ctx$1.Actives=uidata.AssocIntBool(ctx$1.Actives,0,true);/* } */case 4:case 1:$s=-1;return[ctx$1,cancel,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:$b};}$f._1=_1;$f._2=_2;$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._r$3=_r$3;$f._r$4=_r$4;$f._r$5=_r$5;$f._tuple$1=_tuple$1;$f._tuple$2=_tuple$2;$f._tuple$3=_tuple$3;$f._tuple$4=_tuple$4;$f.cancel=cancel;$f.ctx$1=ctx$1;$f.focus=focus;$f.origin$1=origin$1;$f.selection=selection;$f.tab=tab;$f.$s=$s;$f.$r=$r;return $f;};}(err,view),function(err,view){return function(origin$1,focus,selection,cancel,tab){var cancel,focus,origin$1,selection,tab;return[origin$1,cancel,$ifaceNil];};}(err,view));/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;uidata.UI.copy(ctx,_tuple[0]);err[0]=_tuple[1];if(!$interfaceIsEqual(err[0],$ifaceNil)){$s=-1;return[origin,err[0]];}ctx.Actives=uidata.AssocIntBool(ctx.Actives,0,false);$s=-1;return[ctx,$ifaceNil];/* */}return;}if($f===undefined){$f={$blk:StartPagePhase};}$f._r=_r;$f._tuple=_tuple;$f.ctx=ctx;$f.err=err;$f.origin=origin;$f.view=view;$f.$s=$s;$f.$r=$r;return $f;};$pkg.StartPagePhase=StartPagePhase;$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=common.$init();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=gameplay.$init();/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=lobby.$init();/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=def.$init();/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=protocol.$init();/* */$s=5;case 5:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=uidata.$init();/* */$s=6;case 6:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["app"]=function(){var $pkg={},$init,v1,gameplay,title,def,protocol,fmt,log,sliceType,Main,StartWithProduct;v1=$packages["app/model/v1"];gameplay=$packages["app/page/gameplay"];title=$packages["app/page/title"];def=$packages["app/tool/def"];protocol=$packages["app/tool/protocol"];fmt=$packages["fmt"];log=$packages["tool/log"];sliceType=$sliceType($emptyInterface);Main=function(){var _key,_key$1,_key$2,_key$3,_r,view,$s,$deferred,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_key=$f._key;_key$1=$f._key$1;_key$2=$f._key$2;_key$3=$f._key$3;_r=$f._r;view=$f.view;$s=$f.$s;$deferred=$f.$deferred;$r=$f.$r;}var $err=null;try{s:while(true){switch($s){case 0:$deferred=[];$deferred.index=$curGoroutine.deferStack.length;$curGoroutine.deferStack.push($deferred);view=[view];_key=protocol.LogCategoryPhase;(log.Category||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key)]={k:_key,v:false};_key$1=protocol.LogCategoryDetail;(log.Category||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key$1)]={k:_key$1,v:false};_key$2=protocol.LogCategoryWarning;(log.Category||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key$2)]={k:_key$2,v:false};_key$3=protocol.LogCategoryRender;(log.Category||$throwRuntimeError("assignment to entry in nil map"))[$String.keyFor(_key$3)]={k:_key$3,v:false};view[0]=def.View;$deferred.push([function(view){return function $b(){var _r,_r$1,_r$2,_ref,detail,detail$1,detail$2,x,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_r$2=$f._r$2;_ref=$f._ref;detail=$f.detail;detail$1=$f.detail$1;detail$2=$f.detail$2;x=$f.x;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:x=$recover();/* */if(!$interfaceIsEqual(x,$ifaceNil)){$s=1;continue;}/* */$s=2;continue;/* if (!($interfaceIsEqual(x, $ifaceNil))) { */case 1:_r=fmt.Printf("error: %v\n",new sliceType([x]));/* */$s=3;case 3:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_r;_ref=x;/* */if($assertType(_ref,$String,true)[1]){$s=4;continue;}/* */if($assertType(_ref,$error,true)[1]){$s=5;continue;}/* */$s=6;continue;/* if ($assertType(_ref, $String, true)[1]) { */case 4:detail=_ref.$val;$r=view[0].Alert(detail);/* */$s=8;case 8:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=7;continue;/* } else if ($assertType(_ref, $error, true)[1]) { */case 5:detail$1=_ref;_r$1=detail$1.Error();/* */$s=9;case 9:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}$r=view[0].Alert(_r$1);/* */$s=10;case 10:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=7;continue;/* } else { */case 6:detail$2=_ref;_r$2=fmt.Sprintf("%v",new sliceType([x]));/* */$s=11;case 11:if($c){$c=false;_r$2=_r$2.$blk();}if(_r$2&&_r$2.$blk!==undefined){break s;}$r=view[0].Alert(_r$2);/* */$s=12;case 12:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* } */case 7:$panic(x);/* } */case 2:$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:$b};}$f._r=_r;$f._r$1=_r$1;$f._r$2=_r$2;$f._ref=_ref;$f.detail=detail;$f.detail$1=detail$1;$f.detail$2=detail$2;$f.x=x;$f.$s=$s;$f.$r=$r;return $f;};}(view),[]]);_r=view[0].Install();/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_r;$r=StartWithProduct();/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=log.Log(protocol.LogCategoryPhase,"Main","end");/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return;/* */}return;}}catch(err){$err=err;$s=-1;}finally{$callDeferred($deferred,$err);if($curGoroutine.asleep){if($f===undefined){$f={$blk:Main};}$f._key=_key;$f._key$1=_key$1;$f._key$2=_key$2;$f._key$3=_key$3;$f._r=_r;$f.view=view;$f.$s=$s;$f.$deferred=$deferred;$f.$r=$r;return $f;}}};$pkg.Main=Main;StartWithProduct=function(){var _r,_r$1,_tuple,_tuple$1,err,ui,$s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;_r=$f._r;_r$1=$f._r$1;_tuple=$f._tuple;_tuple$1=$f._tuple$1;err=$f.err;ui=$f.ui;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:err=$ifaceNil;ui=$clone(def.DefaultUI,$packages["app/tool/uidata"].UI);_r=$clone(v1.DefaultModel,v1.Model).New($ifaceNil);/* */$s=1;case 1:if($c){$c=false;_r=_r.$blk();}if(_r&&_r.$blk!==undefined){break s;}_tuple=_r;ui.Model=_tuple[0];err=_tuple[1];if(!$interfaceIsEqual(err,$ifaceNil)){$panic(err);}_r$1=title.StartPagePhase($clone(ui,$packages["app/tool/uidata"].UI));/* */$s=2;case 2:if($c){$c=false;_r$1=_r$1.$blk();}if(_r$1&&_r$1.$blk!==undefined){break s;}_tuple$1=_r$1;err=_tuple$1[1];if(!$interfaceIsEqual(err,$ifaceNil)){$panic(err);}$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:StartWithProduct};}$f._r=_r;$f._r$1=_r$1;$f._tuple=_tuple;$f._tuple$1=_tuple$1;$f.err=err;$f.ui=ui;$f.$s=$s;$f.$r=$r;return $f;};$pkg.StartWithProduct=StartWithProduct;$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=v1.$init();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=gameplay.$init();/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=title.$init();/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=def.$init();/* */$s=4;case 4:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=protocol.$init();/* */$s=5;case 5:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=fmt.$init();/* */$s=6;case 6:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=log.$init();/* */$s=7;case 7:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$packages["main"]=function(){var $pkg={},$init,app,js,init,main;app=$packages["app"];js=$packages["github.com/gopherjs/gopherjs/js"];init=function(){var $s,$r;/* */$s=0;var $f,$c=false;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=app.Main();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$s=-1;return;/* */}return;}if($f===undefined){$f={$blk:init};}$f.$s=$s;$f.$r=$r;return $f;};main=function(){};$init=function(){$pkg.$init=function(){};/* */var $f,$c=false,$s=0,$r;if(this!==undefined&&this.$blk!==undefined){$f=this;$c=true;$s=$f.$s;$r=$f.$r;}s:while(true){switch($s){case 0:$r=app.$init();/* */$s=1;case 1:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=js.$init();/* */$s=2;case 2:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}$r=init();/* */$s=3;case 3:if($c){$c=false;$r=$r.$blk();}if($r&&$r.$blk!==undefined){break s;}if($pkg===$mainPkg){main();$mainFinished=true;}/* */}return;}if($f===undefined){$f={$blk:$init};}$f.$s=$s;$f.$r=$r;return $f;};$pkg.$init=$init;return $pkg;}();$synthesizeMethods();var $mainPkg=$packages["main"];$packages["runtime"].$init();$go($mainPkg.$init,[]);$flushConsole();}).call(this);}).call(root);})(// The environment-specific global.
function(){if(typeof globalThis!=='undefined')return globalThis;if(typeof self!=='undefined')return self;if(typeof window!=='undefined')return window;if(typeof global!=='undefined')return global;if(typeof this!=='undefined')return this;return{};}.call(this));