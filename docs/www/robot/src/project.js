window.__require=function t(e,o,n){function i(a,c){if(!o[a]){if(!e[a]){var p=a.split("/");if(p=p[p.length-1],!e[p]){var s="function"==typeof __require&&__require;if(!c&&s)return s(p,!0);if(r)return r(p,!0);throw new Error("Cannot find module '"+a+"'")}a=p}var u=o[a]={exports:{}};e[a][0].call(u.exports,function(t){return i(e[a][1][t]||t)},u,u.exports,t,e,o,n)}return o[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<n.length;a++)i(n[a]);return i}({AccuracyInfo:[function(t,e,o){"use strict";cc._RF.push(e,"d6776kcfhlCprjbCWpIqksz","AccuracyInfo"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=n.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.txtAccuracy=null,e}return __extends(e,t),e.prototype.setAccuracy=function(t){this.txtAccuracy.string=t.toFixed(0)+"%"},__decorate([r(cc.Label)],e.prototype,"txtAccuracy",void 0),e=__decorate([i],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],AnimationEndCallback:[function(t,e,o){"use strict";cc._RF.push(e,"0ae9fm3biZLha0sH42TE7+m","AnimationEndCallback"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=(n.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var o;return __extends(e,t),o=e,e.prototype.end=function(){this.node.emit(o.ON_ANIMATION_END)},e.ON_ANIMATION_END="ON_ANIMATION_END",e=o=__decorate([i],e)}(cc.Component));o.default=r,cc._RF.pop()},{}],AnimationLoop:[function(t,e,o){"use strict";cc._RF.push(e,"ad2a9BBvshIYa3lZcWlF5ay","AnimationLoop"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=(n.property,n.requireComponent),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){this.node.getComponent(cc.Animation).play().wrapMode=cc.WrapMode.Loop},e=__decorate([i,r(cc.Animation)],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],AudioController:[function(t,e,o){"use strict";cc._RF.push(e,"f7010MNMAFM9ZvmM4g96XD2","AudioController"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=n.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.musicEnable=!1,e.audioEnable=!1,e.musics=[],e.audios=[],e}return __extends(e,t),e.prototype.gamePage=function(){this._playMusic(0)},e.prototype.explode=function(){this._playAudio(0)},e.prototype._playMusic=function(t,e){void 0===e&&(e=!0),this.musicEnable&&cc.audioEngine.play(this.musics[t],e,1)},e.prototype._playAudio=function(t){this.audioEnable&&cc.audioEngine.play(this.audios[t],!1,1)},__decorate([r(cc.Boolean)],e.prototype,"musicEnable",void 0),__decorate([r(cc.Boolean)],e.prototype,"audioEnable",void 0),__decorate([r(cc.AudioClip)],e.prototype,"musics",void 0),__decorate([r(cc.AudioClip)],e.prototype,"audios",void 0),e=__decorate([i],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],BasicViewer:[function(t,e,o){"use strict";cc._RF.push(e,"0e745AHooxFgIUqsmnoCXOy","BasicViewer"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=(n.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._inited=!1,e._isOpen=!1,e}return __extends(e,t),e.prototype.isOpen=function(){return this._isOpen},e.prototype.init=function(){this._inited=!0},e.prototype.addListener=function(){this.removeListenser()},e.prototype.removeListenser=function(){},e.prototype.open=function(){this.node.active=!0,this._inited||this.init(),this.addListener(),this._isOpen=!0},e.prototype.close=function(){this.node.active=!1,this.removeListenser(),this._isOpen=!1},e.prototype.onPrevClick=function(t){throw new Error("Method not implemented.")},e.prototype.onNextClick=function(t){throw new Error("Method not implemented.")},e.prototype.onLeftClick=function(t){throw new Error("Method not implemented.")},e.prototype.onRightClick=function(t){throw new Error("Method not implemented.")},e.prototype.onEnterClick=function(t){throw new Error("Method not implemented.")},e.prototype.onEscClick=function(t){throw new Error("Method not implemented.")},e=__decorate([i],e)}(cc.Component));o.default=r,cc._RF.pop()},{}],CommentUI:[function(t,e,o){"use strict";cc._RF.push(e,"df011Ank2FDaJ7z2Gk9gjMk","CommentUI"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./PopPanel"),i=t("./RobotDetailPanel/RobotDetailPanel"),r=t("../AnimationEndCallback"),a=t("./PilotDetailPanel/PilotDetailPanel"),c=t("./WeaponDetailPanel/WeaponDetailPanel"),p=t("./ComponentDetailPanel/ComponentDetailPanel"),s=cc._decorator,u=s.ccclass,l=s.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.alert=null,e.alertContent=null,e.popPanel=null,e.robotDetailPanel=null,e.pilotDetailPanel=null,e.weaponDetailPanel=null,e.componentDetailPanel=null,e}return __extends(e,t),e.prototype.showAlert=function(t,e){var o=this;this.alert.active=!1,this.alert.active=!0,this.alertContent.string=t,this.alert.getComponent(cc.Animation).play(),this.alert.off(r.default.ON_ANIMATION_END),this.alert.on(r.default.ON_ANIMATION_END,function(){o.alert.active=!1,o.alert.off(r.default.ON_ANIMATION_END),e&&e()})},e.prototype.openRobotDetail=function(t,e){this.robotDetailPanel.open(),this.robotDetailPanel.setUnit(t),this.robotDetailPanel.setMenu(e)},e.prototype.openPilotDetail=function(t,e){this.pilotDetailPanel.open(),this.pilotDetailPanel.setPilot(t),this.pilotDetailPanel.setMenu(e)},e.prototype.openComponentDetail=function(t,e){this.componentDetailPanel.open(),this.componentDetailPanel.setComponent(t),this.componentDetailPanel.setMenu(e)},e.prototype.openWeaponDetail=function(t,e){this.weaponDetailPanel.open(),this.weaponDetailPanel.setWeapon(t),this.weaponDetailPanel.setMenu(e)},e.prototype.closeRobotDetail=function(){this.robotDetailPanel.close()},e.prototype.closePilotDetail=function(){this.pilotDetailPanel.close()},e.prototype.closeWeaponDetail=function(){this.weaponDetailPanel.close()},e.prototype.closeComponentDetail=function(){this.componentDetailPanel.close()},e.prototype.openPopup=function(t){this.popPanel.open(),this.popPanel.setContent(t)},e.prototype.closePop=function(){this.popPanel.close()},__decorate([l(cc.Node)],e.prototype,"alert",void 0),__decorate([l(cc.Label)],e.prototype,"alertContent",void 0),__decorate([l(n.default)],e.prototype,"popPanel",void 0),__decorate([l(i.default)],e.prototype,"robotDetailPanel",void 0),__decorate([l(a.default)],e.prototype,"pilotDetailPanel",void 0),__decorate([l(c.default)],e.prototype,"weaponDetailPanel",void 0),__decorate([l(p.default)],e.prototype,"componentDetailPanel",void 0),e=__decorate([u],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../AnimationEndCallback":"AnimationEndCallback","./ComponentDetailPanel/ComponentDetailPanel":"ComponentDetailPanel","./PilotDetailPanel/PilotDetailPanel":"PilotDetailPanel","./PopPanel":"PopPanel","./RobotDetailPanel/RobotDetailPanel":"RobotDetailPanel","./WeaponDetailPanel/WeaponDetailPanel":"WeaponDetailPanel"}],ComponentDetailOnStoreState:[function(t,e,o){"use strict";cc._RF.push(e,"2346aKcRkZOj6FEXf2Gv2ZF","ComponentDetailOnStoreState"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../DefaultState"),i=cc._decorator,r=i.ccclass,a=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onPrevClick=function(t){t.onComponentDetailOnStoreUpClick()},e.prototype.onNextClick=function(t){t.onComponentDetailOnStoreDownClick()},e.prototype.onLeftClick=function(t){},e.prototype.onRightClick=function(t){},e.prototype.onEnterClick=function(t){t.onComponentDetailOnStoreEnterClick()},e.prototype.onEscClick=function(t){t.onComponentDetailOnStoreEscClick()},e=__decorate([r],e)}(n.default));o.default=a,cc._RF.pop()},{"../../DefaultState":"DefaultState"}],ComponentDetailPanel:[function(t,e,o){"use strict";cc._RF.push(e,"8e04ekQ7RlJiJ0oO8s6exMi","ComponentDetailPanel"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../BasicViewer"),i=t("../../MenuButtons"),r=cc._decorator,a=r.ccclass,c=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.menu=null,e}return __extends(e,t),e.prototype.init=function(){this.menu.updateItem=function(t,e){t.setLabel(e)}},e.prototype.setComponent=function(t){cc.log(t)},e.prototype.setMenu=function(t){this.menu.open(),this.menu.setData(t)},__decorate([c(i.default)],e.prototype,"menu",void 0),e=__decorate([a],e)}(n.default);o.default=p,cc._RF.pop()},{"../../BasicViewer":"BasicViewer","../../MenuButtons":"MenuButtons"}],ComponentListItem:[function(t,e,o){"use strict";cc._RF.push(e,"170a9o3np1AuZnncxmgKlmN","ComponentListItem"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../MenuButton"),i=cc._decorator,r=i.ccclass,a=i.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.money=null,e}return __extends(e,t),__decorate([a(cc.Label)],e.prototype,"money",void 0),e=__decorate([r],e)}(n.default);o.default=c,cc._RF.pop()},{"../../MenuButton":"MenuButton"}],ComponentSettingComponentState:[function(t,e,o){"use strict";cc._RF.push(e,"d64bfpNgWtGNZFvY4pzhy2N","ComponentSettingComponentState"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../DefaultState"),i=cc._decorator,r=i.ccclass,a=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onPrevClick=function(t){t.onComponentSettingComponentStateUpClick()},e.prototype.onNextClick=function(t){t.onComponentSettingComponentStateDownClick()},e.prototype.onLeftClick=function(t){t.onComponentSettingComponentStateLeftClick()},e.prototype.onRightClick=function(t){t.onComponentSettingComponentStateRightClick()},e.prototype.onEnterClick=function(t){t.onComponentSettingComponentStateEnterClick()},e.prototype.onEscClick=function(t){t.onComponentSettingComponentStateEscClick()},e=__decorate([r],e)}(n.default));o.default=a,cc._RF.pop()},{"../../DefaultState":"DefaultState"}],ComponentSettingRobotEquipState:[function(t,e,o){"use strict";cc._RF.push(e,"1786cELuqVFk6/DdRkoDeJn","ComponentSettingRobotEquipState"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../DefaultState"),i=cc._decorator,r=i.ccclass,a=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onPrevClick=function(t){t.onComponentSettingRobotEquipStateUpClick()},e.prototype.onNextClick=function(t){t.onComponentSettingRobotEquipStateDownClick()},e.prototype.onLeftClick=function(t){t.onComponentSettingRobotEquipStateLeftClick()},e.prototype.onRightClick=function(t){t.onComponentSettingRobotEquipStateRightClick()},e.prototype.onEnterClick=function(t){t.onComponentSettingRobotEquipStateEnterClick()},e.prototype.onEscClick=function(t){t.onComponentSettingRobotEquipStateEscClick()},e=__decorate([r],e)}(n.default));o.default=a,cc._RF.pop()},{"../../DefaultState":"DefaultState"}],ComponentSettingRobotState:[function(t,e,o){"use strict";cc._RF.push(e,"6cbf9fVxBRN+5yOaQYEqTDs","ComponentSettingRobotState"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../DefaultState"),i=cc._decorator,r=i.ccclass,a=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onPrevClick=function(t){t.onComponentSettingRobotStateUpClick()},e.prototype.onNextClick=function(t){t.onComponentSettingRobotStateDownClick()},e.prototype.onLeftClick=function(t){t.onComponentSettingRobotStateLeftClick()},e.prototype.onRightClick=function(t){t.onComponentSettingRobotStateRightClick()},e.prototype.onEnterClick=function(t){t.onComponentSettingRobotStateEnterClick()},e.prototype.onEscClick=function(t){t.onComponentSettingRobotStateEscClick()},e=__decorate([r],e)}(n.default));o.default=a,cc._RF.pop()},{"../../DefaultState":"DefaultState"}],ComponentSetting:[function(t,e,o){"use strict";cc._RF.push(e,"7d939+aTjBLo6Juvad6njOJ","ComponentSetting"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../BasicViewer"),i=t("../../MenuButtons"),r=t("../../ViewController"),a=t("../../ListPageController"),c=cc._decorator,p=c.ccclass,s=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.titleMenu=null,e.componentList=null,e.robotList=null,e.robotEquipList=null,e.robotPageId=0,e}return __extends(e,t),e.prototype.init=function(){this.componentList.list.updateItem=function(t,e){t.setLabel(e.title),t.money.string=e.powerCost},this.robotList.list.updateItem=function(t,e){t.setLabel(e.robotState.title),t.money.string=e.robotState.power},this.robotEquipList.list.updateItem=function(t,e){t.setLabel(e.title),t.money.string=e.powerCost},this.titleMenu.updateItem=function(t,e){t.setLabel(e)}},e.prototype.open=function(){t.prototype.open.call(this),this.componentList.open(),this.robotList.open(),this.robotEquipList.open(),this.setCompnentList(),this.setRobotList(),this.titleMenu.open(),this.titleMenu.setData(["\u6a5f\u9ad4\u5217\u8868","\u88dd\u5099\u5217\u8868","\u914d\u4ef6\u5217\u8868"])},e.prototype.close=function(){t.prototype.close.call(this),this.componentList.close(),this.robotList.close(),this.robotEquipList.close()},e.prototype.prevFocus=function(){this.titleMenu.onPrevClick()},e.prototype.nextFocus=function(){this.titleMenu.onNextClick()},e.prototype.upComponentList=function(){this.componentList.list.onPrevClick()},e.prototype.downComponentList=function(){this.componentList.list.onNextClick()},e.prototype.upRobotList=function(){this.robotList.list.onPrevClick(),this.setRobotEquipList()},e.prototype.downRobotList=function(){this.robotList.list.onNextClick(),this.setRobotEquipList()},e.prototype.upRobotEquipList=function(){this.robotEquipList.list.onPrevClick()},e.prototype.downRobotEquipList=function(){this.robotEquipList.list.onNextClick()},e.prototype.setCompnentList=function(){var t=this;r.default.instance.model.getComponentList(this.componentList.pageId,10,function(e,o){var n=o.map(function(t){return t[1]});n.unshift({title:"\u62c6\u9664",powerCost:""}),t.componentList.list.open(),t.componentList.list.setData(n)})},e.prototype.setRobotList=function(){var t=this,e=this.robotList.list.getFocusId()[0];r.default.instance.model.getRobotList(this.robotList.pageId,10,function(o,n){var i=n.map(function(t){return t[1]});for(t.robotList.list.open(),t.robotList.list.setData(i);t.robotList.list.getFocusId()[0]<e;)t.robotList.list.onNextClick();t.setRobotEquipList()})},e.prototype.setRobotEquipList=function(){var t=this.robotList.list.getFocus().robotState.components.slice();t.push({title:"\u65b0\u589e",powerCost:""}),this.robotEquipList.list.close(),this.robotEquipList.list.open(),this.robotEquipList.list.setData(t)},__decorate([s(i.default)],e.prototype,"titleMenu",void 0),__decorate([s(a.default)],e.prototype,"componentList",void 0),__decorate([s(a.default)],e.prototype,"robotList",void 0),__decorate([s(a.default)],e.prototype,"robotEquipList",void 0),e=__decorate([p],e)}(n.default);o.default=u,cc._RF.pop()},{"../../BasicViewer":"BasicViewer","../../ListPageController":"ListPageController","../../MenuButtons":"MenuButtons","../../ViewController":"ViewController"}],ComponentStoreBuyState:[function(t,e,o){"use strict";cc._RF.push(e,"98b1dI8NwtAhryIHiLu+L6c","ComponentStoreBuyState"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../DefaultState"),i=cc._decorator,r=i.ccclass,a=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onPrevClick=function(t){},e.prototype.onNextClick=function(t){},e.prototype.onLeftClick=function(t){t.onComponentStoreBuyLeftClick()},e.prototype.onRightClick=function(t){t.onComponentStoreBuyRightClick()},e.prototype.onEnterClick=function(t){t.onComponentStoreBuyEnterClick()},e.prototype.onEscClick=function(t){t.onComponentStoreBuyEscClick()},e=__decorate([r],e)}(n.default));o.default=a,cc._RF.pop()},{"../../DefaultState":"DefaultState"}],ComponentStoreState:[function(t,e,o){"use strict";cc._RF.push(e,"0c3a273LrRNL54mplZd1XcR","ComponentStoreState"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../DefaultState"),i=cc._decorator,r=i.ccclass,a=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onPrevClick=function(t){t.onComponentStoreUpClick()},e.prototype.onNextClick=function(t){t.onComponentStoreDownClick()},e.prototype.onLeftClick=function(t){t.onComponentStoreLeftClick()},e.prototype.onRightClick=function(t){t.onComponentStoreRightClick()},e.prototype.onEnterClick=function(t){t.onComponentStoreEnterClick()},e.prototype.onEscClick=function(t){t.onComponentStoreEscClick()},e=__decorate([r],e)}(n.default));o.default=a,cc._RF.pop()},{"../../DefaultState":"DefaultState"}],ComponentStore:[function(t,e,o){"use strict";cc._RF.push(e,"d9633QuAkVICKqqUe68yNZG","ComponentStore"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../ViewController"),i=t("../../StoreListPanel"),r=cc._decorator,a=r.ccclass,c=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.updateItem=function(t,e){t.setLabel(e.detail.title),t.money.string=e.detail.cost},e.prototype.getData=function(t,e){n.default.instance.model.getComponentStoreList(t,10,function(t,o){var n=o.map(function(t){return{key:t[0],detail:t[1]}});e(t,n)})},e=__decorate([a],e)}(i.default));o.default=c,cc._RF.pop()},{"../../StoreListPanel":"StoreListPanel","../../ViewController":"ViewController"}],DefaultState:[function(t,e,o){"use strict";cc._RF.push(e,"3973b6q3y1G4JRbC2UpN4vT","DefaultState"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=(n.property,function(){function t(){}return t.prototype.onPrevClick=function(t){throw new Error("Method not implemented.")},t.prototype.onNextClick=function(t){throw new Error("Method not implemented.")},t.prototype.onLeftClick=function(t){throw new Error("Method not implemented.")},t.prototype.onRightClick=function(t){throw new Error("Method not implemented.")},t.prototype.onEnterClick=function(t){throw new Error("Method not implemented.")},t.prototype.onEscClick=function(t){throw new Error("Method not implemented.")},t=__decorate([i],t)}());o.default=r,cc._RF.pop()},{}],EffectLayer:[function(t,e,o){"use strict";cc._RF.push(e,"08023xlg+1BLbODmV/AB2ay","EffectLayer"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../Pool"),i=t("../ViewController"),r=t("../AnimationEndCallback"),a=cc._decorator,c=a.ccclass,p=(a.property,a.requireComponent),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._pool=null,e}return __extends(e,t),e.prototype.onLoad=function(){this._pool=this.node.getComponent(n.default)},e.prototype.createEffect=function(t,e){var o=this;void 0===e&&(e=!0);var n=this._pool.acquire(),a=e?i.default.instance.view.getGridPos(t):t;return n.x=a[0],n.y=a[1],n.setParent(this.node),n.active=!1,n.active=!0,n.getComponent(cc.Animation).play(),n.off(r.default.ON_ANIMATION_END),n.on(r.default.ON_ANIMATION_END,function(){n.off(r.default.ON_ANIMATION_END),n.removeFromParent(),o._pool.release(n)}),n},e=__decorate([c,p(n.default)],e)}(cc.Component);o.default=s,cc._RF.pop()},{"../AnimationEndCallback":"AnimationEndCallback","../Pool":"Pool","../ViewController":"ViewController"}],Effects:[function(t,e,o){"use strict";cc._RF.push(e,"e2353ZMYJJN/6c4PFVw6Rll","Effects"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./EffectLayer"),i=t("../ViewController"),r=t("./TextEffect"),a=cc._decorator,c=a.ccclass,p=a.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bladeLayer=null,e.shieldLayer=null,e.explodeLayer=null,e.hitHpLayer=null,e.aimEffects=null,e.awardEffects=null,e.tracker=null,e}return __extends(e,t),e.prototype.onLoad=function(){this.tracker.toGridPos=[0,0],this.tracker.time=0,this.tracker.speed=.2},e.prototype.createBlade=function(t,e){this._createBlade(e),this._createHitHp(t,e)},e.prototype.createExplode=function(t,e){this._createExplode(e),this._createHitHp(t,e)},e.prototype.createUnitExplode=function(t){this._createExplode(t)},e.prototype.createShield=function(t){this.shieldLayer.createEffect(t).getComponent(r.default).setContent("\u76fe\u9632")},e.prototype.createAimEffect=function(t,e,o){void 0===o&&(o=.2);var n=i.default.instance.view.getGridPos(t);this.tracker.x=n[0],this.tracker.y=n[1],this.tracker.toGridPos=i.default.instance.view.getGridPos(e),this.tracker.time=0,this.tracker.speed=o},e.prototype.createAwardEffect=function(t){var e=this;cc.tween(this.node).call(function(){e._createAward(t)}).delay(.5).start()},e.prototype.createExplodePipe=function(t,e,o){var n=this;cc.tween(this.node).call(function(){n.createAimEffect(t,e)}).delay(1).call(function(){n.createExplode(o,e)}).start()},e.prototype.createBladePipe=function(t,e,o){var n=this;cc.tween(this.node).call(function(){n.createAimEffect(t,e)}).delay(1).call(function(){n.createBlade(o,e)}).start()},e.prototype._createBlade=function(t){this.bladeLayer.createEffect(t)},e.prototype._createExplode=function(t){this.explodeLayer.createEffect(t)},e.prototype._createAward=function(t){this.awardEffects.createEffect(t)},e.prototype._createHitHp=function(t,e){this.hitHpLayer.createEffect(e).getChildByName("Hp").getComponent(cc.Label).string=t.toString()},e.prototype._checkAndMoveAim=function(){(Math.abs(this.tracker.toGridPos[0]-this.tracker.x)>1||Math.abs(this.tracker.toGridPos[1]-this.tracker.y)>1)&&(this.tracker.x+=(this.tracker.toGridPos[0]-this.tracker.x)*this.tracker.speed,this.tracker.y+=(this.tracker.toGridPos[1]-this.tracker.y)*this.tracker.speed,this.tracker.time%1==0&&this.aimEffects.createEffect([this.tracker.x,this.tracker.y],!1)),this.tracker.time+=1},e.prototype.update=function(){this._checkAndMoveAim()},__decorate([p(n.default)],e.prototype,"bladeLayer",void 0),__decorate([p(n.default)],e.prototype,"shieldLayer",void 0),__decorate([p(n.default)],e.prototype,"explodeLayer",void 0),__decorate([p(n.default)],e.prototype,"hitHpLayer",void 0),__decorate([p(n.default)],e.prototype,"aimEffects",void 0),__decorate([p(n.default)],e.prototype,"awardEffects",void 0),__decorate([p(cc.Node)],e.prototype,"tracker",void 0),e=__decorate([c],e)}(cc.Component);o.default=s,cc._RF.pop()},{"../ViewController":"ViewController","./EffectLayer":"EffectLayer","./TextEffect":"TextEffect"}],FightInfo:[function(t,e,o){"use strict";cc._RF.push(e,"fb325MOzs1BO5LBth58IAn1","FightInfo"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./UnitStatuInfo"),i=t("./PilotStatuInfo"),r=cc._decorator,a=r.ccclass,c=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.weaponName=null,e.power=null,e.hit=null,e.unit=null,e.pilot=null,e}return __extends(e,t),e.prototype.setHitRate=function(t){this.hit.string=0===t?"--":(100*t).toFixed(0)+"%"},e.prototype.setPower=function(t){this.power.string=t.toString()},e.prototype.setWeaponName=function(t){this.weaponName.string=t},e.prototype.setUnit=function(t){this.unit.setUnit(t),this.pilot.setPilot(t.robotState.pilotState)},e.prototype.showHit=function(t){this.hit.node.active=t},e.prototype.showPower=function(t){this.power.node.active=t},__decorate([c(cc.Label)],e.prototype,"weaponName",void 0),__decorate([c(cc.Label)],e.prototype,"power",void 0),__decorate([c(cc.Label)],e.prototype,"hit",void 0),__decorate([c(n.default)],e.prototype,"unit",void 0),__decorate([c(i.default)],e.prototype,"pilot",void 0),e=__decorate([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./PilotStatuInfo":"PilotStatuInfo","./UnitStatuInfo":"UnitStatuInfo"}],FightMenu:[function(t,e,o){"use strict";cc._RF.push(e,"dd4a90gXf1IGIj+KSg1L4HN","FightMenu"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./FightInfo"),i=t("../ViewController"),r=cc._decorator,a=r.ccclass,c=r.property,p=(r.requireComponent,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.back=null,e.playerInfo=null,e.enemyInfo=null,e}return __extends(e,t),e.prototype.showInfos=function(t){this.showInfo(this.playerInfo,t[0]),this.showInfo(this.enemyInfo,t[1])},e.prototype.showInfo=function(t,e){switch(this.back.node.active=!0,t.node.active=!0,t.setUnit(e.unit),e.action[0]){case"evade":t.setWeaponName("\u8ff4\u907f"),t.showPower(!1),t.setHitRate(0);break;case"guard":t.setWeaponName("\u9632\u5fa1"),t.showPower(!1),t.setHitRate(0);break;case"attack":var o=i.default.instance.getWeapon(e.action[1].weaponKey);t.showPower(!0),t.showHit(!0),t.setHitRate(e.hitRate),t.setWeaponName(o.title),t.setPower(o.damage)}},__decorate([c(cc.Sprite)],e.prototype,"back",void 0),__decorate([c(n.default)],e.prototype,"playerInfo",void 0),__decorate([c(n.default)],e.prototype,"enemyInfo",void 0),e=__decorate([a],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../ViewController":"ViewController","./FightInfo":"FightInfo"}],GamePage:[function(t,e,o){"use strict";cc._RF.push(e,"d3ef9A+nWtFN74uy2wG4aYV","GamePage"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../GamePage/LandMap"),i=t("../GamePage/LandUnits"),r=t("../GamePage/WeaponMenu"),a=t("../GamePage/UnitStatuMenu"),c=t("../GamePage/FightMenu"),p=t("../GamePage/TurnStart"),s=t("../GamePage/Effects"),u=t("../GamePage/AccuracyInfo"),l=t("../ShowItem"),f=t("../BasicViewer"),d=t("../InputSensor"),h=t("../MenuButtons"),y=t("../ViewController"),_=t("../GamePage/UnitSampleInfo"),C=t("../GamePage/TextEffect"),S=t("../GamePage/SmallMap"),m=t("../GamePage/RobotSelect/RobotSelectPanel"),g=cc._decorator,v=g.ccclass,b=g.property,P=g.requireComponent,k=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.map=null,e.units=null,e.unitMenu=null,e.sceneMenu=null,e.weaponMenu=null,e.unitStatuMenu=null,e.fightInfoMenu=null,e.effects=null,e.accuracyInfos=null,e.unitSampleInfos=null,e.unitActionInfos=null,e.turnStart=null,e.cursor=null,e.smallMap=null,e.robotSelectPanel=null,e}return __extends(e,t),e.prototype.onLoad=function(){this.map.initPool()},e.prototype.init=function(){this.unitMenu.updateItem=function(t,e){t.setLabel(e)},this.sceneMenu.updateItem=function(t,e){t.setLabel(e)}},e.prototype.open=function(){t.prototype.open.call(this),this.map.resetUV(),y.default.instance.audioController.gamePage()},e.prototype.setCursor=function(t){this.cursor.active=!0;var e=y.default.instance.view.getGridPos(t);this.cursor.x=e[0],this.cursor.y=e[1]},e.prototype.hideCursor=function(){this.cursor.active=!1},e.prototype.openRobotSelectPanel=function(t){this.robotSelectPanel.open(),this.robotSelectPanel.setRobotList(t)},e.prototype.closeRobotSelectPanel=function(){this.robotSelectPanel.close()},e.prototype.showFightInfo=function(t){this.fightInfoMenu.node.active=!0,this.fightInfoMenu.showInfos(t.preview)},e.prototype.closeFightInfo=function(){this.fightInfoMenu.node.active=!1},e.prototype.setSmallMap=function(t){this.smallMap.drawMap(t)},e.prototype.openUnitStatuMenu=function(t){this.unitStatuMenu.open(),this.unitStatuMenu.setUnit(t.unit),this.unitStatuMenu.setTerrain(t.terrain)},e.prototype.closeUnitStatuMenu=function(){this.unitStatuMenu.close()},e.prototype.showAccuracyInfos=function(t){this.closeAccuracyInfos();var e=[],o=[];t.forEach(function(t){e.push(t.targetUnit.position),o.push(t.hitRate)});var n=0;this.accuracyInfos.showItems(e,function(t){t.getComponent(u.default).setAccuracy(100*o[n++])})},e.prototype.closeAccuracyInfos=function(){this.accuracyInfos.clearItem()},e.prototype.showUnitSampleInfos=function(t){this.closeUnitSampleInfos();var e=[],o=[],n=[],i=[],r=[];t.forEach(function(t){e.push(t.position),o.push(t.robotState.maxHp),n.push(t.robotState.maxEn),i.push(t.robotState.hp),r.push(t.robotState.en)});var a=0;this.unitSampleInfos.showItems(e,function(t){t.getComponent(_.default).showHPEN(o[a],i[a],n[a],r[a]),a+=1})},e.prototype.closeUnitSampleInfos=function(){this.unitSampleInfos.clearItem()},e.prototype.explodeUnit=function(t,e){this.closeUnitSampleInfos(),this.effects.createUnitExplode(t.unit.position),this.units.removeUnitByID(t.unit.key),cc.tween(this.node).delay(1).call(e).start()},e.prototype._showAttackerAim=function(t,e,o,n,i){var r=this;return cc.tween(this.node).call(function(){r.unitSampleInfos.showItems([t],function(t){t.getComponent(_.default).showHPEN(o.robotState.maxHp,o.robotState.hp,o.robotState.maxEn,o.robotState.en),t.getComponent(_.default).changeEN(o.robotState.maxEn,n.robotState.en)})}).delay(.7)},e.prototype._showDeffenderChangeHP=function(t,e,o){var n=this;return cc.tween(this.node).call(function(){n.unitSampleInfos.showItems([t],function(t){t.getComponent(_.default).showHPEN(e.robotState.maxHp,e.robotState.hp,e.robotState.maxEn,e.robotState.en),t.getComponent(_.default).changeHP(e.robotState.maxHp,o.robotState.hp)})}).delay(.7)},e.prototype._showAttackerChangeHP=function(t,e,o){var n=this;return cc.tween(this.node).call(function(){n.unitSampleInfos.showItems([t],function(t){t.getComponent(_.default).showHPEN(e.robotState.maxHp,e.robotState.hp,e.robotState.maxEn,o.robotState.en),t.getComponent(_.default).changeHP(o.robotState.maxHp,o.robotState.hp)})}).delay(.7)},e.prototype._showHitEffect=function(t,e,o){var n,i=this,r=[],a=!1;o.events&&o.events.forEach(function(e){switch(e){case"guard":var o=cc.tween(i.node).call(function(){i.effects.createShield(t.position)}).delay(.7);r.push(o);break;case"evade":a=!0}});var c=cc.tween(this.node).call(function(){a?i.units.evadeOneUnit(t.key):(i.effects.createExplode(o.damage,e),i.units.shakeOneUnit(t.key),y.default.instance.audioController.explode())}).delay(.6);return r.push(c),(n=cc.tween(this.node)).sequence.apply(n,[cc.tween(this.node).delay(0)].concat(r))},e.prototype._showDeffenderAim=function(t,e,o,n){var i=this;return cc.tween(this.node).call(function(){i.unitSampleInfos.showItems([n],function(o){o.getComponent(_.default).showHPEN(t.robotState.maxHp,e.robotState.hp,t.robotState.maxEn,t.robotState.en),o.getComponent(_.default).changeEN(t.robotState.maxEn,e.robotState.en)})}).delay(.7)},e.prototype.showAimAnimation=function(t,e){var o=this;this.closeUnitSampleInfos(),this.hideCursor();var n=t.units[0],i=t.units[1],r=n.position,a=i.position;cc.tween(this.node).delay(1).call(function(){o.effects.createAimEffect(r,a,.1)}).delay(1).call(e).start()},e.prototype.awardUnitAnimation=function(t,e){var o=this,n=t[0],i=t[1],r=n.position;cc.tween(this.node).delay(1).call(function(){o.effects.createAwardEffect(r)}).delay(1).call(function(){o.unitSampleInfos.showItem(r,function(t){t.getComponent(_.default).showHPEN(n.robotState.maxHp,n.robotState.hp,n.robotState.maxEn,n.robotState.en),t.getComponent(_.default).changeEN(i.robotState.maxEn,i.robotState.en),t.getComponent(_.default).changeHP(i.robotState.maxHp,i.robotState.hp)})}).delay(1).call(function(){o.closeUnitSampleInfos(),e()}).start()},e.prototype.changeUnitHP=function(t,e){var o;this.map.closeMapRange(),this.map.closeWeaponRange(),this.closeUnitSampleInfos(),this.hideCursor();var n=t.units[0],i=t.units[1],r=t.unitsAfter[0],a=t.unitsAfter[1],c=n.position,p=i.position,s=t.results[1],u=t.results[0],l=[];l.push(this._showAttackerAim(c,p,n,r,i)),l.push(this._showHitEffect(i,p,s)),l.push(this._showDeffenderChangeHP(p,i,a)),0!=u.events.length&&(l.push(this._showDeffenderAim(i,a,c,p)),l.push(this._showHitEffect(n,c,u)),l.push(this._showAttackerChangeHP(c,n,r))),(o=cc.tween(this.node)).sequence.apply(o,[cc.tween(this.node).delay(0)].concat(l)).call(e).start()},e.prototype.openTurnStart=function(t,e){this.showSceneMessage(t,t?"\u73a9\u5bb6\u56de\u5408\u958b\u59cb":"\u6575\u8ecd\u56de\u5408\u958b\u59cb",e)},e.prototype.showGiveup=function(t){this.showSceneMessage(!0,"\u653e\u68c4\u4e86\u9001",t)},e.prototype.showSceneMessage=function(t,e,o){var n=this;void 0===t&&(t=!0),this.turnStart.setContent(e),this.turnStart.setPlayer(t),this.turnStart.open(),this.turnStart.node.on("end",function(){n.turnStart.node.off("end"),o()},this),this.closeUnitSampleInfos()},e.prototype.openSceneMenu=function(t,e){this.closeSceneMenu(),this.sceneMenu.open(),this.sceneMenu.setData(t,e)},e.prototype.closeSceneMenu=function(){this.sceneMenu.close()},e.prototype.openUnitMenu=function(t,e,o,n){var i=this,r=e[0],a=e[1];if(this.closeUnitMenu(),this.unitMenu.open(),this.unitMenu.setData(r,o),this.unitActionInfos.showItems([t],function(t){var e=i.unitMenu.getFocus();t.getComponent(C.default).setContent(e)}),a){var c=a.weaponIdx,p=a.weapons,s=a.invalidWeapons;if(o){var u=o[0],l=o[1][o[0]];u==c&&(this.openWeaponMenu(p,s),this.weaponMenu.showCurrentWeapon(l))}}},e.prototype.closeUnitMenu=function(){this.unitActionInfos.clearItem(),this.unitMenu.close(),this.weaponMenu.close()},e.prototype.openWeaponMenu=function(t,e){var o=[];for(var n in t){var i=t[n];i.invalid=e[n],o.push(i)}this.weaponMenu.open(),this.weaponMenu.setWeapons(o)},e.generateMap=function(t,e,o,n,i,r,a,c,p,s,u,l){void 0===o&&(o=1),void 0===n&&(n=1),void 0===i&&(i=1),void 0===r&&(r=1),void 0===a&&(a=1),void 0===c&&(c=.3),void 0===p&&(p=.3),void 0===s&&(s=.01),void 0===u&&(u=1),void 0===l&&(l=0);var f=o+n+i+r+a,d=o/f,h=n/f+d,y=i/f+h,_=r/f+y;noise.seed(Math.random());for(var C=[],S=0;S<t;++S)for(var m=0;m<e;++m){var g=noise.perlin2(.1*S,.1*m);if(g=((g=Math.pow(g,u))+1)/2,(g+=l)>_)C.push(5);else if(g>y){var v=.1*Math.floor(.4*S)*3+123,b=.1*Math.floor(.4*m)*3+245,P=noise.perlin2(v,b);if((P=(P+1)/2)>c){var k=.1*S*3+300,R=.1*m*3+20,w=noise.perlin2(k,R);(w=(w+1)/2)>p?C.push(Math.random()<s?7:3):C.push(Math.random()<s?7:6)}else 4==S||8==S||12==S||16==S||4==m||8==m||12==m||16==m?C.push(8):C.push(Math.random()<s?7:4)}else g>h?C.push(Math.random()<s?7:2):g>d?C.push(Math.random()<s?7:1):C.push(0)}return C},__decorate([b(n.default)],e.prototype,"map",void 0),__decorate([b(i.default)],e.prototype,"units",void 0),__decorate([b(h.default)],e.prototype,"unitMenu",void 0),__decorate([b(h.default)],e.prototype,"sceneMenu",void 0),__decorate([b(r.default)],e.prototype,"weaponMenu",void 0),__decorate([b(a.default)],e.prototype,"unitStatuMenu",void 0),__decorate([b(c.default)],e.prototype,"fightInfoMenu",void 0),__decorate([b(s.default)],e.prototype,"effects",void 0),__decorate([b(l.default)],e.prototype,"accuracyInfos",void 0),__decorate([b(l.default)],e.prototype,"unitSampleInfos",void 0),__decorate([b(l.default)],e.prototype,"unitActionInfos",void 0),__decorate([b(p.default)],e.prototype,"turnStart",void 0),__decorate([b(cc.Node)],e.prototype,"cursor",void 0),__decorate([b(S.default)],e.prototype,"smallMap",void 0),__decorate([b(m.default)],e.prototype,"robotSelectPanel",void 0),e=__decorate([v,P(d.default)],e)}(f.default);o.default=k,cc._RF.pop()},{"../BasicViewer":"BasicViewer","../GamePage/AccuracyInfo":"AccuracyInfo","../GamePage/Effects":"Effects","../GamePage/FightMenu":"FightMenu","../GamePage/LandMap":"LandMap","../GamePage/LandUnits":"LandUnits","../GamePage/RobotSelect/RobotSelectPanel":"RobotSelectPanel","../GamePage/SmallMap":"SmallMap","../GamePage/TextEffect":"TextEffect","../GamePage/TurnStart":"TurnStart","../GamePage/UnitSampleInfo":"UnitSampleInfo","../GamePage/UnitStatuMenu":"UnitStatuMenu","../GamePage/WeaponMenu":"WeaponMenu","../InputSensor":"InputSensor","../MenuButtons":"MenuButtons","../ShowItem":"ShowItem","../ViewController":"ViewController"}],Grid:[function(t,e,o){"use strict";cc._RF.push(e,"a2c38aH/INGlLDVDrM7UcAk","Grid"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./UVReset"),i=cc._decorator,r=i.ccclass,a=i.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.moveRange=null,e.weaponRange=null,e.mapRange=null,e.landImages=[],e.boxImage=null,e}return __extends(e,t),e.prototype.showNormal=function(){this.showMoveRange(!1),this.showWeaponRange(!1),this.showMapRange(!1)},e.prototype.showMoveRange=function(t){void 0===t&&(t=!0),this.moveRange.active=t},e.prototype.showWeaponRange=function(t){void 0===t&&(t=!0),this.weaponRange.active=t},e.prototype.showMapRange=function(t){void 0===t&&(t=!0),this.mapRange.active=t},e.prototype.showBox=function(t){void 0===t&&(t=!0),this.boxImage.node.active=t},e.prototype.showTargetLand=function(t){for(var e=0;e<this.landImages.length;++e)this.landImages[e].node.active=e==t;this.showBox(!1)},e.prototype.resetUV=function(){for(var t=0;t<this.landImages.length;++t){var e=this.landImages[t].node.getComponent(n.default);e&&e.fix()}},e.prototype.setType=function(t){switch(t){case 0:this.showTargetLand(0);break;case 1:this.showTargetLand(1);break;case 2:this.showTargetLand(2);break;case 3:this.showTargetLand(3);break;case 4:this.showTargetLand(4);break;case 5:this.showTargetLand(5);break;case 6:this.showTargetLand(6);break;case 7:this.showTargetLand(8);break;case 8:this.showTargetLand(7)}},__decorate([a(cc.Node)],e.prototype,"moveRange",void 0),__decorate([a(cc.Node)],e.prototype,"weaponRange",void 0),__decorate([a(cc.Node)],e.prototype,"mapRange",void 0),__decorate([a(cc.Sprite)],e.prototype,"landImages",void 0),__decorate([a(cc.Sprite)],e.prototype,"boxImage",void 0),e=__decorate([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{"./UVReset":"UVReset"}],IState:[function(t,e,o){"use strict";cc._RF.push(e,"1486bZtYC5Iq568JQ+tenSt","IState"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],ImagesAssets:[function(t,e,o){"use strict";cc._RF.push(e,"1b1efgnoFxPlJea8w/qiMhn","ImagesAssets"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=n.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.images=[],e.landImages=[],e}return __extends(e,t),e.prototype.getImageByKey=function(t){for(var e=this.images.concat(this.landImages),o=0;o<e.length;++o){var n=e[o];if(n.name.toLowerCase()==t.toLowerCase())return n}},e.prototype.getLandImageByType=function(t){switch(t){case 0:return this.getImageByKey("sea");case 1:return this.getImageByKey("beach");case 2:return this.getImageByKey("sand");case 3:return this.getImageByKey("grass");case 4:return this.getImageByKey("city");case 5:return this.getImageByKey("hill");case 6:return this.getImageByKey("energy");default:throw Error("\u9084\u6c92\u6709\u5716\u7247\u54e6:"+t)}},__decorate([r(cc.SpriteFrame)],e.prototype,"images",void 0),__decorate([r(cc.SpriteFrame)],e.prototype,"landImages",void 0),e=__decorate([i],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],InputSensor:[function(t,e,o){"use strict";cc._RF.push(e,"4a3d393dPBIZ7xtdq7zCnDO","InputSensor"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=(n.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var o;return __extends(e,t),o=e,e.prototype.start=function(){this.onDestroy(),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyUp,this)},e.prototype.onDestroy=function(){cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyUp,this)},e.prototype.onKeyUp=function(t){switch(window.viewNotifyOb.next(["KEY_DOWN",t.keyCode]),t.keyCode){case cc.macro.KEY.w:this.node.emit(o.CURSOR_UP);break;case cc.macro.KEY.a:this.node.emit(o.CURSOR_LEFT);break;case cc.macro.KEY.s:this.node.emit(o.CURSOR_DOWN);break;case cc.macro.KEY.d:this.node.emit(o.CURSOR_RIGHT);break;case cc.macro.KEY.up:this.node.emit(o.SCREEN_UP);break;case cc.macro.KEY.left:this.node.emit(o.SCREEN_LEFT);break;case cc.macro.KEY.down:this.node.emit(o.SCREEN_DOWN);break;case cc.macro.KEY.right:this.node.emit(o.SCREEN_RIGHT);break;case cc.macro.KEY.enter:this.node.emit(o.ENTER);break;case cc.macro.KEY.escape:this.node.emit(o.ESCAPE)}},e.CURSOR_UP="CURSOR_UP",e.CURSOR_DOWN="CURSOR_DOWN",e.CURSOR_LEFT="CURSOR_LEFT",e.CURSOR_RIGHT="CURSOR_RIGHT",e.SCREEN_UP="SCREEN_UP",e.SCREEN_DOWN="SCREEN_DOWN",e.SCREEN_LEFT="SCREEN_LEFT",e.SCREEN_RIGHT="SCREEN_RIGHT",e.ENTER="ENTER",e.ESCAPE="ESCAPE",e=o=__decorate([i],e)}(cc.Component));o.default=r,cc._RF.pop()},{}],LandMap:[function(t,e,o){"use strict";cc._RF.push(e,"26d96yFtXNDjrz7dC7mDuw1","LandMap"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./Grid"),i=cc._decorator,r=i.ccclass,a=i.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefabGrid=null,e.gridContainer=null,e.grids=new Map,e}return __extends(e,t),e.prototype.initPool=function(){for(var t=0;t<400;++t){var e=cc.instantiate(this.prefabGrid);e.setParent(this.gridContainer),e.active=!0;var o=e.getComponent(n.default);o.landX=t%20,o.landY=Math.floor(t/20),this.grids.set(o.landX+":"+o.landY,o)}},e.prototype.resetUV=function(){this.grids.forEach(function(t,e){t.resetUV()})},e.prototype.setMap=function(t){for(var e=0;e<t.length;++e)for(var o=0;o<t[e].length;++o){var n=this.getGridByXY([o,e]);n&&n.setType(t[e][o])}},e.prototype.setMapOneLevel=function(t){for(var e=0;e<t.length;++e){var o=e%20,n=Math.floor(e/20),i=this.getGridByXY([o,n]);i&&i.setType(t[e])}},e.prototype.showMovableGrid=function(t){var e=this;this.clearRange(),t.forEach(function(t){var o=e.getGridByXY(t);o&&o.showMoveRange()})},e.prototype.showWeaponRange=function(t){var e=this;this.closeWeaponRange(),t.forEach(function(t){var o=e.getGridByXY(t);o&&o.showWeaponRange()})},e.prototype.showMapRange=function(t){var e=this;this.closeMapRange(),t.forEach(function(t){var o=e.getGridByXY(t);o&&o.showMapRange()})},e.prototype.closeMapRange=function(){this.grids.forEach(function(t){t.showMapRange(!1)})},e.prototype.closeWeaponRange=function(){this.grids.forEach(function(t){t.showWeaponRange(!1)})},e.prototype.clearRange=function(){this.grids.forEach(function(t){t.showNormal()})},e.prototype.getGridByXY=function(t){return this.grids.get(t[0]+":"+t[1])},__decorate([a(cc.Node)],e.prototype,"prefabGrid",void 0),__decorate([a(cc.Node)],e.prototype,"gridContainer",void 0),e=__decorate([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{"./Grid":"Grid"}],LandStatuInfo:[function(t,e,o){"use strict";cc._RF.push(e,"eb94fLvkoRKwJjW2XYrQlbL","LandStatuInfo"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../BasicViewer"),i=t("../ViewController"),r=cc._decorator,a=r.ccclass,c=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.landImage=null,e.moveBuff=null,e.accuracyBuff=null,e.damageBuff=null,e}return __extends(e,t),e.prototype.setTerrain=function(t){if(this.node.active=!1,null!=t){this.node.active=!0;var e=i.default.instance.imagesAssets.getImageByKey(t.title);void 0!=e&&(this.landImage.spriteFrame=e),this.moveBuff.string="\u79fb\u52d5\u88dc\u6b63="+t.cost,this.accuracyBuff.string="\u547d\u4e2d\u88dc\u6b63="+t.hitRate,this.damageBuff.string="\u50b7\u5bb3\u88dc\u6b63="+t.damage}},__decorate([c(cc.Sprite)],e.prototype,"landImage",void 0),__decorate([c(cc.Label)],e.prototype,"moveBuff",void 0),__decorate([c(cc.Label)],e.prototype,"accuracyBuff",void 0),__decorate([c(cc.Label)],e.prototype,"damageBuff",void 0),e=__decorate([a],e)}(n.default);o.default=p,cc._RF.pop()},{"../BasicViewer":"BasicViewer","../ViewController":"ViewController"}],LandUnits:[function(t,e,o){"use strict";cc._RF.push(e,"54263U1NhlMCaxxE5xdJmaf","LandUnits"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./Unit"),i=t("../Pool"),r=t("../ViewController"),a=cc._decorator,c=a.ccclass,p=a.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.playerColor=null,e.playerEndColor=null,e.enemyColor=null,e.enemyEndColor=null,e.prefabUnit=null,e._units=[],e}return __extends(e,t),e.prototype.start=function(){},e.prototype.onLoad=function(){this._pool=this.node.getComponent(i.default)},e.prototype.setUnits=function(t){this.clearUnits();for(var e=0,o=t;e<o.length;e++){var i=o[e],a=i.key,c=i.position,p=this._pool.acquire();p.setParent(this.node);var s=r.default.instance.view.getGridPos(c);p.x=s[0],p.y=s[1],p.active=!0;var u=p.getComponent(n.default);if(u.unitId=a,void 0!=i.itemState){var l=i.key;"_item_13"==l&&(l="land_box"),u.setUnitImage(l),u.setColor(cc.Color.WHITE)}else{var f=i.robotState.robotKey,d="player"==i.playerKey,h=void 0!=i.robotState.tags.done;void 0!=i.robotState.tags.sky&&(u.unit.y+=6),u.setUnitImage(f),d?h?u.setColor(this.playerEndColor):u.setColor(this.playerColor):h?u.setColor(this.enemyEndColor):u.setColor(this.enemyColor),this._units.push(p)}}},e.prototype.shakeOneUnit=function(t){var e=this.getUnitByID(t);e&&e.shake()},e.prototype.evadeOneUnit=function(t){var e=this.getUnitByID(t);e&&e.evade()},e.prototype.toSkyUnit=function(t,e){var o=this.getUnitByID(t);o&&o.toSky(e)},e.prototype.toLandUnit=function(t,e){var o=this.getUnitByID(t);o&&o.toLand(e)},e.prototype.clearUnits=function(){var t=this;this._units.forEach(function(e){t._removeUnit(e)}),this._units=[]},e.prototype.removeUnitByID=function(t){var e=this.getUnitByID(t);e&&(this._units.splice(this._units.indexOf(e.node),1),this._removeUnit(e.node))},e.prototype.setUnitPos=function(t,e){var o=this.getUnitByID(t);if(o){var n=r.default.instance.view.getGridPos(e);o.node.x=n[0],o.node.y=n[1]}},e.prototype.getUnitByID=function(t){for(var e=0,o=this._units;e<o.length;e++){var i=o[e];if(i.getComponent(n.default).unitId==t)return i.getComponent(n.default)}},e.prototype.moveUnitByID=function(t,e,o){var n=this.getUnitByID(t);if(n){var i=[];e.forEach(function(t){var e=r.default.instance.view.getGridPos(t),o=cc.moveTo(.1,e[0],e[1]);i.push(o)}),i.push(cc.callFunc(o)),n.node.runAction(cc.sequence(i))}},e.prototype._removeUnit=function(t){t.removeFromParent(),t.getComponent(n.default).unitId="",t.getComponent(n.default).unit.y=0,this._pool.release(t)},__decorate([p(cc.Color)],e.prototype,"playerColor",void 0),__decorate([p(cc.Color)],e.prototype,"playerEndColor",void 0),__decorate([p(cc.Color)],e.prototype,"enemyColor",void 0),__decorate([p(cc.Color)],e.prototype,"enemyEndColor",void 0),__decorate([p(n.default)],e.prototype,"prefabUnit",void 0),e=__decorate([c],e)}(cc.Component);o.default=s,cc._RF.pop()},{"../Pool":"Pool","../ViewController":"ViewController","./Unit":"Unit"}],ListPageController:[function(t,e,o){"use strict";cc._RF.push(e,"19cd6ay/51Ds4iwy7Fd5KvI","ListPageController"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./BasicViewer"),i=t("./MenuButtons"),r=cc._decorator,a=r.ccclass,c=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.list=null,e.pageId=0,e.maxPageId=0,e.loop=!0,e}return __extends(e,t),e.prototype.open=function(){t.prototype.open.call(this),this.list.open()},e.prototype.close=function(){t.prototype.close.call(this),this.list.close()},e.prototype.prevPage=function(){--this.pageId<0&&(this.pageId=this.loop?this.maxPageId:0)},e.prototype.nextPage=function(){++this.pageId>this.maxPageId&&(this.pageId=this.loop?0:this.maxPageId)},__decorate([c(i.default)],e.prototype,"list",void 0),e=__decorate([a],e)}(n.default);o.default=p,cc._RF.pop()},{"./BasicViewer":"BasicViewer","./MenuButtons":"MenuButtons"}],LobbyPage:[function(t,e,o){"use strict";cc._RF.push(e,"0b976f7sxFGZKfCliQtzeW6","LobbyPage"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../BasicViewer"),i=t("../InputSensor"),r=t("../StateController"),a=t("../ViewController"),c=t("../CommentUI/RobotDetailPanel/RobotDetailOnStoreState"),p=t("../CommentUI/PilotDetailPanel/PilotDetailOnStoreState"),s=t("./WeaponStore/WeaponStore"),u=t("./WeaponStore/WeaponStoreState"),l=t("./ComponentStore/ComponentStore"),f=t("./ComponentStore/ComponentStoreState"),d=t("../CommentUI/ComponentDetailPanel/ComponentDetailOnStoreState"),h=t("./ComponentStore/ComponentStoreBuyState"),y=t("../CommentUI/WeaponDetailPanel/WeaponDetailOnStoreState"),_=t("./WeaponStore/WeaponStoreBuyState"),C=t("./ComponentSetting/ComponentSetting"),S=t("./ComponentSetting/ComponentSettingComponentState"),m=t("./ComponentSetting/ComponentSettingRobotState"),g=t("./ComponentSetting/ComponentSettingRobotEquipState"),v=t("./WeaponSetting/WeaponSetting"),b=t("./WeaponSetting/WeaponSettingRobotEquipState"),P=t("./WeaponSetting/WeaponSettingRobotState"),k=t("./WeaponSetting/WeaponSettingComponentState"),R=t("./PilotSetting/PilotSetting"),w=t("./PilotSetting/PilotSettingRobotEquipState"),M=t("./PilotSetting/PilotSettingComponentState"),E=t("./PilotSetting/PilotSettingRobotState"),L=t("./PrepareMenu/PrepareMenu"),I=t("./RobotStore/RobotStore"),D=t("./PilotStore/PilotStore"),U=t("./PrepareMenu/PrepareMenuState"),F=t("./RobotStore/RobotStoreBuyState"),B=t("./RobotStore/RobotStoreState"),O=t("./PilotStore/PilotStoreBuyState"),x=t("./PilotStore/PilotStoreState"),N=cc._decorator,W=N.ccclass,A=N.property,V=(N.requireComponent,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prepareMenu=null,e.robotStore=null,e.pilotStore=null,e.weaponStore=null,e.componentStore=null,e.componentSetting=null,e.weaponSetting=null,e.pilotSetting=null,e.money=null,e}return __extends(e,t),e.prototype.init=function(){this._state=this.node.getComponent(r.default)},e.prototype.open=function(){t.prototype.open.call(this),a.default.instance.notifyStartLobby(),this.openPrepareMenu()},e.prototype.addListener=function(){t.prototype.addListener.call(this),this.node.on(i.default.CURSOR_UP,this._onMainPageCursorUp,this),this.node.on(i.default.CURSOR_LEFT,this._onMainPageCursorLeft,this),this.node.on(i.default.CURSOR_RIGHT,this._onMainPageCursorRight,this),this.node.on(i.default.CURSOR_DOWN,this._onMainPageCursorDown,this),this.node.on(i.default.ENTER,this._onMainPageCursorEnter,this),this.node.on(i.default.ESCAPE,this._onMainPageCursorEsc,this)},e.prototype.removeListenser=function(){t.prototype.removeListenser.call(this),this.node.off(i.default.CURSOR_UP,this._onMainPageCursorUp,this),this.node.off(i.default.CURSOR_LEFT,this._onMainPageCursorLeft,this),this.node.off(i.default.CURSOR_RIGHT,this._onMainPageCursorRight,this),this.node.off(i.default.CURSOR_DOWN,this._onMainPageCursorDown,this),this.node.off(i.default.ENTER,this._onMainPageCursorEnter,this),this.node.off(i.default.ESCAPE,this._onMainPageCursorEsc,this)},e.prototype.close=function(){this.closeAllPage(),t.prototype.close.call(this)},e.prototype.onPrepareMenuPrevClick=function(){this.prepareMenu.menu.onPrevClick()},e.prototype.onPrepareMenuNextClick=function(){this.prepareMenu.menu.onNextClick()},e.prototype.onPrepareMenuEnterClick=function(){switch(this.prepareMenu.menu.getFocus()){case"\u8cfc\u8cb7\u6a5f\u7532":this.openRobotStore();break;case"\u96c7\u50ad\u99d5\u99db":this.openPilotStore();break;case"\u8cfc\u8cb7\u8ecd\u706b":this.openWeaponStore();break;case"\u8cfc\u8cb7\u914d\u4ef6":this.openComponentStore();break;case"\u914d\u7f6e\u99d5\u99db":this.openPilotSetting();break;case"\u914d\u7f6e\u8ecd\u706b":this.openWeaponSetting();break;case"\u914d\u7f6e\u914d\u4ef6":this.openComponentSetting()}},e.prototype.onPrepareMenuEscClick=function(){this.backToMain()},e.prototype.onRobotStoreUpClick=function(){this.robotStore.list.onPrevClick(this)},e.prototype.onRobotStoreDownClick=function(){this.robotStore.list.onNextClick(this)},e.prototype.onRobotStoreLeftClick=function(){this.robotStore.prevPage()},e.prototype.onRobotStoreRightClick=function(){this.robotStore.nextPage()},e.prototype.onRobotStoreEnterClick=function(){var t=this.robotStore.list.getFocus();a.default.instance.view.getCommentUI().openRobotDetail(t,["\u8cfc\u8cb7","\u53d6\u6d88"]),this._state.changeState(new c.default)},e.prototype.onRobotStoreEscClick=function(){this.openPrepareMenu()},e.prototype.onPilotStoreUpClick=function(){this.pilotStore.list.onPrevClick(this)},e.prototype.onPilotStoreDownClick=function(){this.pilotStore.list.onNextClick(this)},e.prototype.onPilotStoreLeftClick=function(){this.pilotStore.list.onLeftClick(this)},e.prototype.onPilotStoreRightClick=function(){this.pilotStore.list.onRightClick(this)},e.prototype.onPilotStoreEnterClick=function(){var t=this.pilotStore.list.getFocus();a.default.instance.view.getCommentUI().openPilotDetail(t,["\u8cfc\u8cb7","\u53d6\u6d88"]),this._state.changeState(new p.default)},e.prototype.onPilotStoreEscClick=function(){this.openPrepareMenu()},e.prototype.onPilotStoreBuyLeftClick=function(){a.default.instance.view.getCommentUI().popPanel.onLeftClick()},e.prototype.onPilotStoreBuyRightClick=function(){a.default.instance.view.getCommentUI().popPanel.onRightClick()},e.prototype.onPilotStoreBuyEnterClick=function(){var t=this;if(0==a.default.instance.view.getCommentUI().popPanel.getCursor()[0]){var e=this.pilotStore.list.getFocus();a.default.instance.model.buyPilotById(e.key,function(e,o){a.default.instance.view.getCommentUI().showAlert("\u5df2\u8cfc\u8cb7"),t.updateStorage()})}this.onPilotStoreBuyEscClick()},e.prototype.onPilotStoreBuyEscClick=function(){a.default.instance.view.getCommentUI().closePop(),this._state.changeState(new p.default)},e.prototype.onRobotStoreBuyLeftClick=function(){a.default.instance.view.getCommentUI().popPanel.onLeftClick()},e.prototype.onRobotStoreBuyRightClick=function(){a.default.instance.view.getCommentUI().popPanel.onRightClick()},e.prototype.onRobotStoreBuyEnterClick=function(){var t=this;if(0==a.default.instance.view.getCommentUI().popPanel.getCursor()[0]){var e=this.robotStore.list.getFocus();a.default.instance.model.buyRobotById(e.key,function(e,o){a.default.instance.view.getCommentUI().showAlert("\u5df2\u8cfc\u8cb7"),t.updateStorage()})}this.onRobotStoreBuyEscClick()},e.prototype.onRobotStoreBuyEscClick=function(){a.default.instance.view.getCommentUI().closePop(),this._state.changeState(new c.default)},e.prototype.onRobotDetailOnStoreUpClick=function(){a.default.instance.view.commentUI.robotDetailPanel.menu.onPrevClick()},e.prototype.onRobotDetailOnStoreDownClick=function(){a.default.instance.view.commentUI.robotDetailPanel.menu.onNextClick()},e.prototype.onRobotDetailOnStoreEnterClick=function(){switch(a.default.instance.view.commentUI.robotDetailPanel.menu.getFocus()){case"\u8cfc\u8cb7":this.robotStore.list.getFocus();a.default.instance.view.getCommentUI().openPopup("\u78ba\u5b9a\u8981\u8cb7\uff1f"),this._state.changeState(new F.default);break;case"\u53d6\u6d88":this.onRobotDetailOnStoreEscClick()}},e.prototype.onRobotDetailOnStoreEscClick=function(){a.default.instance.view.commentUI.closeRobotDetail(),this._state.changeState(new B.default)},e.prototype.onPilotDetailOnStoreUpClick=function(){a.default.instance.view.commentUI.pilotDetailPanel.menu.onPrevClick()},e.prototype.onPilotDetailOnStoreDownClick=function(){a.default.instance.view.commentUI.pilotDetailPanel.menu.onNextClick()},e.prototype.onPilotDetailOnStoreLeftClick=function(){},e.prototype.onPilotDetailOnStoreRightClick=function(){},e.prototype.onPilotDetailOnStoreEnterClick=function(){switch(a.default.instance.view.commentUI.pilotDetailPanel.menu.getFocus()){case"\u8cfc\u8cb7":this.pilotStore.list.getFocus();a.default.instance.view.getCommentUI().openPopup("\u78ba\u5b9a\u8981\u8cb7\uff1f"),this._state.changeState(new O.default);break;case"\u53d6\u6d88":this.onPilotDetailOnStoreEscClick()}},e.prototype.onPilotDetailOnStoreEscClick=function(){a.default.instance.view.commentUI.closePilotDetail(),this._state.changeState(new x.default)},e.prototype.onWeaponStoreBuyLeftClick=function(){a.default.instance.view.getCommentUI().popPanel.onLeftClick()},e.prototype.onWeaponStoreBuyRightClick=function(){a.default.instance.view.getCommentUI().popPanel.onRightClick()},e.prototype.onWeaponStoreBuyEnterClick=function(){var t=this;if(0==a.default.instance.view.getCommentUI().popPanel.getCursor()[0]){var e=this.weaponStore.list.getFocus();a.default.instance.model.buyWeaponById(e.key,function(e,o){a.default.instance.view.getCommentUI().showAlert("\u5df2\u8cfc\u8cb7"),t.updateStorage()})}this.onWeaponStoreBuyEscClick()},e.prototype.onWeaponStoreBuyEscClick=function(){a.default.instance.view.getCommentUI().closePop(),this._state.changeState(new y.default)},e.prototype.onWeaponStoreUpClick=function(){this.weaponStore.list.onPrevClick(this)},e.prototype.onWeaponStoreDownClick=function(){this.weaponStore.list.onNextClick(this)},e.prototype.onWeaponStoreLeftClick=function(){this.weaponStore.prevPage()},e.prototype.onWeaponStoreRightClick=function(){this.weaponStore.nextPage()},e.prototype.onWeaponStoreEnterClick=function(){var t=this.weaponStore.list.getFocus();a.default.instance.view.getCommentUI().openWeaponDetail(t,["\u8cfc\u8cb7","\u53d6\u6d88"]),this._state.changeState(new y.default)},e.prototype.onWeaponStoreEscClick=function(){this.openPrepareMenu()},e.prototype.onComponentStoreBuyLeftClick=function(){a.default.instance.view.getCommentUI().popPanel.onLeftClick()},e.prototype.onComponentStoreBuyRightClick=function(){a.default.instance.view.getCommentUI().popPanel.onRightClick()},e.prototype.onComponentStoreBuyEnterClick=function(){var t=this;if(0==a.default.instance.view.getCommentUI().popPanel.getCursor()[0]){var e=this.componentStore.list.getFocus();a.default.instance.model.buyComponentById(e.key,function(e,o){a.default.instance.view.getCommentUI().showAlert("\u5df2\u8cfc\u8cb7"),t.updateStorage()})}this.onComponentStoreBuyEscClick()},e.prototype.onComponentStoreBuyEscClick=function(){a.default.instance.view.getCommentUI().closePop(),this._state.changeState(new d.default)},e.prototype.onComponentStoreUpClick=function(){this.componentStore.list.onPrevClick(this)},e.prototype.onComponentStoreDownClick=function(){this.componentStore.list.onNextClick(this)},e.prototype.onComponentStoreLeftClick=function(){this.componentStore.prevPage()},e.prototype.onComponentStoreRightClick=function(){this.componentStore.nextPage()},e.prototype.onComponentStoreEnterClick=function(){var t=this.componentStore.list.getFocus();a.default.instance.view.getCommentUI().openComponentDetail(t,["\u8cfc\u8cb7","\u53d6\u6d88"]),this._state.changeState(new d.default)},e.prototype.onComponentStoreEscClick=function(){this.openPrepareMenu()},e.prototype.onComponentDetailOnStoreUpClick=function(){a.default.instance.view.commentUI.componentDetailPanel.menu.onPrevClick()},e.prototype.onComponentDetailOnStoreDownClick=function(){a.default.instance.view.commentUI.componentDetailPanel.menu.onNextClick()},e.prototype.onComponentDetailOnStoreLeftClick=function(){},e.prototype.onComponentDetailOnStoreRightClick=function(){},e.prototype.onComponentDetailOnStoreEnterClick=function(){switch(a.default.instance.view.commentUI.componentDetailPanel.menu.getFocus()){case"\u8cfc\u8cb7":this.componentStore.list.getFocus();a.default.instance.view.getCommentUI().openPopup("\u78ba\u5b9a\u8981\u8cb7\uff1f"),this._state.changeState(new h.default);break;case"\u53d6\u6d88":this.onComponentDetailOnStoreEscClick()}},e.prototype.onComponentDetailOnStoreEscClick=function(){a.default.instance.view.commentUI.closeComponentDetail(),this._state.changeState(new f.default)},e.prototype.onWeaponDetailOnStoreUpClick=function(){a.default.instance.view.commentUI.weaponDetailPanel.menu.onPrevClick()},e.prototype.onWeaponDetailOnStoreDownClick=function(){a.default.instance.view.commentUI.weaponDetailPanel.menu.onNextClick()},e.prototype.onWeaponDetailOnStoreLeftClick=function(){},e.prototype.onWeaponDetailOnStoreRightClick=function(){},e.prototype.onWeaponDetailOnStoreEnterClick=function(){switch(a.default.instance.view.commentUI.weaponDetailPanel.menu.getFocus()){case"\u8cfc\u8cb7":this.weaponStore.list.getFocus();a.default.instance.view.getCommentUI().openPopup("\u78ba\u5b9a\u8981\u8cb7\uff1f"),this._state.changeState(new _.default);break;case"\u53d6\u6d88":this.onWeaponDetailOnStoreEscClick()}},e.prototype.onWeaponDetailOnStoreEscClick=function(){a.default.instance.view.commentUI.closeWeaponDetail(),this._state.changeState(new u.default)},e.prototype.onComponentSettingComponentStateUpClick=function(){this.componentSetting.upComponentList()},e.prototype.onComponentSettingComponentStateDownClick=function(){this.componentSetting.downComponentList()},e.prototype.onComponentSettingComponentStateLeftClick=function(){},e.prototype.onComponentSettingComponentStateRightClick=function(){},e.prototype.onComponentSettingComponentStateEnterClick=function(){var t=this,e=this.componentSetting.componentList.list.getFocus(),o=this.componentSetting.robotEquipList.list.getFocus(),n=this.componentSetting.robotList.list.getFocus(),i=function(e,o){t.componentSetting.setRobotList(),t.onComponentSettingComponentStateEscClick()};"\u65b0\u589e"==o.title?a.default.instance.model.addUnitComponent(n.key,e.key,i):"\u62c6\u9664"==e.title?a.default.instance.model.removeUnitComponent(n.key,o.key,i):a.default.instance.model.removeUnitComponent(n.key,o.key,function(){a.default.instance.model.addUnitComponent(n.key,e.key,i)})},e.prototype.onComponentSettingComponentStateEscClick=function(){this._state.changeState(new g.default),this.componentSetting.prevFocus()},e.prototype.onComponentSettingRobotStateUpClick=function(){this.componentSetting.upRobotList()},e.prototype.onComponentSettingRobotStateDownClick=function(){this.componentSetting.downRobotList()},e.prototype.onComponentSettingRobotStateLeftClick=function(){},e.prototype.onComponentSettingRobotStateRightClick=function(){},e.prototype.onComponentSettingRobotStateEnterClick=function(){this._state.changeState(new g.default),this.componentSetting.nextFocus()},e.prototype.onComponentSettingRobotStateEscClick=function(){this.openPrepareMenu()},e.prototype.onComponentSettingRobotEquipStateUpClick=function(){this.componentSetting.upRobotEquipList()},e.prototype.onComponentSettingRobotEquipStateDownClick=function(){this.componentSetting.downRobotEquipList()},e.prototype.onComponentSettingRobotEquipStateLeftClick=function(){},e.prototype.onComponentSettingRobotEquipStateRightClick=function(){},e.prototype.onComponentSettingRobotEquipStateEnterClick=function(){this._state.changeState(new S.default),this.componentSetting.nextFocus()},e.prototype.onComponentSettingRobotEquipStateEscClick=function(){this._state.changeState(new m.default),this.componentSetting.prevFocus()},e.prototype.onWeaponSettingComponentStateUpClick=function(){this.weaponSetting.upComponentList()},e.prototype.onWeaponSettingComponentStateDownClick=function(){this.weaponSetting.downComponentList()},e.prototype.onWeaponSettingComponentStateLeftClick=function(){},e.prototype.onWeaponSettingComponentStateRightClick=function(){},e.prototype.onWeaponSettingComponentStateEnterClick=function(){var t=this,e=this.weaponSetting.componentList.list.getFocus(),o=this.weaponSetting.robotEquipList.list.getFocus(),n=this.weaponSetting.robotList.list.getFocus(),i=function(e,o){t.weaponSetting.setRobotList(),t.onWeaponSettingComponentStateEscClick()};"\u65b0\u589e"==o.title?a.default.instance.model.addUnitWeapon(n.key,e.key,i):"\u62c6\u9664"==e.title?a.default.instance.model.removeUnitWeapon(n.key,o.key,i):a.default.instance.model.removeUnitWeapon(n.key,o.key,function(){a.default.instance.model.addUnitWeapon(n.key,e.key,i)})},e.prototype.onWeaponSettingComponentStateEscClick=function(){this._state.changeState(new b.default),this.weaponSetting.prevFocus()},e.prototype.onWeaponSettingRobotStateUpClick=function(){this.weaponSetting.upRobotList()},e.prototype.onWeaponSettingRobotStateDownClick=function(){this.weaponSetting.downRobotList()},e.prototype.onWeaponSettingRobotStateLeftClick=function(){},e.prototype.onWeaponSettingRobotStateRightClick=function(){},e.prototype.onWeaponSettingRobotStateEnterClick=function(){this._state.changeState(new b.default),this.weaponSetting.nextFocus()},e.prototype.onWeaponSettingRobotStateEscClick=function(){this.openPrepareMenu()},e.prototype.onWeaponSettingRobotEquipStateUpClick=function(){this.weaponSetting.upRobotEquipList()},e.prototype.onWeaponSettingRobotEquipStateDownClick=function(){this.weaponSetting.downRobotEquipList()},e.prototype.onWeaponSettingRobotEquipStateLeftClick=function(){},e.prototype.onWeaponSettingRobotEquipStateRightClick=function(){},e.prototype.onWeaponSettingRobotEquipStateEnterClick=function(){this._state.changeState(new k.default),this.weaponSetting.nextFocus()},e.prototype.onWeaponSettingRobotEquipStateEscClick=function(){this._state.changeState(new P.default),this.weaponSetting.prevFocus()},e.prototype.onPilotSettingComponentStateUpClick=function(){this.pilotSetting.upComponentList()},e.prototype.onPilotSettingComponentStateDownClick=function(){this.pilotSetting.downComponentList()},e.prototype.onPilotSettingComponentStateLeftClick=function(){},e.prototype.onPilotSettingComponentStateRightClick=function(){},e.prototype.onPilotSettingComponentStateEnterClick=function(){var t=this,e=this.pilotSetting.componentList.list.getFocus(),o=this.pilotSetting.robotEquipList.list.getFocus(),n=this.pilotSetting.robotList.list.getFocus(),i=function(e,o){t.pilotSetting.setRobotList(),t.onPilotSettingComponentStateEscClick()};"\u65b0\u589e"==o.title?a.default.instance.model.setRobotPilot(n.key,e.key,i):"\u62c6\u9664"==e.title?a.default.instance.model.removeRobotPilot(n.key,o.key,i):a.default.instance.model.removeRobotPilot(n.key,o.key,function(){a.default.instance.model.setRobotPilot(n.key,e.key,i)})},e.prototype.onPilotSettingComponentStateEscClick=function(){this._state.changeState(new w.default),this.pilotSetting.prevFocus()},e.prototype.onPilotSettingRobotStateUpClick=function(){this.pilotSetting.upRobotList()},e.prototype.onPilotSettingRobotStateDownClick=function(){this.pilotSetting.downRobotList()},e.prototype.onPilotSettingRobotStateLeftClick=function(){},e.prototype.onPilotSettingRobotStateRightClick=function(){},e.prototype.onPilotSettingRobotStateEnterClick=function(){this._state.changeState(new w.default),this.pilotSetting.nextFocus()},e.prototype.onPilotSettingRobotStateEscClick=function(){this.openPrepareMenu()},e.prototype.onPilotSettingRobotEquipStateUpClick=function(){this.pilotSetting.upRobotEquipList()},e.prototype.onPilotSettingRobotEquipStateDownClick=function(){this.pilotSetting.downRobotEquipList()},e.prototype.onPilotSettingRobotEquipStateLeftClick=function(){},e.prototype.onPilotSettingRobotEquipStateRightClick=function(){},e.prototype.onPilotSettingRobotEquipStateEnterClick=function(){this._state.changeState(new M.default),this.pilotSetting.nextFocus()},e.prototype.onPilotSettingRobotEquipStateEscClick=function(){this._state.changeState(new E.default),this.pilotSetting.prevFocus()},e.prototype.updateStorage=function(){var t=this;a.default.instance.model.getLobbyCtx(function(e,o){t.money.string=o.money})},e.prototype.openPrepareMenu=function(){this.closeAllPage(),this.prepareMenu.open(),this._state.changeState(new U.default),this.updateStorage()},e.prototype.openRobotStore=function(){this.closeAllPage(),this.robotStore.open(),this.robotStore.setlist(),this._state.changeState(new B.default)},e.prototype.openPilotStore=function(){this.closeAllPage(),this.pilotStore.open(),this.pilotStore.setlist(),this._state.changeState(new x.default)},e.prototype.openWeaponStore=function(){this.closeAllPage(),this.weaponStore.open(),this.weaponStore.setlist(),this._state.changeState(new u.default)},e.prototype.openComponentStore=function(){this.closeAllPage(),this.componentStore.open(),this.componentStore.setlist(),this._state.changeState(new f.default)},e.prototype.openPilotSetting=function(){this.closeAllPage(),this.pilotSetting.open(),this._state.changeState(new E.default)},e.prototype.openComponentSetting=function(){this.closeAllPage(),this.componentSetting.open(),this._state.changeState(new m.default)},e.prototype.openWeaponSetting=function(){this.closeAllPage(),this.weaponSetting.open(),this._state.changeState(new P.default)},e.prototype.backToMain=function(){a.default.instance.notifyEndLobby(),a.default.instance.view.openMainPage()},e.prototype.closeAllPage=function(){this.prepareMenu.close(),this.robotStore.close(),this.pilotStore.close(),this.pilotSetting.close(),this.weaponStore.close(),this.weaponSetting.close(),this.componentStore.close(),this.componentSetting.close(),a.default.instance.view.commentUI.closeRobotDetail()},e.prototype.setMoney=function(t){this.money.string=t.toString()},e.prototype._onMainPageCursorUp=function(){this._state.onPrevClick(this)},e.prototype._onMainPageCursorLeft=function(){this._state.onLeftClick(this)},e.prototype._onMainPageCursorRight=function(){this._state.onRightClick(this)},e.prototype._onMainPageCursorDown=function(){this._state.onNextClick(this)},e.prototype._onMainPageCursorEnter=function(){this._state.onEnterClick(this)},e.prototype._onMainPageCursorEsc=function(){this._state.onEscClick(this)},__decorate([A(L.default)],e.prototype,"prepareMenu",void 0),__decorate([A(I.default)],e.prototype,"robotStore",void 0),__decorate([A(D.default)],e.prototype,"pilotStore",void 0),__decorate([A(s.default)],e.prototype,"weaponStore",void 0),__decorate([A(l.default)],e.prototype,"componentStore",void 0),__decorate([A(C.default)],e.prototype,"componentSetting",void 0),__decorate([A(v.default)],e.prototype,"weaponSetting",void 0),__decorate([A(R.default)],e.prototype,"pilotSetting",void 0),__decorate([A(cc.Label)],e.prototype,"money",void 0),e=__decorate([W],e)}(n.default));o.default=V,cc._RF.pop()},{"../BasicViewer":"BasicViewer","../CommentUI/ComponentDetailPanel/ComponentDetailOnStoreState":"ComponentDetailOnStoreState","../CommentUI/PilotDetailPanel/PilotDetailOnStoreState":"PilotDetailOnStoreState","../CommentUI/RobotDetailPanel/RobotDetailOnStoreState":"RobotDetailOnStoreState","../CommentUI/WeaponDetailPanel/WeaponDetailOnStoreState":"WeaponDetailOnStoreState","../InputSensor":"InputSensor","../StateController":"StateController","../ViewController":"ViewController","./ComponentSetting/ComponentSetting":"ComponentSetting","./ComponentSetting/ComponentSettingComponentState":"ComponentSettingComponentState","./ComponentSetting/ComponentSettingRobotEquipState":"ComponentSettingRobotEquipState","./ComponentSetting/ComponentSettingRobotState":"ComponentSettingRobotState","./ComponentStore/ComponentStore":"ComponentStore","./ComponentStore/ComponentStoreBuyState":"ComponentStoreBuyState","./ComponentStore/ComponentStoreState":"ComponentStoreState","./PilotSetting/PilotSetting":"PilotSetting","./PilotSetting/PilotSettingComponentState":"PilotSettingComponentState","./PilotSetting/PilotSettingRobotEquipState":"PilotSettingRobotEquipState","./PilotSetting/PilotSettingRobotState":"PilotSettingRobotState","./PilotStore/PilotStore":"PilotStore","./PilotStore/PilotStoreBuyState":"PilotStoreBuyState","./PilotStore/PilotStoreState":"PilotStoreState","./PrepareMenu/PrepareMenu":"PrepareMenu","./PrepareMenu/PrepareMenuState":"PrepareMenuState","./RobotStore/RobotStore":"RobotStore","./RobotStore/RobotStoreBuyState":"RobotStoreBuyState","./RobotStore/RobotStoreState":"RobotStoreState","./WeaponSetting/WeaponSetting":"WeaponSetting","./WeaponSetting/WeaponSettingComponentState":"WeaponSettingComponentState","./WeaponSetting/WeaponSettingRobotEquipState":"WeaponSettingRobotEquipState","./WeaponSetting/WeaponSettingRobotState":"WeaponSettingRobotState","./WeaponStore/WeaponStore":"WeaponStore","./WeaponStore/WeaponStoreBuyState":"WeaponStoreBuyState","./WeaponStore/WeaponStoreState":"WeaponStoreState"}],MainMenuState:[function(t,e,o){"use strict";cc._RF.push(e,"8ea29ZzLodPmqEWSWhQSGh9","MainMenuState"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../DefaultState"),i=cc._decorator,r=i.ccclass,a=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onPrevClick=function(t){t.onMenuUpClick()},e.prototype.onNextClick=function(t){t.onMenuDownClick()},e.prototype.onLeftClick=function(t){},e.prototype.onRightClick=function(t){},e.prototype.onEnterClick=function(t){t.onMenuEnterClick()},e.prototype.onEscClick=function(t){},e=__decorate([r],e)}(n.default));o.default=a,cc._RF.pop()},{"../../DefaultState":"DefaultState"}],MainMenu:[function(t,e,o){"use strict";cc._RF.push(e,"41cbfE7DQpCFoWrhp2z1TAh","MainMenu"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../MenuButtons"),i=t("../../BasicViewer"),r=t("../../ViewController"),a=cc._decorator,c=a.ccclass,p=a.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.menu=null,e}return __extends(e,t),e.prototype.init=function(){this.menu.updateItem=function(t,e){t.setLabel(e)}},e.prototype.open=function(){var e=this;t.prototype.open.call(this),r.default.instance.notifyCheckLoadGameplay(function(t){e.menu.open(),t?e.menu.setData(["\u6574\u5099\u90e8\u968a","\u9032\u5165\u526f\u672c","\u7e7c\u7e8c\u4e2d\u9014\u6230","\u65b0\u6e38\u6232"]):e.menu.setData(["\u6574\u5099\u90e8\u968a","\u9032\u5165\u526f\u672c","\u65b0\u6e38\u6232"])})},e.prototype.onPrevClick=function(){this.menu.onPrevClick()},e.prototype.onNextClick=function(){this.menu.onNextClick()},__decorate([p(n.default)],e.prototype,"menu",void 0),e=__decorate([c],e)}(i.default);o.default=s,cc._RF.pop()},{"../../BasicViewer":"BasicViewer","../../MenuButtons":"MenuButtons","../../ViewController":"ViewController"}],MainPage:[function(t,e,o){"use strict";cc._RF.push(e,"eeb4bMXGERFGZWM95sIZJ6j","MainPage"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../BasicViewer"),i=t("../InputSensor"),r=t("../StateController"),a=t("../ViewController"),c=t("./MainMenu/MainMenu"),p=t("./QuestMenu/QuestMenu"),s=t("./MainMenu/MainMenuState"),u=t("./QuestMenu/QuestMenuState"),l=cc._decorator,f=l.ccclass,d=l.property,h=l.requireComponent,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mainMenu=null,e.questMenu=null,e}return __extends(e,t),e.prototype.init=function(){this._state=this.node.getComponent(r.default)},e.prototype.open=function(){t.prototype.open.call(this),this.backToStart()},e.prototype.addListener=function(){t.prototype.addListener.call(this),this.node.on(i.default.CURSOR_UP,this._onMainPageCursorUp,this),this.node.on(i.default.CURSOR_LEFT,this._onMainPageCursorLeft,this),this.node.on(i.default.CURSOR_RIGHT,this._onMainPageCursorRight,this),this.node.on(i.default.CURSOR_DOWN,this._onMainPageCursorDown,this),this.node.on(i.default.ENTER,this._onMainPageCursorEnter,this),this.node.on(i.default.ESCAPE,this._onMainPageCursorEsc,this)},e.prototype.removeListenser=function(){t.prototype.removeListenser.call(this),this.node.off(i.default.CURSOR_UP,this._onMainPageCursorUp,this),this.node.off(i.default.CURSOR_LEFT,this._onMainPageCursorLeft,this),this.node.off(i.default.CURSOR_RIGHT,this._onMainPageCursorRight,this),this.node.off(i.default.CURSOR_DOWN,this._onMainPageCursorDown,this),this.node.off(i.default.ENTER,this._onMainPageCursorEnter,this),this.node.off(i.default.ESCAPE,this._onMainPageCursorEsc,this)},e.prototype.close=function(){this.closeAllPage(),t.prototype.close.call(this)},e.prototype.onQuestUpClick=function(){this.questMenu.onPrevClick()},e.prototype.onQuestDownClick=function(){this.questMenu.onNextClick()},e.prototype.onQuestLeftClick=function(){this.questMenu.onLeftClick()},e.prototype.onQuestRightClick=function(){this.questMenu.onRightClick()},e.prototype.onQuestEnterClick=function(){a.default.instance.view.openGamePage(this.questMenu.getButtonId())},e.prototype.onQuestEscClick=function(){this.backToStart()},e.prototype.onMenuUpClick=function(){this.mainMenu.onPrevClick()},e.prototype.onMenuDownClick=function(){this.mainMenu.onNextClick()},e.prototype.onMenuEnterClick=function(){switch(this.mainMenu.menu.getFocus()){case"\u6574\u5099\u90e8\u968a":var t=setTimeout(function(){a.default.instance.view.openLobbyPage(),clearTimeout(t)},0);break;case"\u9032\u5165\u526f\u672c":this.openQuestMenu();break;case"\u7e7c\u7e8c\u4e2d\u9014\u6230":a.default.instance.view.openGamePage();break;case"\u65b0\u6e38\u6232":a.default.instance.notifyNewGame(function(){a.default.instance.view.openMainPage()})}},e.prototype.openQuestMenu=function(){this.closeAllPage(),this.questMenu.open(),this._state.changeState(new u.default)},e.prototype.backToStart=function(){this.closeAllPage(),this.mainMenu.open(),this._state.changeState(new s.default)},e.prototype.closeAllPage=function(){this.mainMenu.close(),this.questMenu.close(),a.default.instance.view.commentUI.closeRobotDetail()},e.prototype._onMainPageCursorUp=function(){this._state.onPrevClick(this)},e.prototype._onMainPageCursorLeft=function(){this._state.onLeftClick(this)},e.prototype._onMainPageCursorRight=function(){this._state.onRightClick(this)},e.prototype._onMainPageCursorDown=function(){this._state.onNextClick(this)},e.prototype._onMainPageCursorEnter=function(){this._state.onEnterClick(this)},e.prototype._onMainPageCursorEsc=function(){this._state.onEscClick(this)},__decorate([d(c.default)],e.prototype,"mainMenu",void 0),__decorate([d(p.default)],e.prototype,"questMenu",void 0),e=__decorate([f,h(cc.Layout)],e)}(n.default);o.default=y,cc._RF.pop()},{"../BasicViewer":"BasicViewer","../InputSensor":"InputSensor","../StateController":"StateController","../ViewController":"ViewController","./MainMenu/MainMenu":"MainMenu","./MainMenu/MainMenuState":"MainMenuState","./QuestMenu/QuestMenu":"QuestMenu","./QuestMenu/QuestMenuState":"QuestMenuState"}],MenuButtons:[function(t,e,o){"use strict";cc._RF.push(e,"13645lCKVdNl64bK7B8DTFA","MenuButtons"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./MenuButton"),i=t("./BasicViewer"),r=t("./MenuCursor"),a=cc._decorator,c=a.ccclass,p=a.property,s=a.requireComponent,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefabButton=null,e._btns=[],e.updateItem=null,e}var o;return __extends(e,t),o=e,e.prototype.onLoad=function(){this._menuCursor=this.node.getComponent(r.default)},e.prototype.onPrevClick=function(t){this._menuCursor.previus(),this.node.emit(o.ON_MENU_UP,this._menuCursor.getCurrentId())},e.prototype.onNextClick=function(t){this._menuCursor.next(),this.node.emit(o.ON_MENU_DOWN,this._menuCursor.getCurrentId())},e.prototype.onLeftClick=function(t){this._menuCursor.left(),this.node.emit(o.ON_MENU_LEFT,this._menuCursor.getCurrentId())},e.prototype.onRightClick=function(t){this._menuCursor.right(),this.node.emit(o.ON_MENU_RIGHT,this._menuCursor.getCurrentId())},e.prototype.onEnterClick=function(t){this.node.emit(o.ON_MENU_ENTER,this._menuCursor.getCurrentFocus())},e.prototype.onEscClick=function(t){this.node.emit(o.ON_MENU_ENTER,"cancel")},e.prototype.getFocus=function(){return this._menuCursor.getCurrentFocus()},e.prototype.getFocusId=function(){return this._menuCursor.getCurrentId()},e.prototype.addListener=function(){var e=this;t.prototype.addListener.call(this),this.node.on(r.default.ON_CURSOR_CHANGE,function(t){e._focusOn(t[0]),e._refreshButtonLabel()},this)},e.prototype.removeListenser=function(){t.prototype.removeListenser.call(this),this.node.off(r.default.ON_CURSOR_CHANGE),this._btns.forEach(function(t){t.node.destroy()}),this._btns=[]},e.prototype.setData=function(t,e){var o=this;this._menuCursor.setData(t,e);var i=0;(t=this._menuCursor.getData()).forEach(function(r){var a=cc.instantiate(o.prefabButton.node);a.setParent(o.node),a.active=!0;var c=a.getComponent(n.default),p=e?e[1][i]:0;o.updateItem&&o.updateItem(c,t[i++][p]),o._btns.push(c)}),this._focusOn(e?e[0]:0)},e.prototype._refreshButtonLabel=function(){var t=this._menuCursor.getCurrentId();this.updateItem&&this.updateItem(this._btns[t[0]],this._menuCursor.getCurrentFocus())},e.prototype._focusOn=function(t){this._btns.forEach(function(t){t.setFocus(!1)}),this._btns[t].setFocus(!0)},e.ON_MENU_ENTER="ON_MENU_ENTER",e.ON_MENU_LEFT="ON_MENU_LEFT",e.ON_MENU_RIGHT="ON_MENU_RIGHT",e.ON_MENU_UP="ON_MENU_UP",e.ON_MENU_DOWN="ON_MENU_DOWN",__decorate([p(n.default)],e.prototype,"prefabButton",void 0),e=o=__decorate([c,s(r.default)],e)}(i.default);o.default=u,cc._RF.pop()},{"./BasicViewer":"BasicViewer","./MenuButton":"MenuButton","./MenuCursor":"MenuCursor"}],MenuButton:[function(t,e,o){"use strict";cc._RF.push(e,"e8dce8PEKZJNKgtztlVWvIP","MenuButton"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=n.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lblName=null,e.backColor=null,e}return __extends(e,t),e.prototype.setLabel=function(t){this.lblName.string=t},e.prototype.setFocus=function(t){this.backColor.node.color=t?cc.Color.YELLOW:cc.Color.WHITE},__decorate([r(cc.Label)],e.prototype,"lblName",void 0),__decorate([r(cc.Sprite)],e.prototype,"backColor",void 0),e=__decorate([i],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],MenuCursor:[function(t,e,o){"use strict";cc._RF.push(e,"df4cccrbHBOwJK6eKGW8yTW","MenuCursor"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=(n.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._cursor1=0,e._cursor2=[],e}var o;return __extends(e,t),o=e,e.prototype.setData=function(t,e){var o=this;if(null==t)throw new Error("data must not null");this._data=t,this._cursor1=0,this._cursor2=[];var n=0;t.forEach(function(t){Array.isArray(t)||(o._data[n]=[t]),o._cursor2.push(0),n++}),e&&(this._cursor1=e[0],this._cursor2=e[1])},e.prototype.getData=function(){return this._data},e.prototype._focusOn=function(){this.node.emit(o.ON_CURSOR_CHANGE,this.getCurrentId())},e.prototype.previus=function(){return--this._cursor1<0&&(this._cursor1=this._data.length-1),this._focusOn(),this.getCurrentId()},e.prototype.next=function(){if(null==this._data)throw new Error("must call setData first");return++this._cursor1>this._data.length-1&&(this._cursor1=0),this._focusOn(),this.getCurrentId()},e.prototype.left=function(){return--this._cursor2[this._cursor1]<0&&(this._cursor2[this._cursor1]=this._data[this._cursor1].length-1),this._focusOn(),this.getCurrentId()},e.prototype.right=function(){return++this._cursor2[this._cursor1]>this._data[this._cursor1].length-1&&(this._cursor2[this._cursor1]=0),this._focusOn(),this.getCurrentId()},e.prototype.getCurrentId=function(){return[this._cursor1,this._cursor2[this._cursor1]]},e.prototype.getCurrentFocus=function(){return this.getData()[this._cursor1][this._cursor2[this._cursor1]]},e.ON_CURSOR_CHANGE="ON_CURSOR_CHANGE",e=o=__decorate([i],e)}(cc.Component));o.default=r,cc._RF.pop()},{}],ModelController:[function(t,e,o){"use strict";cc._RF.push(e,"2d0fdVaRDdGJIVwzKaI1vHZ","ModelController"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=(n.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.seqId=0,e}return __extends(e,t),e.prototype.setConsumer=function(t){this.bindModel(),this.view=t,this.subscribe()},e.prototype.subscribe=function(){var t=this;this.viewOb.subscribe(function(e){var o=e[0],n=e[1];if(console.log("[ModelController][receive]["+o+"]",n),t.view[o]){var i=n[0],r=n[1];t.view[o](r,function(){console.log("[ModelController][reply]["+o+"]"),t.send("ok",[i,0])})}else console.log("[ModelController][warning]no cmd handle["+o+"]")})},e.prototype.startGame=function(t){this.send("startGameplay",t)},e.prototype.startLobby=function(){this.send("startLobby")},e.prototype.endLobby=function(){this.send("exit")},e.prototype.loadGame=function(){this.send("loadGameplay")},e.prototype.loadConfig=function(t){this.talk("loadConfig",null,t)},e.prototype.talk=function(t,e,o){console.log("[talk][send]",t,e);var n=this.seqId++;if(this.viewNotifyOb.next([t,[n+"",e]]),null!=o)var i=this.viewOb.subscribe(function(e){console.log("[talk][receive]",e);var r=e[0],a=e[1];if("ok"==r){var c=a[0],p=a[1];c==n?(i.unsubscribe(),o(p)):console.log("[talk][wait]"+t)}})},e.prototype.send=function(t,e){void 0===e&&(e=0),this.viewNotifyOb.next([t,e])},e.prototype.bindModel=function(){window.startApp(),this.viewNotifyOb=window.viewNotifyOb,this.viewOb=window.viewOb},e=__decorate([i],e)}(cc.Component));o.default=r,cc._RF.pop()},{}],Model:[function(t,e,o){"use strict";cc._RF.push(e,"1f1feFNN+pLfrqeLABwg/PW","Model"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./ViewController"),i=cc._decorator,r=i.ccclass,a=(i.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.modelController=null,e}return __extends(e,t),e.prototype.setModelController=function(t){this.modelController=t},e.prototype.getList=function(t,e,o,i){void 0===o&&(o=10),this.modelController.talk(t,{offset:e*o,limit:o},function(t){var e=t[0],o=t[1];e?n.default.instance.view.getCommentUI().showAlert(e):i(e,o)})},e.prototype.getWeaponStoreList=function(t,e,o){void 0===e&&(e=10),this.getList("getWeaponStoreList",t,e,o)},e.prototype.getComponentStoreList=function(t,e,o){void 0===e&&(e=10),this.getList("getComponentStoreList",t,e,o)},e.prototype.getRobotStoreList=function(t,e,o){void 0===e&&(e=10),this.getList("getRobotStoreList",t,e,o)},e.prototype.getPilotStoreList=function(t,e,o){void 0===e&&(e=10),this.getList("getPilotStoreList",t,e,o)},e.prototype.getComponentList=function(t,e,o){void 0===e&&(e=10),this.getList("getComponentList",t,e,o)},e.prototype.getWeaponList=function(t,e,o){void 0===e&&(e=10),this.getList("getWeaponList",t,e,o)},e.prototype.getRobotList=function(t,e,o){void 0===e&&(e=10),this.getList("getRobotList",t,e,o)},e.prototype.getPilotList=function(t,e,o){void 0===e&&(e=10),this.getList("getPilotList",t,e,o)},e.prototype.buyItemById=function(t,e,o){this.modelController.talk(t,{key:e},function(t){var e=t[0],i=t[1];e?n.default.instance.view.getCommentUI().showAlert(e):o(e,i)})},e.prototype.buyComponentById=function(t,e){this.buyItemById("buyComponentById",t,e)},e.prototype.buyWeaponById=function(t,e){this.buyItemById("buyWeaponById",t,e)},e.prototype.buyRobotById=function(t,e){this.buyItemById("buyRobotById",t,e)},e.prototype.buyPilotById=function(t,e){this.buyItemById("buyPilotById",t,e)},e.prototype.setRobotPilot=function(t,e,o){this.modelController.talk("setRobotPilot",{robotKey:t,pilotKey:e},function(t){var e=t[0],i=t[1];e?n.default.instance.view.getCommentUI().showAlert(e):o(e,i)})},e.prototype.removeRobotPilot=function(t,e,o){cc.log("removeRobotPilot",t,e),this.modelController.talk("removeRobotPilot",{pilotKey:e},function(t){var e=t[0],i=t[1];e?n.default.instance.view.getCommentUI().showAlert(e):o(e,i)})},e.prototype.removeUnitComponent=function(t,e,o){this.modelController.talk("removeRobotComponent",{robotKey:t,componentKey:e},function(t){var e=t[0],i=t[1];e?n.default.instance.view.getCommentUI().showAlert(e):o(e,i)})},e.prototype.addUnitComponent=function(t,e,o){this.modelController.talk("addRobotComponent",{robotKey:t,componentKey:e},function(t){var e=t[0],i=t[1];e?n.default.instance.view.getCommentUI().showAlert(e):o(e,i)})},e.prototype.removeUnitWeapon=function(t,e,o){cc.log("removeUnitWeapon",t,e),this.modelController.talk("removeRobotWeapon",{robotKey:t,weaponKey:e},function(t){var e=t[0],i=t[1];e?n.default.instance.view.getCommentUI().showAlert(e):o(e,i)})},e.prototype.addUnitWeapon=function(t,e,o){cc.log("removeUnitWeapon",t,e),this.modelController.talk("addRobotWeapon",{robotKey:t,weaponKey:e},function(t){var e=t[0],i=t[1];e?n.default.instance.view.getCommentUI().showAlert(e):o(e,i)})},e.prototype.getLobbyCtx=function(t){cc.log("getLobbyCtx"),this.modelController.talk("getLobbyCtx",null,function(e){var o=e[0],i=e[1];o?n.default.instance.view.getCommentUI().showAlert(o):t(o,i)})},e=__decorate([r],e)}(cc.Component));o.default=a,cc._RF.pop()},{"./ViewController":"ViewController"}],PilotDetailOnStoreState:[function(t,e,o){"use strict";cc._RF.push(e,"a3daeYQWzJDYoL/QbnBLR3T","PilotDetailOnStoreState"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../DefaultState"),i=cc._decorator,r=i.ccclass,a=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onPrevClick=function(t){t.onPilotDetailOnStoreUpClick()},e.prototype.onNextClick=function(t){t.onPilotDetailOnStoreDownClick()},e.prototype.onLeftClick=function(t){},e.prototype.onRightClick=function(t){},e.prototype.onEnterClick=function(t){t.onPilotDetailOnStoreEnterClick()},e.prototype.onEscClick=function(t){t.onPilotDetailOnStoreEscClick()},e=__decorate([r],e)}(n.default));o.default=a,cc._RF.pop()},{"../../DefaultState":"DefaultState"}],PilotDetailPanel:[function(t,e,o){"use strict";cc._RF.push(e,"1a27aB4iO9NqohtxH6058vd","PilotDetailPanel"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../BasicViewer"),i=t("../../MenuButtons"),r=cc._decorator,a=r.ccclass,c=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.menu=null,e}return __extends(e,t),e.prototype.init=function(){this.menu.updateItem=function(t,e){t.setLabel(e)}},e.prototype.setPilot=function(t){cc.log(t)},e.prototype.setMenu=function(t){this.menu.open(),this.menu.setData(t)},__decorate([c(i.default)],e.prototype,"menu",void 0),e=__decorate([a],e)}(n.default);o.default=p,cc._RF.pop()},{"../../BasicViewer":"BasicViewer","../../MenuButtons":"MenuButtons"}],PilotListItem:[function(t,e,o){"use strict";cc._RF.push(e,"dc106yWBt5NoZ6vlP3bJVT2","PilotListItem"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../MenuButton"),i=cc._decorator,r=i.ccclass,a=i.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.money=null,e}return __extends(e,t),__decorate([a(cc.Label)],e.prototype,"money",void 0),e=__decorate([r],e)}(n.default);o.default=c,cc._RF.pop()},{"../../MenuButton":"MenuButton"}],PilotSettingComponentState:[function(t,e,o){"use strict";cc._RF.push(e,"caa63buULZPKpVlG3lFcN/+","PilotSettingComponentState"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../DefaultState"),i=cc._decorator,r=i.ccclass,a=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onPrevClick=function(t){t.onPilotSettingComponentStateUpClick()},e.prototype.onNextClick=function(t){t.onPilotSettingComponentStateDownClick()},e.prototype.onLeftClick=function(t){t.onPilotSettingComponentStateLeftClick()},e.prototype.onRightClick=function(t){t.onPilotSettingComponentStateRightClick()},e.prototype.onEnterClick=function(t){t.onPilotSettingComponentStateEnterClick()},e.prototype.onEscClick=function(t){t.onPilotSettingComponentStateEscClick()},e=__decorate([r],e)}(n.default));o.default=a,cc._RF.pop()},{"../../DefaultState":"DefaultState"}],PilotSettingRobotEquipState:[function(t,e,o){"use strict";cc._RF.push(e,"e82denDH1pNF7fxC6Akr1Su","PilotSettingRobotEquipState"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../DefaultState"),i=cc._decorator,r=i.ccclass,a=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onPrevClick=function(t){t.onPilotSettingRobotEquipStateUpClick()},e.prototype.onNextClick=function(t){t.onPilotSettingRobotEquipStateDownClick()},e.prototype.onLeftClick=function(t){t.onPilotSettingRobotEquipStateLeftClick()},e.prototype.onRightClick=function(t){t.onPilotSettingRobotEquipStateRightClick()},e.prototype.onEnterClick=function(t){t.onPilotSettingRobotEquipStateEnterClick()},e.prototype.onEscClick=function(t){t.onPilotSettingRobotEquipStateEscClick()},e=__decorate([r],e)}(n.default));o.default=a,cc._RF.pop()},{"../../DefaultState":"DefaultState"}],PilotSettingRobotState:[function(t,e,o){"use strict";cc._RF.push(e,"ab3d2DUy75BHYd01msXsTeh","PilotSettingRobotState"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../DefaultState"),i=cc._decorator,r=i.ccclass,a=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onPrevClick=function(t){t.onPilotSettingRobotStateUpClick()},e.prototype.onNextClick=function(t){t.onPilotSettingRobotStateDownClick()},e.prototype.onLeftClick=function(t){t.onPilotSettingRobotStateLeftClick()},e.prototype.onRightClick=function(t){t.onPilotSettingRobotStateRightClick()},e.prototype.onEnterClick=function(t){t.onPilotSettingRobotStateEnterClick()},e.prototype.onEscClick=function(t){t.onPilotSettingRobotStateEscClick()},e=__decorate([r],e)}(n.default));o.default=a,cc._RF.pop()},{"../../DefaultState":"DefaultState"}],PilotSetting:[function(t,e,o){"use strict";cc._RF.push(e,"f6fab/Ut9lF2ISBMBOrBbCg","PilotSetting"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../BasicViewer"),i=t("../../MenuButtons"),r=t("../../ViewController"),a=t("../../ListPageController"),c=t("../../GamePage/UnitStatuInfo"),p=t("../../GamePage/PilotStatuInfo"),s=cc._decorator,u=s.ccclass,l=s.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.titleMenu=null,e.componentList=null,e.robotList=null,e.robotEquipList=null,e.robotInfo=null,e.pilotInfoCurrent=null,e.pilotInfoReplace=null,e.robotPageId=0,e}return __extends(e,t),e.prototype.init=function(){this.componentList.list.updateItem=function(t,e){cc.log(e),t.setLabel(e.title)},this.robotList.list.updateItem=function(t,e){cc.log(e),t.setLabel(e.robotState.title)},this.robotEquipList.list.updateItem=function(t,e){cc.log(e),t.setLabel(e.title)},this.titleMenu.updateItem=function(t,e){t.setLabel(e)}},e.prototype.open=function(){t.prototype.open.call(this),this.componentList.open(),this.robotList.open(),this.robotEquipList.open(),this.setCompnentList(),this.setRobotList(),this.titleMenu.open(),this.titleMenu.setData(["\u6a5f\u9ad4\u5217\u8868","\u642d\u4e58\u99d5\u99db","\u99d5\u99db\u5217\u8868"])},e.prototype.close=function(){t.prototype.close.call(this),this.componentList.close(),this.robotList.close(),this.robotEquipList.close()},e.prototype.prevFocus=function(){this.titleMenu.onPrevClick(),this.updateInfo()},e.prototype.nextFocus=function(){this.titleMenu.onNextClick(),this.updateInfo()},e.prototype.upComponentList=function(){this.componentList.list.onPrevClick(),this.updateInfo()},e.prototype.downComponentList=function(){this.componentList.list.onNextClick(),this.updateInfo()},e.prototype.upRobotList=function(){this.robotList.list.onPrevClick(),this.setRobotEquipList(),this.updateInfo()},e.prototype.downRobotList=function(){this.robotList.list.onNextClick(),this.setRobotEquipList()},e.prototype.upRobotEquipList=function(){this.robotEquipList.list.onPrevClick(),this.updateInfo()},e.prototype.downRobotEquipList=function(){this.robotEquipList.list.onNextClick(),this.updateInfo()},e.prototype.setCompnentList=function(){var t=this;r.default.instance.model.getPilotList(this.componentList.pageId,10,function(e,o){var n=o.map(function(t){var e=t[1];return e.key=t[0],e});n.unshift({title:"\u62c6\u9664"}),t.componentList.list.open(),t.componentList.list.setData(n)})},e.prototype.setRobotList=function(){var t=this,e=this.robotList.list.getFocusId()[0];r.default.instance.model.getRobotList(this.robotList.pageId,10,function(o,n){var i=n.map(function(t){var e=t[1];return e.key=t[0],e});for(t.robotList.list.open(),t.robotList.list.setData(i);t.robotList.list.getFocusId()[0]<e;)t.robotList.list.onNextClick();t.setRobotEquipList(),t.updateInfo()})},e.prototype.setRobotEquipList=function(){var t=this.robotList.list.getFocus().robotState.pilotState;null==t&&(t={title:"\u65b0\u589e"}),this.robotEquipList.list.close(),this.robotEquipList.list.open(),this.robotEquipList.list.setData([t])},e.prototype.updateInfo=function(){var t=this.robotList.list.getFocus();this.robotInfo.setUnit(t);var e=this.robotEquipList.list.getFocus();this.pilotInfoCurrent.setPilot(e);var o=this.componentList.list.getFocus();this.pilotInfoReplace.setPilot(o)},__decorate([l(i.default)],e.prototype,"titleMenu",void 0),__decorate([l(a.default)],e.prototype,"componentList",void 0),__decorate([l(a.default)],e.prototype,"robotList",void 0),__decorate([l(a.default)],e.prototype,"robotEquipList",void 0),__decorate([l(c.default)],e.prototype,"robotInfo",void 0),__decorate([l(p.default)],e.prototype,"pilotInfoCurrent",void 0),__decorate([l(p.default)],e.prototype,"pilotInfoReplace",void 0),e=__decorate([u],e)}(n.default);o.default=f,cc._RF.pop()},{"../../BasicViewer":"BasicViewer","../../GamePage/PilotStatuInfo":"PilotStatuInfo","../../GamePage/UnitStatuInfo":"UnitStatuInfo","../../ListPageController":"ListPageController","../../MenuButtons":"MenuButtons","../../ViewController":"ViewController"}],PilotStatuInfo:[function(t,e,o){"use strict";cc._RF.push(e,"96e3dGRVp5C/a0+7d1j2mD9","PilotStatuInfo"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../BasicViewer"),i=cc._decorator,r=i.ccclass,a=i.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.back=null,e.pilot=null,e.pilotName=null,e.melee=null,e.range=null,e.evade=null,e.guard=null,e.unitCurage=null,e}return __extends(e,t),e.prototype.setPilot=function(t){if(this.node.active=!1,null!=t){if(this.node.active=!0,this.back.color=cc.Color.WHITE,void 0==t.curage)return void(this.back.color=cc.Color.RED);cc.log(t),this.pilotName.string=t.title,this.melee.string=Math.floor(t.melee)+"",this.range.string=Math.floor(t.range)+"",this.evade.string=Math.floor(t.evade)+"",this.guard.string=Math.floor(t.guard)+"",this.unitCurage.string=t.curage+"\u6c23\u529b"}},__decorate([a(cc.Node)],e.prototype,"back",void 0),__decorate([a(cc.Sprite)],e.prototype,"pilot",void 0),__decorate([a(cc.Label)],e.prototype,"pilotName",void 0),__decorate([a(cc.Label)],e.prototype,"melee",void 0),__decorate([a(cc.Label)],e.prototype,"range",void 0),__decorate([a(cc.Label)],e.prototype,"evade",void 0),__decorate([a(cc.Label)],e.prototype,"guard",void 0),__decorate([a(cc.Label)],e.prototype,"unitCurage",void 0),e=__decorate([r],e)}(n.default);o.default=c,cc._RF.pop()},{"../BasicViewer":"BasicViewer"}],PilotStoreBuyState:[function(t,e,o){"use strict";cc._RF.push(e,"5bf8cC/cSxFgJaVXxeJS5DJ","PilotStoreBuyState"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../DefaultState"),i=cc._decorator,r=i.ccclass,a=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onPrevClick=function(t){},e.prototype.onNextClick=function(t){},e.prototype.onLeftClick=function(t){t.onPilotStoreBuyLeftClick()},e.prototype.onRightClick=function(t){t.onPilotStoreBuyRightClick()},e.prototype.onEnterClick=function(t){t.onPilotStoreBuyEnterClick()},e.prototype.onEscClick=function(t){t.onPilotStoreBuyEscClick()},e=__decorate([r],e)}(n.default));o.default=a,cc._RF.pop()},{"../../DefaultState":"DefaultState"}],PilotStoreState:[function(t,e,o){"use strict";cc._RF.push(e,"e840eXBWJtFJqnsXea9V+ZR","PilotStoreState"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../DefaultState"),i=cc._decorator,r=i.ccclass,a=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onPrevClick=function(t){t.onPilotStoreUpClick()},e.prototype.onNextClick=function(t){t.onPilotStoreDownClick()},e.prototype.onLeftClick=function(t){t.onPilotStoreLeftClick()},e.prototype.onRightClick=function(t){t.onPilotStoreRightClick()},e.prototype.onEnterClick=function(t){t.onPilotStoreEnterClick()},e.prototype.onEscClick=function(t){t.onPilotStoreEscClick()},e=__decorate([r],e)}(n.default));o.default=a,cc._RF.pop()},{"../../DefaultState":"DefaultState"}],PilotStore:[function(t,e,o){"use strict";cc._RF.push(e,"2ee87KJ0wREaLMoEDvt2EiG","PilotStore"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../ViewController"),i=t("../../StoreListPanel"),r=cc._decorator,a=r.ccclass,c=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.updateItem=function(t,e){cc.log(e);var o=t;o.setLabel(e.title),o.money.string=e.cost},e.prototype.getData=function(t,e){n.default.instance.model.getPilotStoreList(t,10,function(t,o){var i=o.map(function(t){var e=t[0],o=(t[1],n.default.instance.getPilot(e));return o.key=e,o});e(t,i)})},e=__decorate([a],e)}(i.default));o.default=c,cc._RF.pop()},{"../../StoreListPanel":"StoreListPanel","../../ViewController":"ViewController"}],Pool:[function(t,e,o){"use strict";cc._RF.push(e,"89d15CJfQNMTpRG+HQvdB9Y","Pool"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=n.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.poolSize=30,e.instanceNode=null,e._pool=[],e}return __extends(e,t),e.prototype._init=function(){for(var t=0;t<this.poolSize;++t)this._pool.push(cc.instantiate(this.instanceNode))},e.prototype.onLoad=function(){this._init()},e.prototype.onDestroy=function(){this.clearPool()},e.prototype.acquire=function(){return 0==this._pool.length&&this._pool.push(cc.instantiate(this.instanceNode)),this._pool.pop()},e.prototype.release=function(t){this._pool.unshift(t)},e.prototype.clearPool=function(){this._pool.forEach(function(t){t.destroy()}),this._pool=[]},__decorate([r(cc.Integer)],e.prototype,"poolSize",void 0),__decorate([r(cc.Node)],e.prototype,"instanceNode",void 0),e=__decorate([i],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],PopPanel:[function(t,e,o){"use strict";cc._RF.push(e,"c2d505f3SxCsavKWF6A9UDU","PopPanel"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../MenuCursor"),i=t("../MenuButton"),r=t("../BasicViewer"),a=cc._decorator,c=a.ccclass,p=a.property,s=a.requireComponent,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnConfirm=null,e.btnCancel=null,e.content=null,e}return __extends(e,t),e.prototype.init=function(){this.node.getComponent(n.default).setData(["confirm","cancel"]),this.onRightClick()},e.prototype.setContent=function(t){this.content.string=t},e.prototype.onLeftClick=function(t){this.node.getComponent(n.default).previus(),this._focus(this.node.getComponent(n.default).getCurrentId())},e.prototype.onRightClick=function(t){this.node.getComponent(n.default).next(),this._focus(this.node.getComponent(n.default).getCurrentId())},e.prototype.getCursor=function(){return this.node.getComponent(n.default).getCurrentId()},e.prototype._focus=function(t){this.btnConfirm.setFocus(0==t[0]),this.btnCancel.setFocus(1==t[0])},__decorate([p(i.default)],e.prototype,"btnConfirm",void 0),__decorate([p(i.default)],e.prototype,"btnCancel",void 0),__decorate([p(cc.Label)],e.prototype,"content",void 0),e=__decorate([c,s(n.default)],e)}(r.default);o.default=u,cc._RF.pop()},{"../BasicViewer":"BasicViewer","../MenuButton":"MenuButton","../MenuCursor":"MenuCursor"}],PrepareMenuState:[function(t,e,o){"use strict";cc._RF.push(e,"57252EVfspPPoCgyE3rb2Mu","PrepareMenuState"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../DefaultState"),i=cc._decorator,r=i.ccclass,a=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onPrevClick=function(t){t.onPrepareMenuPrevClick()},e.prototype.onNextClick=function(t){t.onPrepareMenuNextClick()},e.prototype.onLeftClick=function(t){},e.prototype.onRightClick=function(t){},e.prototype.onEnterClick=function(t){t.onPrepareMenuEnterClick()},e.prototype.onEscClick=function(t){t.onPrepareMenuEscClick()},e=__decorate([r],e)}(n.default));o.default=a,cc._RF.pop()},{"../../DefaultState":"DefaultState"}],PrepareMenu:[function(t,e,o){"use strict";cc._RF.push(e,"8c737hC0gdJuq6XnO9WJSJS","PrepareMenu"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../BasicViewer"),i=t("../../MenuButtons"),r=cc._decorator,a=r.ccclass,c=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.menu=null,e}return __extends(e,t),e.prototype.init=function(){this.menu.updateItem=function(t,e){t.setLabel(e)}},e.prototype.open=function(){t.prototype.open.call(this),this.menu.open(),this.menu.setData(["\u8cfc\u8cb7\u6a5f\u7532","\u96c7\u50ad\u99d5\u99db","\u8cfc\u8cb7\u8ecd\u706b","\u8cfc\u8cb7\u914d\u4ef6","\u914d\u7f6e\u99d5\u99db","\u914d\u7f6e\u8ecd\u706b","\u914d\u7f6e\u914d\u4ef6"])},e.prototype.onPrevClick=function(){this.menu.onPrevClick()},e.prototype.onNextClick=function(){this.menu.onNextClick()},__decorate([c(i.default)],e.prototype,"menu",void 0),e=__decorate([a],e)}(n.default);o.default=p,cc._RF.pop()},{"../../BasicViewer":"BasicViewer","../../MenuButtons":"MenuButtons"}],QuestMenuState:[function(t,e,o){"use strict";cc._RF.push(e,"2010e5ZegdBDpdKLXo9dBUG","QuestMenuState"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../DefaultState"),i=cc._decorator,r=i.ccclass,a=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onPrevClick=function(t){t.onQuestUpClick()},e.prototype.onNextClick=function(t){t.onQuestDownClick()},e.prototype.onLeftClick=function(t){t.onQuestLeftClick()},e.prototype.onRightClick=function(t){t.onQuestRightClick()},e.prototype.onEnterClick=function(t){t.onQuestEnterClick()},e.prototype.onEscClick=function(t){t.onQuestEscClick()},e=__decorate([r],e)}(n.default));o.default=a,cc._RF.pop()},{"../../DefaultState":"DefaultState"}],QuestMenu:[function(t,e,o){"use strict";cc._RF.push(e,"675606HFlNEaoh3OyR4hSDl","QuestMenu"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../BasicViewer"),i=t("../../MenuButtons"),r=cc._decorator,a=r.ccclass,c=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.titleFocus=null,e.levelMenu=null,e.landMenu=null,e.seaMenu=null,e.skyMenu=null,e._menuId=0,e}return __extends(e,t),e.prototype.init=function(){this.titleFocus.updateItem=function(t,e){t.setLabel(e)},this.levelMenu.updateItem=function(t,e){t.setLabel(e)},this.landMenu.updateItem=function(t,e){t.setLabel(e)},this.seaMenu.updateItem=function(t,e){t.setLabel(e)},this.skyMenu.updateItem=function(t,e){t.setLabel(e)},this._menus=[this.levelMenu,this.landMenu,this.seaMenu,this.skyMenu]},e.prototype.start=function(){t.prototype.open.call(this),this.titleFocus.open(),this.titleFocus.setData(["\u96e3\u5ea6","\u9678","\u6d77","\u7a7a"]),this.levelMenu.open(),this.levelMenu.setData(["\u96e3\u5ea6\u4e00","\u96e3\u5ea6\u4e8c","\u96e3\u5ea6\u4e09","\u96e3\u5ea6\u56db","\u96e3\u5ea6\u4e94","\u96e3\u5ea6\u516d","\u96e3\u5ea6\u4e03","\u96e3\u5ea6\u516b","\u96e3\u5ea6\u4e5d","\u96e3\u5ea6\u5341"]),this.landMenu.open(),this.landMenu.setData(["\u9678\u96e3\u5ea6\u4e00","\u9678\u96e3\u5ea6\u4e8c","\u9678\u96e3\u5ea6\u4e09","\u9678\u96e3\u5ea6\u56db","\u9678\u96e3\u5ea6\u4e94","\u9678\u96e3\u5ea6\u516d","\u9678\u96e3\u5ea6\u4e03","\u9678\u96e3\u5ea6\u516b","\u9678\u96e3\u5ea6\u4e5d","\u9678\u96e3\u5ea6\u5341"]),this.seaMenu.open(),this.seaMenu.setData(["\u6d77\u96e3\u5ea6\u4e00","\u6d77\u96e3\u5ea6\u4e8c","\u6d77\u96e3\u5ea6\u4e09","\u6d77\u96e3\u5ea6\u56db","\u6d77\u96e3\u5ea6\u4e94","\u6d77\u96e3\u5ea6\u516d","\u6d77\u96e3\u5ea6\u4e03","\u6d77\u96e3\u5ea6\u516b","\u6d77\u96e3\u5ea6\u4e5d","\u6d77\u96e3\u5ea6\u5341"]),this.skyMenu.open(),this.skyMenu.setData(["\u7a7a\u96e3\u5ea6\u4e00","\u7a7a\u96e3\u5ea6\u4e8c","\u7a7a\u96e3\u5ea6\u4e09","\u7a7a\u96e3\u5ea6\u56db","\u7a7a\u96e3\u5ea6\u4e94","\u7a7a\u96e3\u5ea6\u516d","\u7a7a\u96e3\u5ea6\u4e03","\u7a7a\u96e3\u5ea6\u516b","\u7a7a\u96e3\u5ea6\u4e5d","\u7a7a\u96e3\u5ea6\u5341"])},e.prototype.getButtonId=function(){var t=this.titleFocus.getFocusId()[0],e=this.levelMenu.getFocusId()[0],o=this.skyMenu.getFocusId()[0],n=this.landMenu.getFocusId()[0],i=this.seaMenu.getFocusId()[0],r=t.toString();switch(t){case 0:r+="_"+e;break;case 1:r+="_"+n;break;case 2:r+="_"+i;break;case 3:r+="_"+o}return r},e.prototype.onPrevClick=function(t){this._menus[this._menuId].onPrevClick()},e.prototype.onNextClick=function(t){this._menus[this._menuId].onNextClick()},e.prototype.onLeftClick=function(t){--this._menuId<0&&(this._menuId=this._menus.length-1),this.titleFocus.onPrevClick()},e.prototype.onRightClick=function(t){++this._menuId>this._menus.length-1&&(this._menuId=0),this.titleFocus.onNextClick()},__decorate([c(i.default)],e.prototype,"titleFocus",void 0),__decorate([c(i.default)],e.prototype,"levelMenu",void 0),__decorate([c(i.default)],e.prototype,"landMenu",void 0),__decorate([c(i.default)],e.prototype,"seaMenu",void 0),__decorate([c(i.default)],e.prototype,"skyMenu",void 0),e=__decorate([a],e)}(n.default);o.default=p,cc._RF.pop()},{"../../BasicViewer":"BasicViewer","../../MenuButtons":"MenuButtons"}],RobotDetailOnStoreState:[function(t,e,o){"use strict";cc._RF.push(e,"e369bOIAJ1FfIRYx+gR+ubo","RobotDetailOnStoreState"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../DefaultState"),i=cc._decorator,r=i.ccclass,a=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onPrevClick=function(t){t.onRobotDetailOnStoreUpClick()},e.prototype.onNextClick=function(t){t.onRobotDetailOnStoreDownClick()},e.prototype.onLeftClick=function(t){},e.prototype.onRightClick=function(t){},e.prototype.onEnterClick=function(t){t.onRobotDetailOnStoreEnterClick()},e.prototype.onEscClick=function(t){t.onRobotDetailOnStoreEscClick()},e=__decorate([r],e)}(n.default));o.default=a,cc._RF.pop()},{"../../DefaultState":"DefaultState"}],RobotDetailPanel:[function(t,e,o){"use strict";cc._RF.push(e,"2fbf3dMQNlFzZiygIpKT+3z","RobotDetailPanel"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../BasicViewer"),i=t("../../MenuButtons"),r=t("../../GamePage/WeaponMenu"),a=cc._decorator,c=a.ccclass,p=a.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.menu=null,e.weapons=null,e}return __extends(e,t),e.prototype.init=function(){this.menu.updateItem=function(t,e){t.setLabel(e)}},e.prototype.setUnit=function(t){this.weapons.setWeapons(t.robotState.weapons)},e.prototype.setMenu=function(t){this.menu.open(),this.menu.setData(t)},__decorate([p(i.default)],e.prototype,"menu",void 0),__decorate([p(r.default)],e.prototype,"weapons",void 0),e=__decorate([c],e)}(n.default);o.default=s,cc._RF.pop()},{"../../BasicViewer":"BasicViewer","../../GamePage/WeaponMenu":"WeaponMenu","../../MenuButtons":"MenuButtons"}],RobotListItem:[function(t,e,o){"use strict";cc._RF.push(e,"8feffbYn0pGY4zQQwWrCgmV","RobotListItem"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../MenuButton"),i=cc._decorator,r=i.ccclass,a=i.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.money=null,e}return __extends(e,t),__decorate([a(cc.Label)],e.prototype,"money",void 0),e=__decorate([r],e)}(n.default);o.default=c,cc._RF.pop()},{"../../MenuButton":"MenuButton"}],RobotSelectListItem:[function(t,e,o){"use strict";cc._RF.push(e,"735aftk3LFJKZXdac9ZSXx7","RobotSelectListItem"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../MenuButton"),i=cc._decorator,r=i.ccclass,a=i.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pilot=null,e.readyIcon=null,e}return __extends(e,t),e.prototype.setReady=function(t){this.readyIcon.active=t},__decorate([a(cc.Label)],e.prototype,"pilot",void 0),__decorate([a(cc.Node)],e.prototype,"readyIcon",void 0),e=__decorate([r],e)}(n.default);o.default=c,cc._RF.pop()},{"../../MenuButton":"MenuButton"}],RobotSelectPanel:[function(t,e,o){"use strict";cc._RF.push(e,"21f94NjVrFL2Y614AzZIq6E","RobotSelectPanel"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../MenuButtons"),i=t("../../BasicViewer"),r=cc._decorator,a=r.ccclass,c=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.robotSelectList=null,e}return __extends(e,t),e.prototype.init=function(){this.robotSelectList.updateItem=function(t,e){var o=t;o.setLabel(e.robotState.robotKey),o.setReady(e.selected)}},e.prototype.setRobotList=function(t){if(0!=t.data.length){var e;this.robotSelectList.close(),this.robotSelectList.open();var o=[];t.data.forEach(function(n){n.focus&&(e=t.data.indexOf(n)),o.push(0)}),this.robotSelectList.setData(t.data,[e,o])}},__decorate([c(n.default)],e.prototype,"robotSelectList",void 0),e=__decorate([a],e)}(i.default);o.default=p,cc._RF.pop()},{"../../BasicViewer":"BasicViewer","../../MenuButtons":"MenuButtons"}],RobotStoreBuyState:[function(t,e,o){"use strict";cc._RF.push(e,"e17543tAIZB4Iyek8fJL/WX","RobotStoreBuyState"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../DefaultState"),i=cc._decorator,r=i.ccclass,a=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onPrevClick=function(t){},e.prototype.onNextClick=function(t){},e.prototype.onLeftClick=function(t){t.onRobotStoreBuyLeftClick()},e.prototype.onRightClick=function(t){t.onRobotStoreBuyRightClick()},e.prototype.onEnterClick=function(t){t.onRobotStoreBuyEnterClick()},e.prototype.onEscClick=function(t){t.onRobotStoreBuyEscClick()},e=__decorate([r],e)}(n.default));o.default=a,cc._RF.pop()},{"../../DefaultState":"DefaultState"}],RobotStoreState:[function(t,e,o){"use strict";cc._RF.push(e,"d2c08ujk9hJSp4EFQlDmijl","RobotStoreState"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../DefaultState"),i=cc._decorator,r=i.ccclass,a=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onPrevClick=function(t){t.onRobotStoreUpClick()},e.prototype.onNextClick=function(t){t.onRobotStoreDownClick()},e.prototype.onLeftClick=function(t){t.onRobotStoreLeftClick()},e.prototype.onRightClick=function(t){t.onRobotStoreRightClick()},e.prototype.onEnterClick=function(t){t.onRobotStoreEnterClick()},e.prototype.onEscClick=function(t){t.onRobotStoreEscClick()},e=__decorate([r],e)}(n.default));o.default=a,cc._RF.pop()},{"../../DefaultState":"DefaultState"}],RobotStore:[function(t,e,o){"use strict";cc._RF.push(e,"925a9xnNEVA+4X0GKC+ZYFh","RobotStore"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../ViewController"),i=t("../../StoreListPanel"),r=cc._decorator,a=r.ccclass,c=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.updateItem=function(t,e){var o=t;o.setLabel(e.robotState.title),o.money.string=e.robotState.cost},e.prototype.getData=function(t,e){n.default.instance.model.getRobotStoreList(t,10,function(t,o){var n=o.map(function(t){t[0];return t[1]});e(t,n)})},e=__decorate([a],e)}(i.default));o.default=c,cc._RF.pop()},{"../../StoreListPanel":"StoreListPanel","../../ViewController":"ViewController"}],ShowItem:[function(t,e,o){"use strict";cc._RF.push(e,"23ea7mbWnxP1Z92+cB/p2te","ShowItem"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./Pool"),i=t("./ViewController"),r=cc._decorator,a=r.ccclass,c=(r.property,r.requireComponent),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._items=[],e}return __extends(e,t),e.prototype.onLoad=function(){this._pool=this.node.getComponent(n.default)},e.prototype.showItems=function(t,e){var o=this;this.clearItem(),t.forEach(function(t){o.showItem(t,e)})},e.prototype.showItem=function(t,e){var o=this._pool.acquire();o.active=!0,o.setParent(this.node);var n=i.default.instance.view.getGridPos(t);o.x=n[0],o.y=n[1],this._items.push(o),e&&e(o)},e.prototype.clearItem=function(){var t=this;this._items.forEach(function(e){e.active=!1,e.removeFromParent(),t._pool.release(e)}),this._items=[]},e=__decorate([a,c(n.default)],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./Pool":"Pool","./ViewController":"ViewController"}],SmallMap:[function(t,e,o){"use strict";cc._RF.push(e,"17266HJkVBHKZAlladmu5+Y","SmallMap"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=n.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.map=null,e.colors=[],e}return __extends(e,t),e.prototype.drawDot=function(t,e){this.map.fillColor=this.colors[e],this.map.fillRect(t[0],-t[1],2,2)},e.prototype.drawMap=function(t){for(var e=0;e<t.length;++e)for(var o=0;o<t[e].length;++o){t[e][o];this.drawDot([2*o-100,2*e-100],t[e][o])}},__decorate([r(cc.Graphics)],e.prototype,"map",void 0),__decorate([r(cc.Color)],e.prototype,"colors",void 0),e=__decorate([i],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],StateController:[function(t,e,o){"use strict";cc._RF.push(e,"12fadEmeSxKLK/cTgWnNVhk","StateController"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=(n.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.current=null,e}return __extends(e,t),e.prototype.changeState=function(t){this.current=t},e.prototype.onPrevClick=function(t){this.current.onPrevClick(t)},e.prototype.onNextClick=function(t){this.current.onNextClick(t)},e.prototype.onLeftClick=function(t){this.current.onLeftClick(t)},e.prototype.onRightClick=function(t){this.current.onRightClick(t)},e.prototype.onEnterClick=function(t){this.current.onEnterClick(t)},e.prototype.onEscClick=function(t){this.current.onEscClick(t)},e=__decorate([i],e)}(cc.Component));o.default=r,cc._RF.pop()},{}],StoreListPanel:[function(t,e,o){"use strict";cc._RF.push(e,"23396RQ+ddOpKh9VqojFUXZ","StoreListPanel"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./MenuButtons"),i=t("./BasicViewer"),r=cc._decorator,a=r.ccclass,c=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.list=null,e._pageId=0,e}return __extends(e,t),e.prototype.init=function(){this.list.updateItem=this.updateItem},e.prototype.prevPage=function(){--this._pageId<0&&(this._pageId=0),this.setlist()},e.prototype.nextPage=function(){this._pageId++,this.setlist()},e.prototype.setlist=function(){var t=this;this.list.open(),this.getData(this._pageId,function(e,o){o.length>0&&t.list.setData(o)})},e.prototype.updateItem=function(t,e){},e.prototype.getData=function(t,e){},__decorate([c(n.default)],e.prototype,"list",void 0),e=__decorate([a],e)}(i.default);o.default=p,cc._RF.pop()},{"./BasicViewer":"BasicViewer","./MenuButtons":"MenuButtons"}],TextEffect:[function(t,e,o){"use strict";cc._RF.push(e,"93fdamcxERK67xbL4mZCTzF","TextEffect"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=n.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.content=null,e.contentShadow=null,e}return __extends(e,t),e.prototype.setContent=function(t){this.content.string=t,this.contentShadow.string=t},__decorate([r(cc.Label)],e.prototype,"content",void 0),__decorate([r(cc.Label)],e.prototype,"contentShadow",void 0),e=__decorate([i],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],TurnStart:[function(t,e,o){"use strict";cc._RF.push(e,"978dec5M+hJCKXr2+tl8sSA","TurnStart"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../BasicViewer"),i=cc._decorator,r=i.ccclass,a=i.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.content=null,e.backColor=null,e}return __extends(e,t),e.prototype.setContent=function(t){this.content.string=t},e.prototype.setPlayer=function(t){this.backColor.node.color=t?cc.Color.BLUE:cc.Color.RED},e.prototype.open=function(){t.prototype.open.call(this),this.node.getComponent(cc.Animation).play("TurnStart")},e.prototype.end=function(){this.node.emit("end"),this.close()},__decorate([a(cc.Label)],e.prototype,"content",void 0),__decorate([a(cc.Sprite)],e.prototype,"backColor",void 0),e=__decorate([r],e)}(n.default);o.default=c,cc._RF.pop()},{"../BasicViewer":"BasicViewer"}],UVReset:[function(t,e,o){"use strict";cc._RF.push(e,"d51cb2AgklN67f6B+lX8RuT","UVReset"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=(n.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fix=function(){var t=this.getComponent(cc.Sprite).spriteFrame.getTexture(),e=this.getComponent(cc.Sprite).spriteFrame.getRect(),o=e.x/t.width,n=(e.x+e.width)/t.width,i=e.y/t.height,r=(e.y+e.height)/t.height;this.getComponent(cc.Sprite).getMaterial(0).setProperty("resetUV",[o,n-o,i,r-i])},e=__decorate([i],e)}(cc.Component));o.default=r,cc._RF.pop()},{}],UnitSampleInfo:[function(t,e,o){"use strict";cc._RF.push(e,"8478cht7zVEJ5sGN29xenHU","UnitSampleInfo"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=n.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hpSprite=null,e.enSprite=null,e}return __extends(e,t),e.prototype.showHPEN=function(t,e,o,n){this.hpSprite.node.scaleX=e/t,this.enSprite.node.scaleX=n/o},e.prototype.changeHP=function(t,e){cc.tween(this.hpSprite.node).to(.7,{scaleX:e/t},{easing:"quartOut"}).start()},e.prototype.changeEN=function(t,e){cc.tween(this.enSprite.node).to(.7,{scaleX:e/t},{easing:"quartOut"}).start()},__decorate([r(cc.Sprite)],e.prototype,"hpSprite",void 0),__decorate([r(cc.Sprite)],e.prototype,"enSprite",void 0),e=__decorate([i],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],UnitStatuInfo:[function(t,e,o){"use strict";cc._RF.push(e,"af73dLf0y1GAqDJPwkD1COs","UnitStatuInfo"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../BasicViewer"),i=t("../ViewController"),r=cc._decorator,a=r.ccclass,c=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.unitImage=null,e.unitName=null,e.unitHpLabal=null,e.unitEnLabal=null,e.unitHpBar=null,e.unitEnBar=null,e}return __extends(e,t),e.prototype.setUnit=function(t){if(this.node.active=!1,null!=t){this.node.active=!0;var e=i.default.instance.imagesAssets.getImageByKey(t.robotState.robotKey);void 0!=e&&(this.unitImage.spriteFrame=e),this.unitName.string=t.robotState.title;var o=t.robotState.hp,n=t.robotState.en,r=t.robotState.maxHp,a=t.robotState.maxEn;t.robotState.curage;this.unitHpLabal.string=o+"/"+r,this.unitEnLabal.string=n+"/"+a,this.unitHpBar.node.scaleX=o/r,this.unitEnBar.node.scaleX=n/a}},__decorate([c(cc.Sprite)],e.prototype,"unitImage",void 0),__decorate([c(cc.Label)],e.prototype,"unitName",void 0),__decorate([c(cc.Label)],e.prototype,"unitHpLabal",void 0),__decorate([c(cc.Label)],e.prototype,"unitEnLabal",void 0),__decorate([c(cc.Sprite)],e.prototype,"unitHpBar",void 0),__decorate([c(cc.Sprite)],e.prototype,"unitEnBar",void 0),e=__decorate([a],e)}(n.default);o.default=p,cc._RF.pop()},{"../BasicViewer":"BasicViewer","../ViewController":"ViewController"}],UnitStatuMenu:[function(t,e,o){"use strict";cc._RF.push(e,"7c612wl6xlLUKyPb1XuzIBR","UnitStatuMenu"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../BasicViewer"),i=t("./UnitStatuInfo"),r=t("./LandStatuInfo"),a=t("./PilotStatuInfo"),c=cc._decorator,p=c.ccclass,s=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.unitSection=null,e.pilotSection=null,e.terrainSection=null,e}return __extends(e,t),e.prototype.setUnit=function(t){this.unitSection.setUnit(t),t?this._setPilot(t.robotState.pilotState):this._setPilot(null)},e.prototype.setTerrain=function(t){this.terrainSection.setTerrain(t)},e.prototype._setPilot=function(t){this.pilotSection.setPilot(t)},__decorate([s(i.default)],e.prototype,"unitSection",void 0),__decorate([s(a.default)],e.prototype,"pilotSection",void 0),__decorate([s(r.default)],e.prototype,"terrainSection",void 0),e=__decorate([p],e)}(n.default);o.default=u,cc._RF.pop()},{"../BasicViewer":"BasicViewer","./LandStatuInfo":"LandStatuInfo","./PilotStatuInfo":"PilotStatuInfo","./UnitStatuInfo":"UnitStatuInfo"}],Unit:[function(t,e,o){"use strict";cc._RF.push(e,"f0796q7hc9JhrtYdaV826ul","Unit"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../ViewController"),i=cc._decorator,r=i.ccclass,a=i.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.unit=null,e.unitImage=null,e.unitId="",e}return __extends(e,t),e.prototype.setUnitImage=function(t){var e=n.default.instance.imagesAssets.getImageByKey(t);void 0!=e&&(this.unitImage.spriteFrame=e)},e.prototype.setColor=function(t){this.unitImage.node.color=t},e.prototype.shake=function(){this.node.getComponent(cc.Animation).play("UnitShake")},e.prototype.evade=function(){this.node.getComponent(cc.Animation).play("UnitEvade")},e.prototype.toSky=function(t){cc.tween(this.unit).by(.5,{y:6}).call(t).start()},e.prototype.toLand=function(t){cc.tween(this.unit).by(.5,{y:-6}).call(t).start()},__decorate([a(cc.Node)],e.prototype,"unit",void 0),__decorate([a(cc.Sprite)],e.prototype,"unitImage",void 0),e=__decorate([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{"../ViewController":"ViewController"}],ViewController:[function(t,e,o){"use strict";cc._RF.push(e,"08ca2zVEwlIbYq4kX6PoXPw","ViewController"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./View"),i=t("../../Han/controller/ModelController"),r=t("./AudioController"),a=t("./ImagesAssets"),c=t("./Model"),p=cc._decorator,s=p.ccclass,u=p.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.view=null,e.model=null,e.modelController=null,e.audioController=null,e.imagesAssets=null,e}var o;return __extends(e,t),o=e,e.prototype.onLoad=function(){this.modelController.setConsumer(this.view),this.model.setModelController(this.modelController),o.instance=this},e.prototype.start=function(){var t=this;this.modelController.loadConfig(function(e){t.setData(e),t.view.openMainPage()})},e.prototype.notifyStartGame=function(t){this.modelController.startGame(t)},e.prototype.notifyStartLobby=function(){this.modelController.startLobby()},e.prototype.notifyEndLobby=function(){this.modelController.endLobby()},e.prototype.notifyLoadGame=function(){this.modelController.loadGame()},e.prototype.notifyNewGame=function(t){this.modelController.talk("newGame",null,t)},e.prototype.notifyCheckLoadGameplay=function(t){this.modelController.talk("checkLoadGameplay",null,t)},e.prototype.setData=function(t){this._data=t},e.prototype.getData=function(){return this._data},e.prototype.getWeapon=function(t){return this.getData().weapon[t]},e.prototype.getRobot=function(t){return this.getData().robot[t]},e.prototype.getPilot=function(t){return this.getData().pilot[t]},__decorate([u(n.default)],e.prototype,"view",void 0),__decorate([u(c.default)],e.prototype,"model",void 0),__decorate([u(i.default)],e.prototype,"modelController",void 0),__decorate([u(r.default)],e.prototype,"audioController",void 0),__decorate([u(a.default)],e.prototype,"imagesAssets",void 0),e=o=__decorate([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../Han/controller/ModelController":"ModelController","./AudioController":"AudioController","./ImagesAssets":"ImagesAssets","./Model":"Model","./View":"View"}],View:[function(t,e,o){"use strict";cc._RF.push(e,"79069vp9ShElYPnJ0j0GJiO","View"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./BasicViewer"),i=t("./CommentUI/CommentUI"),r=t("./ViewController"),a=cc._decorator,c=a.ccclass,p=a.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pages=[],e.commentUI=null,e}return __extends(e,t),e.prototype.playerTurnStart=function(t,e){this.closeUnitMenu(),this.closeSystemMenu(),this.repaintPlayerStart(e)},e.prototype.enemyTurnStart=function(t,e){this.closeUnitMenu(),this.closeSystemMenu(),this.repaintEnemyTurnStart(t,e)},e.prototype.unitMoveAnim=function(t,e){this.performUnitMoveAnim(t.unit.key,t.path,e)},e.prototype.unitTargetingAnim=function(t,e){this.getGamePage().showAimAnimation(t,e)},e.prototype.unitBattleAnim=function(t,e){this.getGamePage().closeFightInfo(),this.getGamePage().closeAccuracyInfos(),this.getGamePage().changeUnitHP(t,e)},e.prototype.unitDeadAnim=function(t,e){this.getGamePage().explodeUnit(t,e)},e.prototype.unitSkyAnim=function(t,e){this.getGamePage().units.toSkyUnit(t.unit.key,e)},e.prototype.unitGroundAnim=function(t,e){this.getGamePage().units.toLandUnit(t.unit.key,e)},e.prototype.unitGetAwardAnim=function(t,e){this.getGamePage().awardUnitAnimation(t,e)},e.prototype.showMessage=function(t,e){this.getCommentUI().showAlert(t.message,function(){}),e()},e.prototype.paint=function(t,e){this.repaintUnits(t.units),this.repaintMap(t.map),this.repaintCursor(t.cursor),this.repaintMoveRange(t.moveRange),this.repaintAttackRange(t.attackRange),this.repaintSystemMenu(t.systemMenu),this.repaintUnitMenu(t.cursor,t.unitMenu),this.repaintHitInfo(t.checkHitRate),this.repaintBattleMenu(t.battleMenu),this.repaintCellstate(t.cellState),this.repaintStartUnitsMenu(t.startUnitsMenu),e()},e.prototype.gameplayDone=function(t,e){var o=this;t.cause;this.getGamePage().showGiveup(function(){e(),o.openMainPage()})},e.prototype.repaintStartUnitsMenu=function(t){this.getGamePage().closeRobotSelectPanel(),t&&this.getGamePage().openRobotSelectPanel(t)},e.prototype.repaintCellstate=function(t){this.getGamePage().closeUnitStatuMenu(),t&&this.getGamePage().openUnitStatuMenu(t)},e.prototype.repaintBattleMenu=function(t){t?this.getGamePage().showFightInfo(t):this.getGamePage().closeFightInfo()},e.prototype.repaintHitInfo=function(t){t?this.getGamePage().showAccuracyInfos(t):this.getGamePage().closeAccuracyInfos()},e.prototype.repaintUnitMenu=function(t,e){e?this.createOrUpdateUnitMenu(t,e.menuCursor.menu,e.data,e.menuCursor.cursor,e.menuCursor.subcursor):this.closeUnitMenu()},e.prototype.repaintSystemMenu=function(t){t?this.createOrUpdateSystemMenu(t.menuCursor.menu,t.data,t.menuCursor.cursor,t.menuCursor.subcursor):this.closeSystemMenu()},e.prototype.repaintMoveRange=function(t){null!=t&&this.getGamePage().map.showMovableGrid(t)},e.prototype.repaintAttackRange=function(t){null!=t&&this.getGamePage().map.showWeaponRange(t)},e.prototype.repaintMapAttackRange=function(t,e){null!=t&&(this.getGamePage().map.showWeaponRange(t),e())},e.prototype.repaintCursor=function(t){this.getGamePage().setCursor(t)},e.prototype.repaintMap=function(t){this.getGamePage().map.setMap(t),this.getGamePage().setSmallMap(t)},e.prototype.repaintUnits=function(t){null!=t&&this.getGamePage().units.setUnits(t)},e.prototype.repaintPlayerStart=function(t){this.getGamePage().openTurnStart(!0,t)},e.prototype.repaintEnemyTurnStart=function(t,e){this.getGamePage().openTurnStart(!1,e)},e.prototype.closeUnitMenu=function(){this.getGamePage().closeUnitMenu()},e.prototype.closeSystemMenu=function(){this.getGamePage().closeSceneMenu()},e.prototype.createOrUpdateUnitMenu=function(t,e,o,n,i){this.getGamePage().openUnitMenu(t,[e,o],[n,i])},e.prototype.createOrUpdateSystemMenu=function(t,e,o,n){this.getGamePage().openSceneMenu(t,[o,n])},e.prototype.performUnitMoveAnim=function(t,e,o){this.getGamePage().closeUnitSampleInfos(),this.getGamePage().units.moveUnitByID(t,e,o)},e.prototype.closeAllPages=function(){this.pages.forEach(function(t){t.close()})},e.prototype.openMainPage=function(){return this.closeAllPages(),this.pages[0].open(),this.getMainPage()},e.prototype.openLobbyPage=function(){return this.closeAllPages(),this.pages[3].open(),this.getLobbyPage()},e.prototype.openGamePage=function(t){return void 0===t&&(t=""),this.closeAllPages(),this.openLoadingPage(),this.node.runAction(cc.sequence(cc.delayTime(.1),cc.callFunc(function(){this.pages[1].open(),this.closeLoadingPage(),""!=t?r.default.instance.notifyStartGame(t):r.default.instance.notifyLoadGame()},this))),this.getGamePage()},e.prototype.openLoadingPage=function(){this.pages[2].open()},e.prototype.closeLoadingPage=function(){this.pages[2].close()},e.prototype.getCommentUI=function(){return this.commentUI},e.prototype.getGamePage=function(){return this.pages[1]},e.prototype.getMainPage=function(){return this.pages[0]},e.prototype.getLobbyPage=function(){return this.pages[3]},e.prototype.getGridPos=function(t){return[32*t[0]-304,32*-t[1]+304]},e.prototype.getXYByIndex=function(t){return[t%20,Math.floor(t/20)]},e.prototype.getWeaponConfig=function(t){var e=[];for(var o in t){var n=t[o],i=r.default.instance.getWeapon(n);e.push(i)}return e},__decorate([p(n.default)],e.prototype,"pages",void 0),__decorate([p(i.default)],e.prototype,"commentUI",void 0),e=__decorate([c],e)}(cc.Component);o.default=s,cc._RF.pop()},{"./BasicViewer":"BasicViewer","./CommentUI/CommentUI":"CommentUI","./ViewController":"ViewController"}],WeaponDetailOnStoreState:[function(t,e,o){"use strict";cc._RF.push(e,"b9c52/dALFAbo11RTmhFain","WeaponDetailOnStoreState"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../DefaultState"),i=cc._decorator,r=i.ccclass,a=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onPrevClick=function(t){t.onWeaponDetailOnStoreUpClick()},e.prototype.onNextClick=function(t){t.onWeaponDetailOnStoreDownClick()},e.prototype.onLeftClick=function(t){},e.prototype.onRightClick=function(t){},e.prototype.onEnterClick=function(t){t.onWeaponDetailOnStoreEnterClick()},e.prototype.onEscClick=function(t){t.onWeaponDetailOnStoreEscClick()},e=__decorate([r],e)}(n.default));o.default=a,cc._RF.pop()},{"../../DefaultState":"DefaultState"}],WeaponDetailPanel:[function(t,e,o){"use strict";cc._RF.push(e,"1005ah37fJDtKLTqUpxv2la","WeaponDetailPanel"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../BasicViewer"),i=t("../../MenuButtons"),r=cc._decorator,a=r.ccclass,c=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.menu=null,e}return __extends(e,t),e.prototype.init=function(){this.menu.updateItem=function(t,e){t.setLabel(e)}},e.prototype.setWeapon=function(t){cc.log(t)},e.prototype.setMenu=function(t){this.menu.open(),this.menu.setData(t)},__decorate([c(i.default)],e.prototype,"menu",void 0),e=__decorate([a],e)}(n.default);o.default=p,cc._RF.pop()},{"../../BasicViewer":"BasicViewer","../../MenuButtons":"MenuButtons"}],WeaponListItem:[function(t,e,o){"use strict";cc._RF.push(e,"11320pisPZIeLu3WZxdKQt6","WeaponListItem"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../MenuButton"),i=cc._decorator,r=i.ccclass,a=i.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.money=null,e}return __extends(e,t),__decorate([a(cc.Label)],e.prototype,"money",void 0),e=__decorate([r],e)}(n.default);o.default=c,cc._RF.pop()},{"../../MenuButton":"MenuButton"}],WeaponMenuItem:[function(t,e,o){"use strict";cc._RF.push(e,"78e596Se5JO87P3Wv3kptri","WeaponMenuItem"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=n.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.weaponName=null,e.weaponType=null,e.weaponPower=null,e.weaponRange=null,e.weaponHit=null,e.weaponEN=null,e.weaponBullet=null,e.backColor=null,e.coverColor=null,e}return __extends(e,t),__decorate([r(cc.Label)],e.prototype,"weaponName",void 0),__decorate([r(cc.Label)],e.prototype,"weaponType",void 0),__decorate([r(cc.Label)],e.prototype,"weaponPower",void 0),__decorate([r(cc.Label)],e.prototype,"weaponRange",void 0),__decorate([r(cc.Label)],e.prototype,"weaponHit",void 0),__decorate([r(cc.Label)],e.prototype,"weaponEN",void 0),__decorate([r(cc.Label)],e.prototype,"weaponBullet",void 0),__decorate([r(cc.Sprite)],e.prototype,"backColor",void 0),__decorate([r(cc.Sprite)],e.prototype,"coverColor",void 0),e=__decorate([i],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],WeaponMenu:[function(t,e,o){"use strict";cc._RF.push(e,"940ddYUfctKpK4kSU5GrKrf","WeaponMenu"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../MenuCursor"),i=t("../BasicViewer"),r=t("./WeaponMenuItem"),a=cc._decorator,c=a.ccclass,p=a.property,s=a.requireComponent,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.weaponItems=[],e}return __extends(e,t),e.prototype.showCurrentWeapon=function(t){this.weaponItems.forEach(function(t){t.backColor.node.color=cc.Color.WHITE}),this.weaponItems[t].backColor.node.color=cc.Color.YELLOW},e.prototype.setWeapons=function(t){for(var e=0;e<this.weaponItems.length;++e)if(e<t.length){this.weaponItems[e].node.active=!0;var o=t[e],n=this.weaponItems[e];n.weaponName.string=o.title,n.weaponPower.string=o.damage,n.weaponHit.string=(100*o.accuracy).toFixed(0)+"%",n.weaponRange.string=o.range[0]+"~"+o.range[1],n.weaponType.string=o.type,n.weaponBullet.string="\u5f48 "+o.bulletCount+"/"+o.maxBulletCount,n.weaponEN.string="EN "+o.energyCost,this.weaponItems[e].coverColor.node.active=null!=o.invalid}else this.weaponItems[e].node.active=!1;this.showCurrentWeapon(0)},__decorate([p(r.default)],e.prototype,"weaponItems",void 0),e=__decorate([c,s(n.default)],e)}(i.default);o.default=u,cc._RF.pop()},{"../BasicViewer":"BasicViewer","../MenuCursor":"MenuCursor","./WeaponMenuItem":"WeaponMenuItem"}],WeaponSettingComponentState:[function(t,e,o){"use strict";cc._RF.push(e,"dece646ga9MLJ3KrySg/cH5","WeaponSettingComponentState"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../DefaultState"),i=cc._decorator,r=i.ccclass,a=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onPrevClick=function(t){t.onWeaponSettingComponentStateUpClick()},e.prototype.onNextClick=function(t){t.onWeaponSettingComponentStateDownClick()},e.prototype.onLeftClick=function(t){t.onWeaponSettingComponentStateLeftClick()},e.prototype.onRightClick=function(t){t.onWeaponSettingComponentStateRightClick()},e.prototype.onEnterClick=function(t){t.onWeaponSettingComponentStateEnterClick()},e.prototype.onEscClick=function(t){t.onWeaponSettingComponentStateEscClick()},e=__decorate([r],e)}(n.default));o.default=a,cc._RF.pop()},{"../../DefaultState":"DefaultState"}],WeaponSettingRobotEquipState:[function(t,e,o){"use strict";cc._RF.push(e,"16642xDuwxFF5JQhM9KRzpX","WeaponSettingRobotEquipState"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../DefaultState"),i=cc._decorator,r=i.ccclass,a=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onPrevClick=function(t){t.onWeaponSettingRobotEquipStateUpClick()},e.prototype.onNextClick=function(t){t.onWeaponSettingRobotEquipStateDownClick()},e.prototype.onLeftClick=function(t){t.onWeaponSettingRobotEquipStateLeftClick()},e.prototype.onRightClick=function(t){t.onWeaponSettingRobotEquipStateRightClick()},e.prototype.onEnterClick=function(t){t.onWeaponSettingRobotEquipStateEnterClick()},e.prototype.onEscClick=function(t){t.onWeaponSettingRobotEquipStateEscClick()},e=__decorate([r],e)}(n.default));o.default=a,cc._RF.pop()},{"../../DefaultState":"DefaultState"}],WeaponSettingRobotState:[function(t,e,o){"use strict";cc._RF.push(e,"5bc67Qsv8xNprU8aFRuWsCg","WeaponSettingRobotState"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../DefaultState"),i=cc._decorator,r=i.ccclass,a=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onPrevClick=function(t){t.onWeaponSettingRobotStateUpClick()},e.prototype.onNextClick=function(t){t.onWeaponSettingRobotStateDownClick()},e.prototype.onLeftClick=function(t){t.onWeaponSettingRobotStateLeftClick()},e.prototype.onRightClick=function(t){t.onWeaponSettingRobotStateRightClick()},e.prototype.onEnterClick=function(t){t.onWeaponSettingRobotStateEnterClick()},e.prototype.onEscClick=function(t){t.onWeaponSettingRobotStateEscClick()},e=__decorate([r],e)}(n.default));o.default=a,cc._RF.pop()},{"../../DefaultState":"DefaultState"}],WeaponSetting:[function(t,e,o){"use strict";cc._RF.push(e,"e303bDl2XJBJZlBL/b0SgWm","WeaponSetting"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../BasicViewer"),i=t("../../MenuButtons"),r=t("../../ViewController"),a=t("../../ListPageController"),c=cc._decorator,p=c.ccclass,s=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.titleMenu=null,e.componentList=null,e.robotList=null,e.robotEquipList=null,e.robotPageId=0,e}return __extends(e,t),e.prototype.init=function(){this.componentList.list.updateItem=function(t,e){t.setLabel(e.title),t.money.string=e.powerCost},this.robotList.list.updateItem=function(t,e){t.setLabel(e.robotState.title),t.money.string=e.robotState.power},this.robotEquipList.list.updateItem=function(t,e){t.setLabel(e.title),t.money.string=e.powerCost},this.titleMenu.updateItem=function(t,e){t.setLabel(e)}},e.prototype.open=function(){t.prototype.open.call(this),this.componentList.open(),this.robotList.open(),this.robotEquipList.open(),this.setCompnentList(),this.setRobotList(),this.titleMenu.open(),this.titleMenu.setData(["\u6a5f\u9ad4\u5217\u8868","\u88dd\u5099\u5217\u8868","\u6b66\u5668\u5217\u8868"])},e.prototype.close=function(){t.prototype.close.call(this),this.componentList.close(),this.robotList.close(),this.robotEquipList.close()},e.prototype.prevFocus=function(){this.titleMenu.onPrevClick()},e.prototype.nextFocus=function(){this.titleMenu.onNextClick()},e.prototype.upComponentList=function(){this.componentList.list.onPrevClick()},e.prototype.downComponentList=function(){this.componentList.list.onNextClick()},e.prototype.upRobotList=function(){this.robotList.list.onPrevClick(),this.setRobotEquipList()},e.prototype.downRobotList=function(){this.robotList.list.onNextClick(),this.setRobotEquipList()},e.prototype.upRobotEquipList=function(){this.robotEquipList.list.onPrevClick()},e.prototype.downRobotEquipList=function(){this.robotEquipList.list.onNextClick()},e.prototype.setCompnentList=function(){var t=this;r.default.instance.model.getWeaponList(this.componentList.pageId,10,function(e,o){var n=o.map(function(t){return t[1]});n.unshift({title:"\u62c6\u9664",powerCost:""}),t.componentList.list.open(),t.componentList.list.setData(n)})},e.prototype.setRobotList=function(){var t=this,e=this.robotList.list.getFocusId()[0];r.default.instance.model.getRobotList(this.robotList.pageId,10,function(o,n){var i=n.map(function(t){return t[1]});for(t.robotList.list.open(),t.robotList.list.setData(i);t.robotList.list.getFocusId()[0]<e;)t.robotList.list.onNextClick();t.setRobotEquipList()})},e.prototype.setRobotEquipList=function(){var t=this.robotList.list.getFocus().robotState.weapons.slice();t.push({title:"\u65b0\u589e",powerCost:""}),this.robotEquipList.list.close(),this.robotEquipList.list.open(),this.robotEquipList.list.setData(t)},__decorate([s(i.default)],e.prototype,"titleMenu",void 0),__decorate([s(a.default)],e.prototype,"componentList",void 0),__decorate([s(a.default)],e.prototype,"robotList",void 0),__decorate([s(a.default)],e.prototype,"robotEquipList",void 0),e=__decorate([p],e)}(n.default);o.default=u,cc._RF.pop()},{"../../BasicViewer":"BasicViewer","../../ListPageController":"ListPageController","../../MenuButtons":"MenuButtons","../../ViewController":"ViewController"}],WeaponStoreBuyState:[function(t,e,o){"use strict";cc._RF.push(e,"f4e29iac31OyKJMYQeGb5BQ","WeaponStoreBuyState"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../DefaultState"),i=cc._decorator,r=i.ccclass,a=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onPrevClick=function(t){},e.prototype.onNextClick=function(t){},e.prototype.onLeftClick=function(t){t.onWeaponStoreBuyLeftClick()},e.prototype.onRightClick=function(t){t.onWeaponStoreBuyRightClick()},e.prototype.onEnterClick=function(t){t.onWeaponStoreBuyEnterClick()},e.prototype.onEscClick=function(t){t.onWeaponStoreBuyEscClick()},e=__decorate([r],e)}(n.default));o.default=a,cc._RF.pop()},{"../../DefaultState":"DefaultState"}],WeaponStoreState:[function(t,e,o){"use strict";cc._RF.push(e,"fe564j9pIVMHpkYI/tjD1DQ","WeaponStoreState"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../DefaultState"),i=cc._decorator,r=i.ccclass,a=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onPrevClick=function(t){t.onWeaponStoreUpClick()},e.prototype.onNextClick=function(t){t.onWeaponStoreDownClick()},e.prototype.onLeftClick=function(t){t.onWeaponStoreLeftClick()},e.prototype.onRightClick=function(t){t.onWeaponStoreRightClick()},e.prototype.onEnterClick=function(t){t.onWeaponStoreEnterClick()},e.prototype.onEscClick=function(t){t.onWeaponStoreEscClick()},e=__decorate([r],e)}(n.default));o.default=a,cc._RF.pop()},{"../../DefaultState":"DefaultState"}],WeaponStore:[function(t,e,o){"use strict";cc._RF.push(e,"0a6cbytLj5JDZ4Z/RzCMrxM","WeaponStore"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../ViewController"),i=t("../../StoreListPanel"),r=cc._decorator,a=r.ccclass,c=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.updateItem=function(t,e){t.setLabel(e.detail.title),t.money.string=e.detail.cost},e.prototype.getData=function(t,e){n.default.instance.model.getWeaponStoreList(t,10,function(t,o){var n=o.map(function(t){return{key:t[0],detail:t[1]}});e(t,n)})},e=__decorate([a],e)}(i.default));o.default=c,cc._RF.pop()},{"../../StoreListPanel":"StoreListPanel","../../ViewController":"ViewController"}],"use_v2.1-2.2.1_cc.Toggle_event":[function(t,e,o){"use strict";cc._RF.push(e,"fac5fGs1ZRL3KgPqTxYP+k/","use_v2.1-2.2.1_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_isChecked=!0),cc._RF.pop()},{}]},{},["ModelController","AnimationEndCallback","AnimationLoop","AudioController","BasicViewer","CommentUI","ComponentDetailOnStoreState","ComponentDetailPanel","PilotDetailOnStoreState","PilotDetailPanel","PopPanel","RobotDetailOnStoreState","RobotDetailPanel","WeaponDetailOnStoreState","WeaponDetailPanel","DefaultState","AccuracyInfo","EffectLayer","Effects","FightInfo","FightMenu","GamePage","Grid","LandMap","LandStatuInfo","LandUnits","PilotStatuInfo","RobotSelectListItem","RobotSelectPanel","SmallMap","TextEffect","TurnStart","UVReset","Unit","UnitSampleInfo","UnitStatuInfo","UnitStatuMenu","WeaponMenu","WeaponMenuItem","IState","ImagesAssets","InputSensor","ListPageController","ComponentSetting","ComponentSettingComponentState","ComponentSettingRobotEquipState","ComponentSettingRobotState","ComponentListItem","ComponentStore","ComponentStoreBuyState","ComponentStoreState","LobbyPage","PilotSetting","PilotSettingComponentState","PilotSettingRobotEquipState","PilotSettingRobotState","PilotListItem","PilotStore","PilotStoreBuyState","PilotStoreState","PrepareMenu","PrepareMenuState","RobotListItem","RobotStore","RobotStoreBuyState","RobotStoreState","WeaponSetting","WeaponSettingComponentState","WeaponSettingRobotEquipState","WeaponSettingRobotState","WeaponListItem","WeaponStore","WeaponStoreBuyState","WeaponStoreState","MainMenu","MainMenuState","MainPage","QuestMenu","QuestMenuState","MenuButton","MenuButtons","MenuCursor","Model","Pool","ShowItem","StateController","StoreListPanel","View","ViewController","use_v2.1-2.2.1_cc.Toggle_event"]);